const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/index.es-DMCTSbf4.js","static/js/index-BRGAo0kf.js","static/css/index-Bw1xn8Pf.css","static/js/UserOutlined-BZbMPuz2.js"])))=>i.map(i=>d[i]);
import{r as b,R as Ot,g as tp,j as Ie,b as Hv,e as Dr,a as Ko,f as ch,h as yx,i as Mc,k as md,l as qv,m as _x,t as Uv,n as bx,_ as vd,o as pf,p as gf,q as og,v as mf,w as xx,x as sg,y as Pc,z as wx,u as Cx,A as Sx,B as Ex,C as kx,D as lg}from"./index-BRGAo0kf.js";import{i as Lx,u as Gv,P as Vv,a as Tl,b as np,c as pu,d as Wv,e as Nx,r as Mx,D as Px,M as Ix,T as sa,f as hh,h as Ox,j as Ax,E as Tx,R as Kv,k as dh,l as Rx,s as Bx,m as Dx,n as $x,o as Fx,p as jx,q as ug,t as zx,v as Hx,w as qx,x as Ux,g as Gx,y as gu,z as Rh,B as Vx,F as Zv,G as Xv,S as ks,H as Yv,I as Wx,J as cg,K as hg,L as Jv,N as Kx,O as fh,Q as Zx,U as Xx,V as Yx,W as Jx,C as ph,X as Qx,A as e2}from"./index-H5GdlMf7.js";import{m as zi,r as Pi,u as Qe,n as vs,f as bt,q as Wo,s as Nl,v as Ps,w as Qv,x as rp,y as Bh,g as t2,h as dg,i as n2,a as ey,b as Dh,d as $h,z as Ba,A as En,D as Ti,c as bn,K as uc,E as ty,B as ii,F as ny,G as ip,_ as Wt,j as Lr,H as On,J as fg,L as _r,M as Fh,N as ap,O as Ja,P as ry,Q as iy,S as ba,T as mu,C as Jr,U as Zo,o as jh,V as ec,W as op,X as cc,Y as gh,Z as zh,$ as Su,a0 as r2,a1 as i2,a2,p as Xo,t as Rl,a3 as Ls,a4 as o2,a5 as ay,a6 as Ml,a7 as oy,a8 as Oo,a9 as sy,aa as hc,ab as ps,l as $a,e as Pt,ac as ol,ad as Eu,ae as Hh,af as ly,ag as s2,ah as qh,ai as ul,aj as rs,ak as na,al as l2,am as u2,an as yd,ao as uy,ap as cy,aq as c2,ar as sp,as as h2,at as d2,au as f2,av as p2,aw as g2,ax as m2,ay as v2,az as y2,aA as hy,aB as _2,aC as pg,aD as b2,aE as dy,aF as vu,aG as lp,aH as x2,aI as w2,aJ as C2,aK as S2,aL as fy,aM as Hs,aN as E2,aO as k2,aP as tc,aQ as L2,aR as Uh,aS as py,aT as gy,aU as N2,aV as M2,aW as P2,aX as vf,aY as I2,aZ as O2,a_ as gg,a$ as A2,b0 as T2,b1 as R2,b2 as B2,b3 as my,b4 as Gh,b5 as mg,b6 as D2,b7 as Ar,b8 as $2,b9 as Vh,ba as up,bb as F2,bc as j2,bd as z2,be as H2,bf as q2,bg as cp,bh as U2,bi as G2,bj as vy,bk as V2,bl as W2,bm as K2,bn as vg,bo as Z2,bp as X2,I as Wu,R as Y2}from"./UserOutlined-BZbMPuz2.js";import{R as hp,a as yy,b as dp,S as _a,d as J2,s as fs}from"./index-CpvZg2_y.js";const Ic=(e,t,n,r,i)=>({background:e,border:`${Qe(r.lineWidth)} ${r.lineType} ${t}`,[`${i}-icon`]:{color:n}}),Q2=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:i,fontSize:l,fontSizeLG:h,lineHeight:c,borderRadiusLG:g,motionEaseInOutCirc:v,withDescriptionIconSize:y,colorText:w,colorTextHeading:k,withDescriptionPadding:x,defaultPadding:N}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",display:"flex",alignItems:"center",padding:N,wordWrap:"break-word",borderRadius:g,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:l,lineHeight:c},"&-message":{color:k},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${v}, opacity ${n} ${v},
        padding-top ${n} ${v}, padding-bottom ${n} ${v},
        margin-bottom ${n} ${v}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:x,[`${t}-icon`]:{marginInlineEnd:i,fontSize:y,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:k,fontSize:h},[`${t}-description`]:{display:"block",color:w}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},ew=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:l,colorWarningBorder:h,colorWarningBg:c,colorError:g,colorErrorBorder:v,colorErrorBg:y,colorInfo:w,colorInfoBorder:k,colorInfoBg:x}=e;return{[t]:{"&-success":Ic(i,r,n,e,t),"&-info":Ic(x,k,w,e,t),"&-warning":Ic(c,h,l,e,t),"&-error":Object.assign(Object.assign({},Ic(y,v,g,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},tw=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:i,fontSizeIcon:l,colorIcon:h,colorIconHover:c}=e;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:l,lineHeight:Qe(l),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:h,transition:`color ${r}`,"&:hover":{color:c}}},"&-close-text":{color:h,transition:`color ${r}`,"&:hover":{color:c}}}}},nw=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),rw=zi("Alert",e=>[Q2(e),ew(e),tw(e)],nw);var yg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const iw={success:dp,info:yy,error:rp,warning:hp},aw=e=>{const{icon:t,prefixCls:n,type:r}=e,i=iw[r]||null;return t?Qv(t,b.createElement("span",{className:`${n}-icon`},t),()=>({className:bt(`${n}-icon`,t.props.className)})):b.createElement(i,{className:`${n}-icon`})},ow=e=>{const{isClosable:t,prefixCls:n,closeIcon:r,handleClose:i,ariaProps:l}=e,h=r===!0||r===void 0?b.createElement(Bh,null):r;return t?b.createElement("button",Object.assign({type:"button",onClick:i,className:`${n}-close-icon`,tabIndex:0},l),h):null},_y=b.forwardRef((e,t)=>{const{description:n,prefixCls:r,message:i,banner:l,className:h,rootClassName:c,style:g,onMouseEnter:v,onMouseLeave:y,onClick:w,afterClose:k,showIcon:x,closable:N,closeText:T,closeIcon:I,action:O,id:D}=e,R=yg(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[$,G]=b.useState(!1),ee=b.useRef(null);b.useImperativeHandle(t,()=>({nativeElement:ee.current}));const{getPrefixCls:te,direction:J,closable:H,closeIcon:oe,className:q,style:Z}=vs("alert"),X=te("alert",r),[U,Q,ae]=rw(X),ue=we=>{var Le;G(!0),(Le=e.onClose)===null||Le===void 0||Le.call(e,we)},le=b.useMemo(()=>e.type!==void 0?e.type:l?"warning":"info",[e.type,l]),be=b.useMemo(()=>typeof N=="object"&&N.closeIcon||T?!0:typeof N=="boolean"?N:I!==!1&&I!==null&&I!==void 0?!0:!!H,[T,I,N,H]),ke=l&&x===void 0?!0:x,Te=bt(X,`${X}-${le}`,{[`${X}-with-description`]:!!n,[`${X}-no-icon`]:!ke,[`${X}-banner`]:!!l,[`${X}-rtl`]:J==="rtl"},q,h,c,ae,Q),ne=Wo(R,{aria:!0,data:!0}),ce=b.useMemo(()=>typeof N=="object"&&N.closeIcon?N.closeIcon:T||(I!==void 0?I:typeof H=="object"&&H.closeIcon?H.closeIcon:oe),[I,N,T,oe]),me=b.useMemo(()=>{const we=N??H;if(typeof we=="object"){const{closeIcon:Le}=we;return yg(we,["closeIcon"])}return{}},[N,H]);return U(b.createElement(Nl,{visible:!$,motionName:`${X}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:we=>({maxHeight:we.offsetHeight}),onLeaveEnd:k},({className:we,style:Le},Be)=>b.createElement("div",Object.assign({id:D,ref:Ps(ee,Be),"data-show":!$,className:bt(Te,we),style:Object.assign(Object.assign(Object.assign({},Z),g),Le),onMouseEnter:v,onMouseLeave:y,onClick:w,role:"alert"},ne),ke?b.createElement(aw,{description:n,icon:e.icon,prefixCls:X,type:le}):null,b.createElement("div",{className:`${X}-content`},i?b.createElement("div",{className:`${X}-message`},i):null,n?b.createElement("div",{className:`${X}-description`},n):null),O?b.createElement("div",{className:`${X}-action`},O):null,b.createElement(ow,{isClosable:be,prefixCls:X,closeIcon:ce,handleClose:ue,ariaProps:me}))))});function sw(e,t,n){return t=dg(t),t2(e,n2()?Reflect.construct(t,n||[],dg(e).constructor):t.apply(e,n))}let lw=(function(e){function t(){var n;return $h(this,t),n=sw(this,t,arguments),n.state={error:void 0,info:{componentStack:""}},n}return ey(t,e),Dh(t,[{key:"componentDidCatch",value:function(r,i){this.setState({error:r,info:i})}},{key:"render",value:function(){const{message:r,description:i,id:l,children:h}=this.props,{error:c,info:g}=this.state,v=g?.componentStack||null,y=typeof r>"u"?(c||"").toString():r,w=typeof i>"u"?v:i;return c?b.createElement(_y,{id:l,type:"error",message:y,description:b.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},w)}):h}}])})(b.Component);const ou=_y;ou.ErrorBoundary=lw;const _g=e=>typeof e=="object"&&e!=null&&e.nodeType===1,bg=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Oc=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return bg(n.overflowY,t)||bg(n.overflowX,t)||(r=>{const i=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},Ac=(e,t,n,r,i,l,h,c)=>l<e&&h>t||l>e&&h<t?0:l<=e&&c<=n||h>=t&&c>=n?l-e-r:h>t&&c<n||l<e&&c>n?h-t+i:0,uw=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},xg=(e,t)=>{var n,r,i,l;if(typeof document>"u")return[];const{scrollMode:h,block:c,inline:g,boundary:v,skipOverflowHiddenElements:y}=t,w=typeof v=="function"?v:ae=>ae!==v;if(!_g(e))throw new TypeError("Invalid target");const k=document.scrollingElement||document.documentElement,x=[];let N=e;for(;_g(N)&&w(N);){if(N=uw(N),N===k){x.push(N);break}N!=null&&N===document.body&&Oc(N)&&!Oc(document.documentElement)||N!=null&&Oc(N,y)&&x.push(N)}const T=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,I=(l=(i=window.visualViewport)==null?void 0:i.height)!=null?l:innerHeight,{scrollX:O,scrollY:D}=window,{height:R,width:$,top:G,right:ee,bottom:te,left:J}=e.getBoundingClientRect(),{top:H,right:oe,bottom:q,left:Z}=(ae=>{const ue=window.getComputedStyle(ae);return{top:parseFloat(ue.scrollMarginTop)||0,right:parseFloat(ue.scrollMarginRight)||0,bottom:parseFloat(ue.scrollMarginBottom)||0,left:parseFloat(ue.scrollMarginLeft)||0}})(e);let X=c==="start"||c==="nearest"?G-H:c==="end"?te+q:G+R/2-H+q,U=g==="center"?J+$/2-Z+oe:g==="end"?ee+oe:J-Z;const Q=[];for(let ae=0;ae<x.length;ae++){const ue=x[ae],{height:le,width:be,top:ke,right:Te,bottom:ne,left:ce}=ue.getBoundingClientRect();if(h==="if-needed"&&G>=0&&J>=0&&te<=I&&ee<=T&&(ue===k&&!Oc(ue)||G>=ke&&te<=ne&&J>=ce&&ee<=Te))return Q;const me=getComputedStyle(ue),we=parseInt(me.borderLeftWidth,10),Le=parseInt(me.borderTopWidth,10),Be=parseInt(me.borderRightWidth,10),he=parseInt(me.borderBottomWidth,10);let qe=0,We=0;const Fe="offsetWidth"in ue?ue.offsetWidth-ue.clientWidth-we-Be:0,de="offsetHeight"in ue?ue.offsetHeight-ue.clientHeight-Le-he:0,it="offsetWidth"in ue?ue.offsetWidth===0?0:be/ue.offsetWidth:0,ft="offsetHeight"in ue?ue.offsetHeight===0?0:le/ue.offsetHeight:0;if(k===ue)qe=c==="start"?X:c==="end"?X-I:c==="nearest"?Ac(D,D+I,I,Le,he,D+X,D+X+R,R):X-I/2,We=g==="start"?U:g==="center"?U-T/2:g==="end"?U-T:Ac(O,O+T,T,we,Be,O+U,O+U+$,$),qe=Math.max(0,qe+D),We=Math.max(0,We+O);else{qe=c==="start"?X-ke-Le:c==="end"?X-ne+he+de:c==="nearest"?Ac(ke,ne,le,Le,he+de,X,X+R,R):X-(ke+le/2)+de/2,We=g==="start"?U-ce-we:g==="center"?U-(ce+be/2)+Fe/2:g==="end"?U-Te+Be+Fe:Ac(ce,Te,be,we,Be+Fe,U,U+$,$);const{scrollLeft:fe,scrollTop:tt}=ue;qe=ft===0?0:Math.max(0,Math.min(tt+qe/ft,ue.scrollHeight-le/ft+de)),We=it===0?0:Math.max(0,Math.min(fe+We/it,ue.scrollWidth-be/it+Fe)),X+=tt-qe,U+=fe-We}Q.push({el:ue,top:qe,left:We})}return Q},cw=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function hw(e,t){if(!e.isConnected||!(i=>{let l=i;for(;l&&l.parentNode;){if(l.parentNode===document)return!0;l=l.parentNode instanceof ShadowRoot?l.parentNode.host:l.parentNode}return!1})(e))return;const n=(i=>{const l=window.getComputedStyle(i);return{top:parseFloat(l.scrollMarginTop)||0,right:parseFloat(l.scrollMarginRight)||0,bottom:parseFloat(l.scrollMarginBottom)||0,left:parseFloat(l.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(xg(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:l,left:h}of xg(e,cw(t))){const c=l-n.top+n.bottom,g=h-n.left+n.right;i.scroll({top:c,left:g,behavior:r})}}function yf(e){return e!=null&&e===e.window}const dw=e=>{var t,n;if(typeof window>"u")return 0;let r=0;return yf(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!yf(e)&&typeof r!="number"&&(r=(n=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function fw(e,t,n,r){const i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function pw(e,t={}){const{getContainer:n=()=>window,callback:r,duration:i=450}=t,l=n(),h=dw(l),c=Date.now(),g=()=>{const y=Date.now()-c,w=fw(y>i?i:y,h,e,i);yf(l)?l.scrollTo(window.pageXOffset,w):l instanceof Document||l.constructor.name==="HTMLDocument"?l.documentElement.scrollTop=w:l.scrollTop=w,y<i?Ba(g):typeof r=="function"&&r()};Ba(g)}function gw(){const[e,t]=b.useState([]),n=b.useCallback(r=>(t(i=>[].concat(En(i),[r])),()=>{t(i=>i.filter(l=>l!==r))}),[]);return[e,n]}var mw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},vw=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:mw}))},nc=b.forwardRef(vw);const fp=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),yw=new uc("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),_w=new uc("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),bw=(e,t=!1)=>{const{antCls:n}=e,r=`${n}-fade`,i=t?"&":"";return[Lx(r,yw,_w,e.motionDurationMid,t),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},_d=e=>typeof e?.then=="function",by=e=>{const{type:t,children:n,prefixCls:r,buttonProps:i,close:l,autoFocus:h,emitEvent:c,isSilent:g,quitOnNullishReturnValue:v,actionFn:y}=e,w=b.useRef(!1),k=b.useRef(null),[x,N]=ty(!1),T=(...D)=>{l?.apply(void 0,D)};b.useEffect(()=>{let D=null;return h&&(D=setTimeout(()=>{var R;(R=k.current)===null||R===void 0||R.focus({preventScroll:!0})})),()=>{D&&clearTimeout(D)}},[]);const I=D=>{_d(D)&&(N(!0),D.then((...R)=>{N(!1,!0),T.apply(void 0,R),w.current=!1},R=>{if(N(!1,!0),w.current=!1,!g?.())return Promise.reject(R)}))},O=D=>{if(w.current)return;if(w.current=!0,!y){T();return}let R;if(c){if(R=y(D),v&&!_d(R)){w.current=!1,T(D);return}}else if(y.length)R=y(l),w.current=!1;else if(R=y(),!_d(R)){T();return}I(R)};return b.createElement(ii,Object.assign({},ny(t),{onClick:O,loading:x,prefixCls:r},i,{ref:k}),n)},dc=Ot.createContext({}),{Provider:xy}=dc,wg=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:l,close:h,onCancel:c,onConfirm:g}=b.useContext(dc);return i?Ot.createElement(by,{isSilent:r,actionFn:c,close:(...v)=>{h?.apply(void 0,v),g?.(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${l}-btn`},n):null},Cg=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:l,okType:h,onConfirm:c,onOk:g}=b.useContext(dc);return Ot.createElement(by,{isSilent:n,type:h||"primary",actionFn:g,close:(...v)=>{t?.apply(void 0,v),c?.(!0)},autoFocus:e==="ok",buttonProps:r,prefixCls:`${i}-btn`},l)};var wy=b.createContext({});function Sg(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function Eg(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function xw(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=Eg(i),n.top+=Eg(i,!0),n}const ww=b.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var Cw={width:0,height:0,overflow:"hidden",outline:"none"},Sw={outline:"none"},Cy=Ot.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,l=e.title,h=e.ariaId,c=e.footer,g=e.closable,v=e.closeIcon,y=e.onClose,w=e.children,k=e.bodyStyle,x=e.bodyProps,N=e.modalRender,T=e.onMouseDown,I=e.onMouseUp,O=e.holderRef,D=e.visible,R=e.forceRender,$=e.width,G=e.height,ee=e.classNames,te=e.styles,J=Ot.useContext(wy),H=J.panel,oe=ip(O,H),q=b.useRef(),Z=b.useRef();Ot.useImperativeHandle(t,function(){return{focus:function(){var ne;(ne=q.current)===null||ne===void 0||ne.focus({preventScroll:!0})},changeActive:function(ne){var ce=document,me=ce.activeElement;ne&&me===Z.current?q.current.focus({preventScroll:!0}):!ne&&me===q.current&&Z.current.focus({preventScroll:!0})}}});var X={};$!==void 0&&(X.width=$),G!==void 0&&(X.height=G);var U=c?Ot.createElement("div",{className:bt("".concat(n,"-footer"),ee?.footer),style:Wt({},te?.footer)},c):null,Q=l?Ot.createElement("div",{className:bt("".concat(n,"-header"),ee?.header),style:Wt({},te?.header)},Ot.createElement("div",{className:"".concat(n,"-title"),id:h},l)):null,ae=b.useMemo(function(){return Lr(g)==="object"&&g!==null?g:g?{closeIcon:v??Ot.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[g,v,n]),ue=Wo(ae,!0),le=Lr(g)==="object"&&g.disabled,be=g?Ot.createElement("button",bn({type:"button",onClick:y,"aria-label":"Close"},ue,{className:"".concat(n,"-close"),disabled:le}),ae.closeIcon):null,ke=Ot.createElement("div",{className:bt("".concat(n,"-content"),ee?.content),style:te?.content},be,Q,Ot.createElement("div",bn({className:bt("".concat(n,"-body"),ee?.body),style:Wt(Wt({},k),te?.body)},x),w),U);return Ot.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":l?h:null,"aria-modal":"true",ref:oe,style:Wt(Wt({},i),X),className:bt(n,r),onMouseDown:T,onMouseUp:I},Ot.createElement("div",{ref:q,tabIndex:0,style:Sw},Ot.createElement(ww,{shouldUpdate:D||R},N?N(ke):ke)),Ot.createElement("div",{tabIndex:0,ref:Z,style:Cw}))}),Sy=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,i=e.style,l=e.className,h=e.visible,c=e.forceRender,g=e.destroyOnClose,v=e.motionName,y=e.ariaId,w=e.onVisibleChanged,k=e.mousePosition,x=b.useRef(),N=b.useState(),T=On(N,2),I=T[0],O=T[1],D={};I&&(D.transformOrigin=I);function R(){var $=xw(x.current);O(k&&(k.x||k.y)?"".concat(k.x-$.left,"px ").concat(k.y-$.top,"px"):"")}return b.createElement(Nl,{visible:h,onVisibleChanged:w,onAppearPrepare:R,onEnterPrepare:R,forceRender:c,motionName:v,removeOnLeave:g,ref:x},function($,G){var ee=$.className,te=$.style;return b.createElement(Cy,bn({},e,{ref:t,title:r,ariaId:y,prefixCls:n,holderRef:G,style:Wt(Wt(Wt({},te),i),D),className:bt(l,ee)}))})});Sy.displayName="Content";var Ew=function(t){var n=t.prefixCls,r=t.style,i=t.visible,l=t.maskProps,h=t.motionName,c=t.className;return b.createElement(Nl,{key:"mask",visible:i,motionName:h,leavedClassName:"".concat(n,"-mask-hidden")},function(g,v){var y=g.className,w=g.style;return b.createElement("div",bn({ref:v,style:Wt(Wt({},w),r),className:bt("".concat(n,"-mask"),y,c)},l))})},kw=function(t){var n=t.prefixCls,r=n===void 0?"rc-dialog":n,i=t.zIndex,l=t.visible,h=l===void 0?!1:l,c=t.keyboard,g=c===void 0?!0:c,v=t.focusTriggerAfterClose,y=v===void 0?!0:v,w=t.wrapStyle,k=t.wrapClassName,x=t.wrapProps,N=t.onClose,T=t.afterOpenChange,I=t.afterClose,O=t.transitionName,D=t.animation,R=t.closable,$=R===void 0?!0:R,G=t.mask,ee=G===void 0?!0:G,te=t.maskTransitionName,J=t.maskAnimation,H=t.maskClosable,oe=H===void 0?!0:H,q=t.maskStyle,Z=t.maskProps,X=t.rootClassName,U=t.classNames,Q=t.styles,ae=b.useRef(),ue=b.useRef(),le=b.useRef(),be=b.useState(h),ke=On(be,2),Te=ke[0],ne=ke[1],ce=Gv();function me(){fg(ue.current,document.activeElement)||(ae.current=document.activeElement)}function we(){if(!fg(ue.current,document.activeElement)){var fe;(fe=le.current)===null||fe===void 0||fe.focus()}}function Le(fe){if(fe)we();else{if(ne(!1),ee&&ae.current&&y){try{ae.current.focus({preventScroll:!0})}catch{}ae.current=null}Te&&I?.()}T?.(fe)}function Be(fe){N?.(fe)}var he=b.useRef(!1),qe=b.useRef(),We=function(){clearTimeout(qe.current),he.current=!0},Fe=function(){qe.current=setTimeout(function(){he.current=!1})},de=null;oe&&(de=function(tt){he.current?he.current=!1:ue.current===tt.target&&Be(tt)});function it(fe){if(g&&fe.keyCode===_r.ESC){fe.stopPropagation(),Be(fe);return}h&&fe.keyCode===_r.TAB&&le.current.changeActive(!fe.shiftKey)}b.useEffect(function(){h&&(ne(!0),me())},[h]),b.useEffect(function(){return function(){clearTimeout(qe.current)}},[]);var ft=Wt(Wt(Wt({zIndex:i},w),Q?.wrapper),{},{display:Te?null:"none"});return b.createElement("div",bn({className:bt("".concat(r,"-root"),X)},Wo(t,{data:!0})),b.createElement(Ew,{prefixCls:r,visible:ee&&h,motionName:Sg(r,te,J),style:Wt(Wt({zIndex:i},q),Q?.mask),maskProps:Z,className:U?.mask}),b.createElement("div",bn({tabIndex:-1,onKeyDown:it,className:bt("".concat(r,"-wrap"),k,U?.wrapper),ref:ue,onClick:de,style:ft},x),b.createElement(Sy,bn({},t,{onMouseDown:We,onMouseUp:Fe,ref:le,closable:$,ariaId:ce,prefixCls:r,visible:h&&Te,onClose:Be,onVisibleChanged:Le,motionName:Sg(r,O,D)}))))},Ey=function(t){var n=t.visible,r=t.getContainer,i=t.forceRender,l=t.destroyOnClose,h=l===void 0?!1:l,c=t.afterClose,g=t.panelRef,v=b.useState(n),y=On(v,2),w=y[0],k=y[1],x=b.useMemo(function(){return{panel:g}},[g]);return b.useEffect(function(){n&&k(!0)},[n]),!i&&h&&!w?null:b.createElement(wy.Provider,{value:x},b.createElement(Vv,{open:n||i||w,autoDestroy:!1,getContainer:r,autoLock:n||w},b.createElement(kw,bn({},t,{destroyOnClose:h,afterClose:function(){c?.(),k(!1)}}))))};Ey.displayName="Dialog";function rc(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(r=>{n[r]!==void 0&&(t[r]=n[r])})}),t}function yu(e){if(!e)return;const{closable:t,closeIcon:n}=e;return{closable:t,closeIcon:n}}function kg(e){const{closable:t,closeIcon:n}=e||{};return Ot.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(r=Object.assign(Object.assign({},r),t)),r},[t,n])}const Lw={};function pp(e,t,n=Lw){const r=kg(e),i=kg(t),[l]=Tl("global",Fh.global),h=typeof r!="boolean"?!!r?.disabled:!1,c=Ot.useMemo(()=>Object.assign({closeIcon:Ot.createElement(Bh,null)},n),[n]),g=Ot.useMemo(()=>r===!1?!1:r?rc(c,i,r):i===!1?!1:i?rc(c,i):c.closable?c:!1,[r,i,c]);return Ot.useMemo(()=>{var v,y;if(g===!1)return[!1,null,h,{}];const{closeIconRender:w}=c,{closeIcon:k}=g;let x=k;const N=Wo(g,!0);return x!=null&&(w&&(x=w(k)),x=Ot.isValidElement(x)?Ot.cloneElement(x,Object.assign(Object.assign(Object.assign({},x.props),{"aria-label":(y=(v=x.props)===null||v===void 0?void 0:v["aria-label"])!==null&&y!==void 0?y:l.close}),N)):Ot.createElement("span",Object.assign({"aria-label":l.close},N),x)),[!0,x,h,N]},[g,c])}var ky=function(t){if(ap()&&window.document.documentElement){var n=Array.isArray(t)?t:[t],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},Nw=function(t,n){if(!ky(t))return!1;var r=document.createElement("div"),i=r.style[t];return r.style[t]=n,r.style[t]!==i};function _f(e,t){return!Array.isArray(e)&&t!==void 0?Nw(e,t):ky(e)}const Mw=()=>ap()&&window.document.documentElement;function Lg(){}const Pw=b.createContext({add:Lg,remove:Lg});function Ly(e){const t=b.useContext(Pw),n=b.useRef(null);return Ja(i=>{if(i){const l=e?i.querySelector(e):i;t.add(l),n.current=l}else t.remove(n.current)})}const Ng=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=b.useContext(dc);return Ot.createElement(ii,Object.assign({onClick:n},e),t)},Mg=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:i}=b.useContext(dc);return Ot.createElement(ii,Object.assign({},ny(n),{loading:e,onClick:i},t),r)};function Ny(e,t){return Ot.createElement("span",{className:`${e}-close-x`},t||Ot.createElement(Bh,{className:`${e}-close-icon`}))}const My=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:i,onOk:l,onCancel:h,okButtonProps:c,cancelButtonProps:g,footer:v}=e,[y]=Tl("Modal",iy()),w=t||y?.okText,k=r||y?.cancelText,x={confirmLoading:i,okButtonProps:c,cancelButtonProps:g,okTextLocale:w,cancelTextLocale:k,okType:n,onOk:l,onCancel:h},N=Ot.useMemo(()=>x,En(Object.values(x)));let T;return typeof v=="function"||typeof v>"u"?(T=Ot.createElement(Ot.Fragment,null,Ot.createElement(Ng,null),Ot.createElement(Mg,null)),typeof v=="function"&&(T=v(T,{OkBtn:Mg,CancelBtn:Ng})),T=Ot.createElement(xy,{value:N},T)):T=v,Ot.createElement(ry,{disabled:!1},T)},Iw=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Ow=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},Aw=(e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,l={};for(let h=i;h>=0;h--)h===0?(l[`${r}${t}-${h}`]={display:"none"},l[`${r}-push-${h}`]={insetInlineStart:"auto"},l[`${r}-pull-${h}`]={insetInlineEnd:"auto"},l[`${r}${t}-push-${h}`]={insetInlineStart:"auto"},l[`${r}${t}-pull-${h}`]={insetInlineEnd:"auto"},l[`${r}${t}-offset-${h}`]={marginInlineStart:0},l[`${r}${t}-order-${h}`]={order:0}):(l[`${r}${t}-${h}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${h/i*100}%`,maxWidth:`${h/i*100}%`}],l[`${r}${t}-push-${h}`]={insetInlineStart:`${h/i*100}%`},l[`${r}${t}-pull-${h}`]={insetInlineEnd:`${h/i*100}%`},l[`${r}${t}-offset-${h}`]={marginInlineStart:`${h/i*100}%`},l[`${r}${t}-order-${h}`]={order:h});return l[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},l},bf=(e,t)=>Aw(e,t),Tw=(e,t,n)=>({[`@media (min-width: ${Qe(t)})`]:Object.assign({},bf(e,n))}),Rw=()=>({}),Bw=()=>({}),Dw=zi("Grid",Iw,Rw),Py=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),$w=zi("Grid",e=>{const t=ba(e,{gridColumns:24}),n=Py(t);return delete n.xs,[Ow(t),bf(t,""),bf(t,"-xs"),Object.keys(n).map(r=>Tw(t,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},Bw);function Pg(e){return{position:e,inset:0}}const Fw=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Pg("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Pg("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:bw(e)}]},jw=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${Qe(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},Pi(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Qe(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:Qe(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},mu(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${Qe(e.borderRadiusLG)} ${Qe(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Qe(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},zw=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Hw=e=>{const{componentCls:t}=e,n=Py(e),r=Object.assign({},n);delete r.xs;const i=`--${t.replace(".","")}-`,l=Object.keys(r).map(h=>({[`@media (min-width: ${Qe(r[h])})`]:{width:`var(${i}${h}-width)`}}));return{[`${t}-root`]:{[t]:[].concat(En(Object.keys(n).map((h,c)=>{const g=Object.keys(n)[c-1];return g?{[`${i}${h}-width`]:`var(${i}${g}-width)`}:null})),[{width:`var(${i}xs-width)`}],En(l))}}},Iy=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return ba(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Oy=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${Qe(e.paddingMD)} ${Qe(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${Qe(e.padding)} ${Qe(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${Qe(e.paddingXS)} ${Qe(e.padding)}`:0,footerBorderTop:e.wireframe?`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${Qe(e.borderRadiusLG)} ${Qe(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${Qe(e.padding*2)} ${Qe(e.padding*2)} ${Qe(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Ay=zi("Modal",e=>{const t=Iy(e);return[jw(t),zw(t),Fw(t),np(t,"zoom"),Hw(t)]},Oy,{unitless:{titleLineHeight:!0}});var qw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let xf;const Uw=e=>{xf={x:e.pageX,y:e.pageY},setTimeout(()=>{xf=null},100)};Mw()&&document.documentElement.addEventListener("click",Uw,!0);const Ty=e=>{const{prefixCls:t,className:n,rootClassName:r,open:i,wrapClassName:l,centered:h,getContainer:c,focusTriggerAfterClose:g=!0,style:v,visible:y,width:w=520,footer:k,classNames:x,styles:N,children:T,loading:I,confirmLoading:O,zIndex:D,mousePosition:R,onOk:$,onCancel:G,destroyOnHidden:ee,destroyOnClose:te,panelRef:J=null}=e,H=qw(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef"]),{getPopupContainer:oe,getPrefixCls:q,direction:Z,modal:X}=b.useContext(Jr),U=fe=>{O||G?.(fe)},Q=fe=>{$?.(fe)},ae=q("modal",t),ue=q(),le=Zo(ae),[be,ke,Te]=Ay(ae,le),ne=bt(l,{[`${ae}-centered`]:h??X?.centered,[`${ae}-wrap-rtl`]:Z==="rtl"}),ce=k!==null&&!I?b.createElement(My,Object.assign({},e,{onOk:Q,onCancel:U})):null,[me,we,Le,Be]=pp(yu(e),yu(X),{closable:!0,closeIcon:b.createElement(Bh,{className:`${ae}-close-icon`}),closeIconRender:fe=>Ny(ae,fe)}),he=Ly(`.${ae}-content`),qe=Ps(J,he),[We,Fe]=jh("Modal",D),[de,it]=b.useMemo(()=>w&&typeof w=="object"?[void 0,w]:[w,void 0],[w]),ft=b.useMemo(()=>{const fe={};return it&&Object.keys(it).forEach(tt=>{const kt=it[tt];kt!==void 0&&(fe[`--${ae}-${tt}-width`]=typeof kt=="number"?`${kt}px`:kt)}),fe},[it]);return be(b.createElement(ec,{form:!0,space:!0},b.createElement(op.Provider,{value:Fe},b.createElement(Ey,Object.assign({width:de},H,{zIndex:We,getContainer:c===void 0?oe:c,prefixCls:ae,rootClassName:bt(ke,r,Te,le),footer:ce,visible:i??y,mousePosition:R??xf,onClose:U,closable:me&&Object.assign({disabled:Le,closeIcon:we},Be),closeIcon:we,focusTriggerAfterClose:g,transitionName:pu(ue,"zoom",e.transitionName),maskTransitionName:pu(ue,"fade",e.maskTransitionName),className:bt(ke,n,X?.className),style:Object.assign(Object.assign(Object.assign({},X?.style),v),ft),classNames:Object.assign(Object.assign(Object.assign({},X?.classNames),x),{wrapper:bt(ne,x?.wrapper)}),styles:Object.assign(Object.assign({},X?.styles),N),panelRef:qe,destroyOnClose:ee??te}),I?b.createElement(Wv,{active:!0,title:!1,paragraph:{rows:4},className:`${ae}-body-skeleton`}):T))))},Gw=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:l,lineHeight:h,modalTitleHeight:c,fontHeight:g,confirmBodyPadding:v}=e,y=`${t}-confirm`;return{[y]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${y}-body-wrapper`]:Object.assign({},gh()),[`&${t} ${t}-body`]:{padding:v},[`${y}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(g).sub(i).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(c).sub(i).equal()).div(2).equal()}},[`${y}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Qe(e.marginSM)})`},[`${e.iconCls} + ${y}-paragraph`]:{maxWidth:`calc(100% - ${Qe(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${y}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${y}-content`]:{color:e.colorText,fontSize:l,lineHeight:h},[`${y}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${y}-error ${y}-body > ${e.iconCls}`]:{color:e.colorError},[`${y}-warning ${y}-body > ${e.iconCls},
        ${y}-confirm ${y}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${y}-info ${y}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${y}-success ${y}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Vw=cc(["Modal","confirm"],e=>{const t=Iy(e);return Gw(t)},Oy,{order:-1e3});var Ww=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ry(e){const{prefixCls:t,icon:n,okText:r,cancelText:i,confirmPrefixCls:l,type:h,okCancel:c,footer:g,locale:v}=e,y=Ww(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let w=n;if(!n&&n!==null)switch(h){case"info":w=b.createElement(yy,null);break;case"success":w=b.createElement(dp,null);break;case"error":w=b.createElement(rp,null);break;default:w=b.createElement(hp,null)}const k=c??h==="confirm",x=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[N]=Tl("Modal"),T=v||N,I=r||(k?T?.okText:T?.justOkText),O=i||T?.cancelText,D=Object.assign({autoFocusButton:x,cancelTextLocale:O,okTextLocale:I,mergedOkCancel:k},y),R=b.useMemo(()=>D,En(Object.values(D))),$=b.createElement(b.Fragment,null,b.createElement(wg,null),b.createElement(Cg,null)),G=e.title!==void 0&&e.title!==null,ee=`${l}-body`;return b.createElement("div",{className:`${l}-body-wrapper`},b.createElement("div",{className:bt(ee,{[`${ee}-has-title`]:G})},w,b.createElement("div",{className:`${l}-paragraph`},G&&b.createElement("span",{className:`${l}-title`},e.title),b.createElement("div",{className:`${l}-content`},e.content))),g===void 0||typeof g=="function"?b.createElement(xy,{value:R},b.createElement("div",{className:`${l}-btns`},typeof g=="function"?g($,{OkBtn:Cg,CancelBtn:wg}):$)):g,b.createElement(Vw,{prefixCls:t}))}const Kw=e=>{const{close:t,zIndex:n,maskStyle:r,direction:i,prefixCls:l,wrapClassName:h,rootPrefixCls:c,bodyStyle:g,closable:v=!1,onConfirm:y,styles:w}=e,k=`${l}-confirm`,x=e.width||416,N=e.style||{},T=e.mask===void 0?!0:e.mask,I=e.maskClosable===void 0?!1:e.maskClosable,O=bt(k,`${k}-${e.type}`,{[`${k}-rtl`]:i==="rtl"},e.className),[,D]=Su(),R=b.useMemo(()=>n!==void 0?n:D.zIndexPopupBase+r2,[n,D]);return b.createElement(Ty,Object.assign({},e,{className:O,wrapClassName:bt({[`${k}-centered`]:!!e.centered},h),onCancel:()=>{t?.({triggerCancel:!0}),y?.(!1)},title:"",footer:null,transitionName:pu(c||"","zoom",e.transitionName),maskTransitionName:pu(c||"","fade",e.maskTransitionName),mask:T,maskClosable:I,style:N,styles:Object.assign({body:g,mask:r},w),width:x,zIndex:R,closable:v}),b.createElement(Ry,Object.assign({},e,{confirmPrefixCls:k})))},By=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:i}=e;return b.createElement(zh,{prefixCls:t,iconPrefixCls:n,direction:r,theme:i},b.createElement(Kw,Object.assign({},e)))},Sl=[];let Dy="";function $y(){return Dy}const Zw=e=>{var t,n;const{prefixCls:r,getContainer:i,direction:l}=e,h=iy(),c=b.useContext(Jr),g=$y()||c.getPrefixCls(),v=r||`${g}-modal`;let y=i;return y===!1&&(y=void 0),Ot.createElement(By,Object.assign({},e,{rootPrefixCls:g,prefixCls:v,iconPrefixCls:c.iconPrefixCls,theme:c.theme,direction:l??c.direction,locale:(n=(t=c.locale)===null||t===void 0?void 0:t.Modal)!==null&&n!==void 0?n:h,getContainer:y}))};function fc(e){const t=i2(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:g,open:!0}),i,l;function h(...y){var w;if(y.some(N=>N?.triggerCancel)){var x;(w=e.onCancel)===null||w===void 0||(x=w).call.apply(x,[e,()=>{}].concat(En(y.slice(1))))}for(let N=0;N<Sl.length;N++)if(Sl[N]===g){Sl.splice(N,1);break}l()}function c(y){clearTimeout(i),i=setTimeout(()=>{const w=t.getPrefixCls(void 0,$y()),k=t.getIconPrefixCls(),x=t.getTheme(),N=Ot.createElement(Zw,Object.assign({},y));l=a2()(Ot.createElement(zh,{prefixCls:w,iconPrefixCls:k,theme:x},t.holderRender?t.holderRender(N):N),n)})}function g(...y){r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),h.apply(this,y)}}),r.visible&&delete r.visible,c(r)}function v(y){typeof y=="function"?r=y(r):r=Object.assign(Object.assign({},r),y),c(r)}return c(r),Sl.push(g),{destroy:g,update:v}}function Fy(e){return Object.assign(Object.assign({},e),{type:"warning"})}function jy(e){return Object.assign(Object.assign({},e),{type:"info"})}function zy(e){return Object.assign(Object.assign({},e),{type:"success"})}function Hy(e){return Object.assign(Object.assign({},e),{type:"error"})}function qy(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Xw({rootPrefixCls:e}){Dy=e}var Yw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Jw=(e,t)=>{var n,{afterClose:r,config:i}=e,l=Yw(e,["afterClose","config"]);const[h,c]=b.useState(!0),[g,v]=b.useState(i),{direction:y,getPrefixCls:w}=b.useContext(Jr),k=w("modal"),x=w(),N=()=>{var D;r(),(D=g.afterClose)===null||D===void 0||D.call(g)},T=(...D)=>{var R;if(c(!1),D.some(ee=>ee?.triggerCancel)){var G;(R=g.onCancel)===null||R===void 0||(G=R).call.apply(G,[g,()=>{}].concat(En(D.slice(1))))}};b.useImperativeHandle(t,()=>({destroy:T,update:D=>{v(R=>{const $=typeof D=="function"?D(R):D;return Object.assign(Object.assign({},R),$)})}}));const I=(n=g.okCancel)!==null&&n!==void 0?n:g.type==="confirm",[O]=Tl("Modal",Fh.Modal);return b.createElement(By,Object.assign({prefixCls:k,rootPrefixCls:x},g,{close:T,open:h,afterClose:N,okText:g.okText||(I?O?.okText:O?.justOkText),direction:g.direction||y,cancelText:g.cancelText||O?.cancelText},l))},Qw=b.forwardRef(Jw);let Ig=0;const eC=b.memo(b.forwardRef((e,t)=>{const[n,r]=gw();return b.useImperativeHandle(t,()=>({patchElement:r}),[]),b.createElement(b.Fragment,null,n)}));function tC(){const e=b.useRef(null),[t,n]=b.useState([]);b.useEffect(()=>{t.length&&(En(t).forEach(h=>{h()}),n([]))},[t]);const r=b.useCallback(l=>function(c){var g;Ig+=1;const v=b.createRef();let y;const w=new Promise(I=>{y=I});let k=!1,x;const N=b.createElement(Qw,{key:`modal-${Ig}`,config:l(c),ref:v,afterClose:()=>{x?.()},isSilent:()=>k,onConfirm:I=>{y(I)}});return x=(g=e.current)===null||g===void 0?void 0:g.patchElement(N),x&&Sl.push(x),{destroy:()=>{function I(){var O;(O=v.current)===null||O===void 0||O.destroy()}v.current?I():n(O=>[].concat(En(O),[I]))},update:I=>{function O(){var D;(D=v.current)===null||D===void 0||D.update(I)}v.current?O():n(D=>[].concat(En(D),[O]))},then:I=>(k=!0,w.then(I))}},[]);return[b.useMemo(()=>({info:r(jy),success:r(zy),error:r(Hy),warning:r(Fy),confirm:r(qy)}),[]),b.createElement(eC,{key:"modal-holder",ref:e})]}var nC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},rC=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:nC}))},_u=b.forwardRef(rC);const iC=e=>typeof e!="object"&&typeof e!="function"||e===null;var aC={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},oC=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:aC}))},sC=b.forwardRef(oC);const Uy=b.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),lC=e=>{const{antCls:t,componentCls:n,colorText:r,footerBg:i,headerHeight:l,headerPadding:h,headerColor:c,footerPadding:g,fontSize:v,bodyBg:y,headerBg:w}=e;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:y,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:l,padding:h,color:c,lineHeight:Qe(l),background:w,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:g,color:r,fontSize:v,background:i},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},Gy=e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:r,colorText:i,controlHeightSM:l,marginXXS:h,colorTextLightSolid:c,colorBgContainer:g}=e,v=r*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${v}px`,headerColor:i,footerPadding:`${l}px ${v}px`,footerBg:t,siderBg:"#001529",triggerHeight:r+h*2,triggerBg:"#002140",triggerColor:c,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:g,lightTriggerBg:g,lightTriggerColor:i}},Vy=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],Wy=zi("Layout",lC,Gy,{deprecatedTokens:Vy}),uC=e=>{const{componentCls:t,siderBg:n,motionDurationMid:r,motionDurationSlow:i,antCls:l,triggerHeight:h,triggerColor:c,triggerBg:g,headerHeight:v,zeroTriggerWidth:y,zeroTriggerHeight:w,borderRadiusLG:k,lightSiderBg:x,lightTriggerColor:N,lightTriggerBg:T,bodyBg:I}=e;return{[t]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:h},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${l}-menu${l}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:h,color:c,lineHeight:Qe(h),textAlign:"center",background:g,cursor:"pointer",transition:`all ${r}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:v,insetInlineEnd:e.calc(y).mul(-1).equal(),zIndex:1,width:y,height:w,color:c,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${Qe(k)} ${Qe(k)} 0`,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(y).mul(-1).equal(),borderRadius:`${Qe(k)} 0 0 ${Qe(k)}`}},"&-light":{background:x,[`${t}-trigger`]:{color:N,background:T},[`${t}-zero-width-trigger`]:{color:N,background:T,border:`1px solid ${I}`,borderInlineStart:0}}}}},cC=zi(["Layout","Sider"],uC,Gy,{deprecatedTokens:Vy});var hC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Og={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},dC=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),Wh=b.createContext({}),fC=(()=>{let e=0;return(t="")=>(e+=1,`${t}${e}`)})(),Ky=b.forwardRef((e,t)=>{const{prefixCls:n,className:r,trigger:i,children:l,defaultCollapsed:h=!1,theme:c="dark",style:g={},collapsible:v=!1,reverseArrow:y=!1,width:w=200,collapsedWidth:k=80,zeroWidthTriggerStyle:x,breakpoint:N,onCollapse:T,onBreakpoint:I}=e,O=hC(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:D}=b.useContext(Uy),[R,$]=b.useState("collapsed"in e?e.collapsed:h),[G,ee]=b.useState(!1);b.useEffect(()=>{"collapsed"in e&&$(e.collapsed)},[e.collapsed]);const te=(he,qe)=>{"collapsed"in e||$(he),T?.(he,qe)},{getPrefixCls:J,direction:H}=b.useContext(Jr),oe=J("layout-sider",n),[q,Z,X]=cC(oe),U=b.useRef(null);U.current=he=>{ee(he.matches),I?.(he.matches),R!==he.matches&&te(he.matches,"responsive")},b.useEffect(()=>{function he(We){var Fe;return(Fe=U.current)===null||Fe===void 0?void 0:Fe.call(U,We)}let qe;return typeof window?.matchMedia<"u"&&N&&N in Og&&(qe=window.matchMedia(`screen and (max-width: ${Og[N]})`),Nx(qe,he),he(qe)),()=>{Mx(qe,he)}},[N]),b.useEffect(()=>{const he=fC("ant-sider-");return D.addSider(he),()=>D.removeSider(he)},[]);const Q=()=>{te(!R,"clickTrigger")},ae=Xo(O,["collapsed"]),ue=R?k:w,le=dC(ue)?`${ue}px`:String(ue),be=parseFloat(String(k||0))===0?b.createElement("span",{onClick:Q,className:bt(`${oe}-zero-width-trigger`,`${oe}-zero-width-trigger-${y?"right":"left"}`),style:x},i||b.createElement(sC,null)):null,ke=H==="rtl"==!y,ce={expanded:ke?b.createElement(nc,null):b.createElement(_u,null),collapsed:ke?b.createElement(_u,null):b.createElement(nc,null)}[R?"collapsed":"expanded"],me=i!==null?be||b.createElement("div",{className:`${oe}-trigger`,onClick:Q,style:{width:le}},i||ce):null,we=Object.assign(Object.assign({},g),{flex:`0 0 ${le}`,maxWidth:le,minWidth:le,width:le}),Le=bt(oe,`${oe}-${c}`,{[`${oe}-collapsed`]:!!R,[`${oe}-has-trigger`]:v&&i!==null&&!be,[`${oe}-below`]:!!G,[`${oe}-zero-width`]:parseFloat(le)===0},r,Z,X),Be=b.useMemo(()=>({siderCollapsed:R}),[R]);return q(b.createElement(Wh.Provider,{value:Be},b.createElement("aside",Object.assign({className:Le},ae,{style:we,ref:t}),b.createElement("div",{className:`${oe}-children`},l),v||G&&be?me:null)))}),mh=b.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var pC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Zy=e=>{const{prefixCls:t,className:n,dashed:r}=e,i=pC(e,["prefixCls","className","dashed"]),{getPrefixCls:l}=b.useContext(Jr),h=l("menu",t),c=bt({[`${h}-item-divider-dashed`]:!!r},n);return b.createElement(Px,Object.assign({className:c},i))},Xy=e=>{var t;const{className:n,children:r,icon:i,title:l,danger:h,extra:c}=e,{prefixCls:g,firstLevel:v,direction:y,disableMenuItemTitleTooltip:w,inlineCollapsed:k}=b.useContext(mh),x=R=>{const $=r?.[0],G=b.createElement("span",{className:bt(`${g}-title-content`,{[`${g}-title-content-with-extra`]:!!c||c===0})},r);return(!i||b.isValidElement(r)&&r.type==="span")&&r&&R&&v&&typeof $=="string"?b.createElement("div",{className:`${g}-inline-collapsed-noicon`},$.charAt(0)):G},{siderCollapsed:N}=b.useContext(Wh);let T=l;typeof l>"u"?T=v?r:"":l===!1&&(T="");const I={title:T};!N&&!k&&(I.title=null,I.open=!1);const O=Rl(r).length;let D=b.createElement(Ix,Object.assign({},Xo(e,["title","icon","danger"]),{className:bt({[`${g}-item-danger`]:h,[`${g}-item-only-child`]:(i?O+1:O)===1},n),title:typeof l=="string"?l:void 0}),Ls(i,{className:bt(b.isValidElement(i)?(t=i.props)===null||t===void 0?void 0:t.className:void 0,`${g}-item-icon`)}),x(k));return w||(D=b.createElement(sa,Object.assign({},I,{placement:y==="rtl"?"left":"right",classNames:{root:`${g}-inline-collapsed-tooltip`}}),D)),D};var gC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const vh=b.createContext(null),Yy=b.forwardRef((e,t)=>{const{children:n}=e,r=gC(e,["children"]),i=b.useContext(vh),l=b.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable,r.rootClassName]),h=o2(n),c=ip(t,h?ay(n):null);return b.createElement(vh.Provider,{value:l},b.createElement(ec,{space:!0},h?b.cloneElement(n,{ref:c}):n))}),mC=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:i,lineWidth:l,lineType:h,itemPaddingInline:c}=e;return{[`${t}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Qe(l)} ${h} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:c},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},vC=({componentCls:e,menuArrowOffset:t,calc:n})=>({[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Qe(n(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Qe(t)})`}}}}),Ag=e=>Ml(e),Tg=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:i,subMenuItemSelectedColor:l,groupTitleColor:h,itemBg:c,subMenuItemBg:g,itemSelectedBg:v,activeBarHeight:y,activeBarWidth:w,activeBarBorderWidth:k,motionDurationSlow:x,motionEaseInOut:N,motionEaseOut:T,itemPaddingInline:I,motionDurationMid:O,itemHoverColor:D,lineType:R,colorSplit:$,itemDisabledColor:G,dangerItemColor:ee,dangerItemHoverColor:te,dangerItemSelectedColor:J,dangerItemActiveBg:H,dangerItemSelectedBg:oe,popupBg:q,itemHoverBg:Z,itemActiveBg:X,menuSubMenuBg:U,horizontalItemSelectedColor:Q,horizontalItemSelectedBg:ae,horizontalItemBorderRadius:ue,horizontalItemHoverBg:le}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:r,background:c,[`&${n}-root:focus-visible`]:Object.assign({},Ag(e)),[`${n}-item`]:{"&-group-title, &-extra":{color:h}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:l},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},Ag(e))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${G} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:D}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:Z},"&:active":{backgroundColor:X}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:Z},"&:active":{backgroundColor:X}}},[`${n}-item-danger`]:{color:ee,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:te}},[`&${n}-item:active`]:{background:H}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:J},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:v,[`&${n}-item-danger`]:{backgroundColor:oe}},[`&${n}-submenu > ${n}`]:{backgroundColor:U},[`&${n}-popup > ${n}`]:{backgroundColor:q},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:q},[`&${n}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:k,marginTop:e.calc(k).mul(-1).equal(),marginBottom:0,borderRadius:ue,"&::after":{position:"absolute",insetInline:I,bottom:0,borderBottom:`${Qe(y)} solid transparent`,transition:`border-color ${x} ${N}`,content:'""'},"&:hover, &-active, &-open":{background:le,"&::after":{borderBottomWidth:y,borderBottomColor:Q}},"&-selected":{color:Q,backgroundColor:ae,"&:hover":{backgroundColor:ae},"&::after":{borderBottomWidth:y,borderBottomColor:Q}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${Qe(k)} ${R} ${$}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:g},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Qe(w)} solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${O} ${T}`,`opacity ${O} ${T}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:J}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${O} ${N}`,`opacity ${O} ${N}`].join(",")}}}}}},Rg=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:l,marginXS:h,itemMarginBlock:c,itemWidth:g,itemPaddingInline:v}=e,y=e.calc(l).add(i).add(h).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:Qe(n),paddingInline:v,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:c,width:g},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:Qe(n)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:y}}},yC=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:i,dropdownWidth:l,controlHeightLG:h,motionEaseOut:c,paddingXL:g,itemMarginInline:v,fontSizeLG:y,motionDurationFast:w,motionDurationSlow:k,paddingXS:x,boxShadowSecondary:N,collapsedWidth:T,collapsedIconSize:I}=e,O={height:r,lineHeight:Qe(r),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Rg(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Rg(e)),{boxShadow:N})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:l,maxHeight:`calc(100vh - ${Qe(e.calc(h).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${k}`,`background ${k}`,`padding ${w} ${c}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:O,[`& ${t}-item-group-title`]:{paddingInlineStart:g}},[`${t}-item`]:O}},{[`${t}-inline-collapsed`]:{width:T,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:y,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Qe(e.calc(I).div(2).equal())} - ${Qe(v)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:I,lineHeight:Qe(r),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:Object.assign(Object.assign({},oy),{paddingInline:x})}}]},Bg=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:i,motionEaseOut:l,iconCls:h,iconSize:c,iconMarginInlineEnd:g}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${i}`].join(","),[`${t}-item-icon, ${h}`]:{minWidth:c,fontSize:c,transition:[`font-size ${r} ${l}`,`margin ${n} ${i}`,`color ${n}`].join(","),"+ span":{marginInlineStart:g,opacity:1,transition:[`opacity ${n} ${i}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},sy()),[`&${t}-item-only-child`]:{[`> ${h}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Dg=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:l,menuArrowOffset:h}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:l,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(l).mul(.6).equal(),height:e.calc(l).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Qe(e.calc(h).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Qe(h)})`}}}}},_C=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:l,motionEaseInOut:h,paddingXS:c,padding:g,colorSplit:v,lineWidth:y,zIndexPopup:w,borderRadiusLG:k,subMenuItemBorderRadius:x,menuArrowSize:N,menuArrowOffset:T,lineType:I,groupTitleLineHeight:O,groupTitleFontSize:D}=e;return[{"":{[n]:Object.assign(Object.assign({},gh()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),gh()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${Qe(c)} ${Qe(g)}`,fontSize:D,lineHeight:O,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${h}`,`background ${i} ${h}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${h}`,`background ${i} ${h}`,`padding ${l} ${h}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${h}`,`padding ${i} ${h}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:v,borderStyle:I,borderWidth:0,borderTopWidth:y,marginBlock:y,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Bg(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${Qe(e.calc(r).mul(2).equal())} ${Qe(g)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:w,borderRadius:k,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:k},Bg(e)),Dg(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:x},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${h}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Dg(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Qe(T)})`},"&::after":{transform:`rotate(45deg) translateX(${Qe(e.calc(T).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${Qe(e.calc(N).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Qe(e.calc(T).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Qe(T)})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},bC=e=>{var t,n,r;const{colorPrimary:i,colorError:l,colorTextDisabled:h,colorErrorBg:c,colorText:g,colorTextDescription:v,colorBgContainer:y,colorFillAlter:w,colorFillContent:k,lineWidth:x,lineWidthBold:N,controlItemBgActive:T,colorBgTextHover:I,controlHeightLG:O,lineHeight:D,colorBgElevated:R,marginXXS:$,padding:G,fontSize:ee,controlHeightSM:te,fontSizeLG:J,colorTextLightSolid:H,colorErrorHover:oe}=e,q=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,Z=(n=e.activeBarBorderWidth)!==null&&n!==void 0?n:x,X=(r=e.itemMarginInline)!==null&&r!==void 0?r:e.marginXXS,U=new Oo(H).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:g,itemColor:g,colorItemTextHover:g,itemHoverColor:g,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:v,groupTitleColor:v,colorItemTextSelected:i,itemSelectedColor:i,subMenuItemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:y,itemBg:y,colorItemBgHover:I,itemHoverBg:I,colorItemBgActive:k,itemActiveBg:T,colorSubItemBg:w,subMenuItemBg:w,colorItemBgSelected:T,itemSelectedBg:T,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:q,colorActiveBarHeight:N,activeBarHeight:N,colorActiveBarBorderSize:x,activeBarBorderWidth:Z,colorItemTextDisabled:h,itemDisabledColor:h,colorDangerItemText:l,dangerItemColor:l,colorDangerItemTextHover:l,dangerItemHoverColor:l,colorDangerItemTextSelected:l,dangerItemSelectedColor:l,colorDangerItemBgActive:c,dangerItemActiveBg:c,colorDangerItemBgSelected:c,dangerItemSelectedBg:c,itemMarginInline:X,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:O,groupTitleLineHeight:D,collapsedWidth:O*2,popupBg:R,itemMarginBlock:$,itemPaddingInline:G,horizontalLineHeight:`${O*1.15}px`,iconSize:ee,iconMarginInlineEnd:te-ee,collapsedIconSize:J,groupTitleFontSize:ee,darkItemDisabledColor:new Oo(H).setA(.25).toRgbString(),darkItemColor:U,darkDangerItemColor:l,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:H,darkItemSelectedBg:i,darkDangerItemSelectedBg:l,darkItemHoverBg:"transparent",darkGroupTitleColor:U,darkItemHoverColor:H,darkDangerItemHoverColor:oe,darkDangerItemSelectedColor:H,darkDangerItemActiveBg:l,itemWidth:q?`calc(100% + ${Z}px)`:`calc(100% - ${X*2}px)`}},xC=(e,t=e,n=!0)=>zi("Menu",i=>{const{colorBgElevated:l,controlHeightLG:h,fontSize:c,darkItemColor:g,darkDangerItemColor:v,darkItemBg:y,darkSubMenuItemBg:w,darkItemSelectedColor:k,darkItemSelectedBg:x,darkDangerItemSelectedBg:N,darkItemHoverBg:T,darkGroupTitleColor:I,darkItemHoverColor:O,darkItemDisabledColor:D,darkDangerItemHoverColor:R,darkDangerItemSelectedColor:$,darkDangerItemActiveBg:G,popupBg:ee,darkPopupBg:te}=i,J=i.calc(c).div(7).mul(5).equal(),H=ba(i,{menuArrowSize:J,menuHorizontalHeight:i.calc(h).mul(1.15).equal(),menuArrowOffset:i.calc(J).mul(.25).equal(),menuSubMenuBg:l,calc:i.calc,popupBg:ee}),oe=ba(H,{itemColor:g,itemHoverColor:O,groupTitleColor:I,itemSelectedColor:k,subMenuItemSelectedColor:k,itemBg:y,popupBg:te,subMenuItemBg:w,itemActiveBg:"transparent",itemSelectedBg:x,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:T,itemDisabledColor:D,dangerItemColor:v,dangerItemHoverColor:R,dangerItemSelectedColor:$,dangerItemActiveBg:G,dangerItemSelectedBg:N,menuSubMenuBg:w,horizontalItemSelectedColor:k,horizontalItemSelectedBg:x});return[_C(H),mC(H),yC(H),Tg(H,"light"),Tg(oe,"dark"),vC(H),fp(H),hh(H,"slide-up"),hh(H,"slide-down"),np(H,"zoom-big")]},bC,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(e,t),Jy=e=>{var t;const{popupClassName:n,icon:r,title:i,theme:l}=e,h=b.useContext(mh),{prefixCls:c,inlineCollapsed:g,theme:v}=h,y=Ox();let w;if(!r)w=g&&!y.length&&i&&typeof i=="string"?b.createElement("div",{className:`${c}-inline-collapsed-noicon`},i.charAt(0)):b.createElement("span",{className:`${c}-title-content`},i);else{const N=b.isValidElement(i)&&i.type==="span";w=b.createElement(b.Fragment,null,Ls(r,{className:bt(b.isValidElement(r)?(t=r.props)===null||t===void 0?void 0:t.className:void 0,`${c}-item-icon`)}),N?i:b.createElement("span",{className:`${c}-title-content`},i))}const k=b.useMemo(()=>Object.assign(Object.assign({},h),{firstLevel:!1}),[h]),[x]=jh("Menu");return b.createElement(mh.Provider,{value:k},b.createElement(Ax,Object.assign({},Xo(e,["icon"]),{title:w,popupClassName:bt(c,n,`${c}-${l||v}`),popupStyle:Object.assign({zIndex:x},e.popupStyle)})))};var wC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function bd(e){return e===null||e===!1}const CC={item:Xy,submenu:Jy,divider:Zy},SC=b.forwardRef((e,t)=>{var n;const r=b.useContext(vh),i=r||{},{getPrefixCls:l,getPopupContainer:h,direction:c,menu:g}=b.useContext(Jr),v=l(),{prefixCls:y,className:w,style:k,theme:x="light",expandIcon:N,_internalDisableMenuItemTitleTooltip:T,inlineCollapsed:I,siderCollapsed:O,rootClassName:D,mode:R,selectable:$,onClick:G,overflowedIndicatorPopupClassName:ee}=e,te=wC(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),J=Xo(te,["collapsedWidth"]);(n=i.validator)===null||n===void 0||n.call(i,{mode:R});const H=Ja((...ne)=>{var ce;G?.apply(void 0,ne),(ce=i.onClick)===null||ce===void 0||ce.call(i)}),oe=i.mode||R,q=$??i.selectable,Z=I??O,X={horizontal:{motionName:`${v}-slide-up`},inline:dh(v),other:{motionName:`${v}-zoom-big`}},U=l("menu",y||i.prefixCls),Q=Zo(U),[ae,ue,le]=xC(U,Q,!r),be=bt(`${U}-${x}`,g?.className,w),ke=b.useMemo(()=>{var ne,ce;if(typeof N=="function"||bd(N))return N||null;if(typeof i.expandIcon=="function"||bd(i.expandIcon))return i.expandIcon||null;if(typeof g?.expandIcon=="function"||bd(g?.expandIcon))return g?.expandIcon||null;const me=(ne=N??i?.expandIcon)!==null&&ne!==void 0?ne:g?.expandIcon;return Ls(me,{className:bt(`${U}-submenu-expand-icon`,b.isValidElement(me)?(ce=me.props)===null||ce===void 0?void 0:ce.className:void 0)})},[N,i?.expandIcon,g?.expandIcon,U]),Te=b.useMemo(()=>({prefixCls:U,inlineCollapsed:Z||!1,direction:c,firstLevel:!0,theme:x,mode:oe,disableMenuItemTitleTooltip:T}),[U,Z,c,T,x]);return ae(b.createElement(vh.Provider,{value:null},b.createElement(mh.Provider,{value:Te},b.createElement(Tx,Object.assign({getPopupContainer:h,overflowedIndicator:b.createElement(Kv,null),overflowedIndicatorPopupClassName:bt(U,`${U}-${x}`,ee),mode:oe,selectable:q,onClick:H},J,{inlineCollapsed:Z,style:Object.assign(Object.assign({},g?.style),k),className:be,prefixCls:U,direction:c,defaultMotions:X,expandIcon:ke,ref:t,rootClassName:bt(D,ue,i.rootClassName,le,Q),_internalComponents:CC})))))}),Bl=b.forwardRef((e,t)=>{const n=b.useRef(null),r=b.useContext(Wh);return b.useImperativeHandle(t,()=>({menu:n.current,focus:i=>{var l;(l=n.current)===null||l===void 0||l.focus(i)}})),b.createElement(SC,Object.assign({ref:n},e,r))});Bl.Item=Xy;Bl.SubMenu=Jy;Bl.Divider=Zy;Bl.ItemGroup=Rx;const EC=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:i}=e,l=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${l}`]:{[`&${l}-danger:not(${l}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},kC=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,sizePopupArrow:l,antCls:h,iconCls:c,motionDurationMid:g,paddingBlock:v,fontSize:y,dropdownEdgeChildPadding:w,colorTextDisabled:k,fontSizeIcon:x,controlPaddingHorizontal:N,colorBgElevated:T}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(l).div(2).sub(i).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${h}-btn`]:{[`& > ${c}-down, & > ${h}-btn-icon > ${c}-down`]:{fontSize:x}},[`${t}-wrap`]:{position:"relative",[`${h}-btn > ${c}-down`]:{fontSize:x},[`${c}-down::before`]:{transition:`transform ${g}`}},[`${t}-wrap-open`]:{[`${c}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${h}-slide-down-enter${h}-slide-down-enter-active${t}-placement-bottomLeft,
          &${h}-slide-down-appear${h}-slide-down-appear-active${t}-placement-bottomLeft,
          &${h}-slide-down-enter${h}-slide-down-enter-active${t}-placement-bottom,
          &${h}-slide-down-appear${h}-slide-down-appear-active${t}-placement-bottom,
          &${h}-slide-down-enter${h}-slide-down-enter-active${t}-placement-bottomRight,
          &${h}-slide-down-appear${h}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Fx},[`&${h}-slide-up-enter${h}-slide-up-enter-active${t}-placement-topLeft,
          &${h}-slide-up-appear${h}-slide-up-appear-active${t}-placement-topLeft,
          &${h}-slide-up-enter${h}-slide-up-enter-active${t}-placement-top,
          &${h}-slide-up-appear${h}-slide-up-appear-active${t}-placement-top,
          &${h}-slide-up-enter${h}-slide-up-enter-active${t}-placement-topRight,
          &${h}-slide-up-appear${h}-slide-up-appear-active${t}-placement-topRight`]:{animationName:$x},[`&${h}-slide-down-leave${h}-slide-down-leave-active${t}-placement-bottomLeft,
          &${h}-slide-down-leave${h}-slide-down-leave-active${t}-placement-bottom,
          &${h}-slide-down-leave${h}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Dx},[`&${h}-slide-up-leave${h}-slide-up-leave-active${t}-placement-topLeft,
          &${h}-slide-up-leave${h}-slide-up-leave-active${t}-placement-top,
          &${h}-slide-up-leave${h}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Bx}}},jx(e,T,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},Pi(e)),{[n]:Object.assign(Object.assign({padding:w,listStyleType:"none",backgroundColor:T,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},mu(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${Qe(v)} ${Qe(N)}`,color:e.colorTextDescription,transition:`all ${g}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:y,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${g}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${Qe(v)} ${Qe(N)}`,color:e.colorText,fontWeight:"normal",fontSize:y,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${g}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},mu(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:k,cursor:"not-allowed","&:hover":{color:k,backgroundColor:T,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${Qe(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:x,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${Qe(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(N).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:k,backgroundColor:T,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[hh(e,"slide-up"),hh(e,"slide-down"),ug(e,"move-up"),ug(e,"move-down"),np(e,"zoom-big")]]},LC=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},zx({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),Hx(e)),NC=zi("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:r,componentCls:i}=e,l=ba(e,{menuCls:`${i}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:r});return[kC(l),EC(l)]},LC,{resetStyle:!1}),Kh=e=>{var t;const{menu:n,arrow:r,prefixCls:i,children:l,trigger:h,disabled:c,dropdownRender:g,popupRender:v,getPopupContainer:y,overlayClassName:w,rootClassName:k,overlayStyle:x,open:N,onOpenChange:T,visible:I,onVisibleChange:O,mouseEnterDelay:D=.15,mouseLeaveDelay:R=.1,autoAdjustOverflow:$=!0,placement:G="",overlay:ee,transitionName:te,destroyOnHidden:J,destroyPopupOnHide:H}=e,{getPopupContainer:oe,getPrefixCls:q,direction:Z,dropdown:X}=b.useContext(Jr),U=v||g;hc();const Q=b.useMemo(()=>{const kt=q();return te!==void 0?te:G.includes("top")?`${kt}-slide-down`:`${kt}-slide-up`},[q,G,te]),ae=b.useMemo(()=>G?G.includes("Center")?G.slice(0,G.indexOf("Center")):G:Z==="rtl"?"bottomRight":"bottomLeft",[G,Z]),ue=q("dropdown",i),le=Zo(ue),[be,ke,Te]=NC(ue,le),[,ne]=Su(),ce=b.Children.only(iC(l)?b.createElement("span",null,l):l),me=Ls(ce,{className:bt(`${ue}-trigger`,{[`${ue}-rtl`]:Z==="rtl"},ce.props.className),disabled:(t=ce.props.disabled)!==null&&t!==void 0?t:c}),we=c?[]:h,Le=!!we?.includes("contextMenu"),[Be,he]=ps(!1,{value:N??I}),qe=Ja(kt=>{T?.(kt,{source:"trigger"}),O?.(kt),he(kt)}),We=bt(w,k,ke,Te,le,X?.className,{[`${ue}-rtl`]:Z==="rtl"}),Fe=qx({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:$,offset:ne.marginXXS,arrowWidth:r?ne.sizePopupArrow:0,borderRadius:ne.borderRadius}),de=Ja(()=>{n?.selectable&&n?.multiple||(T?.(!1,{source:"menu"}),he(!1))}),it=()=>{let kt;return n?.items?kt=b.createElement(Bl,Object.assign({},n)):typeof ee=="function"?kt=ee():kt=ee,U&&(kt=U(kt)),kt=b.Children.only(typeof kt=="string"?b.createElement("span",null,kt):kt),b.createElement(Yy,{prefixCls:`${ue}-menu`,rootClassName:bt(Te,le),expandIcon:b.createElement("span",{className:`${ue}-menu-submenu-arrow`},Z==="rtl"?b.createElement(_u,{className:`${ue}-menu-submenu-arrow-icon`}):b.createElement(nc,{className:`${ue}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:de,validator:({mode:At})=>{}},kt)},[ft,fe]=jh("Dropdown",x?.zIndex);let tt=b.createElement(Ux,Object.assign({alignPoint:Le},Xo(e,["rootClassName"]),{mouseEnterDelay:D,mouseLeaveDelay:R,visible:Be,builtinPlacements:Fe,arrow:!!r,overlayClassName:We,prefixCls:ue,getPopupContainer:y||oe,transitionName:Q,trigger:we,overlay:it,placement:ae,onVisibleChange:qe,overlayStyle:Object.assign(Object.assign(Object.assign({},X?.style),x),{zIndex:ft}),autoDestroy:J??H}),me);return ft&&(tt=b.createElement(op.Provider,{value:fe},tt)),be(tt)},MC=Gx(Kh,"align",void 0,"dropdown",e=>e),PC=e=>b.createElement(MC,Object.assign({},e),b.createElement("span",null));Kh._InternalPanelDoNotUseOrYouWillBeFired=PC;const Qy=b.createContext(null),IC=Qy.Provider,e_=b.createContext(null),OC=e_.Provider;var AC=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],t_=b.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,i=e.className,l=e.style,h=e.checked,c=e.disabled,g=e.defaultChecked,v=g===void 0?!1:g,y=e.type,w=y===void 0?"checkbox":y,k=e.title,x=e.onChange,N=$a(e,AC),T=b.useRef(null),I=b.useRef(null),O=ps(v,{value:h}),D=On(O,2),R=D[0],$=D[1];b.useImperativeHandle(t,function(){return{focus:function(J){var H;(H=T.current)===null||H===void 0||H.focus(J)},blur:function(){var J;(J=T.current)===null||J===void 0||J.blur()},input:T.current,nativeElement:I.current}});var G=bt(r,i,Pt(Pt({},"".concat(r,"-checked"),R),"".concat(r,"-disabled"),c)),ee=function(J){c||("checked"in e||$(J.target.checked),x?.({target:Wt(Wt({},e),{},{type:w,checked:J.target.checked}),stopPropagation:function(){J.stopPropagation()},preventDefault:function(){J.preventDefault()},nativeEvent:J.nativeEvent}))};return b.createElement("span",{className:G,title:k,style:l,ref:I},b.createElement("input",bn({},N,{className:"".concat(r,"-input"),ref:T,onChange:ee,disabled:c,checked:!!R,type:w})),b.createElement("span",{className:"".concat(r,"-inner")}))});function n_(e){const t=Ot.useRef(null),n=()=>{Ba.cancel(t.current),t.current=null};return[()=>{n(),t.current=Ba(()=>{t.current=null})},l=>{t.current&&(l.stopPropagation(),n()),e?.(l)}]}const TC=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},Pi(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},RC=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:i,motionDurationSlow:l,motionDurationMid:h,motionEaseInOutCirc:c,colorBgContainer:g,colorBorder:v,lineWidth:y,colorBgContainerDisabled:w,colorTextDisabled:k,paddingXS:x,dotColorDisabled:N,lineType:T,radioColor:I,radioBgColor:O,calc:D}=e,R=`${t}-inner`,G=D(i).sub(D(4).mul(2)),ee=D(1).mul(i).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},Pi(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Qe(y)} ${T} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${R}`]:{borderColor:r},[`${t}-input:focus-visible + ${R}`]:Ml(e),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:ee,height:ee,marginBlockStart:D(1).mul(i).div(-2).equal({unit:!0}),marginInlineStart:D(1).mul(i).div(-2).equal({unit:!0}),backgroundColor:I,borderBlockStart:0,borderInlineStart:0,borderRadius:ee,transform:"scale(0)",opacity:0,transition:`all ${l} ${c}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:ee,height:ee,backgroundColor:g,borderColor:v,borderStyle:"solid",borderWidth:y,borderRadius:"50%",transition:`all ${h}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[R]:{borderColor:r,backgroundColor:O,"&::after":{transform:`scale(${e.calc(e.dotSize).div(i).equal()})`,opacity:1,transition:`all ${l} ${c}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[R]:{backgroundColor:w,borderColor:v,cursor:"not-allowed","&::after":{backgroundColor:N}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:k,cursor:"not-allowed"},[`&${t}-checked`]:{[R]:{"&::after":{transform:`scale(${D(G).div(i).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:x,paddingInlineEnd:x}})}},BC=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:i,lineType:l,colorBorder:h,motionDurationMid:c,buttonPaddingInline:g,fontSize:v,buttonBg:y,fontSizeLG:w,controlHeightLG:k,controlHeightSM:x,paddingXS:N,borderRadius:T,borderRadiusSM:I,borderRadiusLG:O,buttonCheckedBg:D,buttonSolidCheckedColor:R,colorTextDisabled:$,colorBgContainerDisabled:G,buttonCheckedBgDisabled:ee,buttonCheckedColorDisabled:te,colorPrimary:J,colorPrimaryHover:H,colorPrimaryActive:oe,buttonSolidCheckedBg:q,buttonSolidCheckedHoverBg:Z,buttonSolidCheckedActiveBg:X,calc:U}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:g,paddingBlock:0,color:t,fontSize:v,lineHeight:Qe(U(n).sub(U(i).mul(2)).equal()),background:y,border:`${Qe(i)} ${l} ${h}`,borderBlockStartWidth:U(i).add(.02).equal(),borderInlineEndWidth:i,cursor:"pointer",transition:[`color ${c}`,`background ${c}`,`box-shadow ${c}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:last-child)":{marginInlineEnd:U(i).mul(-1).equal()},"&:first-child":{borderInlineStart:`${Qe(i)} ${l} ${h}`,borderStartStartRadius:T,borderEndStartRadius:T},"&:last-child":{borderStartEndRadius:T,borderEndEndRadius:T},"&:first-child:last-child":{borderRadius:T},[`${r}-group-large &`]:{height:k,fontSize:w,lineHeight:Qe(U(k).sub(U(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:O,borderEndStartRadius:O},"&:last-child":{borderStartEndRadius:O,borderEndEndRadius:O}},[`${r}-group-small &`]:{height:x,paddingInline:U(N).sub(i).equal(),paddingBlock:0,lineHeight:Qe(U(x).sub(U(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:I,borderEndStartRadius:I},"&:last-child":{borderStartEndRadius:I,borderEndEndRadius:I}},"&:hover":{position:"relative",color:J},"&:has(:focus-visible)":Ml(e),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:J,background:D,borderColor:J,"&::before":{backgroundColor:J},"&:first-child":{borderColor:J},"&:hover":{color:H,borderColor:H,"&::before":{backgroundColor:H}},"&:active":{color:oe,borderColor:oe,"&::before":{backgroundColor:oe}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:R,background:q,borderColor:q,"&:hover":{color:R,background:Z,borderColor:Z},"&:active":{color:R,background:X,borderColor:X}},"&-disabled":{color:$,backgroundColor:G,borderColor:h,cursor:"not-allowed","&:first-child, &:hover":{color:$,backgroundColor:G,borderColor:h}},[`&-disabled${r}-button-wrapper-checked`]:{color:te,backgroundColor:ee,borderColor:h,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},DC=e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:i,fontSizeLG:l,colorText:h,colorBgContainer:c,colorTextDisabled:g,controlItemBgActiveDisabled:v,colorTextLightSolid:y,colorPrimary:w,colorPrimaryHover:k,colorPrimaryActive:x,colorWhite:N}=e,T=4,I=l,O=t?I-T*2:I-(T+i)*2;return{radioSize:I,dotSize:O,dotColorDisabled:g,buttonSolidCheckedColor:y,buttonSolidCheckedBg:w,buttonSolidCheckedHoverBg:k,buttonSolidCheckedActiveBg:x,buttonBg:c,buttonCheckedBg:c,buttonColor:h,buttonCheckedBgDisabled:v,buttonCheckedColorDisabled:g,buttonPaddingInline:n-i,wrapperMarginInlineEnd:r,radioColor:t?w:N,radioBgColor:t?c:w}},r_=zi("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,r=`0 0 0 ${Qe(n)} ${t}`,l=ba(e,{radioFocusShadow:r,radioButtonFocusShadow:r});return[TC(l),RC(l),BC(l)]},DC,{unitless:{radioSize:!0,dotSize:!0}});var $C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const FC=(e,t)=>{var n,r;const i=b.useContext(Qy),l=b.useContext(e_),{getPrefixCls:h,direction:c,radio:g}=b.useContext(Jr),v=b.useRef(null),y=Ps(t,v),{isFormItemInput:w}=b.useContext(ol),k=ae=>{var ue,le;(ue=e.onChange)===null||ue===void 0||ue.call(e,ae),(le=i?.onChange)===null||le===void 0||le.call(i,ae)},{prefixCls:x,className:N,rootClassName:T,children:I,style:O,title:D}=e,R=$C(e,["prefixCls","className","rootClassName","children","style","title"]),$=h("radio",x),G=(i?.optionType||l)==="button",ee=G?`${$}-button`:$,te=Zo($),[J,H,oe]=r_($,te),q=Object.assign({},R),Z=b.useContext(Eu);i&&(q.name=i.name,q.onChange=k,q.checked=e.value===i.value,q.disabled=(n=q.disabled)!==null&&n!==void 0?n:i.disabled),q.disabled=(r=q.disabled)!==null&&r!==void 0?r:Z;const X=bt(`${ee}-wrapper`,{[`${ee}-wrapper-checked`]:q.checked,[`${ee}-wrapper-disabled`]:q.disabled,[`${ee}-wrapper-rtl`]:c==="rtl",[`${ee}-wrapper-in-form-item`]:w,[`${ee}-wrapper-block`]:!!i?.block},g?.className,N,T,H,oe,te),[U,Q]=n_(q.onClick);return J(b.createElement(Hh,{component:"Radio",disabled:q.disabled},b.createElement("label",{className:X,style:Object.assign(Object.assign({},g?.style),O),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:D,onClick:U},b.createElement(t_,Object.assign({},q,{className:bt(q.className,{[ly]:!G}),type:"radio",prefixCls:ee,ref:y,onClick:Q})),I!==void 0?b.createElement("span",{className:`${ee}-label`},I):null)))},yh=b.forwardRef(FC),jC=["parentNode"],zC="form_item";function Ku(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function i_(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:jC.includes(n)?`${zC}_${n}`:n}function a_(e,t,n,r,i,l){let h=r;return l!==void 0?h=l:n.validating?h="validating":e.length?h="error":t.length?h="warning":(n.touched||i&&n.validated)&&(h="success"),h}var HC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function wf(e){return Ku(e).join("_")}function $g(e,t){const n=t.getFieldInstance(e),r=qh(n);if(r)return r;const i=i_(Ku(e),t.__INTERNAL__.name);if(i)return document.getElementById(i)}function o_(e){const[t]=s2(),n=b.useRef({}),r=b.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:i=>l=>{const h=wf(i);l?n.current[h]=l:delete n.current[h]}},scrollToField:(i,l={})=>{const{focus:h}=l,c=HC(l,["focus"]),g=$g(i,r);g&&(hw(g,Object.assign({scrollMode:"if-needed",block:"nearest"},c)),h&&r.focusField(i))},focusField:i=>{var l,h;const c=r.getFieldInstance(i);typeof c?.focus=="function"?c.focus():(h=(l=$g(i,r))===null||l===void 0?void 0:l.focus)===null||h===void 0||h.call(l)},getFieldInstance:i=>{const l=wf(i);return n.current[l]}}),[e,t]);return[r]}const qC=b.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=b.useContext(Jr),{name:i}=b.useContext(ol),l=Gv(wf(i)),{prefixCls:h,className:c,rootClassName:g,options:v,buttonStyle:y="outline",disabled:w,children:k,size:x,style:N,id:T,optionType:I,name:O=l,defaultValue:D,value:R,block:$=!1,onChange:G,onMouseEnter:ee,onMouseLeave:te,onFocus:J,onBlur:H}=e,[oe,q]=ps(D,{value:R}),Z=b.useCallback(ce=>{const me=oe,we=ce.target.value;"value"in e||q(we),we!==me&&G?.(ce)},[oe,q,G]),X=n("radio",h),U=`${X}-group`,Q=Zo(X),[ae,ue,le]=r_(X,Q);let be=k;v&&v.length>0&&(be=v.map(ce=>typeof ce=="string"||typeof ce=="number"?b.createElement(yh,{key:ce.toString(),prefixCls:X,disabled:w,value:ce,checked:oe===ce},ce):b.createElement(yh,{key:`radio-group-value-options-${ce.value}`,prefixCls:X,disabled:ce.disabled||w,value:ce.value,checked:oe===ce.value,title:ce.title,style:ce.style,className:ce.className,id:ce.id,required:ce.required},ce.label)));const ke=ul(x),Te=bt(U,`${U}-${y}`,{[`${U}-${ke}`]:ke,[`${U}-rtl`]:r==="rtl",[`${U}-block`]:$},c,g,ue,le,Q),ne=b.useMemo(()=>({onChange:Z,value:oe,disabled:w,name:O,optionType:I,block:$}),[Z,oe,w,O,I,$]);return ae(b.createElement("div",Object.assign({},Wo(e,{aria:!0,data:!0}),{className:Te,style:N,onMouseEnter:ee,onMouseLeave:te,onFocus:J,onBlur:H,id:T,ref:t}),b.createElement(IC,{value:ne},be)))}),UC=b.memo(qC);var GC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const VC=(e,t)=>{const{getPrefixCls:n}=b.useContext(Jr),{prefixCls:r}=e,i=GC(e,["prefixCls"]),l=n("radio",r);return b.createElement(OC,{value:"button"},b.createElement(yh,Object.assign({prefixCls:l},i,{type:"radio",ref:t})))},WC=b.forwardRef(VC),il=yh;il.Button=WC;il.Group=UC;il.__ANT_RADIO=!0;function Io(e,t){return e[t]}var KC=["children"];function s_(e,t){return"".concat(e,"-").concat(t)}function ZC(e){return e&&e.type&&e.type.isTreeNode}function pc(e,t){return e??t}function bu(e){var t=e||{},n=t.title,r=t._title,i=t.key,l=t.children,h=n||"title";return{title:h,_title:r||[h],key:i||"key",children:l||"children"}}function l_(e){function t(n){var r=Rl(n);return r.map(function(i){if(!ZC(i))return rs(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var l=i.key,h=i.props,c=h.children,g=$a(h,KC),v=Wt({key:l},g),y=t(c);return y.length&&(v.children=y),v}).filter(function(i){return i})}return t(e)}function xd(e,t,n){var r=bu(n),i=r._title,l=r.key,h=r.children,c=new Set(t===!0?[]:t),g=[];function v(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return y.map(function(k,x){for(var N=s_(w?w.pos:"0",x),T=pc(k[l],N),I,O=0;O<i.length;O+=1){var D=i[O];if(k[D]!==void 0){I=k[D];break}}var R=Object.assign(Xo(k,[].concat(En(i),[l,h])),{title:I,key:T,parent:w,pos:N,children:null,data:k,isStart:[].concat(En(w?w.isStart:[]),[x===0]),isEnd:[].concat(En(w?w.isEnd:[]),[x===y.length-1])});return g.push(R),t===!0||c.has(T)?R.children=v(k[h]||[],R):R.children=[],R})}return v(e),g}function XC(e,t,n){var r={};Lr(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var i=r,l=i.childrenPropName,h=i.externalGetKey,c=i.fieldNames,g=bu(c),v=g.key,y=g.children,w=l||y,k;h?typeof h=="string"?k=function(T){return T[h]}:typeof h=="function"&&(k=function(T){return h(T)}):k=function(T,I){return pc(T[v],I)};function x(N,T,I,O){var D=N?N[w]:e,R=N?s_(I.pos,T):"0",$=N?[].concat(En(O),[N]):[];if(N){var G=k(N,R),ee={node:N,index:T,pos:R,key:G,parentPos:I.node?I.pos:null,level:I.level+1,nodes:$};t(ee)}D&&D.forEach(function(te,J){x(te,J,{node:N,pos:R,level:I?I.level+1:-1},$)})}x(null)}function gp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,l=t.externalGetKey,h=t.childrenPropName,c=t.fieldNames,g=arguments.length>2?arguments[2]:void 0,v=l||g,y={},w={},k={posEntities:y,keyEntities:w};return n&&(k=n(k)||k),XC(e,function(x){var N=x.node,T=x.index,I=x.pos,O=x.key,D=x.parentPos,R=x.level,$=x.nodes,G={node:N,nodes:$,index:T,key:O,pos:I,level:R},ee=pc(O,I);y[I]=G,w[ee]=G,G.parent=y[D],G.parent&&(G.parent.children=G.parent.children||[],G.parent.children.push(G)),r&&r(G,k)},{externalGetKey:v,childrenPropName:h,fieldNames:c}),i&&i(k),k}function Zu(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,l=t.loadingKeys,h=t.checkedKeys,c=t.halfCheckedKeys,g=t.dragOverNodeKey,v=t.dropPosition,y=t.keyEntities,w=Io(y,e),k={eventKey:e,expanded:n.indexOf(e)!==-1,selected:r.indexOf(e)!==-1,loaded:i.indexOf(e)!==-1,loading:l.indexOf(e)!==-1,checked:h.indexOf(e)!==-1,halfChecked:c.indexOf(e)!==-1,pos:String(w?w.pos:""),dragOver:g===e&&v===0,dragOverGapTop:g===e&&v===-1,dragOverGapBottom:g===e&&v===1};return k}function oa(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,l=e.loaded,h=e.loading,c=e.halfChecked,g=e.dragOver,v=e.dragOverGapTop,y=e.dragOverGapBottom,w=e.pos,k=e.active,x=e.eventKey,N=Wt(Wt({},t),{},{expanded:n,selected:r,checked:i,loaded:l,loading:h,halfChecked:c,dragOver:g,dragOverGapTop:v,dragOverGapBottom:y,pos:w,active:k,key:x});return"props"in N||Object.defineProperty(N,"props",{get:function(){return rs(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),N}function u_(e,t){var n=new Set;return e.forEach(function(r){t.has(r)||n.add(r)}),n}function YC(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!!(n||r)||i===!1}function JC(e,t,n,r){for(var i=new Set(e),l=new Set,h=0;h<=n;h+=1){var c=t.get(h)||new Set;c.forEach(function(w){var k=w.key,x=w.node,N=w.children,T=N===void 0?[]:N;i.has(k)&&!r(x)&&T.filter(function(I){return!r(I.node)}).forEach(function(I){i.add(I.key)})})}for(var g=new Set,v=n;v>=0;v-=1){var y=t.get(v)||new Set;y.forEach(function(w){var k=w.parent,x=w.node;if(!(r(x)||!w.parent||g.has(w.parent.key))){if(r(w.parent.node)){g.add(k.key);return}var N=!0,T=!1;(k.children||[]).filter(function(I){return!r(I.node)}).forEach(function(I){var O=I.key,D=i.has(O);N&&!D&&(N=!1),!T&&(D||l.has(O))&&(T=!0)}),N&&i.add(k.key),T&&l.add(k.key),g.add(k.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(u_(l,i))}}function QC(e,t,n,r,i){for(var l=new Set(e),h=new Set(t),c=0;c<=r;c+=1){var g=n.get(c)||new Set;g.forEach(function(k){var x=k.key,N=k.node,T=k.children,I=T===void 0?[]:T;!l.has(x)&&!h.has(x)&&!i(N)&&I.filter(function(O){return!i(O.node)}).forEach(function(O){l.delete(O.key)})})}h=new Set;for(var v=new Set,y=r;y>=0;y-=1){var w=n.get(y)||new Set;w.forEach(function(k){var x=k.parent,N=k.node;if(!(i(N)||!k.parent||v.has(k.parent.key))){if(i(k.parent.node)){v.add(x.key);return}var T=!0,I=!1;(x.children||[]).filter(function(O){return!i(O.node)}).forEach(function(O){var D=O.key,R=l.has(D);T&&!R&&(T=!1),!I&&(R||h.has(D))&&(I=!0)}),T||l.delete(x.key),I&&h.add(x.key),v.add(x.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(u_(h,l))}}function lu(e,t,n,r){var i=[],l;r?l=r:l=YC;var h=new Set(e.filter(function(y){var w=!!Io(n,y);return w||i.push(y),w})),c=new Map,g=0;Object.keys(n).forEach(function(y){var w=n[y],k=w.level,x=c.get(k);x||(x=new Set,c.set(k,x)),x.add(w),g=Math.max(g,k)}),rs(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(y){return"'".concat(y,"'")}).join(", ")));var v;return t===!0?v=JC(h,c,g,l):v=QC(h,t.halfCheckedKeys,c,g,l),v}const e4=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Pi(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Pi(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Ml(e)},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${Qe(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function c_(e,t){const n=ba(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return e4(n)}const h_=zi("Checkbox",(e,{prefixCls:t})=>[c_(t,e)]),d_=Ot.createContext(null);var t4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const n4=(e,t)=>{var n;const{prefixCls:r,className:i,rootClassName:l,children:h,indeterminate:c=!1,style:g,onMouseEnter:v,onMouseLeave:y,skipGroup:w=!1,disabled:k}=e,x=t4(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:N,direction:T,checkbox:I}=b.useContext(Jr),O=b.useContext(d_),{isFormItemInput:D}=b.useContext(ol),R=b.useContext(Eu),$=(n=O?.disabled||k)!==null&&n!==void 0?n:R,G=b.useRef(x.value),ee=b.useRef(null),te=Ps(t,ee);b.useEffect(()=>{O?.registerValue(x.value)},[]),b.useEffect(()=>{if(!w)return x.value!==G.current&&(O?.cancelValue(G.current),O?.registerValue(x.value),G.current=x.value),()=>O?.cancelValue(x.value)},[x.value]),b.useEffect(()=>{var le;!((le=ee.current)===null||le===void 0)&&le.input&&(ee.current.input.indeterminate=c)},[c]);const J=N("checkbox",r),H=Zo(J),[oe,q,Z]=h_(J,H),X=Object.assign({},x);O&&!w&&(X.onChange=(...le)=>{x.onChange&&x.onChange.apply(x,le),O.toggleOption&&O.toggleOption({label:h,value:x.value})},X.name=O.name,X.checked=O.value.includes(x.value));const U=bt(`${J}-wrapper`,{[`${J}-rtl`]:T==="rtl",[`${J}-wrapper-checked`]:X.checked,[`${J}-wrapper-disabled`]:$,[`${J}-wrapper-in-form-item`]:D},I?.className,i,l,Z,H,q),Q=bt({[`${J}-indeterminate`]:c},ly,q),[ae,ue]=n_(X.onClick);return oe(b.createElement(Hh,{component:"Checkbox",disabled:$},b.createElement("label",{className:U,style:Object.assign(Object.assign({},I?.style),g),onMouseEnter:v,onMouseLeave:y,onClick:ae},b.createElement(t_,Object.assign({},X,{onClick:ue,prefixCls:J,className:Q,disabled:$,ref:te})),h!=null&&b.createElement("span",{className:`${J}-label`},h))))},f_=b.forwardRef(n4);var r4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const i4=b.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:l,className:h,rootClassName:c,style:g,onChange:v}=e,y=r4(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:w,direction:k}=b.useContext(Jr),[x,N]=b.useState(y.value||n||[]),[T,I]=b.useState([]);b.useEffect(()=>{"value"in y&&N(y.value||[])},[y.value]);const O=b.useMemo(()=>i.map(Q=>typeof Q=="string"||typeof Q=="number"?{label:Q,value:Q}:Q),[i]),D=Q=>{I(ae=>ae.filter(ue=>ue!==Q))},R=Q=>{I(ae=>[].concat(En(ae),[Q]))},$=Q=>{const ae=x.indexOf(Q.value),ue=En(x);ae===-1?ue.push(Q.value):ue.splice(ae,1),"value"in y||N(ue),v?.(ue.filter(le=>T.includes(le)).sort((le,be)=>{const ke=O.findIndex(ne=>ne.value===le),Te=O.findIndex(ne=>ne.value===be);return ke-Te}))},G=w("checkbox",l),ee=`${G}-group`,te=Zo(G),[J,H,oe]=h_(G,te),q=Xo(y,["value","disabled"]),Z=i.length?O.map(Q=>b.createElement(f_,{prefixCls:G,key:Q.value.toString(),disabled:"disabled"in Q?Q.disabled:y.disabled,value:Q.value,checked:x.includes(Q.value),onChange:Q.onChange,className:bt(`${ee}-item`,Q.className),style:Q.style,title:Q.title,id:Q.id,required:Q.required},Q.label)):r,X=b.useMemo(()=>({toggleOption:$,value:x,disabled:y.disabled,name:y.name,registerValue:R,cancelValue:D}),[$,x,y.disabled,y.name,R,D]),U=bt(ee,{[`${ee}-rtl`]:k==="rtl"},h,c,oe,te,H);return J(b.createElement("div",Object.assign({className:U,style:g},q,{ref:t}),b.createElement(d_.Provider,{value:X},Z)))}),Ns=f_;Ns.Group=i4;Ns.__ANT_CHECKBOX=!0;const p_=b.createContext({});var a4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Fg(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const o4=["xs","sm","md","lg","xl","xxl"],gs=b.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=b.useContext(Jr),{gutter:i,wrap:l}=b.useContext(p_),{prefixCls:h,span:c,order:g,offset:v,push:y,pull:w,className:k,children:x,flex:N,style:T}=e,I=a4(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),O=n("col",h),[D,R,$]=$w(O),G={};let ee={};o4.forEach(H=>{let oe={};const q=e[H];typeof q=="number"?oe.span=q:typeof q=="object"&&(oe=q||{}),delete I[H],ee=Object.assign(Object.assign({},ee),{[`${O}-${H}-${oe.span}`]:oe.span!==void 0,[`${O}-${H}-order-${oe.order}`]:oe.order||oe.order===0,[`${O}-${H}-offset-${oe.offset}`]:oe.offset||oe.offset===0,[`${O}-${H}-push-${oe.push}`]:oe.push||oe.push===0,[`${O}-${H}-pull-${oe.pull}`]:oe.pull||oe.pull===0,[`${O}-rtl`]:r==="rtl"}),oe.flex&&(ee[`${O}-${H}-flex`]=!0,G[`--${O}-${H}-flex`]=Fg(oe.flex))});const te=bt(O,{[`${O}-${c}`]:c!==void 0,[`${O}-order-${g}`]:g,[`${O}-offset-${v}`]:v,[`${O}-push-${y}`]:y,[`${O}-pull-${w}`]:w},k,ee,R,$),J={};if(i&&i[0]>0){const H=i[0]/2;J.paddingLeft=H,J.paddingRight=H}return N&&(J.flex=Fg(N),l===!1&&!J.minWidth&&(J.minWidth=0)),D(b.createElement("div",Object.assign({},I,{style:Object.assign(Object.assign(Object.assign({},J),T),G),className:te,ref:t}),x))});function s4(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],i=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((l,h)=>{if(typeof l=="object"&&l!==null)for(let c=0;c<gu.length;c++){const g=gu[c];if(i[g]&&l[g]!==void 0){n[h]=l[g];break}}else n[h]=l}),n}var l4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function jg(e,t){const[n,r]=b.useState(typeof e=="string"?e:""),i=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let l=0;l<gu.length;l++){const h=gu[l];if(!t||!t[h])continue;const c=e[h];if(c!==void 0){r(c);return}}};return b.useEffect(()=>{i()},[JSON.stringify(e),t]),n}const ku=b.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:l,style:h,children:c,gutter:g=0,wrap:v}=e,y=l4(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:w,direction:k}=b.useContext(Jr),x=Rh(!0,null),N=jg(i,x),T=jg(r,x),I=w("row",n),[O,D,R]=Dw(I),$=s4(g,x),G=bt(I,{[`${I}-no-wrap`]:v===!1,[`${I}-${T}`]:T,[`${I}-${N}`]:N,[`${I}-rtl`]:k==="rtl"},l,D,R),ee={},te=$[0]!=null&&$[0]>0?$[0]/-2:void 0;te&&(ee.marginLeft=te,ee.marginRight=te);const[J,H]=$;ee.rowGap=H;const oe=b.useMemo(()=>({gutter:[J,H],wrap:v}),[J,H,v]);return O(b.createElement(p_.Provider,{value:oe},b.createElement("div",Object.assign({},y,{className:G,style:Object.assign(Object.assign({},ee),h),ref:t}),c)))}),u4=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},c4=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:l,orientationMargin:h,verticalMarginInline:c}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{borderBlockStart:`${Qe(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:c,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${Qe(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${Qe(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${Qe(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${Qe(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${h} * 100%)`},"&::after":{width:`calc(100% - ${h} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${h} * 100%)`},"&::after":{width:`calc(${h} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:l},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${Qe(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${Qe(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},h4=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),d4=zi("Divider",e=>{const t=ba(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[c4(t),u4(t)]},h4,{unitless:{orientationMargin:!0}});var f4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const p4={small:"sm",middle:"md"},nl=e=>{const{getPrefixCls:t,direction:n,className:r,style:i}=vs("divider"),{prefixCls:l,type:h="horizontal",orientation:c="center",orientationMargin:g,className:v,rootClassName:y,children:w,dashed:k,variant:x="solid",plain:N,style:T,size:I}=e,O=f4(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),D=t("divider",l),[R,$,G]=d4(D),ee=ul(I),te=p4[ee],J=!!w,H=b.useMemo(()=>c==="left"?n==="rtl"?"end":"start":c==="right"?n==="rtl"?"start":"end":c,[n,c]),oe=H==="start"&&g!=null,q=H==="end"&&g!=null,Z=bt(D,r,$,G,`${D}-${h}`,{[`${D}-with-text`]:J,[`${D}-with-text-${H}`]:J,[`${D}-dashed`]:!!k,[`${D}-${x}`]:x!=="solid",[`${D}-plain`]:!!N,[`${D}-rtl`]:n==="rtl",[`${D}-no-default-orientation-margin-start`]:oe,[`${D}-no-default-orientation-margin-end`]:q,[`${D}-${te}`]:!!te},v,y),X=b.useMemo(()=>typeof g=="number"?g:/^\d+$/.test(g)?Number(g):g,[g]),U={marginInlineStart:oe?X:void 0,marginInlineEnd:q?X:void 0};return R(b.createElement("div",Object.assign({className:Z,style:Object.assign(Object.assign({},i),T)},O,{role:"separator"}),w&&h!=="vertical"&&b.createElement("span",{className:`${D}-inner-text`,style:U},w)))};var g4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},m4=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:g4}))},v4=b.forwardRef(m4);function Cf(){return typeof BigInt=="function"}function g_(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function kl(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),l=i[0]||"0",h=i[1]||"0";l==="0"&&h==="0"&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:r,integerStr:l,decimalStr:h,fullStr:"".concat(c).concat(r)}}function mp(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function El(e){var t=String(e);if(mp(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&vp(t)?t.length-t.indexOf(".")-1:0}function Zh(e){var t=String(e);if(mp(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Cf()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Cf()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(El(t))}return kl(t).fullStr}function vp(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var y4=(function(){function e(t){if($h(this,e),Pt(this,"origin",""),Pt(this,"negative",void 0),Pt(this,"integer",void 0),Pt(this,"decimal",void 0),Pt(this,"decimalLen",void 0),Pt(this,"empty",void 0),Pt(this,"nan",void 0),g_(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(mp(n)&&(n=Number(n)),n=typeof n=="string"?n:Zh(n),vp(n)){var r=kl(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var l=i[1]||"0";this.decimal=BigInt(l),this.decimalLen=l.length}else this.nan=!0}return Dh(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var l=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),h=this.alignDecimal(l),c=n.alignDecimal(l),g=r(h,c).toString(),v=i(l),y=kl(g),w=y.negativeStr,k=y.trimStr,x="".concat(w).concat(k.padStart(v+1,"0"));return new e("".concat(x.slice(0,-v),".").concat(x.slice(-v)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(i,l){return i+l},function(i){return i})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(i,l){return i*l},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===n?.toString()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":kl("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e})(),_4=(function(){function e(t){if($h(this,e),Pt(this,"origin",""),Pt(this,"number",void 0),Pt(this,"empty",void 0),g_(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Dh(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var l=Math.max(El(this.number),El(r));return new e(i.toFixed(l))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var l=Math.max(El(this.number),El(r));return new e(i.toFixed(l))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===n?.toNumber()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Zh(this.number):this.origin}}]),e})();function ds(e){return Cf()?new y4(e):new _4(e)}function Jc(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=kl(e),l=i.negativeStr,h=i.integerStr,c=i.decimalStr,g="".concat(t).concat(c),v="".concat(l).concat(h);if(n>=0){var y=Number(c[n]);if(y>=5&&!r){var w=ds(e).add("".concat(l,"0.").concat("0".repeat(n)).concat(10-y));return Jc(w.toString(),t,n,r)}return n===0?v:"".concat(v).concat(t).concat(c.padEnd(n,"0").slice(0,n))}return g===".0"?v:"".concat(v).concat(g)}function b4(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,i){if(t[i])return t[i];var l=r[i];return typeof l=="function"?l.bind(r):l}}):e}function x4(e,t){var n=b.useRef(null);function r(){try{var l=e.selectionStart,h=e.selectionEnd,c=e.value,g=c.substring(0,l),v=c.substring(h);n.current={start:l,end:h,value:c,beforeTxt:g,afterTxt:v}}catch{}}function i(){if(e&&n.current&&t)try{var l=e.value,h=n.current,c=h.beforeTxt,g=h.afterTxt,v=h.start,y=l.length;if(l.startsWith(c))y=c.length;else if(l.endsWith(g))y=l.length-n.current.afterTxt.length;else{var w=c[v-1],k=l.indexOf(w,v-1);k!==-1&&(y=k+1)}e.setSelectionRange(y,y)}catch(x){rs(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(x.message))}}return[r,i]}var w4=function(){var t=b.useState(!1),n=On(t,2),r=n[0],i=n[1];return na(function(){i(Vx())},[]),r},C4=200,S4=600;function E4(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,l=e.downDisabled,h=e.onStep,c=b.useRef(),g=b.useRef([]),v=b.useRef();v.current=h;var y=function(){clearTimeout(c.current)},w=function(R,$){R.preventDefault(),y(),v.current($);function G(){v.current($),c.current=setTimeout(G,C4)}c.current=setTimeout(G,S4)};b.useEffect(function(){return function(){y(),g.current.forEach(function(D){return Ba.cancel(D)})}},[]);var k=w4();if(k)return null;var x="".concat(t,"-handler"),N=bt(x,"".concat(x,"-up"),Pt({},"".concat(x,"-up-disabled"),i)),T=bt(x,"".concat(x,"-down"),Pt({},"".concat(x,"-down-disabled"),l)),I=function(){return g.current.push(Ba(y))},O={unselectable:"on",role:"button",onMouseUp:I,onMouseLeave:I};return b.createElement("div",{className:"".concat(x,"-wrap")},b.createElement("span",bn({},O,{onMouseDown:function(R){w(R,!0)},"aria-label":"Increase Value","aria-disabled":i,className:N}),n||b.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),b.createElement("span",bn({},O,{onMouseDown:function(R){w(R,!1)},"aria-label":"Decrease Value","aria-disabled":l,className:T}),r||b.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function zg(e){var t=typeof e=="number"?Zh(e):kl(e).fullStr,n=t.includes(".");return n?kl(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const k4=(function(){var e=b.useRef(0),t=function(){Ba.cancel(e.current)};return b.useEffect(function(){return t},[]),function(n){t(),e.current=Ba(function(){n()})}});var L4=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],N4=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Hg=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},qg=function(t){var n=ds(t);return n.isInvalidate()?null:n},M4=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,l=e.min,h=e.max,c=e.step,g=c===void 0?1:c,v=e.defaultValue,y=e.value,w=e.disabled,k=e.readOnly,x=e.upHandler,N=e.downHandler,T=e.keyboard,I=e.changeOnWheel,O=I===void 0?!1:I,D=e.controls,R=D===void 0?!0:D;e.classNames;var $=e.stringMode,G=e.parser,ee=e.formatter,te=e.precision,J=e.decimalSeparator,H=e.onChange,oe=e.onInput,q=e.onPressEnter,Z=e.onStep,X=e.changeOnBlur,U=X===void 0?!0:X,Q=e.domRef,ae=$a(e,L4),ue="".concat(n,"-input"),le=b.useRef(null),be=b.useState(!1),ke=On(be,2),Te=ke[0],ne=ke[1],ce=b.useRef(!1),me=b.useRef(!1),we=b.useRef(!1),Le=b.useState(function(){return ds(y??v)}),Be=On(Le,2),he=Be[0],qe=Be[1];function We(Rt){y===void 0&&qe(Rt)}var Fe=b.useCallback(function(Rt,Gt){if(!Gt)return te>=0?te:Math.max(El(Rt),El(g))},[te,g]),de=b.useCallback(function(Rt){var Gt=String(Rt);if(G)return G(Gt);var gn=Gt;return J&&(gn=gn.replace(J,".")),gn.replace(/[^\w.-]+/g,"")},[G,J]),it=b.useRef(""),ft=b.useCallback(function(Rt,Gt){if(ee)return ee(Rt,{userTyping:Gt,input:String(it.current)});var gn=typeof Rt=="number"?Zh(Rt):Rt;if(!Gt){var An=Fe(gn,Gt);if(vp(gn)&&(J||An>=0)){var Dn=J||".";gn=Jc(gn,Dn,An)}}return gn},[ee,Fe,J]),fe=b.useState(function(){var Rt=v??y;return he.isInvalidate()&&["string","number"].includes(Lr(Rt))?Number.isNaN(Rt)?"":Rt:ft(he.toString(),!1)}),tt=On(fe,2),kt=tt[0],At=tt[1];it.current=kt;function Ze(Rt,Gt){At(ft(Rt.isInvalidate()?Rt.toString(!1):Rt.toString(!Gt),Gt))}var Zt=b.useMemo(function(){return qg(h)},[h,te]),nt=b.useMemo(function(){return qg(l)},[l,te]),mt=b.useMemo(function(){return!Zt||!he||he.isInvalidate()?!1:Zt.lessEquals(he)},[Zt,he]),wt=b.useMemo(function(){return!nt||!he||he.isInvalidate()?!1:he.lessEquals(nt)},[nt,he]),Et=x4(le.current,Te),Xt=On(Et,2),nn=Xt[0],dn=Xt[1],Dt=function(Gt){return Zt&&!Gt.lessEquals(Zt)?Zt:nt&&!nt.lessEquals(Gt)?nt:null},Jt=function(Gt){return!Dt(Gt)},Ft=function(Gt,gn){var An=Gt,Dn=Jt(An)||An.isEmpty();if(!An.isEmpty()&&!gn&&(An=Dt(An)||An,Dn=!0),!k&&!w&&Dn){var Kt=An.toString(),dr=Fe(Kt,gn);return dr>=0&&(An=ds(Jc(Kt,".",dr)),Jt(An)||(An=ds(Jc(Kt,".",dr,!0)))),An.equals(he)||(We(An),H?.(An.isEmpty()?null:Hg($,An)),y===void 0&&Ze(An,gn)),An}return he},ht=k4(),Mt=function Rt(Gt){if(nn(),it.current=Gt,At(Gt),!me.current){var gn=de(Gt),An=ds(gn);An.isNaN()||Ft(An,!0)}oe?.(Gt),ht(function(){var Dn=Gt;G||(Dn=Gt.replace(//g,".")),Dn!==Gt&&Rt(Dn)})},tn=function(){me.current=!0},fn=function(){me.current=!1,Mt(le.current.value)},Tt=function(Gt){Mt(Gt.target.value)},zt=function(Gt){var gn;if(!(Gt&&mt||!Gt&&wt)){ce.current=!1;var An=ds(we.current?zg(g):g);Gt||(An=An.negate());var Dn=(he||ds(0)).add(An.toString()),Kt=Ft(Dn,!1);Z?.(Hg($,Kt),{offset:we.current?zg(g):g,type:Gt?"up":"down"}),(gn=le.current)===null||gn===void 0||gn.focus()}},jt=function(Gt){var gn=ds(de(kt)),An;gn.isNaN()?An=Ft(he,Gt):An=Ft(gn,Gt),y!==void 0?Ze(he,!1):An.isNaN()||Ze(An,!1)},ln=function(){ce.current=!0},an=function(Gt){var gn=Gt.key,An=Gt.shiftKey;ce.current=!0,we.current=An,gn==="Enter"&&(me.current||(ce.current=!1),jt(!1),q?.(Gt)),T!==!1&&!me.current&&["Up","ArrowUp","Down","ArrowDown"].includes(gn)&&(zt(gn==="Up"||gn==="ArrowUp"),Gt.preventDefault())},hn=function(){ce.current=!1,we.current=!1};b.useEffect(function(){if(O&&Te){var Rt=function(An){zt(An.deltaY<0),An.preventDefault()},Gt=le.current;if(Gt)return Gt.addEventListener("wheel",Rt,{passive:!1}),function(){return Gt.removeEventListener("wheel",Rt)}}});var Bn=function(){U&&jt(!1),ne(!1),ce.current=!1};return yd(function(){he.isInvalidate()||Ze(he,!1)},[te,ee]),yd(function(){var Rt=ds(y);qe(Rt);var Gt=ds(de(kt));(!Rt.equals(Gt)||!ce.current||ee)&&Ze(Rt,ce.current)},[y]),yd(function(){ee&&dn()},[kt]),b.createElement("div",{ref:Q,className:bt(n,r,Pt(Pt(Pt(Pt(Pt({},"".concat(n,"-focused"),Te),"".concat(n,"-disabled"),w),"".concat(n,"-readonly"),k),"".concat(n,"-not-a-number"),he.isNaN()),"".concat(n,"-out-of-range"),!he.isInvalidate()&&!Jt(he))),style:i,onFocus:function(){ne(!0)},onBlur:Bn,onKeyDown:an,onKeyUp:hn,onCompositionStart:tn,onCompositionEnd:fn,onBeforeInput:ln},R&&b.createElement(E4,{prefixCls:n,upNode:x,downNode:N,upDisabled:mt,downDisabled:wt,onStep:zt}),b.createElement("div",{className:"".concat(ue,"-wrap")},b.createElement("input",bn({autoComplete:"off",role:"spinbutton","aria-valuemin":l,"aria-valuemax":h,"aria-valuenow":he.isInvalidate()?null:he.toString(),step:g},ae,{ref:Ps(le,t),className:ue,value:kt,onChange:Tt,disabled:w,readOnly:k}))))}),P4=b.forwardRef(function(e,t){var n=e.disabled,r=e.style,i=e.prefixCls,l=i===void 0?"rc-input-number":i,h=e.value,c=e.prefix,g=e.suffix,v=e.addonBefore,y=e.addonAfter,w=e.className,k=e.classNames,x=$a(e,N4),N=b.useRef(null),T=b.useRef(null),I=b.useRef(null),O=function(R){I.current&&u2(I.current,R)};return b.useImperativeHandle(t,function(){return b4(I.current,{focus:O,nativeElement:N.current.nativeElement||T.current})}),b.createElement(l2,{className:w,triggerFocus:O,prefixCls:l,value:h,disabled:n,style:r,prefix:c,suffix:g,addonAfter:y,addonBefore:v,classNames:k,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:N},b.createElement(M4,bn({prefixCls:l,disabled:n,ref:I,domRef:T,className:k?.input},x)))});const I4=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto",r=e.controlHeightSM-e.lineWidth*2;return Object.assign(Object.assign({},uy(e)),{controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Oo(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0,handleVisibleWidth:n===!0?r:0})},Ug=({componentCls:e,borderRadiusSM:t,borderRadiusLG:n},r)=>{const i=r==="lg"?n:t;return{[`&-${r}`]:{[`${e}-handler-wrap`]:{borderStartEndRadius:i,borderEndEndRadius:i},[`${e}-handler-up`]:{borderStartEndRadius:i},[`${e}-handler-down`]:{borderEndEndRadius:i}}}},O4=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:i,inputFontSizeSM:l,inputFontSizeLG:h,controlHeightLG:c,controlHeightSM:g,colorError:v,paddingInlineSM:y,paddingBlockSM:w,paddingBlockLG:k,paddingInlineLG:x,colorIcon:N,motionDurationMid:T,handleHoverColor:I,handleOpacity:O,paddingInline:D,paddingBlock:R,handleBg:$,handleActiveBg:G,colorTextDisabled:ee,borderRadiusSM:te,borderRadiusLG:J,controlWidth:H,handleBorderColor:oe,filledHandleBg:q,lineHeightLG:Z,calc:X}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),sp(e)),{display:"inline-block",width:H,margin:0,padding:0,borderRadius:i}),h2(e,{[`${t}-handler-wrap`]:{background:$,[`${t}-handler-down`]:{borderBlockStart:`${Qe(n)} ${r} ${oe}`}}})),d2(e,{[`${t}-handler-wrap`]:{background:q,[`${t}-handler-down`]:{borderBlockStart:`${Qe(n)} ${r} ${oe}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:$}}})),f2(e,{[`${t}-handler-wrap`]:{background:$,[`${t}-handler-down`]:{borderBlockStart:`${Qe(n)} ${r} ${oe}`}}})),p2(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:h,lineHeight:Z,borderRadius:J,[`input${t}-input`]:{height:X(c).sub(X(n).mul(2)).equal(),padding:`${Qe(k)} ${Qe(x)}`}},"&-sm":{padding:0,fontSize:l,borderRadius:te,[`input${t}-input`]:{height:X(g).sub(X(n).mul(2)).equal(),padding:`${Qe(w)} ${Qe(y)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:v}}},"&-group":Object.assign(Object.assign(Object.assign({},Pi(e)),m2(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:J,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:te}}},v2(e)),y2(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),{width:"100%",padding:`${Qe(R)} ${Qe(D)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${T} linear`,appearance:"textfield",fontSize:"inherit"}),g2(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:O,height:"100%",borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${T}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:N,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Qe(n)} ${r} ${oe}`,transition:`all ${T} linear`,"&:active":{background:G},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:I}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},sy()),{color:N,transition:`all ${T} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderEndEndRadius:i}},Ug(e,"lg")),Ug(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:ee}})}]},A4=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:l,borderRadiusLG:h,borderRadiusSM:c,paddingInlineLG:g,paddingInlineSM:v,paddingBlockLG:y,paddingBlockSM:w,motionDurationMid:k}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${Qe(n)} 0`}},sp(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:l,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:h,paddingInlineStart:g,[`input${t}-input`]:{padding:`${Qe(y)} 0`}},"&-sm":{borderRadius:c,paddingInlineStart:v,[`input${t}-input`]:{padding:`${Qe(w)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:i,transition:`margin ${k}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}}),[`${t}-underlined`]:{borderRadius:0}}},T4=zi("InputNumber",e=>{const t=ba(e,cy(e));return[O4(t),A4(t),c2(t)]},I4,{unitless:{handleOpacity:!0},resetFont:!1});var R4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const m_=b.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=b.useContext(Jr),i=b.useRef(null);b.useImperativeHandle(t,()=>i.current);const{className:l,rootClassName:h,size:c,disabled:g,prefixCls:v,addonBefore:y,addonAfter:w,prefix:k,suffix:x,bordered:N,readOnly:T,status:I,controls:O,variant:D}=e,R=R4(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),$=n("input-number",v),G=Zo($),[ee,te,J]=T4($,G),{compactSize:H,compactItemClassnames:oe}=hy($,r);let q=b.createElement(v4,{className:`${$}-handler-up-inner`}),Z=b.createElement(Zv,{className:`${$}-handler-down-inner`});const X=typeof O=="boolean"?O:void 0;typeof O=="object"&&(q=typeof O.upIcon>"u"?q:b.createElement("span",{className:`${$}-handler-up-inner`},O.upIcon),Z=typeof O.downIcon>"u"?Z:b.createElement("span",{className:`${$}-handler-down-inner`},O.downIcon));const{hasFeedback:U,status:Q,isFormItemInput:ae,feedbackIcon:ue}=b.useContext(ol),le=b2(Q,I),be=ul(he=>{var qe;return(qe=c??H)!==null&&qe!==void 0?qe:he}),ke=b.useContext(Eu),Te=g??ke,[ne,ce]=_2("inputNumber",D,N),me=U&&b.createElement(b.Fragment,null,ue),we=bt({[`${$}-lg`]:be==="large",[`${$}-sm`]:be==="small",[`${$}-rtl`]:r==="rtl",[`${$}-in-form-item`]:ae},te),Le=`${$}-group`,Be=b.createElement(P4,Object.assign({ref:i,disabled:Te,className:bt(J,G,l,h,oe),upHandler:q,downHandler:Z,prefixCls:$,readOnly:T,controls:X,prefix:k,suffix:me||x,addonBefore:y&&b.createElement(ec,{form:!0,space:!0},y),addonAfter:w&&b.createElement(ec,{form:!0,space:!0},w),classNames:{input:we,variant:bt({[`${$}-${ne}`]:ce},pg($,le,U)),affixWrapper:bt({[`${$}-affix-wrapper-sm`]:be==="small",[`${$}-affix-wrapper-lg`]:be==="large",[`${$}-affix-wrapper-rtl`]:r==="rtl",[`${$}-affix-wrapper-without-controls`]:O===!1||Te||T},te),wrapper:bt({[`${Le}-rtl`]:r==="rtl"},te),groupWrapper:bt({[`${$}-group-wrapper-sm`]:be==="small",[`${$}-group-wrapper-lg`]:be==="large",[`${$}-group-wrapper-rtl`]:r==="rtl",[`${$}-group-wrapper-${ne}`]:ce},pg(`${$}-group-wrapper`,le,U),te)}},R));return ee(Be)}),v_=m_,B4=e=>b.createElement(zh,{theme:{components:{InputNumber:{handleVisible:!0}}}},b.createElement(m_,Object.assign({},e)));v_._InternalPanelDoNotUseOrYouWillBeFired=B4;function Sf(e,t,n){return(e-t)/(n-t)}function yp(e,t,n,r){var i=Sf(t,n,r),l={};switch(e){case"rtl":l.right="".concat(i*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(i*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(i*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(i*100,"%"),l.transform="translateX(-50%)";break}return l}function xl(e,t){return Array.isArray(e)?e[t]:e}var Dl=b.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),D4=b.createContext({}),$4=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Gg=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,i=e.valueIndex,l=e.onStartMove,h=e.onDelete,c=e.style,g=e.render,v=e.dragging,y=e.draggingDelete,w=e.onOffsetChange,k=e.onChangeComplete,x=e.onFocus,N=e.onMouseEnter,T=$a(e,$4),I=b.useContext(Dl),O=I.min,D=I.max,R=I.direction,$=I.disabled,G=I.keyboard,ee=I.range,te=I.tabIndex,J=I.ariaLabelForHandle,H=I.ariaLabelledByForHandle,oe=I.ariaRequired,q=I.ariaValueTextFormatterForHandle,Z=I.styles,X=I.classNames,U="".concat(n,"-handle"),Q=function(we){$||l(we,i)},ae=function(we){x?.(we,i)},ue=function(we){N(we,i)},le=function(we){if(!$&&G){var Le=null;switch(we.which||we.keyCode){case _r.LEFT:Le=R==="ltr"||R==="btt"?-1:1;break;case _r.RIGHT:Le=R==="ltr"||R==="btt"?1:-1;break;case _r.UP:Le=R!=="ttb"?1:-1;break;case _r.DOWN:Le=R!=="ttb"?-1:1;break;case _r.HOME:Le="min";break;case _r.END:Le="max";break;case _r.PAGE_UP:Le=2;break;case _r.PAGE_DOWN:Le=-2;break;case _r.BACKSPACE:case _r.DELETE:h?.(i);break}Le!==null&&(we.preventDefault(),w(Le,i))}},be=function(we){switch(we.which||we.keyCode){case _r.LEFT:case _r.RIGHT:case _r.UP:case _r.DOWN:case _r.HOME:case _r.END:case _r.PAGE_UP:case _r.PAGE_DOWN:k?.();break}},ke=yp(R,r,O,D),Te={};if(i!==null){var ne;Te={tabIndex:$?null:xl(te,i),role:"slider","aria-valuemin":O,"aria-valuemax":D,"aria-valuenow":r,"aria-disabled":$,"aria-label":xl(J,i),"aria-labelledby":xl(H,i),"aria-required":xl(oe,i),"aria-valuetext":(ne=xl(q,i))===null||ne===void 0?void 0:ne(r),"aria-orientation":R==="ltr"||R==="rtl"?"horizontal":"vertical",onMouseDown:Q,onTouchStart:Q,onFocus:ae,onMouseEnter:ue,onKeyDown:le,onKeyUp:be}}var ce=b.createElement("div",bn({ref:t,className:bt(U,Pt(Pt(Pt({},"".concat(U,"-").concat(i+1),i!==null&&ee),"".concat(U,"-dragging"),v),"".concat(U,"-dragging-delete"),y),X.handle),style:Wt(Wt(Wt({},ke),c),Z.handle)},Te,T));return g&&(ce=g(ce,{index:i,prefixCls:n,value:r,dragging:v,draggingDelete:y})),ce}),F4=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],j4=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.onStartMove,l=e.onOffsetChange,h=e.values,c=e.handleRender,g=e.activeHandleRender,v=e.draggingIndex,y=e.draggingDelete,w=e.onFocus,k=$a(e,F4),x=b.useRef({}),N=b.useState(!1),T=On(N,2),I=T[0],O=T[1],D=b.useState(-1),R=On(D,2),$=R[0],G=R[1],ee=function(q){G(q),O(!0)},te=function(q,Z){ee(Z),w?.(q)},J=function(q,Z){ee(Z)};b.useImperativeHandle(t,function(){return{focus:function(q){var Z;(Z=x.current[q])===null||Z===void 0||Z.focus()},hideHelp:function(){dy.flushSync(function(){O(!1)})}}});var H=Wt({prefixCls:n,onStartMove:i,onOffsetChange:l,render:c,onFocus:te,onMouseEnter:J},k);return b.createElement(b.Fragment,null,h.map(function(oe,q){var Z=v===q;return b.createElement(Gg,bn({ref:function(U){U?x.current[q]=U:delete x.current[q]},dragging:Z,draggingDelete:Z&&y,style:xl(r,q),key:q,value:oe,valueIndex:q},H))}),g&&I&&b.createElement(Gg,bn({key:"a11y"},H,{value:h[$],valueIndex:null,dragging:v!==-1,draggingDelete:y,render:g,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),z4=function(t){var n=t.prefixCls,r=t.style,i=t.children,l=t.value,h=t.onClick,c=b.useContext(Dl),g=c.min,v=c.max,y=c.direction,w=c.includedStart,k=c.includedEnd,x=c.included,N="".concat(n,"-text"),T=yp(y,l,g,v);return b.createElement("span",{className:bt(N,Pt({},"".concat(N,"-active"),x&&w<=l&&l<=k)),style:Wt(Wt({},T),r),onMouseDown:function(O){O.stopPropagation()},onClick:function(){h(l)}},i)},H4=function(t){var n=t.prefixCls,r=t.marks,i=t.onClick,l="".concat(n,"-mark");return r.length?b.createElement("div",{className:l},r.map(function(h){var c=h.value,g=h.style,v=h.label;return b.createElement(z4,{key:c,prefixCls:l,style:g,value:c,onClick:i},v)})):null},q4=function(t){var n=t.prefixCls,r=t.value,i=t.style,l=t.activeStyle,h=b.useContext(Dl),c=h.min,g=h.max,v=h.direction,y=h.included,w=h.includedStart,k=h.includedEnd,x="".concat(n,"-dot"),N=y&&w<=r&&r<=k,T=Wt(Wt({},yp(v,r,c,g)),typeof i=="function"?i(r):i);return N&&(T=Wt(Wt({},T),typeof l=="function"?l(r):l)),b.createElement("span",{className:bt(x,Pt({},"".concat(x,"-active"),N)),style:T})},U4=function(t){var n=t.prefixCls,r=t.marks,i=t.dots,l=t.style,h=t.activeStyle,c=b.useContext(Dl),g=c.min,v=c.max,y=c.step,w=b.useMemo(function(){var k=new Set;if(r.forEach(function(N){k.add(N.value)}),i&&y!==null)for(var x=g;x<=v;)k.add(x),x+=y;return Array.from(k)},[g,v,y,i,r]);return b.createElement("div",{className:"".concat(n,"-step")},w.map(function(k){return b.createElement(q4,{prefixCls:n,key:k,value:k,style:l,activeStyle:h})}))},Vg=function(t){var n=t.prefixCls,r=t.style,i=t.start,l=t.end,h=t.index,c=t.onStartMove,g=t.replaceCls,v=b.useContext(Dl),y=v.direction,w=v.min,k=v.max,x=v.disabled,N=v.range,T=v.classNames,I="".concat(n,"-track"),O=Sf(i,w,k),D=Sf(l,w,k),R=function(te){!x&&c&&c(te,-1)},$={};switch(y){case"rtl":$.right="".concat(O*100,"%"),$.width="".concat(D*100-O*100,"%");break;case"btt":$.bottom="".concat(O*100,"%"),$.height="".concat(D*100-O*100,"%");break;case"ttb":$.top="".concat(O*100,"%"),$.height="".concat(D*100-O*100,"%");break;default:$.left="".concat(O*100,"%"),$.width="".concat(D*100-O*100,"%")}var G=g||bt(I,Pt(Pt({},"".concat(I,"-").concat(h+1),h!==null&&N),"".concat(n,"-track-draggable"),c),T.track);return b.createElement("div",{className:G,style:Wt(Wt({},$),r),onMouseDown:R,onTouchStart:R})},G4=function(t){var n=t.prefixCls,r=t.style,i=t.values,l=t.startPoint,h=t.onStartMove,c=b.useContext(Dl),g=c.included,v=c.range,y=c.min,w=c.styles,k=c.classNames,x=b.useMemo(function(){if(!v){if(i.length===0)return[];var T=l??y,I=i[0];return[{start:Math.min(T,I),end:Math.max(T,I)}]}for(var O=[],D=0;D<i.length-1;D+=1)O.push({start:i[D],end:i[D+1]});return O},[i,v,l,y]);if(!g)return null;var N=x!=null&&x.length&&(k.tracks||w.tracks)?b.createElement(Vg,{index:null,prefixCls:n,start:x[0].start,end:x[x.length-1].end,replaceCls:bt(k.tracks,"".concat(n,"-tracks")),style:w.tracks}):null;return b.createElement(b.Fragment,null,N,x.map(function(T,I){var O=T.start,D=T.end;return b.createElement(Vg,{index:I,prefixCls:n,style:Wt(Wt({},xl(r,I)),w.track),start:O,end:D,key:I,onStartMove:h})}))},V4=130;function Wg(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function W4(e,t,n,r,i,l,h,c,g,v,y){var w=b.useState(null),k=On(w,2),x=k[0],N=k[1],T=b.useState(-1),I=On(T,2),O=I[0],D=I[1],R=b.useState(!1),$=On(R,2),G=$[0],ee=$[1],te=b.useState(n),J=On(te,2),H=J[0],oe=J[1],q=b.useState(n),Z=On(q,2),X=Z[0],U=Z[1],Q=b.useRef(null),ae=b.useRef(null),ue=b.useRef(null),le=b.useContext(D4),be=le.onDragStart,ke=le.onDragChange;na(function(){O===-1&&oe(n)},[n,O]),b.useEffect(function(){return function(){document.removeEventListener("mousemove",Q.current),document.removeEventListener("mouseup",ae.current),ue.current&&(ue.current.removeEventListener("touchmove",Q.current),ue.current.removeEventListener("touchend",ae.current))}},[]);var Te=function(Le,Be,he){Be!==void 0&&N(Be),oe(Le);var qe=Le;he&&(qe=Le.filter(function(We,Fe){return Fe!==O})),h(qe),ke&&ke({rawValues:Le,deleteIndex:he?O:-1,draggingIndex:O,draggingValue:Be})},ne=Ja(function(we,Le,Be){if(we===-1){var he=X[0],qe=X[X.length-1],We=r-he,Fe=i-qe,de=Le*(i-r);de=Math.max(de,We),de=Math.min(de,Fe);var it=l(he+de);de=it-he;var ft=X.map(function(At){return At+de});Te(ft)}else{var fe=(i-r)*Le,tt=En(H);tt[we]=X[we];var kt=g(tt,fe,we,"dist");Te(kt.values,kt.value,Be)}}),ce=function(Le,Be,he){Le.stopPropagation();var qe=he||n,We=qe[Be];D(Be),N(We),U(qe),oe(qe),ee(!1);var Fe=Wg(Le),de=Fe.pageX,it=Fe.pageY,ft=!1;be&&be({rawValues:qe,draggingIndex:Be,draggingValue:We});var fe=function(At){At.preventDefault();var Ze=Wg(At),Zt=Ze.pageX,nt=Ze.pageY,mt=Zt-de,wt=nt-it,Et=e.current.getBoundingClientRect(),Xt=Et.width,nn=Et.height,dn,Dt;switch(t){case"btt":dn=-wt/nn,Dt=mt;break;case"ttb":dn=wt/nn,Dt=mt;break;case"rtl":dn=-mt/Xt,Dt=wt;break;default:dn=mt/Xt,Dt=wt}ft=v?Math.abs(Dt)>V4&&y<H.length:!1,ee(ft),ne(Be,dn,ft)},tt=function kt(At){At.preventDefault(),document.removeEventListener("mouseup",kt),document.removeEventListener("mousemove",fe),ue.current&&(ue.current.removeEventListener("touchmove",Q.current),ue.current.removeEventListener("touchend",ae.current)),Q.current=null,ae.current=null,ue.current=null,c(ft),D(-1),ee(!1)};document.addEventListener("mouseup",tt),document.addEventListener("mousemove",fe),Le.currentTarget.addEventListener("touchend",tt),Le.currentTarget.addEventListener("touchmove",fe),Q.current=fe,ae.current=tt,ue.current=Le.currentTarget},me=b.useMemo(function(){var we=En(n).sort(function(We,Fe){return We-Fe}),Le=En(H).sort(function(We,Fe){return We-Fe}),Be={};Le.forEach(function(We){Be[We]=(Be[We]||0)+1}),we.forEach(function(We){Be[We]=(Be[We]||0)-1});var he=v?1:0,qe=Object.values(Be).reduce(function(We,Fe){return We+Math.abs(Fe)},0);return qe<=he?H:n},[n,H,v]);return[O,x,G,me,ce]}function K4(e,t,n,r,i,l){var h=b.useCallback(function(x){return Math.max(e,Math.min(t,x))},[e,t]),c=b.useCallback(function(x){if(n!==null){var N=e+Math.round((h(x)-e)/n)*n,T=function(R){return(String(R).split(".")[1]||"").length},I=Math.max(T(n),T(t),T(e)),O=Number(N.toFixed(I));return e<=O&&O<=t?O:null}return null},[n,e,t,h]),g=b.useCallback(function(x){var N=h(x),T=r.map(function(D){return D.value});n!==null&&T.push(c(x)),T.push(e,t);var I=T[0],O=t-e;return T.forEach(function(D){var R=Math.abs(N-D);R<=O&&(I=D,O=R)}),I},[e,t,r,n,h,c]),v=function x(N,T,I){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof T=="number"){var D,R=N[I],$=R+T,G=[];r.forEach(function(oe){G.push(oe.value)}),G.push(e,t),G.push(c(R));var ee=T>0?1:-1;O==="unit"?G.push(c(R+ee*n)):G.push(c($)),G=G.filter(function(oe){return oe!==null}).filter(function(oe){return T<0?oe<=R:oe>=R}),O==="unit"&&(G=G.filter(function(oe){return oe!==R}));var te=O==="unit"?R:$;D=G[0];var J=Math.abs(D-te);if(G.forEach(function(oe){var q=Math.abs(oe-te);q<J&&(D=oe,J=q)}),D===void 0)return T<0?e:t;if(O==="dist")return D;if(Math.abs(T)>1){var H=En(N);return H[I]=D,x(H,T-ee,I,O)}return D}else{if(T==="min")return e;if(T==="max")return t}},y=function(N,T,I){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",D=N[I],R=v(N,T,I,O);return{value:R,changed:R!==D}},w=function(N){return l===null&&N===0||typeof l=="number"&&N<l},k=function(N,T,I){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",D=N.map(g),R=D[I],$=v(D,T,I,O);if(D[I]=$,i===!1){var G=l||0;I>0&&D[I-1]!==R&&(D[I]=Math.max(D[I],D[I-1]+G)),I<D.length-1&&D[I+1]!==R&&(D[I]=Math.min(D[I],D[I+1]-G))}else if(typeof l=="number"||l===null){for(var ee=I+1;ee<D.length;ee+=1)for(var te=!0;w(D[ee]-D[ee-1])&&te;){var J=y(D,1,ee);D[ee]=J.value,te=J.changed}for(var H=I;H>0;H-=1)for(var oe=!0;w(D[H]-D[H-1])&&oe;){var q=y(D,-1,H-1);D[H-1]=q.value,oe=q.changed}for(var Z=D.length-1;Z>0;Z-=1)for(var X=!0;w(D[Z]-D[Z-1])&&X;){var U=y(D,-1,Z-1);D[Z-1]=U.value,X=U.changed}for(var Q=0;Q<D.length-1;Q+=1)for(var ae=!0;w(D[Q+1]-D[Q])&&ae;){var ue=y(D,1,Q+1);D[Q+1]=ue.value,ae=ue.changed}}return{value:D[I],values:D}};return[g,k]}function Z4(e){return b.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,i=e.maxCount;return[!0,t,!t&&n,r||0,i]},[e])}var X4=b.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,i=e.className,l=e.style,h=e.classNames,c=e.styles,g=e.id,v=e.disabled,y=v===void 0?!1:v,w=e.keyboard,k=w===void 0?!0:w,x=e.autoFocus,N=e.onFocus,T=e.onBlur,I=e.min,O=I===void 0?0:I,D=e.max,R=D===void 0?100:D,$=e.step,G=$===void 0?1:$,ee=e.value,te=e.defaultValue,J=e.range,H=e.count,oe=e.onChange,q=e.onBeforeChange,Z=e.onAfterChange,X=e.onChangeComplete,U=e.allowCross,Q=U===void 0?!0:U,ae=e.pushable,ue=ae===void 0?!1:ae,le=e.reverse,be=e.vertical,ke=e.included,Te=ke===void 0?!0:ke,ne=e.startPoint,ce=e.trackStyle,me=e.handleStyle,we=e.railStyle,Le=e.dotStyle,Be=e.activeDotStyle,he=e.marks,qe=e.dots,We=e.handleRender,Fe=e.activeHandleRender,de=e.track,it=e.tabIndex,ft=it===void 0?0:it,fe=e.ariaLabelForHandle,tt=e.ariaLabelledByForHandle,kt=e.ariaRequired,At=e.ariaValueTextFormatterForHandle,Ze=b.useRef(null),Zt=b.useRef(null),nt=b.useMemo(function(){return be?le?"ttb":"btt":le?"rtl":"ltr"},[le,be]),mt=Z4(J),wt=On(mt,5),Et=wt[0],Xt=wt[1],nn=wt[2],dn=wt[3],Dt=wt[4],Jt=b.useMemo(function(){return isFinite(O)?O:0},[O]),Ft=b.useMemo(function(){return isFinite(R)?R:100},[R]),ht=b.useMemo(function(){return G!==null&&G<=0?1:G},[G]),Mt=b.useMemo(function(){return typeof ue=="boolean"?ue?ht:!1:ue>=0?ue:!1},[ue,ht]),tn=b.useMemo(function(){return Object.keys(he||{}).map(function(Jn){var xn=he[Jn],rr={value:Number(Jn)};return xn&&Lr(xn)==="object"&&!b.isValidElement(xn)&&("label"in xn||"style"in xn)?(rr.style=xn.style,rr.label=xn.label):rr.label=xn,rr}).filter(function(Jn){var xn=Jn.label;return xn||typeof xn=="number"}).sort(function(Jn,xn){return Jn.value-xn.value})},[he]),fn=K4(Jt,Ft,ht,tn,Q,Mt),Tt=On(fn,2),zt=Tt[0],jt=Tt[1],ln=ps(te,{value:ee}),an=On(ln,2),hn=an[0],Bn=an[1],Rt=b.useMemo(function(){var Jn=hn==null?[]:Array.isArray(hn)?hn:[hn],xn=On(Jn,1),rr=xn[0],pr=rr===void 0?Jt:rr,gr=hn===null?[]:[pr];if(Et){if(gr=En(Jn),H||hn===void 0){var _i=H>=0?H+1:2;for(gr=gr.slice(0,_i);gr.length<_i;){var Sn;gr.push((Sn=gr[gr.length-1])!==null&&Sn!==void 0?Sn:Jt)}}gr.sort(function(kn,Xn){return kn-Xn})}return gr.forEach(function(kn,Xn){gr[Xn]=zt(kn)}),gr},[hn,Et,Jt,H,zt]),Gt=function(xn){return Et?xn:xn[0]},gn=Ja(function(Jn){var xn=En(Jn).sort(function(rr,pr){return rr-pr});oe&&!vu(xn,Rt,!0)&&oe(Gt(xn)),Bn(xn)}),An=Ja(function(Jn){Jn&&Ze.current.hideHelp();var xn=Gt(Rt);Z?.(xn),rs(!Z,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),X?.(xn)}),Dn=function(xn){if(!(y||!Xt||Rt.length<=dn)){var rr=En(Rt);rr.splice(xn,1),q?.(Gt(rr)),gn(rr);var pr=Math.max(0,xn-1);Ze.current.hideHelp(),Ze.current.focus(pr)}},Kt=W4(Zt,nt,Rt,Jt,Ft,zt,gn,An,jt,Xt,dn),dr=On(Kt,5),mn=dr[0],br=dr[1],Un=dr[2],ur=dr[3],Tr=dr[4],zn=function(xn,rr){if(!y){var pr=En(Rt),gr=0,_i=0,Sn=Ft-Jt;Rt.forEach(function(Fn,xr){var xa=Math.abs(xn-Fn);xa<=Sn&&(Sn=xa,gr=xr),Fn<xn&&(_i=xr)});var kn=gr;Xt&&Sn!==0&&(!Dt||Rt.length<Dt)?(pr.splice(_i+1,0,xn),kn=_i+1):pr[gr]=xn,Et&&!Rt.length&&H===void 0&&pr.push(xn);var Xn=Gt(pr);if(q?.(Xn),gn(pr),rr){var Gr,$r;(Gr=document.activeElement)===null||Gr===void 0||($r=Gr.blur)===null||$r===void 0||$r.call(Gr),Ze.current.focus(kn),Tr(rr,kn,pr)}else Z?.(Xn),rs(!Z,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),X?.(Xn)}},cn=function(xn){xn.preventDefault();var rr=Zt.current.getBoundingClientRect(),pr=rr.width,gr=rr.height,_i=rr.left,Sn=rr.top,kn=rr.bottom,Xn=rr.right,Gr=xn.clientX,$r=xn.clientY,Fn;switch(nt){case"btt":Fn=(kn-$r)/gr;break;case"ttb":Fn=($r-Sn)/gr;break;case"rtl":Fn=(Xn-Gr)/pr;break;default:Fn=(Gr-_i)/pr}var xr=Jt+Fn*(Ft-Jt);zn(zt(xr),xn)},Pr=b.useState(null),Ri=On(Pr,2),Nn=Ri[0],Gn=Ri[1],wn=function(xn,rr){if(!y){var pr=jt(Rt,xn,rr);q?.(Gt(Rt)),gn(pr.values),Gn(pr.value)}};b.useEffect(function(){if(Nn!==null){var Jn=Rt.indexOf(Nn);Jn>=0&&Ze.current.focus(Jn)}Gn(null)},[Nn]);var nr=b.useMemo(function(){return nn&&ht===null?!1:nn},[nn,ht]),sr=Ja(function(Jn,xn){Tr(Jn,xn),q?.(Gt(Rt))}),fr=mn!==-1;b.useEffect(function(){if(!fr){var Jn=Rt.lastIndexOf(br);Ze.current.focus(Jn)}},[fr]);var wr=b.useMemo(function(){return En(ur).sort(function(Jn,xn){return Jn-xn})},[ur]),Nr=b.useMemo(function(){return Et?[wr[0],wr[wr.length-1]]:[Jt,wr[0]]},[wr,Et,Jt]),Si=On(Nr,2),yi=Si[0],mr=Si[1];b.useImperativeHandle(t,function(){return{focus:function(){Ze.current.focus(0)},blur:function(){var xn,rr=document,pr=rr.activeElement;(xn=Zt.current)!==null&&xn!==void 0&&xn.contains(pr)&&pr?.blur()}}}),b.useEffect(function(){x&&Ze.current.focus(0)},[]);var Hi=b.useMemo(function(){return{min:Jt,max:Ft,direction:nt,disabled:y,keyboard:k,step:ht,included:Te,includedStart:yi,includedEnd:mr,range:Et,tabIndex:ft,ariaLabelForHandle:fe,ariaLabelledByForHandle:tt,ariaRequired:kt,ariaValueTextFormatterForHandle:At,styles:c||{},classNames:h||{}}},[Jt,Ft,nt,y,k,ht,Te,yi,mr,Et,ft,fe,tt,kt,At,c,h]);return b.createElement(Dl.Provider,{value:Hi},b.createElement("div",{ref:Zt,className:bt(r,i,Pt(Pt(Pt(Pt({},"".concat(r,"-disabled"),y),"".concat(r,"-vertical"),be),"".concat(r,"-horizontal"),!be),"".concat(r,"-with-marks"),tn.length)),style:l,onMouseDown:cn,id:g},b.createElement("div",{className:bt("".concat(r,"-rail"),h?.rail),style:Wt(Wt({},we),c?.rail)}),de!==!1&&b.createElement(G4,{prefixCls:r,style:ce,values:Rt,startPoint:ne,onStartMove:nr?sr:void 0}),b.createElement(U4,{prefixCls:r,marks:tn,dots:qe,style:Le,activeStyle:Be}),b.createElement(j4,{ref:Ze,prefixCls:r,style:me,values:ur,draggingIndex:mn,draggingDelete:Un,onStartMove:sr,onOffsetChange:wn,onFocus:N,onBlur:T,handleRender:We,activeHandleRender:Fe,onChangeComplete:An,onDelete:Xt?Dn:void 0}),b.createElement(H4,{prefixCls:r,marks:tn,onClick:zn})))});const Y4=b.createContext({}),Kg=b.forwardRef((e,t)=>{const{open:n,draggingDelete:r,value:i}=e,l=b.useRef(null),h=n&&!r,c=b.useRef(null);function g(){Ba.cancel(c.current),c.current=null}function v(){c.current=Ba(()=>{var y;(y=l.current)===null||y===void 0||y.forceAlign(),c.current=null})}return b.useEffect(()=>(h?v():g(),g),[h,e.title,i]),b.createElement(sa,Object.assign({ref:Ps(l,t)},e,{open:h}))}),J4=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:i,marginFull:l,marginPart:h,colorFillContentHover:c,handleColorDisabled:g,calc:v,handleSize:y,handleSizeHover:w,handleActiveColor:k,handleActiveOutlineColor:x,handleLineWidth:N,handleLineWidthHover:T,motionDurationMid:I}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",height:r,margin:`${Qe(h)} ${Qe(l)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${Qe(l)} ${Qe(h)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${I}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${I}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:c},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${Qe(N)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:y,height:y,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:v(N).mul(-1).equal(),insetBlockStart:v(N).mul(-1).equal(),width:v(y).add(v(N).mul(2)).equal(),height:v(y).add(v(N).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:y,height:y,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${Qe(N)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${I},
            inset-block-start ${I},
            width ${I},
            height ${I},
            box-shadow ${I},
            outline ${I}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:v(w).sub(y).div(2).add(T).mul(-1).equal(),insetBlockStart:v(w).sub(y).div(2).add(T).mul(-1).equal(),width:v(w).add(v(T).mul(2)).equal(),height:v(w).add(v(T).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${Qe(T)} ${k}`,outline:`6px solid ${x}`,width:w,height:w,insetInlineStart:e.calc(y).sub(w).div(2).equal(),insetBlockStart:e.calc(y).sub(w).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:i,height:i,backgroundColor:e.colorBgElevated,border:`${Qe(N)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:y,height:y,boxShadow:`0 0 0 ${Qe(N)} ${g}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},y_=(e,t)=>{const{componentCls:n,railSize:r,handleSize:i,dotSize:l,marginFull:h,calc:c}=e,g=t?"paddingBlock":"paddingInline",v=t?"width":"height",y=t?"height":"width",w=t?"insetBlockStart":"insetInlineStart",k=t?"top":"insetInlineStart",x=c(r).mul(3).sub(i).div(2).equal(),N=c(i).sub(r).div(2).equal(),T=t?{borderWidth:`${Qe(N)} 0`,transform:`translateY(${Qe(c(N).mul(-1).equal())})`}:{borderWidth:`0 ${Qe(N)}`,transform:`translateX(${Qe(e.calc(N).mul(-1).equal())})`};return{[g]:r,[y]:c(r).mul(3).equal(),[`${n}-rail`]:{[v]:"100%",[y]:r},[`${n}-track,${n}-tracks`]:{[y]:r},[`${n}-track-draggable`]:Object.assign({},T),[`${n}-handle`]:{[w]:x},[`${n}-mark`]:{insetInlineStart:0,top:0,[k]:c(r).mul(3).add(t?0:h).equal(),[v]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[k]:r,[v]:"100%",[y]:r},[`${n}-dot`]:{position:"absolute",[w]:c(r).sub(l).div(2).equal()}}},Q4=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},y_(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},e5=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},y_(e,!1)),{height:"100%"})}},t5=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,i=e.lineWidth+1,l=e.lineWidth+1*1.5,h=e.colorPrimary,c=new Oo(h).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:i,handleLineWidthHover:l,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:h,handleActiveOutlineColor:c,handleColorDisabled:new Oo(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},n5=zi("Slider",e=>{const t=ba(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[J4(t),Q4(t),e5(t)]},t5);function wd(){const[e,t]=b.useState(!1),n=b.useRef(null),r=()=>{Ba.cancel(n.current)},i=l=>{r(),l?t(l):n.current=Ba(()=>{t(l)})};return b.useEffect(()=>r,[]),[e,i]}var r5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function i5(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const Zg=Ot.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:i,rootClassName:l,style:h,disabled:c,tooltipPrefixCls:g,tipFormatter:v,tooltipVisible:y,getTooltipPopupContainer:w,tooltipPlacement:k,tooltip:x={},onChangeComplete:N,classNames:T,styles:I}=e,O=r5(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:D}=e,{getPrefixCls:R,direction:$,className:G,style:ee,classNames:te,styles:J,getPopupContainer:H}=vs("slider"),oe=Ot.useContext(Eu),q=c??oe,{handleRender:Z,direction:X}=Ot.useContext(Y4),Q=(X||$)==="rtl",[ae,ue]=wd(),[le,be]=wd(),ke=Object.assign({},x),{open:Te,placement:ne,getPopupContainer:ce,prefixCls:me,formatter:we}=ke,Le=Te??y,Be=(ae||le)&&Le!==!1,he=i5(we,v),[qe,We]=wd(),Fe=Et=>{N?.(Et),We(!1)},de=(Et,Xt)=>Et||(Xt?Q?"left":"right":"top"),it=R("slider",n),[ft,fe,tt]=n5(it),kt=bt(i,G,te.root,T?.root,l,{[`${it}-rtl`]:Q,[`${it}-lock`]:qe},fe,tt);Q&&!O.vertical&&(O.reverse=!O.reverse),Ot.useEffect(()=>{const Et=()=>{Ba(()=>{be(!1)},1)};return document.addEventListener("mouseup",Et),()=>{document.removeEventListener("mouseup",Et)}},[]);const At=r&&!Le,Ze=Z||((Et,Xt)=>{const{index:nn}=Xt,dn=Et.props;function Dt(Mt,tn,fn){var Tt,zt,jt,ln;fn&&((zt=(Tt=O)[Mt])===null||zt===void 0||zt.call(Tt,tn)),(ln=(jt=dn)[Mt])===null||ln===void 0||ln.call(jt,tn)}const Jt=Object.assign(Object.assign({},dn),{onMouseEnter:Mt=>{ue(!0),Dt("onMouseEnter",Mt)},onMouseLeave:Mt=>{ue(!1),Dt("onMouseLeave",Mt)},onMouseDown:Mt=>{be(!0),We(!0),Dt("onMouseDown",Mt)},onFocus:Mt=>{var tn;be(!0),(tn=O.onFocus)===null||tn===void 0||tn.call(O,Mt),Dt("onFocus",Mt,!0)},onBlur:Mt=>{var tn;be(!1),(tn=O.onBlur)===null||tn===void 0||tn.call(O,Mt),Dt("onBlur",Mt,!0)}}),Ft=Ot.cloneElement(Et,Jt),ht=(!!Le||Be)&&he!==null;return At?Ft:Ot.createElement(Kg,Object.assign({},ke,{prefixCls:R("tooltip",me??g),title:he?he(Xt.value):"",value:Xt.value,open:ht,placement:de(ne??k,D),key:nn,classNames:{root:`${it}-tooltip`},getPopupContainer:ce||w||H}),Ft)}),Zt=At?(Et,Xt)=>{const nn=Ot.cloneElement(Et,{style:Object.assign(Object.assign({},Et.props.style),{visibility:"hidden"})});return Ot.createElement(Kg,Object.assign({},ke,{prefixCls:R("tooltip",me??g),title:he?he(Xt.value):"",open:he!==null&&Be,placement:de(ne??k,D),key:"tooltip",classNames:{root:`${it}-tooltip`},getPopupContainer:ce||w||H,draggingDelete:Xt.draggingDelete}),nn)}:void 0,nt=Object.assign(Object.assign(Object.assign(Object.assign({},J.root),ee),I?.root),h),mt=Object.assign(Object.assign({},J.tracks),I?.tracks),wt=bt(te.tracks,T?.tracks);return ft(Ot.createElement(X4,Object.assign({},O,{classNames:Object.assign({handle:bt(te.handle,T?.handle),rail:bt(te.rail,T?.rail),track:bt(te.track,T?.track)},wt?{tracks:wt}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},J.handle),I?.handle),rail:Object.assign(Object.assign({},J.rail),I?.rail),track:Object.assign(Object.assign({},J.track),I?.track)},Object.keys(mt).length?{tracks:mt}:{}),step:O.step,range:r,className:kt,style:nt,disabled:q,ref:t,prefixCls:it,handleRender:Ze,activeHandleRender:Zt,onChangeComplete:Fe})))});var Xg=b.createContext(null),__=b.createContext({}),a5=["prefixCls","className","containerRef"],o5=function(t){var n=t.prefixCls,r=t.className,i=t.containerRef,l=$a(t,a5),h=b.useContext(__),c=h.panel,g=ip(c,i);return b.createElement("div",bn({className:bt("".concat(n,"-content"),r),role:"dialog",ref:g},Wo(t,{aria:!0}),{"aria-modal":"true"},l))};function Yg(e){return typeof e=="string"&&String(Number(e))===e?(rs(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Jg={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function s5(e,t){var n,r,i,l=e.prefixCls,h=e.open,c=e.placement,g=e.inline,v=e.push,y=e.forceRender,w=e.autoFocus,k=e.keyboard,x=e.classNames,N=e.rootClassName,T=e.rootStyle,I=e.zIndex,O=e.className,D=e.id,R=e.style,$=e.motion,G=e.width,ee=e.height,te=e.children,J=e.mask,H=e.maskClosable,oe=e.maskMotion,q=e.maskClassName,Z=e.maskStyle,X=e.afterOpenChange,U=e.onClose,Q=e.onMouseEnter,ae=e.onMouseOver,ue=e.onMouseLeave,le=e.onClick,be=e.onKeyDown,ke=e.onKeyUp,Te=e.styles,ne=e.drawerRender,ce=b.useRef(),me=b.useRef(),we=b.useRef();b.useImperativeHandle(t,function(){return ce.current});var Le=function(mt){var wt=mt.keyCode,Et=mt.shiftKey;switch(wt){case _r.TAB:{if(wt===_r.TAB){if(!Et&&document.activeElement===we.current){var Xt;(Xt=me.current)===null||Xt===void 0||Xt.focus({preventScroll:!0})}else if(Et&&document.activeElement===me.current){var nn;(nn=we.current)===null||nn===void 0||nn.focus({preventScroll:!0})}}break}case _r.ESC:{U&&k&&(mt.stopPropagation(),U(mt));break}}};b.useEffect(function(){if(h&&w){var nt;(nt=ce.current)===null||nt===void 0||nt.focus({preventScroll:!0})}},[h]);var Be=b.useState(!1),he=On(Be,2),qe=he[0],We=he[1],Fe=b.useContext(Xg),de;typeof v=="boolean"?de=v?{}:{distance:0}:de=v||{};var it=(n=(r=(i=de)===null||i===void 0?void 0:i.distance)!==null&&r!==void 0?r:Fe?.pushDistance)!==null&&n!==void 0?n:180,ft=b.useMemo(function(){return{pushDistance:it,push:function(){We(!0)},pull:function(){We(!1)}}},[it]);b.useEffect(function(){if(h){var nt;Fe==null||(nt=Fe.push)===null||nt===void 0||nt.call(Fe)}else{var mt;Fe==null||(mt=Fe.pull)===null||mt===void 0||mt.call(Fe)}},[h]),b.useEffect(function(){return function(){var nt;Fe==null||(nt=Fe.pull)===null||nt===void 0||nt.call(Fe)}},[]);var fe=b.createElement(Nl,bn({key:"mask"},oe,{visible:J&&h}),function(nt,mt){var wt=nt.className,Et=nt.style;return b.createElement("div",{className:bt("".concat(l,"-mask"),wt,x?.mask,q),style:Wt(Wt(Wt({},Et),Z),Te?.mask),onClick:H&&h?U:void 0,ref:mt})}),tt=typeof $=="function"?$(c):$,kt={};if(qe&&it)switch(c){case"top":kt.transform="translateY(".concat(it,"px)");break;case"bottom":kt.transform="translateY(".concat(-it,"px)");break;case"left":kt.transform="translateX(".concat(it,"px)");break;default:kt.transform="translateX(".concat(-it,"px)");break}c==="left"||c==="right"?kt.width=Yg(G):kt.height=Yg(ee);var At={onMouseEnter:Q,onMouseOver:ae,onMouseLeave:ue,onClick:le,onKeyDown:be,onKeyUp:ke},Ze=b.createElement(Nl,bn({key:"panel"},tt,{visible:h,forceRender:y,onVisibleChanged:function(mt){X?.(mt)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(nt,mt){var wt=nt.className,Et=nt.style,Xt=b.createElement(o5,bn({id:D,containerRef:mt,prefixCls:l,className:bt(O,x?.content),style:Wt(Wt({},R),Te?.content)},Wo(e,{aria:!0}),At),te);return b.createElement("div",bn({className:bt("".concat(l,"-content-wrapper"),x?.wrapper,wt),style:Wt(Wt(Wt({},kt),Et),Te?.wrapper)},Wo(e,{data:!0})),ne?ne(Xt):Xt)}),Zt=Wt({},T);return I&&(Zt.zIndex=I),b.createElement(Xg.Provider,{value:ft},b.createElement("div",{className:bt(l,"".concat(l,"-").concat(c),N,Pt(Pt({},"".concat(l,"-open"),h),"".concat(l,"-inline"),g)),style:Zt,tabIndex:-1,ref:ce,onKeyDown:Le},fe,b.createElement("div",{tabIndex:0,ref:me,style:Jg,"aria-hidden":"true","data-sentinel":"start"}),Ze,b.createElement("div",{tabIndex:0,ref:we,style:Jg,"aria-hidden":"true","data-sentinel":"end"})))}var l5=b.forwardRef(s5),u5=function(t){var n=t.open,r=n===void 0?!1:n,i=t.prefixCls,l=i===void 0?"rc-drawer":i,h=t.placement,c=h===void 0?"right":h,g=t.autoFocus,v=g===void 0?!0:g,y=t.keyboard,w=y===void 0?!0:y,k=t.width,x=k===void 0?378:k,N=t.mask,T=N===void 0?!0:N,I=t.maskClosable,O=I===void 0?!0:I,D=t.getContainer,R=t.forceRender,$=t.afterOpenChange,G=t.destroyOnClose,ee=t.onMouseEnter,te=t.onMouseOver,J=t.onMouseLeave,H=t.onClick,oe=t.onKeyDown,q=t.onKeyUp,Z=t.panelRef,X=b.useState(!1),U=On(X,2),Q=U[0],ae=U[1],ue=b.useState(!1),le=On(ue,2),be=le[0],ke=le[1];na(function(){ke(!0)},[]);var Te=be?r:!1,ne=b.useRef(),ce=b.useRef();na(function(){Te&&(ce.current=document.activeElement)},[Te]);var me=function(qe){var We;if(ae(qe),$?.(qe),!qe&&ce.current&&!((We=ne.current)!==null&&We!==void 0&&We.contains(ce.current))){var Fe;(Fe=ce.current)===null||Fe===void 0||Fe.focus({preventScroll:!0})}},we=b.useMemo(function(){return{panel:Z}},[Z]);if(!R&&!Q&&!Te&&G)return null;var Le={onMouseEnter:ee,onMouseOver:te,onMouseLeave:J,onClick:H,onKeyDown:oe,onKeyUp:q},Be=Wt(Wt({},t),{},{open:Te,prefixCls:l,placement:c,autoFocus:v,keyboard:w,width:x,mask:T,maskClosable:O,inline:D===!1,afterOpenChange:me,ref:ne},Le);return b.createElement(__.Provider,{value:we},b.createElement(Vv,{open:Te||R||Q,autoDestroy:!1,getContainer:D,autoLock:T&&(Te||Q)},b.createElement(l5,Be)))};const b_=e=>{var t,n;const{prefixCls:r,title:i,footer:l,extra:h,loading:c,onClose:g,headerStyle:v,bodyStyle:y,footerStyle:w,children:k,classNames:x,styles:N}=e,T=vs("drawer"),I=b.useCallback(G=>b.createElement("button",{type:"button",onClick:g,className:`${r}-close`},G),[g]),[O,D]=pp(yu(e),yu(T),{closable:!0,closeIconRender:I}),R=b.useMemo(()=>{var G,ee;return!i&&!O?null:b.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(G=T.styles)===null||G===void 0?void 0:G.header),v),N?.header),className:bt(`${r}-header`,{[`${r}-header-close-only`]:O&&!i&&!h},(ee=T.classNames)===null||ee===void 0?void 0:ee.header,x?.header)},b.createElement("div",{className:`${r}-header-title`},D,i&&b.createElement("div",{className:`${r}-title`},i)),h&&b.createElement("div",{className:`${r}-extra`},h))},[O,D,h,v,r,i]),$=b.useMemo(()=>{var G,ee;if(!l)return null;const te=`${r}-footer`;return b.createElement("div",{className:bt(te,(G=T.classNames)===null||G===void 0?void 0:G.footer,x?.footer),style:Object.assign(Object.assign(Object.assign({},(ee=T.styles)===null||ee===void 0?void 0:ee.footer),w),N?.footer)},l)},[l,w,r]);return b.createElement(b.Fragment,null,R,b.createElement("div",{className:bt(`${r}-body`,x?.body,(t=T.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(n=T.styles)===null||n===void 0?void 0:n.body),y),N?.body)},c?b.createElement(Wv,{active:!0,title:!1,paragraph:{rows:5},className:`${r}-body-skeleton`}):k),$)},c5=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},x_=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),w_=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},x_({opacity:e},{opacity:1})),h5=(e,t)=>[w_(.7,t),x_({transform:c5(e)},{transform:"none"})],d5=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[t]:{[`${t}-mask-motion`]:w_(0,n),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((r,i)=>Object.assign(Object.assign({},r),{[`&-${i}`]:h5(i,n)}),{})}}},f5=e=>{const{borderRadiusSM:t,componentCls:n,zIndexPopup:r,colorBgMask:i,colorBgElevated:l,motionDurationSlow:h,motionDurationMid:c,paddingXS:g,padding:v,paddingLG:y,fontSizeLG:w,lineHeightLG:k,lineWidth:x,lineType:N,colorSplit:T,marginXS:I,colorIcon:O,colorIconHover:D,colorBgTextHover:R,colorBgTextActive:$,colorText:G,fontWeightStrong:ee,footerPaddingBlock:te,footerPaddingInline:J,calc:H}=e,oe=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:G,"&-pure":{position:"relative",background:l,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:r,background:i,pointerEvents:"auto"},[oe]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${h}`,"&-hidden":{display:"none"}},[`&-left > ${oe}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${oe}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${oe}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${oe}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:l,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Qe(v)} ${Qe(y)}`,fontSize:w,lineHeight:k,borderBottom:`${Qe(x)} ${N} ${T}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:H(w).add(g).equal(),height:H(w).add(g).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:I,color:O,fontWeight:ee,fontSize:w,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${c}`,textRendering:"auto","&:hover":{color:D,backgroundColor:R,textDecoration:"none"},"&:active":{backgroundColor:$}},mu(e)),[`${n}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:w,lineHeight:k},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:y,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${Qe(te)} ${Qe(J)}`,borderTop:`${Qe(x)} ${N} ${T}`},"&-rtl":{direction:"rtl"}}}},p5=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),C_=zi("Drawer",e=>{const t=ba(e,{});return[f5(t),d5(t)]},p5);var S_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const g5={distance:180},E_=e=>{const{rootClassName:t,width:n,height:r,size:i="default",mask:l=!0,push:h=g5,open:c,afterOpenChange:g,onClose:v,prefixCls:y,getContainer:w,panelRef:k=null,style:x,className:N,visible:T,afterVisibleChange:I,maskStyle:O,drawerStyle:D,contentWrapperStyle:R,destroyOnClose:$,destroyOnHidden:G}=e,ee=S_(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","panelRef","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:te,getPrefixCls:J,direction:H,className:oe,style:q,classNames:Z,styles:X}=vs("drawer"),U=J("drawer",y),[Q,ae,ue]=C_(U),le=w===void 0&&te?()=>te(document.body):w,be=bt({"no-mask":!l,[`${U}-rtl`]:H==="rtl"},t,ae,ue),ke=b.useMemo(()=>n??(i==="large"?736:378),[n,i]),Te=b.useMemo(()=>r??(i==="large"?736:378),[r,i]),ne={motionName:pu(U,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ce=We=>({motionName:pu(U,`panel-motion-${We}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),me=Ly(),we=Ps(k,me),[Le,Be]=jh("Drawer",ee.zIndex),{classNames:he={},styles:qe={}}=ee;return Q(b.createElement(ec,{form:!0,space:!0},b.createElement(op.Provider,{value:Be},b.createElement(u5,Object.assign({prefixCls:U,onClose:v,maskMotion:ne,motion:ce},ee,{classNames:{mask:bt(he.mask,Z.mask),content:bt(he.content,Z.content),wrapper:bt(he.wrapper,Z.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},qe.mask),O),X.mask),content:Object.assign(Object.assign(Object.assign({},qe.content),D),X.content),wrapper:Object.assign(Object.assign(Object.assign({},qe.wrapper),R),X.wrapper)},open:c??T,mask:l,push:h,width:ke,height:Te,style:Object.assign(Object.assign({},q),x),className:bt(oe,N),rootClassName:be,getContainer:le,afterOpenChange:g??I,panelRef:we,zIndex:Le,destroyOnClose:G??$}),b.createElement(b_,Object.assign({prefixCls:U},ee,{onClose:v}))))))},m5=e=>{const{prefixCls:t,style:n,className:r,placement:i="right"}=e,l=S_(e,["prefixCls","style","className","placement"]),{getPrefixCls:h}=b.useContext(Jr),c=h("drawer",t),[g,v,y]=C_(c),w=bt(c,`${c}-pure`,`${c}-${i}`,v,y,r);return g(b.createElement("div",{className:w,style:n},b.createElement(b_,Object.assign({prefixCls:c},l))))};E_._InternalPanelDoNotUseOrYouWillBeFired=m5;var v5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const k_=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=b.useContext(Jr),{prefixCls:i,type:l="default",danger:h,disabled:c,loading:g,onClick:v,htmlType:y,children:w,className:k,menu:x,arrow:N,autoFocus:T,overlay:I,trigger:O,align:D,open:R,onOpenChange:$,placement:G,getPopupContainer:ee,href:te,icon:J=b.createElement(Kv,null),title:H,buttonsRender:oe=Fe=>Fe,mouseEnterDelay:q,mouseLeaveDelay:Z,overlayClassName:X,overlayStyle:U,destroyOnHidden:Q,destroyPopupOnHide:ae,dropdownRender:ue,popupRender:le}=e,be=v5(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),ke=n("dropdown",i),Te=`${ke}-button`,ce={menu:x,arrow:N,autoFocus:T,align:D,disabled:c,trigger:c?[]:O,onOpenChange:$,getPopupContainer:ee||t,mouseEnterDelay:q,mouseLeaveDelay:Z,overlayClassName:X,overlayStyle:U,destroyOnHidden:Q,popupRender:le||ue},{compactSize:me,compactItemClassnames:we}=hy(ke,r),Le=bt(Te,we,k);"destroyPopupOnHide"in e&&(ce.destroyPopupOnHide=ae),"overlay"in e&&(ce.overlay=I),"open"in e&&(ce.open=R),"placement"in e?ce.placement=G:ce.placement=r==="rtl"?"bottomLeft":"bottomRight";const Be=b.createElement(ii,{type:l,danger:h,disabled:c,loading:g,onClick:v,htmlType:y,href:te,title:H},w),he=b.createElement(ii,{type:l,danger:h,icon:J}),[qe,We]=oe([Be,he]);return b.createElement(_a.Compact,Object.assign({className:Le,size:me,block:!0},be),qe,b.createElement(Kh,Object.assign({},ce),We))};k_.__ANT_BUTTON=!0;const _p=Kh;_p.Button=k_;function y5(e){return e==null?null:typeof e=="object"&&!b.isValidElement(e)?e:{title:e}}function _h(e){const[t,n]=b.useState(e);return b.useEffect(()=>{const r=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(r)}},[e]),t}const _5=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},
                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},
                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},b5=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Qe(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),Qg=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},x5=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},Pi(e)),b5(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},Qg(e,e.controlHeightSM)),"&-large":Object.assign({},Qg(e,e.controlHeightLG))})}},w5=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:i,labelRequiredMarkColor:l,labelColor:h,labelFontSize:c,labelHeight:g,labelColonMarginInlineStart:v,labelColonMarginInlineEnd:y,itemMarginBottom:w}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{marginBottom:w,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:g,color:h,fontSize:c,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:l,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:v,marginInlineEnd:y},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${i}-switch:only-child, > ${i}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:Xv,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},wl=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),C5=e=>{const{antCls:t,formItemCls:n}=e;return{[`${n}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}},[`${t}-col-24${n}-label,
        ${t}-col-xl-24${n}-label`]:wl(e)}}},S5=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[`${n}-inline`]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},E5=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:wl(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},k5=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${n}-vertical`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:wl(e)},[`@media (max-width: ${Qe(e.screenXSMax)})`]:[E5(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:wl(e)}}}],[`@media (max-width: ${Qe(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:wl(e)}}},[`@media (max-width: ${Qe(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:wl(e)}}},[`@media (max-width: ${Qe(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:wl(e)}}}}},L5=e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),L_=(e,t)=>ba(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),bp=zi("Form",(e,{rootPrefixCls:t})=>{const n=L_(e,t);return[x5(n),w5(n),_5(n),C5(n),S5(n),k5(n),fp(n),Xv]},L5,{order:-1e3}),em=[];function Cd(e,t,n,r=0){return{key:typeof e=="string"?e:`${t}-${r}`,error:e,errorStatus:n}}const N_=({help:e,helpStatus:t,errors:n=em,warnings:r=em,className:i,fieldId:l,onVisibleChanged:h})=>{const{prefixCls:c}=b.useContext(lp),g=`${c}-item-explain`,v=Zo(c),[y,w,k]=bp(c,v),x=b.useMemo(()=>dh(c),[c]),N=_h(n),T=_h(r),I=b.useMemo(()=>e!=null?[Cd(e,"help",t)]:[].concat(En(N.map((R,$)=>Cd(R,"error","error",$))),En(T.map((R,$)=>Cd(R,"warning","warning",$)))),[e,t,N,T]),O=b.useMemo(()=>{const R={};return I.forEach(({key:$})=>{R[$]=(R[$]||0)+1}),I.map(($,G)=>Object.assign(Object.assign({},$),{key:R[$.key]>1?`${$.key}-fallback-${G}`:$.key}))},[I]),D={};return l&&(D.id=`${l}_help`),y(b.createElement(Nl,{motionDeadline:x.motionDeadline,motionName:`${c}-show-help`,visible:!!O.length,onVisibleChanged:h},R=>{const{className:$,style:G}=R;return b.createElement("div",Object.assign({},D,{className:bt(g,$,k,v,i,w),style:G}),b.createElement(x2,Object.assign({keys:O},dh(c),{motionName:`${c}-show-help-item`,component:!1}),ee=>{const{key:te,error:J,errorStatus:H,className:oe,style:q}=ee;return b.createElement("div",{key:te,className:bt(oe,{[`${g}-${H}`]:H}),style:q},J)}))}))};var N5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const M5=(e,t)=>{const n=b.useContext(Eu),{getPrefixCls:r,direction:i,requiredMark:l,colon:h,scrollToFirstError:c,className:g,style:v}=vs("form"),{prefixCls:y,className:w,rootClassName:k,size:x,disabled:N=n,form:T,colon:I,labelAlign:O,labelWrap:D,labelCol:R,wrapperCol:$,hideRequiredMark:G,layout:ee="horizontal",scrollToFirstError:te,requiredMark:J,onFinishFailed:H,name:oe,style:q,feedbackIcons:Z,variant:X}=e,U=N5(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),Q=ul(x),ae=b.useContext(w2),ue=b.useMemo(()=>J!==void 0?J:G?!1:l!==void 0?l:!0,[G,J,l]),le=I??h,be=r("form",y),ke=Zo(be),[Te,ne,ce]=bp(be,ke),me=bt(be,`${be}-${ee}`,{[`${be}-hide-required-mark`]:ue===!1,[`${be}-rtl`]:i==="rtl",[`${be}-${Q}`]:Q},ce,ke,ne,g,w,k),[we]=o_(T),{__INTERNAL__:Le}=we;Le.name=oe;const Be=b.useMemo(()=>({name:oe,labelAlign:O,labelCol:R,labelWrap:D,wrapperCol:$,layout:ee,colon:le,requiredMark:ue,itemRef:Le.itemRef,form:we,feedbackIcons:Z}),[oe,O,R,$,ee,le,ue,we,Z]),he=b.useRef(null);b.useImperativeHandle(t,()=>{var Fe;return Object.assign(Object.assign({},we),{nativeElement:(Fe=he.current)===null||Fe===void 0?void 0:Fe.nativeElement})});const qe=(Fe,de)=>{if(Fe){let it={block:"nearest"};typeof Fe=="object"&&(it=Object.assign(Object.assign({},it),Fe)),we.scrollToField(de,it)}},We=Fe=>{if(H?.(Fe),Fe.errorFields.length){const de=Fe.errorFields[0].name;if(te!==void 0){qe(te,de);return}c!==void 0&&qe(c,de)}};return Te(b.createElement(C2.Provider,{value:X},b.createElement(ry,{disabled:N},b.createElement(S2.Provider,{value:Q},b.createElement(fy,{validateMessages:ae},b.createElement(Hs.Provider,{value:Be},b.createElement(E2,{status:!0},b.createElement(k2,Object.assign({id:oe},U,{name:oe,onFinishFailed:We,form:we,ref:he,style:Object.assign(Object.assign({},v),q),className:me})))))))))},P5=b.forwardRef(M5);function I5(e){if(typeof e=="function")return e;const t=Rl(e);return t.length<=1?t[0]:t}const M_=()=>{const{status:e,errors:t=[],warnings:n=[]}=b.useContext(ol);return{status:e,errors:t,warnings:n}};M_.Context=ol;function O5(e){const[t,n]=b.useState(e),r=b.useRef(null),i=b.useRef([]),l=b.useRef(!1);b.useEffect(()=>(l.current=!1,()=>{l.current=!0,Ba.cancel(r.current),r.current=null}),[]);function h(c){l.current||(r.current===null&&(i.current=[],r.current=Ba(()=>{r.current=null,n(g=>{let v=g;return i.current.forEach(y=>{v=y(v)}),v})})),i.current.push(c))}return[t,h]}function A5(){const{itemRef:e}=b.useContext(Hs),t=b.useRef({});function n(r,i){const l=i&&typeof i=="object"&&ay(i),h=r.join("_");return(t.current.name!==h||t.current.originRef!==l)&&(t.current.name=h,t.current.originRef=l,t.current.ref=Ps(e(r),l)),t.current.ref}return n}const T5=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},R5=cc(["Form","item-item"],(e,{rootPrefixCls:t})=>{const n=L_(e,t);return T5(n)});var B5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const D5=24,$5=e=>{const{prefixCls:t,status:n,labelCol:r,wrapperCol:i,children:l,errors:h,warnings:c,_internalItemRender:g,extra:v,help:y,fieldId:w,marginBottom:k,onErrorVisibleChanged:x,label:N}=e,T=`${t}-item`,I=b.useContext(Hs),O=b.useMemo(()=>{let U=Object.assign({},i||I.wrapperCol||{});return N===null&&!r&&!i&&I.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(ae=>{const ue=ae?[ae]:[],le=tc(I.labelCol,ue),be=typeof le=="object"?le:{},ke=tc(U,ue),Te=typeof ke=="object"?ke:{};"span"in be&&!("offset"in Te)&&be.span<D5&&(U=L2(U,[].concat(ue,["offset"]),be.span))}),U},[i,I]),D=bt(`${T}-control`,O.className),R=b.useMemo(()=>{const{labelCol:U,wrapperCol:Q}=I;return B5(I,["labelCol","wrapperCol"])},[I]),$=b.useRef(null),[G,ee]=b.useState(0);na(()=>{v&&$.current?ee($.current.clientHeight):ee(0)},[v]);const te=b.createElement("div",{className:`${T}-control-input`},b.createElement("div",{className:`${T}-control-input-content`},l)),J=b.useMemo(()=>({prefixCls:t,status:n}),[t,n]),H=k!==null||h.length||c.length?b.createElement(lp.Provider,{value:J},b.createElement(N_,{fieldId:w,errors:h,warnings:c,help:y,helpStatus:n,className:`${T}-explain-connected`,onVisibleChanged:x})):null,oe={};w&&(oe.id=`${w}_extra`);const q=v?b.createElement("div",Object.assign({},oe,{className:`${T}-extra`,ref:$}),v):null,Z=H||q?b.createElement("div",{className:`${T}-additional`,style:k?{minHeight:k+G}:{}},H,q):null,X=g&&g.mark==="pro_table_render"&&g.render?g.render(e,{input:te,errorList:H,extra:q}):b.createElement(b.Fragment,null,te,Z);return b.createElement(Hs.Provider,{value:R},b.createElement(gs,Object.assign({},O,{className:D}),X),b.createElement(R5,{prefixCls:t}))};var F5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},j5=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:F5}))},z5=b.forwardRef(j5),H5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const q5=({prefixCls:e,label:t,htmlFor:n,labelCol:r,labelAlign:i,colon:l,required:h,requiredMark:c,tooltip:g,vertical:v})=>{var y;const[w]=Tl("Form"),{labelAlign:k,labelCol:x,labelWrap:N,colon:T}=b.useContext(Hs);if(!t)return null;const I=r||x||{},O=i||k,D=`${e}-item-label`,R=bt(D,O==="left"&&`${D}-left`,I.className,{[`${D}-wrap`]:!!N});let $=t;const G=l===!0||T!==!1&&l!==!1;G&&!v&&typeof t=="string"&&t.trim()&&($=t.replace(/[:|]\s*$/,""));const te=y5(g);if(te){const{icon:X=b.createElement(z5,null)}=te,U=H5(te,["icon"]),Q=b.createElement(sa,Object.assign({},U),b.cloneElement(X,{className:`${e}-item-tooltip`,title:"",onClick:ae=>{ae.preventDefault()},tabIndex:null}));$=b.createElement(b.Fragment,null,$,Q)}const J=c==="optional",H=typeof c=="function",oe=c===!1;H?$=c($,{required:!!h}):J&&!h&&($=b.createElement(b.Fragment,null,$,b.createElement("span",{className:`${e}-item-optional`,title:""},w?.optional||((y=Fh.Form)===null||y===void 0?void 0:y.optional))));let q;oe?q="hidden":(J||H)&&(q="optional");const Z=bt({[`${e}-item-required`]:h,[`${e}-item-required-mark-${q}`]:q,[`${e}-item-no-colon`]:!G});return b.createElement(gs,Object.assign({},I,{className:R}),b.createElement("label",{htmlFor:n,className:Z,title:typeof t=="string"?t:""},$))},U5={success:dp,warning:hp,error:rp,validating:Uh};function P_({children:e,errors:t,warnings:n,hasFeedback:r,validateStatus:i,prefixCls:l,meta:h,noStyle:c,name:g}){const v=`${l}-item`,{feedbackIcons:y}=b.useContext(Hs),w=a_(t,n,h,null,!!r,i),{isFormItemInput:k,status:x,hasFeedback:N,feedbackIcon:T,name:I}=b.useContext(ol),O=b.useMemo(()=>{var D;let R;if(r){const G=r!==!0&&r.icons||y,ee=w&&((D=G?.({status:w,errors:t,warnings:n}))===null||D===void 0?void 0:D[w]),te=w&&U5[w];R=ee!==!1&&te?b.createElement("span",{className:bt(`${v}-feedback-icon`,`${v}-feedback-icon-${w}`)},ee||b.createElement(te,null)):null}const $={status:w||"",errors:t,warnings:n,hasFeedback:!!r,feedbackIcon:R,isFormItemInput:!0,name:g};return c&&($.status=(w??x)||"",$.isFormItemInput=k,$.hasFeedback=!!(r??N),$.feedbackIcon=r!==void 0?$.feedbackIcon:T,$.name=g??I),$},[w,r,c,k,x]);return b.createElement(ol.Provider,{value:O},e)}var G5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function V5(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:l,errors:h,warnings:c,validateStatus:g,meta:v,hasFeedback:y,hidden:w,children:k,fieldId:x,required:N,isRequired:T,onSubItemMetaChange:I,layout:O,name:D}=e,R=G5(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),$=`${t}-item`,{requiredMark:G,layout:ee}=b.useContext(Hs),te=O||ee,J=te==="vertical",H=b.useRef(null),oe=_h(h),q=_h(c),Z=l!=null,X=!!(Z||h.length||c.length),U=!!H.current&&py(H.current),[Q,ae]=b.useState(null);na(()=>{if(X&&H.current){const Te=getComputedStyle(H.current);ae(parseInt(Te.marginBottom,10))}},[X,U]);const ue=Te=>{Te||ae(null)},be=((Te=!1)=>{const ne=Te?oe:v.errors,ce=Te?q:v.warnings;return a_(ne,ce,v,"",!!y,g)})(),ke=bt($,n,r,{[`${$}-with-help`]:Z||oe.length||q.length,[`${$}-has-feedback`]:be&&y,[`${$}-has-success`]:be==="success",[`${$}-has-warning`]:be==="warning",[`${$}-has-error`]:be==="error",[`${$}-is-validating`]:be==="validating",[`${$}-hidden`]:w,[`${$}-${te}`]:te});return b.createElement("div",{className:ke,style:i,ref:H},b.createElement(ku,Object.assign({className:`${$}-row`},Xo(R,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),b.createElement(q5,Object.assign({htmlFor:x},e,{requiredMark:G,required:N??T,prefixCls:t,vertical:J})),b.createElement($5,Object.assign({},e,v,{errors:oe,warnings:q,prefixCls:t,status:be,help:l,marginBottom:Q,onErrorVisibleChanged:ue}),b.createElement(gy.Provider,{value:I},b.createElement(P_,{prefixCls:t,meta:v,errors:v.errors,warnings:v.warnings,hasFeedback:y,validateStatus:be,name:D},k)))),!!Q&&b.createElement("div",{className:`${$}-margin-offset`,style:{marginBottom:-Q}}))}const W5="__SPLIT__";function K5(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>{const l=e[i],h=t[i];return l===h||typeof l=="function"||typeof h=="function"})}const Z5=b.memo(({children:e})=>e,(e,t)=>K5(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((n,r)=>n===t.childProps[r]));function tm(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function X5(e){const{name:t,noStyle:n,className:r,dependencies:i,prefixCls:l,shouldUpdate:h,rules:c,children:g,required:v,label:y,messageVariables:w,trigger:k="onChange",validateTrigger:x,hidden:N,help:T,layout:I}=e,{getPrefixCls:O}=b.useContext(Jr),{name:D}=b.useContext(Hs),R=I5(g),$=typeof R=="function",G=b.useContext(gy),{validateTrigger:ee}=b.useContext(N2),te=x!==void 0?x:ee,J=t!=null,H=O("form",l),oe=Zo(H),[q,Z,X]=bp(H,oe);hc();const U=b.useContext(M2),Q=b.useRef(null),[ae,ue]=O5({}),[le,be]=ty(()=>tm()),ke=Be=>{const he=U?.getKey(Be.name);if(be(Be.destroy?tm():Be,!0),n&&T!==!1&&G){let qe=Be.name;if(Be.destroy)qe=Q.current||qe;else if(he!==void 0){const[We,Fe]=he;qe=[We].concat(En(Fe)),Q.current=qe}G(Be,qe)}},Te=(Be,he)=>{ue(qe=>{const We=Object.assign({},qe),de=[].concat(En(Be.name.slice(0,-1)),En(he)).join(W5);return Be.destroy?delete We[de]:We[de]=Be,We})},[ne,ce]=b.useMemo(()=>{const Be=En(le.errors),he=En(le.warnings);return Object.values(ae).forEach(qe=>{Be.push.apply(Be,En(qe.errors||[])),he.push.apply(he,En(qe.warnings||[]))}),[Be,he]},[ae,le.errors,le.warnings]),me=A5();function we(Be,he,qe){return n&&!N?b.createElement(P_,{prefixCls:H,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:le,errors:ne,warnings:ce,noStyle:!0,name:t},Be):b.createElement(V5,Object.assign({key:"row"},e,{className:bt(r,X,oe,Z),prefixCls:H,fieldId:he,isRequired:qe,errors:ne,warnings:ce,meta:le,onSubItemMetaChange:Te,layout:I,name:t}),Be)}if(!J&&!$&&!i)return q(we(R));let Le={};return typeof y=="string"?Le.label=y:t&&(Le.label=String(t)),w&&(Le=Object.assign(Object.assign({},Le),w)),q(b.createElement(P2,Object.assign({},e,{messageVariables:Le,trigger:k,validateTrigger:te,onMetaChange:ke}),(Be,he,qe)=>{const We=Ku(t).length&&he?he.name:[],Fe=i_(We,D),de=v!==void 0?v:!!c?.some(fe=>{if(fe&&typeof fe=="object"&&fe.required&&!fe.warningOnly)return!0;if(typeof fe=="function"){const tt=fe(qe);return tt?.required&&!tt?.warningOnly}return!1}),it=Object.assign({},Be);let ft=null;if(Array.isArray(R)&&J)ft=R;else if(!($&&(!(h||i)||J))){if(!(i&&!$&&!J))if(b.isValidElement(R)){const fe=Object.assign(Object.assign({},R.props),it);if(fe.id||(fe.id=Fe),T||ne.length>0||ce.length>0||e.extra){const At=[];(T||ne.length>0)&&At.push(`${Fe}_help`),e.extra&&At.push(`${Fe}_extra`),fe["aria-describedby"]=At.join(" ")}ne.length>0&&(fe["aria-invalid"]="true"),de&&(fe["aria-required"]="true"),vf(R)&&(fe.ref=me(We,R)),new Set([].concat(En(Ku(k)),En(Ku(te)))).forEach(At=>{fe[At]=(...Ze)=>{var Zt,nt,mt,wt,Et;(mt=it[At])===null||mt===void 0||(Zt=mt).call.apply(Zt,[it].concat(Ze)),(Et=(wt=R.props)[At])===null||Et===void 0||(nt=Et).call.apply(nt,[wt].concat(Ze))}});const kt=[fe["aria-required"],fe["aria-invalid"],fe["aria-describedby"]];ft=b.createElement(Z5,{control:it,update:R,childProps:kt},Ls(R,fe))}else $&&(h||i)&&!J?ft=R(qe):ft=R}return we(ft,Fe,de)}))}const I_=X5;I_.useStatus=M_;var Y5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const J5=e=>{var{prefixCls:t,children:n}=e,r=Y5(e,["prefixCls","children"]);const{getPrefixCls:i}=b.useContext(Jr),l=i("form",t),h=b.useMemo(()=>({prefixCls:l,status:"error"}),[l]);return b.createElement(I2,Object.assign({},r),(c,g,v)=>b.createElement(lp.Provider,{value:h},n(c.map(y=>Object.assign(Object.assign({},y),{fieldKey:y.key})),g,{errors:v.errors,warnings:v.warnings})))};function Q5(){const{form:e}=b.useContext(Hs);return e}const Ya=P5;Ya.Item=I_;Ya.List=J5;Ya.ErrorList=N_;Ya.useForm=o_;Ya.useFormInstance=Q5;Ya.useWatch=O2;Ya.Provider=fy;Ya.create=()=>{};function nm(e,t,n,r){var i=gg.unstable_batchedUpdates?function(h){gg.unstable_batchedUpdates(n,h)}:n;return e!=null&&e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,r)}}}function eS(e,t,n){return typeof n=="boolean"?n:e.length?!0:Rl(t).some(i=>i.type===Ky)}var O_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Xh({suffixCls:e,tagName:t,displayName:n}){return r=>b.forwardRef((l,h)=>b.createElement(r,Object.assign({ref:h,suffixCls:e,tagName:t},l)))}const xp=b.forwardRef((e,t)=>{const{prefixCls:n,suffixCls:r,className:i,tagName:l}=e,h=O_(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:c}=b.useContext(Jr),g=c("layout",n),[v,y,w]=Wy(g),k=r?`${g}-${r}`:g;return v(b.createElement(l,Object.assign({className:bt(n||k,i,y,w),ref:t},h)))}),tS=b.forwardRef((e,t)=>{const{direction:n}=b.useContext(Jr),[r,i]=b.useState([]),{prefixCls:l,className:h,rootClassName:c,children:g,hasSider:v,tagName:y,style:w}=e,k=O_(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),x=Xo(k,["suffixCls"]),{getPrefixCls:N,className:T,style:I}=vs("layout"),O=N("layout",l),D=eS(r,g,v),[R,$,G]=Wy(O),ee=bt(O,{[`${O}-has-sider`]:D,[`${O}-rtl`]:n==="rtl"},T,h,c,$,G),te=b.useMemo(()=>({siderHook:{addSider:J=>{i(H=>[].concat(En(H),[J]))},removeSider:J=>{i(H=>H.filter(oe=>oe!==J))}}}),[]);return R(b.createElement(Uy.Provider,{value:te},b.createElement(y,Object.assign({ref:t,className:ee,style:Object.assign(Object.assign({},I),w)},x),g)))}),nS=Xh({tagName:"div",displayName:"Layout"})(tS),rS=Xh({suffixCls:"header",tagName:"header",displayName:"Header"})(xp),iS=Xh({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(xp),aS=Xh({suffixCls:"content",tagName:"main",displayName:"Content"})(xp),qs=nS;qs.Header=rS;qs.Footer=iS;qs.Content=aS;qs.Sider=Ky;qs._InternalSiderContext=Wh;var oS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},sS=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:oS}))},rm=b.forwardRef(sS),lS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},uS=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:lS}))},im=b.forwardRef(uS),cS={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""},hS=[10,20,50,100],dS=function(t){var n=t.pageSizeOptions,r=n===void 0?hS:n,i=t.locale,l=t.changeSize,h=t.pageSize,c=t.goButton,g=t.quickGo,v=t.rootPrefixCls,y=t.disabled,w=t.buildOptionText,k=t.showSizeChanger,x=t.sizeChangerRender,N=Ot.useState(""),T=On(N,2),I=T[0],O=T[1],D=function(){return!I||Number.isNaN(I)?void 0:Number(I)},R=typeof w=="function"?w:function(Z){return"".concat(Z," ").concat(i.items_per_page)},$=function(X){O(X.target.value)},G=function(X){c||I===""||(O(""),!(X.relatedTarget&&(X.relatedTarget.className.indexOf("".concat(v,"-item-link"))>=0||X.relatedTarget.className.indexOf("".concat(v,"-item"))>=0))&&g?.(D()))},ee=function(X){I!==""&&(X.keyCode===_r.ENTER||X.type==="click")&&(O(""),g?.(D()))},te=function(){return r.some(function(X){return X.toString()===h.toString()})?r:r.concat([h]).sort(function(X,U){var Q=Number.isNaN(Number(X))?0:Number(X),ae=Number.isNaN(Number(U))?0:Number(U);return Q-ae})},J="".concat(v,"-options");if(!k&&!g)return null;var H=null,oe=null,q=null;return k&&x&&(H=x({disabled:y,size:h,onSizeChange:function(X){l?.(Number(X))},"aria-label":i.page_size,className:"".concat(J,"-size-changer"),options:te().map(function(Z){return{label:R(Z),value:Z}})})),g&&(c&&(q=typeof c=="boolean"?Ot.createElement("button",{type:"button",onClick:ee,onKeyUp:ee,disabled:y,className:"".concat(J,"-quick-jumper-button")},i.jump_to_confirm):Ot.createElement("span",{onClick:ee,onKeyUp:ee},c)),oe=Ot.createElement("div",{className:"".concat(J,"-quick-jumper")},i.jump_to,Ot.createElement("input",{disabled:y,type:"text",value:I,onChange:$,onKeyUp:ee,onBlur:G,"aria-label":i.page}),i.page,q)),Ot.createElement("li",{className:J},H,oe)},Fu=function(t){var n=t.rootPrefixCls,r=t.page,i=t.active,l=t.className,h=t.showTitle,c=t.onClick,g=t.onKeyPress,v=t.itemRender,y="".concat(n,"-item"),w=bt(y,"".concat(y,"-").concat(r),Pt(Pt({},"".concat(y,"-active"),i),"".concat(y,"-disabled"),!r),l),k=function(){c(r)},x=function(I){g(I,c,r)},N=v(r,"page",Ot.createElement("a",{rel:"nofollow"},r));return N?Ot.createElement("li",{title:h?String(r):null,className:w,onClick:k,onKeyDown:x,tabIndex:0},N):null},fS=function(t,n,r){return r};function am(){}function om(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function yl(e,t,n){var r=typeof e>"u"?t:e;return Math.floor((n-1)/r)+1}var pS=function(t){var n=t.prefixCls,r=n===void 0?"rc-pagination":n,i=t.selectPrefixCls,l=i===void 0?"rc-select":i,h=t.className,c=t.current,g=t.defaultCurrent,v=g===void 0?1:g,y=t.total,w=y===void 0?0:y,k=t.pageSize,x=t.defaultPageSize,N=x===void 0?10:x,T=t.onChange,I=T===void 0?am:T,O=t.hideOnSinglePage,D=t.align,R=t.showPrevNextJumpers,$=R===void 0?!0:R,G=t.showQuickJumper,ee=t.showLessItems,te=t.showTitle,J=te===void 0?!0:te,H=t.onShowSizeChange,oe=H===void 0?am:H,q=t.locale,Z=q===void 0?cS:q,X=t.style,U=t.totalBoundaryShowSizeChanger,Q=U===void 0?50:U,ae=t.disabled,ue=t.simple,le=t.showTotal,be=t.showSizeChanger,ke=be===void 0?w>Q:be,Te=t.sizeChangerRender,ne=t.pageSizeOptions,ce=t.itemRender,me=ce===void 0?fS:ce,we=t.jumpPrevIcon,Le=t.jumpNextIcon,Be=t.prevIcon,he=t.nextIcon,qe=Ot.useRef(null),We=ps(10,{value:k,defaultValue:N}),Fe=On(We,2),de=Fe[0],it=Fe[1],ft=ps(1,{value:c,defaultValue:v,postState:function(kn){return Math.max(1,Math.min(kn,yl(void 0,de,w)))}}),fe=On(ft,2),tt=fe[0],kt=fe[1],At=Ot.useState(tt),Ze=On(At,2),Zt=Ze[0],nt=Ze[1];b.useEffect(function(){nt(tt)},[tt]);var mt=Math.max(1,tt-(ee?3:5)),wt=Math.min(yl(void 0,de,w),tt+(ee?3:5));function Et(Sn,kn){var Xn=Sn||Ot.createElement("button",{type:"button","aria-label":kn,className:"".concat(r,"-item-link")});return typeof Sn=="function"&&(Xn=Ot.createElement(Sn,Wt({},t))),Xn}function Xt(Sn){var kn=Sn.target.value,Xn=yl(void 0,de,w),Gr;return kn===""?Gr=kn:Number.isNaN(Number(kn))?Gr=Zt:kn>=Xn?Gr=Xn:Gr=Number(kn),Gr}function nn(Sn){return om(Sn)&&Sn!==tt&&om(w)&&w>0}var dn=w>de?G:!1;function Dt(Sn){(Sn.keyCode===_r.UP||Sn.keyCode===_r.DOWN)&&Sn.preventDefault()}function Jt(Sn){var kn=Xt(Sn);switch(kn!==Zt&&nt(kn),Sn.keyCode){case _r.ENTER:Mt(kn);break;case _r.UP:Mt(kn-1);break;case _r.DOWN:Mt(kn+1);break}}function Ft(Sn){Mt(Xt(Sn))}function ht(Sn){var kn=yl(Sn,de,w),Xn=tt>kn&&kn!==0?kn:tt;it(Sn),nt(Xn),oe?.(tt,Sn),kt(Xn),I?.(Xn,Sn)}function Mt(Sn){if(nn(Sn)&&!ae){var kn=yl(void 0,de,w),Xn=Sn;return Sn>kn?Xn=kn:Sn<1&&(Xn=1),Xn!==Zt&&nt(Xn),kt(Xn),I?.(Xn,de),Xn}return tt}var tn=tt>1,fn=tt<yl(void 0,de,w);function Tt(){tn&&Mt(tt-1)}function zt(){fn&&Mt(tt+1)}function jt(){Mt(mt)}function ln(){Mt(wt)}function an(Sn,kn){if(Sn.key==="Enter"||Sn.charCode===_r.ENTER||Sn.keyCode===_r.ENTER){for(var Xn=arguments.length,Gr=new Array(Xn>2?Xn-2:0),$r=2;$r<Xn;$r++)Gr[$r-2]=arguments[$r];kn.apply(void 0,Gr)}}function hn(Sn){an(Sn,Tt)}function Bn(Sn){an(Sn,zt)}function Rt(Sn){an(Sn,jt)}function Gt(Sn){an(Sn,ln)}function gn(Sn){var kn=me(Sn,"prev",Et(Be,"prev page"));return Ot.isValidElement(kn)?Ot.cloneElement(kn,{disabled:!tn}):kn}function An(Sn){var kn=me(Sn,"next",Et(he,"next page"));return Ot.isValidElement(kn)?Ot.cloneElement(kn,{disabled:!fn}):kn}function Dn(Sn){(Sn.type==="click"||Sn.keyCode===_r.ENTER)&&Mt(Zt)}var Kt=null,dr=Wo(t,{aria:!0,data:!0}),mn=le&&Ot.createElement("li",{className:"".concat(r,"-total-text")},le(w,[w===0?0:(tt-1)*de+1,tt*de>w?w:tt*de])),br=null,Un=yl(void 0,de,w);if(O&&w<=de)return null;var ur=[],Tr={rootPrefixCls:r,onClick:Mt,onKeyPress:an,showTitle:J,itemRender:me,page:-1},zn=tt-1>0?tt-1:0,cn=tt+1<Un?tt+1:Un,Pr=G&&G.goButton,Ri=Lr(ue)==="object"?ue.readOnly:!ue,Nn=Pr,Gn=null;ue&&(Pr&&(typeof Pr=="boolean"?Nn=Ot.createElement("button",{type:"button",onClick:Dn,onKeyUp:Dn},Z.jump_to_confirm):Nn=Ot.createElement("span",{onClick:Dn,onKeyUp:Dn},Pr),Nn=Ot.createElement("li",{title:J?"".concat(Z.jump_to).concat(tt,"/").concat(Un):null,className:"".concat(r,"-simple-pager")},Nn)),Gn=Ot.createElement("li",{title:J?"".concat(tt,"/").concat(Un):null,className:"".concat(r,"-simple-pager")},Ri?Zt:Ot.createElement("input",{type:"text","aria-label":Z.jump_to,value:Zt,disabled:ae,onKeyDown:Dt,onKeyUp:Jt,onChange:Jt,onBlur:Ft,size:3}),Ot.createElement("span",{className:"".concat(r,"-slash")},"/"),Un));var wn=ee?1:2;if(Un<=3+wn*2){Un||ur.push(Ot.createElement(Fu,bn({},Tr,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var nr=1;nr<=Un;nr+=1)ur.push(Ot.createElement(Fu,bn({},Tr,{key:nr,page:nr,active:tt===nr})))}else{var sr=ee?Z.prev_3:Z.prev_5,fr=ee?Z.next_3:Z.next_5,wr=me(mt,"jump-prev",Et(we,"prev page")),Nr=me(wt,"jump-next",Et(Le,"next page"));$&&(Kt=wr?Ot.createElement("li",{title:J?sr:null,key:"prev",onClick:jt,tabIndex:0,onKeyDown:Rt,className:bt("".concat(r,"-jump-prev"),Pt({},"".concat(r,"-jump-prev-custom-icon"),!!we))},wr):null,br=Nr?Ot.createElement("li",{title:J?fr:null,key:"next",onClick:ln,tabIndex:0,onKeyDown:Gt,className:bt("".concat(r,"-jump-next"),Pt({},"".concat(r,"-jump-next-custom-icon"),!!Le))},Nr):null);var Si=Math.max(1,tt-wn),yi=Math.min(tt+wn,Un);tt-1<=wn&&(yi=1+wn*2),Un-tt<=wn&&(Si=Un-wn*2);for(var mr=Si;mr<=yi;mr+=1)ur.push(Ot.createElement(Fu,bn({},Tr,{key:mr,page:mr,active:tt===mr})));if(tt-1>=wn*2&&tt!==3&&(ur[0]=Ot.cloneElement(ur[0],{className:bt("".concat(r,"-item-after-jump-prev"),ur[0].props.className)}),ur.unshift(Kt)),Un-tt>=wn*2&&tt!==Un-2){var Hi=ur[ur.length-1];ur[ur.length-1]=Ot.cloneElement(Hi,{className:bt("".concat(r,"-item-before-jump-next"),Hi.props.className)}),ur.push(br)}Si!==1&&ur.unshift(Ot.createElement(Fu,bn({},Tr,{key:1,page:1}))),yi!==Un&&ur.push(Ot.createElement(Fu,bn({},Tr,{key:Un,page:Un})))}var Jn=gn(zn);if(Jn){var xn=!tn||!Un;Jn=Ot.createElement("li",{title:J?Z.prev_page:null,onClick:Tt,tabIndex:xn?null:0,onKeyDown:hn,className:bt("".concat(r,"-prev"),Pt({},"".concat(r,"-disabled"),xn)),"aria-disabled":xn},Jn)}var rr=An(cn);if(rr){var pr,gr;ue?(pr=!fn,gr=tn?0:null):(pr=!fn||!Un,gr=pr?null:0),rr=Ot.createElement("li",{title:J?Z.next_page:null,onClick:zt,tabIndex:gr,onKeyDown:Bn,className:bt("".concat(r,"-next"),Pt({},"".concat(r,"-disabled"),pr)),"aria-disabled":pr},rr)}var _i=bt(r,h,Pt(Pt(Pt(Pt(Pt({},"".concat(r,"-start"),D==="start"),"".concat(r,"-center"),D==="center"),"".concat(r,"-end"),D==="end"),"".concat(r,"-simple"),ue),"".concat(r,"-disabled"),ae));return Ot.createElement("ul",bn({className:_i,style:X,ref:qe},dr),mn,Jn,ue?Gn:ur,rr,Ot.createElement(dS,{locale:Z,rootPrefixCls:r,disabled:ae,selectPrefixCls:l,changeSize:ht,pageSize:de,pageSizeOptions:ne,quickGo:dn?Mt:null,goButton:Nn,showSizeChanger:ke,sizeChangerRender:Te}))};const gS=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}}}},mS=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Qe(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Qe(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:Qe(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM),input:Object.assign(Object.assign({},R2(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},vS=e=>{const{componentCls:t}=e;return{[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{height:e.itemSize,lineHeight:Qe(e.itemSize),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSize,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSize,lineHeight:Qe(e.itemSize)}}},[`${t}-simple-pager`]:{display:"inline-flex",alignItems:"center",height:e.itemSize,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",width:e.quickJumperInputWidth,padding:`0 ${Qe(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${Qe(e.inputOutlineOffset)} 0 ${Qe(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}},[`&${t}-disabled`]:{[`${t}-prev, ${t}-next`]:{[`${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}},[`&${t}-mini`]:{[`${t}-prev, ${t}-next`]:{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM),[`${t}-item-link`]:{height:e.itemSizeSM,"&::after":{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM)}}},[`${t}-simple-pager`]:{height:e.itemSizeSM,input:{width:e.paginationMiniQuickJumperInputWidth}}}}}},yS=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:Qe(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Qe(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:Qe(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},sp(e)),A2(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},T2(e)),width:e.quickJumperInputWidth,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},_S=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:Qe(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${Qe(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Qe(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},bS=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:Qe(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),_S(e)),yS(e)),vS(e)),mS(e)),gS(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},xS=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},mu(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},Ml(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Ml(e)}}}},A_=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},uy(e)),T_=e=>ba(e,{inputOutlineOffset:0,quickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.25).equal(),paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},cy(e)),wS=zi("Pagination",e=>{const t=T_(e);return[bS(t),xS(t)]},A_),CS=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},SS=cc(["Pagination","bordered"],e=>{const t=T_(e);return CS(t)},A_);function sm(e){return b.useMemo(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var ES=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const R_=e=>{const{align:t,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:l,style:h,size:c,locale:g,responsive:v,showSizeChanger:y,selectComponentClass:w,pageSizeOptions:k}=e,x=ES(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:N}=Rh(v),[,T]=Su(),{getPrefixCls:I,direction:O,showSizeChanger:D,className:R,style:$}=vs("pagination"),G=I("pagination",n),[ee,te,J]=wS(G),H=ul(c),oe=H==="small"||!!(N&&!H&&v),[q]=Tl("Pagination",B2),Z=Object.assign(Object.assign({},q),g),[X,U]=sm(y),[Q,ae]=sm(D),ue=X??Q,le=U??ae,be=w||ks,ke=b.useMemo(()=>k?k.map(Le=>Number(Le)):void 0,[k]),Te=Le=>{var Be;const{disabled:he,size:qe,onSizeChange:We,"aria-label":Fe,className:de,options:it}=Le,{className:ft,onChange:fe}=le||{},tt=(Be=it.find(kt=>String(kt.value)===String(qe)))===null||Be===void 0?void 0:Be.value;return b.createElement(be,Object.assign({disabled:he,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:kt=>kt.parentNode,"aria-label":Fe,options:it},le,{value:tt,onChange:(kt,At)=>{We?.(kt),fe?.(kt,At)},size:oe?"small":"middle",className:bt(de,ft)}))},ne=b.useMemo(()=>{const Le=b.createElement("span",{className:`${G}-item-ellipsis`},""),Be=b.createElement("button",{className:`${G}-item-link`,type:"button",tabIndex:-1},O==="rtl"?b.createElement(nc,null):b.createElement(_u,null)),he=b.createElement("button",{className:`${G}-item-link`,type:"button",tabIndex:-1},O==="rtl"?b.createElement(_u,null):b.createElement(nc,null)),qe=b.createElement("a",{className:`${G}-item-link`},b.createElement("div",{className:`${G}-item-container`},O==="rtl"?b.createElement(im,{className:`${G}-item-link-icon`}):b.createElement(rm,{className:`${G}-item-link-icon`}),Le)),We=b.createElement("a",{className:`${G}-item-link`},b.createElement("div",{className:`${G}-item-container`},O==="rtl"?b.createElement(rm,{className:`${G}-item-link-icon`}):b.createElement(im,{className:`${G}-item-link-icon`}),Le));return{prevIcon:Be,nextIcon:he,jumpPrevIcon:qe,jumpNextIcon:We}},[O,G]),ce=I("select",r),me=bt({[`${G}-${t}`]:!!t,[`${G}-mini`]:oe,[`${G}-rtl`]:O==="rtl",[`${G}-bordered`]:T.wireframe},R,i,l,te,J),we=Object.assign(Object.assign({},$),h);return ee(b.createElement(b.Fragment,null,T.wireframe&&b.createElement(SS,{prefixCls:G}),b.createElement(pS,Object.assign({},ne,x,{style:we,prefixCls:G,selectPrefixCls:ce,className:me,locale:Z,pageSizeOptions:ke,showSizeChanger:ue,sizeChangerRender:Te}))))},bh=100,B_=bh/5,D_=bh/2-B_/2,Sd=D_*2*Math.PI,lm=50,um=e=>{const{dotClassName:t,style:n,hasCircleCls:r}=e;return b.createElement("circle",{className:bt(`${t}-circle`,{[`${t}-circle-bg`]:r}),r:D_,cx:lm,cy:lm,strokeWidth:B_,style:n})},kS=({percent:e,prefixCls:t})=>{const n=`${t}-dot`,r=`${n}-holder`,i=`${r}-hidden`,[l,h]=b.useState(!1);na(()=>{e!==0&&h(!0)},[e!==0]);const c=Math.max(Math.min(e,100),0);if(!l)return null;const g={strokeDashoffset:`${Sd/4}`,strokeDasharray:`${Sd*c/100} ${Sd*(100-c)/100}`};return b.createElement("span",{className:bt(r,`${n}-progress`,c<=0&&i)},b.createElement("svg",{viewBox:`0 0 ${bh} ${bh}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c},b.createElement(um,{dotClassName:n,hasCircleCls:!0}),b.createElement(um,{dotClassName:n,style:g})))};function LS(e){const{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,i=`${r}-holder`,l=`${i}-hidden`;return b.createElement(b.Fragment,null,b.createElement("span",{className:bt(i,n>0&&l)},b.createElement("span",{className:bt(r,`${t}-dot-spin`)},[1,2,3,4].map(h=>b.createElement("i",{className:`${t}-dot-item`,key:h})))),b.createElement(kS,{prefixCls:t,percent:n}))}function NS(e){var t;const{prefixCls:n,indicator:r,percent:i}=e,l=`${n}-dot`;return r&&b.isValidElement(r)?Ls(r,{className:bt((t=r.props)===null||t===void 0?void 0:t.className,l),percent:i}):b.createElement(LS,{prefixCls:n,percent:i})}const MS=new uc("antSpinMove",{to:{opacity:1}}),PS=new uc("antRotate",{to:{transform:"rotate(405deg)"}}),IS=e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:MS,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:PS,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},OS=e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:n}},AS=zi("Spin",e=>{const t=ba(e,{spinDotDefault:e.colorTextDescription});return IS(t)},OS),TS=200,cm=[[30,.05],[70,.03],[96,.01]];function RS(e,t){const[n,r]=b.useState(0),i=b.useRef(null),l=t==="auto";return b.useEffect(()=>(l&&e&&(r(0),i.current=setInterval(()=>{r(h=>{const c=100-h;for(let g=0;g<cm.length;g+=1){const[v,y]=cm[g];if(h<=v)return h+c*y}return h})},TS)),()=>{clearInterval(i.current)}),[l,e]),l?n:t}var BS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let $_;function DS(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const $l=e=>{var t;const{prefixCls:n,spinning:r=!0,delay:i=0,className:l,rootClassName:h,size:c="default",tip:g,wrapperClassName:v,style:y,children:w,fullscreen:k=!1,indicator:x,percent:N}=e,T=BS(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:I,direction:O,className:D,style:R,indicator:$}=vs("spin"),G=I("spin",n),[ee,te,J]=AS(G),[H,oe]=b.useState(()=>r&&!DS(r,i)),q=RS(H,N);b.useEffect(()=>{if(r){const le=J2(i,()=>{oe(!0)});return le(),()=>{var be;(be=le?.cancel)===null||be===void 0||be.call(le)}}oe(!1)},[i,r]);const Z=b.useMemo(()=>typeof w<"u"&&!k,[w,k]),X=bt(G,D,{[`${G}-sm`]:c==="small",[`${G}-lg`]:c==="large",[`${G}-spinning`]:H,[`${G}-show-text`]:!!g,[`${G}-rtl`]:O==="rtl"},l,!k&&h,te,J),U=bt(`${G}-container`,{[`${G}-blur`]:H}),Q=(t=x??$)!==null&&t!==void 0?t:$_,ae=Object.assign(Object.assign({},R),y),ue=b.createElement("div",Object.assign({},T,{style:ae,className:X,"aria-live":"polite","aria-busy":H}),b.createElement(NS,{prefixCls:G,indicator:Q,percent:q}),g&&(Z||k)?b.createElement("div",{className:`${G}-text`},g):null);return ee(Z?b.createElement("div",Object.assign({},T,{className:bt(`${G}-nested-loading`,v,te,J)}),H&&b.createElement("div",{key:"loading"},ue),b.createElement("div",{className:U,key:"container"},w)):k?b.createElement("div",{className:bt(`${G}-fullscreen`,{[`${G}-fullscreen-show`]:H},h,te,J)},ue):ue)};$l.setDefaultIndicator=e=>{$_=e};const wp=Ot.createContext({});wp.Consumer;var F_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $S=e=>{var{prefixCls:t,className:n,avatar:r,title:i,description:l}=e,h=F_(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:c}=b.useContext(Jr),g=c("list",t),v=bt(`${g}-item-meta`,n),y=Ot.createElement("div",{className:`${g}-item-meta-content`},i&&Ot.createElement("h4",{className:`${g}-item-meta-title`},i),l&&Ot.createElement("div",{className:`${g}-item-meta-description`},l));return Ot.createElement("div",Object.assign({},h,{className:v}),r&&Ot.createElement("div",{className:`${g}-item-meta-avatar`},r),(i||l)&&y)},FS=Ot.forwardRef((e,t)=>{const{prefixCls:n,children:r,actions:i,extra:l,styles:h,className:c,classNames:g,colStyle:v}=e,y=F_(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:w,itemLayout:k}=b.useContext(wp),{getPrefixCls:x,list:N}=b.useContext(Jr),T=te=>{var J,H;return bt((H=(J=N?.item)===null||J===void 0?void 0:J.classNames)===null||H===void 0?void 0:H[te],g?.[te])},I=te=>{var J,H;return Object.assign(Object.assign({},(H=(J=N?.item)===null||J===void 0?void 0:J.styles)===null||H===void 0?void 0:H[te]),h?.[te])},O=()=>{let te=!1;return b.Children.forEach(r,J=>{typeof J=="string"&&(te=!0)}),te&&b.Children.count(r)>1},D=()=>k==="vertical"?!!l:!O(),R=x("list",n),$=i&&i.length>0&&Ot.createElement("ul",{className:bt(`${R}-item-action`,T("actions")),key:"actions",style:I("actions")},i.map((te,J)=>Ot.createElement("li",{key:`${R}-item-action-${J}`},te,J!==i.length-1&&Ot.createElement("em",{className:`${R}-item-action-split`})))),G=w?"div":"li",ee=Ot.createElement(G,Object.assign({},y,w?{}:{ref:t},{className:bt(`${R}-item`,{[`${R}-item-no-flex`]:!D()},c)}),k==="vertical"&&l?[Ot.createElement("div",{className:`${R}-item-main`,key:"content"},r,$),Ot.createElement("div",{className:bt(`${R}-item-extra`,T("extra")),key:"extra",style:I("extra")},l)]:[r,$,Ls(l,{key:"extra"})]);return w?Ot.createElement(gs,{ref:t,flex:1,style:v},ee):ee}),j_=FS;j_.Meta=$S;const jS=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:l,itemPaddingLG:h,marginLG:c,borderRadiusLG:g}=e;return{[t]:{border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:g,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${Qe(i)} ${Qe(c)}`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:l}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:h}}}},zS=e=>{const{componentCls:t,screenSM:n,screenMD:r,marginLG:i,marginSM:l,margin:h}=e;return{[`@media screen and (max-width:${r}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:l}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${Qe(h)}`}}}}}},HS=e=>{const{componentCls:t,antCls:n,controlHeight:r,minHeight:i,paddingSM:l,marginLG:h,padding:c,itemPadding:g,colorPrimary:v,itemPaddingSM:y,itemPaddingLG:w,paddingXS:k,margin:x,colorText:N,colorTextDescription:T,motionDurationSlow:I,lineWidth:O,headerBg:D,footerBg:R,emptyTextPadding:$,metaMarginBottom:G,avatarMarginRight:ee,titleMarginBottom:te,descriptionFontSize:J}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:D},[`${t}-footer`]:{background:R},[`${t}-header, ${t}-footer`]:{paddingBlock:l},[`${t}-pagination`]:{marginBlockStart:h,[`${n}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:i,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g,color:N,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:ee},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:N},[`${t}-item-meta-title`]:{margin:`0 0 ${Qe(e.marginXXS)} 0`,color:N,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:N,transition:`all ${I}`,"&:hover":{color:v}}},[`${t}-item-meta-description`]:{color:T,fontSize:J,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${Qe(k)}`,color:T,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:O,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${Qe(c)} 0`,color:T,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:$,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:x,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:h},[`${t}-item-meta`]:{marginBlockEnd:G,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:te,color:N,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:c,marginInlineStart:"auto","> li":{padding:`0 ${Qe(c)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:w},[`${t}-sm ${t}-item`]:{padding:y},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},qS=e=>({contentWidth:220,itemPadding:`${Qe(e.paddingContentVertical)} 0`,itemPaddingSM:`${Qe(e.paddingContentVerticalSM)} ${Qe(e.paddingContentHorizontal)}`,itemPaddingLG:`${Qe(e.paddingContentVerticalLG)} ${Qe(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),US=zi("List",e=>{const t=ba(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[HS(t),jS(t),zS(t)]},qS);var GS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function VS(e,t){const{pagination:n=!1,prefixCls:r,bordered:i=!1,split:l=!0,className:h,rootClassName:c,style:g,children:v,itemLayout:y,loadMore:w,grid:k,dataSource:x=[],size:N,header:T,footer:I,loading:O=!1,rowKey:D,renderItem:R,locale:$}=e,G=GS(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),ee=n&&typeof n=="object"?n:{},[te,J]=b.useState(ee.defaultCurrent||1),[H,oe]=b.useState(ee.defaultPageSize||10),{getPrefixCls:q,direction:Z,className:X,style:U}=vs("list"),{renderEmpty:Q}=b.useContext(Jr),ae={current:1,total:0,position:"bottom"},ue=mt=>(wt,Et)=>{var Xt;J(wt),oe(Et),n&&((Xt=n?.[mt])===null||Xt===void 0||Xt.call(n,wt,Et))},le=ue("onChange"),be=ue("onShowSizeChange"),ke=(mt,wt)=>{if(!R)return null;let Et;return typeof D=="function"?Et=D(mt):D?Et=mt[D]:Et=mt.key,Et||(Et=`list-item-${wt}`),b.createElement(b.Fragment,{key:Et},R(mt,wt))},Te=!!(w||n||I),ne=q("list",r),[ce,me,we]=US(ne);let Le=O;typeof Le=="boolean"&&(Le={spinning:Le});const Be=!!Le?.spinning,he=ul(N);let qe="";switch(he){case"large":qe="lg";break;case"small":qe="sm";break}const We=bt(ne,{[`${ne}-vertical`]:y==="vertical",[`${ne}-${qe}`]:qe,[`${ne}-split`]:l,[`${ne}-bordered`]:i,[`${ne}-loading`]:Be,[`${ne}-grid`]:!!k,[`${ne}-something-after-last-item`]:Te,[`${ne}-rtl`]:Z==="rtl"},X,h,c,me,we),Fe=rc(ae,{total:x.length,current:te,pageSize:H},n||{}),de=Math.ceil(Fe.total/Fe.pageSize);Fe.current=Math.min(Fe.current,de);const it=n&&b.createElement("div",{className:bt(`${ne}-pagination`)},b.createElement(R_,Object.assign({align:"end"},Fe,{onChange:le,onShowSizeChange:be})));let ft=En(x);n&&x.length>(Fe.current-1)*Fe.pageSize&&(ft=En(x).splice((Fe.current-1)*Fe.pageSize,Fe.pageSize));const fe=Object.keys(k||{}).some(mt=>["xs","sm","md","lg","xl","xxl"].includes(mt)),tt=Rh(fe),kt=b.useMemo(()=>{for(let mt=0;mt<gu.length;mt+=1){const wt=gu[mt];if(tt[wt])return wt}},[tt]),At=b.useMemo(()=>{if(!k)return;const mt=kt&&k[kt]?k[kt]:k.column;if(mt)return{width:`${100/mt}%`,maxWidth:`${100/mt}%`}},[JSON.stringify(k),kt]);let Ze=Be&&b.createElement("div",{style:{minHeight:53}});if(ft.length>0){const mt=ft.map(ke);Ze=k?b.createElement(ku,{gutter:k.gutter},b.Children.map(mt,wt=>b.createElement("div",{key:wt?.key,style:At},wt))):b.createElement("ul",{className:`${ne}-items`},mt)}else!v&&!Be&&(Ze=b.createElement("div",{className:`${ne}-empty-text`},$?.emptyText||Q?.("List")||b.createElement(Yv,{componentName:"List"})));const Zt=Fe.position,nt=b.useMemo(()=>({grid:k,itemLayout:y}),[JSON.stringify(k),y]);return ce(b.createElement(wp.Provider,{value:nt},b.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},U),g),className:We},G),(Zt==="top"||Zt==="both")&&it,T&&b.createElement("div",{className:`${ne}-header`},T),b.createElement($l,Object.assign({},Le),Ze,v),I&&b.createElement("div",{className:`${ne}-footer`},I),w||(Zt==="bottom"||Zt==="both")&&it)))}const WS=b.forwardRef(VS),ic=WS;ic.Item=j_;const KS=(e,t=!1)=>t&&e==null?[]:Array.isArray(e)?e:[e];var ZS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const XS=e=>{const{prefixCls:t,className:n,closeIcon:r,closable:i,type:l,title:h,children:c,footer:g}=e,v=ZS(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:y}=b.useContext(Jr),w=y(),k=t||y("modal"),x=Zo(w),[N,T,I]=Ay(k,x),O=`${k}-confirm`;let D={};return l?D={closable:i??!1,title:"",footer:"",children:b.createElement(Ry,Object.assign({},e,{prefixCls:k,confirmPrefixCls:O,rootPrefixCls:w,content:c}))}:D={closable:i??!0,title:h,footer:g!==null&&b.createElement(My,Object.assign({},e)),children:c},N(b.createElement(Cy,Object.assign({prefixCls:k,className:bt(T,`${k}-pure-panel`,l&&O,l&&`${O}-${l}`,n,I,x)},v,{closeIcon:Ny(k,r),closable:i},D)))},YS=Wx(XS);function z_(e){return fc(Fy(e))}const as=Ty;as.useModal=tC;as.info=function(t){return fc(jy(t))};as.success=function(t){return fc(zy(t))};as.error=function(t){return fc(Hy(t))};as.warning=z_;as.warn=z_;as.confirm=function(t){return fc(qy(t))};as.destroyAll=function(){for(;Sl.length;){const t=Sl.pop();t&&t()}};as.config=Xw;as._InternalPanelDoNotUseOrYouWillBeFired=YS;var JS=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],H_=b.forwardRef(function(e,t){var n,r=e.prefixCls,i=r===void 0?"rc-switch":r,l=e.className,h=e.checked,c=e.defaultChecked,g=e.disabled,v=e.loadingIcon,y=e.checkedChildren,w=e.unCheckedChildren,k=e.onClick,x=e.onChange,N=e.onKeyDown,T=$a(e,JS),I=ps(!1,{value:h,defaultValue:c}),O=On(I,2),D=O[0],R=O[1];function $(J,H){var oe=D;return g||(oe=J,R(oe),x?.(oe,H)),oe}function G(J){J.which===_r.LEFT?$(!1,J):J.which===_r.RIGHT&&$(!0,J),N?.(J)}function ee(J){var H=$(!D,J);k?.(H,J)}var te=bt(i,l,(n={},Pt(n,"".concat(i,"-checked"),D),Pt(n,"".concat(i,"-disabled"),g),n));return b.createElement("button",bn({},T,{type:"button",role:"switch","aria-checked":D,disabled:g,className:te,ref:t,onKeyDown:G,onClick:ee}),v,b.createElement("span",{className:"".concat(i,"-inner")},b.createElement("span",{className:"".concat(i,"-inner-checked")},y),b.createElement("span",{className:"".concat(i,"-inner-unchecked")},w)))});H_.displayName="Switch";const QS=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:i,innerMinMarginSM:l,innerMaxMarginSM:h,handleSizeSM:c,calc:g}=e,v=`${t}-inner`,y=Qe(g(c).add(g(r).mul(2)).equal()),w=Qe(g(h).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:i,height:n,lineHeight:Qe(n),[`${t}-inner`]:{paddingInlineStart:h,paddingInlineEnd:l,[`${v}-checked, ${v}-unchecked`]:{minHeight:n},[`${v}-checked`]:{marginInlineStart:`calc(-100% + ${y} - ${w})`,marginInlineEnd:`calc(100% - ${y} + ${w})`},[`${v}-unchecked`]:{marginTop:g(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:c,height:c},[`${t}-loading-icon`]:{top:g(g(c).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:l,paddingInlineEnd:h,[`${v}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${v}-unchecked`]:{marginInlineStart:`calc(100% - ${y} + ${w})`,marginInlineEnd:`calc(-100% + ${y} - ${w})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${Qe(g(c).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${v}`]:{[`${v}-unchecked`]:{marginInlineStart:g(e.marginXXS).div(2).equal(),marginInlineEnd:g(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${v}`]:{[`${v}-checked`]:{marginInlineStart:g(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:g(e.marginXXS).div(2).equal()}}}}}}},e3=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},t3=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:i,handleSize:l,calc:h}=e,c=`${t}-handle`;return{[t]:{[c]:{position:"absolute",top:n,insetInlineStart:n,width:l,height:l,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:h(l).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${c}`]:{insetInlineStart:`calc(100% - ${Qe(h(l).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${c}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${c}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},n3=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:i,innerMaxMargin:l,handleSize:h,calc:c}=e,g=`${t}-inner`,v=Qe(c(h).add(c(r).mul(2)).equal()),y=Qe(c(l).mul(2).equal());return{[t]:{[g]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:l,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${g}-checked, ${g}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${g}-checked`]:{marginInlineStart:`calc(-100% + ${v} - ${y})`,marginInlineEnd:`calc(100% - ${v} + ${y})`},[`${g}-unchecked`]:{marginTop:c(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${g}`]:{paddingInlineStart:i,paddingInlineEnd:l,[`${g}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${g}-unchecked`]:{marginInlineStart:`calc(100% - ${v} + ${y})`,marginInlineEnd:`calc(-100% + ${v} - ${y})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${g}`]:{[`${g}-unchecked`]:{marginInlineStart:c(r).mul(2).equal(),marginInlineEnd:c(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${g}`]:{[`${g}-checked`]:{marginInlineStart:c(r).mul(-1).mul(2).equal(),marginInlineEnd:c(r).mul(2).equal()}}}}}},r3=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:Qe(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),mu(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},i3=e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:i}=e,l=t*n,h=r/2,c=2,g=l-c*2,v=h-c*2;return{trackHeight:l,trackHeightSM:h,trackMinWidth:g*2+c*4,trackMinWidthSM:v*2+c*2,trackPadding:c,handleBg:i,handleSize:g,handleSizeSM:v,handleShadow:`0 2px 4px 0 ${new Oo("#00230b").setA(.2).toRgbString()}`,innerMinMargin:g/2,innerMaxMargin:g+c+c*2,innerMinMarginSM:v/2,innerMaxMarginSM:v+c+c*2}},a3=zi("Switch",e=>{const t=ba(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[r3(t),n3(t),t3(t),e3(t),QS(t)]},i3);var o3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const s3=b.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:i,loading:l,className:h,rootClassName:c,style:g,checked:v,value:y,defaultChecked:w,defaultValue:k,onChange:x}=e,N=o3(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[T,I]=ps(!1,{value:v??y,defaultValue:w??k}),{getPrefixCls:O,direction:D,switch:R}=b.useContext(Jr),$=b.useContext(Eu),G=(i??$)||l,ee=O("switch",n),te=b.createElement("div",{className:`${ee}-handle`},l&&b.createElement(Uh,{className:`${ee}-loading-icon`})),[J,H,oe]=a3(ee),q=ul(r),Z=bt(R?.className,{[`${ee}-small`]:q==="small",[`${ee}-loading`]:l,[`${ee}-rtl`]:D==="rtl"},h,c,H,oe),X=Object.assign(Object.assign({},R?.style),g),U=(...Q)=>{I(Q[0]),x?.apply(void 0,Q)};return J(b.createElement(Hh,{component:"Switch",disabled:G},b.createElement(H_,Object.assign({},N,{checked:T,onChange:U,prefixCls:ee,className:Z,style:X,disabled:G,ref:t,loadingIcon:te}))))}),q_=s3;q_.__ANT_SWITCH=!0;var tl={},gc="rc-table-internal-hook";function Cp(e){var t=b.createContext(void 0),n=function(i){var l=i.value,h=i.children,c=b.useRef(l);c.current=l;var g=b.useState(function(){return{getValue:function(){return c.current},listeners:new Set}}),v=On(g,1),y=v[0];return na(function(){dy.unstable_batchedUpdates(function(){y.listeners.forEach(function(w){w(l)})})},[l]),b.createElement(t.Provider,{value:y},h)};return{Context:t,Provider:n,defaultValue:e}}function Da(e,t){var n=Ja(typeof t=="function"?t:function(w){if(t===void 0)return w;if(!Array.isArray(t))return w[t];var k={};return t.forEach(function(x){k[x]=w[x]}),k}),r=b.useContext(e?.Context),i=r||{},l=i.listeners,h=i.getValue,c=b.useRef();c.current=n(r?h():e?.defaultValue);var g=b.useState({}),v=On(g,2),y=v[1];return na(function(){if(!r)return;function w(k){var x=n(k);vu(c.current,x,!0)||y({})}return l.add(w),function(){l.delete(w)}},[r]),c.current}function l3(){var e=b.createContext(null);function t(){return b.useContext(e)}function n(i,l){var h=vf(i),c=function(v,y){var w=h?{ref:y}:{},k=b.useRef(0),x=b.useRef(v),N=t();return N!==null?b.createElement(i,bn({},v,w)):((!l||l(x.current,v))&&(k.current+=1),x.current=v,b.createElement(e.Provider,{value:k.current},b.createElement(i,bn({},v,w))))};return h?b.forwardRef(c):c}function r(i,l){var h=vf(i),c=function(v,y){var w=h?{ref:y}:{};return t(),b.createElement(i,bn({},v,w))};return h?b.memo(b.forwardRef(c),l):b.memo(c,l)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:t}}var Sp=l3(),U_=Sp.makeImmutable,Lu=Sp.responseImmutable,u3=Sp.useImmutableMark,mo=Cp(),G_=b.createContext({renderWithProps:!1}),c3="RC_TABLE_KEY";function h3(e){return e==null?[]:Array.isArray(e)?e:[e]}function Yh(e){var t=[],n={};return e.forEach(function(r){for(var i=r||{},l=i.key,h=i.dataIndex,c=l||h3(h).join("-")||c3;n[c];)c="".concat(c,"_next");n[c]=!0,t.push(c)}),t}function Ef(e){return e!=null}function d3(e){return typeof e=="number"&&!Number.isNaN(e)}function f3(e){return e&&Lr(e)==="object"&&!Array.isArray(e)&&!b.isValidElement(e)}function p3(e,t,n,r,i,l){var h=b.useContext(G_),c=u3(),g=my(function(){if(Ef(r))return[r];var v=t==null||t===""?[]:Array.isArray(t)?t:[t],y=tc(e,v),w=y,k=void 0;if(i){var x=i(y,e,n);f3(x)?(w=x.children,k=x.props,h.renderWithProps=!0):w=x}return[w,k]},[c,e,r,t,i,n],function(v,y){if(l){var w=On(v,2),k=w[1],x=On(y,2),N=x[1];return l(N,k)}return h.renderWithProps?!0:!vu(v,y,!0)});return g}function g3(e,t,n,r){var i=e+t-1;return e<=r&&i>=n}function m3(e,t){return Da(mo,function(n){var r=g3(e,t||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var v3=function(t){var n=t.ellipsis,r=t.rowType,i=t.children,l,h=n===!0?{showTitle:!0}:n;return h&&(h.showTitle||r==="header")&&(typeof i=="string"||typeof i=="number"?l=i.toString():b.isValidElement(i)&&typeof i.props.children=="string"&&(l=i.props.children)),l};function y3(e){var t,n,r,i,l,h,c,g,v=e.component,y=e.children,w=e.ellipsis,k=e.scope,x=e.prefixCls,N=e.className,T=e.align,I=e.record,O=e.render,D=e.dataIndex,R=e.renderIndex,$=e.shouldCellUpdate,G=e.index,ee=e.rowType,te=e.colSpan,J=e.rowSpan,H=e.fixLeft,oe=e.fixRight,q=e.firstFixLeft,Z=e.lastFixLeft,X=e.firstFixRight,U=e.lastFixRight,Q=e.appendNode,ae=e.additionalProps,ue=ae===void 0?{}:ae,le=e.isSticky,be="".concat(x,"-cell"),ke=Da(mo,["supportSticky","allColumnsFixedLeft","rowHoverable"]),Te=ke.supportSticky,ne=ke.allColumnsFixedLeft,ce=ke.rowHoverable,me=p3(I,D,R,y,O,$),we=On(me,2),Le=we[0],Be=we[1],he={},qe=typeof H=="number"&&Te,We=typeof oe=="number"&&Te;qe&&(he.position="sticky",he.left=H),We&&(he.position="sticky",he.right=oe);var Fe=(t=(n=(r=Be?.colSpan)!==null&&r!==void 0?r:ue.colSpan)!==null&&n!==void 0?n:te)!==null&&t!==void 0?t:1,de=(i=(l=(h=Be?.rowSpan)!==null&&h!==void 0?h:ue.rowSpan)!==null&&l!==void 0?l:J)!==null&&i!==void 0?i:1,it=m3(G,de),ft=On(it,2),fe=ft[0],tt=ft[1],kt=Ja(function(Et){var Xt;I&&tt(G,G+de-1),ue==null||(Xt=ue.onMouseEnter)===null||Xt===void 0||Xt.call(ue,Et)}),At=Ja(function(Et){var Xt;I&&tt(-1,-1),ue==null||(Xt=ue.onMouseLeave)===null||Xt===void 0||Xt.call(ue,Et)});if(Fe===0||de===0)return null;var Ze=(c=ue.title)!==null&&c!==void 0?c:v3({rowType:ee,ellipsis:w,children:Le}),Zt=bt(be,N,(g={},Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(g,"".concat(be,"-fix-left"),qe&&Te),"".concat(be,"-fix-left-first"),q&&Te),"".concat(be,"-fix-left-last"),Z&&Te),"".concat(be,"-fix-left-all"),Z&&ne&&Te),"".concat(be,"-fix-right"),We&&Te),"".concat(be,"-fix-right-first"),X&&Te),"".concat(be,"-fix-right-last"),U&&Te),"".concat(be,"-ellipsis"),w),"".concat(be,"-with-append"),Q),"".concat(be,"-fix-sticky"),(qe||We)&&le&&Te),Pt(g,"".concat(be,"-row-hover"),!Be&&fe)),ue.className,Be?.className),nt={};T&&(nt.textAlign=T);var mt=Wt(Wt(Wt(Wt({},Be?.style),he),nt),ue.style),wt=Le;return Lr(wt)==="object"&&!Array.isArray(wt)&&!b.isValidElement(wt)&&(wt=null),w&&(Z||X)&&(wt=b.createElement("span",{className:"".concat(be,"-content")},wt)),b.createElement(v,bn({},Be,ue,{className:Zt,style:mt,title:Ze,scope:k,onMouseEnter:ce?kt:void 0,onMouseLeave:ce?At:void 0,colSpan:Fe!==1?Fe:null,rowSpan:de!==1?de:null}),Q,wt)}const Nu=b.memo(y3);function Ep(e,t,n,r,i){var l=n[e]||{},h=n[t]||{},c,g;l.fixed==="left"?c=r.left[i==="rtl"?t:e]:h.fixed==="right"&&(g=r.right[i==="rtl"?e:t]);var v=!1,y=!1,w=!1,k=!1,x=n[t+1],N=n[e-1],T=x&&!x.fixed||N&&!N.fixed||n.every(function($){return $.fixed==="left"});if(i==="rtl"){if(c!==void 0){var I=N&&N.fixed==="left";k=!I&&T}else if(g!==void 0){var O=x&&x.fixed==="right";w=!O&&T}}else if(c!==void 0){var D=x&&x.fixed==="left";v=!D&&T}else if(g!==void 0){var R=N&&N.fixed==="right";y=!R&&T}return{fixLeft:c,fixRight:g,lastFixLeft:v,firstFixRight:y,lastFixRight:w,firstFixLeft:k,isSticky:r.isSticky}}var V_=b.createContext({});function _3(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,l=i===void 0?1:i,h=e.rowSpan,c=e.align,g=Da(mo,["prefixCls","direction"]),v=g.prefixCls,y=g.direction,w=b.useContext(V_),k=w.scrollColumnIndex,x=w.stickyOffsets,N=w.flattenColumns,T=n+l-1,I=T+1===k?l+1:l,O=Ep(n,n+I-1,N,x,y);return b.createElement(Nu,bn({className:t,index:n,component:"td",prefixCls:v,record:null,dataIndex:null,align:c,colSpan:I,rowSpan:h,render:function(){return r}},O))}var b3=["children"];function x3(e){var t=e.children,n=$a(e,b3);return b.createElement("tr",n,t)}function Jh(e){var t=e.children;return t}Jh.Row=x3;Jh.Cell=_3;function w3(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=Da(mo,"prefixCls"),l=r.length-1,h=r[l],c=b.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:h!=null&&h.scrollbar?l:null}},[h,r,l,n]);return b.createElement(V_.Provider,{value:c},b.createElement("tfoot",{className:"".concat(i,"-summary")},t))}const Tc=Lu(w3);var W_=Jh;function C3(e){return null}function S3(e){return null}function K_(e,t,n,r,i,l,h){var c=l(t,h);e.push({record:t,indent:n,index:h,rowKey:c});var g=i?.has(c);if(t&&Array.isArray(t[r])&&g)for(var v=0;v<t[r].length;v+=1)K_(e,t[r][v],n+1,r,i,l,v)}function Z_(e,t,n,r){var i=b.useMemo(function(){if(n!=null&&n.size){for(var l=[],h=0;h<e?.length;h+=1){var c=e[h];K_(l,c,0,t,n,r,h)}return l}return e?.map(function(g,v){return{record:g,indent:0,index:v,rowKey:r(g,v)}})},[e,t,n,r]);return i}function X_(e,t,n,r){var i=Da(mo,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),l=i.flattenColumns,h=i.expandableType,c=i.expandedKeys,g=i.childrenColumnName,v=i.onTriggerExpand,y=i.rowExpandable,w=i.onRow,k=i.expandRowByClick,x=i.rowClassName,N=h==="nest",T=h==="row"&&(!y||y(e)),I=T||N,O=c&&c.has(t),D=g&&e&&e[g],R=Ja(v),$=w?.(e,n),G=$?.onClick,ee=function(oe){k&&I&&v(e,oe);for(var q=arguments.length,Z=new Array(q>1?q-1:0),X=1;X<q;X++)Z[X-1]=arguments[X];G?.apply(void 0,[oe].concat(Z))},te;typeof x=="string"?te=x:typeof x=="function"&&(te=x(e,n,r));var J=Yh(l);return Wt(Wt({},i),{},{columnsKey:J,nestExpandable:N,expanded:O,hasNestChildren:D,record:e,onTriggerExpand:R,rowSupportExpand:T,expandable:I,rowProps:Wt(Wt({},$),{},{className:bt(te,$?.className),onClick:ee})})}function Y_(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,l=e.className,h=e.expanded,c=e.colSpan,g=e.isEmpty,v=e.stickyOffset,y=v===void 0?0:v,w=Da(mo,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),k=w.scrollbarSize,x=w.fixHeader,N=w.fixColumn,T=w.componentWidth,I=w.horizonScroll,O=n;return(g?I&&T:N)&&(O=b.createElement("div",{style:{width:T-y-(x&&!g?k:0),position:"sticky",left:y,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},O)),b.createElement(r,{className:l,style:{display:h?null:"none"}},b.createElement(Nu,{component:i,prefixCls:t,colSpan:c},O))}function E3(e){var t=e.prefixCls,n=e.record,r=e.onExpand,i=e.expanded,l=e.expandable,h="".concat(t,"-row-expand-icon");if(!l)return b.createElement("span",{className:bt(h,"".concat(t,"-row-spaced"))});var c=function(v){r(n,v),v.stopPropagation()};return b.createElement("span",{className:bt(h,Pt(Pt({},"".concat(t,"-row-expanded"),i),"".concat(t,"-row-collapsed"),!i)),onClick:c})}function k3(e,t,n){var r=[];function i(l){(l||[]).forEach(function(h,c){r.push(t(h,c)),i(h[n])})}return i(e),r}function J_(e,t,n,r){return typeof e=="string"?e:typeof e=="function"?e(t,n,r):""}function Q_(e,t,n,r,i){var l,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,g=e.record,v=e.prefixCls,y=e.columnsKey,w=e.fixedInfoList,k=e.expandIconColumnIndex,x=e.nestExpandable,N=e.indentSize,T=e.expandIcon,I=e.expanded,O=e.hasNestChildren,D=e.onTriggerExpand,R=e.expandable,$=e.expandedKeys,G=y[n],ee=w[n],te;n===(k||0)&&x&&(te=b.createElement(b.Fragment,null,b.createElement("span",{style:{paddingLeft:"".concat(N*r,"px")},className:"".concat(v,"-row-indent indent-level-").concat(r)}),T({prefixCls:v,expanded:I,expandable:O,record:g,onExpand:D})));var J=((l=t.onCell)===null||l===void 0?void 0:l.call(t,g,i))||{};if(c){var H=J.rowSpan,oe=H===void 0?1:H;if(R&&oe&&n<c){for(var q=oe,Z=i;Z<i+oe;Z+=1){var X=h[Z];$.has(X)&&(q+=1)}J.rowSpan=q}}return{key:G,fixedInfo:ee,appendCellNode:te,additionalCellProps:J}}function L3(e){var t=e.className,n=e.style,r=e.record,i=e.index,l=e.renderIndex,h=e.rowKey,c=e.rowKeys,g=e.indent,v=g===void 0?0:g,y=e.rowComponent,w=e.cellComponent,k=e.scopeCellComponent,x=e.expandedRowInfo,N=X_(r,h,i,v),T=N.prefixCls,I=N.flattenColumns,O=N.expandedRowClassName,D=N.expandedRowRender,R=N.rowProps,$=N.expanded,G=N.rowSupportExpand,ee=b.useRef(!1);ee.current||(ee.current=$);var te=J_(O,r,i,v),J=b.createElement(y,bn({},R,{"data-row-key":h,className:bt(t,"".concat(T,"-row"),"".concat(T,"-row-level-").concat(v),R?.className,Pt({},te,v>=1)),style:Wt(Wt({},n),R?.style)}),I.map(function(q,Z){var X=q.render,U=q.dataIndex,Q=q.className,ae=Q_(N,q,Z,v,i,c,x?.offset),ue=ae.key,le=ae.fixedInfo,be=ae.appendCellNode,ke=ae.additionalCellProps;return b.createElement(Nu,bn({className:Q,ellipsis:q.ellipsis,align:q.align,scope:q.rowScope,component:q.rowScope?k:w,prefixCls:T,key:ue,record:r,index:i,renderIndex:l,dataIndex:U,render:X,shouldCellUpdate:q.shouldCellUpdate},le,{appendNode:be,additionalProps:ke}))})),H;if(G&&(ee.current||$)){var oe=D(r,i,v+1,$);H=b.createElement(Y_,{expanded:$,className:bt("".concat(T,"-expanded-row"),"".concat(T,"-expanded-row-level-").concat(v+1),te),prefixCls:T,component:y,cellComponent:w,colSpan:x?x.colSpan:I.length,stickyOffset:x?.sticky,isEmpty:!1},oe)}return b.createElement(b.Fragment,null,J,H)}const N3=Lu(L3);function M3(e){var t=e.columnKey,n=e.onColumnResize,r=e.column,i=b.useRef();return na(function(){i.current&&n(t,i.current.offsetWidth)},[]),b.createElement(Gh,{data:t},b.createElement("td",{ref:i,style:{paddingTop:0,paddingBottom:0,borderTop:0,borderBottom:0,height:0}},b.createElement("div",{style:{height:0,overflow:"hidden",fontWeight:"bold"}},r?.title||"")))}function P3(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,i=e.columns,l=b.useRef(null),h=Da(mo,["measureRowRender"]),c=h.measureRowRender,g=b.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0},ref:l},b.createElement(Gh.Collection,{onBatchResize:function(y){py(l.current)&&y.forEach(function(w){var k=w.data,x=w.size;r(k,x.offsetWidth)})}},n.map(function(v){var y=i.find(function(w){return w.key===v});return b.createElement(M3,{key:v,columnKey:v,onColumnResize:r,column:y})})));return c?c(g):g}function I3(e){var t=e.data,n=e.measureColumnWidth,r=Da(mo,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),i=r.prefixCls,l=r.getComponent,h=r.onColumnResize,c=r.flattenColumns,g=r.getRowKey,v=r.expandedKeys,y=r.childrenColumnName,w=r.emptyNode,k=r.expandedRowOffset,x=k===void 0?0:k,N=r.colWidths,T=Z_(t,y,v,g),I=b.useMemo(function(){return T.map(function(H){return H.rowKey})},[T]),O=b.useRef({renderWithProps:!1}),D=b.useMemo(function(){for(var H=c.length-x,oe=0,q=0;q<x;q+=1)oe+=N[q]||0;return{offset:x,colSpan:H,sticky:oe}},[c.length,x,N]),R=l(["body","wrapper"],"tbody"),$=l(["body","row"],"tr"),G=l(["body","cell"],"td"),ee=l(["body","cell"],"th"),te;t.length?te=T.map(function(H,oe){var q=H.record,Z=H.indent,X=H.index,U=H.rowKey;return b.createElement(N3,{key:U,rowKey:U,rowKeys:I,record:q,index:oe,renderIndex:X,rowComponent:$,cellComponent:G,scopeCellComponent:ee,indent:Z,expandedRowInfo:D})}):te=b.createElement(Y_,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:$,cellComponent:G,colSpan:c.length,isEmpty:!0},w);var J=Yh(c);return b.createElement(G_.Provider,{value:O.current},b.createElement(R,{className:"".concat(i,"-tbody")},n&&b.createElement(P3,{prefixCls:i,columnsKey:J,onColumnResize:h,columns:c}),te))}const O3=Lu(I3);var A3=["expandable"],Xu="RC_TABLE_INTERNAL_COL_DEFINE";function T3(e){var t=e.expandable,n=$a(e,A3),r;return"expandable"in e?r=Wt(Wt({},n),t):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var R3=["columnType"];function e1(e){for(var t=e.colWidths,n=e.columns,r=e.columCount,i=Da(mo,["tableLayout"]),l=i.tableLayout,h=[],c=r||n.length,g=!1,v=c-1;v>=0;v-=1){var y=t[v],w=n&&n[v],k=void 0,x=void 0;if(w&&(k=w[Xu],l==="auto"&&(x=w.minWidth)),y||x||k||g){var N=k||{};N.columnType;var T=$a(N,R3);h.unshift(b.createElement("col",bn({key:v,style:{width:y,minWidth:x}},T))),g=!0}}return h.length>0?b.createElement("colgroup",null,h):null}var B3=["className","noData","columns","flattenColumns","colWidths","colGroup","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","scrollX","tableLayout","onScroll","children"];function D3(e,t){return b.useMemo(function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(i!==void 0)n[r]=i;else return null}return n},[e.join("_"),t])}var $3=b.forwardRef(function(e,t){var n=e.className,r=e.noData,i=e.columns,l=e.flattenColumns,h=e.colWidths,c=e.colGroup,g=e.columCount,v=e.stickyOffsets,y=e.direction,w=e.fixHeader,k=e.stickyTopOffset,x=e.stickyBottomOffset,N=e.stickyClassName,T=e.scrollX,I=e.tableLayout,O=I===void 0?"fixed":I,D=e.onScroll,R=e.children,$=$a(e,B3),G=Da(mo,["prefixCls","scrollbarSize","isSticky","getComponent"]),ee=G.prefixCls,te=G.scrollbarSize,J=G.isSticky,H=G.getComponent,oe=H(["header","table"],"table"),q=J&&!w?0:te,Z=b.useRef(null),X=b.useCallback(function(Te){mg(t,Te),mg(Z,Te)},[]);b.useEffect(function(){function Te(ce){var me=ce,we=me.currentTarget,Le=me.deltaX;Le&&(D({currentTarget:we,scrollLeft:we.scrollLeft+Le}),ce.preventDefault())}var ne=Z.current;return ne?.addEventListener("wheel",Te,{passive:!1}),function(){ne?.removeEventListener("wheel",Te)}},[]);var U=l[l.length-1],Q={fixed:U?U.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(ee,"-cell-scrollbar")}}},ae=b.useMemo(function(){return q?[].concat(En(i),[Q]):i},[q,i]),ue=b.useMemo(function(){return q?[].concat(En(l),[Q]):l},[q,l]),le=b.useMemo(function(){var Te=v.right,ne=v.left;return Wt(Wt({},v),{},{left:y==="rtl"?[].concat(En(ne.map(function(ce){return ce+q})),[0]):ne,right:y==="rtl"?Te:[].concat(En(Te.map(function(ce){return ce+q})),[0]),isSticky:J})},[q,v,J]),be=D3(h,g),ke=b.useMemo(function(){var Te=!be||!be.length||be.every(function(ne){return!ne});return r||Te},[r,be]);return b.createElement("div",{style:Wt({overflow:"hidden"},J?{top:k,bottom:x}:{}),ref:X,className:bt(n,Pt({},N,!!N))},b.createElement(oe,{style:{tableLayout:O,minWidth:"100%",width:T}},ke?c:b.createElement(e1,{colWidths:[].concat(En(be),[q]),columCount:g+1,columns:ue}),R(Wt(Wt({},$),{},{stickyOffsets:le,columns:ae,flattenColumns:ue}))))});const hm=b.memo($3);var F3=function(t){var n=t.cells,r=t.stickyOffsets,i=t.flattenColumns,l=t.rowComponent,h=t.cellComponent,c=t.onHeaderRow,g=t.index,v=Da(mo,["prefixCls","direction"]),y=v.prefixCls,w=v.direction,k;c&&(k=c(n.map(function(N){return N.column}),g));var x=Yh(n.map(function(N){return N.column}));return b.createElement(l,k,n.map(function(N,T){var I=N.column,O=Ep(N.colStart,N.colEnd,i,r,w),D;return I&&I.onHeaderCell&&(D=N.column.onHeaderCell(I)),b.createElement(Nu,bn({},N,{scope:I.title?N.colSpan>1?"colgroup":"col":null,ellipsis:I.ellipsis,align:I.align,component:h,prefixCls:y,key:x[T]},O,{additionalProps:D,rowType:"header"}))}))};function j3(e){var t=[];function n(h,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[g]=t[g]||[];var v=c,y=h.filter(Boolean).map(function(w){var k={key:w.key,className:w.className||"",children:w.title,column:w,colStart:v},x=1,N=w.children;return N&&N.length>0&&(x=n(N,v,g+1).reduce(function(T,I){return T+I},0),k.hasSubColumns=!0),"colSpan"in w&&(x=w.colSpan),"rowSpan"in w&&(k.rowSpan=w.rowSpan),k.colSpan=x,k.colEnd=k.colStart+x-1,t[g].push(k),v+=x,x});return y}n(e,0);for(var r=t.length,i=function(c){t[c].forEach(function(g){!("rowSpan"in g)&&!g.hasSubColumns&&(g.rowSpan=r-c)})},l=0;l<r;l+=1)i(l);return t}var z3=function(t){var n=t.stickyOffsets,r=t.columns,i=t.flattenColumns,l=t.onHeaderRow,h=Da(mo,["prefixCls","getComponent"]),c=h.prefixCls,g=h.getComponent,v=b.useMemo(function(){return j3(r)},[r]),y=g(["header","wrapper"],"thead"),w=g(["header","row"],"tr"),k=g(["header","cell"],"th");return b.createElement(y,{className:"".concat(c,"-thead")},v.map(function(x,N){var T=b.createElement(F3,{key:N,flattenColumns:i,cells:x,stickyOffsets:n,rowComponent:w,cellComponent:k,onHeaderRow:l,index:N});return T}))};const dm=Lu(z3);function fm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function H3(e,t,n){return b.useMemo(function(){if(t&&t>0){var r=0,i=0;e.forEach(function(k){var x=fm(t,k.width);x?r+=x:i+=1});var l=Math.max(t,n),h=Math.max(l-r,i),c=i,g=h/i,v=0,y=e.map(function(k){var x=Wt({},k),N=fm(t,x.width);if(N)x.width=N;else{var T=Math.floor(g);x.width=c===1?h:T,h-=T,c-=1}return v+=x.width,x});if(v<l){var w=l/v;h=l,y.forEach(function(k,x){var N=Math.floor(k.width*w);k.width=x===y.length-1?h:N,h-=N})}return[y,Math.max(v,l)]}return[e,t]},[e,t,n])}var q3=["children"],U3=["fixed"];function kp(e){return Rl(e).filter(function(t){return b.isValidElement(t)}).map(function(t){var n=t.key,r=t.props,i=r.children,l=$a(r,q3),h=Wt({key:n},l);return i&&(h.children=kp(i)),h})}function t1(e){return e.filter(function(t){return t&&Lr(t)==="object"&&!t.hidden}).map(function(t){var n=t.children;return n&&n.length>0?Wt(Wt({},t),{},{children:t1(n)}):t})}function kf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(n){return n&&Lr(n)==="object"}).reduce(function(n,r,i){var l=r.fixed,h=l===!0?"left":l,c="".concat(t,"-").concat(i),g=r.children;return g&&g.length>0?[].concat(En(n),En(kf(g,c).map(function(v){var y;return Wt(Wt({},v),{},{fixed:(y=v.fixed)!==null&&y!==void 0?y:h})}))):[].concat(En(n),[Wt(Wt({key:c},r),{},{fixed:h})])},[])}function G3(e){return e.map(function(t){var n=t.fixed,r=$a(t,U3),i=n;return n==="left"?i="right":n==="right"&&(i="left"),Wt({fixed:i},r)})}function V3(e,t){var n=e.prefixCls,r=e.columns,i=e.children,l=e.expandable,h=e.expandedKeys,c=e.columnTitle,g=e.getRowKey,v=e.onTriggerExpand,y=e.expandIcon,w=e.rowExpandable,k=e.expandIconColumnIndex,x=e.expandedRowOffset,N=x===void 0?0:x,T=e.direction,I=e.expandRowByClick,O=e.columnWidth,D=e.fixed,R=e.scrollWidth,$=e.clientWidth,G=b.useMemo(function(){var U=r||kp(i)||[];return t1(U.slice())},[r,i]),ee=b.useMemo(function(){if(l){var U=G.slice();if(!U.includes(tl)){var Q=k||0,ae=Q===0&&D==="right"?G.length:Q;ae>=0&&U.splice(ae,0,tl)}var ue=U.indexOf(tl);U=U.filter(function(Te,ne){return Te!==tl||ne===ue});var le=G[ue],be;D?be=D:be=le?le.fixed:null;var ke=Pt(Pt(Pt(Pt(Pt(Pt({},Xu,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",c),"fixed",be),"className","".concat(n,"-row-expand-icon-cell")),"width",O),"render",function(ne,ce,me){var we=g(ce,me),Le=h.has(we),Be=w?w(ce):!0,he=y({prefixCls:n,expanded:Le,expandable:Be,record:ce,onExpand:v});return I?b.createElement("span",{onClick:function(We){return We.stopPropagation()}},he):he});return U.map(function(Te,ne){var ce=Te===tl?ke:Te;return ne<N?Wt(Wt({},ce),{},{fixed:ce.fixed||"left"}):ce})}return G.filter(function(Te){return Te!==tl})},[l,G,g,h,y,T,N]),te=b.useMemo(function(){var U=ee;return t&&(U=t(U)),U.length||(U=[{render:function(){return null}}]),U},[t,ee,T]),J=b.useMemo(function(){return T==="rtl"?G3(kf(te)):kf(te)},[te,T,R]),H=b.useMemo(function(){for(var U=-1,Q=J.length-1;Q>=0;Q-=1){var ae=J[Q].fixed;if(ae==="left"||ae===!0){U=Q;break}}if(U>=0)for(var ue=0;ue<=U;ue+=1){var le=J[ue].fixed;if(le!=="left"&&le!==!0)return!0}var be=J.findIndex(function(ne){var ce=ne.fixed;return ce==="right"});if(be>=0)for(var ke=be;ke<J.length;ke+=1){var Te=J[ke].fixed;if(Te!=="right")return!0}return!1},[J]),oe=H3(J,R,$),q=On(oe,2),Z=q[0],X=q[1];return[te,Z,X,H]}function W3(e,t,n){var r=T3(e),i=r.expandIcon,l=r.expandedRowKeys,h=r.defaultExpandedRowKeys,c=r.defaultExpandAllRows,g=r.expandedRowRender,v=r.onExpand,y=r.onExpandedRowsChange,w=r.childrenColumnName,k=i||E3,x=w||"children",N=b.useMemo(function(){return g?"row":e.expandable&&e.internalHooks===gc&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(G){return G&&Lr(G)==="object"&&G[x]})?"nest":!1},[!!g,t]),T=b.useState(function(){return h||(c?k3(t,n,x):[])}),I=On(T,2),O=I[0],D=I[1],R=b.useMemo(function(){return new Set(l||O||[])},[l,O]),$=b.useCallback(function(G){var ee=n(G,t.indexOf(G)),te,J=R.has(ee);J?(R.delete(ee),te=En(R)):te=[].concat(En(R),[ee]),D(te),v&&v(!J,G),y&&y(te)},[n,R,t,v,y]);return[r,N,R,k,x,$]}function K3(e,t,n){var r=e.map(function(i,l){return Ep(l,l,e,t,n)});return my(function(){return r},[r],function(i,l){return!vu(i,l)})}function Z3(e){var t=b.useRef(e),n=b.useState({}),r=On(n,2),i=r[1],l=b.useRef(null),h=b.useRef([]);function c(g){h.current.push(g);var v=Promise.resolve();l.current=v,v.then(function(){if(l.current===v){var y=h.current,w=t.current;h.current=[],y.forEach(function(k){t.current=k(t.current)}),l.current=null,w!==t.current&&i({})}})}return b.useEffect(function(){return function(){l.current=null}},[]),[t.current,c]}function X3(e){var t=b.useRef(null),n=b.useRef();function r(){window.clearTimeout(n.current)}function i(h){t.current=h,r(),n.current=window.setTimeout(function(){t.current=null,n.current=void 0},100)}function l(){return t.current}return b.useEffect(function(){return r},[]),[i,l]}function Y3(){var e=b.useState(-1),t=On(e,2),n=t[0],r=t[1],i=b.useState(-1),l=On(i,2),h=l[0],c=l[1],g=b.useCallback(function(v,y){r(v),c(y)},[]);return[n,h,g]}var pm=ap()?window:null;function J3(e,t){var n=Lr(e)==="object"?e:{},r=n.offsetHeader,i=r===void 0?0:r,l=n.offsetSummary,h=l===void 0?0:l,c=n.offsetScroll,g=c===void 0?0:c,v=n.getContainer,y=v===void 0?function(){return pm}:v,w=y()||pm,k=!!e;return b.useMemo(function(){return{isSticky:k,stickyClassName:k?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:h,offsetScroll:g,container:w}},[k,g,i,h,t,w])}function Q3(e,t,n){var r=b.useMemo(function(){var i=t.length,l=function(v,y,w){for(var k=[],x=0,N=v;N!==y;N+=w)k.push(x),t[N].fixed&&(x+=e[N]||0);return k},h=l(0,i,1),c=l(i-1,-1,-1).reverse();return n==="rtl"?{left:c,right:h}:{left:h,right:c}},[e,t,n]);return r}function gm(e){var t=e.className,n=e.children;return b.createElement("div",{className:t},n)}function mm(e){var t=qh(e),n=t.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var eE=function(t,n){var r,i,l=t.scrollBodyRef,h=t.onScroll,c=t.offsetScroll,g=t.container,v=t.direction,y=Da(mo,"prefixCls"),w=((r=l.current)===null||r===void 0?void 0:r.scrollWidth)||0,k=((i=l.current)===null||i===void 0?void 0:i.clientWidth)||0,x=w&&k*(k/w),N=b.useRef(),T=Z3({scrollLeft:0,isHiddenScrollBar:!0}),I=On(T,2),O=I[0],D=I[1],R=b.useRef({delta:0,x:0}),$=b.useState(!1),G=On($,2),ee=G[0],te=G[1],J=b.useRef(null);b.useEffect(function(){return function(){Ba.cancel(J.current)}},[]);var H=function(){te(!1)},oe=function(Q){Q.persist(),R.current.delta=Q.pageX-O.scrollLeft,R.current.x=0,te(!0),Q.preventDefault()},q=function(Q){var ae,ue=Q||((ae=window)===null||ae===void 0?void 0:ae.event),le=ue.buttons;if(!ee||le===0){ee&&te(!1);return}var be=R.current.x+Q.pageX-R.current.x-R.current.delta,ke=v==="rtl";be=Math.max(ke?x-k:0,Math.min(ke?0:k-x,be));var Te=!ke||Math.abs(be)+Math.abs(x)<k;Te&&(h({scrollLeft:be/k*(w+2)}),R.current.x=Q.pageX)},Z=function(){Ba.cancel(J.current),J.current=Ba(function(){if(l.current){var Q=mm(l.current).top,ae=Q+l.current.offsetHeight,ue=g===window?document.documentElement.scrollTop+window.innerHeight:mm(g).top+g.clientHeight;D(function(le){return Wt(Wt({},le),{},{isHiddenScrollBar:ae-cg()<=ue||Q>=ue-c})})}})},X=function(Q){D(function(ae){return Wt(Wt({},ae),{},{scrollLeft:w?Q/w*k:0})})};return b.useImperativeHandle(n,function(){return{setScrollLeft:X,checkScrollBarVisible:Z}}),b.useEffect(function(){var U=nm(document.body,"mouseup",H,!1),Q=nm(document.body,"mousemove",q,!1);return Z(),function(){U.remove(),Q.remove()}},[x,ee]),b.useEffect(function(){if(l.current){for(var U=[],Q=qh(l.current);Q;)U.push(Q),Q=Q.parentElement;return U.forEach(function(ae){return ae.addEventListener("scroll",Z,!1)}),window.addEventListener("resize",Z,!1),window.addEventListener("scroll",Z,!1),g.addEventListener("scroll",Z,!1),function(){U.forEach(function(ae){return ae.removeEventListener("scroll",Z)}),window.removeEventListener("resize",Z),window.removeEventListener("scroll",Z),g.removeEventListener("scroll",Z)}}},[g]),b.useEffect(function(){O.isHiddenScrollBar||D(function(U){var Q=l.current;return Q?Wt(Wt({},U),{},{scrollLeft:Q.scrollLeft/Q.scrollWidth*Q.clientWidth}):U})},[O.isHiddenScrollBar]),w<=k||!x||O.isHiddenScrollBar?null:b.createElement("div",{style:{height:cg(),width:k,bottom:c},className:"".concat(y,"-sticky-scroll")},b.createElement("div",{onMouseDown:oe,ref:N,className:bt("".concat(y,"-sticky-scroll-bar"),Pt({},"".concat(y,"-sticky-scroll-bar-active"),ee)),style:{width:"".concat(x,"px"),transform:"translate3d(".concat(O.scrollLeft,"px, 0, 0)")}}))};const tE=b.forwardRef(eE);var n1="rc-table",nE=[],rE={};function iE(){return"No Data"}function aE(e,t){var n=Wt({rowKey:"key",prefixCls:n1,emptyText:iE},e),r=n.prefixCls,i=n.className,l=n.rowClassName,h=n.style,c=n.data,g=n.rowKey,v=n.scroll,y=n.tableLayout,w=n.direction,k=n.title,x=n.footer,N=n.summary,T=n.caption,I=n.id,O=n.showHeader,D=n.components,R=n.emptyText,$=n.onRow,G=n.onHeaderRow,ee=n.measureRowRender,te=n.onScroll,J=n.internalHooks,H=n.transformColumns,oe=n.internalRefs,q=n.tailor,Z=n.getContainerWidth,X=n.sticky,U=n.rowHoverable,Q=U===void 0?!0:U,ae=c||nE,ue=!!ae.length,le=J===gc,be=b.useCallback(function(Qn,er){return tc(D,Qn)||er},[D]),ke=b.useMemo(function(){return typeof g=="function"?g:function(Qn){var er=Qn&&Qn[g];return er}},[g]),Te=be(["body"]),ne=Y3(),ce=On(ne,3),me=ce[0],we=ce[1],Le=ce[2],Be=W3(n,ae,ke),he=On(Be,6),qe=he[0],We=he[1],Fe=he[2],de=he[3],it=he[4],ft=he[5],fe=v?.x,tt=b.useState(0),kt=On(tt,2),At=kt[0],Ze=kt[1],Zt=V3(Wt(Wt(Wt({},n),qe),{},{expandable:!!qe.expandedRowRender,columnTitle:qe.columnTitle,expandedKeys:Fe,getRowKey:ke,onTriggerExpand:ft,expandIcon:de,expandIconColumnIndex:qe.expandIconColumnIndex,direction:w,scrollWidth:le&&q&&typeof fe=="number"?fe:null,clientWidth:At}),le?H:null),nt=On(Zt,4),mt=nt[0],wt=nt[1],Et=nt[2],Xt=nt[3],nn=Et??fe,dn=b.useMemo(function(){return{columns:mt,flattenColumns:wt}},[mt,wt]),Dt=b.useRef(),Jt=b.useRef(),Ft=b.useRef(),ht=b.useRef();b.useImperativeHandle(t,function(){return{nativeElement:Dt.current,scrollTo:function(er){var Wn;if(Ft.current instanceof HTMLElement){var oi=er.index,Rr=er.top,Xi=er.key;if(d3(Rr)){var Wr;(Wr=Ft.current)===null||Wr===void 0||Wr.scrollTo({top:Rr})}else{var ei,Ca=Xi??ke(ae[oi]);(ei=Ft.current.querySelector('[data-row-key="'.concat(Ca,'"]')))===null||ei===void 0||ei.scrollIntoView()}}else(Wn=Ft.current)!==null&&Wn!==void 0&&Wn.scrollTo&&Ft.current.scrollTo(er)}}});var Mt=b.useRef(),tn=b.useState(!1),fn=On(tn,2),Tt=fn[0],zt=fn[1],jt=b.useState(!1),ln=On(jt,2),an=ln[0],hn=ln[1],Bn=b.useState(new Map),Rt=On(Bn,2),Gt=Rt[0],gn=Rt[1],An=Yh(wt),Dn=An.map(function(Qn){return Gt.get(Qn)}),Kt=b.useMemo(function(){return Dn},[Dn.join("_")]),dr=Q3(Kt,wt,w),mn=v&&Ef(v.y),br=v&&Ef(nn)||!!qe.fixed,Un=br&&wt.some(function(Qn){var er=Qn.fixed;return er}),ur=b.useRef(),Tr=J3(X,r),zn=Tr.isSticky,cn=Tr.offsetHeader,Pr=Tr.offsetSummary,Ri=Tr.offsetScroll,Nn=Tr.stickyClassName,Gn=Tr.container,wn=b.useMemo(function(){return N?.(ae)},[N,ae]),nr=(mn||zn)&&b.isValidElement(wn)&&wn.type===Jh&&wn.props.fixed,sr,fr,wr;mn&&(fr={overflowY:ue?"scroll":"auto",maxHeight:v.y}),br&&(sr={overflowX:"auto"},mn||(fr={overflowY:"hidden"}),wr={width:nn===!0?"auto":nn,minWidth:"100%"});var Nr=b.useCallback(function(Qn,er){gn(function(Wn){if(Wn.get(Qn)!==er){var oi=new Map(Wn);return oi.set(Qn,er),oi}return Wn})},[]),Si=X3(),yi=On(Si,2),mr=yi[0],Hi=yi[1];function Jn(Qn,er){er&&(typeof er=="function"?er(Qn):er.scrollLeft!==Qn&&(er.scrollLeft=Qn,er.scrollLeft!==Qn&&setTimeout(function(){er.scrollLeft=Qn},0)))}var xn=Ja(function(Qn){var er=Qn.currentTarget,Wn=Qn.scrollLeft,oi=w==="rtl",Rr=typeof Wn=="number"?Wn:er.scrollLeft,Xi=er||rE;if(!Hi()||Hi()===Xi){var Wr;mr(Xi),Jn(Rr,Jt.current),Jn(Rr,Ft.current),Jn(Rr,Mt.current),Jn(Rr,(Wr=ur.current)===null||Wr===void 0?void 0:Wr.setScrollLeft)}var ei=er||Jt.current;if(ei){var Ca=le&&q&&typeof nn=="number"?nn:ei.scrollWidth,sn=ei.clientWidth;if(Ca===sn){zt(!1),hn(!1);return}oi?(zt(-Rr<Ca-sn),hn(-Rr>0)):(zt(Rr>0),hn(Rr<Ca-sn))}}),rr=Ja(function(Qn){xn(Qn),te?.(Qn)}),pr=function(){if(br&&Ft.current){var er;xn({currentTarget:qh(Ft.current),scrollLeft:(er=Ft.current)===null||er===void 0?void 0:er.scrollLeft})}else zt(!1),hn(!1)},gr=function(er){var Wn,oi=er.width;(Wn=ur.current)===null||Wn===void 0||Wn.checkScrollBarVisible();var Rr=Dt.current?Dt.current.offsetWidth:oi;le&&Z&&Dt.current&&(Rr=Z(Dt.current,Rr)||Rr),Rr!==At&&(pr(),Ze(Rr))},_i=b.useRef(!1);b.useEffect(function(){_i.current&&pr()},[br,c,mt.length]),b.useEffect(function(){_i.current=!0},[]);var Sn=b.useState(0),kn=On(Sn,2),Xn=kn[0],Gr=kn[1],$r=b.useState(!0),Fn=On($r,2),xr=Fn[0],xa=Fn[1];na(function(){(!q||!le)&&(Ft.current instanceof Element?Gr(hg(Ft.current).width):Gr(hg(ht.current).width)),xa(_f("position","sticky"))},[]),b.useEffect(function(){le&&oe&&(oe.body.current=Ft.current)});var Vr=b.useCallback(function(Qn){return b.createElement(b.Fragment,null,b.createElement(dm,Qn),nr==="top"&&b.createElement(Tc,Qn,wn))},[nr,wn]),la=b.useCallback(function(Qn){return b.createElement(Tc,Qn,wn)},[wn]),qi=be(["table"],"table"),jn=b.useMemo(function(){return y||(Un?nn==="max-content"?"auto":"fixed":mn||zn||wt.some(function(Qn){var er=Qn.ellipsis;return er})?"fixed":"auto")},[mn,Un,wt,y,zn]),Cr,ai={colWidths:Kt,columCount:wt.length,stickyOffsets:dr,onHeaderRow:G,fixHeader:mn,scroll:v},Qr=b.useMemo(function(){return ue?null:typeof R=="function"?R():R},[ue,R]),Hr=b.createElement(O3,{data:ae,measureColumnWidth:mn||br||zn}),vo=b.createElement(e1,{colWidths:wt.map(function(Qn){var er=Qn.width;return er}),columns:wt}),yo=T!=null?b.createElement("caption",{className:"".concat(r,"-caption")},T):void 0,Fa=Wo(n,{data:!0}),Or=Wo(n,{aria:!0});if(mn||zn){var Wi;typeof Te=="function"?(Wi=Te(ae,{scrollbarSize:Xn,ref:Ft,onScroll:xn}),ai.colWidths=wt.map(function(Qn,er){var Wn=Qn.width,oi=er===wt.length-1?Wn-Xn:Wn;return typeof oi=="number"&&!Number.isNaN(oi)?oi:0})):Wi=b.createElement("div",{style:Wt(Wt({},sr),fr),onScroll:rr,ref:Ft,className:bt("".concat(r,"-body"))},b.createElement(qi,bn({style:Wt(Wt({},wr),{},{tableLayout:jn})},Or),yo,vo,Hr,!nr&&wn&&b.createElement(Tc,{stickyOffsets:dr,flattenColumns:wt},wn)));var Ki=Wt(Wt(Wt({noData:!ae.length},ai),dn),{},{direction:w,stickyClassName:Nn,scrollX:nn,tableLayout:jn,onScroll:xn});Cr=b.createElement(b.Fragment,null,O!==!1&&b.createElement(hm,bn({},Ki,{stickyTopOffset:cn,className:"".concat(r,"-header"),ref:Jt,colGroup:vo}),Vr),Wi,nr&&nr!=="top"&&b.createElement(hm,bn({},Ki,{stickyBottomOffset:Pr,className:"".concat(r,"-summary"),ref:Mt,colGroup:vo}),la),zn&&Ft.current&&Ft.current instanceof Element&&b.createElement(tE,{ref:ur,offsetScroll:Ri,scrollBodyRef:Ft,onScroll:xn,container:Gn,direction:w}))}else Cr=b.createElement("div",{style:Wt(Wt({},sr),fr),className:bt("".concat(r,"-content")),onScroll:xn,ref:Ft},b.createElement(qi,bn({style:Wt(Wt({},wr),{},{tableLayout:jn})},Or),yo,vo,O!==!1&&b.createElement(dm,bn({},ai,dn)),Hr,wn&&b.createElement(Tc,{stickyOffsets:dr,flattenColumns:wt},wn)));var Zi=b.createElement("div",bn({className:bt(r,i,Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt({},"".concat(r,"-rtl"),w==="rtl"),"".concat(r,"-ping-left"),Tt),"".concat(r,"-ping-right"),an),"".concat(r,"-layout-fixed"),y==="fixed"),"".concat(r,"-fixed-header"),mn),"".concat(r,"-fixed-column"),Un),"".concat(r,"-fixed-column-gapped"),Un&&Xt),"".concat(r,"-scroll-horizontal"),br),"".concat(r,"-has-fix-left"),wt[0]&&wt[0].fixed),"".concat(r,"-has-fix-right"),wt[wt.length-1]&&wt[wt.length-1].fixed==="right")),style:h,id:I,ref:Dt},Fa),k&&b.createElement(gm,{className:"".concat(r,"-title")},k(ae)),b.createElement("div",{ref:ht,className:"".concat(r,"-container")},Cr),x&&b.createElement(gm,{className:"".concat(r,"-footer")},x(ae)));br&&(Zi=b.createElement(Gh,{onResize:gr},Zi));var wa=K3(wt,dr,w),ja=b.useMemo(function(){return{scrollX:nn,prefixCls:r,getComponent:be,scrollbarSize:Xn,direction:w,fixedInfoList:wa,isSticky:zn,supportSticky:xr,componentWidth:At,fixHeader:mn,fixColumn:Un,horizonScroll:br,tableLayout:jn,rowClassName:l,expandedRowClassName:qe.expandedRowClassName,expandIcon:de,expandableType:We,expandRowByClick:qe.expandRowByClick,expandedRowRender:qe.expandedRowRender,expandedRowOffset:qe.expandedRowOffset,onTriggerExpand:ft,expandIconColumnIndex:qe.expandIconColumnIndex,indentSize:qe.indentSize,allColumnsFixedLeft:wt.every(function(Qn){return Qn.fixed==="left"}),emptyNode:Qr,columns:mt,flattenColumns:wt,onColumnResize:Nr,colWidths:Kt,hoverStartRow:me,hoverEndRow:we,onHover:Le,rowExpandable:qe.rowExpandable,onRow:$,getRowKey:ke,expandedKeys:Fe,childrenColumnName:it,rowHoverable:Q,measureRowRender:ee}},[nn,r,be,Xn,w,wa,zn,xr,At,mn,Un,br,jn,l,qe.expandedRowClassName,de,We,qe.expandRowByClick,qe.expandedRowRender,qe.expandedRowOffset,ft,qe.expandIconColumnIndex,qe.indentSize,Qr,mt,wt,Nr,Kt,me,we,Le,qe.rowExpandable,$,ke,Fe,it,Q,ee]);return b.createElement(mo.Provider,{value:ja},Zi)}var oE=b.forwardRef(aE);function r1(e){return U_(oE,e)}var Mu=r1();Mu.EXPAND_COLUMN=tl;Mu.INTERNAL_HOOKS=gc;Mu.Column=C3;Mu.ColumnGroup=S3;Mu.Summary=W_;var Lp=Cp(null),i1=Cp(null);function sE(e,t,n){var r=t||1;return n[e+r]-(n[e]||0)}function lE(e){var t=e.rowInfo,n=e.column,r=e.colIndex,i=e.indent,l=e.index,h=e.component,c=e.renderIndex,g=e.record,v=e.style,y=e.className,w=e.inverse,k=e.getHeight,x=n.render,N=n.dataIndex,T=n.className,I=n.width,O=Da(i1,["columnsOffset"]),D=O.columnsOffset,R=Q_(t,n,r,i,l),$=R.key,G=R.fixedInfo,ee=R.appendCellNode,te=R.additionalCellProps,J=te.style,H=te.colSpan,oe=H===void 0?1:H,q=te.rowSpan,Z=q===void 0?1:q,X=r-1,U=sE(X,oe,D),Q=oe>1?I-U:0,ae=Wt(Wt(Wt({},J),v),{},{flex:"0 0 ".concat(U,"px"),width:"".concat(U,"px"),marginRight:Q,pointerEvents:"auto"}),ue=b.useMemo(function(){return w?Z<=1:oe===0||Z===0||Z>1},[Z,oe,w]);ue?ae.visibility="hidden":w&&(ae.height=k?.(Z));var le=ue?function(){return null}:x,be={};return(Z===0||oe===0)&&(be.rowSpan=1,be.colSpan=1),b.createElement(Nu,bn({className:bt(T,y),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:h,prefixCls:t.prefixCls,key:$,record:g,index:l,renderIndex:c,dataIndex:N,render:le,shouldCellUpdate:n.shouldCellUpdate},G,{appendNode:ee,additionalProps:Wt(Wt({},te),{},{style:ae},be)}))}var uE=["data","index","className","rowKey","style","extra","getHeight"],cE=b.forwardRef(function(e,t){var n=e.data,r=e.index,i=e.className,l=e.rowKey,h=e.style,c=e.extra,g=e.getHeight,v=$a(e,uE),y=n.record,w=n.indent,k=n.index,x=Da(mo,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),N=x.scrollX,T=x.flattenColumns,I=x.prefixCls,O=x.fixColumn,D=x.componentWidth,R=Da(Lp,["getComponent"]),$=R.getComponent,G=X_(y,l,r,w),ee=$(["body","row"],"div"),te=$(["body","cell"],"div"),J=G.rowSupportExpand,H=G.expanded,oe=G.rowProps,q=G.expandedRowRender,Z=G.expandedRowClassName,X;if(J&&H){var U=q(y,r,w+1,H),Q=J_(Z,y,r,w),ae={};O&&(ae={style:Pt({},"--virtual-width","".concat(D,"px"))});var ue="".concat(I,"-expanded-row-cell");X=b.createElement(ee,{className:bt("".concat(I,"-expanded-row"),"".concat(I,"-expanded-row-level-").concat(w+1),Q)},b.createElement(Nu,{component:te,prefixCls:I,className:bt(ue,Pt({},"".concat(ue,"-fixed"),O)),additionalProps:ae},U))}var le=Wt(Wt({},h),{},{width:N});c&&(le.position="absolute",le.pointerEvents="none");var be=b.createElement(ee,bn({},oe,v,{"data-row-key":l,ref:J?null:t,className:bt(i,"".concat(I,"-row"),oe?.className,Pt({},"".concat(I,"-row-extra"),c)),style:Wt(Wt({},le),oe?.style)}),T.map(function(ke,Te){return b.createElement(lE,{key:Te,component:te,rowInfo:G,column:ke,colIndex:Te,indent:w,index:r,renderIndex:k,record:y,inverse:c,getHeight:g})}));return J?b.createElement("div",{ref:t},be,X):be}),vm=Lu(cE),hE=b.forwardRef(function(e,t){var n=e.data,r=e.onScroll,i=Da(mo,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),l=i.flattenColumns,h=i.onColumnResize,c=i.getRowKey,g=i.expandedKeys,v=i.prefixCls,y=i.childrenColumnName,w=i.scrollX,k=i.direction,x=Da(Lp),N=x.sticky,T=x.scrollY,I=x.listItemHeight,O=x.getComponent,D=x.onScroll,R=b.useRef(),$=Z_(n,y,g,c),G=b.useMemo(function(){var X=0;return l.map(function(U){var Q=U.width,ae=U.minWidth,ue=U.key,le=Math.max(Q||0,ae||0);return X+=le,[ue,le,X]})},[l]),ee=b.useMemo(function(){return G.map(function(X){return X[2]})},[G]);b.useEffect(function(){G.forEach(function(X){var U=On(X,2),Q=U[0],ae=U[1];h(Q,ae)})},[G]),b.useImperativeHandle(t,function(){var X,U={scrollTo:function(ae){var ue;(ue=R.current)===null||ue===void 0||ue.scrollTo(ae)},nativeElement:(X=R.current)===null||X===void 0?void 0:X.nativeElement};return Object.defineProperty(U,"scrollLeft",{get:function(){var ae;return((ae=R.current)===null||ae===void 0?void 0:ae.getScrollInfo().x)||0},set:function(ae){var ue;(ue=R.current)===null||ue===void 0||ue.scrollTo({left:ae})}}),Object.defineProperty(U,"scrollTop",{get:function(){var ae;return((ae=R.current)===null||ae===void 0?void 0:ae.getScrollInfo().y)||0},set:function(ae){var ue;(ue=R.current)===null||ue===void 0||ue.scrollTo({top:ae})}}),U});var te=function(U,Q){var ae,ue=(ae=$[Q])===null||ae===void 0?void 0:ae.record,le=U.onCell;if(le){var be,ke=le(ue,Q);return(be=ke?.rowSpan)!==null&&be!==void 0?be:1}return 1},J=function(U){var Q=U.start,ae=U.end,ue=U.getSize,le=U.offsetY;if(ae<0)return null;for(var be=l.filter(function(Fe){return te(Fe,Q)===0}),ke=Q,Te=function(de){if(be=be.filter(function(it){return te(it,de)===0}),!be.length)return ke=de,1},ne=Q;ne>=0&&!Te(ne);ne-=1);for(var ce=l.filter(function(Fe){return te(Fe,ae)!==1}),me=ae,we=function(de){if(ce=ce.filter(function(it){return te(it,de)!==1}),!ce.length)return me=Math.max(de-1,ae),1},Le=ae;Le<$.length&&!we(Le);Le+=1);for(var Be=[],he=function(de){var it=$[de];if(!it)return 1;l.some(function(ft){return te(ft,de)>1})&&Be.push(de)},qe=ke;qe<=me;qe+=1)he(qe);var We=Be.map(function(Fe){var de=$[Fe],it=c(de.record,Fe),ft=function(kt){var At=Fe+kt-1,Ze=c($[At].record,At),Zt=ue(it,Ze);return Zt.bottom-Zt.top},fe=ue(it);return b.createElement(vm,{key:Fe,data:de,rowKey:it,index:Fe,style:{top:-le+fe.top},extra:!0,getHeight:ft})});return We},H=b.useMemo(function(){return{columnsOffset:ee}},[ee]),oe="".concat(v,"-tbody"),q=O(["body","wrapper"]),Z={};return N&&(Z.position="sticky",Z.bottom=0,Lr(N)==="object"&&N.offsetScroll&&(Z.bottom=N.offsetScroll)),b.createElement(i1.Provider,{value:H},b.createElement(Jv,{fullHeight:!1,ref:R,prefixCls:"".concat(oe,"-virtual"),styles:{horizontalScrollBar:Z},className:oe,height:T,itemHeight:I||24,data:$,itemKey:function(U){return c(U.record)},component:q,scrollWidth:w,direction:k,onVirtualScroll:function(U){var Q,ae=U.x;r({currentTarget:(Q=R.current)===null||Q===void 0?void 0:Q.nativeElement,scrollLeft:ae})},onScroll:D,extraRender:J},function(X,U,Q){var ae=c(X.record,U);return b.createElement(vm,{data:X,rowKey:ae,index:U,style:Q.style})}))}),dE=Lu(hE),fE=function(t,n){var r=n.ref,i=n.onScroll;return b.createElement(dE,{ref:r,data:t,onScroll:i})};function pE(e,t){var n=e.data,r=e.columns,i=e.scroll,l=e.sticky,h=e.prefixCls,c=h===void 0?n1:h,g=e.className,v=e.listItemHeight,y=e.components,w=e.onScroll,k=i||{},x=k.x,N=k.y;typeof x!="number"&&(x=1),typeof N!="number"&&(N=500);var T=Ja(function(D,R){return tc(y,D)||R}),I=Ja(w),O=b.useMemo(function(){return{sticky:l,scrollY:N,listItemHeight:v,getComponent:T,onScroll:I}},[l,N,v,T,I]);return b.createElement(Lp.Provider,{value:O},b.createElement(Mu,bn({},e,{className:bt(g,"".concat(c,"-virtual")),scroll:Wt(Wt({},i),{},{x}),components:Wt(Wt({},y),{},{body:n!=null&&n.length?fE:void 0}),columns:r,internalHooks:gc,tailor:!0,ref:t})))}var gE=b.forwardRef(pE);function a1(e){return U_(gE,e)}a1();const mE=e=>null,vE=e=>null;var Np=b.createContext(null),yE=b.createContext({}),_E=function(t){for(var n=t.prefixCls,r=t.level,i=t.isStart,l=t.isEnd,h="".concat(n,"-indent-unit"),c=[],g=0;g<r;g+=1)c.push(b.createElement("span",{key:g,className:bt(h,Pt(Pt({},"".concat(h,"-start"),i[g]),"".concat(h,"-end"),l[g]))}));return b.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},c)};const bE=b.memo(_E);var xE=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ym="open",_m="close",wE="---",ac=function(t){var n,r,i,l=t.eventKey,h=t.className,c=t.style,g=t.dragOver,v=t.dragOverGapTop,y=t.dragOverGapBottom,w=t.isLeaf,k=t.isStart,x=t.isEnd,N=t.expanded,T=t.selected,I=t.checked,O=t.halfChecked,D=t.loading,R=t.domRef,$=t.active,G=t.data,ee=t.onMouseMove,te=t.selectable,J=$a(t,xE),H=Ot.useContext(Np),oe=Ot.useContext(yE),q=Ot.useRef(null),Z=Ot.useState(!1),X=On(Z,2),U=X[0],Q=X[1],ae=!!(H.disabled||t.disabled||(n=oe.nodeDisabled)!==null&&n!==void 0&&n.call(oe,G)),ue=Ot.useMemo(function(){return!H.checkable||t.checkable===!1?!1:H.checkable},[H.checkable,t.checkable]),le=function(Mt){ae||H.onNodeSelect(Mt,oa(t))},be=function(Mt){ae||!ue||t.disableCheckbox||H.onNodeCheck(Mt,oa(t),!I)},ke=Ot.useMemo(function(){return typeof te=="boolean"?te:H.selectable},[te,H.selectable]),Te=function(Mt){H.onNodeClick(Mt,oa(t)),ke?le(Mt):be(Mt)},ne=function(Mt){H.onNodeDoubleClick(Mt,oa(t))},ce=function(Mt){H.onNodeMouseEnter(Mt,oa(t))},me=function(Mt){H.onNodeMouseLeave(Mt,oa(t))},we=function(Mt){H.onNodeContextMenu(Mt,oa(t))},Le=Ot.useMemo(function(){return!!(H.draggable&&(!H.draggable.nodeDraggable||H.draggable.nodeDraggable(G)))},[H.draggable,G]),Be=function(Mt){Mt.stopPropagation(),Q(!0),H.onNodeDragStart(Mt,t);try{Mt.dataTransfer.setData("text/plain","")}catch{}},he=function(Mt){Mt.preventDefault(),Mt.stopPropagation(),H.onNodeDragEnter(Mt,t)},qe=function(Mt){Mt.preventDefault(),Mt.stopPropagation(),H.onNodeDragOver(Mt,t)},We=function(Mt){Mt.stopPropagation(),H.onNodeDragLeave(Mt,t)},Fe=function(Mt){Mt.stopPropagation(),Q(!1),H.onNodeDragEnd(Mt,t)},de=function(Mt){Mt.preventDefault(),Mt.stopPropagation(),Q(!1),H.onNodeDrop(Mt,t)},it=function(Mt){D||H.onNodeExpand(Mt,oa(t))},ft=Ot.useMemo(function(){var ht=Io(H.keyEntities,l)||{},Mt=ht.children;return!!(Mt||[]).length},[H.keyEntities,l]),fe=Ot.useMemo(function(){return w===!1?!1:w||!H.loadData&&!ft||H.loadData&&t.loaded&&!ft},[w,H.loadData,ft,t.loaded]);Ot.useEffect(function(){D||typeof H.loadData=="function"&&N&&!fe&&!t.loaded&&H.onNodeLoad(oa(t))},[D,H.loadData,H.onNodeLoad,N,fe,t]);var tt=Ot.useMemo(function(){var ht;return(ht=H.draggable)!==null&&ht!==void 0&&ht.icon?Ot.createElement("span",{className:"".concat(H.prefixCls,"-draggable-icon")},H.draggable.icon):null},[H.draggable]),kt=function(Mt){var tn=t.switcherIcon||H.switcherIcon;return typeof tn=="function"?tn(Wt(Wt({},t),{},{isLeaf:Mt})):tn},At=function(){if(fe){var Mt=kt(!0);return Mt!==!1?Ot.createElement("span",{className:bt("".concat(H.prefixCls,"-switcher"),"".concat(H.prefixCls,"-switcher-noop"))},Mt):null}var tn=kt(!1);return tn!==!1?Ot.createElement("span",{onClick:it,className:bt("".concat(H.prefixCls,"-switcher"),"".concat(H.prefixCls,"-switcher_").concat(N?ym:_m))},tn):null},Ze=Ot.useMemo(function(){if(!ue)return null;var ht=typeof ue!="boolean"?ue:null;return Ot.createElement("span",{className:bt("".concat(H.prefixCls,"-checkbox"),Pt(Pt(Pt({},"".concat(H.prefixCls,"-checkbox-checked"),I),"".concat(H.prefixCls,"-checkbox-indeterminate"),!I&&O),"".concat(H.prefixCls,"-checkbox-disabled"),ae||t.disableCheckbox)),onClick:be,role:"checkbox","aria-checked":O?"mixed":I,"aria-disabled":ae||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},ht)},[ue,I,O,ae,t.disableCheckbox,t.title]),Zt=Ot.useMemo(function(){return fe?null:N?ym:_m},[fe,N]),nt=Ot.useMemo(function(){return Ot.createElement("span",{className:bt("".concat(H.prefixCls,"-iconEle"),"".concat(H.prefixCls,"-icon__").concat(Zt||"docu"),Pt({},"".concat(H.prefixCls,"-icon_loading"),D))})},[H.prefixCls,Zt,D]),mt=Ot.useMemo(function(){var ht=!!H.draggable,Mt=!t.disabled&&ht&&H.dragOverNodeKey===l;return Mt?H.dropIndicatorRender({dropPosition:H.dropPosition,dropLevelOffset:H.dropLevelOffset,indent:H.indent,prefixCls:H.prefixCls,direction:H.direction}):null},[H.dropPosition,H.dropLevelOffset,H.indent,H.prefixCls,H.direction,H.draggable,H.dragOverNodeKey,H.dropIndicatorRender]),wt=Ot.useMemo(function(){var ht=t.title,Mt=ht===void 0?wE:ht,tn="".concat(H.prefixCls,"-node-content-wrapper"),fn;if(H.showIcon){var Tt=t.icon||H.icon;fn=Tt?Ot.createElement("span",{className:bt("".concat(H.prefixCls,"-iconEle"),"".concat(H.prefixCls,"-icon__customize"))},typeof Tt=="function"?Tt(t):Tt):nt}else H.loadData&&D&&(fn=nt);var zt;return typeof Mt=="function"?zt=Mt(G):H.titleRender?zt=H.titleRender(G):zt=Mt,Ot.createElement("span",{ref:q,title:typeof Mt=="string"?Mt:"",className:bt(tn,"".concat(tn,"-").concat(Zt||"normal"),Pt({},"".concat(H.prefixCls,"-node-selected"),!ae&&(T||U))),onMouseEnter:ce,onMouseLeave:me,onContextMenu:we,onClick:Te,onDoubleClick:ne},fn,Ot.createElement("span",{className:"".concat(H.prefixCls,"-title")},zt),mt)},[H.prefixCls,H.showIcon,t,H.icon,nt,H.titleRender,G,Zt,ce,me,we,Te,ne]),Et=Wo(J,{aria:!0,data:!0}),Xt=Io(H.keyEntities,l)||{},nn=Xt.level,dn=x[x.length-1],Dt=!ae&&Le,Jt=H.draggingNodeKey===l,Ft=te!==void 0?{"aria-selected":!!te}:void 0;return Ot.createElement("div",bn({ref:R,role:"treeitem","aria-expanded":w?void 0:N,className:bt(h,"".concat(H.prefixCls,"-treenode"),(i={},Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(i,"".concat(H.prefixCls,"-treenode-disabled"),ae),"".concat(H.prefixCls,"-treenode-switcher-").concat(N?"open":"close"),!w),"".concat(H.prefixCls,"-treenode-checkbox-checked"),I),"".concat(H.prefixCls,"-treenode-checkbox-indeterminate"),O),"".concat(H.prefixCls,"-treenode-selected"),T),"".concat(H.prefixCls,"-treenode-loading"),D),"".concat(H.prefixCls,"-treenode-active"),$),"".concat(H.prefixCls,"-treenode-leaf-last"),dn),"".concat(H.prefixCls,"-treenode-draggable"),Le),"dragging",Jt),Pt(Pt(Pt(Pt(Pt(Pt(Pt(i,"drop-target",H.dropTargetKey===l),"drop-container",H.dropContainerKey===l),"drag-over",!ae&&g),"drag-over-gap-top",!ae&&v),"drag-over-gap-bottom",!ae&&y),"filter-node",(r=H.filterTreeNode)===null||r===void 0?void 0:r.call(H,oa(t))),"".concat(H.prefixCls,"-treenode-leaf"),fe))),style:c,draggable:Dt,onDragStart:Dt?Be:void 0,onDragEnter:Le?he:void 0,onDragOver:Le?qe:void 0,onDragLeave:Le?We:void 0,onDrop:Le?de:void 0,onDragEnd:Le?Fe:void 0,onMouseMove:ee},Ft,Et),Ot.createElement(bE,{prefixCls:H.prefixCls,level:nn,isStart:k,isEnd:x}),tt,At(),Ze,wt)};ac.isTreeNode=1;function ws(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function Fs(e,t){var n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function Mp(e){return e.split("-")}function CE(e,t){var n=[],r=Io(t,e);function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(h){var c=h.key,g=h.children;n.push(c),i(g)})}return i(r.children),n}function SE(e){if(e.parent){var t=Mp(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function EE(e){var t=Mp(e.pos);return Number(t[t.length-1])===0}function bm(e,t,n,r,i,l,h,c,g,v){var y,w=e.clientX,k=e.clientY,x=e.target.getBoundingClientRect(),N=x.top,T=x.height,I=(v==="rtl"?-1:1)*((i?.x||0)-w),O=(I-12)/r,D=g.filter(function(ae){var ue;return(ue=c[ae])===null||ue===void 0||(ue=ue.children)===null||ue===void 0?void 0:ue.length}),R=Io(c,n.eventKey);if(k<N+T/2){var $=h.findIndex(function(ae){return ae.key===R.key}),G=$<=0?0:$-1,ee=h[G].key;R=Io(c,ee)}var te=R.key,J=R,H=R.key,oe=0,q=0;if(!D.includes(te))for(var Z=0;Z<O&&SE(R);Z+=1)R=R.parent,q+=1;var X=t.data,U=R.node,Q=!0;return EE(R)&&R.level===0&&k<N+T/2&&l({dragNode:X,dropNode:U,dropPosition:-1})&&R.key===n.eventKey?oe=-1:(J.children||[]).length&&D.includes(H)?l({dragNode:X,dropNode:U,dropPosition:0})?oe=0:Q=!1:q===0?O>-1.5?l({dragNode:X,dropNode:U,dropPosition:1})?oe=1:Q=!1:l({dragNode:X,dropNode:U,dropPosition:0})?oe=0:l({dragNode:X,dropNode:U,dropPosition:1})?oe=1:Q=!1:l({dragNode:X,dropNode:U,dropPosition:1})?oe=1:Q=!1,{dropPosition:oe,dropLevelOffset:q,dropTargetKey:R.key,dropTargetPos:R.pos,dragOverNodeKey:H,dropContainerKey:oe===0?null:((y=R.parent)===null||y===void 0?void 0:y.key)||null,dropAllowed:Q}}function xm(e,t){if(e){var n=t.multiple;return n?e.slice():e.length?[e[0]]:e}}function Ed(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(Lr(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return rs(!1,"`checkedKeys` is not an array or an object"),null;return t}function Lf(e,t){var n=new Set;function r(i){if(!n.has(i)){var l=Io(t,i);if(l){n.add(i);var h=l.parent,c=l.node;c.disabled||h&&r(h.key)}}}return(e||[]).forEach(function(i){r(i)}),En(n)}function kE(e){const[t,n]=b.useState(null);return[b.useCallback((l,h,c)=>{const g=t??l,v=Math.min(g||0,l),y=Math.max(g||0,l),w=h.slice(v,y+1).map(N=>e(N)),k=w.some(N=>!c.has(N)),x=[];return w.forEach(N=>{k?(c.has(N)||x.push(N),c.add(N)):(c.delete(N),x.push(N))}),n(k?y:null),x},[t]),l=>{n(l)}]}const el={},Nf="SELECT_ALL",Mf="SELECT_INVERT",Pf="SELECT_NONE",wm=[],o1=(e,t,n=[])=>((t||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&e in r&&o1(e,r[e],n)}),n),LE=(e,t)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:i,getCheckboxProps:l,getTitleCheckboxProps:h,onChange:c,onSelect:g,onSelectAll:v,onSelectInvert:y,onSelectNone:w,onSelectMultiple:k,columnWidth:x,type:N,selections:T,fixed:I,renderCell:O,hideSelectAll:D,checkStrictly:R=!0}=t||{},{prefixCls:$,data:G,pageData:ee,getRecordByKey:te,getRowKey:J,expandType:H,childrenColumnName:oe,locale:q,getPopupContainer:Z}=e,X=hc(),[U,Q]=kE(de=>de),[ae,ue]=ps(r||i||wm,{value:r}),le=b.useRef(new Map),be=b.useCallback(de=>{if(n){const it=new Map;de.forEach(ft=>{let fe=te(ft);!fe&&le.current.has(ft)&&(fe=le.current.get(ft)),it.set(ft,fe)}),le.current=it}},[te,n]);b.useEffect(()=>{be(ae)},[ae]);const ke=b.useMemo(()=>o1(oe,ee),[oe,ee]),{keyEntities:Te}=b.useMemo(()=>{if(R)return{keyEntities:null};let de=G;if(n){const it=new Set(ke.map((fe,tt)=>J(fe,tt))),ft=Array.from(le.current).reduce((fe,[tt,kt])=>it.has(tt)?fe:fe.concat(kt),[]);de=[].concat(En(de),En(ft))}return gp(de,{externalGetKey:J,childrenPropName:oe})},[G,J,R,oe,n,ke]),ne=b.useMemo(()=>{const de=new Map;return ke.forEach((it,ft)=>{const fe=J(it,ft),tt=(l?l(it):null)||{};de.set(fe,tt)}),de},[ke,J,l]),ce=b.useCallback(de=>{const it=J(de);let ft;return ne.has(it)?ft=ne.get(J(de)):ft=l?l(de):void 0,!!ft?.disabled},[ne,J]),[me,we]=b.useMemo(()=>{if(R)return[ae||[],[]];const{checkedKeys:de,halfCheckedKeys:it}=lu(ae,!0,Te,ce);return[de||[],it]},[ae,R,Te,ce]),Le=b.useMemo(()=>{const de=N==="radio"?me.slice(0,1):me;return new Set(de)},[me,N]),Be=b.useMemo(()=>N==="radio"?new Set:new Set(we),[we,N]);b.useEffect(()=>{t||ue(wm)},[!!t]);const he=b.useCallback((de,it)=>{let ft,fe;be(de),n?(ft=de,fe=de.map(tt=>le.current.get(tt))):(ft=[],fe=[],de.forEach(tt=>{const kt=te(tt);kt!==void 0&&(ft.push(tt),fe.push(kt))})),ue(ft),c?.(ft,fe,{type:it})},[ue,te,c,n]),qe=b.useCallback((de,it,ft,fe)=>{if(g){const tt=ft.map(kt=>te(kt));g(te(de),it,tt,fe)}he(ft,"single")},[g,te,he]),We=b.useMemo(()=>!T||D?null:(T===!0?[Nf,Mf,Pf]:T).map(it=>it===Nf?{key:"all",text:q.selectionAll,onSelect(){he(G.map((ft,fe)=>J(ft,fe)).filter(ft=>{const fe=ne.get(ft);return!fe?.disabled||Le.has(ft)}),"all")}}:it===Mf?{key:"invert",text:q.selectInvert,onSelect(){const ft=new Set(Le);ee.forEach((tt,kt)=>{const At=J(tt,kt),Ze=ne.get(At);Ze?.disabled||(ft.has(At)?ft.delete(At):ft.add(At))});const fe=Array.from(ft);y&&(X.deprecated(!1,"onSelectInvert","onChange"),y(fe)),he(fe,"invert")}}:it===Pf?{key:"none",text:q.selectNone,onSelect(){w?.(),he(Array.from(Le).filter(ft=>{const fe=ne.get(ft);return fe?.disabled}),"none")}}:it).map(it=>Object.assign(Object.assign({},it),{onSelect:(...ft)=>{var fe,tt;(tt=it.onSelect)===null||tt===void 0||(fe=tt).call.apply(fe,[it].concat(ft)),Q(null)}})),[T,Le,ee,J,y,he]);return[b.useCallback(de=>{var it;if(!t)return de.filter(ht=>ht!==el);let ft=En(de);const fe=new Set(Le),tt=ke.map(J).filter(ht=>!ne.get(ht).disabled),kt=tt.every(ht=>fe.has(ht)),At=tt.some(ht=>fe.has(ht)),Ze=()=>{const ht=[];kt?tt.forEach(tn=>{fe.delete(tn),ht.push(tn)}):tt.forEach(tn=>{fe.has(tn)||(fe.add(tn),ht.push(tn))});const Mt=Array.from(fe);v?.(!kt,Mt.map(tn=>te(tn)),ht.map(tn=>te(tn))),he(Mt,"all"),Q(null)};let Zt,nt;if(N!=="radio"){let ht;if(We){const an={getPopupContainer:Z,items:We.map((hn,Bn)=>{const{key:Rt,text:Gt,onSelect:gn}=hn;return{key:Rt??Bn,onClick:()=>{gn?.(tt)},label:Gt}})};ht=b.createElement("div",{className:`${$}-selection-extra`},b.createElement(_p,{menu:an,getPopupContainer:Z},b.createElement("span",null,b.createElement(Zv,null))))}const Mt=ke.map((an,hn)=>{const Bn=J(an,hn),Rt=ne.get(Bn)||{};return Object.assign({checked:fe.has(Bn)},Rt)}).filter(({disabled:an})=>an),tn=!!Mt.length&&Mt.length===ke.length,fn=tn&&Mt.every(({checked:an})=>an),Tt=tn&&Mt.some(({checked:an})=>an),zt=h?.()||{},{onChange:jt,disabled:ln}=zt;nt=b.createElement(Ns,Object.assign({"aria-label":ht?"Custom selection":"Select all"},zt,{checked:tn?fn:!!ke.length&&kt,indeterminate:tn?!fn&&Tt:!kt&&At,onChange:an=>{Ze(),jt?.(an)},disabled:ln??(ke.length===0||tn),skipGroup:!0})),Zt=!D&&b.createElement("div",{className:`${$}-selection`},nt,ht)}let mt;N==="radio"?mt=(ht,Mt,tn)=>{const fn=J(Mt,tn),Tt=fe.has(fn),zt=ne.get(fn);return{node:b.createElement(il,Object.assign({},zt,{checked:Tt,onClick:jt=>{var ln;jt.stopPropagation(),(ln=zt?.onClick)===null||ln===void 0||ln.call(zt,jt)},onChange:jt=>{var ln;fe.has(fn)||qe(fn,!0,[fn],jt.nativeEvent),(ln=zt?.onChange)===null||ln===void 0||ln.call(zt,jt)}})),checked:Tt}}:mt=(ht,Mt,tn)=>{var fn;const Tt=J(Mt,tn),zt=fe.has(Tt),jt=Be.has(Tt),ln=ne.get(Tt);let an;return H==="nest"?an=jt:an=(fn=ln?.indeterminate)!==null&&fn!==void 0?fn:jt,{node:b.createElement(Ns,Object.assign({},ln,{indeterminate:an,checked:zt,skipGroup:!0,onClick:hn=>{var Bn;hn.stopPropagation(),(Bn=ln?.onClick)===null||Bn===void 0||Bn.call(ln,hn)},onChange:hn=>{var Bn;const{nativeEvent:Rt}=hn,{shiftKey:Gt}=Rt,gn=tt.findIndex(Dn=>Dn===Tt),An=me.some(Dn=>tt.includes(Dn));if(Gt&&R&&An){const Dn=U(gn,tt,fe),Kt=Array.from(fe);k?.(!zt,Kt.map(dr=>te(dr)),Dn.map(dr=>te(dr))),he(Kt,"multiple")}else{const Dn=me;if(R){const Kt=zt?ws(Dn,Tt):Fs(Dn,Tt);qe(Tt,!zt,Kt,Rt)}else{const Kt=lu([].concat(En(Dn),[Tt]),!0,Te,ce),{checkedKeys:dr,halfCheckedKeys:mn}=Kt;let br=dr;if(zt){const Un=new Set(dr);Un.delete(Tt),br=lu(Array.from(Un),{halfCheckedKeys:mn},Te,ce).checkedKeys}qe(Tt,!zt,br,Rt)}}Q(zt?null:gn),(Bn=ln?.onChange)===null||Bn===void 0||Bn.call(ln,hn)}})),checked:zt}};const wt=(ht,Mt,tn)=>{const{node:fn,checked:Tt}=mt(ht,Mt,tn);return O?O(Tt,Mt,tn,fn):fn};if(!ft.includes(el))if(ft.findIndex(ht=>{var Mt;return((Mt=ht[Xu])===null||Mt===void 0?void 0:Mt.columnType)==="EXPAND_COLUMN"})===0){const[ht,...Mt]=ft;ft=[ht,el].concat(En(Mt))}else ft=[el].concat(En(ft));const Et=ft.indexOf(el);ft=ft.filter((ht,Mt)=>ht!==el||Mt===Et);const Xt=ft[Et-1],nn=ft[Et+1];let dn=I;dn===void 0&&(nn?.fixed!==void 0?dn=nn.fixed:Xt?.fixed!==void 0&&(dn=Xt.fixed)),dn&&Xt&&((it=Xt[Xu])===null||it===void 0?void 0:it.columnType)==="EXPAND_COLUMN"&&Xt.fixed===void 0&&(Xt.fixed=dn);const Dt=bt(`${$}-selection-col`,{[`${$}-selection-col-with-dropdown`]:T&&N==="checkbox"}),Jt=()=>t?.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(nt):t.columnTitle:Zt,Ft={fixed:dn,width:x,className:`${$}-selection-column`,title:Jt(),render:wt,onCell:t.onCell,align:t.align,[Xu]:{className:Dt}};return ft.map(ht=>ht===el?Ft:ht)},[J,ke,t,me,Le,Be,x,We,H,ne,k,qe,ce]),Le]};function NE(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(n=>{if(!(n in e._antProxy)){const r=e[n];e._antProxy[n]=r,e[n]=t[n]}}),e}function ME(e,t){return b.useImperativeHandle(e,()=>{const n=t(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(i,l){return n[l]?n[l]:Reflect.get(i,l)}}):NE(r,n)})}function PE(e){return t=>{const{prefixCls:n,onExpand:r,record:i,expanded:l,expandable:h}=t,c=`${n}-row-expand-icon`;return b.createElement("button",{type:"button",onClick:g=>{r(i,g),g.stopPropagation()},className:bt(c,{[`${c}-spaced`]:!h,[`${c}-expanded`]:h&&l,[`${c}-collapsed`]:h&&!l}),"aria-label":l?e.collapse:e.expand,"aria-expanded":l})}}function IE(e){return(n,r)=>{const i=n.querySelector(`.${e}-container`);let l=r;if(i){const h=getComputedStyle(i),c=parseInt(h.borderLeftWidth,10),g=parseInt(h.borderRightWidth,10);l=r-c-g}return l}}const sl=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function Pu(e,t){return t?`${t}-${e}`:`${e}`}const Qh=(e,t)=>typeof e=="function"?e(t):e,OE=(e,t)=>{const n=Qh(e,t);return Object.prototype.toString.call(n)==="[object Object]"?"":n};var AE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},TE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:AE}))},RE=b.forwardRef(TE);function BE(e){const t=b.useRef(e),n=Kx();return[()=>t.current,r=>{t.current=r,n()}]}var DE=function(t){var n=t.dropPosition,r=t.dropLevelOffset,i=t.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:l.top=0,l.left=-r*i;break;case 1:l.bottom=0,l.left=-r*i;break;case 0:l.bottom=0,l.left=i;break}return Ot.createElement("div",{style:l})};function s1(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function $E(e,t){var n=b.useState(!1),r=On(n,2),i=r[0],l=r[1];na(function(){if(i)return e(),function(){t()}},[i]),na(function(){return l(!0),function(){l(!1)}},[])}var FE=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],jE=b.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.motion,l=e.motionNodes,h=e.motionType,c=e.onMotionStart,g=e.onMotionEnd,v=e.active,y=e.treeNodeRequiredProps,w=$a(e,FE),k=b.useState(!0),x=On(k,2),N=x[0],T=x[1],I=b.useContext(Np),O=I.prefixCls,D=l&&h!=="hide";na(function(){l&&D!==N&&T(D)},[l]);var R=function(){l&&c()},$=b.useRef(!1),G=function(){l&&!$.current&&($.current=!0,g())};$E(R,G);var ee=function(J){D===J&&G()};return l?b.createElement(Nl,bn({ref:t,visible:N},i,{motionAppear:h==="show",onVisibleChanged:ee}),function(te,J){var H=te.className,oe=te.style;return b.createElement("div",{ref:J,className:bt("".concat(O,"-treenode-motion"),H),style:oe},l.map(function(q){var Z=Object.assign({},(s1(q.data),q.data)),X=q.title,U=q.key,Q=q.isStart,ae=q.isEnd;delete Z.children;var ue=Zu(U,y);return b.createElement(ac,bn({},Z,ue,{title:X,active:v,data:q.data,key:U,isStart:Q,isEnd:ae}))}))}):b.createElement(ac,bn({domRef:t,className:n,style:r},w,{active:v}))});function zE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.length,r=t.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function i(l,h){var c=new Map;l.forEach(function(v){c.set(v,!0)});var g=h.filter(function(v){return!c.has(v)});return g.length===1?g[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}function Cm(e,t,n){var r=e.findIndex(function(c){return c.key===n}),i=e[r+1],l=t.findIndex(function(c){return c.key===n});if(i){var h=t.findIndex(function(c){return c.key===i.key});return t.slice(l+1,h)}return t.slice(l+1)}var HE=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Sm={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},qE=function(){},Pl="RC_TREE_MOTION_".concat(Math.random()),If={key:Pl},l1={key:Pl,level:0,index:0,pos:"0",node:If,nodes:[If]},Em={parent:null,children:[],pos:l1.pos,data:If,title:null,key:Pl,isStart:[],isEnd:[]};function km(e,t,n,r){return t===!1||!n?e:e.slice(0,Math.ceil(n/r)+1)}function Lm(e){var t=e.key,n=e.pos;return pc(t,n)}function UE(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}var GE=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.data;e.selectable,e.checkable;var i=e.expandedKeys,l=e.selectedKeys,h=e.checkedKeys,c=e.loadedKeys,g=e.loadingKeys,v=e.halfCheckedKeys,y=e.keyEntities,w=e.disabled,k=e.dragging,x=e.dragOverNodeKey,N=e.dropPosition,T=e.motion,I=e.height,O=e.itemHeight,D=e.virtual,R=e.scrollWidth,$=e.focusable,G=e.activeItem,ee=e.focused,te=e.tabIndex,J=e.onKeyDown,H=e.onFocus,oe=e.onBlur,q=e.onActiveChange,Z=e.onListChangeStart,X=e.onListChangeEnd,U=$a(e,HE),Q=b.useRef(null),ae=b.useRef(null);b.useImperativeHandle(t,function(){return{scrollTo:function(mt){Q.current.scrollTo(mt)},getIndentWidth:function(){return ae.current.offsetWidth}}});var ue=b.useState(i),le=On(ue,2),be=le[0],ke=le[1],Te=b.useState(r),ne=On(Te,2),ce=ne[0],me=ne[1],we=b.useState(r),Le=On(we,2),Be=Le[0],he=Le[1],qe=b.useState([]),We=On(qe,2),Fe=We[0],de=We[1],it=b.useState(null),ft=On(it,2),fe=ft[0],tt=ft[1],kt=b.useRef(r);kt.current=r;function At(){var nt=kt.current;me(nt),he(nt),de([]),tt(null),X()}na(function(){ke(i);var nt=zE(be,i);if(nt.key!==null)if(nt.add){var mt=ce.findIndex(function(Dt){var Jt=Dt.key;return Jt===nt.key}),wt=km(Cm(ce,r,nt.key),D,I,O),Et=ce.slice();Et.splice(mt+1,0,Em),he(Et),de(wt),tt("show")}else{var Xt=r.findIndex(function(Dt){var Jt=Dt.key;return Jt===nt.key}),nn=km(Cm(r,ce,nt.key),D,I,O),dn=r.slice();dn.splice(Xt+1,0,Em),he(dn),de(nn),tt("hide")}else ce!==r&&(me(r),he(r))},[i,r]),b.useEffect(function(){k||At()},[k]);var Ze=T?Be:r,Zt={expandedKeys:i,selectedKeys:l,loadedKeys:c,loadingKeys:g,checkedKeys:h,halfCheckedKeys:v,dragOverNodeKey:x,dropPosition:N,keyEntities:y};return b.createElement(b.Fragment,null,ee&&G&&b.createElement("span",{style:Sm,"aria-live":"assertive"},UE(G)),b.createElement("div",null,b.createElement("input",{style:Sm,disabled:$===!1||w,tabIndex:$!==!1?te:null,onKeyDown:J,onFocus:H,onBlur:oe,value:"",onChange:qE,"aria-label":"for screen reader"})),b.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},b.createElement("div",{className:"".concat(n,"-indent")},b.createElement("div",{ref:ae,className:"".concat(n,"-indent-unit")}))),b.createElement(Jv,bn({},U,{data:Ze,itemKey:Lm,height:I,fullHeight:!1,virtual:D,itemHeight:O,scrollWidth:R,prefixCls:"".concat(n,"-list"),ref:Q,role:"tree",onVisibleChange:function(mt){mt.every(function(wt){return Lm(wt)!==Pl})&&At()}}),function(nt){var mt=nt.pos,wt=Object.assign({},(s1(nt.data),nt.data)),Et=nt.title,Xt=nt.key,nn=nt.isStart,dn=nt.isEnd,Dt=pc(Xt,mt);delete wt.key,delete wt.children;var Jt=Zu(Dt,Zt);return b.createElement(jE,bn({},wt,Jt,{title:Et,active:!!G&&Xt===G.key,pos:mt,data:nt.data,isStart:nn,isEnd:dn,motion:T,motionNodes:Xt===Pl?Fe:null,motionType:fe,onMotionStart:Z,onMotionEnd:At,treeNodeRequiredProps:Zt,onMouseMove:function(){q(null)}}))}))}),VE=10,Pp=(function(e){ey(n,e);var t=D2(n);function n(){var r;$h(this,n);for(var i=arguments.length,l=new Array(i),h=0;h<i;h++)l[h]=arguments[h];return r=t.call.apply(t,[this].concat(l)),Pt(Ar(r),"destroyed",!1),Pt(Ar(r),"delayedDragEnterLogic",void 0),Pt(Ar(r),"loadingRetryTimes",{}),Pt(Ar(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:bu()}),Pt(Ar(r),"dragStartMousePosition",null),Pt(Ar(r),"dragNodeProps",null),Pt(Ar(r),"currentMouseOverDroppableNodeKey",null),Pt(Ar(r),"listRef",b.createRef()),Pt(Ar(r),"onNodeDragStart",function(c,g){var v=r.state,y=v.expandedKeys,w=v.keyEntities,k=r.props.onDragStart,x=g.eventKey;r.dragNodeProps=g,r.dragStartMousePosition={x:c.clientX,y:c.clientY};var N=ws(y,x);r.setState({draggingNodeKey:x,dragChildrenKeys:CE(x,w),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(N),window.addEventListener("dragend",r.onWindowDragEnd),k?.({event:c,node:oa(g)})}),Pt(Ar(r),"onNodeDragEnter",function(c,g){var v=r.state,y=v.expandedKeys,w=v.keyEntities,k=v.dragChildrenKeys,x=v.flattenNodes,N=v.indent,T=r.props,I=T.onDragEnter,O=T.onExpand,D=T.allowDrop,R=T.direction,$=g.pos,G=g.eventKey;if(r.currentMouseOverDroppableNodeKey!==G&&(r.currentMouseOverDroppableNodeKey=G),!r.dragNodeProps){r.resetDragState();return}var ee=bm(c,r.dragNodeProps,g,N,r.dragStartMousePosition,D,x,w,y,R),te=ee.dropPosition,J=ee.dropLevelOffset,H=ee.dropTargetKey,oe=ee.dropContainerKey,q=ee.dropTargetPos,Z=ee.dropAllowed,X=ee.dragOverNodeKey;if(k.includes(H)||!Z){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(U){clearTimeout(r.delayedDragEnterLogic[U])}),r.dragNodeProps.eventKey!==g.eventKey&&(c.persist(),r.delayedDragEnterLogic[$]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var U=En(y),Q=Io(w,g.eventKey);Q&&(Q.children||[]).length&&(U=Fs(y,g.eventKey)),r.props.hasOwnProperty("expandedKeys")||r.setExpandedKeys(U),O?.(U,{node:oa(g),expanded:!0,nativeEvent:c.nativeEvent})}},800)),r.dragNodeProps.eventKey===H&&J===0){r.resetDragState();return}r.setState({dragOverNodeKey:X,dropPosition:te,dropLevelOffset:J,dropTargetKey:H,dropContainerKey:oe,dropTargetPos:q,dropAllowed:Z}),I?.({event:c,node:oa(g),expandedKeys:y})}),Pt(Ar(r),"onNodeDragOver",function(c,g){var v=r.state,y=v.dragChildrenKeys,w=v.flattenNodes,k=v.keyEntities,x=v.expandedKeys,N=v.indent,T=r.props,I=T.onDragOver,O=T.allowDrop,D=T.direction;if(r.dragNodeProps){var R=bm(c,r.dragNodeProps,g,N,r.dragStartMousePosition,O,w,k,x,D),$=R.dropPosition,G=R.dropLevelOffset,ee=R.dropTargetKey,te=R.dropContainerKey,J=R.dropTargetPos,H=R.dropAllowed,oe=R.dragOverNodeKey;y.includes(ee)||!H||(r.dragNodeProps.eventKey===ee&&G===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():$===r.state.dropPosition&&G===r.state.dropLevelOffset&&ee===r.state.dropTargetKey&&te===r.state.dropContainerKey&&J===r.state.dropTargetPos&&H===r.state.dropAllowed&&oe===r.state.dragOverNodeKey||r.setState({dropPosition:$,dropLevelOffset:G,dropTargetKey:ee,dropContainerKey:te,dropTargetPos:J,dropAllowed:H,dragOverNodeKey:oe}),I?.({event:c,node:oa(g)}))}}),Pt(Ar(r),"onNodeDragLeave",function(c,g){r.currentMouseOverDroppableNodeKey===g.eventKey&&!c.currentTarget.contains(c.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var v=r.props.onDragLeave;v?.({event:c,node:oa(g)})}),Pt(Ar(r),"onWindowDragEnd",function(c){r.onNodeDragEnd(c,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),Pt(Ar(r),"onNodeDragEnd",function(c,g){var v=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),v?.({event:c,node:oa(g)}),r.dragNodeProps=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),Pt(Ar(r),"onNodeDrop",function(c,g){var v,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=r.state,k=w.dragChildrenKeys,x=w.dropPosition,N=w.dropTargetKey,T=w.dropTargetPos,I=w.dropAllowed;if(I){var O=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),N!==null){var D=Wt(Wt({},Zu(N,r.getTreeNodeRequiredProps())),{},{active:((v=r.getActiveItem())===null||v===void 0?void 0:v.key)===N,data:Io(r.state.keyEntities,N).node}),R=k.includes(N);rs(!R,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var $=Mp(T),G={event:c,node:oa(D),dragNode:r.dragNodeProps?oa(r.dragNodeProps):null,dragNodesKeys:[r.dragNodeProps.eventKey].concat(k),dropToGap:x!==0,dropPosition:x+Number($[$.length-1])};y||O?.(G),r.dragNodeProps=null}}}),Pt(Ar(r),"cleanDragState",function(){var c=r.state.draggingNodeKey;c!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),Pt(Ar(r),"triggerExpandActionExpand",function(c,g){var v=r.state,y=v.expandedKeys,w=v.flattenNodes,k=g.expanded,x=g.key,N=g.isLeaf;if(!(N||c.shiftKey||c.metaKey||c.ctrlKey)){var T=w.filter(function(O){return O.key===x})[0],I=oa(Wt(Wt({},Zu(x,r.getTreeNodeRequiredProps())),{},{data:T.data}));r.setExpandedKeys(k?ws(y,x):Fs(y,x)),r.onNodeExpand(c,I)}}),Pt(Ar(r),"onNodeClick",function(c,g){var v=r.props,y=v.onClick,w=v.expandAction;w==="click"&&r.triggerExpandActionExpand(c,g),y?.(c,g)}),Pt(Ar(r),"onNodeDoubleClick",function(c,g){var v=r.props,y=v.onDoubleClick,w=v.expandAction;w==="doubleClick"&&r.triggerExpandActionExpand(c,g),y?.(c,g)}),Pt(Ar(r),"onNodeSelect",function(c,g){var v=r.state.selectedKeys,y=r.state,w=y.keyEntities,k=y.fieldNames,x=r.props,N=x.onSelect,T=x.multiple,I=g.selected,O=g[k.key],D=!I;D?T?v=Fs(v,O):v=[O]:v=ws(v,O);var R=v.map(function($){var G=Io(w,$);return G?G.node:null}).filter(Boolean);r.setUncontrolledState({selectedKeys:v}),N?.(v,{event:"select",selected:D,node:g,selectedNodes:R,nativeEvent:c.nativeEvent})}),Pt(Ar(r),"onNodeCheck",function(c,g,v){var y=r.state,w=y.keyEntities,k=y.checkedKeys,x=y.halfCheckedKeys,N=r.props,T=N.checkStrictly,I=N.onCheck,O=g.key,D,R={event:"check",node:g,checked:v,nativeEvent:c.nativeEvent};if(T){var $=v?Fs(k,O):ws(k,O),G=ws(x,O);D={checked:$,halfChecked:G},R.checkedNodes=$.map(function(q){return Io(w,q)}).filter(Boolean).map(function(q){return q.node}),r.setUncontrolledState({checkedKeys:$})}else{var ee=lu([].concat(En(k),[O]),!0,w),te=ee.checkedKeys,J=ee.halfCheckedKeys;if(!v){var H=new Set(te);H.delete(O);var oe=lu(Array.from(H),{halfCheckedKeys:J},w);te=oe.checkedKeys,J=oe.halfCheckedKeys}D=te,R.checkedNodes=[],R.checkedNodesPositions=[],R.halfCheckedKeys=J,te.forEach(function(q){var Z=Io(w,q);if(Z){var X=Z.node,U=Z.pos;R.checkedNodes.push(X),R.checkedNodesPositions.push({node:X,pos:U})}}),r.setUncontrolledState({checkedKeys:te},!1,{halfCheckedKeys:J})}I?.(D,R)}),Pt(Ar(r),"onNodeLoad",function(c){var g,v=c.key,y=r.state.keyEntities,w=Io(y,v);if(!(w!=null&&(g=w.children)!==null&&g!==void 0&&g.length)){var k=new Promise(function(x,N){r.setState(function(T){var I=T.loadedKeys,O=I===void 0?[]:I,D=T.loadingKeys,R=D===void 0?[]:D,$=r.props,G=$.loadData,ee=$.onLoad;if(!G||O.includes(v)||R.includes(v))return null;var te=G(c);return te.then(function(){var J=r.state.loadedKeys,H=Fs(J,v);ee?.(H,{event:"load",node:c}),r.setUncontrolledState({loadedKeys:H}),r.setState(function(oe){return{loadingKeys:ws(oe.loadingKeys,v)}}),x()}).catch(function(J){if(r.setState(function(oe){return{loadingKeys:ws(oe.loadingKeys,v)}}),r.loadingRetryTimes[v]=(r.loadingRetryTimes[v]||0)+1,r.loadingRetryTimes[v]>=VE){var H=r.state.loadedKeys;rs(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:Fs(H,v)}),x()}N(J)}),{loadingKeys:Fs(R,v)}})});return k.catch(function(){}),k}}),Pt(Ar(r),"onNodeMouseEnter",function(c,g){var v=r.props.onMouseEnter;v?.({event:c,node:g})}),Pt(Ar(r),"onNodeMouseLeave",function(c,g){var v=r.props.onMouseLeave;v?.({event:c,node:g})}),Pt(Ar(r),"onNodeContextMenu",function(c,g){var v=r.props.onRightClick;v&&(c.preventDefault(),v({event:c,node:g}))}),Pt(Ar(r),"onFocus",function(){var c=r.props.onFocus;r.setState({focused:!0});for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];c?.apply(void 0,v)}),Pt(Ar(r),"onBlur",function(){var c=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];c?.apply(void 0,v)}),Pt(Ar(r),"getTreeNodeRequiredProps",function(){var c=r.state,g=c.expandedKeys,v=c.selectedKeys,y=c.loadedKeys,w=c.loadingKeys,k=c.checkedKeys,x=c.halfCheckedKeys,N=c.dragOverNodeKey,T=c.dropPosition,I=c.keyEntities;return{expandedKeys:g||[],selectedKeys:v||[],loadedKeys:y||[],loadingKeys:w||[],checkedKeys:k||[],halfCheckedKeys:x||[],dragOverNodeKey:N,dropPosition:T,keyEntities:I}}),Pt(Ar(r),"setExpandedKeys",function(c){var g=r.state,v=g.treeData,y=g.fieldNames,w=xd(v,c,y);r.setUncontrolledState({expandedKeys:c,flattenNodes:w},!0)}),Pt(Ar(r),"onNodeExpand",function(c,g){var v=r.state.expandedKeys,y=r.state,w=y.listChanging,k=y.fieldNames,x=r.props,N=x.onExpand,T=x.loadData,I=g.expanded,O=g[k.key];if(!w){var D=v.includes(O),R=!I;if(rs(I&&D||!I&&!D,"Expand state not sync with index check"),v=R?Fs(v,O):ws(v,O),r.setExpandedKeys(v),N?.(v,{node:g,expanded:R,nativeEvent:c.nativeEvent}),R&&T){var $=r.onNodeLoad(g);$&&$.then(function(){var G=xd(r.state.treeData,v,k);r.setUncontrolledState({flattenNodes:G})}).catch(function(){var G=r.state.expandedKeys,ee=ws(G,O);r.setExpandedKeys(ee)})}}}),Pt(Ar(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),Pt(Ar(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),Pt(Ar(r),"onActiveChange",function(c){var g=r.state.activeKey,v=r.props,y=v.onActiveChange,w=v.itemScrollOffset,k=w===void 0?0:w;g!==c&&(r.setState({activeKey:c}),c!==null&&r.scrollTo({key:c,offset:k}),y?.(c))}),Pt(Ar(r),"getActiveItem",function(){var c=r.state,g=c.activeKey,v=c.flattenNodes;return g===null?null:v.find(function(y){var w=y.key;return w===g})||null}),Pt(Ar(r),"offsetActiveKey",function(c){var g=r.state,v=g.flattenNodes,y=g.activeKey,w=v.findIndex(function(N){var T=N.key;return T===y});w===-1&&c<0&&(w=v.length),w=(w+c+v.length)%v.length;var k=v[w];if(k){var x=k.key;r.onActiveChange(x)}else r.onActiveChange(null)}),Pt(Ar(r),"onKeyDown",function(c){var g=r.state,v=g.activeKey,y=g.expandedKeys,w=g.checkedKeys,k=g.fieldNames,x=r.props,N=x.onKeyDown,T=x.checkable,I=x.selectable;switch(c.which){case _r.UP:{r.offsetActiveKey(-1),c.preventDefault();break}case _r.DOWN:{r.offsetActiveKey(1),c.preventDefault();break}}var O=r.getActiveItem();if(O&&O.data){var D=r.getTreeNodeRequiredProps(),R=O.data.isLeaf===!1||!!(O.data[k.children]||[]).length,$=oa(Wt(Wt({},Zu(v,D)),{},{data:O.data,active:!0}));switch(c.which){case _r.LEFT:{R&&y.includes(v)?r.onNodeExpand({},$):O.parent&&r.onActiveChange(O.parent.key),c.preventDefault();break}case _r.RIGHT:{R&&!y.includes(v)?r.onNodeExpand({},$):O.children&&O.children.length&&r.onActiveChange(O.children[0].key),c.preventDefault();break}case _r.ENTER:case _r.SPACE:{T&&!$.disabled&&$.checkable!==!1&&!$.disableCheckbox?r.onNodeCheck({},$,!w.includes(v)):!T&&I&&!$.disabled&&$.selectable!==!1&&r.onNodeSelect({},$);break}}}N?.(c)}),Pt(Ar(r),"setUncontrolledState",function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var y=!1,w=!0,k={};Object.keys(c).forEach(function(x){if(r.props.hasOwnProperty(x)){w=!1;return}y=!0,k[x]=c[x]}),y&&(!g||w)&&r.setState(Wt(Wt({},k),v))}}),Pt(Ar(r),"scrollTo",function(c){r.listRef.current.scrollTo(c)}),r}return Dh(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,l=i.activeKey,h=i.itemScrollOffset,c=h===void 0?0:h;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:c}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,l=i.focused,h=i.flattenNodes,c=i.keyEntities,g=i.draggingNodeKey,v=i.activeKey,y=i.dropLevelOffset,w=i.dropContainerKey,k=i.dropTargetKey,x=i.dropPosition,N=i.dragOverNodeKey,T=i.indent,I=this.props,O=I.prefixCls,D=I.className,R=I.style,$=I.showLine,G=I.focusable,ee=I.tabIndex,te=ee===void 0?0:ee,J=I.selectable,H=I.showIcon,oe=I.icon,q=I.switcherIcon,Z=I.draggable,X=I.checkable,U=I.checkStrictly,Q=I.disabled,ae=I.motion,ue=I.loadData,le=I.filterTreeNode,be=I.height,ke=I.itemHeight,Te=I.scrollWidth,ne=I.virtual,ce=I.titleRender,me=I.dropIndicatorRender,we=I.onContextMenu,Le=I.onScroll,Be=I.direction,he=I.rootClassName,qe=I.rootStyle,We=Wo(this.props,{aria:!0,data:!0}),Fe;Z&&(Lr(Z)==="object"?Fe=Z:typeof Z=="function"?Fe={nodeDraggable:Z}:Fe={});var de={prefixCls:O,selectable:J,showIcon:H,icon:oe,switcherIcon:q,draggable:Fe,draggingNodeKey:g,checkable:X,checkStrictly:U,disabled:Q,keyEntities:c,dropLevelOffset:y,dropContainerKey:w,dropTargetKey:k,dropPosition:x,dragOverNodeKey:N,indent:T,direction:Be,dropIndicatorRender:me,loadData:ue,filterTreeNode:le,titleRender:ce,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return b.createElement(Np.Provider,{value:de},b.createElement("div",{className:bt(O,D,he,Pt(Pt(Pt({},"".concat(O,"-show-line"),$),"".concat(O,"-focused"),l),"".concat(O,"-active-focused"),v!==null)),style:qe},b.createElement(GE,bn({ref:this.listRef,prefixCls:O,style:R,data:h,disabled:Q,selectable:J,checkable:!!X,motion:ae,dragging:g!==null,height:be,itemHeight:ke,virtual:ne,focusable:G,focused:l,tabIndex:te,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:we,onScroll:Le,scrollWidth:Te},this.getTreeNodeRequiredProps(),We))))}}],[{key:"getDerivedStateFromProps",value:function(i,l){var h=l.prevProps,c={prevProps:i};function g(te){return!h&&i.hasOwnProperty(te)||h&&h[te]!==i[te]}var v,y=l.fieldNames;if(g("fieldNames")&&(y=bu(i.fieldNames),c.fieldNames=y),g("treeData")?v=i.treeData:g("children")&&(rs(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),v=l_(i.children)),v){c.treeData=v;var w=gp(v,{fieldNames:y});c.keyEntities=Wt(Pt({},Pl,l1),w.keyEntities)}var k=c.keyEntities||l.keyEntities;if(g("expandedKeys")||h&&g("autoExpandParent"))c.expandedKeys=i.autoExpandParent||!h&&i.defaultExpandParent?Lf(i.expandedKeys,k):i.expandedKeys;else if(!h&&i.defaultExpandAll){var x=Wt({},k);delete x[Pl];var N=[];Object.keys(x).forEach(function(te){var J=x[te];J.children&&J.children.length&&N.push(J.key)}),c.expandedKeys=N}else!h&&i.defaultExpandedKeys&&(c.expandedKeys=i.autoExpandParent||i.defaultExpandParent?Lf(i.defaultExpandedKeys,k):i.defaultExpandedKeys);if(c.expandedKeys||delete c.expandedKeys,v||c.expandedKeys){var T=xd(v||l.treeData,c.expandedKeys||l.expandedKeys,y);c.flattenNodes=T}if(i.selectable&&(g("selectedKeys")?c.selectedKeys=xm(i.selectedKeys,i):!h&&i.defaultSelectedKeys&&(c.selectedKeys=xm(i.defaultSelectedKeys,i))),i.checkable){var I;if(g("checkedKeys")?I=Ed(i.checkedKeys)||{}:!h&&i.defaultCheckedKeys?I=Ed(i.defaultCheckedKeys)||{}:v&&(I=Ed(i.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),I){var O=I,D=O.checkedKeys,R=D===void 0?[]:D,$=O.halfCheckedKeys,G=$===void 0?[]:$;if(!i.checkStrictly){var ee=lu(R,!0,k);R=ee.checkedKeys,G=ee.halfCheckedKeys}c.checkedKeys=R,c.halfCheckedKeys=G}}return g("loadedKeys")&&(c.loadedKeys=i.loadedKeys),c}}]),n})(b.Component);Pt(Pp,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:DE,allowDrop:function(){return!0},expandAction:!1});Pt(Pp,"TreeNode",ac);var WE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},KE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:WE}))},u1=b.forwardRef(KE),ZE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},XE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:ZE}))},YE=b.forwardRef(XE),JE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},QE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:JE}))},ek=b.forwardRef(QE),tk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},nk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:tk}))},rk=b.forwardRef(nk);const ik=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:n,directoryNodeSelectedColor:r,motionDurationMid:i,borderRadius:l,controlItemBgHover:h})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`&:has(${e}-drop-indicator)`]:{position:"relative"},[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${i}`,content:'""',borderRadius:l},"&:hover:before":{background:h}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{background:n,borderRadius:l,[`${e}-switcher, ${e}-draggable-icon`]:{color:r},[`${e}-node-content-wrapper`]:{color:r,background:"transparent","&, &:hover":{color:r},"&:before, &:hover:before":{background:n}}}}}),ak=new uc("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),ok=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),sk=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Qe(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),lk=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:i,titleHeight:l,indentSize:h,nodeSelectedBg:c,nodeHoverBg:g,colorTextQuaternary:v,controlItemBgActiveDisabled:y}=t;return{[n]:Object.assign(Object.assign({},Pi(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Ml(t),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:ak,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:Qe(l),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:y},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:l,textAlign:"center",visibility:"visible",color:v},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:h}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(l).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},ok(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:l,height:l,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(l).div(2).equal()).mul(.8).equal(),height:t.calc(l).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:l,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},sk(e,t)),{"&:hover":{backgroundColor:g},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:c},[`${n}-iconEle`]:{display:"inline-block",width:l,height:l,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Qe(t.calc(l).div(2).equal())} !important`}})}},uk=(e,t,n=!0)=>{const r=`.${e}`,i=`${r}-treenode`,l=t.calc(t.paddingXS).div(2).equal(),h=ba(t,{treeCls:r,treeNodeCls:i,treeNodePadding:l});return[lk(e,h),n&&ik(h)].filter(Boolean)},ck=e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:r}=e,i=t;return{titleHeight:i,indentSize:i,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:r,nodeSelectedColor:e.colorText}},hk=e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},ck(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})},dk=zi("Tree",(e,{prefixCls:t})=>[{[e.componentCls]:c_(`${t}-checkbox`,e)},uk(t,e),fp(e)],hk),Nm=4;function fk(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:i,direction:l="ltr"}=e,h=l==="ltr"?"left":"right",c=l==="ltr"?"right":"left",g={[h]:-n*i+Nm,[c]:0};switch(t){case-1:g.top=-3;break;case 1:g.bottom=-3;break;default:g.bottom=-3,g[h]=i+Nm;break}return Ot.createElement("div",{style:g,className:`${r}-drop-indicator`})}var pk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},gk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:pk}))},mk=b.forwardRef(gk),vk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},yk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:vk}))},_k=b.forwardRef(yk),bk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},xk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:bk}))},wk=b.forwardRef(xk);const Ck=e=>{var t,n;const{prefixCls:r,switcherIcon:i,treeNodeProps:l,showLine:h,switcherLoadingIcon:c}=e,{isLeaf:g,expanded:v,loading:y}=l;if(y)return b.isValidElement(c)?c:b.createElement(Uh,{className:`${r}-switcher-loading-icon`});let w;if(h&&typeof h=="object"&&(w=h.showLeafIcon),g){if(!h)return null;if(typeof w!="boolean"&&w){const N=typeof w=="function"?w(l):w,T=`${r}-switcher-line-custom-icon`;return b.isValidElement(N)?Ls(N,{className:bt((t=N.props)===null||t===void 0?void 0:t.className,T)}):N}return w?b.createElement(u1,{className:`${r}-switcher-line-icon`}):b.createElement("span",{className:`${r}-switcher-leaf-line`})}const k=`${r}-switcher-icon`,x=typeof i=="function"?i(l):i;return b.isValidElement(x)?Ls(x,{className:bt((n=x.props)===null||n===void 0?void 0:n.className,k)}):x!==void 0?x:h?v?b.createElement(_k,{className:`${r}-switcher-line-icon`}):b.createElement(wk,{className:`${r}-switcher-line-icon`}):b.createElement(mk,{className:k})},c1=Ot.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,virtual:l,tree:h}=Ot.useContext(Jr),{prefixCls:c,className:g,showIcon:v=!1,showLine:y,switcherIcon:w,switcherLoadingIcon:k,blockNode:x=!1,children:N,checkable:T=!1,selectable:I=!0,draggable:O,motion:D,style:R}=e,$=r("tree",c),G=r(),ee=D??Object.assign(Object.assign({},dh(G)),{motionAppear:!1}),te=Object.assign(Object.assign({},e),{checkable:T,selectable:I,showIcon:v,motion:ee,blockNode:x,showLine:!!y,dropIndicatorRender:fk}),[J,H,oe]=dk($),[,q]=Su(),Z=q.paddingXS/2+(((n=q.Tree)===null||n===void 0?void 0:n.titleHeight)||q.controlHeightSM),X=Ot.useMemo(()=>{if(!O)return!1;let Q={};switch(typeof O){case"function":Q.nodeDraggable=O;break;case"object":Q=Object.assign({},O);break}return Q.icon!==!1&&(Q.icon=Q.icon||Ot.createElement(rk,null)),Q},[O]),U=Q=>Ot.createElement(Ck,{prefixCls:$,switcherIcon:w,switcherLoadingIcon:k,treeNodeProps:Q,showLine:y});return J(Ot.createElement(Pp,Object.assign({itemHeight:Z,ref:t,virtual:l},te,{style:Object.assign(Object.assign({},h?.style),R),prefixCls:$,className:bt({[`${$}-icon-hide`]:!v,[`${$}-block-node`]:x,[`${$}-unselectable`]:!I,[`${$}-rtl`]:i==="rtl"},h?.className,g,H,oe),direction:i,checkable:T&&Ot.createElement("span",{className:`${$}-checkbox-inner`}),selectable:I,switcherIcon:U,draggable:X}),N))}),Mm=0,kd=1,Pm=2;function Ip(e,t,n){const{key:r,children:i}=n;function l(h){const c=h[r],g=h[i];t(c,h)!==!1&&Ip(g||[],t,n)}e.forEach(l)}function Sk({treeData:e,expandedKeys:t,startKey:n,endKey:r,fieldNames:i}){const l=[];let h=Mm;if(n&&n===r)return[n];if(!n||!r)return[];function c(g){return g===n||g===r}return Ip(e,g=>{if(h===Pm)return!1;if(c(g)){if(l.push(g),h===Mm)h=kd;else if(h===kd)return h=Pm,!1}else h===kd&&l.push(g);return t.includes(g)},bu(i)),l}function Ld(e,t,n){const r=En(t),i=[];return Ip(e,(l,h)=>{const c=r.indexOf(l);return c!==-1&&(i.push(h),r.splice(c,1)),!!r.length},bu(n)),i}var Im=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ek(e){const{isLeaf:t,expanded:n}=e;return t?b.createElement(u1,null):n?b.createElement(YE,null):b.createElement(ek,null)}function Om({treeData:e,children:t}){return e||l_(t)}const kk=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:i}=e,l=Im(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const h=b.useRef(null),c=b.useRef(null),g=()=>{const{keyEntities:J}=gp(Om(l));let H;return n?H=Object.keys(J):r?H=Lf(l.expandedKeys||i||[],J):H=l.expandedKeys||i||[],H},[v,y]=b.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[w,k]=b.useState(()=>g());b.useEffect(()=>{"selectedKeys"in l&&y(l.selectedKeys)},[l.selectedKeys]),b.useEffect(()=>{"expandedKeys"in l&&k(l.expandedKeys)},[l.expandedKeys]);const x=(J,H)=>{var oe;return"expandedKeys"in l||k(J),(oe=l.onExpand)===null||oe===void 0?void 0:oe.call(l,J,H)},N=(J,H)=>{var oe;const{multiple:q,fieldNames:Z}=l,{node:X,nativeEvent:U}=H,{key:Q=""}=X,ae=Om(l),ue=Object.assign(Object.assign({},H),{selected:!0}),le=U?.ctrlKey||U?.metaKey,be=U?.shiftKey;let ke;q&&le?(ke=J,h.current=Q,c.current=ke,ue.selectedNodes=Ld(ae,ke,Z)):q&&be?(ke=Array.from(new Set([].concat(En(c.current||[]),En(Sk({treeData:ae,expandedKeys:w,startKey:Q,endKey:h.current,fieldNames:Z}))))),ue.selectedNodes=Ld(ae,ke,Z)):(ke=[Q],h.current=Q,c.current=ke,ue.selectedNodes=Ld(ae,ke,Z)),(oe=l.onSelect)===null||oe===void 0||oe.call(l,ke,ue),"selectedKeys"in l||y(ke)},{getPrefixCls:T,direction:I}=b.useContext(Jr),{prefixCls:O,className:D,showIcon:R=!0,expandAction:$="click"}=l,G=Im(l,["prefixCls","className","showIcon","expandAction"]),ee=T("tree",O),te=bt(`${ee}-directory`,{[`${ee}-directory-rtl`]:I==="rtl"},D);return b.createElement(c1,Object.assign({icon:Ek,ref:t,blockNode:!0},G,{showIcon:R,expandAction:$,prefixCls:ee,className:te,expandedKeys:w,selectedKeys:v,onSelect:N,onExpand:x}))},Lk=b.forwardRef(kk),Op=c1;Op.DirectoryTree=Lk;Op.TreeNode=ac;const Am=e=>{const{value:t,filterSearch:n,tablePrefixCls:r,locale:i,onChange:l}=e;return n?b.createElement("div",{className:`${r}-filter-dropdown-search`},b.createElement($2,{prefix:b.createElement(Vh,null),placeholder:i.filterSearchPlaceholder,onChange:l,value:t,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},Nk=e=>{const{keyCode:t}=e;t===_r.ENTER&&e.stopPropagation()},Mk=b.forwardRef((e,t)=>b.createElement("div",{className:e.className,onClick:n=>n.stopPropagation(),onKeyDown:Nk,ref:t},e.children));function uu(e){let t=[];return(e||[]).forEach(({value:n,children:r})=>{t.push(n),r&&(t=[].concat(En(t),En(uu(r))))}),t}function Pk(e){return e.some(({children:t})=>t)}function h1(e,t){return typeof t=="string"||typeof t=="number"?t?.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function d1({filters:e,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:i,filterSearch:l}){return e.map((h,c)=>{const g=String(h.value);if(h.children)return{key:g||c,label:h.text,popupClassName:`${t}-dropdown-submenu`,children:d1({filters:h.children,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:i,filterSearch:l})};const v=r?Ns:il,y={key:h.value!==void 0?g:c,label:b.createElement(b.Fragment,null,b.createElement(v,{checked:n.includes(g)}),b.createElement("span",null,h.text))};return i.trim()?typeof l=="function"?l(i,h)?y:null:h1(i,h.text)?y:null:y})}function Nd(e){return e||[]}const Ik=e=>{var t,n,r,i;const{tablePrefixCls:l,prefixCls:h,column:c,dropdownPrefixCls:g,columnKey:v,filterOnClose:y,filterMultiple:w,filterMode:k="menu",filterSearch:x=!1,filterState:N,triggerFilter:T,locale:I,children:O,getPopupContainer:D,rootClassName:R}=e,{filterResetToDefaultFilteredValue:$,defaultFilteredValue:G,filterDropdownProps:ee={},filterDropdownOpen:te,filterDropdownVisible:J,onFilterDropdownVisibleChange:H,onFilterDropdownOpenChange:oe}=c,[q,Z]=b.useState(!1),X=!!(N&&(!((t=N.filteredKeys)===null||t===void 0)&&t.length||N.forceFiltered)),U=nt=>{var mt;Z(nt),(mt=ee.onOpenChange)===null||mt===void 0||mt.call(ee,nt),oe?.(nt),H?.(nt)},Q=(i=(r=(n=ee.open)!==null&&n!==void 0?n:te)!==null&&r!==void 0?r:J)!==null&&i!==void 0?i:q,ae=N?.filteredKeys,[ue,le]=BE(Nd(ae)),be=({selectedKeys:nt})=>{le(nt)},ke=(nt,{node:mt,checked:wt})=>{be(w?{selectedKeys:nt}:{selectedKeys:wt&&mt.key?[mt.key]:[]})};b.useEffect(()=>{q&&be({selectedKeys:Nd(ae)})},[ae]);const[Te,ne]=b.useState([]),ce=nt=>{ne(nt)},[me,we]=b.useState(""),Le=nt=>{const{value:mt}=nt.target;we(mt)};b.useEffect(()=>{q||we("")},[q]);const Be=nt=>{const mt=nt?.length?nt:null;if(mt===null&&(!N||!N.filteredKeys)||vu(mt,N?.filteredKeys,!0))return null;T({column:c,key:v,filteredKeys:mt})},he=()=>{U(!1),Be(ue())},qe=({confirm:nt,closeDropdown:mt}={confirm:!1,closeDropdown:!1})=>{nt&&Be([]),mt&&U(!1),we(""),le($?(G||[]).map(wt=>String(wt)):[])},We=({closeDropdown:nt}={closeDropdown:!0})=>{nt&&U(!1),Be(ue())},Fe=(nt,mt)=>{mt.source==="trigger"&&(nt&&ae!==void 0&&le(Nd(ae)),U(nt),!nt&&!c.filterDropdown&&y&&he())},de=bt({[`${g}-menu-without-submenu`]:!Pk(c.filters||[])}),it=nt=>{if(nt.target.checked){const mt=uu(c?.filters).map(wt=>String(wt));le(mt)}else le([])},ft=({filters:nt})=>(nt||[]).map((mt,wt)=>{const Et=String(mt.value),Xt={title:mt.text,key:mt.value!==void 0?Et:String(wt)};return mt.children&&(Xt.children=ft({filters:mt.children})),Xt}),fe=nt=>{var mt;return Object.assign(Object.assign({},nt),{text:nt.title,value:nt.key,children:((mt=nt.children)===null||mt===void 0?void 0:mt.map(wt=>fe(wt)))||[]})};let tt;const{direction:kt,renderEmpty:At}=b.useContext(Jr);if(typeof c.filterDropdown=="function")tt=c.filterDropdown({prefixCls:`${g}-custom`,setSelectedKeys:nt=>be({selectedKeys:nt}),selectedKeys:ue(),confirm:We,clearFilters:qe,filters:c.filters,visible:Q,close:()=>{U(!1)}});else if(c.filterDropdown)tt=c.filterDropdown;else{const nt=ue()||[],mt=()=>{var Et,Xt;const nn=(Et=At?.("Table.filter"))!==null&&Et!==void 0?Et:b.createElement(fh,{image:fh.PRESENTED_IMAGE_SIMPLE,description:I.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((c.filters||[]).length===0)return nn;if(k==="tree")return b.createElement(b.Fragment,null,b.createElement(Am,{filterSearch:x,value:me,onChange:Le,tablePrefixCls:l,locale:I}),b.createElement("div",{className:`${l}-filter-dropdown-tree`},w?b.createElement(Ns,{checked:nt.length===uu(c.filters).length,indeterminate:nt.length>0&&nt.length<uu(c.filters).length,className:`${l}-filter-dropdown-checkall`,onChange:it},(Xt=I?.filterCheckall)!==null&&Xt!==void 0?Xt:I?.filterCheckAll):null,b.createElement(Op,{checkable:!0,selectable:!1,blockNode:!0,multiple:w,checkStrictly:!w,className:`${g}-menu`,onCheck:ke,checkedKeys:nt,selectedKeys:nt,showIcon:!1,treeData:ft({filters:c.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:me.trim()?Jt=>typeof x=="function"?x(me,fe(Jt)):h1(me,Jt.title):void 0})));const dn=d1({filters:c.filters||[],filterSearch:x,prefixCls:h,filteredKeys:ue(),filterMultiple:w,searchValue:me}),Dt=dn.every(Jt=>Jt===null);return b.createElement(b.Fragment,null,b.createElement(Am,{filterSearch:x,value:me,onChange:Le,tablePrefixCls:l,locale:I}),Dt?nn:b.createElement(Bl,{selectable:!0,multiple:w,prefixCls:`${g}-menu`,className:de,onSelect:be,onDeselect:be,selectedKeys:nt,getPopupContainer:D,openKeys:Te,onOpenChange:ce,items:dn}))},wt=()=>$?vu((G||[]).map(Et=>String(Et)),nt,!0):nt.length===0;tt=b.createElement(b.Fragment,null,mt(),b.createElement("div",{className:`${h}-dropdown-btns`},b.createElement(ii,{type:"link",size:"small",disabled:wt(),onClick:()=>qe()},I.filterReset),b.createElement(ii,{type:"primary",size:"small",onClick:he},I.filterConfirm)))}c.filterDropdown&&(tt=b.createElement(Yy,{selectable:void 0},tt)),tt=b.createElement(Mk,{className:`${h}-dropdown`},tt);const Zt=rc({trigger:["click"],placement:kt==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let nt;return typeof c.filterIcon=="function"?nt=c.filterIcon(X):c.filterIcon?nt=c.filterIcon:nt=b.createElement(RE,null),b.createElement("span",{role:"button",tabIndex:-1,className:bt(`${h}-trigger`,{active:X}),onClick:mt=>{mt.stopPropagation()}},nt)})(),getPopupContainer:D},Object.assign(Object.assign({},ee),{rootClassName:bt(R,ee.rootClassName),open:Q,onOpenChange:Fe,popupRender:()=>typeof ee?.dropdownRender=="function"?ee.dropdownRender(tt):tt}));return b.createElement("div",{className:`${h}-column`},b.createElement("span",{className:`${l}-column-title`},O),b.createElement(_p,Object.assign({},Zt)))},Of=(e,t,n)=>{let r=[];return(e||[]).forEach((i,l)=>{var h;const c=Pu(l,n),g=i.filterDropdown!==void 0;if(i.filters||g||"onFilter"in i)if("filteredValue"in i){let v=i.filteredValue;g||(v=(h=v?.map(String))!==null&&h!==void 0?h:v),r.push({column:i,key:sl(i,c),filteredKeys:v,forceFiltered:i.filtered})}else r.push({column:i,key:sl(i,c),filteredKeys:t&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(En(r),En(Of(i.children,t,c))))}),r};function f1(e,t,n,r,i,l,h,c,g){return n.map((v,y)=>{const w=Pu(y,c),{filterOnClose:k=!0,filterMultiple:x=!0,filterMode:N,filterSearch:T}=v;let I=v;if(I.filters||I.filterDropdown){const O=sl(I,w),D=r.find(({key:R})=>O===R);I=Object.assign(Object.assign({},I),{title:R=>b.createElement(Ik,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:I,columnKey:O,filterState:D,filterOnClose:k,filterMultiple:x,filterMode:N,filterSearch:T,triggerFilter:l,locale:i,getPopupContainer:h,rootClassName:g},Qh(v.title,R))})}return"children"in I&&(I=Object.assign(Object.assign({},I),{children:f1(e,t,I.children,r,i,l,h,w,g)})),I})}const Tm=e=>{const t={};return e.forEach(({key:n,filteredKeys:r,column:i})=>{const l=n,{filters:h,filterDropdown:c}=i;if(c)t[l]=r||null;else if(Array.isArray(r)){const g=uu(h);t[l]=g.filter(v=>r.includes(String(v)))}else t[l]=null}),t},Af=(e,t,n)=>t.reduce((i,l)=>{const{column:{onFilter:h,filters:c},filteredKeys:g}=l;return h&&g&&g.length?i.map(v=>Object.assign({},v)).filter(v=>g.some(y=>{const w=uu(c),k=w.findIndex(N=>String(N)===String(y)),x=k!==-1?w[k]:y;return v[n]&&(v[n]=Af(v[n],t,n)),h(x,v)})):i},e),p1=e=>e.flatMap(t=>"children"in t?[t].concat(En(p1(t.children||[]))):[t]),Ok=e=>{const{prefixCls:t,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:i,getPopupContainer:l,locale:h,rootClassName:c}=e;hc();const g=b.useMemo(()=>p1(r||[]),[r]),[v,y]=b.useState(()=>Of(g,!0)),w=b.useMemo(()=>{const T=Of(g,!1);if(T.length===0)return T;let I=!0;if(T.forEach(({filteredKeys:O})=>{O!==void 0&&(I=!1)}),I){const O=(g||[]).map((D,R)=>sl(D,Pu(R)));return v.filter(({key:D})=>O.includes(D)).map(D=>{const R=g[O.findIndex($=>$===D.key)];return Object.assign(Object.assign({},D),{column:Object.assign(Object.assign({},D.column),R),forceFiltered:R.filtered})})}return T},[g,v]),k=b.useMemo(()=>Tm(w),[w]),x=T=>{const I=w.filter(({key:O})=>O!==T.key);I.push(T),y(I),i(Tm(I),I)};return[T=>f1(t,n,T,w,h,x,l,void 0,c),w,k]},Ak=(e,t,n)=>{const r=b.useRef({});function i(l){var h;if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){let g=function(v){v.forEach((y,w)=>{const k=n(y,w);c.set(k,y),y&&typeof y=="object"&&t in y&&g(y[t]||[])})};const c=new Map;g(e),r.current={data:e,childrenColumnName:t,kvMap:c,getRowKey:n}}return(h=r.current.kvMap)===null||h===void 0?void 0:h.get(l)}return[i]};var Tk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const g1=10;function Rk(e,t){const n={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(i=>{const l=e[i];typeof l!="function"&&(n[i]=l)}),n}function Bk(e,t,n){const r=n&&typeof n=="object"?n:{},{total:i=0}=r,l=Tk(r,["total"]),[h,c]=b.useState(()=>({current:"defaultCurrent"in l?l.defaultCurrent:1,pageSize:"defaultPageSize"in l?l.defaultPageSize:g1})),g=rc(h,l,{total:i>0?i:e}),v=Math.ceil((i||e)/g.pageSize);g.current>v&&(g.current=v||1);const y=(k,x)=>{c({current:k??1,pageSize:x||g.pageSize})},w=(k,x)=>{var N;n&&((N=n.onChange)===null||N===void 0||N.call(n,k,x)),y(k,x),t(k,x||g?.pageSize)};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},g),{onChange:w}),y]}var Dk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},$k=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:Dk}))},Fk=b.forwardRef($k),jk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},zk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:jk}))},Hk=b.forwardRef(zk);const Qc="ascend",Md="descend",xh=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,Rm=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,qk=(e,t)=>t?e[e.indexOf(t)+1]:e[0],Tf=(e,t,n)=>{let r=[];const i=(l,h)=>{r.push({column:l,key:sl(l,h),multiplePriority:xh(l),sortOrder:l.sortOrder})};return(e||[]).forEach((l,h)=>{const c=Pu(h,n);l.children?("sortOrder"in l&&i(l,c),r=[].concat(En(r),En(Tf(l.children,t,c)))):l.sorter&&("sortOrder"in l?i(l,c):t&&l.defaultSortOrder&&r.push({column:l,key:sl(l,c),multiplePriority:xh(l),sortOrder:l.defaultSortOrder}))}),r},m1=(e,t,n,r,i,l,h,c)=>(t||[]).map((v,y)=>{const w=Pu(y,c);let k=v;if(k.sorter){const x=k.sortDirections||i,N=k.showSorterTooltip===void 0?h:k.showSorterTooltip,T=sl(k,w),I=n.find(({key:H})=>H===T),O=I?I.sortOrder:null,D=qk(x,O);let R;if(v.sortIcon)R=v.sortIcon({sortOrder:O});else{const H=x.includes(Qc)&&b.createElement(Hk,{className:bt(`${e}-column-sorter-up`,{active:O===Qc})}),oe=x.includes(Md)&&b.createElement(Fk,{className:bt(`${e}-column-sorter-down`,{active:O===Md})});R=b.createElement("span",{className:bt(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(H&&oe)})},b.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},H,oe))}const{cancelSort:$,triggerAsc:G,triggerDesc:ee}=l||{};let te=$;D===Md?te=ee:D===Qc&&(te=G);const J=typeof N=="object"?Object.assign({title:te},N):{title:te};k=Object.assign(Object.assign({},k),{className:bt(k.className,{[`${e}-column-sort`]:O}),title:H=>{const oe=`${e}-column-sorters`,q=b.createElement("span",{className:`${e}-column-title`},Qh(v.title,H)),Z=b.createElement("div",{className:oe},q,R);return N?typeof N!="boolean"&&N?.target==="sorter-icon"?b.createElement("div",{className:`${oe} ${e}-column-sorters-tooltip-target-sorter`},q,b.createElement(sa,Object.assign({},J),R)):b.createElement(sa,Object.assign({},J),Z):Z},onHeaderCell:H=>{var oe;const q=((oe=v.onHeaderCell)===null||oe===void 0?void 0:oe.call(v,H))||{},Z=q.onClick,X=q.onKeyDown;q.onClick=ae=>{r({column:v,key:T,sortOrder:D,multiplePriority:xh(v)}),Z?.(ae)},q.onKeyDown=ae=>{ae.keyCode===_r.ENTER&&(r({column:v,key:T,sortOrder:D,multiplePriority:xh(v)}),X?.(ae))};const U=OE(v.title,{}),Q=U?.toString();return O&&(q["aria-sort"]=O==="ascend"?"ascending":"descending"),q["aria-label"]=Q||"",q.className=bt(q.className,`${e}-column-has-sorters`),q.tabIndex=0,v.ellipsis&&(q.title=(U??"").toString()),q}})}return"children"in k&&(k=Object.assign(Object.assign({},k),{children:m1(e,k.children,n,r,i,l,h,w)})),k}),Bm=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},Dm=e=>{const t=e.filter(({sortOrder:n})=>n).map(Bm);if(t.length===0&&e.length){const n=e.length-1;return Object.assign(Object.assign({},Bm(e[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},Rf=(e,t,n)=>{const r=t.slice().sort((h,c)=>c.multiplePriority-h.multiplePriority),i=e.slice(),l=r.filter(({column:{sorter:h},sortOrder:c})=>Rm(h)&&c);return l.length?i.sort((h,c)=>{for(let g=0;g<l.length;g+=1){const v=l[g],{column:{sorter:y},sortOrder:w}=v,k=Rm(y);if(k&&w){const x=k(h,c,w);if(x!==0)return w===Qc?x:-x}}return 0}).map(h=>{const c=h[n];return c?Object.assign(Object.assign({},h),{[n]:Rf(c,t,n)}):h}):i},Uk=e=>{const{prefixCls:t,mergedColumns:n,sortDirections:r,tableLocale:i,showSorterTooltip:l,onSorterChange:h}=e,[c,g]=b.useState(()=>Tf(n,!0)),v=(T,I)=>{const O=[];return T.forEach((D,R)=>{const $=Pu(R,I);if(O.push(sl(D,$)),Array.isArray(D.children)){const G=v(D.children,$);O.push.apply(O,En(G))}}),O},y=b.useMemo(()=>{let T=!0;const I=Tf(n,!1);if(!I.length){const $=v(n);return c.filter(({key:G})=>$.includes(G))}const O=[];function D($){T?O.push($):O.push(Object.assign(Object.assign({},$),{sortOrder:null}))}let R=null;return I.forEach($=>{R===null?(D($),$.sortOrder&&($.multiplePriority===!1?T=!1:R=!0)):(R&&$.multiplePriority!==!1||(T=!1),D($))}),O},[n,c]),w=b.useMemo(()=>{var T,I;const O=y.map(({column:D,sortOrder:R})=>({column:D,order:R}));return{sortColumns:O,sortColumn:(T=O[0])===null||T===void 0?void 0:T.column,sortOrder:(I=O[0])===null||I===void 0?void 0:I.order}},[y]),k=T=>{let I;T.multiplePriority===!1||!y.length||y[0].multiplePriority===!1?I=[T]:I=[].concat(En(y.filter(({key:O})=>O!==T.key)),[T]),g(I),h(Dm(I),I)};return[T=>m1(t,T,y,k,r,i,l),y,w,()=>Dm(y)]},v1=(e,t)=>e.map(r=>{const i=Object.assign({},r);return i.title=Qh(r.title,t),"children"in i&&(i.children=v1(i.children,t)),i}),Gk=e=>[b.useCallback(n=>v1(n,e),[e])],Vk=r1((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),Wk=a1((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),Kk=e=>{const{componentCls:t,lineWidth:n,lineType:r,tableBorderColor:i,tableHeaderBg:l,tablePaddingVertical:h,tablePaddingHorizontal:c,calc:g}=e,v=`${Qe(n)} ${r} ${i}`,y=(w,k,x)=>({[`&${t}-${w}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Qe(g(k).mul(-1).equal())}
              ${Qe(g(g(x).add(n)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:v,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:v,borderTop:v,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:v},"> thead":{"> tr:not(:last-child) > th":{borderBottom:v},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:v}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Qe(g(h).mul(-1).equal())} ${Qe(g(g(c).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:v,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},y("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),y("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:v,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${Qe(n)} 0 ${Qe(n)} ${l}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:v}}}},Zk=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},oy),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Xk=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},Yk=e=>{const{componentCls:t,antCls:n,motionDurationSlow:r,lineWidth:i,paddingXS:l,lineType:h,tableBorderColor:c,tableExpandIconBg:g,tableExpandColumnWidth:v,borderRadius:y,tablePaddingVertical:w,tablePaddingHorizontal:k,tableExpandedRowBg:x,paddingXXS:N,expandIconMarginTop:T,expandIconSize:I,expandIconHalfInner:O,expandIconScale:D,calc:R}=e,$=`${Qe(i)} ${h} ${c}`,G=R(N).sub(i).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:v},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},up(e)),{position:"relative",float:"left",width:I,height:I,color:"inherit",lineHeight:Qe(I),background:g,border:$,borderRadius:y,transform:`scale(${D})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:O,insetInlineEnd:G,insetInlineStart:G,height:i},"&::after":{top:G,bottom:G,insetInlineStart:O,width:i,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:T,marginInlineEnd:l},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:x}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${Qe(R(w).mul(-1).equal())} ${Qe(R(k).mul(-1).equal())}`,padding:`${Qe(w)} ${Qe(k)}`}}}},Jk=e=>{const{componentCls:t,antCls:n,iconCls:r,tableFilterDropdownWidth:i,tableFilterDropdownSearchWidth:l,paddingXXS:h,paddingXS:c,colorText:g,lineWidth:v,lineType:y,tableBorderColor:w,headerIconColor:k,fontSizeSM:x,tablePaddingHorizontal:N,borderRadius:T,motionDurationSlow:I,colorIcon:O,colorPrimary:D,tableHeaderFilterActiveBg:R,colorTextDisabled:$,tableFilterDropdownBg:G,tableFilterDropdownHeight:ee,controlItemBgHover:te,controlItemBgActive:J,boxShadowSecondary:H,filterDropdownMenuBg:oe,calc:q}=e,Z=`${n}-dropdown`,X=`${t}-filter-dropdown`,U=`${n}-tree`,Q=`${Qe(v)} ${y} ${w}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:q(h).mul(-1).equal(),marginInline:`${Qe(h)} ${Qe(q(N).div(2).mul(-1).equal())}`,padding:`0 ${Qe(h)}`,color:k,fontSize:x,borderRadius:T,cursor:"pointer",transition:`all ${I}`,"&:hover":{color:O,background:R},"&.active":{color:D}}}},{[`${n}-dropdown`]:{[X]:Object.assign(Object.assign({},Pi(e)),{minWidth:i,backgroundColor:G,borderRadius:T,boxShadow:H,overflow:"hidden",[`${Z}-menu`]:{maxHeight:ee,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:oe,"&:empty::after":{display:"block",padding:`${Qe(c)} 0`,color:$,fontSize:x,textAlign:"center",content:'"Not Found"'}},[`${X}-tree`]:{paddingBlock:`${Qe(c)} 0`,paddingInline:c,[U]:{padding:0},[`${U}-treenode ${U}-node-content-wrapper:hover`]:{backgroundColor:te},[`${U}-treenode-checkbox-checked ${U}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:J}}},[`${X}-search`]:{padding:c,borderBottom:Q,"&-input":{input:{minWidth:l},[r]:{color:$}}},[`${X}-checkall`]:{width:"100%",marginBottom:h,marginInlineStart:h},[`${X}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${Qe(q(c).sub(v).equal())} ${Qe(c)}`,overflow:"hidden",borderTop:Q}})}},{[`${n}-dropdown ${X}, ${X}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:c,color:g},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},Qk=e=>{const{componentCls:t,lineWidth:n,colorSplit:r,motionDurationSlow:i,zIndexTableFixed:l,tableBg:h,zIndexTableSticky:c,calc:g}=e,v=r;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:l,background:h},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:g(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none",willChange:"transform"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:g(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:g(c).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${v}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${v}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${v}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${v}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},eL=e=>{const{componentCls:t,antCls:n,margin:r}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${n}-pagination`]:{margin:`${Qe(r)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},tL=e=>{const{componentCls:t,tableRadius:n}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${Qe(n)} ${Qe(n)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${Qe(n)} ${Qe(n)}`}}}}},nL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},rL=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSizeIcon:i,padding:l,paddingXS:h,headerIconColor:c,headerIconHoverColor:g,tableSelectionColumnWidth:v,tableSelectedRowBg:y,tableSelectedRowHoverBg:w,tableRowHoverBg:k,tablePaddingHorizontal:x,calc:N}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:v,[`&${t}-selection-col-with-dropdown`]:{width:N(v).add(i).add(N(l).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:N(v).add(N(h).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:N(v).add(i).add(N(l).div(4)).add(N(h).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:N(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:Qe(N(x).div(4).equal()),[r]:{color:c,fontSize:i,verticalAlign:"baseline","&:hover":{color:g}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:y,"&-row-hover":{background:w}}},[`> ${t}-cell-row-hover`]:{background:k}}}}}},iL=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:r}=e,i=(l,h,c,g)=>({[`${t}${t}-${l}`]:{fontSize:g,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${Qe(h)} ${Qe(c)}`},[`${t}-filter-trigger`]:{marginInlineEnd:Qe(r(c).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${Qe(r(h).mul(-1).equal())} ${Qe(r(c).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:Qe(r(h).mul(-1).equal()),marginInline:`${Qe(r(n).sub(c).equal())} ${Qe(r(c).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:Qe(r(c).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},i("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),i("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},aL=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:r,headerIconColor:i,headerIconHoverColor:l}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:n,color:i,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:l}}}},oL=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:i,tableScrollThumbSize:l,tableScrollBg:h,zIndexTableSticky:c,stickyScrollBarBorderRadius:g,lineWidth:v,lineType:y,tableBorderColor:w}=e,k=`${Qe(v)} ${y} ${w}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:c,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${Qe(l)} !important`,zIndex:c,display:"flex",alignItems:"center",background:h,borderTop:k,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:l,backgroundColor:r,borderRadius:g,transition:`all ${e.motionDurationSlow}, transform 0s`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:i}}}}}}},$m=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:r,calc:i}=e,l=`${Qe(n)} ${e.lineType} ${r}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:l}}},[`div${t}-summary`]:{boxShadow:`0 ${Qe(i(n).mul(-1).equal())} 0 ${r}`}}}},sL=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:r,lineType:i,tableBorderColor:l,calc:h}=e,c=`${Qe(r)} ${i} ${l}`,g=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:c,transition:`background ${n}`},[`${t}-expanded-row`]:{[`${g}${g}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${Qe(r)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:c,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:c,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:h(r).mul(-1).equal(),borderInlineStart:c}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:c,borderBottom:c}}}}}},lL=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:i,tableExpandColumnWidth:l,lineWidth:h,lineType:c,tableBorderColor:g,tableFontSize:v,tableBg:y,tableRadius:w,tableHeaderTextColor:k,motionDurationMid:x,tableHeaderBg:N,tableHeaderCellSplitColor:T,tableFooterTextColor:I,tableFooterBg:O,calc:D}=e,R=`${Qe(h)} ${c} ${g}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%","--rc-virtual-list-scrollbar-bg":e.tableScrollBg},gh()),{[t]:Object.assign(Object.assign({},Pi(e)),{fontSize:v,background:y,borderRadius:`${Qe(w)} ${Qe(w)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${Qe(w)} ${Qe(w)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${Qe(r)} ${Qe(i)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${Qe(r)} ${Qe(i)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:k,fontWeight:n,textAlign:"start",background:N,borderBottom:R,transition:`background ${x} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:T,transform:"translateY(-50%)",transition:`background-color ${x}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${x}, border-color ${x}`,borderBottom:R,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:Qe(D(r).mul(-1).equal()),marginInline:`${Qe(D(l).sub(i).equal())}
                ${Qe(D(i).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:k,fontWeight:n,textAlign:"start",background:N,borderBottom:R,transition:`background ${x} ease`}}},[`${t}-footer`]:{padding:`${Qe(r)} ${Qe(i)}`,color:I,background:O}})}},uL=e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:i,colorFillContent:l,controlItemBgActive:h,controlItemBgActiveHover:c,padding:g,paddingSM:v,paddingXS:y,colorBorderSecondary:w,borderRadiusLG:k,controlHeight:x,colorTextPlaceholder:N,fontSize:T,fontSizeSM:I,lineHeight:O,lineWidth:D,colorIcon:R,colorIconHover:$,opacityLoading:G,controlInteractiveSize:ee}=e,te=new Oo(i).onBackground(n).toHexString(),J=new Oo(l).onBackground(n).toHexString(),H=new Oo(t).onBackground(n).toHexString(),oe=new Oo(R),q=new Oo($),Z=ee/2-D,X=Z*2+D*3;return{headerBg:H,headerColor:r,headerSortActiveBg:te,headerSortHoverBg:J,bodySortBg:H,rowHoverBg:H,rowSelectedBg:h,rowSelectedHoverBg:c,rowExpandedBg:t,cellPaddingBlock:g,cellPaddingInline:g,cellPaddingBlockMD:v,cellPaddingInlineMD:y,cellPaddingBlockSM:y,cellPaddingInlineSM:y,borderColor:w,headerBorderRadius:k,footerBg:H,footerColor:r,cellFontSize:T,cellFontSizeMD:T,cellFontSizeSM:T,headerSplitColor:w,fixedHeaderSortActiveBg:te,headerFilterHoverBg:l,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:x,stickyScrollBarBg:N,stickyScrollBarBorderRadius:100,expandIconMarginTop:(T*O-D*3)/2-Math.ceil((I*1.4-D*3)/2),headerIconColor:oe.clone().setA(oe.a*G).toRgbString(),headerIconHoverColor:q.clone().setA(q.a*G).toRgbString(),expandIconHalfInner:Z,expandIconSize:X,expandIconScale:ee/X}},Fm=2,cL=zi("Table",e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:r,controlInteractiveSize:i,headerBg:l,headerColor:h,headerSortActiveBg:c,headerSortHoverBg:g,bodySortBg:v,rowHoverBg:y,rowSelectedBg:w,rowSelectedHoverBg:k,rowExpandedBg:x,cellPaddingBlock:N,cellPaddingInline:T,cellPaddingBlockMD:I,cellPaddingInlineMD:O,cellPaddingBlockSM:D,cellPaddingInlineSM:R,borderColor:$,footerBg:G,footerColor:ee,headerBorderRadius:te,cellFontSize:J,cellFontSizeMD:H,cellFontSizeSM:oe,headerSplitColor:q,fixedHeaderSortActiveBg:Z,headerFilterHoverBg:X,filterDropdownBg:U,expandIconBg:Q,selectionColumnWidth:ae,stickyScrollBarBg:ue,calc:le}=e,be=ba(e,{tableFontSize:J,tableBg:r,tableRadius:te,tablePaddingVertical:N,tablePaddingHorizontal:T,tablePaddingVerticalMiddle:I,tablePaddingHorizontalMiddle:O,tablePaddingVerticalSmall:D,tablePaddingHorizontalSmall:R,tableBorderColor:$,tableHeaderTextColor:h,tableHeaderBg:l,tableFooterTextColor:ee,tableFooterBg:G,tableHeaderCellSplitColor:q,tableHeaderSortBg:c,tableHeaderSortHoverBg:g,tableBodySortBg:v,tableFixedHeaderSortActiveBg:Z,tableHeaderFilterActiveBg:X,tableFilterDropdownBg:U,tableRowHoverBg:y,tableSelectedRowBg:w,tableSelectedRowHoverBg:k,zIndexTableFixed:Fm,zIndexTableSticky:le(Fm).add(1).equal({unit:!1}),tableFontSizeMiddle:H,tableFontSizeSmall:oe,tableSelectionColumnWidth:ae,tableExpandIconBg:Q,tableExpandColumnWidth:le(i).add(le(e.padding).mul(2)).equal(),tableExpandedRowBg:x,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:ue,tableScrollThumbBgHover:t,tableScrollBg:n});return[lL(be),eL(be),$m(be),aL(be),Jk(be),Kk(be),tL(be),Yk(be),$m(be),Xk(be),rL(be),Qk(be),oL(be),Zk(be),iL(be),nL(be),sL(be)]},uL,{unitless:{expandIconScale:!0}}),jm=[],hL=(e,t)=>{var n,r;const{prefixCls:i,className:l,rootClassName:h,style:c,size:g,bordered:v,dropdownPrefixCls:y,dataSource:w,pagination:k,rowSelection:x,rowKey:N="key",rowClassName:T,columns:I,children:O,childrenColumnName:D,onChange:R,getPopupContainer:$,loading:G,expandIcon:ee,expandable:te,expandedRowRender:J,expandIconColumnIndex:H,indentSize:oe,scroll:q,sortDirections:Z,locale:X,showSorterTooltip:U={target:"full-header"},virtual:Q}=e;hc();const ae=b.useMemo(()=>I||kp(O),[I,O]),ue=b.useMemo(()=>ae.some(Nn=>Nn.responsive),[ae]),le=Rh(ue),be=b.useMemo(()=>{const Nn=new Set(Object.keys(le).filter(Gn=>le[Gn]));return ae.filter(Gn=>!Gn.responsive||Gn.responsive.some(wn=>Nn.has(wn)))},[ae,le]),ke=Xo(e,["className","style","columns"]),{locale:Te=Fh,direction:ne,table:ce,renderEmpty:me,getPrefixCls:we,getPopupContainer:Le}=b.useContext(Jr),Be=ul(g),he=Object.assign(Object.assign({},Te.Table),X),qe=w||jm,We=we("table",i),Fe=we("dropdown",y),[,de]=Su(),it=Zo(We),[ft,fe,tt]=cL(We,it),kt=Object.assign(Object.assign({childrenColumnName:D,expandIconColumnIndex:H},te),{expandIcon:(n=te?.expandIcon)!==null&&n!==void 0?n:(r=ce?.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:At="children"}=kt,Ze=b.useMemo(()=>qe.some(Nn=>Nn?.[At])?"nest":J||te?.expandedRowRender?"row":null,[qe]),Zt={body:b.useRef(null)},nt=IE(We),mt=b.useRef(null),wt=b.useRef(null);ME(t,()=>Object.assign(Object.assign({},wt.current),{nativeElement:mt.current}));const Et=b.useMemo(()=>typeof N=="function"?N:Nn=>Nn?.[N],[N]),[Xt]=Ak(qe,At,Et),nn={},dn=(Nn,Gn,wn=!1)=>{var nr,sr,fr,wr;const Nr=Object.assign(Object.assign({},nn),Nn);wn&&((nr=nn.resetPagination)===null||nr===void 0||nr.call(nn),!((sr=Nr.pagination)===null||sr===void 0)&&sr.current&&(Nr.pagination.current=1),k&&((fr=k.onChange)===null||fr===void 0||fr.call(k,1,(wr=Nr.pagination)===null||wr===void 0?void 0:wr.pageSize))),q&&q.scrollToFirstRowOnChange!==!1&&Zt.body.current&&pw(0,{getContainer:()=>Zt.body.current}),R?.(Nr.pagination,Nr.filters,Nr.sorter,{currentDataSource:Af(Rf(qe,Nr.sorterStates,At),Nr.filterStates,At),action:Gn})},Dt=(Nn,Gn)=>{dn({sorter:Nn,sorterStates:Gn},"sort",!1)},[Jt,Ft,ht,Mt]=Uk({prefixCls:We,mergedColumns:be,onSorterChange:Dt,sortDirections:Z||["ascend","descend"],tableLocale:he,showSorterTooltip:U}),tn=b.useMemo(()=>Rf(qe,Ft,At),[qe,Ft]);nn.sorter=Mt(),nn.sorterStates=Ft;const fn=(Nn,Gn)=>{dn({filters:Nn,filterStates:Gn},"filter",!0)},[Tt,zt,jt]=Ok({prefixCls:We,locale:he,dropdownPrefixCls:Fe,mergedColumns:be,onFilterChange:fn,getPopupContainer:$||Le,rootClassName:bt(h,it)}),ln=Af(tn,zt,At);nn.filters=jt,nn.filterStates=zt;const an=b.useMemo(()=>{const Nn={};return Object.keys(jt).forEach(Gn=>{jt[Gn]!==null&&(Nn[Gn]=jt[Gn])}),Object.assign(Object.assign({},ht),{filters:Nn})},[ht,jt]),[hn]=Gk(an),Bn=(Nn,Gn)=>{dn({pagination:Object.assign(Object.assign({},nn.pagination),{current:Nn,pageSize:Gn})},"paginate")},[Rt,Gt]=Bk(ln.length,Bn,k);nn.pagination=k===!1?{}:Rk(Rt,k),nn.resetPagination=Gt;const gn=b.useMemo(()=>{if(k===!1||!Rt.pageSize)return ln;const{current:Nn=1,total:Gn,pageSize:wn=g1}=Rt;return ln.length<Gn?ln.length>wn?ln.slice((Nn-1)*wn,Nn*wn):ln:ln.slice((Nn-1)*wn,Nn*wn)},[!!k,ln,Rt?.current,Rt?.pageSize,Rt?.total]),[An,Dn]=LE({prefixCls:We,data:ln,pageData:gn,getRowKey:Et,getRecordByKey:Xt,expandType:Ze,childrenColumnName:At,locale:he,getPopupContainer:$||Le},x),Kt=(Nn,Gn,wn)=>{let nr;return typeof T=="function"?nr=bt(T(Nn,Gn,wn)):nr=bt(T),bt({[`${We}-row-selected`]:Dn.has(Et(Nn,Gn))},nr)};kt.__PARENT_RENDER_ICON__=kt.expandIcon,kt.expandIcon=kt.expandIcon||ee||PE(he),Ze==="nest"&&kt.expandIconColumnIndex===void 0?kt.expandIconColumnIndex=x?1:0:kt.expandIconColumnIndex>0&&x&&(kt.expandIconColumnIndex-=1),typeof kt.indentSize!="number"&&(kt.indentSize=typeof oe=="number"?oe:15);const dr=b.useCallback(Nn=>hn(An(Tt(Jt(Nn)))),[Jt,Tt,An]);let mn,br;if(k!==!1&&Rt?.total){let Nn;Rt.size?Nn=Rt.size:Nn=Be==="small"||Be==="middle"?"small":void 0;const Gn=sr=>b.createElement(R_,Object.assign({},Rt,{className:bt(`${We}-pagination ${We}-pagination-${sr}`,Rt.className),size:Nn})),wn=ne==="rtl"?"left":"right",{position:nr}=Rt;if(nr!==null&&Array.isArray(nr)){const sr=nr.find(Nr=>Nr.includes("top")),fr=nr.find(Nr=>Nr.includes("bottom")),wr=nr.every(Nr=>`${Nr}`=="none");!sr&&!fr&&!wr&&(br=Gn(wn)),sr&&(mn=Gn(sr.toLowerCase().replace("top",""))),fr&&(br=Gn(fr.toLowerCase().replace("bottom","")))}else br=Gn(wn)}let Un;typeof G=="boolean"?Un={spinning:G}:typeof G=="object"&&(Un=Object.assign({spinning:!0},G));const ur=bt(tt,it,`${We}-wrapper`,ce?.className,{[`${We}-wrapper-rtl`]:ne==="rtl"},l,h,fe),Tr=Object.assign(Object.assign({},ce?.style),c),zn=b.useMemo(()=>Un?.spinning&&qe===jm?null:typeof X?.emptyText<"u"?X.emptyText:me?.("Table")||b.createElement(Yv,{componentName:"Table"}),[Un?.spinning,qe,X?.emptyText,me]),cn=Q?Wk:Vk,Pr={},Ri=b.useMemo(()=>{const{fontSize:Nn,lineHeight:Gn,lineWidth:wn,padding:nr,paddingXS:sr,paddingSM:fr}=de,wr=Math.floor(Nn*Gn);switch(Be){case"middle":return fr*2+wr+wn;case"small":return sr*2+wr+wn;default:return nr*2+wr+wn}},[de,Be]);return Q&&(Pr.listItemHeight=Ri),ft(b.createElement("div",{ref:mt,className:ur,style:Tr},b.createElement($l,Object.assign({spinning:!1},Un),mn,b.createElement(cn,Object.assign({},Pr,ke,{ref:wt,columns:be,direction:ne,expandable:kt,prefixCls:We,className:bt({[`${We}-middle`]:Be==="middle",[`${We}-small`]:Be==="small",[`${We}-bordered`]:v,[`${We}-empty`]:qe.length===0},tt,it,fe),data:gn,rowKey:Et,rowClassName:Kt,emptyText:zn,internalHooks:gc,internalRefs:Zt,transformColumns:dr,getContainerWidth:nt,measureRowRender:Nn=>b.createElement(zh,{getPopupContainer:Gn=>Gn},Nn)})),br)))},dL=b.forwardRef(hL),fL=(e,t)=>{const n=b.useRef(0);return n.current+=1,b.createElement(dL,Object.assign({},e,{ref:t,_renderTimes:n.current}))},Us=b.forwardRef(fL);Us.SELECTION_COLUMN=el;Us.EXPAND_COLUMN=tl;Us.SELECTION_ALL=Nf;Us.SELECTION_INVERT=Mf;Us.SELECTION_NONE=Pf;Us.Column=mE;Us.ColumnGroup=vE;Us.Summary=W_;const pL=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:i,calc:l}=e,h=l(r).sub(n).equal(),c=l(t).sub(n).equal();return{[i]:Object.assign(Object.assign({},Pi(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:h,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${i}-close-icon`]:{marginInlineStart:c,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:h}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Ap=e=>{const{lineWidth:t,fontSizeIcon:n,calc:r}=e,i=e.fontSizeSM;return ba(e,{tagFontSize:i,tagLineHeight:Qe(r(e.lineHeightSM).mul(i).equal()),tagIconSize:r(n).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},Tp=e=>({defaultBg:new Oo(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),y1=zi("Tag",e=>{const t=Ap(e);return pL(t)},Tp);var gL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const mL=b.forwardRef((e,t)=>{const{prefixCls:n,style:r,className:i,checked:l,children:h,icon:c,onChange:g,onClick:v}=e,y=gL(e,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:w,tag:k}=b.useContext(Jr),x=R=>{g?.(!l),v?.(R)},N=w("tag",n),[T,I,O]=y1(N),D=bt(N,`${N}-checkable`,{[`${N}-checkable-checked`]:l},k?.className,i,I,O);return T(b.createElement("span",Object.assign({},y,{ref:t,style:Object.assign(Object.assign({},r),k?.style),className:D,onClick:x}),c,b.createElement("span",null,h)))}),vL=e=>Zx(e,(t,{textColor:n,lightBorderColor:r,lightColor:i,darkColor:l})=>({[`${e.componentCls}${e.componentCls}-${t}`]:{color:n,background:i,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}})),yL=cc(["Tag","preset"],e=>{const t=Ap(e);return vL(t)},Tp);function _L(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Rc=(e,t,n)=>{const r=_L(n);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},bL=cc(["Tag","status"],e=>{const t=Ap(e);return[Rc(t,"success","Success"),Rc(t,"processing","Info"),Rc(t,"error","Error"),Rc(t,"warning","Warning")]},Tp);var xL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const wL=b.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:l,children:h,icon:c,color:g,onClose:v,bordered:y=!0,visible:w}=e,k=xL(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:x,direction:N,tag:T}=b.useContext(Jr),[I,O]=b.useState(!0),D=Xo(k,["closeIcon","closable"]);b.useEffect(()=>{w!==void 0&&O(w)},[w]);const R=Xx(g),$=Yx(g),G=R||$,ee=Object.assign(Object.assign({backgroundColor:g&&!G?g:void 0},T?.style),l),te=x("tag",n),[J,H,oe]=y1(te),q=bt(te,T?.className,{[`${te}-${g}`]:G,[`${te}-has-color`]:g&&!G,[`${te}-hidden`]:!I,[`${te}-rtl`]:N==="rtl",[`${te}-borderless`]:!y},r,i,H,oe),Z=le=>{le.stopPropagation(),v?.(le),!le.defaultPrevented&&O(!1)},[,X]=pp(yu(e),yu(T),{closable:!1,closeIconRender:le=>{const be=b.createElement("span",{className:`${te}-close-icon`,onClick:Z},le);return Qv(le,be,ke=>({onClick:Te=>{var ne;(ne=ke?.onClick)===null||ne===void 0||ne.call(ke,Te),Z(Te)},className:bt(ke?.className,`${te}-close-icon`)}))}}),U=typeof k.onClick=="function"||h&&h.type==="a",Q=c||null,ae=Q?b.createElement(b.Fragment,null,Q,h&&b.createElement("span",null,h)):h,ue=b.createElement("span",Object.assign({},D,{ref:t,className:q,style:ee}),ae,X,R&&b.createElement(yL,{key:"preset",prefixCls:te}),$&&b.createElement(bL,{key:"status",prefixCls:te}));return J(U?b.createElement(Hh,{component:"Tag"},ue):ue)}),_1=wL;_1.CheckableTag=mL;const CL=e=>{const t=e?.algorithm?F2(e.algorithm):j2,n=Object.assign(Object.assign({},z2),e?.token);return H2(n,{override:e?.token},t,q2)};function SL(e){const{sizeUnit:t,sizeStep:n}=e,r=n-2;return{sizeXXL:t*(r+10),sizeXL:t*(r+6),sizeLG:t*(r+2),sizeMD:t*(r+2),sizeMS:t*(r+1),size:t*r,sizeSM:t*r,sizeXS:t*(r-1),sizeXXS:t*(r-1)}}const EL=(e,t)=>{const n=t??cp(e),r=n.fontSizeSM,i=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),SL(t??e)),U2(r)),{controlHeight:i}),G2(Object.assign(Object.assign({},n),{controlHeight:i})))},ts=(e,t)=>new Oo(e).setA(t).toRgbString(),Jl=(e,t)=>new Oo(e).lighten(t).toHexString(),kL=e=>{const t=vy(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},LL=(e,t)=>{const n=e||"#000",r=t||"#fff";return{colorBgBase:n,colorTextBase:r,colorText:ts(r,.85),colorTextSecondary:ts(r,.65),colorTextTertiary:ts(r,.45),colorTextQuaternary:ts(r,.25),colorFill:ts(r,.18),colorFillSecondary:ts(r,.12),colorFillTertiary:ts(r,.08),colorFillQuaternary:ts(r,.04),colorBgSolid:ts(r,.95),colorBgSolidHover:ts(r,1),colorBgSolidActive:ts(r,.9),colorBgElevated:Jl(n,12),colorBgContainer:Jl(n,8),colorBgLayout:Jl(n,0),colorBgSpotlight:Jl(n,26),colorBgBlur:ts(r,.04),colorBorder:Jl(n,26),colorBorderSecondary:Jl(n,19)}},NL=(e,t)=>{const n=Object.keys(V2).map(l=>{const h=vy(e[l],{theme:"dark"});return Array.from({length:10},()=>1).reduce((c,g,v)=>(c[`${l}-${v+1}`]=h[v],c[`${l}${v+1}`]=h[v],c),{})}).reduce((l,h)=>(l=Object.assign(Object.assign({},l),h),l),{}),r=t??cp(e),i=W2(e,{generateColorPalettes:kL,generateNeutralColorPalettes:LL});return Object.assign(Object.assign(Object.assign(Object.assign({},r),n),i),{colorPrimaryBg:i.colorPrimaryBorder,colorPrimaryBgHover:i.colorPrimaryBorderHover})};function ML(){const[e,t,n]=Su();return{theme:e,token:t,hashId:n}}const b1={defaultSeed:vg.token,useToken:ML,defaultAlgorithm:cp,darkAlgorithm:NL,compactAlgorithm:EL,getDesignToken:CL,defaultConfig:vg,_internalContext:K2};var PL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},IL=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:PL}))},OL=b.forwardRef(IL),AL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},TL=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:AL}))},RL=b.forwardRef(TL);const BL=(e,t,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:l}=r;return{marginBottom:i,color:n,fontWeight:l,fontSize:e,lineHeight:t}},DL=e=>{const t=[1,2,3,4,5],n={};return t.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=BL(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),n},$L=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},up(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},FL=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Z2[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),jL=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),insetBlockStart:e.calc(r).div(-2).add(1).equal(),marginBottom:e.calc(r).div(2).sub(2).equal()},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},zL=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),HL=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),qL=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},DL(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),FL(e)),$L(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},up(e)),{marginInlineStart:e.marginXXS})}),jL(e)),zL(e)),HL()),{"&-rtl":{direction:"rtl"}})}},UL=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),x1=zi("Typography",qL,UL),GL=e=>{const{prefixCls:t,"aria-label":n,className:r,style:i,direction:l,maxLength:h,autoSize:c=!0,value:g,onSave:v,onCancel:y,onEnd:w,component:k,enterIcon:x=b.createElement(RL,null)}=e,N=b.useRef(null),T=b.useRef(!1),I=b.useRef(null),[O,D]=b.useState(g);b.useEffect(()=>{D(g)},[g]),b.useEffect(()=>{var U;if(!((U=N.current)===null||U===void 0)&&U.resizableTextArea){const{textArea:Q}=N.current.resizableTextArea;Q.focus();const{length:ae}=Q.value;Q.setSelectionRange(ae,ae)}},[]);const R=({target:U})=>{D(U.value.replace(/[\n\r]/g,""))},$=()=>{T.current=!0},G=()=>{T.current=!1},ee=({keyCode:U})=>{T.current||(I.current=U)},te=()=>{v(O.trim())},J=({keyCode:U,ctrlKey:Q,altKey:ae,metaKey:ue,shiftKey:le})=>{I.current!==U||T.current||Q||ae||ue||le||(U===_r.ENTER?(te(),w?.()):U===_r.ESC&&y())},H=()=>{te()},[oe,q,Z]=x1(t),X=bt(t,`${t}-edit-content`,{[`${t}-rtl`]:l==="rtl",[`${t}-${k}`]:!!k},r,q,Z);return oe(b.createElement("div",{className:X,style:i},b.createElement(X2,{ref:N,maxLength:h,value:O,onChange:R,onKeyDown:ee,onKeyUp:J,onCompositionStart:$,onCompositionEnd:G,onBlur:H,"aria-label":n,rows:1,autoSize:c}),x!==null?Ls(x,{className:`${t}-edit-content-confirm`}):null))};var Pd,zm;function VL(){return zm||(zm=1,Pd=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}}),Pd}var Id,Hm;function WL(){if(Hm)return Id;Hm=1;var e=VL(),t={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function r(l){var h=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return l.replace(/#{\s*key\s*}/g,h)}function i(l,h){var c,g,v,y,w,k,x=!1;h||(h={}),c=h.debug||!1;try{v=e(),y=document.createRange(),w=document.getSelection(),k=document.createElement("span"),k.textContent=l,k.ariaHidden="true",k.style.all="unset",k.style.position="fixed",k.style.top=0,k.style.clip="rect(0, 0, 0, 0)",k.style.whiteSpace="pre",k.style.webkitUserSelect="text",k.style.MozUserSelect="text",k.style.msUserSelect="text",k.style.userSelect="text",k.addEventListener("copy",function(T){if(T.stopPropagation(),h.format)if(T.preventDefault(),typeof T.clipboardData>"u"){c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var I=t[h.format]||t.default;window.clipboardData.setData(I,l)}else T.clipboardData.clearData(),T.clipboardData.setData(h.format,l);h.onCopy&&(T.preventDefault(),h.onCopy(T.clipboardData))}),document.body.appendChild(k),y.selectNodeContents(k),w.addRange(y);var N=document.execCommand("copy");if(!N)throw new Error("copy command was unsuccessful");x=!0}catch(T){c&&console.error("unable to copy using execCommand: ",T),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(h.format||"text",l),h.onCopy&&h.onCopy(window.clipboardData),x=!0}catch(I){c&&console.error("unable to copy using clipboardData: ",I),c&&console.error("falling back to prompt"),g=r("message"in h?h.message:n),window.prompt(g,l)}}finally{w&&(typeof w.removeRange=="function"?w.removeRange(y):w.removeAllRanges()),k&&document.body.removeChild(k),v()}return x}return Id=i,Id}var KL=WL();const ZL=tp(KL);var XL=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function c(y){try{v(r.next(y))}catch(w){h(w)}}function g(y){try{v(r.throw(y))}catch(w){h(w)}}function v(y){y.done?l(y.value):i(y.value).then(c,g)}v((r=r.apply(e,t||[])).next())})};const YL=({copyConfig:e,children:t})=>{const[n,r]=b.useState(!1),[i,l]=b.useState(!1),h=b.useRef(null),c=()=>{h.current&&clearTimeout(h.current)},g={};e.format&&(g.format=e.format),b.useEffect(()=>c,[]);const v=Ja(y=>XL(void 0,void 0,void 0,function*(){var w;y?.preventDefault(),y?.stopPropagation(),l(!0);try{const k=typeof e.text=="function"?yield e.text():e.text;ZL(k||KS(t,!0).join("")||"",g),l(!1),r(!0),c(),h.current=setTimeout(()=>{r(!1)},3e3),(w=e.onCopy)===null||w===void 0||w.call(e,y)}catch(k){throw l(!1),k}}));return{copied:n,copyLoading:i,onClick:v}};function Od(e,t){return b.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&typeof e=="object"?e:null)]},[e])}const JL=e=>{const t=b.useRef(void 0);return b.useEffect(()=>{t.current=e}),t.current},QL=(e,t,n)=>b.useMemo(()=>e===!0?{title:t??n}:b.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??n},e):{title:e},[e,t,n]);var eN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const w1=b.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:l,setContentRef:h,children:c,direction:g,style:v}=e,y=eN(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:w,direction:k,className:x,style:N}=vs("typography"),T=g??k,I=h?Ps(t,h):t,O=w("typography",n),[D,R,$]=x1(O),G=bt(O,x,{[`${O}-rtl`]:T==="rtl"},i,l,R,$),ee=Object.assign(Object.assign({},N),v);return D(b.createElement(r,Object.assign({className:G,style:ee,ref:I},y),c))});var tN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},nN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:tN}))},rN=b.forwardRef(nN);function qm(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Ad(e,t,n){return e===!0||e===void 0?t:e||n&&t}function iN(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const Rp=e=>["string","number"].includes(typeof e),aN=({prefixCls:e,copied:t,locale:n,iconOnly:r,tooltips:i,icon:l,tabIndex:h,onCopy:c,loading:g})=>{const v=qm(i),y=qm(l),{copied:w,copy:k}=n??{},x=t?w:k,N=Ad(v[t?1:0],x),T=typeof N=="string"?N:x;return b.createElement(sa,{title:N},b.createElement("button",{type:"button",className:bt(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:r}),onClick:c,"aria-label":T,tabIndex:h},t?Ad(y[1],b.createElement(Jx,null),!0):Ad(y[0],g?b.createElement(Uh,null):b.createElement(rN,null),!0)))},Bc=b.forwardRef(({style:e,children:t},n)=>{const r=b.useRef(null);return b.useImperativeHandle(n,()=>({isExceed:()=>{const i=r.current;return i.scrollHeight>i.clientHeight},getHeight:()=>r.current.clientHeight})),b.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},e)},t)}),oN=e=>e.reduce((t,n)=>t+(Rp(n)?String(n).length:1),0);function Um(e,t){let n=0;const r=[];for(let i=0;i<e.length;i+=1){if(n===t)return r;const l=e[i],c=Rp(l)?String(l).length:1,g=n+c;if(g>t){const v=t-n;return r.push(String(l).slice(0,v)),r}r.push(l),n=g}return e}const Td=0,Rd=1,Bd=2,Dd=3,Gm=4,Dc={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function sN(e){const{enableMeasure:t,width:n,text:r,children:i,rows:l,expanded:h,miscDeps:c,onEllipsis:g}=e,v=b.useMemo(()=>Rl(r),[r]),y=b.useMemo(()=>oN(v),[r]),w=b.useMemo(()=>i(v,!1),[r]),[k,x]=b.useState(null),N=b.useRef(null),T=b.useRef(null),I=b.useRef(null),O=b.useRef(null),D=b.useRef(null),[R,$]=b.useState(!1),[G,ee]=b.useState(Td),[te,J]=b.useState(0),[H,oe]=b.useState(null);na(()=>{ee(t&&n&&y?Rd:Td)},[n,r,l,t,v]),na(()=>{var U,Q,ae,ue;if(G===Rd){ee(Bd);const le=T.current&&getComputedStyle(T.current).whiteSpace;oe(le)}else if(G===Bd){const le=!!(!((U=I.current)===null||U===void 0)&&U.isExceed());ee(le?Dd:Gm),x(le?[0,y]:null),$(le);const be=((Q=I.current)===null||Q===void 0?void 0:Q.getHeight())||0,ke=l===1?0:((ae=O.current)===null||ae===void 0?void 0:ae.getHeight())||0,Te=((ue=D.current)===null||ue===void 0?void 0:ue.getHeight())||0,ne=Math.max(be,ke+Te);J(ne+1),g(le)}},[G]);const q=k?Math.ceil((k[0]+k[1])/2):0;na(()=>{var U;const[Q,ae]=k||[0,0];if(Q!==ae){const le=(((U=N.current)===null||U===void 0?void 0:U.getHeight())||0)>te;let be=q;ae-Q===1&&(be=le?Q:ae),x(le?[Q,be]:[be,ae])}},[k,q]);const Z=b.useMemo(()=>{if(!t)return i(v,!1);if(G!==Dd||!k||k[0]!==k[1]){const U=i(v,!1);return[Gm,Td].includes(G)?U:b.createElement("span",{style:Object.assign(Object.assign({},Dc),{WebkitLineClamp:l})},U)}return i(h?v:Um(v,k[0]),R)},[h,G,k,v].concat(En(c))),X={width:n,margin:0,padding:0,whiteSpace:H==="nowrap"?"normal":"inherit"};return b.createElement(b.Fragment,null,Z,G===Bd&&b.createElement(b.Fragment,null,b.createElement(Bc,{style:Object.assign(Object.assign(Object.assign({},X),Dc),{WebkitLineClamp:l}),ref:I},w),b.createElement(Bc,{style:Object.assign(Object.assign(Object.assign({},X),Dc),{WebkitLineClamp:l-1}),ref:O},w),b.createElement(Bc,{style:Object.assign(Object.assign(Object.assign({},X),Dc),{WebkitLineClamp:1}),ref:D},i([],!0))),G===Dd&&k&&k[0]!==k[1]&&b.createElement(Bc,{style:Object.assign(Object.assign({},X),{top:400}),ref:N},i(Um(v,q),!0)),G===Rd&&b.createElement("span",{style:{whiteSpace:"inherit"},ref:T}))}const lN=({enableEllipsis:e,isEllipsis:t,children:n,tooltipProps:r})=>!r?.title||!e?n:b.createElement(sa,Object.assign({open:t?void 0:!1},r),n);var uN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function cN({mark:e,code:t,underline:n,delete:r,strong:i,keyboard:l,italic:h},c){let g=c;function v(y,w){w&&(g=b.createElement(y,{},g))}return v("strong",i),v("u",n),v("del",r),v("code",t),v("mark",e),v("kbd",l),v("i",h),g}const hN="...",Vm=["delete","mark","code","underline","strong","keyboard","italic"],ed=b.forwardRef((e,t)=>{var n;const{prefixCls:r,className:i,style:l,type:h,disabled:c,children:g,ellipsis:v,editable:y,copyable:w,component:k,title:x}=e,N=uN(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:T,direction:I}=b.useContext(Jr),[O]=Tl("Text"),D=b.useRef(null),R=b.useRef(null),$=T("typography",r),G=Xo(N,Vm),[ee,te]=Od(y),[J,H]=ps(!1,{value:te.editing}),{triggerType:oe=["icon"]}=te,q=zt=>{var jt;zt&&((jt=te.onStart)===null||jt===void 0||jt.call(te)),H(zt)},Z=JL(J);na(()=>{var zt;!J&&Z&&((zt=R.current)===null||zt===void 0||zt.focus())},[J]);const X=zt=>{zt?.preventDefault(),q(!0)},U=zt=>{var jt;(jt=te.onChange)===null||jt===void 0||jt.call(te,zt),q(!1)},Q=()=>{var zt;(zt=te.onCancel)===null||zt===void 0||zt.call(te),q(!1)},[ae,ue]=Od(w),{copied:le,copyLoading:be,onClick:ke}=YL({copyConfig:ue,children:g}),[Te,ne]=b.useState(!1),[ce,me]=b.useState(!1),[we,Le]=b.useState(!1),[Be,he]=b.useState(!1),[qe,We]=b.useState(!0),[Fe,de]=Od(v,{expandable:!1,symbol:zt=>zt?O?.collapse:O?.expand}),[it,ft]=ps(de.defaultExpanded||!1,{value:de.expanded}),fe=Fe&&(!it||de.expandable==="collapsible"),{rows:tt=1}=de,kt=b.useMemo(()=>fe&&(de.suffix!==void 0||de.onEllipsis||de.expandable||ee||ae),[fe,de,ee,ae]);na(()=>{Fe&&!kt&&(ne(_f("webkitLineClamp")),me(_f("textOverflow")))},[kt,Fe]);const[At,Ze]=b.useState(fe),Zt=b.useMemo(()=>kt?!1:tt===1?ce:Te,[kt,ce,Te]);na(()=>{Ze(Zt&&fe)},[Zt,fe]);const nt=fe&&(At?Be:we),mt=fe&&tt===1&&At,wt=fe&&tt>1&&At,Et=(zt,jt)=>{var ln;ft(jt.expanded),(ln=de.onExpand)===null||ln===void 0||ln.call(de,zt,jt)},[Xt,nn]=b.useState(0),dn=({offsetWidth:zt})=>{nn(zt)},Dt=zt=>{var jt;Le(zt),we!==zt&&((jt=de.onEllipsis)===null||jt===void 0||jt.call(de,zt))};b.useEffect(()=>{const zt=D.current;if(Fe&&At&&zt){const jt=iN(zt);Be!==jt&&he(jt)}},[Fe,At,g,wt,qe,Xt]),b.useEffect(()=>{const zt=D.current;if(typeof IntersectionObserver>"u"||!zt||!At||!fe)return;const jt=new IntersectionObserver(()=>{We(!!zt.offsetParent)});return jt.observe(zt),()=>{jt.disconnect()}},[At,fe]);const Jt=QL(de.tooltip,te.text,g),Ft=b.useMemo(()=>{if(!(!Fe||At))return[te.text,g,x,Jt.title].find(Rp)},[Fe,At,x,Jt.title,nt]);if(J)return b.createElement(GL,{value:(n=te.text)!==null&&n!==void 0?n:typeof g=="string"?g:"",onSave:U,onCancel:Q,onEnd:te.onEnd,prefixCls:$,className:i,style:l,direction:I,component:k,maxLength:te.maxLength,autoSize:te.autoSize,enterIcon:te.enterIcon});const ht=()=>{const{expandable:zt,symbol:jt}=de;return zt?b.createElement("button",{type:"button",key:"expand",className:`${$}-${it?"collapse":"expand"}`,onClick:ln=>Et(ln,{expanded:!it}),"aria-label":it?O.collapse:O?.expand},typeof jt=="function"?jt(it):jt):null},Mt=()=>{if(!ee)return;const{icon:zt,tooltip:jt,tabIndex:ln}=te,an=Rl(jt)[0]||O?.edit,hn=typeof an=="string"?an:"";return oe.includes("icon")?b.createElement(sa,{key:"edit",title:jt===!1?"":an},b.createElement("button",{type:"button",ref:R,className:`${$}-edit`,onClick:X,"aria-label":hn,tabIndex:ln},zt||b.createElement(OL,{role:"button"}))):null},tn=()=>ae?b.createElement(aN,Object.assign({key:"copy"},ue,{prefixCls:$,copied:le,locale:O,onCopy:ke,loading:be,iconOnly:g==null})):null,fn=zt=>[zt&&ht(),Mt(),tn()],Tt=zt=>[zt&&!it&&b.createElement("span",{"aria-hidden":!0,key:"ellipsis"},hN),de.suffix,fn(zt)];return b.createElement(Gh,{onResize:dn,disabled:!fe},zt=>b.createElement(lN,{tooltipProps:Jt,enableEllipsis:fe,isEllipsis:nt},b.createElement(w1,Object.assign({className:bt({[`${$}-${h}`]:h,[`${$}-disabled`]:c,[`${$}-ellipsis`]:Fe,[`${$}-ellipsis-single-line`]:mt,[`${$}-ellipsis-multiple-line`]:wt},i),prefixCls:r,style:Object.assign(Object.assign({},l),{WebkitLineClamp:wt?tt:void 0}),component:k,ref:Ps(zt,D,t),direction:I,onClick:oe.includes("text")?X:void 0,"aria-label":Ft?.toString(),title:x},G),b.createElement(sN,{enableMeasure:fe&&!At,text:g,rows:tt,width:Xt,onEllipsis:Dt,expanded:it,miscDeps:[le,it,be,ee,ae,O].concat(En(Vm.map(jt=>e[jt])))},(jt,ln)=>cN(e,b.createElement(b.Fragment,null,jt.length>0&&ln&&!it&&Ft?b.createElement("span",{key:"show-content","aria-hidden":!0},jt):jt,Tt(ln)))))))});var dN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const fN=b.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,i=dN(e,["ellipsis","rel"]);const l=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete l.navigate,b.createElement(ed,Object.assign({},l,{ref:t,ellipsis:!!n,component:"a"}))}),pN=b.forwardRef((e,t)=>b.createElement(ed,Object.assign({ref:t},e,{component:"div"})));var gN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const mN=(e,t)=>{var{ellipsis:n}=e,r=gN(e,["ellipsis"]);const i=b.useMemo(()=>n&&typeof n=="object"?Xo(n,["expandable","rows"]):n,[n]);return b.createElement(ed,Object.assign({ref:t},r,{ellipsis:i,component:"span"}))},vN=b.forwardRef(mN);var yN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _N=[1,2,3,4,5],bN=b.forwardRef((e,t)=>{const{level:n=1}=e,r=yN(e,["level"]),i=_N.includes(n)?`h${n}`:"h1";return b.createElement(ed,Object.assign({ref:t},r,{component:i}))}),Fl=w1;Fl.Text=vN;Fl.Link=fN;Fl.Title=bN;Fl.Paragraph=pN;var xN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},wN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:xN}))},CN=b.forwardRef(wN),SN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},EN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:SN}))},kN=b.forwardRef(EN),LN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},NN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:LN}))},MN=b.forwardRef(NN),PN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},IN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:PN}))},ON=b.forwardRef(IN);const C1=b.memo(({portalDetails:e})=>Ie.jsxs("div",{className:"top-location-card",children:[Ie.jsx("div",{className:"loc-icon",children:Ie.jsx("img",{src:e?.portal_logo_img_url,alt:"Location Logo",loading:"lazy"})}),Ie.jsxs("div",{className:"loc-text",children:[Ie.jsx("div",{className:"loc-title",children:e?.portal_nm}),Ie.jsx("div",{className:"loc-sub",children:e?.portal_desc})]})]}));C1.displayName="TopLocationCard";const{Option:Wm}=ks,AN=b.memo(({filters:e,setFilters:t})=>{const n=b.useCallback((R,$)=>{t(G=>({...G,[R]:$}))},[t]),{measureBy:r,areaSubdivision:i,excludePostal:l,ageRange:h,residentsOnly:c,gender:g,income:v}=e,y=b.useCallback(R=>n("measureBy",R),[n]),w=b.useCallback(R=>n("areaSubdivision",R),[n]),k=b.useCallback(R=>n("ageRange",R),[n]),x=b.useCallback(R=>n("residentsOnly",R.target.value==="residents"),[n]),N=b.useCallback(R=>n("gender",R),[n]),T=b.useCallback(R=>n("income",R),[n]),I=b.useCallback(R=>{n("excludePostal",l.filter($=>$!==R))},[l,n]),O=b.useMemo(()=>l.map(R=>Ie.jsx(_1,{closable:!0,onClose:()=>I(R),children:R},R)),[l,I]),D=b.useMemo(()=>["all","male","female"].map(R=>Ie.jsx(ii,{type:g===R?"primary":"default",onClick:()=>N(R),children:R.charAt(0).toUpperCase()+R.slice(1)},R)),[g,N]);return Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs("div",{className:"measure-row",children:[Ie.jsx("div",{className:"measure-label",children:"Measured at"}),Ie.jsxs(_a,{children:[Ie.jsx(ii,{size:"small",type:r==="visits"?"primary":"default",onClick:()=>y("visits"),children:"Visits"}),Ie.jsx(ii,{size:"small",type:r==="visitors"?"primary":"default",onClick:()=>y("visitors"),children:"Visitors"})]})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Area subdivisions"}),Ie.jsxs(ks,{value:i,onChange:w,style:{width:"100%"},children:[Ie.jsx(Wm,{value:"postal",children:"Postal codes"}),Ie.jsx(Wm,{value:"district",children:"Districts"})]})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Exclude postal codes"}),Ie.jsx(Wu,{prefix:Ie.jsx(Vh,{}),placeholder:"Postal code number"}),Ie.jsx("div",{className:"tag-row",children:O})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Age group"}),Ie.jsx(Zg,{range:!0,min:0,max:100,value:h,onChange:k})]}),Ie.jsxs("div",{className:"field small-row",children:[Ie.jsx("label",{children:"Consider POI visitors"}),Ie.jsxs(il.Group,{value:c?"residents":"all",onChange:x,children:[Ie.jsx(il,{value:"residents",children:"Residents"}),Ie.jsx(il,{value:"all",children:"All"})]}),Ie.jsx(sa,{title:"Inclusion of locals, guests, workers",children:Ie.jsx("span",{className:"info-dot",children:"i"})})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Gender"}),Ie.jsx(_a,{children:D})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Household income"}),Ie.jsx(Zg,{range:!0,min:0,max:1e4,value:v,onChange:T})]}),Ie.jsxs("div",{className:"controls-actions",children:[Ie.jsx(ii,{type:"primary",children:"Apply"}),Ie.jsx(ii,{children:"Clear"})]})]})});AN.displayName="FiltersPanel";const TN=Hv.injectEndpoints({endpoints:e=>({getLayers:e.mutation({query:t=>({url:"layers/list/",method:"POST",body:{portal_id:t}}),transformResponse:t=>t,invalidatesTags:["Layer"]}),getLayerObjects:e.mutation({query:({layerId:t,portalId:n})=>({url:"object/layer-object/",method:"POST",body:{layer_id:t,portal_id:n}}),transformResponse:t=>t,invalidatesTags:(t,n,r)=>[{type:"Layer",id:r}]})}),overrideExisting:!1}),{useGetLayersMutation:RN,useGetLayerObjectsMutation:BN}=TN;function DN(e,t){const n=b.useRef(t);b.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const $N=1;function FN(e){return Object.freeze({__version:$N,map:e})}function Bp(e,t){return Object.freeze({...e,...t})}const td=b.createContext(null);function mc(){const e=b.use(td);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function S1(e){function t(n,r){const{instance:i,context:l}=e(n).current;b.useImperativeHandle(r,()=>i);const{children:h}=n;return h==null?null:Ot.createElement(td,{value:l},h)}return b.forwardRef(t)}function E1(e){function t(n,r){const{instance:i}=e(n).current;return b.useImperativeHandle(r,()=>i),null}return b.forwardRef(t)}function k1(e){return function(n){const r=mc(),i=e(n,r),{instance:l}=i.current,h=b.useRef(n.position),{position:c}=n;return b.useEffect(function(){return l.addTo(r.map),function(){l.remove()}},[r.map,l]),b.useEffect(function(){c!=null&&c!==h.current&&(l.setPosition(c),h.current=c)},[l,c]),i}}function L1(e,t){const n=b.useRef(void 0);b.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Dp(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var qu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var jN=qu.exports,Km;function N1(){return Km||(Km=1,(function(e,t){(function(n,r){r(t)})(jN,(function(n){var r="1.9.4";function i(s){var m,M,z,ie;for(M=1,z=arguments.length;M<z;M++){ie=arguments[M];for(m in ie)s[m]=ie[m]}return s}var l=Object.create||(function(){function s(){}return function(m){return s.prototype=m,new s}})();function h(s,m){var M=Array.prototype.slice;if(s.bind)return s.bind.apply(s,M.call(arguments,1));var z=M.call(arguments,2);return function(){return s.apply(m,z.length?z.concat(M.call(arguments)):arguments)}}var c=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function v(s,m,M){var z,ie,Ce,Ye;return Ye=function(){z=!1,ie&&(Ce.apply(M,ie),ie=!1)},Ce=function(){z?ie=arguments:(s.apply(M,arguments),setTimeout(Ye,m),z=!0)},Ce}function y(s,m,M){var z=m[1],ie=m[0],Ce=z-ie;return s===z&&M?s:((s-ie)%Ce+Ce)%Ce+ie}function w(){return!1}function k(s,m){if(m===!1)return s;var M=Math.pow(10,m===void 0?6:m);return Math.round(s*M)/M}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function N(s){return x(s).split(/\s+/)}function T(s,m){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var M in m)s.options[M]=m[M];return s.options}function I(s,m,M){var z=[];for(var ie in s)z.push(encodeURIComponent(M?ie.toUpperCase():ie)+"="+encodeURIComponent(s[ie]));return(!m||m.indexOf("?")===-1?"?":"&")+z.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function D(s,m){return s.replace(O,function(M,z){var ie=m[z];if(ie===void 0)throw new Error("No value provided for variable "+M);return typeof ie=="function"&&(ie=ie(m)),ie})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function $(s,m){for(var M=0;M<s.length;M++)if(s[M]===m)return M;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ee(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var te=0;function J(s){var m=+new Date,M=Math.max(0,16-(m-te));return te=m+M,window.setTimeout(s,M)}var H=window.requestAnimationFrame||ee("RequestAnimationFrame")||J,oe=window.cancelAnimationFrame||ee("CancelAnimationFrame")||ee("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function q(s,m,M){if(M&&H===J)s.call(m);else return H.call(window,h(s,m))}function Z(s){s&&oe.call(window,s)}var X={__proto__:null,extend:i,create:l,bind:h,get lastId(){return c},stamp:g,throttle:v,wrapNum:y,falseFn:w,formatNum:k,trim:x,splitWords:N,setOptions:T,getParamString:I,template:D,isArray:R,indexOf:$,emptyImageUrl:G,requestFn:H,cancelFn:oe,requestAnimFrame:q,cancelAnimFrame:Z};function U(){}U.extend=function(s){var m=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},M=m.__super__=this.prototype,z=l(M);z.constructor=m,m.prototype=z;for(var ie in this)Object.prototype.hasOwnProperty.call(this,ie)&&ie!=="prototype"&&ie!=="__super__"&&(m[ie]=this[ie]);return s.statics&&i(m,s.statics),s.includes&&(Q(s.includes),i.apply(null,[z].concat(s.includes))),i(z,s),delete z.statics,delete z.includes,z.options&&(z.options=M.options?l(M.options):{},i(z.options,s.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){M.callInitHooks&&M.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ce=0,Ye=z._initHooks.length;Ce<Ye;Ce++)z._initHooks[Ce].call(this)}},m},U.include=function(s){var m=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=m,this.mergeOptions(s.options)),this},U.mergeOptions=function(s){return i(this.prototype.options,s),this},U.addInitHook=function(s){var m=Array.prototype.slice.call(arguments,1),M=typeof s=="function"?s:function(){this[s].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(M),this};function Q(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var m=0;m<s.length;m++)s[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(s,m,M){if(typeof s=="object")for(var z in s)this._on(z,s[z],m);else{s=N(s);for(var ie=0,Ce=s.length;ie<Ce;ie++)this._on(s[ie],m,M)}return this},off:function(s,m,M){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var z in s)this._off(z,s[z],m);else{s=N(s);for(var ie=arguments.length===1,Ce=0,Ye=s.length;Ce<Ye;Ce++)ie?this._off(s[Ce]):this._off(s[Ce],m,M)}return this},_on:function(s,m,M,z){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(s,m,M)===!1){M===this&&(M=void 0);var ie={fn:m,ctx:M};z&&(ie.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(ie)}},_off:function(s,m,M){var z,ie,Ce;if(this._events&&(z=this._events[s],!!z)){if(arguments.length===1){if(this._firingCount)for(ie=0,Ce=z.length;ie<Ce;ie++)z[ie].fn=w;delete this._events[s];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Ye=this._listens(s,m,M);if(Ye!==!1){var xt=z[Ye];this._firingCount&&(xt.fn=w,this._events[s]=z=z.slice()),z.splice(Ye,1)}}},fire:function(s,m,M){if(!this.listens(s,M))return this;var z=i({},m,{type:s,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var ie=this._events[s];if(ie){this._firingCount=this._firingCount+1||1;for(var Ce=0,Ye=ie.length;Ce<Ye;Ce++){var xt=ie[Ce],It=xt.fn;xt.once&&this.off(s,It,xt.ctx),It.call(xt.ctx||this,z)}this._firingCount--}}return M&&this._propagateEvent(z),this},listens:function(s,m,M,z){typeof s!="string"&&console.warn('"string" type argument expected');var ie=m;typeof m!="function"&&(z=!!m,ie=void 0,M=void 0);var Ce=this._events&&this._events[s];if(Ce&&Ce.length&&this._listens(s,ie,M)!==!1)return!0;if(z){for(var Ye in this._eventParents)if(this._eventParents[Ye].listens(s,m,M,z))return!0}return!1},_listens:function(s,m,M){if(!this._events)return!1;var z=this._events[s]||[];if(!m)return!!z.length;M===this&&(M=void 0);for(var ie=0,Ce=z.length;ie<Ce;ie++)if(z[ie].fn===m&&z[ie].ctx===M)return ie;return!1},once:function(s,m,M){if(typeof s=="object")for(var z in s)this._on(z,s[z],m,!0);else{s=N(s);for(var ie=0,Ce=s.length;ie<Ce;ie++)this._on(s[ie],m,M,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var m in this._eventParents)this._eventParents[m].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var ue=U.extend(ae);function le(s,m,M){this.x=M?Math.round(s):s,this.y=M?Math.round(m):m}var be=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(s){return this.clone()._add(ke(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ke(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new le(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new le(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=be(this.x),this.y=be(this.y),this},distanceTo:function(s){s=ke(s);var m=s.x-this.x,M=s.y-this.y;return Math.sqrt(m*m+M*M)},equals:function(s){return s=ke(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ke(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function ke(s,m,M){return s instanceof le?s:R(s)?new le(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new le(s.x,s.y):new le(s,m,M)}function Te(s,m){if(s)for(var M=m?[s,m]:s,z=0,ie=M.length;z<ie;z++)this.extend(M[z])}Te.prototype={extend:function(s){var m,M;if(!s)return this;if(s instanceof le||typeof s[0]=="number"||"x"in s)m=M=ke(s);else if(s=ne(s),m=s.min,M=s.max,!m||!M)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=M.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(M.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(M.y,this.max.y)),this},getCenter:function(s){return ke((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ke(this.min.x,this.max.y)},getTopRight:function(){return ke(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var m,M;return typeof s[0]=="number"||s instanceof le?s=ke(s):s=ne(s),s instanceof Te?(m=s.min,M=s.max):m=M=s,m.x>=this.min.x&&M.x<=this.max.x&&m.y>=this.min.y&&M.y<=this.max.y},intersects:function(s){s=ne(s);var m=this.min,M=this.max,z=s.min,ie=s.max,Ce=ie.x>=m.x&&z.x<=M.x,Ye=ie.y>=m.y&&z.y<=M.y;return Ce&&Ye},overlaps:function(s){s=ne(s);var m=this.min,M=this.max,z=s.min,ie=s.max,Ce=ie.x>m.x&&z.x<M.x,Ye=ie.y>m.y&&z.y<M.y;return Ce&&Ye},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var m=this.min,M=this.max,z=Math.abs(m.x-M.x)*s,ie=Math.abs(m.y-M.y)*s;return ne(ke(m.x-z,m.y-ie),ke(M.x+z,M.y+ie))},equals:function(s){return s?(s=ne(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ne(s,m){return!s||s instanceof Te?s:new Te(s,m)}function ce(s,m){if(s)for(var M=m?[s,m]:s,z=0,ie=M.length;z<ie;z++)this.extend(M[z])}ce.prototype={extend:function(s){var m=this._southWest,M=this._northEast,z,ie;if(s instanceof we)z=s,ie=s;else if(s instanceof ce){if(z=s._southWest,ie=s._northEast,!z||!ie)return this}else return s?this.extend(Le(s)||me(s)):this;return!m&&!M?(this._southWest=new we(z.lat,z.lng),this._northEast=new we(ie.lat,ie.lng)):(m.lat=Math.min(z.lat,m.lat),m.lng=Math.min(z.lng,m.lng),M.lat=Math.max(ie.lat,M.lat),M.lng=Math.max(ie.lng,M.lng)),this},pad:function(s){var m=this._southWest,M=this._northEast,z=Math.abs(m.lat-M.lat)*s,ie=Math.abs(m.lng-M.lng)*s;return new ce(new we(m.lat-z,m.lng-ie),new we(M.lat+z,M.lng+ie))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof we||"lat"in s?s=Le(s):s=me(s);var m=this._southWest,M=this._northEast,z,ie;return s instanceof ce?(z=s.getSouthWest(),ie=s.getNorthEast()):z=ie=s,z.lat>=m.lat&&ie.lat<=M.lat&&z.lng>=m.lng&&ie.lng<=M.lng},intersects:function(s){s=me(s);var m=this._southWest,M=this._northEast,z=s.getSouthWest(),ie=s.getNorthEast(),Ce=ie.lat>=m.lat&&z.lat<=M.lat,Ye=ie.lng>=m.lng&&z.lng<=M.lng;return Ce&&Ye},overlaps:function(s){s=me(s);var m=this._southWest,M=this._northEast,z=s.getSouthWest(),ie=s.getNorthEast(),Ce=ie.lat>m.lat&&z.lat<M.lat,Ye=ie.lng>m.lng&&z.lng<M.lng;return Ce&&Ye},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,m){return s?(s=me(s),this._southWest.equals(s.getSouthWest(),m)&&this._northEast.equals(s.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(s,m){return s instanceof ce?s:new ce(s,m)}function we(s,m,M){if(isNaN(s)||isNaN(m))throw new Error("Invalid LatLng object: ("+s+", "+m+")");this.lat=+s,this.lng=+m,M!==void 0&&(this.alt=+M)}we.prototype={equals:function(s,m){if(!s)return!1;s=Le(s);var M=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return M<=(m===void 0?1e-9:m)},toString:function(s){return"LatLng("+k(this.lat,s)+", "+k(this.lng,s)+")"},distanceTo:function(s){return he.distance(this,Le(s))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(s){var m=180*s/40075017,M=m/Math.cos(Math.PI/180*this.lat);return me([this.lat-m,this.lng-M],[this.lat+m,this.lng+M])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function Le(s,m,M){return s instanceof we?s:R(s)&&typeof s[0]!="object"?s.length===3?new we(s[0],s[1],s[2]):s.length===2?new we(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new we(s.lat,"lng"in s?s.lng:s.lon,s.alt):m===void 0?null:new we(s,m,M)}var Be={latLngToPoint:function(s,m){var M=this.projection.project(s),z=this.scale(m);return this.transformation._transform(M,z)},pointToLatLng:function(s,m){var M=this.scale(m),z=this.transformation.untransform(s,M);return this.projection.unproject(z)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var m=this.projection.bounds,M=this.scale(s),z=this.transformation.transform(m.min,M),ie=this.transformation.transform(m.max,M);return new Te(z,ie)},infinite:!1,wrapLatLng:function(s){var m=this.wrapLng?y(s.lng,this.wrapLng,!0):s.lng,M=this.wrapLat?y(s.lat,this.wrapLat,!0):s.lat,z=s.alt;return new we(M,m,z)},wrapLatLngBounds:function(s){var m=s.getCenter(),M=this.wrapLatLng(m),z=m.lat-M.lat,ie=m.lng-M.lng;if(z===0&&ie===0)return s;var Ce=s.getSouthWest(),Ye=s.getNorthEast(),xt=new we(Ce.lat-z,Ce.lng-ie),It=new we(Ye.lat-z,Ye.lng-ie);return new ce(xt,It)}},he=i({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(s,m){var M=Math.PI/180,z=s.lat*M,ie=m.lat*M,Ce=Math.sin((m.lat-s.lat)*M/2),Ye=Math.sin((m.lng-s.lng)*M/2),xt=Ce*Ce+Math.cos(z)*Math.cos(ie)*Ye*Ye,It=2*Math.atan2(Math.sqrt(xt),Math.sqrt(1-xt));return this.R*It}}),qe=6378137,We={R:qe,MAX_LATITUDE:85.0511287798,project:function(s){var m=Math.PI/180,M=this.MAX_LATITUDE,z=Math.max(Math.min(M,s.lat),-M),ie=Math.sin(z*m);return new le(this.R*s.lng*m,this.R*Math.log((1+ie)/(1-ie))/2)},unproject:function(s){var m=180/Math.PI;return new we((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*m,s.x*m/this.R)},bounds:(function(){var s=qe*Math.PI;return new Te([-s,-s],[s,s])})()};function Fe(s,m,M,z){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=m,this._c=M,this._d=z}Fe.prototype={transform:function(s,m){return this._transform(s.clone(),m)},_transform:function(s,m){return m=m||1,s.x=m*(this._a*s.x+this._b),s.y=m*(this._c*s.y+this._d),s},untransform:function(s,m){return m=m||1,new le((s.x/m-this._b)/this._a,(s.y/m-this._d)/this._c)}};function de(s,m,M,z){return new Fe(s,m,M,z)}var it=i({},he,{code:"EPSG:3857",projection:We,transformation:(function(){var s=.5/(Math.PI*We.R);return de(s,.5,-s,.5)})()}),ft=i({},it,{code:"EPSG:900913"});function fe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function tt(s,m){var M="",z,ie,Ce,Ye,xt,It;for(z=0,Ce=s.length;z<Ce;z++){for(xt=s[z],ie=0,Ye=xt.length;ie<Ye;ie++)It=xt[ie],M+=(ie?"L":"M")+It.x+" "+It.y;M+=m?cn.svg?"z":"x":""}return M||"M0 0"}var kt=document.documentElement.style,At="ActiveXObject"in window,Ze=At&&!document.addEventListener,Zt="msLaunchUri"in navigator&&!("documentMode"in document),nt=zn("webkit"),mt=zn("android"),wt=zn("android 2")||zn("android 3"),Et=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xt=mt&&zn("Google")&&Et<537&&!("AudioNode"in window),nn=!!window.opera,dn=!Zt&&zn("chrome"),Dt=zn("gecko")&&!nt&&!nn&&!At,Jt=!dn&&zn("safari"),Ft=zn("phantom"),ht="OTransition"in kt,Mt=navigator.platform.indexOf("Win")===0,tn=At&&"transition"in kt,fn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!wt,Tt="MozPerspective"in kt,zt=!window.L_DISABLE_3D&&(tn||fn||Tt)&&!ht&&!Ft,jt=typeof orientation<"u"||zn("mobile"),ln=jt&&nt,an=jt&&fn,hn=!window.PointerEvent&&window.MSPointerEvent,Bn=!!(window.PointerEvent||hn),Rt="ontouchstart"in window||!!window.TouchEvent,Gt=!window.L_NO_TOUCH&&(Rt||Bn),gn=jt&&nn,An=jt&&Dt,Dn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kt=(function(){var s=!1;try{var m=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,m),window.removeEventListener("testPassiveEventSupport",w,m)}catch{}return s})(),dr=(function(){return!!document.createElement("canvas").getContext})(),mn=!!(document.createElementNS&&fe("svg").createSVGRect),br=!!mn&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Un=!mn&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var m=s.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),ur=navigator.platform.indexOf("Mac")===0,Tr=navigator.platform.indexOf("Linux")===0;function zn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var cn={ie:At,ielt9:Ze,edge:Zt,webkit:nt,android:mt,android23:wt,androidStock:Xt,opera:nn,chrome:dn,gecko:Dt,safari:Jt,phantom:Ft,opera12:ht,win:Mt,ie3d:tn,webkit3d:fn,gecko3d:Tt,any3d:zt,mobile:jt,mobileWebkit:ln,mobileWebkit3d:an,msPointer:hn,pointer:Bn,touch:Gt,touchNative:Rt,mobileOpera:gn,mobileGecko:An,retina:Dn,passiveEvents:Kt,canvas:dr,svg:mn,vml:Un,inlineSvg:br,mac:ur,linux:Tr},Pr=cn.msPointer?"MSPointerDown":"pointerdown",Ri=cn.msPointer?"MSPointerMove":"pointermove",Nn=cn.msPointer?"MSPointerUp":"pointerup",Gn=cn.msPointer?"MSPointerCancel":"pointercancel",wn={touchstart:Pr,touchmove:Ri,touchend:Nn,touchcancel:Gn},nr={touchstart:xn,touchmove:Jn,touchend:Jn,touchcancel:Jn},sr={},fr=!1;function wr(s,m,M){return m==="touchstart"&&Hi(),nr[m]?(M=nr[m].bind(this,M),s.addEventListener(wn[m],M,!1),M):(console.warn("wrong event specified:",m),w)}function Nr(s,m,M){if(!wn[m]){console.warn("wrong event specified:",m);return}s.removeEventListener(wn[m],M,!1)}function Si(s){sr[s.pointerId]=s}function yi(s){sr[s.pointerId]&&(sr[s.pointerId]=s)}function mr(s){delete sr[s.pointerId]}function Hi(){fr||(document.addEventListener(Pr,Si,!0),document.addEventListener(Ri,yi,!0),document.addEventListener(Nn,mr,!0),document.addEventListener(Gn,mr,!0),fr=!0)}function Jn(s,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var M in sr)m.touches.push(sr[M]);m.changedTouches=[m],s(m)}}function xn(s,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Kr(m),Jn(s,m)}function rr(s){var m={},M,z;for(z in s)M=s[z],m[z]=M&&M.bind?M.bind(s):M;return s=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var pr=200;function gr(s,m){s.addEventListener("dblclick",m);var M=0,z;function ie(Ce){if(Ce.detail!==1){z=Ce.detail;return}if(!(Ce.pointerType==="mouse"||Ce.sourceCapabilities&&!Ce.sourceCapabilities.firesTouchEvents)){var Ye=si(Ce);if(!(Ye.some(function(It){return It instanceof HTMLLabelElement&&It.attributes.for})&&!Ye.some(function(It){return It instanceof HTMLInputElement||It instanceof HTMLSelectElement}))){var xt=Date.now();xt-M<=pr?(z++,z===2&&m(rr(Ce))):z=1,M=xt}}}return s.addEventListener("click",ie),{dblclick:m,simDblclick:ie}}function _i(s,m){s.removeEventListener("dblclick",m.dblclick),s.removeEventListener("click",m.simDblclick)}var Sn=yo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kn=yo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xn=kn==="webkitTransition"||kn==="OTransition"?kn+"End":"transitionend";function Gr(s){return typeof s=="string"?document.getElementById(s):s}function $r(s,m){var M=s.style[m]||s.currentStyle&&s.currentStyle[m];if((!M||M==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(s,null);M=z?z[m]:null}return M==="auto"?null:M}function Fn(s,m,M){var z=document.createElement(s);return z.className=m||"",M&&M.appendChild(z),z}function xr(s){var m=s.parentNode;m&&m.removeChild(s)}function xa(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Vr(s){var m=s.parentNode;m&&m.lastChild!==s&&m.appendChild(s)}function la(s){var m=s.parentNode;m&&m.firstChild!==s&&m.insertBefore(s,m.firstChild)}function qi(s,m){if(s.classList!==void 0)return s.classList.contains(m);var M=Qr(s);return M.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(M)}function jn(s,m){if(s.classList!==void 0)for(var M=N(m),z=0,ie=M.length;z<ie;z++)s.classList.add(M[z]);else if(!qi(s,m)){var Ce=Qr(s);ai(s,(Ce?Ce+" ":"")+m)}}function Cr(s,m){s.classList!==void 0?s.classList.remove(m):ai(s,x((" "+Qr(s)+" ").replace(" "+m+" "," ")))}function ai(s,m){s.className.baseVal===void 0?s.className=m:s.className.baseVal=m}function Qr(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Hr(s,m){"opacity"in s.style?s.style.opacity=m:"filter"in s.style&&vo(s,m)}function vo(s,m){var M=!1,z="DXImageTransform.Microsoft.Alpha";try{M=s.filters.item(z)}catch{if(m===1)return}m=Math.round(m*100),M?(M.Enabled=m!==100,M.Opacity=m):s.style.filter+=" progid:"+z+"(opacity="+m+")"}function yo(s){for(var m=document.documentElement.style,M=0;M<s.length;M++)if(s[M]in m)return s[M];return!1}function Fa(s,m,M){var z=m||new le(0,0);s.style[Sn]=(cn.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(M?" scale("+M+")":"")}function Or(s,m){s._leaflet_pos=m,cn.any3d?Fa(s,m):(s.style.left=m.x+"px",s.style.top=m.y+"px")}function Wi(s){return s._leaflet_pos||new le(0,0)}var Ki,Zi,wa;if("onselectstart"in document)Ki=function(){sn(window,"selectstart",Kr)},Zi=function(){Fr(window,"selectstart",Kr)};else{var ja=yo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ki=function(){if(ja){var s=document.documentElement.style;wa=s[ja],s[ja]="none"}},Zi=function(){ja&&(document.documentElement.style[ja]=wa,wa=void 0)}}function Qn(){sn(window,"dragstart",Kr)}function er(){Fr(window,"dragstart",Kr)}var Wn,oi;function Rr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Xi(),Wn=s,oi=s.style.outlineStyle,s.style.outlineStyle="none",sn(window,"keydown",Xi))}function Xi(){Wn&&(Wn.style.outlineStyle=oi,Wn=void 0,oi=void 0,Fr(window,"keydown",Xi))}function Wr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function ei(s){var m=s.getBoundingClientRect();return{x:m.width/s.offsetWidth||1,y:m.height/s.offsetHeight||1,boundingClientRect:m}}var Ca={__proto__:null,TRANSFORM:Sn,TRANSITION:kn,TRANSITION_END:Xn,get:Gr,getStyle:$r,create:Fn,remove:xr,empty:xa,toFront:Vr,toBack:la,hasClass:qi,addClass:jn,removeClass:Cr,setClass:ai,getClass:Qr,setOpacity:Hr,testProp:yo,setTransform:Fa,setPosition:Or,getPosition:Wi,get disableTextSelection(){return Ki},get enableTextSelection(){return Zi},disableImageDrag:Qn,enableImageDrag:er,preventOutline:Rr,restoreOutline:Xi,getSizedParentNode:Wr,getScale:ei};function sn(s,m,M,z){if(m&&typeof m=="object")for(var ie in m)Ea(s,ie,m[ie],M);else{m=N(m);for(var Ce=0,Ye=m.length;Ce<Ye;Ce++)Ea(s,m[Ce],M,z)}return this}var Sa="_leaflet_events";function Fr(s,m,M,z){if(arguments.length===1)Ro(s),delete s[Sa];else if(m&&typeof m=="object")for(var ie in m)cr(s,ie,m[ie],M);else if(m=N(m),arguments.length===2)Ro(s,function(xt){return $(m,xt)!==-1});else for(var Ce=0,Ye=m.length;Ce<Ye;Ce++)cr(s,m[Ce],M,z);return this}function Ro(s,m){for(var M in s[Sa]){var z=M.split(/\d/)[0];(!m||m(z))&&cr(s,z,null,null,M)}}var za={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ea(s,m,M,z){var ie=m+g(M)+(z?"_"+g(z):"");if(s[Sa]&&s[Sa][ie])return this;var Ce=function(xt){return M.call(z||s,xt||window.event)},Ye=Ce;!cn.touchNative&&cn.pointer&&m.indexOf("touch")===0?Ce=wr(s,m,Ce):cn.touch&&m==="dblclick"?Ce=gr(s,Ce):"addEventListener"in s?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?s.addEventListener(za[m]||m,Ce,cn.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(Ce=function(xt){xt=xt||window.event,$o(s,xt)&&Ye(xt)},s.addEventListener(za[m],Ce,!1)):s.addEventListener(m,Ye,!1):s.attachEvent("on"+m,Ce),s[Sa]=s[Sa]||{},s[Sa][ie]=Ce}function cr(s,m,M,z,ie){ie=ie||m+g(M)+(z?"_"+g(z):"");var Ce=s[Sa]&&s[Sa][ie];if(!Ce)return this;!cn.touchNative&&cn.pointer&&m.indexOf("touch")===0?Nr(s,m,Ce):cn.touch&&m==="dblclick"?_i(s,Ce):"removeEventListener"in s?s.removeEventListener(za[m]||m,Ce,!1):s.detachEvent("on"+m,Ce),s[Sa][ie]=null}function Ii(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Qa(s){return Ea(s,"wheel",Ii),this}function eo(s){return sn(s,"mousedown touchstart dblclick contextmenu",Ii),s._leaflet_disable_click=!0,this}function Kr(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function to(s){return Kr(s),Ii(s),this}function si(s){if(s.composedPath)return s.composedPath();for(var m=[],M=s.target;M;)m.push(M),M=M.parentNode;return m}function os(s,m){if(!m)return new le(s.clientX,s.clientY);var M=ei(m),z=M.boundingClientRect;return new le((s.clientX-z.left)/M.x-m.clientLeft,(s.clientY-z.top)/M.y-m.clientTop)}var Bo=cn.linux&&cn.chrome?window.devicePixelRatio:cn.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Do(s){return cn.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Bo:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function $o(s,m){var M=m.relatedTarget;if(!M)return!0;try{for(;M&&M!==s;)M=M.parentNode}catch{return!1}return M!==s}var ka={__proto__:null,on:sn,off:Fr,stopPropagation:Ii,disableScrollPropagation:Qa,disableClickPropagation:eo,preventDefault:Kr,stop:to,getPropagationPath:si,getMousePosition:os,getWheelDelta:Do,isExternalTarget:$o,addListener:sn,removeListener:Fr},Fo=ue.extend({run:function(s,m,M,z){this.stop(),this._el=s,this._inProgress=!0,this._duration=M||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=Wi(s),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(s){var m=+new Date-this._startTime,M=this._duration*1e3;m<M?this._runFrame(this._easeOut(m/M),s):(this._runFrame(1),this._complete())},_runFrame:function(s,m){var M=this._startPos.add(this._offset.multiplyBy(s));m&&M._round(),Or(this._el,M),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Yn=ue.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,m){m=T(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(Le(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kn&&cn.any3d&&!cn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),sn(this._proxy,Xn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,m,M){if(m=m===void 0?this._zoom:this._limitZoom(m),s=this._limitCenter(Le(s),m,this.options.maxBounds),M=M||{},this._stop(),this._loaded&&!M.reset&&M!==!0){M.animate!==void 0&&(M.zoom=i({animate:M.animate},M.zoom),M.pan=i({animate:M.animate,duration:M.duration},M.pan));var z=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,m,M.zoom):this._tryAnimatedPan(s,M.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(s,m,M.pan&&M.pan.noMoveStart),this},setZoom:function(s,m){return this._loaded?this.setView(this.getCenter(),s,{zoom:m}):(this._zoom=s,this)},zoomIn:function(s,m){return s=s||(cn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,m)},zoomOut:function(s,m){return s=s||(cn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,m)},setZoomAround:function(s,m,M){var z=this.getZoomScale(m),ie=this.getSize().divideBy(2),Ce=s instanceof le?s:this.latLngToContainerPoint(s),Ye=Ce.subtract(ie).multiplyBy(1-1/z),xt=this.containerPointToLatLng(ie.add(Ye));return this.setView(xt,m,{zoom:M})},_getBoundsCenterZoom:function(s,m){m=m||{},s=s.getBounds?s.getBounds():me(s);var M=ke(m.paddingTopLeft||m.padding||[0,0]),z=ke(m.paddingBottomRight||m.padding||[0,0]),ie=this.getBoundsZoom(s,!1,M.add(z));if(ie=typeof m.maxZoom=="number"?Math.min(m.maxZoom,ie):ie,ie===1/0)return{center:s.getCenter(),zoom:ie};var Ce=z.subtract(M).divideBy(2),Ye=this.project(s.getSouthWest(),ie),xt=this.project(s.getNorthEast(),ie),It=this.unproject(Ye.add(xt).divideBy(2).add(Ce),ie);return{center:It,zoom:ie}},fitBounds:function(s,m){if(s=me(s),!s.isValid())throw new Error("Bounds are not valid.");var M=this._getBoundsCenterZoom(s,m);return this.setView(M.center,M.zoom,m)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,m){return this.setView(s,this._zoom,{pan:m})},panBy:function(s,m){if(s=ke(s).round(),m=m||{},!s.x&&!s.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){jn(this._mapPane,"leaflet-pan-anim");var M=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,M,m.duration||.25,m.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,m,M){if(M=M||{},M.animate===!1||!cn.any3d)return this.setView(s,m,M);this._stop();var z=this.project(this.getCenter()),ie=this.project(s),Ce=this.getSize(),Ye=this._zoom;s=Le(s),m=m===void 0?Ye:m;var xt=Math.max(Ce.x,Ce.y),It=xt*this.getZoomScale(Ye,m),en=ie.distanceTo(z)||1,_n=1.42,Vn=_n*_n;function kr(ni){var aa=ni?-1:1,Tu=ni?It:xt,No=It*It-xt*xt+aa*Vn*Vn*en*en,ql=2*Tu*Vn*en,cs=No/ql,Vs=Math.sqrt(cs*cs+1)-cs,Ul=Vs<1e-9?-18:Math.log(Vs);return Ul}function va(ni){return(Math.exp(ni)-Math.exp(-ni))/2}function $i(ni){return(Math.exp(ni)+Math.exp(-ni))/2}function Aa(ni){return va(ni)/$i(ni)}var wi=kr(0);function Lo(ni){return xt*($i(wi)/$i(wi+_n*ni))}function dl(ni){return xt*($i(wi)*Aa(wi+_n*ni)-va(wi))/Vn}function Co(ni){return 1-Math.pow(1-ni,1.5)}var uo=Date.now(),Za=(kr(1)-wi)/_n,Au=M.duration?1e3*M.duration:1e3*Za*.8;function fl(){var ni=(Date.now()-uo)/Au,aa=Co(ni)*Za;ni<=1?(this._flyToFrame=q(fl,this),this._move(this.unproject(z.add(ie.subtract(z).multiplyBy(dl(aa)/en)),Ye),this.getScaleZoom(xt/Lo(aa),Ye),{flyTo:!0})):this._move(s,m)._moveEnd(!0)}return this._moveStart(!0,M.noMoveStart),fl.call(this),this},flyToBounds:function(s,m){var M=this._getBoundsCenterZoom(s,m);return this.flyTo(M.center,M.zoom,m)},setMaxBounds:function(s){return s=me(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var m=this.options.minZoom;return this.options.minZoom=s,this._loaded&&m!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var m=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&m!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,m){this._enforcingBounds=!0;var M=this.getCenter(),z=this._limitCenter(M,this._zoom,me(s));return M.equals(z)||this.panTo(z,m),this._enforcingBounds=!1,this},panInside:function(s,m){m=m||{};var M=ke(m.paddingTopLeft||m.padding||[0,0]),z=ke(m.paddingBottomRight||m.padding||[0,0]),ie=this.project(this.getCenter()),Ce=this.project(s),Ye=this.getPixelBounds(),xt=ne([Ye.min.add(M),Ye.max.subtract(z)]),It=xt.getSize();if(!xt.contains(Ce)){this._enforcingBounds=!0;var en=Ce.subtract(xt.getCenter()),_n=xt.extend(Ce).getSize().subtract(It);ie.x+=en.x<0?-_n.x:_n.x,ie.y+=en.y<0?-_n.y:_n.y,this.panTo(this.unproject(ie),m),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var M=this.getSize(),z=m.divideBy(2).round(),ie=M.divideBy(2).round(),Ce=z.subtract(ie);return!Ce.x&&!Ce.y?this:(s.animate&&s.pan?this.panBy(Ce):(s.pan&&this._rawPanBy(Ce),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:M}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=h(this._handleGeolocationResponse,this),M=h(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,M,s):navigator.geolocation.getCurrentPosition(m,M,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var m=s.code,M=s.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+M+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var m=s.coords.latitude,M=s.coords.longitude,z=new we(m,M),ie=z.toBounds(s.coords.accuracy*2),Ce=this._locateOptions;if(Ce.setView){var Ye=this.getBoundsZoom(ie);this.setView(z,Ce.maxZoom?Math.min(Ye,Ce.maxZoom):Ye)}var xt={latlng:z,bounds:ie,timestamp:s.timestamp};for(var It in s.coords)typeof s.coords[It]=="number"&&(xt[It]=s.coords[It]);this.fire("locationfound",xt)}},addHandler:function(s,m){if(!m)return this;var M=this[s]=new m(this);return this._handlers.push(M),this.options[s]&&M.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)xr(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,m){var M="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),z=Fn("div",M,m||this._mapPane);return s&&(this._panes[s]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),m=this.unproject(s.getBottomLeft()),M=this.unproject(s.getTopRight());return new ce(m,M)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,m,M){s=me(s),M=ke(M||[0,0]);var z=this.getZoom()||0,ie=this.getMinZoom(),Ce=this.getMaxZoom(),Ye=s.getNorthWest(),xt=s.getSouthEast(),It=this.getSize().subtract(M),en=ne(this.project(xt,z),this.project(Ye,z)).getSize(),_n=cn.any3d?this.options.zoomSnap:1,Vn=It.x/en.x,kr=It.y/en.y,va=m?Math.max(Vn,kr):Math.min(Vn,kr);return z=this.getScaleZoom(va,z),_n&&(z=Math.round(z/(_n/100))*(_n/100),z=m?Math.ceil(z/_n)*_n:Math.floor(z/_n)*_n),Math.max(ie,Math.min(Ce,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,m){var M=this._getTopLeftPoint(s,m);return new Te(M,M.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,m){var M=this.options.crs;return m=m===void 0?this._zoom:m,M.scale(s)/M.scale(m)},getScaleZoom:function(s,m){var M=this.options.crs;m=m===void 0?this._zoom:m;var z=M.zoom(s*M.scale(m));return isNaN(z)?1/0:z},project:function(s,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(Le(s),m)},unproject:function(s,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(ke(s),m)},layerPointToLatLng:function(s){var m=ke(s).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(s){var m=this.project(Le(s))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Le(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(me(s))},distance:function(s,m){return this.options.crs.distance(Le(s),Le(m))},containerPointToLayerPoint:function(s){return ke(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ke(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var m=this.containerPointToLayerPoint(ke(s));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(s)))},mouseEventToContainerPoint:function(s){return os(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var m=this._container=Gr(s);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");sn(m,"scroll",this._onScroll,this),this._containerId=g(m)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&cn.any3d,jn(s,"leaflet-container"+(cn.touch?" leaflet-touch":"")+(cn.retina?" leaflet-retina":"")+(cn.ielt9?" leaflet-oldie":"")+(cn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=$r(s,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Or(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(jn(s.markerPane,"leaflet-zoom-hide"),jn(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,m,M){Or(this._mapPane,new le(0,0));var z=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var ie=this._zoom!==m;this._moveStart(ie,M)._move(s,m)._moveEnd(ie),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(s,m){return s&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(s,m,M,z){m===void 0&&(m=this._zoom);var ie=this._zoom!==m;return this._zoom=m,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),z?M&&M.pinch&&this.fire("zoom",M):((ie||M&&M.pinch)&&this.fire("zoom",M),this.fire("move",M)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Or(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var m=s?Fr:sn;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),cn.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,m){for(var M=[],z,ie=m==="mouseout"||m==="mouseover",Ce=s.target||s.srcElement,Ye=!1;Ce;){if(z=this._targets[g(Ce)],z&&(m==="click"||m==="preclick")&&this._draggableMoved(z)){Ye=!0;break}if(z&&z.listens(m,!0)&&(ie&&!$o(Ce,s)||(M.push(z),ie))||Ce===this._container)break;Ce=Ce.parentNode}return!M.length&&!Ye&&!ie&&this.listens(m,!0)&&(M=[this]),M},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var m=s.target||s.srcElement;if(!(!this._loaded||m._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(m))){var M=s.type;M==="mousedown"&&Rr(m),this._fireDOMEvent(s,M)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,m,M){if(s.type==="click"){var z=i({},s);z.type="preclick",this._fireDOMEvent(z,z.type,M)}var ie=this._findEventTargets(s,m);if(M){for(var Ce=[],Ye=0;Ye<M.length;Ye++)M[Ye].listens(m,!0)&&Ce.push(M[Ye]);ie=Ce.concat(ie)}if(ie.length){m==="contextmenu"&&Kr(s);var xt=ie[0],It={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var en=xt.getLatLng&&(!xt._radius||xt._radius<=10);It.containerPoint=en?this.latLngToContainerPoint(xt.getLatLng()):this.mouseEventToContainerPoint(s),It.layerPoint=this.containerPointToLayerPoint(It.containerPoint),It.latlng=en?xt.getLatLng():this.layerPointToLatLng(It.layerPoint)}for(Ye=0;Ye<ie.length;Ye++)if(ie[Ye].fire(m,It,!0),It.originalEvent._stopped||ie[Ye].options.bubblingMouseEvents===!1&&$(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,m=this._handlers.length;s<m;s++)this._handlers[s].disable()},whenReady:function(s,m){return this._loaded?s.call(m||this,{target:this}):this.on("load",s,m),this},_getMapPanePos:function(){return Wi(this._mapPane)||new le(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,m){var M=s&&m!==void 0?this._getNewPixelOrigin(s,m):this.getPixelOrigin();return M.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,m){var M=this.getSize()._divideBy(2);return this.project(s,m)._subtract(M)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,m,M){var z=this._getNewPixelOrigin(M,m);return this.project(s,m)._subtract(z)},_latLngBoundsToNewLayerBounds:function(s,m,M){var z=this._getNewPixelOrigin(M,m);return ne([this.project(s.getSouthWest(),m)._subtract(z),this.project(s.getNorthWest(),m)._subtract(z),this.project(s.getSouthEast(),m)._subtract(z),this.project(s.getNorthEast(),m)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,m,M){if(!M)return s;var z=this.project(s,m),ie=this.getSize().divideBy(2),Ce=new Te(z.subtract(ie),z.add(ie)),Ye=this._getBoundsOffset(Ce,M,m);return Math.abs(Ye.x)<=1&&Math.abs(Ye.y)<=1?s:this.unproject(z.add(Ye),m)},_limitOffset:function(s,m){if(!m)return s;var M=this.getPixelBounds(),z=new Te(M.min.add(s),M.max.add(s));return s.add(this._getBoundsOffset(z,m))},_getBoundsOffset:function(s,m,M){var z=ne(this.project(m.getNorthEast(),M),this.project(m.getSouthWest(),M)),ie=z.min.subtract(s.min),Ce=z.max.subtract(s.max),Ye=this._rebound(ie.x,-Ce.x),xt=this._rebound(ie.y,-Ce.y);return new le(Ye,xt)},_rebound:function(s,m){return s+m>0?Math.round(s-m)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(m))},_limitZoom:function(s){var m=this.getMinZoom(),M=this.getMaxZoom(),z=cn.any3d?this.options.zoomSnap:1;return z&&(s=Math.round(s/z)*z),Math.max(m,Math.min(M,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,m){var M=this._getCenterOffset(s)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(M)?!1:(this.panBy(M,m),!0)},_createAnimProxy:function(){var s=this._proxy=Fn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(m){var M=Sn,z=this._proxy.style[M];Fa(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),z===this._proxy.style[M]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),m=this.getZoom();Fa(this._proxy,this.project(s,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,m,M){if(this._animatingZoom)return!0;if(M=M||{},!this._zoomAnimated||M.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(m),ie=this._getCenterOffset(s)._divideBy(1-1/z);return M.animate!==!0&&!this.getSize().contains(ie)?!1:(q(function(){this._moveStart(!0,M.noMoveStart||!1)._animateZoom(s,m,!0)},this),!0)},_animateZoom:function(s,m,M,z){this._mapPane&&(M&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=m,jn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:m,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _o(s,m){return new Yn(s,m)}var Kn=U.extend({options:{position:"topright"},initialize:function(s){T(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var m=this._map;return m&&m.removeControl(this),this.options.position=s,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var m=this._container=this.onAdd(s),M=this.getPosition(),z=s._controlCorners[M];return jn(m,"leaflet-control"),M.indexOf("bottom")!==-1?z.insertBefore(m,z.firstChild):z.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),hi=function(s){return new Kn(s)};Yn.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},m="leaflet-",M=this._controlContainer=Fn("div",m+"control-container",this._container);function z(ie,Ce){var Ye=m+ie+" "+m+Ce;s[ie+Ce]=Fn("div",Ye,M)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)xr(this._controlCorners[s]);xr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ua=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,m,M,z){return M<z?-1:z<M?1:0}},initialize:function(s,m,M){T(this,M),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in s)this._addLayer(s[z],z);for(z in m)this._addLayer(m[z],z,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Kn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,m){return this._addLayer(s,m),this._map?this._update():this},addOverlay:function(s,m){return this._addLayer(s,m,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var m=this._getLayer(g(s));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){jn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(jn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Cr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",m=this._container=Fn("div",s),M=this.options.collapsed;m.setAttribute("aria-haspopup",!0),eo(m),Qa(m);var z=this._section=Fn("section",s+"-list");M&&(this._map.on("click",this.collapse,this),sn(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ie=this._layersLink=Fn("a",s+"-toggle",m);ie.href="#",ie.title="Layers",ie.setAttribute("role","button"),sn(ie,{keydown:function(Ce){Ce.keyCode===13&&this._expandSafely()},click:function(Ce){Kr(Ce),this._expandSafely()}},this),M||this.expand(),this._baseLayersList=Fn("div",s+"-base",z),this._separator=Fn("div",s+"-separator",z),this._overlaysList=Fn("div",s+"-overlays",z),m.appendChild(z)},_getLayer:function(s){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&g(this._layers[m].layer)===s)return this._layers[m]},_addLayer:function(s,m,M){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:m,overlay:M}),this.options.sortLayers&&this._layers.sort(h(function(z,ie){return this.options.sortFunction(z.layer,ie.layer,z.name,ie.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xa(this._baseLayersList),xa(this._overlaysList),this._layerControlInputs=[];var s,m,M,z,ie=0;for(M=0;M<this._layers.length;M++)z=this._layers[M],this._addItem(z),m=m||z.overlay,s=s||!z.overlay,ie+=z.overlay?0:1;return this.options.hideSingleBase&&(s=s&&ie>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=m&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var m=this._getLayer(g(s.target)),M=m.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;M&&this._map.fire(M,m)},_createRadioElement:function(s,m){var M='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(m?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=M,z.firstChild},_addItem:function(s){var m=document.createElement("label"),M=this._map.hasLayer(s.layer),z;s.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=M):z=this._createRadioElement("leaflet-base-layers_"+g(this),M),this._layerControlInputs.push(z),z.layerId=g(s.layer),sn(z,"click",this._onInputClick,this);var ie=document.createElement("span");ie.innerHTML=" "+s.name;var Ce=document.createElement("span");m.appendChild(Ce),Ce.appendChild(z),Ce.appendChild(ie);var Ye=s.overlay?this._overlaysList:this._baseLayersList;return Ye.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,m,M,z=[],ie=[];this._handlingClick=!0;for(var Ce=s.length-1;Ce>=0;Ce--)m=s[Ce],M=this._getLayer(m.layerId).layer,m.checked?z.push(M):m.checked||ie.push(M);for(Ce=0;Ce<ie.length;Ce++)this._map.hasLayer(ie[Ce])&&this._map.removeLayer(ie[Ce]);for(Ce=0;Ce<z.length;Ce++)this._map.hasLayer(z[Ce])||this._map.addLayer(z[Ce]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,m,M,z=this._map.getZoom(),ie=s.length-1;ie>=0;ie--)m=s[ie],M=this._getLayer(m.layerId).layer,m.disabled=M.options.minZoom!==void 0&&z<M.options.minZoom||M.options.maxZoom!==void 0&&z>M.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,sn(s,"click",Kr),this.expand();var m=this;setTimeout(function(){Fr(s,"click",Kr),m._preventClick=!1})}}),bs=function(s,m,M){return new ua(s,m,M)},Bi=Kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var m="leaflet-control-zoom",M=Fn("div",m+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,m+"-in",M,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,m+"-out",M,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),M},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,m,M,z,ie){var Ce=Fn("a",M,z);return Ce.innerHTML=s,Ce.href="#",Ce.title=m,Ce.setAttribute("role","button"),Ce.setAttribute("aria-label",m),eo(Ce),sn(Ce,"click",to),sn(Ce,"click",ie,this),sn(Ce,"click",this._refocusOnMap,this),Ce},_updateDisabled:function(){var s=this._map,m="leaflet-disabled";Cr(this._zoomInButton,m),Cr(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(jn(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(jn(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yn.mergeOptions({zoomControl:!0}),Yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Bi,this.addControl(this.zoomControl))});var no=function(s){return new Bi(s)},La=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var m="leaflet-control-scale",M=Fn("div",m),z=this.options;return this._addScales(z,m+"-line",M),s.on(z.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),M},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,m,M){s.metric&&(this._mScale=Fn("div",m,M)),s.imperial&&(this._iScale=Fn("div",m,M))},_update:function(){var s=this._map,m=s.getSize().y/2,M=s.distance(s.containerPointToLatLng([0,m]),s.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(M)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var m=this._getRoundNum(s),M=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,M,m/s)},_updateImperial:function(s){var m=s*3.2808399,M,z,ie;m>5280?(M=m/5280,z=this._getRoundNum(M),this._updateScale(this._iScale,z+" mi",z/M)):(ie=this._getRoundNum(m),this._updateScale(this._iScale,ie+" ft",ie/m))},_updateScale:function(s,m,M){s.style.width=Math.round(this.options.maxWidth*M)+"px",s.innerHTML=m},_getRoundNum:function(s){var m=Math.pow(10,(Math.floor(s)+"").length-1),M=s/m;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:1,m*M}}),ro=function(s){return new La(s)},ca='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',j=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(cn.inlineSvg?ca+" ":"")+"Leaflet</a>"},initialize:function(s){T(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Fn("div","leaflet-control-attribution"),eo(this._container);for(var m in s._layers)s._layers[m].getAttribution&&this.addAttribution(s._layers[m].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var m in this._attributions)this._attributions[m]&&s.push(m);var M=[];this.options.prefix&&M.push(this.options.prefix),s.length&&M.push(s.join(", ")),this._container.innerHTML=M.join(' <span aria-hidden="true">|</span> ')}}});Yn.mergeOptions({attributionControl:!0}),Yn.addInitHook(function(){this.options.attributionControl&&new j().addTo(this)});var ye=function(s){return new j(s)};Kn.Layers=ua,Kn.Zoom=Bi,Kn.Scale=La,Kn.Attribution=j,hi.layers=bs,hi.zoom=no,hi.scale=ro,hi.attribution=ye;var ze=U.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ze.addTo=function(s,m){return s.addHandler(m,this),this};var et={Events:ae},pt=cn.touch?"touchstart mousedown":"mousedown",$t=ue.extend({options:{clickTolerance:3},initialize:function(s,m,M,z){T(this,z),this._element=s,this._dragStartTarget=m||s,this._preventOutline=M},enable:function(){this._enabled||(sn(this._dragStartTarget,pt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($t._dragging===this&&this.finishDrag(!0),Fr(this._dragStartTarget,pt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!qi(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){$t._dragging===this&&this.finishDrag();return}if(!($t._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&($t._dragging=this,this._preventOutline&&Rr(this._element),Qn(),Ki(),!this._moving)){this.fire("down");var m=s.touches?s.touches[0]:s,M=Wr(this._element);this._startPoint=new le(m.clientX,m.clientY),this._startPos=Wi(this._element),this._parentScale=ei(M);var z=s.type==="mousedown";sn(document,z?"mousemove":"touchmove",this._onMove,this),sn(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var m=s.touches&&s.touches.length===1?s.touches[0]:s,M=new le(m.clientX,m.clientY)._subtract(this._startPoint);!M.x&&!M.y||Math.abs(M.x)+Math.abs(M.y)<this.options.clickTolerance||(M.x/=this._parentScale.x,M.y/=this._parentScale.y,Kr(s),this._moved||(this.fire("dragstart"),this._moved=!0,jn(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),jn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(M),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Or(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Cr(document.body,"leaflet-dragging"),this._lastTarget&&(Cr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fr(document,"mousemove touchmove",this._onMove,this),Fr(document,"mouseup touchend touchcancel",this._onUp,this),er(),Zi();var m=this._moved&&this._moving;this._moving=!1,$t._dragging=!1,m&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Qt(s,m,M){var z,ie=[1,4,2,8],Ce,Ye,xt,It,en,_n,Vn,kr;for(Ce=0,_n=s.length;Ce<_n;Ce++)s[Ce]._code=Er(s[Ce],m);for(xt=0;xt<4;xt++){for(Vn=ie[xt],z=[],Ce=0,_n=s.length,Ye=_n-1;Ce<_n;Ye=Ce++)It=s[Ce],en=s[Ye],It._code&Vn?en._code&Vn||(kr=Di(en,It,Vn,m,M),kr._code=Er(kr,m),z.push(kr)):(en._code&Vn&&(kr=Di(en,It,Vn,m,M),kr._code=Er(kr,m),z.push(kr)),z.push(It));s=z}return s}function Mn(s,m){var M,z,ie,Ce,Ye,xt,It,en,_n;if(!s||s.length===0)throw new Error("latlngs not passed");bi(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Vn=Le([0,0]),kr=me(s),va=kr.getNorthWest().distanceTo(kr.getSouthWest())*kr.getNorthEast().distanceTo(kr.getNorthWest());va<1700&&(Vn=Cn(s));var $i=s.length,Aa=[];for(M=0;M<$i;M++){var wi=Le(s[M]);Aa.push(m.project(Le([wi.lat-Vn.lat,wi.lng-Vn.lng])))}for(xt=It=en=0,M=0,z=$i-1;M<$i;z=M++)ie=Aa[M],Ce=Aa[z],Ye=ie.y*Ce.x-Ce.y*ie.x,It+=(ie.x+Ce.x)*Ye,en+=(ie.y+Ce.y)*Ye,xt+=Ye*3;xt===0?_n=Aa[0]:_n=[It/xt,en/xt];var Lo=m.unproject(ke(_n));return Le([Lo.lat+Vn.lat,Lo.lng+Vn.lng])}function Cn(s){for(var m=0,M=0,z=0,ie=0;ie<s.length;ie++){var Ce=Le(s[ie]);m+=Ce.lat,M+=Ce.lng,z++}return Le([m/z,M/z])}var Tn={__proto__:null,clipPolygon:Qt,polygonCenter:Mn,centroid:Cn};function ir(s,m){if(!m||!s.length)return s.slice();var M=m*m;return s=di(s,M),s=vr(s,M),s}function Sr(s,m,M){return Math.sqrt(bo(s,m,M,!0))}function li(s,m,M){return bo(s,m,M)}function vr(s,m){var M=s.length,z=typeof Uint8Array<"u"?Uint8Array:Array,ie=new z(M);ie[0]=ie[M-1]=1,ar(s,ie,m,0,M-1);var Ce,Ye=[];for(Ce=0;Ce<M;Ce++)ie[Ce]&&Ye.push(s[Ce]);return Ye}function ar(s,m,M,z,ie){var Ce=0,Ye,xt,It;for(xt=z+1;xt<=ie-1;xt++)It=bo(s[xt],s[z],s[ie],!0),It>Ce&&(Ye=xt,Ce=It);Ce>M&&(m[Ye]=1,ar(s,m,M,z,Ye),ar(s,m,M,Ye,ie))}function di(s,m){for(var M=[s[0]],z=1,ie=0,Ce=s.length;z<Ce;z++)ha(s[z],s[ie])>m&&(M.push(s[z]),ie=z);return ie<Ce-1&&M.push(s[Ce-1]),M}var Zr;function Ir(s,m,M,z,ie){var Ce=z?Zr:Er(s,M),Ye=Er(m,M),xt,It,en;for(Zr=Ye;;){if(!(Ce|Ye))return[s,m];if(Ce&Ye)return!1;xt=Ce||Ye,It=Di(s,m,xt,M,ie),en=Er(It,M),xt===Ce?(s=It,Ce=en):(m=It,Ye=en)}}function Di(s,m,M,z,ie){var Ce=m.x-s.x,Ye=m.y-s.y,xt=z.min,It=z.max,en,_n;return M&8?(en=s.x+Ce*(It.y-s.y)/Ye,_n=It.y):M&4?(en=s.x+Ce*(xt.y-s.y)/Ye,_n=xt.y):M&2?(en=It.x,_n=s.y+Ye*(It.x-s.x)/Ce):M&1&&(en=xt.x,_n=s.y+Ye*(xt.x-s.x)/Ce),new le(en,_n,ie)}function Er(s,m){var M=0;return s.x<m.min.x?M|=1:s.x>m.max.x&&(M|=2),s.y<m.min.y?M|=4:s.y>m.max.y&&(M|=8),M}function ha(s,m){var M=m.x-s.x,z=m.y-s.y;return M*M+z*z}function bo(s,m,M,z){var ie=m.x,Ce=m.y,Ye=M.x-ie,xt=M.y-Ce,It=Ye*Ye+xt*xt,en;return It>0&&(en=((s.x-ie)*Ye+(s.y-Ce)*xt)/It,en>1?(ie=M.x,Ce=M.y):en>0&&(ie+=Ye*en,Ce+=xt*en)),Ye=s.x-ie,xt=s.y-Ce,z?Ye*Ye+xt*xt:new le(ie,Ce)}function bi(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function xi(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bi(s)}function io(s,m){var M,z,ie,Ce,Ye,xt,It,en;if(!s||s.length===0)throw new Error("latlngs not passed");bi(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _n=Le([0,0]),Vn=me(s),kr=Vn.getNorthWest().distanceTo(Vn.getSouthWest())*Vn.getNorthEast().distanceTo(Vn.getNorthWest());kr<1700&&(_n=Cn(s));var va=s.length,$i=[];for(M=0;M<va;M++){var Aa=Le(s[M]);$i.push(m.project(Le([Aa.lat-_n.lat,Aa.lng-_n.lng])))}for(M=0,z=0;M<va-1;M++)z+=$i[M].distanceTo($i[M+1])/2;if(z===0)en=$i[0];else for(M=0,Ce=0;M<va-1;M++)if(Ye=$i[M],xt=$i[M+1],ie=Ye.distanceTo(xt),Ce+=ie,Ce>z){It=(Ce-z)/ie,en=[xt.x-It*(xt.x-Ye.x),xt.y-It*(xt.y-Ye.y)];break}var wi=m.unproject(ke(en));return Le([wi.lat+_n.lat,wi.lng+_n.lng])}var Na={__proto__:null,simplify:ir,pointToSegmentDistance:Sr,closestPointOnSegment:li,clipSegment:Ir,_getEdgeIntersection:Di,_getBitCode:Er,_sqClosestPointOnSegment:bo,isFlat:bi,_flat:xi,polylineCenter:io},ao={project:function(s){return new le(s.lng,s.lat)},unproject:function(s){return new we(s.y,s.x)},bounds:new Te([-180,-90],[180,90])},qr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var m=Math.PI/180,M=this.R,z=s.lat*m,ie=this.R_MINOR/M,Ce=Math.sqrt(1-ie*ie),Ye=Ce*Math.sin(z),xt=Math.tan(Math.PI/4-z/2)/Math.pow((1-Ye)/(1+Ye),Ce/2);return z=-M*Math.log(Math.max(xt,1e-10)),new le(s.lng*m*M,z)},unproject:function(s){for(var m=180/Math.PI,M=this.R,z=this.R_MINOR/M,ie=Math.sqrt(1-z*z),Ce=Math.exp(-s.y/M),Ye=Math.PI/2-2*Math.atan(Ce),xt=0,It=.1,en;xt<15&&Math.abs(It)>1e-7;xt++)en=ie*Math.sin(Ye),en=Math.pow((1-en)/(1+en),ie/2),It=Math.PI/2-2*Math.atan(Ce*en)-Ye,Ye+=It;return new we(Ye*m,s.x*m/M)}},Ui={__proto__:null,LonLat:ao,Mercator:qr,SphericalMercator:We},oo=i({},he,{code:"EPSG:3395",projection:qr,transformation:(function(){var s=.5/(Math.PI*qr.R);return de(s,.5,-s,.5)})()}),jo=i({},he,{code:"EPSG:4326",projection:ao,transformation:de(1/180,1,-1/180,.5)}),zo=i({},Be,{projection:ao,transformation:de(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,m){var M=m.lng-s.lng,z=m.lat-s.lat;return Math.sqrt(M*M+z*z)},infinite:!0});Be.Earth=he,Be.EPSG3395=oo,Be.EPSG3857=it,Be.EPSG900913=ft,Be.EPSG4326=jo,Be.Simple=zo;var jr=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var m=s.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var M=this.getEvents();m.on(M,this),this.once("remove",function(){m.off(M,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Yn.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var m=g(s);return this._layers[m]?this:(this._layers[m]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var m=g(s);return this._layers[m]?(this._loaded&&s.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,m){for(var M in this._layers)s.call(m,this._layers[M]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var m=0,M=s.length;m<M;m++)this.addLayer(s[m])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var m=g(s);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,m=-1/0,M=this._getZoomSpan();for(var z in this._zoomBoundLayers){var ie=this._zoomBoundLayers[z].options;s=ie.minZoom===void 0?s:Math.min(s,ie.minZoom),m=ie.maxZoom===void 0?m:Math.max(m,ie.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=s===1/0?void 0:s,M!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ra=jr.extend({initialize:function(s,m){T(this,m),this._layers={};var M,z;if(s)for(M=0,z=s.length;M<z;M++)this.addLayer(s[M])},addLayer:function(s){var m=this.getLayerId(s);return this._layers[m]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var m=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(s){var m=typeof s=="number"?s:this.getLayerId(s);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var m=Array.prototype.slice.call(arguments,1),M,z;for(M in this._layers)z=this._layers[M],z[s]&&z[s].apply(z,m);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,m){for(var M in this._layers)s.call(m,this._layers[M]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Ho=function(s,m){return new ra(s,m)},ia=ra.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ra.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ra.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ce;for(var m in this._layers){var M=this._layers[m];s.extend(M.getBounds?M.getBounds():M.getLatLng())}return s}}),da=function(s,m){return new ia(s,m)},Ma=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){T(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,m){var M=this._getIconUrl(s);if(!M){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(M,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(z,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(s,m){var M=this.options,z=M[m+"Size"];typeof z=="number"&&(z=[z,z]);var ie=ke(z),Ce=ke(m==="shadow"&&M.shadowAnchor||M.iconAnchor||ie&&ie.divideBy(2,!0));s.className="leaflet-marker-"+m+" "+(M.className||""),Ce&&(s.style.marginLeft=-Ce.x+"px",s.style.marginTop=-Ce.y+"px"),ie&&(s.style.width=ie.x+"px",s.style.height=ie.y+"px")},_createImg:function(s,m){return m=m||document.createElement("img"),m.src=s,m},_getIconUrl:function(s){return cn.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ss(s){return new Ma(s)}var xo=Ma.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof xo.imagePath!="string"&&(xo.imagePath=this._detectIconPath()),(this.options.imagePath||xo.imagePath)+Ma.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var m=function(M,z,ie){var Ce=z.exec(M);return Ce&&Ce[ie]};return s=m(s,/^url\((['"])?(.+)\1\)$/,2),s&&m(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Fn("div","leaflet-default-icon-path",document.body),m=$r(s,"background-image")||$r(s,"backgroundImage");if(document.body.removeChild(s),m=this._stripUrl(m),m)return m;var M=document.querySelector('link[href$="leaflet.css"]');return M?M.href.substring(0,M.href.length-11-1):""}}),Ha=ze.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new $t(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),jn(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var m=this._marker,M=m._map,z=this._marker.options.autoPanSpeed,ie=this._marker.options.autoPanPadding,Ce=Wi(m._icon),Ye=M.getPixelBounds(),xt=M.getPixelOrigin(),It=ne(Ye.min._subtract(xt).add(ie),Ye.max._subtract(xt).subtract(ie));if(!It.contains(Ce)){var en=ke((Math.max(It.max.x,Ce.x)-It.max.x)/(Ye.max.x-It.max.x)-(Math.min(It.min.x,Ce.x)-It.min.x)/(Ye.min.x-It.min.x),(Math.max(It.max.y,Ce.y)-It.max.y)/(Ye.max.y-It.max.y)-(Math.min(It.min.y,Ce.y)-It.min.y)/(Ye.min.y-It.min.y)).multiplyBy(z);M.panBy(en,{animate:!1}),this._draggable._newPos._add(en),this._draggable._startPos._add(en),Or(m._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=q(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,s)))},_onDrag:function(s){var m=this._marker,M=m._shadow,z=Wi(m._icon),ie=m._map.layerPointToLatLng(z);M&&Or(M,z),m._latlng=ie,s.latlng=ie,s.oldLatLng=this._oldLatLng,m.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),so=jr.extend({options:{icon:new xo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,m){T(this,m),this._latlng=Le(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var m=this._latlng;return this._latlng=Le(s),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),M=s.icon.createIcon(this._icon),z=!1;M!==this._icon&&(this._icon&&this._removeIcon(),z=!0,s.title&&(M.title=s.title),M.tagName==="IMG"&&(M.alt=s.alt||"")),jn(M,m),s.keyboard&&(M.tabIndex="0",M.setAttribute("role","button")),this._icon=M,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sn(M,"focus",this._panOnFocus,this);var ie=s.icon.createShadow(this._shadow),Ce=!1;ie!==this._shadow&&(this._removeShadow(),Ce=!0),ie&&(jn(ie,m),ie.alt=""),this._shadow=ie,s.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),ie&&Ce&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fr(this._icon,"focus",this._panOnFocus,this),xr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xr(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Or(this._icon,s),this._shadow&&Or(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var m=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(jn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ha)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ha(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Hr(this._icon,s),this._shadow&&Hr(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var m=this.options.icon.options,M=m.iconSize?ke(m.iconSize):ke(0,0),z=m.iconAnchor?ke(m.iconAnchor):ke(0,0);s.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:M.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fa(s,m){return new so(s,m)}var gi=jr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return T(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oi=gi.extend({options:{fill:!0,radius:10},initialize:function(s,m){T(this,m),this._latlng=Le(s),this._radius=this.options.radius},setLatLng:function(s){var m=this._latlng;return this._latlng=Le(s),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var m=s&&s.radius||this._radius;return gi.prototype.setStyle.call(this,s),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,m=this._radiusY||s,M=this._clickTolerance(),z=[s+M,m+M];this._pxBounds=new Te(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qa(s,m){return new Oi(s,m)}var Ua=Oi.extend({initialize:function(s,m,M){if(typeof m=="number"&&(m=i({},M,{radius:m})),T(this,m),this._latlng=Le(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:gi.prototype.setStyle,_project:function(){var s=this._latlng.lng,m=this._latlng.lat,M=this._map,z=M.options.crs;if(z.distance===he.distance){var ie=Math.PI/180,Ce=this._mRadius/he.R/ie,Ye=M.project([m+Ce,s]),xt=M.project([m-Ce,s]),It=Ye.add(xt).divideBy(2),en=M.unproject(It).lat,_n=Math.acos((Math.cos(Ce*ie)-Math.sin(m*ie)*Math.sin(en*ie))/(Math.cos(m*ie)*Math.cos(en*ie)))/ie;(isNaN(_n)||_n===0)&&(_n=Ce/Math.cos(Math.PI/180*m)),this._point=It.subtract(M.getPixelOrigin()),this._radius=isNaN(_n)?0:It.x-M.project([en,s-_n]).x,this._radiusY=It.y-Ye.y}else{var Vn=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=M.latLngToLayerPoint(this._latlng),this._radius=this._point.x-M.latLngToLayerPoint(Vn).x}this._updateBounds()}});function Ga(s,m,M){return new Ua(s,m,M)}var Yi=gi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,m){T(this,m),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var m=1/0,M=null,z=bo,ie,Ce,Ye=0,xt=this._parts.length;Ye<xt;Ye++)for(var It=this._parts[Ye],en=1,_n=It.length;en<_n;en++){ie=It[en-1],Ce=It[en];var Vn=z(s,ie,Ce,!0);Vn<m&&(m=Vn,M=z(s,ie,Ce))}return M&&(M.distance=Math.sqrt(m)),M},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return io(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,m){return m=m||this._defaultShape(),s=Le(s),m.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return bi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var m=[],M=bi(s),z=0,ie=s.length;z<ie;z++)M?(m[z]=Le(s[z]),this._bounds.extend(m[z])):m[z]=this._convertLatLngs(s[z]);return m},_project:function(){var s=new Te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),m=new le(s,s);this._rawPxBounds&&(this._pxBounds=new Te([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(s,m,M){var z=s[0]instanceof we,ie=s.length,Ce,Ye;if(z){for(Ye=[],Ce=0;Ce<ie;Ce++)Ye[Ce]=this._map.latLngToLayerPoint(s[Ce]),M.extend(Ye[Ce]);m.push(Ye)}else for(Ce=0;Ce<ie;Ce++)this._projectLatlngs(s[Ce],m,M)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,M,z,ie,Ce,Ye,xt,It;for(M=0,ie=0,Ce=this._rings.length;M<Ce;M++)for(It=this._rings[M],z=0,Ye=It.length;z<Ye-1;z++)xt=Ir(It[z],It[z+1],s,z,!0),xt&&(m[ie]=m[ie]||[],m[ie].push(xt[0]),(xt[1]!==It[z+1]||z===Ye-2)&&(m[ie].push(xt[1]),ie++))}},_simplifyPoints:function(){for(var s=this._parts,m=this.options.smoothFactor,M=0,z=s.length;M<z;M++)s[M]=ir(s[M],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,m){var M,z,ie,Ce,Ye,xt,It=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(M=0,Ce=this._parts.length;M<Ce;M++)for(xt=this._parts[M],z=0,Ye=xt.length,ie=Ye-1;z<Ye;ie=z++)if(!(!m&&z===0)&&Sr(s,xt[ie],xt[z])<=It)return!0;return!1}});function ui(s,m){return new Yi(s,m)}Yi._flat=xi;var Va=Yi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var m=Yi.prototype._convertLatLngs.call(this,s),M=m.length;return M>=2&&m[0]instanceof we&&m[0].equals(m[M-1])&&m.pop(),m},_setLatLngs:function(s){Yi.prototype._setLatLngs.call(this,s),bi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,m=this.options.weight,M=new le(m,m);if(s=new Te(s.min.subtract(M),s.max.add(M)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,ie=this._rings.length,Ce;z<ie;z++)Ce=Qt(this._rings[z],s,!0),Ce.length&&this._parts.push(Ce)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var m=!1,M,z,ie,Ce,Ye,xt,It,en;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(Ce=0,It=this._parts.length;Ce<It;Ce++)for(M=this._parts[Ce],Ye=0,en=M.length,xt=en-1;Ye<en;xt=Ye++)z=M[Ye],ie=M[xt],z.y>s.y!=ie.y>s.y&&s.x<(ie.x-z.x)*(s.y-z.y)/(ie.y-z.y)+z.x&&(m=!m);return m||Yi.prototype._containsPoint.call(this,s,!0)}});function Ji(s,m){return new Va(s,m)}var Ei=ia.extend({initialize:function(s,m){T(this,m),this._layers={},s&&this.addData(s)},addData:function(s){var m=R(s)?s:s.features,M,z,ie;if(m){for(M=0,z=m.length;M<z;M++)ie=m[M],(ie.geometries||ie.geometry||ie.features||ie.coordinates)&&this.addData(ie);return this}var Ce=this.options;if(Ce.filter&&!Ce.filter(s))return this;var Ye=So(s,Ce);return Ye?(Ye.feature=f(s),Ye.defaultOptions=Ye.options,this.resetStyle(Ye),Ce.onEachFeature&&Ce.onEachFeature(s,Ye),this.addLayer(Ye)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(m){this._setLayerStyle(m,s)},this)},_setLayerStyle:function(s,m){s.setStyle&&(typeof m=="function"&&(m=m(s.feature)),s.setStyle(m))}});function So(s,m){var M=s.type==="Feature"?s.geometry:s,z=M?M.coordinates:null,ie=[],Ce=m&&m.pointToLayer,Ye=m&&m.coordsToLatLng||pa,xt,It,en,_n;if(!z&&!M)return null;switch(M.type){case"Point":return xt=Ye(z),Jo(Ce,s,xt,m);case"MultiPoint":for(en=0,_n=z.length;en<_n;en++)xt=Ye(z[en]),ie.push(Jo(Ce,s,xt,m));return new ia(ie);case"LineString":case"MultiLineString":return It=Eo(z,M.type==="LineString"?0:1,Ye),new Yi(It,m);case"Polygon":case"MultiPolygon":return It=Eo(z,M.type==="Polygon"?1:2,Ye),new Va(It,m);case"GeometryCollection":for(en=0,_n=M.geometries.length;en<_n;en++){var Vn=So({geometry:M.geometries[en],type:"Feature",properties:s.properties},m);Vn&&ie.push(Vn)}return new ia(ie);case"FeatureCollection":for(en=0,_n=M.features.length;en<_n;en++){var kr=So(M.features[en],m);kr&&ie.push(kr)}return new ia(ie);default:throw new Error("Invalid GeoJSON object.")}}function Jo(s,m,M,z){return s?s(m,M):new so(M,z&&z.markersInheritOptions&&z)}function pa(s){return new we(s[1],s[0],s[2])}function Eo(s,m,M){for(var z=[],ie=0,Ce=s.length,Ye;ie<Ce;ie++)Ye=m?Eo(s[ie],m-1,M):(M||pa)(s[ie]),z.push(Ye);return z}function Pa(s,m){return s=Le(s),s.alt!==void 0?[k(s.lng,m),k(s.lat,m),k(s.alt,m)]:[k(s.lng,m),k(s.lat,m)]}function fi(s,m,M,z){for(var ie=[],Ce=0,Ye=s.length;Ce<Ye;Ce++)ie.push(m?fi(s[Ce],bi(s[Ce])?0:m-1,M,z):Pa(s[Ce],z));return!m&&M&&ie.length>0&&ie.push(ie[0].slice()),ie}function pi(s,m){return s.feature?i({},s.feature,{geometry:m}):f(m)}function f(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var a={toGeoJSON:function(s){return pi(this,{type:"Point",coordinates:Pa(this.getLatLng(),s)})}};so.include(a),Ua.include(a),Oi.include(a),Yi.include({toGeoJSON:function(s){var m=!bi(this._latlngs),M=fi(this._latlngs,m?1:0,!1,s);return pi(this,{type:(m?"Multi":"")+"LineString",coordinates:M})}}),Va.include({toGeoJSON:function(s){var m=!bi(this._latlngs),M=m&&!bi(this._latlngs[0]),z=fi(this._latlngs,M?2:m?1:0,!0,s);return m||(z=[z]),pi(this,{type:(M?"Multi":"")+"Polygon",coordinates:z})}}),ra.include({toMultiPoint:function(s){var m=[];return this.eachLayer(function(M){m.push(M.toGeoJSON(s).geometry.coordinates)}),pi(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(s){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(s);var M=m==="GeometryCollection",z=[];return this.eachLayer(function(ie){if(ie.toGeoJSON){var Ce=ie.toGeoJSON(s);if(M)z.push(Ce.geometry);else{var Ye=f(Ce);Ye.type==="FeatureCollection"?z.push.apply(z,Ye.features):z.push(Ye)}}}),M?pi(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function o(s,m){return new Ei(s,m)}var d=o,C=jr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,m,M){this._url=s,this._bounds=me(m),T(this,M)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(jn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Vr(this._image),this},bringToBack:function(){return this._map&&la(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=me(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",m=this._image=s?this._url:Fn("img");if(jn(m,"leaflet-image-layer"),this._zoomAnimated&&jn(m,"leaflet-zoom-animated"),this.options.className&&jn(m,this.options.className),m.onselectstart=w,m.onmousemove=w,m.onload=h(this.fire,this,"load"),m.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(s){var m=this._map.getZoomScale(s.zoom),M=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Fa(this._image,M,m)},_reset:function(){var s=this._image,m=new Te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),M=m.getSize();Or(s,m.min),s.style.width=M.x+"px",s.style.height=M.y+"px"},_updateOpacity:function(){Hr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),B=function(s,m,M){return new C(s,m,M)},W=C.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",m=this._image=s?this._url:Fn("video");if(jn(m,"leaflet-image-layer"),this._zoomAnimated&&jn(m,"leaflet-zoom-animated"),this.options.className&&jn(m,this.options.className),m.onselectstart=w,m.onmousemove=w,m.onloadeddata=h(this.fire,this,"load"),s){for(var M=m.getElementsByTagName("source"),z=[],ie=0;ie<M.length;ie++)z.push(M[ie].src);this._url=M.length>0?z:[m.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var Ce=0;Ce<this._url.length;Ce++){var Ye=Fn("source");Ye.src=this._url[Ce],m.appendChild(Ye)}}});function se(s,m,M){return new W(s,m,M)}var xe=C.extend({_initImage:function(){var s=this._image=this._url;jn(s,"leaflet-image-layer"),this._zoomAnimated&&jn(s,"leaflet-zoom-animated"),this.options.className&&jn(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function $e(s,m,M){return new xe(s,m,M)}var st=jr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,m){s&&(s instanceof we||R(s))?(this._latlng=Le(s),T(this,m)):(T(this,s),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Hr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Hr(this._container,1),this.bringToFront(),this.options.interactive&&(jn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Hr(this._container,0),this._removeTimeout=setTimeout(h(xr,void 0,this._container),200)):xr(this._container),this.options.interactive&&(Cr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Le(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vr(this._container),this},bringToBack:function(){return this._map&&la(this._container),this},_prepareOpen:function(s){var m=this._source;if(!m._map)return!1;if(m instanceof ia){m=null;var M=this._source._layers;for(var z in M)if(M[z]._map){m=M[z];break}if(!m)return!1;this._source=m}if(!s)if(m.getCenter)s=m.getCenter();else if(m.getLatLng)s=m.getLatLng();else if(m.getBounds)s=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")s.innerHTML=m;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),m=ke(this.options.offset),M=this._getAnchor();this._zoomAnimated?Or(this._container,s.add(M)):m=m.add(s).add(M);var z=this._containerBottom=-m.y,ie=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=z+"px",this._container.style.left=ie+"px"}},_getAnchor:function(){return[0,0]}});Yn.include({_initOverlay:function(s,m,M,z){var ie=m;return ie instanceof s||(ie=new s(z).setContent(m)),M&&ie.setLatLng(M),ie}}),jr.include({_initOverlay:function(s,m,M,z){var ie=M;return ie instanceof s?(T(ie,z),ie._source=this):(ie=m&&!z?m:new s(z,this),ie.setContent(M)),ie}});var _t=st.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,st.prototype.openOn.call(this,s)},onAdd:function(s){st.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gi||this._source.on("preclick",Ii))},onRemove:function(s){st.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gi||this._source.off("preclick",Ii))},getEvents:function(){var s=st.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",m=this._container=Fn("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),M=this._wrapper=Fn("div",s+"-content-wrapper",m);if(this._contentNode=Fn("div",s+"-content",M),eo(m),Qa(this._contentNode),sn(m,"contextmenu",Ii),this._tipContainer=Fn("div",s+"-tip-container",m),this._tip=Fn("div",s+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=Fn("a",s+"-close-button",m);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',sn(z,"click",function(ie){Kr(ie),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,m=s.style;m.width="",m.whiteSpace="nowrap";var M=s.offsetWidth;M=Math.min(M,this.options.maxWidth),M=Math.max(M,this.options.minWidth),m.width=M+1+"px",m.whiteSpace="",m.height="";var z=s.offsetHeight,ie=this.options.maxHeight,Ce="leaflet-popup-scrolled";ie&&z>ie?(m.height=ie+"px",jn(s,Ce)):Cr(s,Ce),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var m=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),M=this._getAnchor();Or(this._container,m.add(M))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,m=parseInt($r(this._container,"marginBottom"),10)||0,M=this._container.offsetHeight+m,z=this._containerWidth,ie=new le(this._containerLeft,-M-this._containerBottom);ie._add(Wi(this._container));var Ce=s.layerPointToContainerPoint(ie),Ye=ke(this.options.autoPanPadding),xt=ke(this.options.autoPanPaddingTopLeft||Ye),It=ke(this.options.autoPanPaddingBottomRight||Ye),en=s.getSize(),_n=0,Vn=0;Ce.x+z+It.x>en.x&&(_n=Ce.x+z-en.x+It.x),Ce.x-_n-xt.x<0&&(_n=Ce.x-xt.x),Ce.y+M+It.y>en.y&&(Vn=Ce.y+M-en.y+It.y),Ce.y-Vn-xt.y<0&&(Vn=Ce.y-xt.y),(_n||Vn)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([_n,Vn]))}},_getAnchor:function(){return ke(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yt=function(s,m){return new _t(s,m)};Yn.mergeOptions({closePopupOnClick:!0}),Yn.include({openPopup:function(s,m,M){return this._initOverlay(_t,s,m,M).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),jr.include({bindPopup:function(s,m){return this._popup=this._initOverlay(_t,this._popup,s,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ia||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){to(s);var m=s.layer||s.target;if(this._popup._source===m&&!(m instanceof gi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=m,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var pn=st.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){st.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){st.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=st.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",m=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fn("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var m,M,z=this._map,ie=this._container,Ce=z.latLngToContainerPoint(z.getCenter()),Ye=z.layerPointToContainerPoint(s),xt=this.options.direction,It=ie.offsetWidth,en=ie.offsetHeight,_n=ke(this.options.offset),Vn=this._getAnchor();xt==="top"?(m=It/2,M=en):xt==="bottom"?(m=It/2,M=0):xt==="center"?(m=It/2,M=en/2):xt==="right"?(m=0,M=en/2):xt==="left"?(m=It,M=en/2):Ye.x<Ce.x?(xt="right",m=0,M=en/2):(xt="left",m=It+(_n.x+Vn.x)*2,M=en/2),s=s.subtract(ke(m,M,!0)).add(_n).add(Vn),Cr(ie,"leaflet-tooltip-right"),Cr(ie,"leaflet-tooltip-left"),Cr(ie,"leaflet-tooltip-top"),Cr(ie,"leaflet-tooltip-bottom"),jn(ie,"leaflet-tooltip-"+xt),Or(ie,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Hr(this._container,s)},_animateZoom:function(s){var m=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(m)},_getAnchor:function(){return ke(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pn=function(s,m){return new pn(s,m)};Yn.include({openTooltip:function(s,m,M){return this._initOverlay(pn,s,m,M).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),jr.include({bindTooltip:function(s,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pn,this._tooltip,s,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var m=s?"off":"on",M={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?M.add=this._openTooltip:(M.mouseover=this._openTooltip,M.mouseout=this.closeTooltip,M.click=this._openTooltip,this._map?this._addFocusListeners():M.add=this._addFocusListeners),this._tooltip.options.sticky&&(M.mousemove=this._moveTooltip),this[m](M),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ia||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var m=typeof s.getElement=="function"&&s.getElement();m&&(sn(m,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),sn(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var m=typeof s.getElement=="function"&&s.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var m=s.latlng,M,z;this._tooltip.options.sticky&&s.originalEvent&&(M=this._map.mouseEventToContainerPoint(s.originalEvent),z=this._map.containerPointToLayerPoint(M),m=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(m)}});var $n=Ma.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var m=s&&s.tagName==="DIV"?s:document.createElement("div"),M=this.options;if(M.html instanceof Element?(xa(m),m.appendChild(M.html)):m.innerHTML=M.html!==!1?M.html:"",M.bgPos){var z=ke(M.bgPos);m.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Mr(s){return new $n(s)}Ma.Default=xo;var hr=jr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:cn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){T(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),xr(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(la(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof le?s:new le(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var m=this.getPane().children,M=-s(-1/0,1/0),z=0,ie=m.length,Ce;z<ie;z++)Ce=m[z].style.zIndex,m[z]!==this._container&&Ce&&(M=s(M,+Ce));isFinite(M)&&(this.options.zIndex=M+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!cn.ielt9){Hr(this._container,this.options.opacity);var s=+new Date,m=!1,M=!1;for(var z in this._tiles){var ie=this._tiles[z];if(!(!ie.current||!ie.loaded)){var Ce=Math.min(1,(s-ie.loaded)/200);Hr(ie.el,Ce),Ce<1?m=!0:(ie.active?M=!0:this._onOpaqueTile(ie),ie.active=!0)}}M&&!this._noPrune&&this._pruneTiles(),m&&(Z(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Fn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,m=this.options.maxZoom;if(s!==void 0){for(var M in this._levels)M=Number(M),this._levels[M].el.children.length||M===s?(this._levels[M].el.style.zIndex=m-Math.abs(s-M),this._onUpdateLevel(M)):(xr(this._levels[M].el),this._removeTilesAtZoom(M),this._onRemoveLevel(M),delete this._levels[M]);var z=this._levels[s],ie=this._map;return z||(z=this._levels[s]={},z.el=Fn("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=m,z.origin=ie.project(ie.unproject(ie.getPixelOrigin()),s).round(),z.zoom=s,this._setZoomTransform(z,ie.getCenter(),ie.getZoom()),w(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,m,M=this._map.getZoom();if(M>this.options.maxZoom||M<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)m=this._tiles[s],m.retain=m.current;for(s in this._tiles)if(m=this._tiles[s],m.current&&!m.active){var z=m.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var m in this._tiles)this._tiles[m].coords.z===s&&this._removeTile(m)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)xr(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,m,M,z){var ie=Math.floor(s/2),Ce=Math.floor(m/2),Ye=M-1,xt=new le(+ie,+Ce);xt.z=+Ye;var It=this._tileCoordsToKey(xt),en=this._tiles[It];return en&&en.active?(en.retain=!0,!0):(en&&en.loaded&&(en.retain=!0),Ye>z?this._retainParent(ie,Ce,Ye,z):!1)},_retainChildren:function(s,m,M,z){for(var ie=2*s;ie<2*s+2;ie++)for(var Ce=2*m;Ce<2*m+2;Ce++){var Ye=new le(ie,Ce);Ye.z=M+1;var xt=this._tileCoordsToKey(Ye),It=this._tiles[xt];if(It&&It.active){It.retain=!0;continue}else It&&It.loaded&&(It.retain=!0);M+1<z&&this._retainChildren(ie,Ce,M+1,z)}},_resetView:function(s){var m=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var m=this.options;return m.minNativeZoom!==void 0&&s<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<s?m.maxNativeZoom:s},_setView:function(s,m,M,z){var ie=Math.round(m);this.options.maxZoom!==void 0&&ie>this.options.maxZoom||this.options.minZoom!==void 0&&ie<this.options.minZoom?ie=void 0:ie=this._clampZoom(ie);var Ce=this.options.updateWhenZooming&&ie!==this._tileZoom;(!z||Ce)&&(this._tileZoom=ie,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ie!==void 0&&this._update(s),M||this._pruneTiles(),this._noPrune=!!M),this._setZoomTransforms(s,m)},_setZoomTransforms:function(s,m){for(var M in this._levels)this._setZoomTransform(this._levels[M],s,m)},_setZoomTransform:function(s,m,M){var z=this._map.getZoomScale(M,s.zoom),ie=s.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(m,M)).round();cn.any3d?Fa(s.el,ie,z):Or(s.el,ie)},_resetGrid:function(){var s=this._map,m=s.options.crs,M=this._tileSize=this.getTileSize(),z=this._tileZoom,ie=this._map.getPixelWorldBounds(this._tileZoom);ie&&(this._globalTileRange=this._pxBoundsToTileRange(ie)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,m.wrapLng[0]],z).x/M.x),Math.ceil(s.project([0,m.wrapLng[1]],z).x/M.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([m.wrapLat[0],0],z).y/M.x),Math.ceil(s.project([m.wrapLat[1],0],z).y/M.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var m=this._map,M=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),z=m.getZoomScale(M,this._tileZoom),ie=m.project(s,this._tileZoom).floor(),Ce=m.getSize().divideBy(z*2);return new Te(ie.subtract(Ce),ie.add(Ce))},_update:function(s){var m=this._map;if(m){var M=this._clampZoom(m.getZoom());if(s===void 0&&(s=m.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(s),ie=this._pxBoundsToTileRange(z),Ce=ie.getCenter(),Ye=[],xt=this.options.keepBuffer,It=new Te(ie.getBottomLeft().subtract([xt,-xt]),ie.getTopRight().add([xt,-xt]));if(!(isFinite(ie.min.x)&&isFinite(ie.min.y)&&isFinite(ie.max.x)&&isFinite(ie.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var en in this._tiles){var _n=this._tiles[en].coords;(_n.z!==this._tileZoom||!It.contains(new le(_n.x,_n.y)))&&(this._tiles[en].current=!1)}if(Math.abs(M-this._tileZoom)>1){this._setView(s,M);return}for(var Vn=ie.min.y;Vn<=ie.max.y;Vn++)for(var kr=ie.min.x;kr<=ie.max.x;kr++){var va=new le(kr,Vn);if(va.z=this._tileZoom,!!this._isValidTile(va)){var $i=this._tiles[this._tileCoordsToKey(va)];$i?$i.current=!0:Ye.push(va)}}if(Ye.sort(function(wi,Lo){return wi.distanceTo(Ce)-Lo.distanceTo(Ce)}),Ye.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Aa=document.createDocumentFragment();for(kr=0;kr<Ye.length;kr++)this._addTile(Ye[kr],Aa);this._level.el.appendChild(Aa)}}}},_isValidTile:function(s){var m=this._map.options.crs;if(!m.infinite){var M=this._globalTileRange;if(!m.wrapLng&&(s.x<M.min.x||s.x>M.max.x)||!m.wrapLat&&(s.y<M.min.y||s.y>M.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(s);return me(this.options.bounds).overlaps(z)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var m=this._map,M=this.getTileSize(),z=s.scaleBy(M),ie=z.add(M),Ce=m.unproject(z,s.z),Ye=m.unproject(ie,s.z);return[Ce,Ye]},_tileCoordsToBounds:function(s){var m=this._tileCoordsToNwSe(s),M=new ce(m[0],m[1]);return this.options.noWrap||(M=this._map.wrapLatLngBounds(M)),M},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var m=s.split(":"),M=new le(+m[0],+m[1]);return M.z=+m[2],M},_removeTile:function(s){var m=this._tiles[s];m&&(xr(m.el),delete this._tiles[s],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){jn(s,"leaflet-tile");var m=this.getTileSize();s.style.width=m.x+"px",s.style.height=m.y+"px",s.onselectstart=w,s.onmousemove=w,cn.ielt9&&this.options.opacity<1&&Hr(s,this.options.opacity)},_addTile:function(s,m){var M=this._getTilePos(s),z=this._tileCoordsToKey(s),ie=this.createTile(this._wrapCoords(s),h(this._tileReady,this,s));this._initTile(ie),this.createTile.length<2&&q(h(this._tileReady,this,s,null,ie)),Or(ie,M),this._tiles[z]={el:ie,coords:s,current:!0},m.appendChild(ie),this.fire("tileloadstart",{tile:ie,coords:s})},_tileReady:function(s,m,M){m&&this.fire("tileerror",{error:m,tile:M,coords:s});var z=this._tileCoordsToKey(s);M=this._tiles[z],M&&(M.loaded=+new Date,this._map._fadeAnimated?(Hr(M.el,0),Z(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(M.active=!0,this._pruneTiles()),m||(jn(M.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:M.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),cn.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var m=new le(this._wrapX?y(s.x,this._wrapX):s.x,this._wrapY?y(s.y,this._wrapY):s.y);return m.z=s.z,m},_pxBoundsToTileRange:function(s){var m=this.getTileSize();return new Te(s.min.unscaleBy(m).floor(),s.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ur(s){return new hr(s)}var ti=hr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,m){this._url=s,m=T(this,m),m.detectRetina&&cn.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,m){return this._url===s&&m===void 0&&(m=!0),this._url=s,m||this.redraw(),this},createTile:function(s,m){var M=document.createElement("img");return sn(M,"load",h(this._tileOnLoad,this,m,M)),sn(M,"error",h(this._tileOnError,this,m,M)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(M.referrerPolicy=this.options.referrerPolicy),M.alt="",M.src=this.getTileUrl(s),M},getTileUrl:function(s){var m={r:cn.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var M=this._globalTileRange.max.y-s.y;this.options.tms&&(m.y=M),m["-y"]=M}return D(this._url,i(m,this.options))},_tileOnLoad:function(s,m){cn.ielt9?setTimeout(h(s,this,null,m),0):s(null,m)},_tileOnError:function(s,m,M){var z=this.options.errorTileUrl;z&&m.getAttribute("src")!==z&&(m.src=z),s(M,m)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,m=this.options.maxZoom,M=this.options.zoomReverse,z=this.options.zoomOffset;return M&&(s=m-s),s+z},_getSubdomain:function(s){var m=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var s,m;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(m=this._tiles[s].el,m.onload=w,m.onerror=w,!m.complete)){m.src=G;var M=this._tiles[s].coords;xr(m),delete this._tiles[s],this.fire("tileabort",{tile:m,coords:M})}},_removeTile:function(s){var m=this._tiles[s];if(m)return m.el.setAttribute("src",G),hr.prototype._removeTile.call(this,s)},_tileReady:function(s,m,M){if(!(!this._map||M&&M.getAttribute("src")===G))return hr.prototype._tileReady.call(this,s,m,M)}});function ki(s,m){return new ti(s,m)}var Wa=ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,m){this._url=s;var M=i({},this.defaultWmsParams);for(var z in m)z in this.options||(M[z]=m[z]);m=T(this,m);var ie=m.detectRetina&&cn.retina?2:1,Ce=this.getTileSize();M.width=Ce.x*ie,M.height=Ce.y*ie,this.wmsParams=M},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,ti.prototype.onAdd.call(this,s)},getTileUrl:function(s){var m=this._tileCoordsToNwSe(s),M=this._crs,z=ne(M.project(m[0]),M.project(m[1])),ie=z.min,Ce=z.max,Ye=(this._wmsVersion>=1.3&&this._crs===jo?[ie.y,ie.x,Ce.y,Ce.x]:[ie.x,ie.y,Ce.x,Ce.y]).join(","),xt=ti.prototype.getTileUrl.call(this,s);return xt+I(this.wmsParams,xt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ye},setParams:function(s,m){return i(this.wmsParams,s),m||this.redraw(),this}});function Qo(s,m){return new Wa(s,m)}ti.WMS=Wa,ki.wms=Qo;var Ka=jr.extend({options:{padding:.1},initialize:function(s){T(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),jn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,m){var M=this._map.getZoomScale(m,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),ie=this._map.project(this._center,m),Ce=z.multiplyBy(-M).add(ie).subtract(this._map._getNewPixelOrigin(s,m));cn.any3d?Fa(this._container,Ce,M):Or(this._container,Ce)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,m=this._map.getSize(),M=this._map.containerPointToLayerPoint(m.multiplyBy(-s)).round();this._bounds=new Te(M,M.add(m.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ls=Ka.extend({options:{tolerance:0},getEvents:function(){var s=Ka.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ka.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");sn(s,"mousemove",this._onMouseMove,this),sn(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),sn(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,xr(this._container),Fr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var m in this._layers)s=this._layers[m],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ka.prototype._update.call(this);var s=this._bounds,m=this._container,M=s.getSize(),z=cn.retina?2:1;Or(m,s.min),m.width=z*M.x,m.height=z*M.y,m.style.width=M.x+"px",m.style.height=M.y+"px",cn.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ka.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var m=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var m=s._order,M=m.next,z=m.prev;M?M.prev=z:this._drawLast=z,z?z.next=M:this._drawFirst=M,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var m=s.options.dashArray.split(/[, ]+/),M=[],z,ie;for(ie=0;ie<m.length;ie++){if(z=Number(m[ie]),isNaN(z))return;M.push(z)}s.options._dashArray=M}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var m=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Te,this._redrawBounds.extend(s._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(s._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var m=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,m=this._redrawBounds;if(this._ctx.save(),m){var M=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,M.x,M.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)s=z.layer,(!m||s._pxBounds&&s._pxBounds.intersects(m))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,m){if(this._drawing){var M,z,ie,Ce,Ye=s._parts,xt=Ye.length,It=this._ctx;if(xt){for(It.beginPath(),M=0;M<xt;M++){for(z=0,ie=Ye[M].length;z<ie;z++)Ce=Ye[M][z],It[z?"lineTo":"moveTo"](Ce.x,Ce.y);m&&It.closePath()}this._fillStroke(It,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var m=s._point,M=this._ctx,z=Math.max(Math.round(s._radius),1),ie=(Math.max(Math.round(s._radiusY),1)||z)/z;ie!==1&&(M.save(),M.scale(1,ie)),M.beginPath(),M.arc(m.x,m.y/ie,z,0,Math.PI*2,!1),ie!==1&&M.restore(),this._fillStroke(M,s)}},_fillStroke:function(s,m){var M=m.options;M.fill&&(s.globalAlpha=M.fillOpacity,s.fillStyle=M.fillColor||M.color,s.fill(M.fillRule||"evenodd")),M.stroke&&M.weight!==0&&(s.setLineDash&&s.setLineDash(m.options&&m.options._dashArray||[]),s.globalAlpha=M.opacity,s.lineWidth=M.weight,s.strokeStyle=M.color,s.lineCap=M.lineCap,s.lineJoin=M.lineJoin,s.stroke())},_onClick:function(s){for(var m=this._map.mouseEventToLayerPoint(s),M,z,ie=this._drawFirst;ie;ie=ie.next)M=ie.layer,M.options.interactive&&M._containsPoint(m)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(M))&&(z=M);this._fireEvent(z?[z]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,m)}},_handleMouseOut:function(s){var m=this._hoveredLayer;m&&(Cr(this._container,"leaflet-interactive"),this._fireEvent([m],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,m){if(!this._mouseHoverThrottled){for(var M,z,ie=this._drawFirst;ie;ie=ie.next)M=ie.layer,M.options.interactive&&M._containsPoint(m)&&(z=M);z!==this._hoveredLayer&&(this._handleMouseOut(s),z&&(jn(this._container,"leaflet-interactive"),this._fireEvent([z],s,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,m,M){this._map._fireDOMEvent(m,M||m.type,s)},_bringToFront:function(s){var m=s._order;if(m){var M=m.next,z=m.prev;if(M)M.prev=z;else return;z?z.next=M:M&&(this._drawFirst=M),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(s)}},_bringToBack:function(s){var m=s._order;if(m){var M=m.next,z=m.prev;if(z)z.next=M;else return;M?M.prev=z:z&&(this._drawLast=z),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(s)}}});function es(s){return cn.canvas?new ls(s):null}var qo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Os={_initContainer:function(){this._container=Fn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ka.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var m=s._container=qo("shape");jn(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",s._path=qo("path"),m.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var m=s._container;this._container.appendChild(m),s.options.interactive&&s.addInteractiveTarget(m)},_removePath:function(s){var m=s._container;xr(m),s.removeInteractiveTarget(m),delete this._layers[g(s)]},_updateStyle:function(s){var m=s._stroke,M=s._fill,z=s.options,ie=s._container;ie.stroked=!!z.stroke,ie.filled=!!z.fill,z.stroke?(m||(m=s._stroke=qo("stroke")),ie.appendChild(m),m.weight=z.weight+"px",m.color=z.color,m.opacity=z.opacity,z.dashArray?m.dashStyle=R(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=z.lineCap.replace("butt","flat"),m.joinstyle=z.lineJoin):m&&(ie.removeChild(m),s._stroke=null),z.fill?(M||(M=s._fill=qo("fill")),ie.appendChild(M),M.color=z.fillColor||z.color,M.opacity=z.fillOpacity):M&&(ie.removeChild(M),s._fill=null)},_updateCircle:function(s){var m=s._point.round(),M=Math.round(s._radius),z=Math.round(s._radiusY||M);this._setPath(s,s._empty()?"M0 0":"AL "+m.x+","+m.y+" "+M+","+z+" 0,"+65535*360)},_setPath:function(s,m){s._path.v=m},_bringToFront:function(s){Vr(s._container)},_bringToBack:function(s){la(s._container)}},wo=cn.vml?qo:fe,mi=Ka.extend({_initContainer:function(){this._container=wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xr(this._container),Fr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ka.prototype._update.call(this);var s=this._bounds,m=s.getSize(),M=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,M.setAttribute("width",m.x),M.setAttribute("height",m.y)),Or(M,s.min),M.setAttribute("viewBox",[s.min.x,s.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(s){var m=s._path=wo("path");s.options.className&&jn(m,s.options.className),s.options.interactive&&jn(m,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){xr(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var m=s._path,M=s.options;m&&(M.stroke?(m.setAttribute("stroke",M.color),m.setAttribute("stroke-opacity",M.opacity),m.setAttribute("stroke-width",M.weight),m.setAttribute("stroke-linecap",M.lineCap),m.setAttribute("stroke-linejoin",M.lineJoin),M.dashArray?m.setAttribute("stroke-dasharray",M.dashArray):m.removeAttribute("stroke-dasharray"),M.dashOffset?m.setAttribute("stroke-dashoffset",M.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),M.fill?(m.setAttribute("fill",M.fillColor||M.color),m.setAttribute("fill-opacity",M.fillOpacity),m.setAttribute("fill-rule",M.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(s,m){this._setPath(s,tt(s._parts,m))},_updateCircle:function(s){var m=s._point,M=Math.max(Math.round(s._radius),1),z=Math.max(Math.round(s._radiusY),1)||M,ie="a"+M+","+z+" 0 1,0 ",Ce=s._empty()?"M0 0":"M"+(m.x-M)+","+m.y+ie+M*2+",0 "+ie+-M*2+",0 ";this._setPath(s,Ce)},_setPath:function(s,m){s._path.setAttribute("d",m)},_bringToFront:function(s){Vr(s._path)},_bringToBack:function(s){la(s._path)}});cn.vml&&mi.include(Os);function zr(s){return cn.svg||cn.vml?new mi(s):null}Yn.include({getRenderer:function(s){var m=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var m=this._paneRenderers[s];return m===void 0&&(m=this._createRenderer({pane:s}),this._paneRenderers[s]=m),m},_createRenderer:function(s){return this.options.preferCanvas&&es(s)||zr(s)}});var Ia=Va.extend({initialize:function(s,m){Va.prototype.initialize.call(this,this._boundsToLatLngs(s),m)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=me(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Oa(s,m){return new Ia(s,m)}mi.create=wo,mi.pointsToPath=tt,Ei.geometryToLayer=So,Ei.coordsToLatLng=pa,Ei.coordsToLatLngs=Eo,Ei.latLngToCoords=Pa,Ei.latLngsToCoords=fi,Ei.getFeature=pi,Ei.asFeature=f,Yn.mergeOptions({boxZoom:!0});var tr=ze.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){sn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ki(),Qn(),this._startPoint=this._map.mouseEventToContainerPoint(s),sn(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Fn("div","leaflet-zoom-box",this._container),jn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var m=new Te(this._point,this._startPoint),M=m.getSize();Or(this._box,m.min),this._box.style.width=M.x+"px",this._box.style.height=M.y+"px"},_finish:function(){this._moved&&(xr(this._box),Cr(this._container,"leaflet-crosshair")),Zi(),er(),Fr(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var m=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yn.addInitHook("addHandler","boxZoom",tr),Yn.mergeOptions({doubleClickZoom:!0});var As=ze.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var m=this._map,M=m.getZoom(),z=m.options.zoomDelta,ie=s.originalEvent.shiftKey?M-z:M+z;m.options.doubleClickZoom==="center"?m.setZoom(ie):m.setZoomAround(s.containerPoint,ie)}});Yn.addInitHook("addHandler","doubleClickZoom",As),Yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var us=ze.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new $t(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}jn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cr(this._map._container,"leaflet-grab"),Cr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=me(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var m=this._lastTime=+new Date,M=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(M),this._times.push(m),this._prunePositions(m)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,m){return s-(s-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;s.x<m.min.x&&(s.x=this._viscousLimit(s.x,m.min.x)),s.y<m.min.y&&(s.y=this._viscousLimit(s.y,m.min.y)),s.x>m.max.x&&(s.x=this._viscousLimit(s.x,m.max.x)),s.y>m.max.y&&(s.y=this._viscousLimit(s.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,m=Math.round(s/2),M=this._initialWorldOffset,z=this._draggable._newPos.x,ie=(z-m+M)%s+m-M,Ce=(z+m+M)%s-m-M,Ye=Math.abs(ie+M)<Math.abs(Ce+M)?ie:Ce;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ye},_onDragEnd:function(s){var m=this._map,M=m.options,z=!M.inertia||s.noInertia||this._times.length<2;if(m.fire("dragend",s),z)m.fire("moveend");else{this._prunePositions(+new Date);var ie=this._lastPos.subtract(this._positions[0]),Ce=(this._lastTime-this._times[0])/1e3,Ye=M.easeLinearity,xt=ie.multiplyBy(Ye/Ce),It=xt.distanceTo([0,0]),en=Math.min(M.inertiaMaxSpeed,It),_n=xt.multiplyBy(en/It),Vn=en/(M.inertiaDeceleration*Ye),kr=_n.multiplyBy(-Vn/2).round();!kr.x&&!kr.y?m.fire("moveend"):(kr=m._limitOffset(kr,m.options.maxBounds),q(function(){m.panBy(kr,{duration:Vn,easeLinearity:Ye,noMoveStart:!0,animate:!0})}))}}});Yn.addInitHook("addHandler","dragging",us),Yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lo=ze.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),sn(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,m=document.documentElement,M=s.scrollTop||m.scrollTop,z=s.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(z,M)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var m=this._panKeys={},M=this.keyCodes,z,ie;for(z=0,ie=M.left.length;z<ie;z++)m[M.left[z]]=[-1*s,0];for(z=0,ie=M.right.length;z<ie;z++)m[M.right[z]]=[s,0];for(z=0,ie=M.down.length;z<ie;z++)m[M.down[z]]=[0,s];for(z=0,ie=M.up.length;z<ie;z++)m[M.up[z]]=[0,-1*s]},_setZoomDelta:function(s){var m=this._zoomKeys={},M=this.keyCodes,z,ie;for(z=0,ie=M.zoomIn.length;z<ie;z++)m[M.zoomIn[z]]=s;for(z=0,ie=M.zoomOut.length;z<ie;z++)m[M.zoomOut[z]]=-s},_addHooks:function(){sn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var m=s.keyCode,M=this._map,z;if(m in this._panKeys){if(!M._panAnim||!M._panAnim._inProgress)if(z=this._panKeys[m],s.shiftKey&&(z=ke(z).multiplyBy(3)),M.options.maxBounds&&(z=M._limitOffset(ke(z),M.options.maxBounds)),M.options.worldCopyJump){var ie=M.wrapLatLng(M.unproject(M.project(M.getCenter()).add(z)));M.panTo(ie)}else M.panBy(z)}else if(m in this._zoomKeys)M.setZoom(M.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&M._popup&&M._popup.options.closeOnEscapeKey)M.closePopup();else return;to(s)}}});Yn.addInitHook("addHandler","keyboard",lo),Yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Li=ze.extend({addHooks:function(){sn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var m=Do(s),M=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var z=Math.max(M-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),z),to(s)},_performZoom:function(){var s=this._map,m=s.getZoom(),M=this._map.options.zoomSnap||0;s._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ie=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,Ce=M?Math.ceil(ie/M)*M:ie,Ye=s._limitZoom(m+(this._delta>0?Ce:-Ce))-m;this._delta=0,this._startTime=null,Ye&&(s.options.scrollWheelZoom==="center"?s.setZoom(m+Ye):s.setZoomAround(this._lastMousePos,m+Ye))}});Yn.addInitHook("addHandler","scrollWheelZoom",Li);var hl=600;Yn.mergeOptions({tapHold:cn.touchNative&&cn.safari&&cn.mobile,tapTolerance:15});var ga=ze.extend({addHooks:function(){sn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var m=s.touches[0];this._startPos=this._newPos=new le(m.clientX,m.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(sn(document,"touchend",Kr),sn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),hl),sn(document,"touchend touchcancel contextmenu",this._cancel,this),sn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Fr(document,"touchend",Kr),Fr(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Fr(document,"touchend touchcancel contextmenu",this._cancel,this),Fr(document,"touchmove",this._onMove,this)},_onMove:function(s){var m=s.touches[0];this._newPos=new le(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,m){var M=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});M._simulated=!0,m.target.dispatchEvent(M)}});Yn.addInitHook("addHandler","tapHold",ga),Yn.mergeOptions({touchZoom:cn.touch,bounceAtZoomLimits:!0});var ma=ze.extend({addHooks:function(){jn(this._map._container,"leaflet-touch-zoom"),sn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cr(this._map._container,"leaflet-touch-zoom"),Fr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var m=this._map;if(!(!s.touches||s.touches.length!==2||m._animatingZoom||this._zooming)){var M=m.mouseEventToContainerPoint(s.touches[0]),z=m.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(M.add(z)._divideBy(2))),this._startDist=M.distanceTo(z),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),sn(document,"touchmove",this._onTouchMove,this),sn(document,"touchend touchcancel",this._onTouchEnd,this),Kr(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var m=this._map,M=m.mouseEventToContainerPoint(s.touches[0]),z=m.mouseEventToContainerPoint(s.touches[1]),ie=M.distanceTo(z)/this._startDist;if(this._zoom=m.getScaleZoom(ie,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&ie<1||this._zoom>m.getMaxZoom()&&ie>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,ie===1)return}else{var Ce=M._add(z)._divideBy(2)._subtract(this._centerPoint);if(ie===1&&Ce.x===0&&Ce.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(Ce),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var Ye=h(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(Ye,this,!0),Kr(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),Fr(document,"touchmove",this._onTouchMove,this),Fr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yn.addInitHook("addHandler","touchZoom",ma),Yn.BoxZoom=tr,Yn.DoubleClickZoom=As,Yn.Drag=us,Yn.Keyboard=lo,Yn.ScrollWheelZoom=Li,Yn.TapHold=ga,Yn.TouchZoom=ma,n.Bounds=Te,n.Browser=cn,n.CRS=Be,n.Canvas=ls,n.Circle=Ua,n.CircleMarker=Oi,n.Class=U,n.Control=Kn,n.DivIcon=$n,n.DivOverlay=st,n.DomEvent=ka,n.DomUtil=Ca,n.Draggable=$t,n.Evented=ue,n.FeatureGroup=ia,n.GeoJSON=Ei,n.GridLayer=hr,n.Handler=ze,n.Icon=Ma,n.ImageOverlay=C,n.LatLng=we,n.LatLngBounds=ce,n.Layer=jr,n.LayerGroup=ra,n.LineUtil=Na,n.Map=Yn,n.Marker=so,n.Mixin=et,n.Path=gi,n.Point=le,n.PolyUtil=Tn,n.Polygon=Va,n.Polyline=Yi,n.Popup=_t,n.PosAnimation=Fo,n.Projection=Ui,n.Rectangle=Ia,n.Renderer=Ka,n.SVG=mi,n.SVGOverlay=xe,n.TileLayer=ti,n.Tooltip=pn,n.Transformation=Fe,n.Util=X,n.VideoOverlay=W,n.bind=h,n.bounds=ne,n.canvas=es,n.circle=Ga,n.circleMarker=qa,n.control=hi,n.divIcon=Mr,n.extend=i,n.featureGroup=da,n.geoJSON=o,n.geoJson=d,n.gridLayer=Ur,n.icon=ss,n.imageOverlay=B,n.latLng=Le,n.latLngBounds=me,n.layerGroup=Ho,n.map=_o,n.marker=fa,n.point=ke,n.polygon=Ji,n.polyline=ui,n.popup=Yt,n.rectangle=Oa,n.setOptions=T,n.stamp=g,n.svg=zr,n.svgOverlay=$e,n.tileLayer=ki,n.tooltip=Pn,n.transformation=de,n.version=r,n.videoOverlay=se;var ko=window.L;n.noConflict=function(){return window.L=ko,this},window.L=n}))})(qu,qu.exports)),qu.exports}var jl=N1();const ci=tp(jl);function nd(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function rd(e,t){return t==null?function(r,i){const l=b.useRef(void 0);return l.current||(l.current=e(r,i)),l}:function(r,i){const l=b.useRef(void 0);l.current||(l.current=e(r,i));const h=b.useRef(r),{instance:c}=l.current;return b.useEffect(function(){h.current!==r&&(t(c,r,h.current),h.current=r)},[c,r,t]),l}}function M1(e,t){b.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function zN(e){return function(n){const r=mc(),i=e(Dp(n,r),r);return DN(r.map,n.attribution),L1(i.current,n.eventHandlers),M1(i.current,r),i}}function HN(e,t){const n=b.useRef(void 0);b.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function qN(e){return function(n){const r=mc(),i=e(Dp(n,r),r);return L1(i.current,n.eventHandlers),M1(i.current,r),HN(i.current,n),i}}function P1(e){function t(i,l){return nd(e(i),l)}const n=rd(t),r=k1(n);return E1(r)}function UN(e,t){const n=rd(e,t),r=qN(n);return S1(r)}function GN(e,t){const n=rd(e,t),r=zN(n);return E1(r)}function VN(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Yo(){return mc().map}const wh=UN(function({data:t,...n},r){const i=new jl.GeoJSON(t,n);return nd(i,Bp(r,{overlayContainer:i}))},function(t,n,r){n.style!==r.style&&(n.style==null?t.resetStyle():t.setStyle(n.style))}),WN=rd(function({children:t,...n},r){const i=new jl.Control.Layers(void 0,void 0,n);return nd(i,Bp(r,{layersControl:i}))},function(t,n,r){n.collapsed!==r.collapsed&&(n.collapsed===!0?t.collapse():t.expand())}),KN=k1(WN),$p=S1(KN);function I1(e){return function(n){const r=mc(),i=b.useRef(n),[l,h]=b.useState(null),{layersControl:c,map:g}=r,v=b.useCallback(k=>{c!=null&&(i.current.checked&&g.addLayer(k),e(c,k,i.current.name),h(k))},[e,c,g]),y=b.useCallback(k=>{c?.removeLayer(k),h(null)},[c]),w=b.useMemo(()=>Bp(r,{layerContainer:{addLayer:v,removeLayer:y}}),[r,v,y]);return b.useEffect(()=>{l!==null&&i.current!==n&&(n.checked===!0&&(i.current.checked==null||i.current.checked===!1)?g.addLayer(l):i.current.checked===!0&&(n.checked==null||n.checked===!1)&&g.removeLayer(l),i.current=n)}),n.children?Ot.createElement(td,{value:w},n.children):null}}$p.BaseLayer=I1(function(t,n,r){t.addBaseLayer(n,r)});$p.Overlay=I1(function(t,n,r){t.addOverlay(n,r)});function ZN({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:l,placeholder:h,style:c,whenReady:g,zoom:v,...y},w){const[k]=b.useState({className:i,id:l,style:c}),[x,N]=b.useState(null),T=b.useRef(void 0);b.useImperativeHandle(w,()=>x?.map??null,[x]);const I=b.useCallback(D=>{if(D!==null&&!T.current){const R=new jl.Map(D,y);T.current=R,n!=null&&v!=null?R.setView(n,v):e!=null&&R.fitBounds(e,t),g!=null&&R.whenReady(g),N(FN(R))}},[]);b.useEffect(()=>()=>{x?.map.remove()},[x]);const O=x?Ot.createElement(td,{value:x},r):h??null;return Ot.createElement("div",{...k,ref:I},O)}const O1=b.forwardRef(ZN),A1=P1(function(t){return new jl.Control.Scale(t)}),XN=GN(function({url:t,...n},r){const i=new jl.TileLayer(t,Dp(n,r));return nd(i,r)},function(t,n,r){VN(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),YN=P1(function(t){return new jl.Control.Zoom(t)}),go={color:"#000000",weight:1,opacity:1,fillOpacity:1,fillColor:"transparent",markerFillColor:"#000000",radius:3},JN={color:"#ff0000",weight:3,opacity:.8,fillColor:"#ff0000",fillOpacity:.6},QN={radius:10,color:"#ff0000",weight:2,opacity:.9,fillColor:"#ff0000",fillOpacity:.6},eM={color:"#ffbf00",weight:2,opacity:.9,fillColor:"#ffbf00",fillOpacity:.6},tM={radius:8,color:"#ffbf00",weight:2,opacity:.9,fillColor:"##ffbf00",fillOpacity:.6},nM={maxWidth:450,maxHeight:400,className:"custom-popup",autoPan:!0,autoPanPadding:[50,50],autoPanPaddingTopLeft:[50,50],autoPanPaddingBottomRight:[50,50]},zs={OVERLAY_BASE:400,SELECTED_FEATURES:1e4},$d={POLYGON:"G",LINE:"L",POINT:"P"},Ch={weightIncrease:1,fillOpacityIncrease:.2},rM={fillOpacity:0},iM=e=>{if(!e)return"";const t=e.lat?.toFixed(6)||"N/A",n=e.lng?.toFixed(6)||"N/A";return`
    <div style="padding:16px;border-bottom:1px solid #e5e7eb;background:#f8fafc;">
      <div style="display:flex;align-items:center;margin-bottom:8px;">
        <svg style="width:16px;height:16px;margin-right:8px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
        <h3 style="margin:0;font-size:14px;font-weight:600;color:#1e293b;">Coordinates</h3>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;font-size:12px;">
        <div>
          <span style="font-weight:500;color:#64748b;">Latitude:</span>
          <div style="color:#1e293b;font-weight:600;margin-top:2px;">${t}</div>
        </div>
        <div>
          <span style="font-weight:500;color:#64748b;">Longitude:</span>
          <div style="color:#1e293b;font-weight:600;margin-top:2px;">${n}</div>
        </div>
      </div>
    </div>
  `},aM=(e={})=>{const t=Object.entries(e||{}),n=t.filter(([v])=>String(v).toLowerCase().endsWith("_img_url")),r=t.filter(([v])=>!String(v).toLowerCase().endsWith("_img_url")),i=v=>String(v).replace(/_img_url$/i,"").replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()).trim(),l=v=>!v&&v!==0?[]:Array.isArray(v)?v.map(String).map(y=>y.trim()).filter(Boolean):typeof v=="string"?v.includes(",")?v.split(",").map(y=>y.trim()).filter(Boolean):[v.trim()]:[String(v)],h=n.map(([v,y])=>l(y).filter(k=>{try{return k.startsWith("data:")||k.startsWith("//")||new URL(k),!0}catch{return!1}}).map(k=>({url:k,key:i(v)}))).flat();if(r.length===0&&h.length===0)return`
      <div style="padding:16px;">
        <div style="display:flex;align-items:center;margin-bottom:12px;">
          <svg style="width:16px;height:16px;margin-right:8px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
          <h3 style="margin:0;font-size:14px;font-weight:600;color:#1e293b;">Properties</h3>
        </div>
        <div style="text-align:center;padding:20px;color:#64748b;font-size:12px;">
          No properties available
        </div>
      </div>
    `;let c="";if(h.length>0)if(h.length>1){const v=h.map((y,w)=>`
          <a href="${y.url}" target="_blank" rel="noopener noreferrer" aria-label="${y.key} ${w+1}" style="flex:0 0 auto;border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(15,23,42,0.08);margin-right:8px;scroll-snap-align:start;">
            <img loading="lazy" src="${y.url}" alt="${y.key} ${w+1}" style="display:block;height:120px;width:auto;max-width:220px;object-fit:cover;border:0;">
          </a>
        `).join("");c=`
        <div style="padding:12px 16px;border-bottom:1px solid #e5e7eb;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
            <div style="display:flex;align-items:center;gap:8px;">
              <svg style="width:14px;height:14px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <h4 style="margin:0;font-size:13px;font-weight:600;color:#1e293b;">Images</h4>
            </div>
            <div style="font-size:12px;color:#64748b;">${h.length} image${h.length>1?"s":""}</div>
          </div>
          <div style="display:flex;overflow-x:auto;gap:8px;padding-bottom:8px;-webkit-overflow-scrolling:touch;scroll-snap-type:x mandatory;">
            ${v}
          </div>
        </div>
      `}else{const v=h[0];c=`
        <div style="padding:12px 16px;border-bottom:1px solid #e5e7eb;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
            <div style="display:flex;align-items:center;gap:8px;">
              <svg style="width:14px;height:14px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <h4 style="margin:0;font-size:13px;font-weight:600;color:#1e293b;">${v.key}</h4>
            </div>
          </div>
          <div style="display:flex;align-items:flex-start;">
            <a href="${v.url}" target="_blank" rel="noopener noreferrer" style="display:inline-block;border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(15,23,42,0.08);">
              <img loading="lazy" src="${v.url}" alt="${v.key}" style="display:block;height:160px;max-width:100%;width:auto;object-fit:cover;border:0;">
            </a>
          </div>
        </div>
      `}const g=r.map(([v,y],w)=>{const k=y!=null?String(y):"",x=w%2===0?"#f8fafc":"#ffffff",N=i(v),I=typeof y=="string"&&/^(https?:\/\/|\/\/|data:)/i.test(y.trim())?`<a href="${String(y).trim()}" target="_blank" rel="noopener noreferrer" style="color:#2563eb;text-decoration:underline;">${String(y)}</a>`:k;return`
        <tr style="background-color:${x};">
          <td style="font-weight:600;padding:10px 12px;border-bottom:1px solid #e5e7eb;color:#1f2937;font-size:12px;width:40%;">${N}</td>
          <td style="padding:10px 12px;border-bottom:1px solid #e5e7eb;color:#4b5563;font-size:12px;word-break:break-word;width:60%;">${I}</td>
        </tr>
      `}).join("");return`
    <div style="padding:0 0 0 0;">
      <div style="display:flex;align-items:center;padding:16px;border-bottom:1px solid #e5e7eb;">
        <svg style="width:16px;height:16px;margin-right:8px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
        </svg>
        <h3 style="margin:0;font-size:14px;font-weight:600;color:#1e293b;">Properties</h3>
      </div>

      ${c}

      ${r.length>0?`
        <div style="padding:16px;">
          <div>
            <table style="width:100%;border-collapse:collapse;font-family:'Segoe UI',Arial,sans-serif;font-size:12px;">
              <tbody>${g}</tbody>
            </table>
          </div>
          ${r.length<Object.keys(e).length?`<div style="text-align:center;padding:8px;color:#64748b;font-size:11px;border-top:1px solid #e5e7eb;margin-top:8px;">
              +${Object.keys(e).length-r.length} more properties
            </div>`:""}
        </div>
      `:""}
    </div>
  `},oM=(e={},t=null,n="",r="")=>`
    <div style="width:380px;max-height:400px;background:#ffffff;border-radius:8px;box-shadow:0 10px 25px rgba(0,0,0,0.15);overflow:hidden;border:1px solid #e2e8f0;display:flex;flex-direction:column;">
      <div style="background:linear-gradient(135deg,#3b82f6,#1d4ed8);padding:16px;flex:0 0 auto;">
        <h2 style="margin:0;font-size:16px;font-weight:700;color:white;display:flex;align-items:center;gap:8px;">
          <svg style="width:18px;height:18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          Feature Details
        </h2>
        <div style="margin-top:4px;margin-left:25px;font-size:12px;color:#d1d5db;font-weight:500;">${r||"Unnamed Layer"}</div>
      </div>

      <!-- unified scrollable content block: coordinates, images, properties are inside this element -->
      <div style="flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;">
        ${(n==="point"||n==="P")&&t?iM(t):""}
        ${aM(e)}
      </div>
    </div>
  `,T1=(e,t={},n="",r=null,i="",l="")=>{if(t&&Object.keys(t).length>0){const h=oM(t,r,i,l);e.bindPopup(h,{...nM,className:"enhanced-tooltip"})}},sM=96,lM=39.3701,uM=156543.03392,cM=uM*sM*lM,Zm={0:"1000000000",1:"500000000",2:"250000000",3:"150000000",4:"70000000",5:"35000000",6:"15000000",7:"8000000",8:"4000000",9:"2000000",10:"1000000",11:"250000",12:"100000",13:"50000",14:"25000",15:"10000",16:"5000",17:"2500",18:"1000",19:"500",20:"250",21:"100",22:"50"},hM=e=>{console.log("myLog zoomToScaley called with zoom:",e);const t=Object.keys(Zm).map(Number).sort((i,l)=>i-l);let n=t[0];for(const i of t)if(i<=e)n=i;else break;const r=Zm[n];return console.log("myLog zoomToScaley returning scaleDen:",r),Math.round(r)},dM=e=>{console.log("myLog scaleToZoom called with scaleValue:",e);const t=Math.log2(cM/e);return console.log("myLog scaleToZoomx returning zoomLevel:",Math.max(0,Math.min(20,Math.round(t*10)/10))),Math.max(0,Math.min(20,Math.round(t*10)/10))},fM=e=>{if(e.includes(":")){const t=e.split(":");return parseFloat(t[1]||t[0])}return parseFloat(e)},R1=b.memo(({layerId:e,geoJsonData:t,metaData:n})=>{const r=Yo(),i=Dr(R=>R.map.layerOrder),l=Dr(R=>R.map.viewport.zoom),h=b.useMemo(()=>{const R=n?.style||{},$=n?.portal_layer_map||{};let G=0,ee=0;if(R.label_offset_xy)try{const te=JSON.parse(R.label_offset_xy);Array.isArray(te)&&te.length>=2&&(G=Number(te[0])*-1||0,ee=Number(te[1])||0)}catch{console.warn("Failed to parse label_offset_xy:",R.label_offset_xy)}return{fontType:R.label_font_typ||"Arial",fontSize:Number(R.label_font_size)||12,textColor:R.label_color||"#000000",bgColor:R.label_bg_color||"transparent",bgStrokeWidth:Number(R.label_bg_stroke_width)||0,zoomLevel:Number($?.label_view_zoom_level)||0,offsetX:G,offsetY:ee,enabled:R.label_font_size!==void 0&&R.label_font_size!==null}},[n?.style]),c=b.useMemo(()=>i.includes(e),[i,e]);b.useMemo(()=>l>=h.zoomLevel,[l,h.zoomLevel]);const g=b.useCallback(R=>{if(!R)return null;switch(R.type.toLowerCase()){case"point":return R.coordinates;case"linestring":return v(R.coordinates);case"polygon":return y(R.coordinates[0]);case"multipoint":return w(R.coordinates);case"multilinestring":return k(R.coordinates);case"multipolygon":return x(R.coordinates);default:return null}},[]),v=b.useCallback(R=>{if(!R||R.length===0)return null;const $=Math.floor(R.length/2);return R[$]},[]),y=b.useCallback(R=>{if(!R||R.length===0)return null;let $=0,G=0,ee=0;for(let te=0;te<R.length-1;te++){const[J,H]=R[te],[oe,q]=R[te+1],Z=J*q-oe*H;$+=Z,G+=(J+oe)*Z,ee+=(H+q)*Z}return $===0?R[0]:[G/(3*$),ee/(3*$)]},[]),w=b.useCallback(R=>{if(!R||R.length===0)return null;const $=R.reduce((ee,te)=>ee+te[0],0),G=R.reduce((ee,te)=>ee+te[1],0);return[$/R.length,G/R.length]},[]),k=b.useCallback(R=>!R||R.length===0?null:v(R[0]),[v]),x=b.useCallback(R=>!R||R.length===0?null:y(R[0][0]),[y]),N=b.useCallback(R=>{if(!R)return null;const $=n?.portal_layer_map?.label_text_col_nm||null;return $&&R[$]?R[$]:null},[n.portal_layer_map]),T=(R,$)=>{const G=`
      <div class="label-text" style="
        font-family: ${$.fontType}, sans-serif;
        font-size: ${$.fontSize}px;
        color: ${$.textColor};
        background-color: ${$.bgColor};
        border: ${$.bgStrokeWidth}px solid ${$.textColor};
        padding: 4px 8px;
        border-radius: 4px;
        white-space: nowrap;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        font-weight: 600;
      ">
        ${R}
      </div>
    `;return ci.divIcon({html:G,className:"feature-label-icon",iconSize:null,iconAnchor:[$.offsetX,$.offsetY]})},I=b.useRef([]);b.useEffect(()=>{if(D(),!r||!t||!c||!h.enabled)return;O();const R=()=>{const G=r.getZoom()>=h.zoomLevel;I.current.forEach(ee=>ee.setOpacity(G?1:0))};return r.on("zoomend",R),()=>{r.off("zoomend",R),D()}},[r,t,c,h,g,N]);const O=b.useCallback(()=>{D(),!(!t.features||t.features.length===0)&&t.features.forEach(R=>{try{const $=g(R.geometry);if(!$)return;const G=N(R.properties);if(!G)return;const[ee,te]=$,J=ci.latLng(te,ee),H=T(G,h),oe=ci.marker(J,{icon:H,interactive:!1,zIndexOffset:1e3});oe.addTo(r),I.current.push(oe);const q=r.getZoom?.()??l;oe.setOpacity(q>=h.zoomLevel?1:0)}catch($){console.warn("Error creating label for feature:",$)}})},[t,g,N,h,r]);b.useCallback(()=>{const $=r.getZoom()>=h.zoomLevel;I.current.forEach(G=>{G.setOpacity($?1:0)})},[r,h.zoomLevel]);const D=b.useCallback(()=>{I.current.forEach(R=>{try{r.removeLayer(R)}catch{}}),I.current=[]},[r]);return null});R1.displayName="LabelLayer";const Fp=b.memo(({layerId:e,geoJsonData:t,metaData:n,pane:r})=>{const i=Ko(),l=Dr(x=>x.map.viewport),h=Yo(),c=Dr(x=>x.ui.isPrintModalOpen),g=b.useMemo(()=>{const x=`__canvas_renderer_for_${r}`;return h[x]||(h[x]=ci.canvas({padding:.5,pane:r,tolerance:0})),h[x]},[h,r]),v=b.useMemo(()=>{const x=`__svg_renderer_for_${r}`;return h[x]||(h[x]=ci.svg({pane:r})),h[x]},[h,r]),y=b.useCallback(x=>{const N=n?.style||{},T={color:N.stroke_color||go.color,weight:N.stroke_width||go.weight,opacity:N.stroke_opacity||go.opacity,fillOpacity:N.fill_opacity||go.fillOpacity,fillColor:N.fill_color||go.fillColor};switch(N.geom_typ){case $d.POLYGON:return T;case $d.LINE:return{...T,...rM};case $d.POINT:return{radius:N.marker_size||go.radius,color:N.stroke_color||go.color,fillColor:N.fill_color||go.markerFillColor,fillOpacity:N.fill_opacity||go.fillOpacity,weight:N.stroke_width||go.weight};default:return go}},[]),w=b.useCallback((x,N,T)=>{if(x.properties&&!c){const I="Tooltip",O=x.geometry?.type?.toLowerCase();let D=null;if(O==="point"&&x.geometry?.coordinates){const[R,$]=x.geometry.coordinates;D=ci.latLng($,R)}console.log(T,N,{...x.properties},I,D,O,"mylog tooltip"),T1(N,{...x.properties},I,D,O,T)}N.on("mouseover",I=>{const O=y(x);I.target.setStyle({...O,weight:O.weight+Ch.weightIncrease,fillOpacity:(O.fillOpacity||0)+Ch.fillOpacityIncrease})}),N.on("mouseout",I=>{I.target.setStyle(y(x))}),N.on("click",I=>{try{const O=N.getBounds?.();if(console.log(O,"bounds"),O?.isValid()){const D=O.getCenter();i(ch({center:[D.lat,D.lng],zoom:Math.min(16,l.zoom||13)}))}else if(x.geometry?.coordinates){const[D,R]=x.geometry.coordinates;i(ch({center:[R,D]}))}}catch{}})},[i,y,l.zoom,c]),k=b.useCallback((x,N)=>{const T=n?.style||{},I=T.marker_fa_icon_name,O=T.marker_img_url,D=Math.max(8,Number(T.marker_size)||18)*(c?1.2:1),R=T.marker_color||"#2c3e50";if(O){const $=ci.icon({iconUrl:O,iconSize:[D,D],iconAnchor:[D/2,D/2],className:c?"print-marker-icon":""});return ci.marker(N,{icon:$})}if(I){const $=`<i class="${I}" style="font-size:${D}px;color:${R};line-height:1;${c?"filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.3));":""}"></i>`,G=ci.divIcon({className:`fa-icon-marker ${c?"print-marker":""}`,html:$,iconSize:[D,D],iconAnchor:[Math.round(D/2),Math.round(D/2)]});return ci.marker(N,{icon:G})}return ci.circleMarker(N,{...y(x),radius:Math.max(4,(T.marker_size||8)*(c?1.2:1))})},[y,n,c]);return Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(wh,{data:t,style:y,pointToLayer:k,onEachFeature:(x,N)=>w(x,N,n?.layer?.layer_nm),pane:r,renderer:c?v:g},`${e}-${c?"print":"normal"}`),Ie.jsx(R1,{layerId:e,geoJsonData:t,metaData:n})]})});Fp.displayName="GeoJsonLayerWrapper";const pM=Hv.injectEndpoints({endpoints:e=>({getLegend:e.mutation({query:t=>({url:"legend/",method:"POST",body:t})})}),overrideExisting:!1}),{useGetLegendMutation:gM}=pM;function B1({iconInfo:e}){let t=e?.geom_typ,n="unknown-layer-icon",r={backgroundColor:e?.fill_color||go.fillColor,borderColor:e?.stroke_color||go.color};const i=e?.marker_img_url;if(i)return Ie.jsx("div",{className:"layer-icon",style:{},children:Ie.jsx("img",{src:i,alt:"marker",style:{width:"16px",height:"16px",objectFit:"contain"}})});const l=e?.marker_fa_icon_name;if(l){const g={fontSize:"16px",color:e?.fill_color||go.color,lineHeight:1};return Ie.jsx("div",{className:"layer-icon",style:{},children:Ie.jsx("i",{className:l,style:g,"aria-hidden":"true"})})}return t==="G"?n="polygon-icon":t==="P"?(n="point-icon",r={...r,backgroundColor:e?.stroke_color||go.markerFillColor}):t==="L"&&(n="line-icon",r={backgroundColor:e?.stroke_color||go.color,borderColor:"transparent"}),Ie.jsx("div",{className:n,style:r})}const D1=({visible:e})=>{const t=Dr(v=>v.map.geoJsonLayers),n=Dr(v=>v.map.portalId),[r,{isLoading:i}]=gM(),[l,h]=b.useState(null),[c,g]=b.useState(null);return b.useEffect(()=>{let v=!0;async function y(){g(null),h(null);const w=Object.keys(t||{});if(w.length!==0)try{const x=await r({portal_id:n,layer_ids:w}).unwrap();v&&h(x?.data||null)}catch(k){v&&g(k?.data||k?.message||"Failed to load legend")}}return e&&y(),()=>{v=!1}},[e,t,r]),e?Ie.jsxs(ph,{className:"map-legend",style:{position:"absolute",bottom:"20px",right:"20px",zIndex:1e3,backgroundColor:"white",maxWidth:"320px",maxHeight:"400px",overflowY:"auto"},size:"small",title:"Legend",children:[i&&Ie.jsx("div",{style:{textAlign:"center",padding:12},children:Ie.jsx($l,{})}),c&&Ie.jsx(ou,{type:"error",message:"Error",description:typeof c=="string"?c:JSON.stringify(c),showIcon:!0}),Object.entries(t||{}).length===0&&Ie.jsx("div",{children:"No layer selected"}),!i&&!c&&l&&l.length===0&&Ie.jsx("div",{children:"No legend items found"}),!i&&!c&&l&&l.map(v=>Ie.jsx("div",{style:{marginBottom:"12px"},children:Array.isArray(v.symbols)&&v.symbols.map((y,w)=>Ie.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:6},children:[Ie.jsx(B1,{iconInfo:{...y.style,geom_typ:y.geom_type}}),Ie.jsx("div",{children:Ie.jsx("div",{style:{fontSize:11,color:"#888"},children:y.label||""})})]},w))},v.layerId))]}):null},mM={color:"#ff0000",weight:2,opacity:1,fillColor:"#ff0000",fillOpacity:.25},jp=b.memo(({layerId:e,geoJsonData:t,metaData:n,pane:r})=>{const i=Ko(),l=Dr(x=>x.map.viewport),h=Yo(),c=Dr(x=>x.ui.isPrintModalOpen),g=b.useMemo(()=>{const x=`__canvas_renderer_for_${r}`;return h[x]||(h[x]=ci.canvas({padding:.5,pane:r})),h[x]},[h,r]),v=b.useMemo(()=>{const x=`__svg_renderer_for_${r}`;return h[x]||(h[x]=ci.svg({pane:r})),h[x]},[h,r]),y=b.useCallback(()=>mM,[]),w=b.useCallback((x,N)=>{N.on("mouseover",T=>{const I=y(x);T.target.setStyle({...I,weight:(I.weight||2)+Ch.weightIncrease,fillOpacity:(I.fillOpacity||0)+Ch.fillOpacityIncrease})}),N.on("mouseout",T=>{T.target.setStyle(y(x))})},[i,y,l.zoom]),k=b.useCallback((x,N)=>ci.circleMarker(N,{radius:8,color:"#ff0000",fillColor:"#ff0000",fillOpacity:.35,weight:2}),[]);return Ie.jsx(wh,{data:t,style:y,pointToLayer:k,onEachFeature:w,pane:r,renderer:c?v:g},e)});jp.displayName="BufferGeoJsonLayer";const Xm={openstreetmap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors",maxZoom:19},google_satellite:{url:"http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],maxZoom:20},esri_satellite:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri",maxZoom:20},stadia_alidade_satellite:{url:"https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.jpg",attribution:'&copy; CNES, Distribution Airbus DS,  Airbus DS,  PlanetObserver (Contains Copernicus Data) | &copy; <a href="https://www.stadiamaps.com/">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:20},stadia_alidade_dark:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}};function $1(e){const t=Dr(i=>i.map?.activeBasemap)||"openstreetmap",n=t==="streets"?"openstreetmap":t,r={...Xm[n]||Xm.openstreetmap};return Ie.jsx(XN,{...r,updateWhenIdle:!1,updateWhenZooming:!1,...e},n)}const vM=[{key:"openstreetmap",label:"OSM",title:"OpenStreetMap"},{key:"google_satellite",label:"Google",title:"Google Satellite"},{key:"esri_satellite",label:"ESRI",title:"ESRI Satellite"},{key:"stadia_alidade_satellite",label:"Stadia Sat",title:"Stadia Alidade Satellite"},{key:"stadia_alidade_dark",label:"Stadia Dark",title:"Stadia Alidade Dark"}];function yM(){const e=Ko(),t=Dr(n=>n.map?.activeBasemap)||"openstreetmap";return Ie.jsxs(Ie.Fragment,{children:[Ie.jsx($1,{}),Ie.jsx("div",{style:{position:"absolute",top:8,right:8,zIndex:1200,display:"flex",flexDirection:"column",gap:6,padding:6,borderRadius:6,background:"rgba(255,255,255,0.9)",boxShadow:"0 1px 6px rgba(0,0,0,0.15)",textAlign:"start"},children:vM.map(n=>Ie.jsx(sa,{title:n.title,children:Ie.jsx(ii,{size:"small",type:n.key===t?"primary":"default",onClick:()=>e(yx(n.key)),style:{display:"flex",alignItems:"center",justifyContent:"start"},children:n.label})},n.key))})]})}const Ym={padding:[10,10],maxZoom:16,duration:.7};function _M({csvDownloader:e=!0,clearDataOnTabChange:t=!0,clearDataOnClose:n=!0,defaultSelectAll:r=!1}){const i=Ko(),l=Yo(),[h,c]=b.useState(null),[g,v]=b.useState({}),[y,w]=b.useState([]),[k,x]=b.useState(!1),N=Dr(Q=>Q.map.geoJsonLayers),T=b.useCallback(Q=>{const ae=Q.split("-"),ue=ae[ae.length-1];return Number(ue)},[]),I=b.useCallback((Q,ae)=>{const ue=N[Q]?.geoJsonData?.features||[],le=T(ae);return ue[le]||null},[N,T]),O=b.useCallback(Q=>!Q||Object.keys(Q).length===0?[]:Object.keys(Q).map(ae=>({title:ae.charAt(0).toUpperCase()+ae.slice(1),dataIndex:ae,key:ae,sorter:(ue,le)=>typeof ue[ae]=="number"&&typeof le[ae]=="number"?ue[ae]-le[ae]:String(ue[ae]??"").localeCompare(String(le[ae]??""))})),[]),D=b.useCallback((Q,ae)=>!Q||Q.length===0?[]:Q.map((ue,le)=>({key:`${ae}-${le}`,featureIndex:le,...ue.properties})),[]),R=b.useRef(""),$=b.useCallback((Q,ae)=>{const ue=N[ae]?.geoJsonData.features[Q.featureIndex];if(ue&&ae+Q.featureIndex!==R.current){if(i(Mc({feature:[ue],metaData:{...N[ae]?.metaData,selectedKeys:[Q.key]}})),l)try{const be=ci.geoJSON(ue).getBounds();be&&be.isValid&&be.isValid()&&l.flyToBounds(be,Ym)}catch(le){console.error("Error fitting bounds:",le)}v({[ae]:[Q.key]}),R.current=ae+Q.featureIndex}else i(Mc({feature:[],metaData:null})),v({}),R.current=""},[i,N,l]),G=b.useCallback((Q,ae,ue)=>{w(le=>{const be=new Set(le[Q]?Array.from(le[Q]):[]);return ue?be.add(ae):be.delete(ae),{...le,[Q]:be}})},[]),ee=b.useCallback((Q,ae)=>{const ue=N[Q];if(!ue?.geoJsonData?.features)return;const le=ue.geoJsonData.features.map((be,ke)=>`${Q}-${ke}`);w(be=>{const ke={...be};return ae?ke[Q]=new Set(le):ke[Q]=new Set,ke})},[N]),te=b.useCallback(Q=>{const ue=N[Q]?.geoJsonData?.features||[],le=y[Q]?.size||0;return le===0?!1:le===ue.length?!0:"indeterminate"},[N,y]),J=b.useCallback(()=>{if(l&&!(!y||Object.keys(y).length===0))try{let Q=null;Object.entries(y).forEach(([ae,ue])=>{const le=N[ae]?.geoJsonData?.features||[];Array.from(ue||[]).forEach(be=>{const ke=T(be),Te=le[ke];if(Te)try{const ce=ci.geoJSON(Te).getBounds();ce?.isValid?.()&&(Q?Q.extend(ce):Q=ce)}catch(ne){console.error(`Error processing feature at ${ke}:`,ne)}})}),Q?.isValid?.()&&l.flyToBounds(Q,Ym)}catch(Q){console.error("Error fitting to multi-selected bounds:",Q)}},[l,y,N,T]);b.useEffect(()=>{const Q=[];Object.entries(y).forEach(([ae,ue])=>{const le=N[ae]?.geoJsonData?.features||[],be=N[ae]?.metaData||{};Array.from(ue||[]).forEach(ke=>{const Te=T(ke),ne=le[Te];ne&&Q.push({layerId:ae,feature:ne,metaData:be})})}),i(md(Q)),Q.length>0&&J()},[y,N,i,J,T]);const H=b.useCallback(()=>{const Q=[];if(Object.entries(y).forEach(([me,we])=>{Array.from(we||[]).forEach(Le=>{const Be=I(me,Le);if(Be){let he=null,qe=null,We=!1;if(Be.geometry?.type==="Point"&&Be.geometry?.coordinates){const[Fe,de]=Be.geometry.coordinates;qe=Fe,he=de,We=!0}Q.push({layerId:me,properties:Be.properties||{},latitude:he,longitude:qe,isPoint:We})}})}),Q.length===0){fs.info("No features selected for download");return}const ae=Q.some(me=>me.isPoint),ue=new Set(["layerId"]);ae&&(ue.add("latitude"),ue.add("longitude")),Q.forEach(me=>{Object.keys(me.properties).forEach(we=>ue.add(we))});const le=Array.from(ue),be=me=>me==null?"":`"${String(me).replace(/"/g,'""')}"`,ke=[le.join(",")];Q.forEach(me=>{const we=le.map(Le=>be(Le==="layerId"?me.layerId:Le==="latitude"?me.latitude:Le==="longitude"?me.longitude:me.properties[Le]));ke.push(we.join(","))});const Te=new Blob([ke.join(`\r
`)],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(Te),ce=document.createElement("a");ce.href=ne,ce.download=`features_${new Date().toISOString().replace(/[:.]/g,"-")}.csv`,document.body.appendChild(ce),ce.click(),ce.remove(),URL.revokeObjectURL(ne)},[y,I]),oe=b.useCallback((Q,ae)=>{const ue=y[ae]?.has(Q.key);return g[ae]?.includes(Q.key)?"#ffece6ff":ue?"#fff7cc":"white"},[y,g]),q=b.useMemo(()=>Object.entries(N||{}).filter(([Q,ae])=>ae?.geoJsonData?.features),[N]);b.useEffect(()=>{if(!r||!h||!k)return;const Q=N[h];if(!Q?.geoJsonData?.features)return;const ue=Q.geoJsonData.features.map((le,be)=>`${h}-${be}`);w(le=>{const be={...le};return be[h]=new Set(ue),be})},[h,r,N,k]);const Z=b.useMemo(()=>q.map(([Q,ae])=>{const ue=ae?.metaData?.layer?.layer_nm||Q,le={title:"Find",key:`${Q}-action`,width:80,fixed:"left",render:(ce,me)=>{const we=g[Q]?.includes(me.key);return Ie.jsx(sa,{title:we?"View feature on map (currently selected)":"View feature on map",children:Ie.jsx(ii,{type:we?"primary":"default",icon:Ie.jsx(Vh,{}),size:"small",onClick:()=>$(me,Q)})})}},be={title:Ie.jsx(sa,{title:"Select all / Unselect all rows in this tab",children:Ie.jsx(Ns,{checked:te(Q)===!0,indeterminate:te(Q)==="indeterminate",onChange:ce=>ee(Q,ce.target.checked),children:"Select"})}),key:`${Q}-select`,width:80,fixed:"left",render:(ce,me)=>{const we=y[Q]?.has(me.key)||!1;return Ie.jsx(Ns,{checked:we,onChange:Le=>{G(Q,me.key,Le.target.checked)}})}},ke=O(ae?.geoJsonData?.features[0]?.properties),Te=[be,le,...ke],ne=h===Q?Ie.jsx(Us,{rowKey:"key",columns:Te,dataSource:D(ae?.geoJsonData?.features,Q),scroll:{x:!0,y:600},size:"small",pagination:{pageSize:5},onRow:ce=>({style:{cursor:"pointer",backgroundColor:oe(ce,Q)}})}):null;return{key:Q,label:ue,children:ne}}),[q,h,g,O,D,$,y,G,oe,te,ee]);b.useEffect(()=>{!h&&Z.length>0&&c(Z[0].key),h&&!k&&x(!0)},[Z,h]);const X=b.useCallback(Q=>{c(Q),t&&(v({}),w({}),i(qv()),i(Mc({feature:[],metaData:null})),i(md([])))},[i,t]),U=b.useCallback(()=>{v({}),w({}),i(Mc({feature:[],metaData:null})),i(md([]))},[i]);return b.useEffect(()=>()=>{n&&U()},[n,U]),Ie.jsxs(Ie.Fragment,{children:[e&&Ie.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:Ie.jsx(ii,{type:"primary",icon:Ie.jsx(CN,{}),onClick:H,children:"Download CSV"})}),Z.length===0?Ie.jsx("div",{children:"No active layers with attributes to display"}):Ie.jsx(Qx,{type:"card",items:Z,onChange:X,activeKey:h,destroyOnHidden:!0,animated:!1})]})}const F1=b.memo(_M);function bM(){return Ie.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:Ie.jsx("rect",{x:"4",y:"11",width:"16",height:"2",rx:"1",fill:"currentColor"})})}function xM(){return Ie.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:Ie.jsx("rect",{x:"5",y:"5",width:"14",height:"14",rx:"1.5",stroke:"currentColor",strokeWidth:"1.6",fill:"none"})})}function wM(){return Ie.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:Ie.jsx("path",{d:"M6 6L18 18M6 18L18 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function CM(){return Ie.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[Ie.jsx("rect",{x:"9",y:"3",width:"14",height:"14",rx:"1.2",stroke:"currentColor",strokeWidth:"1.6",fill:"none",fillOpacity:"1"}),Ie.jsx("rect",{x:"5",y:"7",width:"14",height:"14",rx:"1.2",stroke:"currentColor",strokeWidth:"1.6",fill:"white",fillOpacity:"1"})]})}function zp({title:e,placement:t="right",height:n,open:r,onClose:i,styles:l=null,children:h,mask:c=!0,width:g=400,afterOpenChange:v,maximized:y=!1,minimized:w=!1}){const{token:{colorPrimary:k,colorBorder:x,fontSizeLG:N}}=b1.useToken(),[T,I]=b.useState(!1),[O,D]=b.useState(!1),R=b.useRef({width:g,height:n}),$=t==="top"||t==="bottom",G=$?void 0:T?56:O?"100%":g,ee=$?T?56:O?"100vh":n:void 0,te={mask:{backgroundColor:"transparent",backdropFilter:"none"},content:{},header:{borderBottom:`1px solid ${k}`,padding:0},body:{fontSize:N},footer:{borderTop:`1px solid ${x}`}},J={...l??te,body:{...l?.body??te.body,display:T?"none":void 0,fontSize:N},header:{...l?.header??te.header,padding:0,borderBottom:`1px solid ${k}`},mask:{...l?.mask??te.mask,backgroundColor:c?void 0:"transparent"}},H=()=>{T?I(!1):(R.current={width:G==="100%"?g:G,height:ee==="100vh"?n:ee},I(!0),D(!1))},oe=()=>{O?D(!1):(R.current={width:g,height:n},D(!0),I(!1))},q=Ie.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"8px 12px",gap:8},children:[Ie.jsx("div",{style:{fontWeight:600,color:k,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e}),Ie.jsxs(_a,{size:"small",align:"center",children:[w&&Ie.jsx(sa,{title:T?"Restore":"Minimize",children:Ie.jsx(ii,{type:"text",onClick:H,size:"small","aria-label":T?"Restore":"Minimize",style:{color:"inherit",padding:6},children:Ie.jsx(bM,{})})}),y&&Ie.jsx(sa,{title:O?"Restore size":"Maximize",children:Ie.jsx(ii,{type:"text",onClick:oe,size:"small","aria-label":O?"Restore size":"Maximize",style:{color:"inherit",padding:6},children:O?Ie.jsx(CM,{}):Ie.jsx(xM,{})})}),Ie.jsx(sa,{title:"Close",children:Ie.jsx(ii,{type:"text",onClick:()=>{D(!1),I(!1),i&&i()},size:"small","aria-label":"Close",style:{color:"inherit",padding:6},children:Ie.jsx(wM,{})})})]})]});return Ie.jsx(E_,{title:q,placement:t,onClose:()=>{D(!1),I(!1),i&&i()},open:r,width:G,height:ee,styles:J,mask:c,afterOpenChange:v,children:h})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Jm=e=>{const t=EM(e);return t.charAt(0).toUpperCase()+t.slice(1)},j1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),kM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:h,...c},g)=>b.createElement("svg",{ref:g,...LM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:j1("lucide",i),...!l&&!kM(c)&&{"aria-hidden":"true"},...c},[...h.map(([v,y])=>b.createElement(v,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=(e,t)=>{const n=b.forwardRef(({className:r,...i},l)=>b.createElement(NM,{ref:l,iconNode:t,className:j1(`lucide-${SM(Jm(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Jm(e),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"m12.99 6.74 1.93 3.44",key:"iwagvd"}],["path",{d:"M19.136 12a10 10 0 0 1-14.271 0",key:"ppmlo4"}],["path",{d:"m21 21-2.16-3.84",key:"vylbct"}],["path",{d:"m3 21 8.02-14.26",key:"1ssaw4"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}]],PM=Gs("drafting-compass",MM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],OM=Gs("eraser",IM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TM=Gs("info",AM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],BM=Gs("printer",RM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"M12 9v11",key:"1fnkrn"}],["path",{d:"M2 9h13a2 2 0 0 1 2 2v9",key:"11z3ex"}]],$M=Gs("proportions",DM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],jM=Gs("ruler",FM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],HM=Gs("square",zM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],UM=Gs("table-properties",qM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qm=Gs("x",GM),VM=()=>{const e=Yo(),t=Dr(q=>q.map.measure),[n,r]=b.useState(!1),[i,l]=b.useState(null),h=b.useRef(null),c=b.useRef(!0),g=b.useRef(null),v=b.useRef(null),y=b.useRef(null),w=b.useRef(null),k=b.useRef(null),x=b.useRef([]);b.useEffect(()=>(c.current=!0,()=>{c.current=!1}),[]);const N=b.useCallback(q=>q.length<2?0:q.reduce((Z,X,U,Q)=>U>0?Z+e.distance(Q[U-1],X):Z,0),[e]),T=b.useCallback((q,Z)=>{switch(Z){case"km":return q/1e3;case"mi":return q/1609.34;default:return q}},[]),I=b.useCallback((q,Z)=>{const X=Math.round(q*100)/100;switch(Z){case"km":return{value:X,unit:"km",full:`${X} km`,rawValue:q};case"mi":return{value:X,unit:"mi",full:`${X} miles`,rawValue:q};default:return{value:X,unit:"m",full:`${X} meters`,rawValue:q}}},[]),O=b.useCallback(q=>{try{const Z=ci.circleMarker(q,{radius:5,color:"#3388ff",weight:2,fillColor:"#fff",fillOpacity:1,className:"measure-vertex-marker",pane:"markerPane"});return Z.addTo(e),Z}catch{return null}},[e]),D=b.useCallback(q=>{const Z=O(q);Z&&x.current.push(Z)},[O]),R=b.useCallback(()=>{try{(x.current||[]).forEach(q=>{q&&e.hasLayer(q)&&e.removeLayer(q)})}catch{}x.current=[]},[e]),$=b.useCallback((q,Z)=>{if(Z.length>1){const X=N(Z),U=T(X,t?.unit||"km"),Q=I(U,t?.unit||"km"),ae=Z[Z.length-1];q.getTooltip()?q.setTooltipContent(Q.full):q.bindTooltip(Q.full,{permanent:!0,direction:"center",className:"measure-tooltip"}),q.openTooltip(ae),c.current&&l(Q)}},[N,I,T,t?.unit]),G=b.useCallback(()=>{h.current&&h.current.setStyle({dashArray:null,color:"#1890ff"})},[]),ee=b.useCallback((q=!1)=>{if(g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}if(q&&h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null,R()}else G();try{e.getContainer().style.cursor=""}catch{}},[e,G,R]),te=b.useCallback(q=>{if(q.key==="Escape"){if(h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}ee(!0),c.current&&(r(!1),l(null))}},[e,ee]),J=b.useCallback(()=>{ee(!1),c.current&&r(!1)},[ee]),H=b.useCallback(()=>{ee(!0),c.current&&(l(null),r(!1))},[ee]),oe=b.useCallback(()=>{if(!c.current)return;if(r(!0),l(null),g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}R();const q={color:"#3388ff",weight:3,dashArray:"5, 10"},Z=new ci.Polyline([],q);Z.addTo(e),h.current=Z;const X=ue=>{if(!(!h.current||!e.hasLayer(h.current)||!c.current))try{const le=ue.latlng;h.current.addLatLng(le),D(le);const be=h.current.getLatLngs();if($(h.current,be),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}}catch(le){console.warn("Error handling click during measurement:",le)}},U=ue=>{if(!(!h.current||!e.hasLayer(h.current)||!c.current))try{const le=ue.latlng,be=h.current.getLatLngs()||[];if(be.length>0){const Te=[be[be.length-1],le];k.current?k.current.setLatLngs(Te):k.current=ci.polyline(Te,{color:"#3388ff",weight:3,dashArray:"5,10",interactive:!1,pane:h.current.options.pane}).addTo(e)}}catch{}},Q=ue=>{if(!h.current||!e.hasLayer(h.current)||!c.current)return ue.originalEvent?.stopPropagation(),!1;try{const le=h.current.getLatLngs();if(le.length>0){const be=le[le.length-1];if(D(be),le.length>1){if($(h.current,le),G(),g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}try{e.getContainer().style.cursor=""}catch{}c.current&&r(!1)}}return ue.originalEvent?.stopPropagation(),!1}catch(le){console.warn("Error handling double click during measurement:",le)}};g.current=X,v.current=Q,w.current=U,y.current=te,e.on("click",X),e.on("dblclick",Q),e.on("mousemove",U),document.addEventListener("keydown",te);try{e.getContainer().style.cursor="crosshair"}catch{}return()=>{if(g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}try{e.getContainer().style.cursor=""}catch{}}},[e,I,$,te,D,G,R,O]);return b.useEffect(()=>{let q;return n&&t?.type==="line"&&(q=oe()),()=>{q?.()}},[n,t?.type]),b.useEffect(()=>{try{const q=h.current;if(!q||!e?.hasLayer(q))return;const Z=q.getLatLngs?q.getLatLngs():[];Z&&Z.length>1?$(q,Z):Z&&Z.length===1&&(c.current&&l(null),q.getTooltip&&q.getTooltip()&&q.unbindTooltip())}catch{}},[t?.unit,e,$]),b.useEffect(()=>()=>{c.current=!1,ee(!0)},[ee]),{startMeasuring:()=>r(!0),stopMeasuring:J,clearAllMeasurements:H,isMeasuring:n,measurementResult:i}},e0=6378137,Fd=e=>e*Math.PI/180,WM=e=>{if(!e||e.length<3)return 0;const t=e.map(r=>({lat:r.lat,lng:r.lng}));let n=0;for(let r=0,i=t.length;r<i;r++){const l=t[r],h=t[(r+1)%i];n+=Fd(h.lng-l.lng)*(2+Math.sin(Fd(l.lat))+Math.sin(Fd(h.lat)))}return n=n*e0*e0/2,Math.abs(n)},KM=(e,t)=>{switch(t){case"km2":return e/1e6;case"ha":return e/1e4;case"ac":return e/4046.8564224;default:return e}},ZM=(e,t)=>{const n=KM(e,t),r=Math.round(n*100)/100;switch(t){case"km2":return{value:r,unit:"km",full:`${r} km`,rawValue:n};case"ha":return{value:r,unit:"ha",full:`${r} ha`,rawValue:n};case"ac":return{value:r,unit:"ac",full:`${r} acres`,rawValue:n};default:return{value:Math.round(e*100)/100,unit:"m",full:`${Math.round(e*100)/100} m`,rawValue:e}}},XM=()=>{const e=Yo(),t=Dr(J=>J.map.measure),[n,r]=b.useState(!1),[i,l]=b.useState(null),h=b.useRef(null),c=b.useRef(null),g=b.useRef([]),v=b.useRef(!0),y=b.useRef(null),w=b.useRef(null),k=b.useRef(null),x=b.useRef(null);b.useEffect(()=>(v.current=!0,()=>{v.current=!1}),[]);const N=b.useCallback(J=>{try{const H=ci.circleMarker(J,{radius:5,color:"#3388ff",weight:2,fillColor:"#fff",fillOpacity:1,className:"measure-vertex-marker",pane:"markerPane"});return H.addTo(e),H}catch{return null}},[e]),T=b.useCallback(J=>{const H=N(J);H&&g.current.push(H)},[N]),I=b.useCallback(()=>{try{(g.current||[]).forEach(J=>{J&&e.hasLayer(J)&&e.removeLayer(J)})}catch{}g.current=[]},[e]),O=b.useCallback((J,H)=>{if(!H||H.length<3){v.current&&l(null),J.getTooltip&&J.getTooltip()&&J.unbindTooltip();return}const oe=WM(H),q=ZM(oe,t?.unit||"m2"),Z=ci.polygon(H).getBounds().getCenter();J.getTooltip()?J.setTooltipContent(q.full):J.bindTooltip(q.full,{permanent:!0,direction:"center",className:"measure-tooltip"}),J.openTooltip(Z),v.current&&l(q)},[t?.unit]),D=b.useCallback(()=>{h.current&&h.current.setStyle({dashArray:null,color:"#1890ff",fillOpacity:.2})},[]),R=b.useCallback((J=!1)=>{if(y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}if(J&&h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null,I()}else D();try{e.getContainer().style.cursor=""}catch{}},[e,D,I]),$=b.useCallback(J=>{if(J.key==="Escape"){if(h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}R(!0),v.current&&(r(!1),l(null))}},[e,R]),G=b.useCallback(()=>{R(!1),v.current&&r(!1)},[R]),ee=b.useCallback(()=>{R(!0),v.current&&(r(!1),l(null))},[R]),te=b.useCallback(()=>{if(!v.current)return;if(r(!0),l(null),y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}I();const J={color:"#3388ff",weight:3,dashArray:"5,10",fillOpacity:.1},H=ci.polygon([],J).addTo(e);h.current=H;const oe=U=>{if(!(!h.current||!e.hasLayer(h.current)||!v.current))try{const Q=U.latlng;h.current.addLatLng(Q),T(Q);const ae=h.current.getLatLngs()[0]||h.current.getLatLngs(),ue=Array.isArray(ae[0])?ae[0]:ae;if(O(h.current,ue),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}}catch{}},q=U=>{if(!(!h.current||!e.hasLayer(h.current)||!v.current))try{const Q=U.latlng,ae=h.current.getLatLngs()[0]||h.current.getLatLngs(),ue=Array.isArray(ae[0])?ae[0]:ae;if(ue.length>0){const le=ue[ue.length-1],be=[...ue,Q];c.current?c.current.setLatLngs([be]):c.current=ci.polygon(be,{color:"#3388ff",weight:3,dashArray:"5,10",interactive:!1,pane:h.current.options.pane,fillOpacity:.05}).addTo(e)}}catch{}},Z=U=>{if(!h.current||!e.hasLayer(h.current)||!v.current)return U.originalEvent?.stopPropagation(),!1;try{const Q=h.current.getLatLngs()[0]||h.current.getLatLngs(),ae=Array.isArray(Q[0])?Q[0]:Q;if(ae.length>=3){if(T(ae[ae.length-1]),O(h.current,ae),D(),y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}try{e.getContainer().style.cursor=""}catch{}v.current&&r(!1)}return U.originalEvent?.stopPropagation(),!1}catch{}};y.current=oe,w.current=Z,k.current=q,x.current=$,e.on("click",oe),e.on("dblclick",Z),e.on("mousemove",q),document.addEventListener("keydown",$);try{e.getContainer().style.cursor="crosshair"}catch{}return()=>{if(y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}try{e.getContainer().style.cursor=""}catch{}}},[e,I,O,$,T,D]);return b.useEffect(()=>{let J;return n&&t?.type==="area"&&(J=te()),()=>{J?.()}},[n,t?.type]),b.useEffect(()=>{try{const J=h.current;if(!J||!e?.hasLayer(J))return;const H=J.getLatLngs()[0]||J.getLatLngs(),oe=Array.isArray(H[0])?H[0]:H;oe&&oe.length>=3?O(J,oe):oe&&oe.length<3&&(v.current&&l(null),J.getTooltip&&J.getTooltip()&&J.unbindTooltip())}catch{}},[t?.unit,e,O]),b.useEffect(()=>()=>{v.current=!1,R(!0)},[R]),{startMeasuring:()=>r(!0),stopMeasuring:G,clearAllMeasurements:ee,isMeasuring:n,measurementResult:i}},YM=(e,t=300)=>{const[n,r]=b.useState(e);return b.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>clearTimeout(i)},[e,t]),n},{Text:Rs}=Fl,{Option:_l}=ks,JM=()=>{const e=Ko(),t=Dr(x=>x.ui.isMeasureOpen),n=Dr(x=>x.map.measure),r=VM(),i=XM(),l=n?.type==="area"?i:r,h=()=>{r.stopMeasuring(),i.stopMeasuring(),e(Uv())},c=x=>{r.stopMeasuring(),i.stopMeasuring(),e(bx(x))},g=()=>{n?.type==="line"?r.isMeasuring?r.stopMeasuring():r.startMeasuring():n?.type==="area"&&(i.isMeasuring?i.stopMeasuring():i.startMeasuring())},v=()=>{r.clearAllMeasurements(),i.clearAllMeasurements()},y=()=>n?.type==="area"?Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(_l,{value:"m2",children:"m"}),Ie.jsx(_l,{value:"km2",children:"km"}),Ie.jsx(_l,{value:"ha",children:"hectares (ha)"}),Ie.jsx(_l,{value:"ac",children:"acres (ac)"})]}):Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(_l,{value:"m",children:"meters (m)"}),Ie.jsx(_l,{value:"km",children:"kilometers (km)"}),Ie.jsx(_l,{value:"mi",children:"miles (mi)"})]}),w=l?.isMeasuring,k=l?.measurementResult;return Ie.jsx(zp,{title:"Measure",placement:"left",onClose:h,open:t,width:300,destroyOnClose:!1,mask:!1,children:Ie.jsxs(_a,{direction:"vertical",size:"middle",style:{width:"100%"},children:[Ie.jsx(Rs,{strong:!0,children:"Mode"}),Ie.jsxs(_a,{children:[Ie.jsx(sa,{title:"Line (measure length)",children:Ie.jsx(ii,{type:n?.type==="line"?"primary":"default",icon:Ie.jsx(jM,{size:16}),onClick:()=>c("line"),children:"Line"})}),Ie.jsx(sa,{title:"Area (measure polygon)",children:Ie.jsx(ii,{type:n?.type==="area"?"primary":"default",icon:Ie.jsx(HM,{size:16}),onClick:()=>c("area"),children:"Area"})})]}),Ie.jsx(nl,{}),Ie.jsx(Rs,{strong:!0,children:"Units"}),Ie.jsx(ks,{value:n?.unit||(n?.type==="area"?"m2":"km"),onChange:x=>e(_x(x)),style:{width:"100%"},children:y()}),Ie.jsx(nl,{}),n?.type==="line"&&Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsx(ii,{type:w?"primary":"default",onClick:g,style:{width:"100%"},children:w?"Stop Measuring":"Start Line Measurement"}),k&&Ie.jsx(ou,{message:`Distance: ${k.full}`,type:"info",showIcon:!0}),(w||k)&&Ie.jsx(ii,{icon:Ie.jsx(Qm,{size:14}),onClick:v,danger:!0,style:{width:"100%"},children:"Clear Measurements"})]}),w&&Ie.jsx(ou,{message:"Measurement Instructions",description:Ie.jsxs(_a,{direction:"vertical",size:"small",children:[Ie.jsx(Rs,{children:" Click on map to add points"}),Ie.jsx(Rs,{children:" Double-click to finish"}),Ie.jsx(Rs,{children:" Press ESC to cancel"})]}),type:"info",showIcon:!0})]}),n?.type==="area"&&Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsx(ii,{type:w?"primary":"default",onClick:g,style:{width:"100%"},children:w?"Stop Measuring":"Start Area Measurement"}),k&&Ie.jsx(ou,{message:`Area: ${k.full}`,type:"info",showIcon:!0}),(w||k)&&Ie.jsx(ii,{icon:Ie.jsx(Qm,{size:14}),onClick:v,danger:!0,style:{width:"100%"},children:"Clear Measurements"})]}),w&&Ie.jsx(ou,{message:"Measurement Instructions",description:Ie.jsxs(_a,{direction:"vertical",size:"small",children:[Ie.jsx(Rs,{children:" Click on map to add polygon vertices"}),Ie.jsx(Rs,{children:" Double-click to finish (needs at least 3 points)"}),Ie.jsx(Rs,{children:" Press ESC to cancel"})]}),type:"info",showIcon:!0})]}),Ie.jsx(nl,{}),Ie.jsx(Rs,{type:"secondary",style:{fontSize:"12px"},children:"The measurement mode and unit are stored in the Redux store. Hook your drawing/measurement logic to these settings (map slice: map.measure)."})]})})};function QM(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const eP=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function al(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Ql=null;function z1(e={}){return Ql||(e.includeStyleProperties?(Ql=e.includeStyleProperties,Ql):(Ql=al(window.getComputedStyle(document.documentElement)),Ql))}function Sh(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function tP(e){const t=Sh(e,"border-left-width"),n=Sh(e,"border-right-width");return e.clientWidth+t+n}function nP(e){const t=Sh(e,"border-top-width"),n=Sh(e,"border-bottom-width");return e.clientHeight+t+n}function H1(e,t={}){const n=t.width||tP(e),r=t.height||nP(e);return{width:n,height:r}}function rP(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Uo=16384;function iP(e){(e.width>Uo||e.height>Uo)&&(e.width>Uo&&e.height>Uo?e.width>e.height?(e.height*=Uo/e.width,e.width=Uo):(e.width*=Uo/e.height,e.height=Uo):e.width>Uo?(e.height*=Uo/e.width,e.width=Uo):(e.width*=Uo/e.height,e.height=Uo))}function Eh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function aP(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function oP(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),l=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),i.appendChild(l),l.appendChild(e),aP(i)}const Ao=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ao(n,t)};function sP(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function lP(e,t){return z1(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function uP(e,t,n,r){const i=`.${e}:${t}`,l=n.cssText?sP(n):lP(n,r);return document.createTextNode(`${i}{${l}}`)}function t0(e,t,n,r){const i=window.getComputedStyle(e,n),l=i.getPropertyValue("content");if(l===""||l==="none")return;const h=eP();try{t.className=`${t.className} ${h}`}catch{return}const c=document.createElement("style");c.appendChild(uP(h,n,i,r)),t.appendChild(c)}function cP(e,t,n){t0(e,t,":before",n),t0(e,t,":after",n)}const n0="application/font-woff",r0="image/jpeg",hP={woff:n0,woff2:n0,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:r0,jpeg:r0,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function dP(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Hp(e){const t=dP(e).toLowerCase();return hP[t]||""}function fP(e){return e.split(/,/)[1]}function Bf(e){return e.search(/^(data:)/)!==-1}function pP(e,t){return`data:${t};base64,${e}`}async function q1(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((l,h)=>{const c=new FileReader;c.onerror=h,c.onloadend=()=>{try{l(n({res:r,result:c.result}))}catch(g){h(g)}},c.readAsDataURL(i)})}const jd={};function gP(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function qp(e,t,n){const r=gP(e,t,n.includeQueryParams);if(jd[r]!=null)return jd[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const l=await q1(e,n.fetchRequestInit,({res:h,result:c})=>(t||(t=h.headers.get("Content-Type")||""),fP(c)));i=pP(l,t)}catch(l){i=n.imagePlaceholder||"";let h=`Failed to fetch resource: ${e}`;l&&(h=typeof l=="string"?l:l.message),h&&console.warn(h)}return jd[r]=i,i}async function mP(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Eh(t)}async function vP(e,t){if(e.currentSrc){const l=document.createElement("canvas"),h=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,h?.drawImage(e,0,0,l.width,l.height);const c=l.toDataURL();return Eh(c)}const n=e.poster,r=Hp(n),i=await qp(n,r,t);return Eh(i)}async function yP(e,t){var n;try{if(!((n=e?.contentDocument)===null||n===void 0)&&n.body)return await id(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function _P(e,t){return Ao(e,HTMLCanvasElement)?mP(e):Ao(e,HTMLVideoElement)?vP(e,t):Ao(e,HTMLIFrameElement)?yP(e,t):e.cloneNode(U1(e))}const bP=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",U1=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function xP(e,t,n){var r,i;if(U1(t))return t;let l=[];return bP(e)&&e.assignedNodes?l=al(e.assignedNodes()):Ao(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?l=al(e.contentDocument.body.childNodes):l=al(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),l.length===0||Ao(e,HTMLVideoElement)||await l.reduce((h,c)=>h.then(()=>id(c,n)).then(g=>{g&&t.appendChild(g)}),Promise.resolve()),t}function wP(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):z1(n).forEach(l=>{let h=i.getPropertyValue(l);l==="font-size"&&h.endsWith("px")&&(h=`${Math.floor(parseFloat(h.substring(0,h.length-2)))-.1}px`),Ao(e,HTMLIFrameElement)&&l==="display"&&h==="inline"&&(h="block"),l==="d"&&t.getAttribute("d")&&(h=`path(${t.getAttribute("d")})`),r.setProperty(l,h,i.getPropertyPriority(l))})}function CP(e,t){Ao(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ao(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function SP(e,t){if(Ao(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function EP(e,t,n){return Ao(t,Element)&&(wP(e,t,n),cP(e,t,n),CP(e,t),SP(e,t)),t}async function kP(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let l=0;l<n.length;l++){const c=n[l].getAttribute("xlink:href");if(c){const g=e.querySelector(c),v=document.querySelector(c);!g&&v&&!r[c]&&(r[c]=await id(v,t,!0))}}const i=Object.values(r);if(i.length){const l="http://www.w3.org/1999/xhtml",h=document.createElementNS(l,"svg");h.setAttribute("xmlns",l),h.style.position="absolute",h.style.width="0",h.style.height="0",h.style.overflow="hidden",h.style.display="none";const c=document.createElementNS(l,"defs");h.appendChild(c);for(let g=0;g<i.length;g++)c.appendChild(i[g]);e.appendChild(h)}return e}async function id(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>_P(r,t)).then(r=>xP(e,r,t)).then(r=>EP(e,r,t)).then(r=>kP(r,t))}const G1=/url\((['"]?)([^'"]+?)\1\)/g,LP=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,NP=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function MP(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function PP(e){const t=[];return e.replace(G1,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Bf(n))}async function IP(e,t,n,r,i){try{const l=n?QM(t,n):t,h=Hp(t);let c;return i||(c=await qp(l,h,r)),e.replace(MP(t),`$1${c}$3`)}catch{}return e}function OP(e,{preferredFontFormat:t}){return t?e.replace(NP,n=>{for(;;){const[r,,i]=LP.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function V1(e){return e.search(G1)!==-1}async function W1(e,t,n){if(!V1(e))return e;const r=OP(e,n);return PP(r).reduce((l,h)=>l.then(c=>IP(c,h,t,n)),Promise.resolve(r))}async function eu(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const l=await W1(i,null,n);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function AP(e,t){await eu("background",e,t)||await eu("background-image",e,t),await eu("mask",e,t)||await eu("-webkit-mask",e,t)||await eu("mask-image",e,t)||await eu("-webkit-mask-image",e,t)}async function TP(e,t){const n=Ao(e,HTMLImageElement);if(!(n&&!Bf(e.src))&&!(Ao(e,SVGImageElement)&&!Bf(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await qp(r,Hp(r),t);await new Promise((l,h)=>{e.onload=l,e.onerror=t.onImageErrorHandler?(...g)=>{try{l(t.onImageErrorHandler(...g))}catch(v){h(v)}}:h;const c=e;c.decode&&(c.decode=l),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function RP(e,t){const r=al(e.childNodes).map(i=>K1(i,t));await Promise.all(r).then(()=>e)}async function K1(e,t){Ao(e,Element)&&(await AP(e,t),await TP(e,t),await RP(e,t))}function BP(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const i0={};async function a0(e){let t=i0[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},i0[e]=t,t}async function o0(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,l=(n.match(/url\([^)]+\)/g)||[]).map(async h=>{let c=h.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),q1(c,t.fetchRequestInit,({result:g})=>(n=n.replace(h,`url(${g})`),[h,g]))});return Promise.all(l).then(()=>n)}function s0(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const g=i.exec(r);if(g===null)break;t.push(g[0])}r=r.replace(i,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,h="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(h,"gi");for(;;){let g=l.exec(r);if(g===null){if(g=c.exec(r),g===null)break;l.lastIndex=c.lastIndex}else c.lastIndex=l.lastIndex;t.push(g[0])}return t}async function DP(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach((l,h)=>{if(l.type===CSSRule.IMPORT_RULE){let c=h+1;const g=l.href,v=a0(g).then(y=>o0(y,t)).then(y=>s0(y).forEach(w=>{try{i.insertRule(w,w.startsWith("@import")?c+=1:i.cssRules.length)}catch(k){console.error("Error inserting rule from remote css",{rule:w,error:k})}})).catch(y=>{console.error("Error loading remote css",y.toString())});r.push(v)}})}catch(l){const h=e.find(c=>c.href==null)||document.styleSheets[0];i.href!=null&&r.push(a0(i.href).then(c=>o0(c,t)).then(c=>s0(c).forEach(g=>{h.insertRule(g,h.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",l)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach(l=>{n.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${i.href}`,l)}}),n))}function $P(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>V1(t.style.getPropertyValue("src")))}async function FP(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=al(e.ownerDocument.styleSheets),r=await DP(n,t);return $P(r)}function Z1(e){return e.trim().replace(/["']/g,"")}function jP(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(l=>{t.add(Z1(l))}),Array.from(r.children).forEach(l=>{l instanceof HTMLElement&&n(l)})}return n(e),t}async function zP(e,t){const n=await FP(e,t),r=jP(e);return(await Promise.all(n.filter(l=>r.has(Z1(l.style.fontFamily))).map(l=>{const h=l.parentStyleSheet?l.parentStyleSheet.href:null;return W1(l.cssText,h,t)}))).join(`
`)}async function HP(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await zP(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function qP(e,t={}){const{width:n,height:r}=H1(e,t),i=await id(e,t,!0);return await HP(i,t),await K1(i,t),BP(i,t),await oP(i,n,r)}async function UP(e,t={}){const{width:n,height:r}=H1(e,t),i=await qP(e,t),l=await Eh(i),h=document.createElement("canvas"),c=h.getContext("2d"),g=t.pixelRatio||rP(),v=t.canvasWidth||n,y=t.canvasHeight||r;return h.width=v*g,h.height=y*g,t.skipAutoScale||iP(h),h.style.width=`${v}`,h.style.height=`${y}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,h.width,h.height)),c.drawImage(l,0,0,h.width,h.height),h}async function GP(e,t={}){return(await UP(e,t)).toDataURL()}var ms=Uint8Array,Vo=Uint16Array,Up=Int32Array,Gp=new ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vp=new ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l0=new ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X1=function(e,t){for(var n=new Vo(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Up(n[30]),r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)i[l]=l-n[r]<<5|r;return{b:n,r:i}},Y1=X1(Gp,2),VP=Y1.b,Df=Y1.r;VP[28]=258,Df[258]=28;var WP=X1(Vp,0),u0=WP.r,$f=new Vo(32768);for(var Mi=0;Mi<32768;++Mi){var Ys=(Mi&43690)>>1|(Mi&21845)<<1;Ys=(Ys&52428)>>2|(Ys&13107)<<2,Ys=(Ys&61680)>>4|(Ys&3855)<<4,$f[Mi]=((Ys&65280)>>8|(Ys&255)<<8)>>1}var Yu=(function(e,t,n){for(var r=e.length,i=0,l=new Vo(t);i<r;++i)e[i]&&++l[e[i]-1];var h=new Vo(t);for(i=1;i<t;++i)h[i]=h[i-1]+l[i-1]<<1;var c;if(n){c=new Vo(1<<t);var g=15-t;for(i=0;i<r;++i)if(e[i])for(var v=i<<4|e[i],y=t-e[i],w=h[e[i]-1]++<<y,k=w|(1<<y)-1;w<=k;++w)c[$f[w]>>g]=v}else for(c=new Vo(r),i=0;i<r;++i)e[i]&&(c[i]=$f[h[e[i]-1]++]>>15-e[i]);return c}),Il=new ms(288);for(var Mi=0;Mi<144;++Mi)Il[Mi]=8;for(var Mi=144;Mi<256;++Mi)Il[Mi]=9;for(var Mi=256;Mi<280;++Mi)Il[Mi]=7;for(var Mi=280;Mi<288;++Mi)Il[Mi]=8;var kh=new ms(32);for(var Mi=0;Mi<32;++Mi)kh[Mi]=5;var KP=Yu(Il,9,0),ZP=Yu(kh,5,0),J1=function(e){return(e+7)/8|0},XP=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ms(e.subarray(t,n))},Bs=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ju=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},zd=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,l=n.slice();if(!i)return{t:eb,l:0};if(i==1){var h=new ms(n[0].s+1);return h[n[0].s]=1,{t:h,l:1}}n.sort(function(G,ee){return G.f-ee.f}),n.push({s:-1,f:25001});var c=n[0],g=n[1],v=0,y=1,w=2;for(n[0]={s:-1,f:c.f+g.f,l:c,r:g};y!=i-1;)c=n[n[v].f<n[w].f?v++:w++],g=n[v!=y&&n[v].f<n[w].f?v++:w++],n[y++]={s:-1,f:c.f+g.f,l:c,r:g};for(var k=l[0].s,r=1;r<i;++r)l[r].s>k&&(k=l[r].s);var x=new Vo(k+1),N=Ff(n[y-1],x,0);if(N>t){var r=0,T=0,I=N-t,O=1<<I;for(l.sort(function(ee,te){return x[te.s]-x[ee.s]||ee.f-te.f});r<i;++r){var D=l[r].s;if(x[D]>t)T+=O-(1<<N-x[D]),x[D]=t;else break}for(T>>=I;T>0;){var R=l[r].s;x[R]<t?T-=1<<t-x[R]++-1:++r}for(;r>=0&&T;--r){var $=l[r].s;x[$]==t&&(--x[$],++T)}N=t}return{t:new ms(x),l:N}},Ff=function(e,t,n){return e.s==-1?Math.max(Ff(e.l,t,n+1),Ff(e.r,t,n+1)):t[e.s]=n},c0=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vo(++t),r=0,i=e[0],l=1,h=function(g){n[r++]=g},c=1;c<=t;++c)if(e[c]==i&&c!=t)++l;else{if(!i&&l>2){for(;l>138;l-=138)h(32754);l>2&&(h(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(h(i),--l;l>6;l-=6)h(8304);l>2&&(h(l-3<<5|8208),l=0)}for(;l--;)h(i);l=1,i=e[c]}return{c:n.subarray(0,r),n:t}},zu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Q1=function(e,t,n){var r=n.length,i=J1(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var l=0;l<r;++l)e[i+l+4]=n[l];return(i+4+r)*8},h0=function(e,t,n,r,i,l,h,c,g,v,y){Bs(t,y++,n),++i[256];for(var w=zd(i,15),k=w.t,x=w.l,N=zd(l,15),T=N.t,I=N.l,O=c0(k),D=O.c,R=O.n,$=c0(T),G=$.c,ee=$.n,te=new Vo(19),J=0;J<D.length;++J)++te[D[J]&31];for(var J=0;J<G.length;++J)++te[G[J]&31];for(var H=zd(te,7),oe=H.t,q=H.l,Z=19;Z>4&&!oe[l0[Z-1]];--Z);var X=v+5<<3,U=zu(i,Il)+zu(l,kh)+h,Q=zu(i,k)+zu(l,T)+h+14+3*Z+zu(te,oe)+2*te[16]+3*te[17]+7*te[18];if(g>=0&&X<=U&&X<=Q)return Q1(t,y,e.subarray(g,g+v));var ae,ue,le,be;if(Bs(t,y,1+(Q<U)),y+=2,Q<U){ae=Yu(k,x,0),ue=k,le=Yu(T,I,0),be=T;var ke=Yu(oe,q,0);Bs(t,y,R-257),Bs(t,y+5,ee-1),Bs(t,y+10,Z-4),y+=14;for(var J=0;J<Z;++J)Bs(t,y+3*J,oe[l0[J]]);y+=3*Z;for(var Te=[D,G],ne=0;ne<2;++ne)for(var ce=Te[ne],J=0;J<ce.length;++J){var me=ce[J]&31;Bs(t,y,ke[me]),y+=oe[me],me>15&&(Bs(t,y,ce[J]>>5&127),y+=ce[J]>>12)}}else ae=KP,ue=Il,le=ZP,be=kh;for(var J=0;J<c;++J){var we=r[J];if(we>255){var me=we>>18&31;ju(t,y,ae[me+257]),y+=ue[me+257],me>7&&(Bs(t,y,we>>23&31),y+=Gp[me]);var Le=we&31;ju(t,y,le[Le]),y+=be[Le],Le>3&&(ju(t,y,we>>5&8191),y+=Vp[Le])}else ju(t,y,ae[we]),y+=ue[we]}return ju(t,y,ae[256]),y+ue[256]},YP=new Up([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eb=new ms(0),JP=function(e,t,n,r,i,l){var h=l.z||e.length,c=new ms(r+h+5*(1+Math.ceil(h/7e3))+i),g=c.subarray(r,c.length-i),v=l.l,y=(l.r||0)&7;if(t){y&&(g[0]=l.r>>3);for(var w=YP[t-1],k=w>>13,x=w&8191,N=(1<<n)-1,T=l.p||new Vo(32768),I=l.h||new Vo(N+1),O=Math.ceil(n/3),D=2*O,R=function(ft){return(e[ft]^e[ft+1]<<O^e[ft+2]<<D)&N},$=new Up(25e3),G=new Vo(288),ee=new Vo(32),te=0,J=0,H=l.i||0,oe=0,q=l.w||0,Z=0;H+2<h;++H){var X=R(H),U=H&32767,Q=I[X];if(T[U]=Q,I[X]=U,q<=H){var ae=h-H;if((te>7e3||oe>24576)&&(ae>423||!v)){y=h0(e,g,0,$,G,ee,J,oe,Z,H-Z,y),oe=te=J=0,Z=H;for(var ue=0;ue<286;++ue)G[ue]=0;for(var ue=0;ue<30;++ue)ee[ue]=0}var le=2,be=0,ke=x,Te=U-Q&32767;if(ae>2&&X==R(H-Te))for(var ne=Math.min(k,ae)-1,ce=Math.min(32767,H),me=Math.min(258,ae);Te<=ce&&--ke&&U!=Q;){if(e[H+le]==e[H+le-Te]){for(var we=0;we<me&&e[H+we]==e[H+we-Te];++we);if(we>le){if(le=we,be=Te,we>ne)break;for(var Le=Math.min(Te,we-2),Be=0,ue=0;ue<Le;++ue){var he=H-Te+ue&32767,qe=T[he],We=he-qe&32767;We>Be&&(Be=We,Q=he)}}}U=Q,Q=T[U],Te+=U-Q&32767}if(be){$[oe++]=268435456|Df[le]<<18|u0[be];var Fe=Df[le]&31,de=u0[be]&31;J+=Gp[Fe]+Vp[de],++G[257+Fe],++ee[de],q=H+le,++te}else $[oe++]=e[H],++G[e[H]]}}for(H=Math.max(H,q);H<h;++H)$[oe++]=e[H],++G[e[H]];y=h0(e,g,v,$,G,ee,J,oe,Z,H-Z,y),v||(l.r=y&7|g[y/8|0]<<3,y-=7,l.h=I,l.p=T,l.i=H,l.w=q)}else{for(var H=l.w||0;H<h+v;H+=65535){var it=H+65535;it>=h&&(g[y/8|0]=v,it=h),y=Q1(g,y+1,e.subarray(H,it))}l.i=h}return XP(c,0,r+J1(y)+i)},tb=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,l=n.length|0,h=0;h!=l;){for(var c=Math.min(h+2655,l);h<c;++h)i+=r+=n[h];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},QP=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),h=new ms(l.length+e.length);h.set(l),h.set(e,l.length),e=h,i.w=l.length}return JP(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},nb=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},eI=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=tb();i.p(t.dictionary),nb(e,2,i.d())}};function jf(e,t){t||(t={});var n=tb();n.p(e);var r=QP(e,t,t.dictionary?6:2,4);return eI(r,t),nb(r,r.length-4,n.d()),r}var tI=typeof TextDecoder<"u"&&new TextDecoder,nI=0;try{tI.decode(eb,{stream:!0}),nI=1}catch{}function d0(e,t="utf8"){return new TextDecoder(t).decode(e)}const rI=new TextEncoder;function iI(e){return rI.encode(e)}const aI=1024*8,oI=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Hd={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Wp{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=aI,n={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,l=t.byteLength-i;let h=i;(ArrayBuffer.isView(t)||t instanceof Wp)&&(t.byteLength!==t.buffer.byteLength&&(h=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=t,this.length=l,this.byteLength=l,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,l),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=Hd[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+r);if(this.littleEndian===oI&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const g=new Hd[n](c.buffer);return this.offset+=r,g.reverse(),g}const h=new Hd[n](l);return this.offset+=r,h}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return d0(this.readBytes(t))}decodeText(t=1,n="utf8"){return d0(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(iI(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Iu(e){let t=e.length;for(;--t>=0;)e[t]=0}const sI=3,lI=258,rb=29,uI=256,cI=uI+1+rb,ib=30,hI=512,dI=new Array((cI+2)*2);Iu(dI);const fI=new Array(ib*2);Iu(fI);const pI=new Array(hI);Iu(pI);const gI=new Array(lI-sI+1);Iu(gI);const mI=new Array(rb);Iu(mI);const vI=new Array(ib);Iu(vI);const yI=(e,t,n,r)=>{let i=e&65535|0,l=e>>>16&65535|0,h=0;for(;n!==0;){h=n>2e3?2e3:n,n-=h;do i=i+t[r++]|0,l=l+i|0;while(--h);i%=65521,l%=65521}return i|l<<16|0};var zf=yI;const _I=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},bI=new Uint32Array(_I()),xI=(e,t,n,r)=>{const i=bI,l=r+n;e^=-1;for(let h=r;h<l;h++)e=e>>>8^i[(e^t[h])&255];return e^-1};var xs=xI,Hf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ab={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wI=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var CI=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)wI(n,r)&&(e[r]=n[r])}}return e},SI=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,l=e.length;r<l;r++){let h=e[r];n.set(h,i),i+=h.length}return n},ob={assign:CI,flattenChunks:SI};let sb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{sb=!1}const oc=new Uint8Array(256);for(let e=0;e<256;e++)oc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;oc[254]=oc[254]=1;var EI=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,l,h=e.length,c=0;for(i=0;i<h;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<h&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(c),l=0,i=0;l<c;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<h&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[l++]=n:n<2048?(t[l++]=192|n>>>6,t[l++]=128|n&63):n<65536?(t[l++]=224|n>>>12,t[l++]=128|n>>>6&63,t[l++]=128|n&63):(t[l++]=240|n>>>18,t[l++]=128|n>>>12&63,t[l++]=128|n>>>6&63,t[l++]=128|n&63);return t};const kI=(e,t)=>{if(t<65534&&e.subarray&&sb)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var LI=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const l=new Array(n*2);for(i=0,r=0;r<n;){let h=e[r++];if(h<128){l[i++]=h;continue}let c=oc[h];if(c>4){l[i++]=65533,r+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&r<n;)h=h<<6|e[r++]&63,c--;if(c>1){l[i++]=65533;continue}h<65536?l[i++]=h:(h-=65536,l[i++]=55296|h>>10&1023,l[i++]=56320|h&1023)}return kI(l,i)},NI=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+oc[e[n]]>t?n:t},qf={string2buf:EI,buf2string:LI,utf8border:NI};function MI(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var PI=MI;const $c=16209,II=16191;var OI=function(t,n){let r,i,l,h,c,g,v,y,w,k,x,N,T,I,O,D,R,$,G,ee,te,J,H,oe;const q=t.state;r=t.next_in,H=t.input,i=r+(t.avail_in-5),l=t.next_out,oe=t.output,h=l-(n-t.avail_out),c=l+(t.avail_out-257),g=q.dmax,v=q.wsize,y=q.whave,w=q.wnext,k=q.window,x=q.hold,N=q.bits,T=q.lencode,I=q.distcode,O=(1<<q.lenbits)-1,D=(1<<q.distbits)-1;e:do{N<15&&(x+=H[r++]<<N,N+=8,x+=H[r++]<<N,N+=8),R=T[x&O];t:for(;;){if($=R>>>24,x>>>=$,N-=$,$=R>>>16&255,$===0)oe[l++]=R&65535;else if($&16){G=R&65535,$&=15,$&&(N<$&&(x+=H[r++]<<N,N+=8),G+=x&(1<<$)-1,x>>>=$,N-=$),N<15&&(x+=H[r++]<<N,N+=8,x+=H[r++]<<N,N+=8),R=I[x&D];n:for(;;){if($=R>>>24,x>>>=$,N-=$,$=R>>>16&255,$&16){if(ee=R&65535,$&=15,N<$&&(x+=H[r++]<<N,N+=8,N<$&&(x+=H[r++]<<N,N+=8)),ee+=x&(1<<$)-1,ee>g){t.msg="invalid distance too far back",q.mode=$c;break e}if(x>>>=$,N-=$,$=l-h,ee>$){if($=ee-$,$>y&&q.sane){t.msg="invalid distance too far back",q.mode=$c;break e}if(te=0,J=k,w===0){if(te+=v-$,$<G){G-=$;do oe[l++]=k[te++];while(--$);te=l-ee,J=oe}}else if(w<$){if(te+=v+w-$,$-=w,$<G){G-=$;do oe[l++]=k[te++];while(--$);if(te=0,w<G){$=w,G-=$;do oe[l++]=k[te++];while(--$);te=l-ee,J=oe}}}else if(te+=w-$,$<G){G-=$;do oe[l++]=k[te++];while(--$);te=l-ee,J=oe}for(;G>2;)oe[l++]=J[te++],oe[l++]=J[te++],oe[l++]=J[te++],G-=3;G&&(oe[l++]=J[te++],G>1&&(oe[l++]=J[te++]))}else{te=l-ee;do oe[l++]=oe[te++],oe[l++]=oe[te++],oe[l++]=oe[te++],G-=3;while(G>2);G&&(oe[l++]=oe[te++],G>1&&(oe[l++]=oe[te++]))}}else if(($&64)===0){R=I[(R&65535)+(x&(1<<$)-1)];continue n}else{t.msg="invalid distance code",q.mode=$c;break e}break}}else if(($&64)===0){R=T[(R&65535)+(x&(1<<$)-1)];continue t}else if($&32){q.mode=II;break e}else{t.msg="invalid literal/length code",q.mode=$c;break e}break}}while(r<i&&l<c);G=N>>3,r-=G,N-=G<<3,x&=(1<<N)-1,t.next_in=r,t.next_out=l,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=l<c?257+(c-l):257-(l-c),q.hold=x,q.bits=N};const tu=15,f0=852,p0=592,g0=0,qd=1,m0=2,AI=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),TI=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),RI=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),BI=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DI=(e,t,n,r,i,l,h,c)=>{const g=c.bits;let v=0,y=0,w=0,k=0,x=0,N=0,T=0,I=0,O=0,D=0,R,$,G,ee,te,J=null,H;const oe=new Uint16Array(tu+1),q=new Uint16Array(tu+1);let Z=null,X,U,Q;for(v=0;v<=tu;v++)oe[v]=0;for(y=0;y<r;y++)oe[t[n+y]]++;for(x=g,k=tu;k>=1&&oe[k]===0;k--);if(x>k&&(x=k),k===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<k&&oe[w]===0;w++);for(x<w&&(x=w),I=1,v=1;v<=tu;v++)if(I<<=1,I-=oe[v],I<0)return-1;if(I>0&&(e===g0||k!==1))return-1;for(q[1]=0,v=1;v<tu;v++)q[v+1]=q[v]+oe[v];for(y=0;y<r;y++)t[n+y]!==0&&(h[q[t[n+y]]++]=y);if(e===g0?(J=Z=h,H=20):e===qd?(J=AI,Z=TI,H=257):(J=RI,Z=BI,H=0),D=0,y=0,v=w,te=l,N=x,T=0,G=-1,O=1<<x,ee=O-1,e===qd&&O>f0||e===m0&&O>p0)return 1;for(;;){X=v-T,h[y]+1<H?(U=0,Q=h[y]):h[y]>=H?(U=Z[h[y]-H],Q=J[h[y]-H]):(U=96,Q=0),R=1<<v-T,$=1<<N,w=$;do $-=R,i[te+(D>>T)+$]=X<<24|U<<16|Q|0;while($!==0);for(R=1<<v-1;D&R;)R>>=1;if(R!==0?(D&=R-1,D+=R):D=0,y++,--oe[v]===0){if(v===k)break;v=t[n+h[y]]}if(v>x&&(D&ee)!==G){for(T===0&&(T=x),te+=w,N=v-T,I=1<<N;N+T<k&&(I-=oe[N+T],!(I<=0));)N++,I<<=1;if(O+=1<<N,e===qd&&O>f0||e===m0&&O>p0)return 1;G=D&ee,i[G]=x<<24|N<<16|te-l|0}}return D!==0&&(i[te+D]=v-T<<24|64<<16|0),c.bits=x,0};var Ju=DI;const $I=0,lb=1,ub=2,{Z_FINISH:v0,Z_BLOCK:FI,Z_TREES:Fc,Z_OK:Ol,Z_STREAM_END:jI,Z_NEED_DICT:zI,Z_STREAM_ERROR:is,Z_DATA_ERROR:cb,Z_MEM_ERROR:hb,Z_BUF_ERROR:HI,Z_DEFLATED:y0}=ab,ad=16180,_0=16181,b0=16182,x0=16183,w0=16184,C0=16185,S0=16186,E0=16187,k0=16188,L0=16189,Lh=16190,Ds=16191,Ud=16192,N0=16193,Gd=16194,M0=16195,P0=16196,I0=16197,O0=16198,jc=16199,zc=16200,A0=16201,T0=16202,R0=16203,B0=16204,D0=16205,Vd=16206,$0=16207,F0=16208,Ai=16209,db=16210,fb=16211,qI=852,UI=592,GI=15,VI=GI,j0=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function WI(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zl=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ad||t.mode>fb?1:0},pb=e=>{if(zl(e))return is;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ad,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(qI),t.distcode=t.distdyn=new Int32Array(UI),t.sane=1,t.back=-1,Ol},gb=e=>{if(zl(e))return is;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,pb(e)},mb=(e,t)=>{let n;if(zl(e))return is;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?is:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,gb(e))},vb=(e,t)=>{if(!e)return is;const n=new WI;e.state=n,n.strm=e,n.window=null,n.mode=ad;const r=mb(e,t);return r!==Ol&&(e.state=null),r},KI=e=>vb(e,VI);let z0=!0,Wd,Kd;const ZI=e=>{if(z0){Wd=new Int32Array(512),Kd=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ju(lb,e.lens,0,288,Wd,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ju(ub,e.lens,0,32,Kd,0,e.work,{bits:5}),z0=!1}e.lencode=Wd,e.lenbits=9,e.distcode=Kd,e.distbits=5},yb=(e,t,n,r)=>{let i;const l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(t.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>r&&(i=r),l.window.set(t.subarray(n-r,n-r+i),l.wnext),r-=i,r?(l.window.set(t.subarray(n-r,n),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},XI=(e,t)=>{let n,r,i,l,h,c,g,v,y,w,k,x,N,T,I=0,O,D,R,$,G,ee,te,J;const H=new Uint8Array(4);let oe,q;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zl(e)||!e.output||!e.input&&e.avail_in!==0)return is;n=e.state,n.mode===Ds&&(n.mode=Ud),h=e.next_out,i=e.output,g=e.avail_out,l=e.next_in,r=e.input,c=e.avail_in,v=n.hold,y=n.bits,w=c,k=g,J=Ol;e:for(;;)switch(n.mode){case ad:if(n.wrap===0){n.mode=Ud;break}for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.wrap&2&&v===35615){n.wbits===0&&(n.wbits=15),n.check=0,H[0]=v&255,H[1]=v>>>8&255,n.check=xs(n.check,H,2,0),v=0,y=0,n.mode=_0;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((v&255)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=Ai;break}if((v&15)!==y0){e.msg="unknown compression method",n.mode=Ai;break}if(v>>>=4,y-=4,te=(v&15)+8,n.wbits===0&&(n.wbits=te),te>15||te>n.wbits){e.msg="invalid window size",n.mode=Ai;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=v&512?L0:Ds,v=0,y=0;break;case _0:for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.flags=v,(n.flags&255)!==y0){e.msg="unknown compression method",n.mode=Ai;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ai;break}n.head&&(n.head.text=v>>8&1),n.flags&512&&n.wrap&4&&(H[0]=v&255,H[1]=v>>>8&255,n.check=xs(n.check,H,2,0)),v=0,y=0,n.mode=b0;case b0:for(;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.head&&(n.head.time=v),n.flags&512&&n.wrap&4&&(H[0]=v&255,H[1]=v>>>8&255,H[2]=v>>>16&255,H[3]=v>>>24&255,n.check=xs(n.check,H,4,0)),v=0,y=0,n.mode=x0;case x0:for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.head&&(n.head.xflags=v&255,n.head.os=v>>8),n.flags&512&&n.wrap&4&&(H[0]=v&255,H[1]=v>>>8&255,n.check=xs(n.check,H,2,0)),v=0,y=0,n.mode=w0;case w0:if(n.flags&1024){for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.length=v,n.head&&(n.head.extra_len=v),n.flags&512&&n.wrap&4&&(H[0]=v&255,H[1]=v>>>8&255,n.check=xs(n.check,H,2,0)),v=0,y=0}else n.head&&(n.head.extra=null);n.mode=C0;case C0:if(n.flags&1024&&(x=n.length,x>c&&(x=c),x&&(n.head&&(te=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(l,l+x),te)),n.flags&512&&n.wrap&4&&(n.check=xs(n.check,r,x,l)),c-=x,l+=x,n.length-=x),n.length))break e;n.length=0,n.mode=S0;case S0:if(n.flags&2048){if(c===0)break e;x=0;do te=r[l+x++],n.head&&te&&n.length<65536&&(n.head.name+=String.fromCharCode(te));while(te&&x<c);if(n.flags&512&&n.wrap&4&&(n.check=xs(n.check,r,x,l)),c-=x,l+=x,te)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=E0;case E0:if(n.flags&4096){if(c===0)break e;x=0;do te=r[l+x++],n.head&&te&&n.length<65536&&(n.head.comment+=String.fromCharCode(te));while(te&&x<c);if(n.flags&512&&n.wrap&4&&(n.check=xs(n.check,r,x,l)),c-=x,l+=x,te)break e}else n.head&&(n.head.comment=null);n.mode=k0;case k0:if(n.flags&512){for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.wrap&4&&v!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ai;break}v=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ds;break;case L0:for(;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}e.adler=n.check=j0(v),v=0,y=0,n.mode=Lh;case Lh:if(n.havedict===0)return e.next_out=h,e.avail_out=g,e.next_in=l,e.avail_in=c,n.hold=v,n.bits=y,zI;e.adler=n.check=1,n.mode=Ds;case Ds:if(t===FI||t===Fc)break e;case Ud:if(n.last){v>>>=y&7,y-=y&7,n.mode=Vd;break}for(;y<3;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}switch(n.last=v&1,v>>>=1,y-=1,v&3){case 0:n.mode=N0;break;case 1:if(ZI(n),n.mode=jc,t===Fc){v>>>=2,y-=2;break e}break;case 2:n.mode=P0;break;case 3:e.msg="invalid block type",n.mode=Ai}v>>>=2,y-=2;break;case N0:for(v>>>=y&7,y-=y&7;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if((v&65535)!==(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ai;break}if(n.length=v&65535,v=0,y=0,n.mode=Gd,t===Fc)break e;case Gd:n.mode=M0;case M0:if(x=n.length,x){if(x>c&&(x=c),x>g&&(x=g),x===0)break e;i.set(r.subarray(l,l+x),h),c-=x,l+=x,g-=x,h+=x,n.length-=x;break}n.mode=Ds;break;case P0:for(;y<14;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.nlen=(v&31)+257,v>>>=5,y-=5,n.ndist=(v&31)+1,v>>>=5,y-=5,n.ncode=(v&15)+4,v>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ai;break}n.have=0,n.mode=I0;case I0:for(;n.have<n.ncode;){for(;y<3;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.lens[Z[n.have++]]=v&7,v>>>=3,y-=3}for(;n.have<19;)n.lens[Z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,oe={bits:n.lenbits},J=Ju($I,n.lens,0,19,n.lencode,0,n.work,oe),n.lenbits=oe.bits,J){e.msg="invalid code lengths set",n.mode=Ai;break}n.have=0,n.mode=O0;case O0:for(;n.have<n.nlen+n.ndist;){for(;I=n.lencode[v&(1<<n.lenbits)-1],O=I>>>24,D=I>>>16&255,R=I&65535,!(O<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(R<16)v>>>=O,y-=O,n.lens[n.have++]=R;else{if(R===16){for(q=O+2;y<q;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(v>>>=O,y-=O,n.have===0){e.msg="invalid bit length repeat",n.mode=Ai;break}te=n.lens[n.have-1],x=3+(v&3),v>>>=2,y-=2}else if(R===17){for(q=O+3;y<q;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=O,y-=O,te=0,x=3+(v&7),v>>>=3,y-=3}else{for(q=O+7;y<q;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=O,y-=O,te=0,x=11+(v&127),v>>>=7,y-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ai;break}for(;x--;)n.lens[n.have++]=te}}if(n.mode===Ai)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ai;break}if(n.lenbits=9,oe={bits:n.lenbits},J=Ju(lb,n.lens,0,n.nlen,n.lencode,0,n.work,oe),n.lenbits=oe.bits,J){e.msg="invalid literal/lengths set",n.mode=Ai;break}if(n.distbits=6,n.distcode=n.distdyn,oe={bits:n.distbits},J=Ju(ub,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,oe),n.distbits=oe.bits,J){e.msg="invalid distances set",n.mode=Ai;break}if(n.mode=jc,t===Fc)break e;case jc:n.mode=zc;case zc:if(c>=6&&g>=258){e.next_out=h,e.avail_out=g,e.next_in=l,e.avail_in=c,n.hold=v,n.bits=y,OI(e,k),h=e.next_out,i=e.output,g=e.avail_out,l=e.next_in,r=e.input,c=e.avail_in,v=n.hold,y=n.bits,n.mode===Ds&&(n.back=-1);break}for(n.back=0;I=n.lencode[v&(1<<n.lenbits)-1],O=I>>>24,D=I>>>16&255,R=I&65535,!(O<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(D&&(D&240)===0){for($=O,G=D,ee=R;I=n.lencode[ee+((v&(1<<$+G)-1)>>$)],O=I>>>24,D=I>>>16&255,R=I&65535,!($+O<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=$,y-=$,n.back+=$}if(v>>>=O,y-=O,n.back+=O,n.length=R,D===0){n.mode=D0;break}if(D&32){n.back=-1,n.mode=Ds;break}if(D&64){e.msg="invalid literal/length code",n.mode=Ai;break}n.extra=D&15,n.mode=A0;case A0:if(n.extra){for(q=n.extra;y<q;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=T0;case T0:for(;I=n.distcode[v&(1<<n.distbits)-1],O=I>>>24,D=I>>>16&255,R=I&65535,!(O<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if((D&240)===0){for($=O,G=D,ee=R;I=n.distcode[ee+((v&(1<<$+G)-1)>>$)],O=I>>>24,D=I>>>16&255,R=I&65535,!($+O<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=$,y-=$,n.back+=$}if(v>>>=O,y-=O,n.back+=O,D&64){e.msg="invalid distance code",n.mode=Ai;break}n.offset=R,n.extra=D&15,n.mode=R0;case R0:if(n.extra){for(q=n.extra;y<q;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ai;break}n.mode=B0;case B0:if(g===0)break e;if(x=k-g,n.offset>x){if(x=n.offset-x,x>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ai;break}x>n.wnext?(x-=n.wnext,N=n.wsize-x):N=n.wnext-x,x>n.length&&(x=n.length),T=n.window}else T=i,N=h-n.offset,x=n.length;x>g&&(x=g),g-=x,n.length-=x;do i[h++]=T[N++];while(--x);n.length===0&&(n.mode=zc);break;case D0:if(g===0)break e;i[h++]=n.length,g--,n.mode=zc;break;case Vd:if(n.wrap){for(;y<32;){if(c===0)break e;c--,v|=r[l++]<<y,y+=8}if(k-=g,e.total_out+=k,n.total+=k,n.wrap&4&&k&&(e.adler=n.check=n.flags?xs(n.check,i,k,h-k):zf(n.check,i,k,h-k)),k=g,n.wrap&4&&(n.flags?v:j0(v))!==n.check){e.msg="incorrect data check",n.mode=Ai;break}v=0,y=0}n.mode=$0;case $0:if(n.wrap&&n.flags){for(;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.wrap&4&&v!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ai;break}v=0,y=0}n.mode=F0;case F0:J=jI;break e;case Ai:J=cb;break e;case db:return hb;case fb:default:return is}return e.next_out=h,e.avail_out=g,e.next_in=l,e.avail_in=c,n.hold=v,n.bits=y,(n.wsize||k!==e.avail_out&&n.mode<Ai&&(n.mode<Vd||t!==v0))&&yb(e,e.output,e.next_out,k-e.avail_out),w-=e.avail_in,k-=e.avail_out,e.total_in+=w,e.total_out+=k,n.total+=k,n.wrap&4&&k&&(e.adler=n.check=n.flags?xs(n.check,i,k,e.next_out-k):zf(n.check,i,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ds?128:0)+(n.mode===jc||n.mode===Gd?256:0),(w===0&&k===0||t===v0)&&J===Ol&&(J=HI),J},YI=e=>{if(zl(e))return is;let t=e.state;return t.window&&(t.window=null),e.state=null,Ol},JI=(e,t)=>{if(zl(e))return is;const n=e.state;return(n.wrap&2)===0?is:(n.head=t,t.done=!1,Ol)},QI=(e,t)=>{const n=t.length;let r,i,l;return zl(e)||(r=e.state,r.wrap!==0&&r.mode!==Lh)?is:r.mode===Lh&&(i=1,i=zf(i,t,n,0),i!==r.check)?cb:(l=yb(e,t,n,n),l?(r.mode=db,hb):(r.havedict=1,Ol))};var eO=gb,tO=mb,nO=pb,rO=KI,iO=vb,aO=XI,oO=YI,sO=JI,lO=QI,uO="pako inflate (from Nodeca project)",js={inflateReset:eO,inflateReset2:tO,inflateResetKeep:nO,inflateInit:rO,inflateInit2:iO,inflate:aO,inflateEnd:oO,inflateGetHeader:sO,inflateSetDictionary:lO,inflateInfo:uO};function cO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hO=cO;const _b=Object.prototype.toString,{Z_NO_FLUSH:dO,Z_FINISH:fO,Z_OK:sc,Z_STREAM_END:Zd,Z_NEED_DICT:Xd,Z_STREAM_ERROR:pO,Z_DATA_ERROR:H0,Z_MEM_ERROR:gO}=ab;function vc(e){this.options=ob.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PI,this.strm.avail_out=0;let n=js.inflateInit2(this.strm,t.windowBits);if(n!==sc)throw new Error(Hf[n]);if(this.header=new hO,js.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=qf.string2buf(t.dictionary):_b.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=js.inflateSetDictionary(this.strm,t.dictionary),n!==sc)))throw new Error(Hf[n])}vc.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let l,h,c;if(this.ended)return!1;for(t===~~t?h=t:h=t===!0?fO:dO,_b.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),l=js.inflate(n,h),l===Xd&&i&&(l=js.inflateSetDictionary(n,i),l===sc?l=js.inflate(n,h):l===H0&&(l=Xd));n.avail_in>0&&l===Zd&&n.state.wrap>0&&e[n.next_in]!==0;)js.inflateReset(n),l=js.inflate(n,h);switch(l){case pO:case H0:case Xd:case gO:return this.onEnd(l),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||l===Zd))if(this.options.to==="string"){let g=qf.utf8border(n.output,n.next_out),v=n.next_out-g,y=qf.buf2string(n.output,g);n.next_out=v,n.avail_out=r-v,v&&n.output.set(n.output.subarray(g,g+v),0),this.onData(y)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===sc&&c===0)){if(l===Zd)return l=js.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};vc.prototype.onData=function(e){this.chunks.push(e)};vc.prototype.onEnd=function(e){e===sc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ob.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mO(e,t){const n=new vc(t);if(n.push(e),n.err)throw n.msg||Hf[n.err];return n.result}var vO=vc,yO=mO,_O={Inflate:vO,inflate:yO};const{Inflate:bO,inflate:xO}=_O;var q0=bO,wO=xO;const bb=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;bb[e]=t}const U0=4294967295;function CO(e,t,n){let r=e;for(let i=0;i<n;i++)r=bb[(r^t[i])&255]^r>>>8;return r}function SO(e,t){return(CO(U0,e,t)^U0)>>>0}function G0(e,t,n){const r=e.readUint32(),i=SO(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function xb(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function wb(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function Cb(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Sb(e,t,n,r,i){let l=0;if(n.length===0){for(;l<i;l++)t[l]=e[l];for(;l<r;l++)t[l]=e[l]+(t[l-i]>>1)&255}else{for(;l<i;l++)t[l]=e[l]+(n[l]>>1)&255;for(;l<r;l++)t[l]=e[l]+(t[l-i]+n[l]>>1)&255}}function Eb(e,t,n,r,i){let l=0;if(n.length===0){for(;l<i;l++)t[l]=e[l];for(;l<r;l++)t[l]=e[l]+t[l-i]&255}else{for(;l<i;l++)t[l]=e[l]+n[l]&255;for(;l<r;l++)t[l]=e[l]+EO(t[l-i],n[l],n[l-i])&255}}function EO(e,t,n){const r=e+t-n,i=Math.abs(r-e),l=Math.abs(r-t),h=Math.abs(r-n);return i<=l&&i<=h?e:l<=h?t:n}function kO(e,t,n,r,i,l){switch(e){case 0:xb(t,n,i);break;case 1:wb(t,n,i,l);break;case 2:Cb(t,n,r,i);break;case 3:Sb(t,n,r,i,l);break;case 4:Eb(t,n,r,i,l);break;default:throw new Error(`Unsupported filter: ${e}`)}}const LO=new Uint16Array([255]),NO=new Uint8Array(LO.buffer),MO=NO[0]===255;function PO(e){const{data:t,width:n,height:r,channels:i,depth:l}=e,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(l/8)*i,g=new Uint8Array(r*n*c);let v=0;for(let y=0;y<7;y++){const w=h[y],k=Math.ceil((n-w.x)/w.xStep),x=Math.ceil((r-w.y)/w.yStep);if(k<=0||x<=0)continue;const N=k*c,T=new Uint8Array(N);for(let I=0;I<x;I++){const O=t[v++],D=t.subarray(v,v+N);v+=N;const R=new Uint8Array(N);kO(O,D,R,T,N,c),T.set(R);for(let $=0;$<k;$++){const G=w.x+$*w.xStep,ee=w.y+I*w.yStep;if(!(G>=n||ee>=r))for(let te=0;te<c;te++)g[(ee*n+G)*c+te]=R[$*c+te]}}}if(l===16){const y=new Uint16Array(g.buffer);if(MO)for(let w=0;w<y.length;w++)y[w]=IO(y[w]);return y}else return g}function IO(e){return(e&255)<<8|e>>8&255}const OO=new Uint16Array([255]),AO=new Uint8Array(OO.buffer),TO=AO[0]===255,RO=new Uint8Array(0);function V0(e){const{data:t,width:n,height:r,channels:i,depth:l}=e,h=Math.ceil(l/8)*i,c=Math.ceil(l/8*i*n),g=new Uint8Array(r*c);let v=RO,y=0,w,k;for(let x=0;x<r;x++){switch(w=t.subarray(y+1,y+1+c),k=g.subarray(x*c,(x+1)*c),t[y]){case 0:xb(w,k,c);break;case 1:wb(w,k,c,h);break;case 2:Cb(w,k,v,c);break;case 3:Sb(w,k,v,c,h);break;case 4:Eb(w,k,v,c,h);break;default:throw new Error(`Unsupported filter: ${t[y]}`)}v=k,y+=c+1}if(l===16){const x=new Uint16Array(g.buffer);if(TO)for(let N=0;N<x.length;N++)x[N]=BO(x[N]);return x}else return g}function BO(e){return(e&255)<<8|e>>8&255}const eh=Uint8Array.of(137,80,78,71,13,10,26,10);function W0(e){if(!DO(e.readBytes(eh.length)))throw new Error("wrong PNG signature")}function DO(e){if(e.length<eh.length)return!1;for(let t=0;t<eh.length;t++)if(e[t]!==eh[t])return!1;return!0}const $O="tEXt",FO=0,kb=new TextDecoder("latin1");function jO(e){if(HO(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const zO=/^[\u0000-\u00FF]*$/;function HO(e){if(!zO.test(e))throw new Error("invalid latin1 text")}function qO(e,t,n){const r=Lb(t);e[r]=UO(t,n-r.length-1)}function Lb(e){for(e.mark();e.readByte()!==FO;);const t=e.offset;e.reset();const n=kb.decode(e.readBytes(t-e.offset-1));return e.skip(1),jO(n),n}function UO(e,t){return kb.decode(e.readBytes(t))}const Go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Yd={UNKNOWN:-1,DEFLATE:0},K0={UNKNOWN:-1,ADAPTIVE:0},Jd={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Hc={NONE:0,BACKGROUND:1,PREVIOUS:2},Qd={SOURCE:0,OVER:1};class GO extends Wp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new q0,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Yd.UNKNOWN,this._filterMethod=K0.UNKNOWN,this._interlaceMethod=Jd.UNKNOWN,this._colorType=Go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(W0(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(W0(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case $O:qO(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?G0(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?G0(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=VO(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Go.GREYSCALE:r=1;break;case Go.TRUECOLOUR:r=3;break;case Go.INDEXED_COLOUR:r=1;break;case Go.GREYSCALE_ALPHA:r=2;break;case Go.TRUECOLOUR_ALPHA:r=4;break;case Go.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Yd.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Go.GREYSCALE:case Go.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Go.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Go.UNKNOWN:case Go.GREYSCALE_ALPHA:case Go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=Lb(this),r=this.readUint8();if(r!==Yd.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:wO(i)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=V0({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,r){switch(t.disposeOp){case Hc.NONE:break;case Hc.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const h=(i*t.width+l)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[h+c]=0}break;case Hc.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const r=1<<this._png.depth,i=(l,h)=>{const c=((l+n.yOffset)*this._png.width+n.xOffset+h)*this._png.channels,g=(l*n.width+h)*this._png.channels;return{index:c,frameIndex:g}};switch(n.blendOp){case Qd.SOURCE:for(let l=0;l<n.height;l++)for(let h=0;h<n.width;h++){const{index:c,frameIndex:g}=i(l,h);for(let v=0;v<this._png.channels;v++)t.data[c+v]=n.data[g+v]}break;case Qd.OVER:for(let l=0;l<n.height;l++)for(let h=0;h<n.width;h++){const{index:c,frameIndex:g}=i(l,h);for(let v=0;v<this._png.channels;v++){const y=n.data[g+this._png.channels-1]/r,w=v%(this._png.channels-1)===0?1:n.data[g+v],k=Math.floor(y*w+(1-y)*t.data[c+v]);t.data[c+v]+=k}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==K0.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Jd.NO_INTERLACE)this._png.data=V0({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Jd.ADAM7)this._png.data=PO({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Hc.NONE,blendOp:Qd.SOURCE,data:t}),this._inflator=new q0,this._writingDataChunks=!1}}function VO(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Z0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Z0||(Z0={}));function WO(e,t){return new GO(e,t).decode()}var lr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ef(){lr.console&&typeof lr.console.log=="function"&&lr.console.log.apply(lr.console,arguments)}var vi={log:ef,warn:function(e){lr.console&&(typeof lr.console.warn=="function"?lr.console.warn.apply(lr.console,arguments):ef.call(null,arguments))},error:function(e){lr.console&&(typeof lr.console.error=="function"?lr.console.error.apply(lr.console,arguments):ef(e))}};function tf(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){bl(r.response,t,n)},r.onerror=function(){vi.error("could not download file")},r.send()}function X0(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var bl=lr.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==lr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=lr.URL||lr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?X0(i.href)?tf(e,t,n):qc(i,i.target="_blank"):qc(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){qc(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(X0(e))tf(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){qc(r)})}else navigator.msSaveOrOpenBlob((function(i,l){return l===void 0?l={autoBom:!1}:Lr(l)!=="object"&&(vi.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return tf(e,t,n);var i=e.type==="application/octet-stream",l=/constructor/i.test(lr.HTMLElement)||lr.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||i&&l)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=h?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(e)}else{var g=lr.URL||lr.webkitURL,v=g.createObjectURL(e);r?r.location=v:location.href=v,r=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Nb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,l=n[r].process,h=i.exec(e);h&&(t=l(h),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),g=this.g.toString(16),v=this.b.toString(16);return c.length==1&&(c="0"+c),g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),"#"+c+g+v}}var th=lr.atob.bind(lr),Y0=lr.btoa.bind(lr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function nf(e,t){var n=e[0],r=e[1],i=e[2],l=e[3];n=co(n,r,i,l,t[0],7,-680876936),l=co(l,n,r,i,t[1],12,-389564586),i=co(i,l,n,r,t[2],17,606105819),r=co(r,i,l,n,t[3],22,-1044525330),n=co(n,r,i,l,t[4],7,-176418897),l=co(l,n,r,i,t[5],12,1200080426),i=co(i,l,n,r,t[6],17,-1473231341),r=co(r,i,l,n,t[7],22,-45705983),n=co(n,r,i,l,t[8],7,1770035416),l=co(l,n,r,i,t[9],12,-1958414417),i=co(i,l,n,r,t[10],17,-42063),r=co(r,i,l,n,t[11],22,-1990404162),n=co(n,r,i,l,t[12],7,1804603682),l=co(l,n,r,i,t[13],12,-40341101),i=co(i,l,n,r,t[14],17,-1502002290),n=ho(n,r=co(r,i,l,n,t[15],22,1236535329),i,l,t[1],5,-165796510),l=ho(l,n,r,i,t[6],9,-1069501632),i=ho(i,l,n,r,t[11],14,643717713),r=ho(r,i,l,n,t[0],20,-373897302),n=ho(n,r,i,l,t[5],5,-701558691),l=ho(l,n,r,i,t[10],9,38016083),i=ho(i,l,n,r,t[15],14,-660478335),r=ho(r,i,l,n,t[4],20,-405537848),n=ho(n,r,i,l,t[9],5,568446438),l=ho(l,n,r,i,t[14],9,-1019803690),i=ho(i,l,n,r,t[3],14,-187363961),r=ho(r,i,l,n,t[8],20,1163531501),n=ho(n,r,i,l,t[13],5,-1444681467),l=ho(l,n,r,i,t[2],9,-51403784),i=ho(i,l,n,r,t[7],14,1735328473),n=fo(n,r=ho(r,i,l,n,t[12],20,-1926607734),i,l,t[5],4,-378558),l=fo(l,n,r,i,t[8],11,-2022574463),i=fo(i,l,n,r,t[11],16,1839030562),r=fo(r,i,l,n,t[14],23,-35309556),n=fo(n,r,i,l,t[1],4,-1530992060),l=fo(l,n,r,i,t[4],11,1272893353),i=fo(i,l,n,r,t[7],16,-155497632),r=fo(r,i,l,n,t[10],23,-1094730640),n=fo(n,r,i,l,t[13],4,681279174),l=fo(l,n,r,i,t[0],11,-358537222),i=fo(i,l,n,r,t[3],16,-722521979),r=fo(r,i,l,n,t[6],23,76029189),n=fo(n,r,i,l,t[9],4,-640364487),l=fo(l,n,r,i,t[12],11,-421815835),i=fo(i,l,n,r,t[15],16,530742520),n=po(n,r=fo(r,i,l,n,t[2],23,-995338651),i,l,t[0],6,-198630844),l=po(l,n,r,i,t[7],10,1126891415),i=po(i,l,n,r,t[14],15,-1416354905),r=po(r,i,l,n,t[5],21,-57434055),n=po(n,r,i,l,t[12],6,1700485571),l=po(l,n,r,i,t[3],10,-1894986606),i=po(i,l,n,r,t[10],15,-1051523),r=po(r,i,l,n,t[1],21,-2054922799),n=po(n,r,i,l,t[8],6,1873313359),l=po(l,n,r,i,t[15],10,-30611744),i=po(i,l,n,r,t[6],15,-1560198380),r=po(r,i,l,n,t[13],21,1309151649),n=po(n,r,i,l,t[4],6,-145523070),l=po(l,n,r,i,t[11],10,-1120210379),i=po(i,l,n,r,t[2],15,718787259),r=po(r,i,l,n,t[9],21,-343485551),e[0]=rl(n,e[0]),e[1]=rl(r,e[1]),e[2]=rl(i,e[2]),e[3]=rl(l,e[3])}function od(e,t,n,r,i,l){return t=rl(rl(t,e),rl(r,l)),rl(t<<i|t>>>32-i,n)}function co(e,t,n,r,i,l,h){return od(t&n|~t&r,e,t,i,l,h)}function ho(e,t,n,r,i,l,h){return od(t&r|n&~r,e,t,i,l,h)}function fo(e,t,n,r,i,l,h){return od(t^n^r,e,t,i,l,h)}function po(e,t,n,r,i,l,h){return od(n^(t|~r),e,t,i,l,h)}function Mb(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)nf(r,KO(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(nf(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,nf(r,i),r}function KO(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var J0="0123456789abcdef".split("");function ZO(e){for(var t="",n=0;n<4;n++)t+=J0[e>>8*n+4&15]+J0[e>>8*n&15];return t}function XO(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Uf(e){return Mb(e).map(XO).join("")}var YO=(function(e){for(var t=0;t<e.length;t++)e[t]=ZO(e[t]);return e.join("")})(Mb("hello"))!="5d41402abc4b2a76b9719d911017c592";function rl(e,t){if(YO){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Gf(e,t){var n,r,i,l;if(e!==n){for(var h=(i=e,l=1+(256/e.length|0),new Array(l+1).join(i)),c=[],g=0;g<256;g++)c[g]=g;var v=0;for(g=0;g<256;g++){var y=c[g];v=(v+y+h.charCodeAt(g))%256,c[g]=c[v],c[v]=y}n=e,r=c}else c=r;var w=t.length,k=0,x=0,N="";for(g=0;g<w;g++)x=(x+(y=c[k=(k+1)%256]))%256,c[k]=c[x],c[x]=y,h=c[(c[k]+c[x])%256],N+=String.fromCharCode(t.charCodeAt(g)^h);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q0={print:4,modify:8,copy:16,"annot-forms":32};function iu(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(c){if(Q0.perm!==void 0)throw new Error("Invalid permission: "+c);i+=Q0[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),h=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,h),this.P=-(1+(255^i)),this.encryptionKey=Uf(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Gf(this.encryptionKey,this.padding)}function au(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function ev(e){if(Lr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var l=Math.random().toString(35);return t[n][l]=[r,!!i],l},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var l in t[n]){var h=t[n][l];try{h[0].apply(e,r)}catch(c){lr.console&&vi.error("jsPDF PubSub Error",c.message,c)}h[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Nh(e){if(!(this instanceof Nh))return new Nh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Pb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Cl(e,t,n,r,i){if(!(this instanceof Cl))return new Cl(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Pb.call(this,r,i)}function su(e,t,n,r,i){if(!(this instanceof su))return new su(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Pb.call(this,r,i)}function qn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],l=arguments[3],h=[],c=1,g=16,v="S",y=null;Lr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,l=e.compress||e.compressPdf||l,(y=e.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(g=e.floatPrecision),v=e.defaultPathOperation||"S"),h=e.filters||(l===!0?["FlateEncode"]:h),r=r||"mm",n=(""+(n||"P")).toLowerCase();var w=e.putOnlyUsedFonts||!1,k={},x={internal:{},__private__:{}};x.__private__.PubSub=ev;var N="1.3",T=x.__private__.getPdfVersion=function(){return N};x.__private__.setPdfVersion=function(j){N=j};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return I};var O=x.__private__.getPageFormat=function(j){return I[j]};i=i||"a4";var D="compat",R="advanced",$=D;function G(){this.saveGraphicsState(),fe(new mn(Ft,0,0,-Ft,0,ro()*Ft).toString()+" cm"),this.setFontSize(this.getFontSize()/Ft),v="n",$=R}function ee(){this.restoreGraphicsState(),v="S",$=D}var te=x.__private__.combineFontStyleAndFontWeight=function(j,ye){if(j=="bold"&&ye=="normal"||j=="bold"&&ye==400||j=="normal"&&ye=="italic"||j=="bold"&&ye=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ye&&(j=ye==400||ye==="normal"?j==="italic"?"italic":"normal":ye!=700&&ye!=="bold"||j!=="normal"?(ye==700?"bold":ye)+""+j:"bold"),j};x.advancedAPI=function(j){var ye=$===D;return ye&&G.call(this),typeof j!="function"||(j(this),ye&&ee.call(this)),this},x.compatAPI=function(j){var ye=$===R;return ye&&ee.call(this),typeof j!="function"||(j(this),ye&&G.call(this)),this},x.isAdvancedAPI=function(){return $===R};var J,H=function(j){if($!==R)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=x.roundToPrecision=x.__private__.roundToPrecision=function(j,ye){var ze=t||ye;if(isNaN(j)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(ze).replace(/0+$/,"")};J=x.hpf=x.__private__.hpf=typeof g=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(j,g)}:g==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(j,16)};var q=x.f2=x.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return oe(j,2)},Z=x.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return oe(j,3)},X=x.scale=x.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return $===D?j*Ft:$===R?j:void 0},U=function(j){return X((function(ye){return $===D?ro()-ye:$===R?ye:void 0})(j))};x.__private__.setPrecision=x.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var Q,ae="00000000000000000000000000000000",ue=x.__private__.getFileId=function(){return ae},le=x.__private__.setFileId=function(j){return ae=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Qr=new iu(y.userPermissions,y.userPassword,y.ownerPassword,ae)),ae};x.setFileId=function(j){return le(j),this},x.getFileId=function(){return ue()};var be=x.__private__.convertDateToPDFDate=function(j){var ye=j.getTimezoneOffset(),ze=ye<0?"+":"-",et=Math.floor(Math.abs(ye/60)),pt=Math.abs(ye%60),$t=[ze,me(et),"'",me(pt),"'"].join("");return["D:",j.getFullYear(),me(j.getMonth()+1),me(j.getDate()),me(j.getHours()),me(j.getMinutes()),me(j.getSeconds()),$t].join("")},ke=x.__private__.convertPDFDateToDate=function(j){var ye=parseInt(j.substr(2,4),10),ze=parseInt(j.substr(6,2),10)-1,et=parseInt(j.substr(8,2),10),pt=parseInt(j.substr(10,2),10),$t=parseInt(j.substr(12,2),10),Qt=parseInt(j.substr(14,2),10);return new Date(ye,ze,et,pt,$t,Qt,0)},Te=x.__private__.setCreationDate=function(j){var ye;if(j===void 0&&(j=new Date),j instanceof Date)ye=be(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ye=j}return Q=ye},ne=x.__private__.getCreationDate=function(j){var ye=Q;return j==="jsDate"&&(ye=ke(Q)),ye};x.setCreationDate=function(j){return Te(j),this},x.getCreationDate=function(j){return ne(j)};var ce,me=x.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},we=x.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},Le=0,Be=[],he=[],qe=0,We=[],Fe=[],de=!1,it=he;x.__private__.setCustomOutputDestination=function(j){de=!0,it=j};var ft=function(j){de||(it=j)};x.__private__.resetCustomOutputDestination=function(){de=!1,it=he};var fe=x.__private__.out=function(j){return j=j.toString(),qe+=j.length+1,it.push(j),it},tt=x.__private__.write=function(j){return fe(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},kt=x.__private__.getArrayBuffer=function(j){for(var ye=j.length,ze=new ArrayBuffer(ye),et=new Uint8Array(ze);ye--;)et[ye]=j.charCodeAt(ye);return ze},At=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return At};var Ze=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(j){return Ze=$===R?j/Ft:j,this};var Zt,nt=x.__private__.getFontSize=x.getFontSize=function(){return $===D?Ze:Ze*Ft},mt=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(j){return mt=j,this},x.__private__.getR2L=x.getR2L=function(){return mt};var wt,Et=x.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))Zt=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');Zt=j}else Zt=parseInt(j,10)};x.__private__.getZoomMode=function(){return Zt};var Xt,nn=x.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');wt=j};x.__private__.getPageMode=function(){return wt};var dn=x.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');Xt=j};x.__private__.getLayoutMode=function(){return Xt},x.__private__.setDisplayMode=x.setDisplayMode=function(j,ye,ze){return Et(j),dn(ye),nn(ze),this};var Dt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(j){if(Object.keys(Dt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dt[j]},x.__private__.getDocumentProperties=function(){return Dt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(j){for(var ye in Dt)Dt.hasOwnProperty(ye)&&j[ye]&&(Dt[ye]=j[ye]);return this},x.__private__.setDocumentProperty=function(j,ye){if(Object.keys(Dt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dt[j]=ye};var Jt,Ft,ht,Mt,tn,fn={},Tt={},zt=[],jt={},ln={},an={},hn={},Bn=null,Rt=0,Gt=[],gn=new ev(x),An=e.hotfixes||[],Dn={},Kt={},dr=[],mn=function j(ye,ze,et,pt,$t,Qt){if(!(this instanceof j))return new j(ye,ze,et,pt,$t,Qt);isNaN(ye)&&(ye=1),isNaN(ze)&&(ze=0),isNaN(et)&&(et=0),isNaN(pt)&&(pt=1),isNaN($t)&&($t=0),isNaN(Qt)&&(Qt=0),this._matrix=[ye,ze,et,pt,$t,Qt]};Object.defineProperty(mn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(mn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(mn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(mn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(mn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(mn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(mn.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(mn.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(mn.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(mn.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(mn.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(mn.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(mn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mn.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(j)},mn.prototype.multiply=function(j){var ye=j.sx*this.sx+j.shy*this.shx,ze=j.sx*this.shy+j.shy*this.sy,et=j.shx*this.sx+j.sy*this.shx,pt=j.shx*this.shy+j.sy*this.sy,$t=j.tx*this.sx+j.ty*this.shx+this.tx,Qt=j.tx*this.shy+j.ty*this.sy+this.ty;return new mn(ye,ze,et,pt,$t,Qt)},mn.prototype.decompose=function(){var j=this.sx,ye=this.shy,ze=this.shx,et=this.sy,pt=this.tx,$t=this.ty,Qt=Math.sqrt(j*j+ye*ye),Mn=(j/=Qt)*ze+(ye/=Qt)*et;ze-=j*Mn,et-=ye*Mn;var Cn=Math.sqrt(ze*ze+et*et);return Mn/=Cn,j*(et/=Cn)<ye*(ze/=Cn)&&(j=-j,ye=-ye,Mn=-Mn,Qt=-Qt),{scale:new mn(Qt,0,0,Cn,0,0),translate:new mn(1,0,0,1,pt,$t),rotate:new mn(j,ye,-ye,j,0,0),skew:new mn(1,0,Mn,1,0,0)}},mn.prototype.toString=function(j){return this.join(" ")},mn.prototype.inversed=function(){var j=this.sx,ye=this.shy,ze=this.shx,et=this.sy,pt=this.tx,$t=this.ty,Qt=1/(j*et-ye*ze),Mn=et*Qt,Cn=-ye*Qt,Tn=-ze*Qt,ir=j*Qt;return new mn(Mn,Cn,Tn,ir,-Mn*pt-Tn*$t,-Cn*pt-ir*$t)},mn.prototype.applyToPoint=function(j){var ye=j.x*this.sx+j.y*this.shx+this.tx,ze=j.x*this.shy+j.y*this.sy+this.ty;return new ka(ye,ze)},mn.prototype.applyToRectangle=function(j){var ye=this.applyToPoint(j),ze=this.applyToPoint(new ka(j.x+j.w,j.y+j.h));return new Fo(ye.x,ye.y,ze.x-ye.x,ze.y-ye.y)},mn.prototype.clone=function(){var j=this.sx,ye=this.shy,ze=this.shx,et=this.sy,pt=this.tx,$t=this.ty;return new mn(j,ye,ze,et,pt,$t)},x.Matrix=mn;var br=x.matrixMult=function(j,ye){return ye.multiply(j)},Un=new mn(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Un;var ur=function(j,ye){if(!ln[j]){var ze=(ye instanceof Cl?"Sh":"P")+(Object.keys(jt).length+1).toString(10);ye.id=ze,ln[j]=ze,jt[ze]=ye,gn.publish("addPattern",ye)}};x.ShadingPattern=Cl,x.TilingPattern=su,x.addShadingPattern=function(j,ye){return H("addShadingPattern()"),ur(j,ye),this},x.beginTilingPattern=function(j){H("beginTilingPattern()"),_o(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},x.endTilingPattern=function(j,ye){H("endTilingPattern()"),ye.stream=Fe[ce].join(`
`),ur(j,ye),gn.publish("endTilingPattern",ye),dr.pop().restore()};var Tr,zn=x.__private__.newObject=function(){var j=cn();return Pr(j,!0),j},cn=x.__private__.newObjectDeferred=function(){return Le++,Be[Le]=function(){return qe},Le},Pr=function(j,ye){return ye=typeof ye=="boolean"&&ye,Be[j]=qe,ye&&fe(j+" 0 obj"),j},Ri=x.__private__.newAdditionalObject=function(){var j={objId:cn(),content:""};return We.push(j),j},Nn=cn(),Gn=cn(),wn=x.__private__.decodeColorString=function(j){var ye=j.split(" ");if(ye.length!==2||ye[1]!=="g"&&ye[1]!=="G")ye.length!==5||ye[4]!=="k"&&ye[4]!=="K"||(ye=[(1-ye[0])*(1-ye[3]),(1-ye[1])*(1-ye[3]),(1-ye[2])*(1-ye[3]),"r"]);else{var ze=parseFloat(ye[0]);ye=[ze,ze,ze,"r"]}for(var et="#",pt=0;pt<3;pt++)et+=("0"+Math.floor(255*parseFloat(ye[pt])).toString(16)).slice(-2);return et},nr=x.__private__.encodeColorString=function(j){var ye;typeof j=="string"&&(j={ch1:j});var ze=j.ch1,et=j.ch2,pt=j.ch3,$t=j.ch4,Qt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var Mn=new Nb(ze);if(Mn.ok)ze=Mn.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var Cn=parseInt(ze.substr(1),16);ze=Cn>>16&255,et=Cn>>8&255,pt=255&Cn}if(et===void 0||$t===void 0&&ze===et&&et===pt)ye=typeof ze=="string"?ze+" "+Qt[0]:j.precision===2?q(ze/255)+" "+Qt[0]:Z(ze/255)+" "+Qt[0];else if($t===void 0||Lr($t)==="object"){if($t&&!isNaN($t.a)&&$t.a===0)return["1.","1.","1.",Qt[1]].join(" ");ye=typeof ze=="string"?[ze,et,pt,Qt[1]].join(" "):j.precision===2?[q(ze/255),q(et/255),q(pt/255),Qt[1]].join(" "):[Z(ze/255),Z(et/255),Z(pt/255),Qt[1]].join(" ")}else ye=typeof ze=="string"?[ze,et,pt,$t,Qt[2]].join(" "):j.precision===2?[q(ze),q(et),q(pt),q($t),Qt[2]].join(" "):[Z(ze),Z(et),Z(pt),Z($t),Qt[2]].join(" ");return ye},sr=x.__private__.getFilters=function(){return h},fr=x.__private__.putStream=function(j){var ye=(j=j||{}).data||"",ze=j.filters||sr(),et=j.alreadyAppliedFilters||[],pt=j.addLength1||!1,$t=ye.length,Qt=j.objectId,Mn=function(di){return di};if(y!==null&&Qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(Mn=Qr.encryptor(Qt,0));var Cn={};ze===!0&&(ze=["FlateEncode"]);var Tn=j.additionalKeyValues||[],ir=(Cn=qn.API.processDataByFilters!==void 0?qn.API.processDataByFilters(ye,ze):{data:ye,reverseChain:[]}).reverseChain+(Array.isArray(et)?et.join(" "):et.toString());if(Cn.data.length!==0&&(Tn.push({key:"Length",value:Cn.data.length}),pt===!0&&Tn.push({key:"Length1",value:$t})),ir.length!=0)if(ir.split("/").length-1==1)Tn.push({key:"Filter",value:ir});else{Tn.push({key:"Filter",value:"["+ir+"]"});for(var Sr=0;Sr<Tn.length;Sr+=1)if(Tn[Sr].key==="DecodeParms"){for(var li=[],vr=0;vr<Cn.reverseChain.split("/").length-1;vr+=1)li.push("null");li.push(Tn[Sr].value),Tn[Sr].value="["+li.join(" ")+"]"}}fe("<<");for(var ar=0;ar<Tn.length;ar++)fe("/"+Tn[ar].key+" "+Tn[ar].value);fe(">>"),Cn.data.length!==0&&(fe("stream"),fe(Mn(Cn.data)),fe("endstream"))},wr=x.__private__.putPage=function(j){var ye=j.number,ze=j.data,et=j.objId,pt=j.contentsObjId;Pr(et,!0),fe("<</Type /Page"),fe("/Parent "+j.rootDictionaryObjId+" 0 R"),fe("/Resources "+j.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(J(j.mediaBox.bottomLeftX))+" "+parseFloat(J(j.mediaBox.bottomLeftY))+" "+J(j.mediaBox.topRightX)+" "+J(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&fe("/CropBox ["+J(j.cropBox.bottomLeftX)+" "+J(j.cropBox.bottomLeftY)+" "+J(j.cropBox.topRightX)+" "+J(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&fe("/BleedBox ["+J(j.bleedBox.bottomLeftX)+" "+J(j.bleedBox.bottomLeftY)+" "+J(j.bleedBox.topRightX)+" "+J(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&fe("/TrimBox ["+J(j.trimBox.bottomLeftX)+" "+J(j.trimBox.bottomLeftY)+" "+J(j.trimBox.topRightX)+" "+J(j.trimBox.topRightY)+"]"),j.artBox!==null&&fe("/ArtBox ["+J(j.artBox.bottomLeftX)+" "+J(j.artBox.bottomLeftY)+" "+J(j.artBox.topRightX)+" "+J(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&fe("/UserUnit "+j.userUnit),gn.publish("putPage",{objId:et,pageContext:Gt[ye],pageNumber:ye,page:ze}),fe("/Contents "+pt+" 0 R"),fe(">>"),fe("endobj");var $t=ze.join(`
`);return $===R&&($t+=`
Q`),Pr(pt,!0),fr({data:$t,filters:sr(),objectId:pt}),fe("endobj"),et},Nr=x.__private__.putPages=function(){var j,ye,ze=[];for(j=1;j<=Rt;j++)Gt[j].objId=cn(),Gt[j].contentsObjId=cn();for(j=1;j<=Rt;j++)ze.push(wr({number:j,data:Fe[j],objId:Gt[j].objId,contentsObjId:Gt[j].contentsObjId,mediaBox:Gt[j].mediaBox,cropBox:Gt[j].cropBox,bleedBox:Gt[j].bleedBox,trimBox:Gt[j].trimBox,artBox:Gt[j].artBox,userUnit:Gt[j].userUnit,rootDictionaryObjId:Nn,resourceDictionaryObjId:Gn}));Pr(Nn,!0),fe("<</Type /Pages");var et="/Kids [";for(ye=0;ye<Rt;ye++)et+=ze[ye]+" 0 R ";fe(et+"]"),fe("/Count "+Rt),fe(">>"),fe("endobj"),gn.publish("postPutPages")},Si=function(j){gn.publish("putFont",{font:j,out:fe,newObject:zn,putStream:fr}),j.isAlreadyPutted!==!0&&(j.objectNumber=zn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+au(j.postScriptName)),fe("/Subtype /Type1"),typeof j.encoding=="string"&&fe("/Encoding /"+j.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},yi=function(j){j.objectNumber=zn();var ye=[];ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Form"}),ye.push({key:"BBox",value:"["+[J(j.x),J(j.y),J(j.x+j.width),J(j.y+j.height)].join(" ")+"]"}),ye.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var ze=j.pages[1].join(`
`);fr({data:ze,additionalKeyValues:ye,objectId:j.objectNumber}),fe("endobj")},mr=function(j,ye){ye||(ye=21);var ze=zn(),et=(function(Qt,Mn){var Cn,Tn=[],ir=1/(Mn-1);for(Cn=0;Cn<1;Cn+=ir)Tn.push(Cn);if(Tn.push(1),Qt[0].offset!=0){var Sr={offset:0,color:Qt[0].color};Qt.unshift(Sr)}if(Qt[Qt.length-1].offset!=1){var li={offset:1,color:Qt[Qt.length-1].color};Qt.push(li)}for(var vr="",ar=0,di=0;di<Tn.length;di++){for(Cn=Tn[di];Cn>Qt[ar+1].offset;)ar++;var Zr=Qt[ar].offset,Ir=(Cn-Zr)/(Qt[ar+1].offset-Zr),Di=Qt[ar].color,Er=Qt[ar+1].color;vr+=we(Math.round((1-Ir)*Di[0]+Ir*Er[0]).toString(16))+we(Math.round((1-Ir)*Di[1]+Ir*Er[1]).toString(16))+we(Math.round((1-Ir)*Di[2]+Ir*Er[2]).toString(16))}return vr.trim()})(j.colors,ye),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+ye+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fr({data:et,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),fe("endobj"),j.objectNumber=zn(),fe("<< /ShadingType "+j.type),fe("/ColorSpace /DeviceRGB");var $t="/Coords ["+J(parseFloat(j.coords[0]))+" "+J(parseFloat(j.coords[1]))+" ";j.type===2?$t+=J(parseFloat(j.coords[2]))+" "+J(parseFloat(j.coords[3])):$t+=J(parseFloat(j.coords[2]))+" "+J(parseFloat(j.coords[3]))+" "+J(parseFloat(j.coords[4]))+" "+J(parseFloat(j.coords[5])),fe($t+="]"),j.matrix&&fe("/Matrix ["+j.matrix.toString()+"]"),fe("/Function "+ze+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Hi=function(j,ye){var ze=cn(),et=zn();ye.push({resourcesOid:ze,objectOid:et}),j.objectNumber=et;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+j.boundingBox.map(J).join(" ")+"]"}),pt.push({key:"XStep",value:J(j.xStep)}),pt.push({key:"YStep",value:J(j.yStep)}),pt.push({key:"Resources",value:ze+" 0 R"}),j.matrix&&pt.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),fr({data:j.stream,additionalKeyValues:pt,objectId:j.objectNumber}),fe("endobj")},Jn=function(j){for(var ye in j.objectNumber=zn(),fe("<<"),j)switch(ye){case"opacity":fe("/ca "+q(j[ye]));break;case"stroke-opacity":fe("/CA "+q(j[ye]))}fe(">>"),fe("endobj")},xn=function(j){Pr(j.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ye in fe("/Font <<"),fn)fn.hasOwnProperty(ye)&&(w===!1||w===!0&&k.hasOwnProperty(ye))&&fe("/"+ye+" "+fn[ye].objectNumber+" 0 R");fe(">>")})(),(function(){if(Object.keys(jt).length>0){for(var ye in fe("/Shading <<"),jt)jt.hasOwnProperty(ye)&&jt[ye]instanceof Cl&&jt[ye].objectNumber>=0&&fe("/"+ye+" "+jt[ye].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),fe(">>")}})(),(function(ye){if(Object.keys(jt).length>0){for(var ze in fe("/Pattern <<"),jt)jt.hasOwnProperty(ze)&&jt[ze]instanceof x.TilingPattern&&jt[ze].objectNumber>=0&&jt[ze].objectNumber<ye&&fe("/"+ze+" "+jt[ze].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),fe(">>")}})(j.objectOid),(function(){if(Object.keys(an).length>0){var ye;for(ye in fe("/ExtGState <<"),an)an.hasOwnProperty(ye)&&an[ye].objectNumber>=0&&fe("/"+ye+" "+an[ye].objectNumber+" 0 R");gn.publish("putGStateDict"),fe(">>")}})(),(function(){for(var ye in fe("/XObject <<"),Dn)Dn.hasOwnProperty(ye)&&Dn[ye].objectNumber>=0&&fe("/"+ye+" "+Dn[ye].objectNumber+" 0 R");gn.publish("putXobjectDict"),fe(">>")})(),fe(">>"),fe("endobj")},rr=function(j){Tt[j.fontName]=Tt[j.fontName]||{},Tt[j.fontName][j.fontStyle]=j.id},pr=function(j,ye,ze,et,pt){var $t={id:"F"+(Object.keys(fn).length+1).toString(10),postScriptName:j,fontName:ye,fontStyle:ze,encoding:et,isStandardFont:pt||!1,metadata:{}};return gn.publish("addFont",{font:$t,instance:this}),fn[$t.id]=$t,rr($t),$t.id},gr=x.__private__.pdfEscape=x.pdfEscape=function(j,ye){return(function(ze,et){var pt,$t,Qt,Mn,Cn,Tn,ir,Sr,li;if(Qt=(et=et||{}).sourceEncoding||"Unicode",Cn=et.outputEncoding,(et.autoencode||Cn)&&fn[Jt].metadata&&fn[Jt].metadata[Qt]&&fn[Jt].metadata[Qt].encoding&&(Mn=fn[Jt].metadata[Qt].encoding,!Cn&&fn[Jt].encoding&&(Cn=fn[Jt].encoding),!Cn&&Mn.codePages&&(Cn=Mn.codePages[0]),typeof Cn=="string"&&(Cn=Mn[Cn]),Cn)){for(ir=!1,Tn=[],pt=0,$t=ze.length;pt<$t;pt++)(Sr=Cn[ze.charCodeAt(pt)])?Tn.push(String.fromCharCode(Sr)):Tn.push(ze[pt]),Tn[pt].charCodeAt(0)>>8&&(ir=!0);ze=Tn.join("")}for(pt=ze.length;ir===void 0&&pt!==0;)ze.charCodeAt(pt-1)>>8&&(ir=!0),pt--;if(!ir)return ze;for(Tn=et.noBOM?[]:[254,255],pt=0,$t=ze.length;pt<$t;pt++){if((li=(Sr=ze.charCodeAt(pt))>>8)>>8)throw new Error("Character at position "+pt+" of string '"+ze+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tn.push(li),Tn.push(Sr-(li<<8))}return String.fromCharCode.apply(void 0,Tn)})(j,ye).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_i=x.__private__.beginPage=function(j){Fe[++Rt]=[],Gt[Rt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},Xn(Rt),ft(Fe[ce])},Sn=function(j,ye){var ze,et,pt;switch(n=ye||n,typeof j=="string"&&(ze=O(j.toLowerCase()),Array.isArray(ze)&&(et=ze[0],pt=ze[1])),Array.isArray(j)&&(et=j[0]*Ft,pt=j[1]*Ft),isNaN(et)&&(et=i[0],pt=i[1]),(et>14400||pt>14400)&&(vi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),et=Math.min(14400,et),pt=Math.min(14400,pt)),i=[et,pt],n.substr(0,1)){case"l":pt>et&&(i=[pt,et]);break;case"p":et>pt&&(i=[pt,et])}_i(i),sn(ei),fe(Qa),Bo!==0&&fe(Bo+" J"),Do!==0&&fe(Do+" j"),gn.publish("addPage",{pageNumber:Rt})},kn=function(j){j>0&&j<=Rt&&(Fe.splice(j,1),Gt.splice(j,1),Rt--,ce>Rt&&(ce=Rt),this.setPage(ce))},Xn=function(j){j>0&&j<=Rt&&(ce=j)},Gr=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Fe.length-1},$r=function(j,ye,ze){var et,pt=void 0;return ze=ze||{},j=j!==void 0?j:fn[Jt].fontName,ye=ye!==void 0?ye:fn[Jt].fontStyle,et=j.toLowerCase(),Tt[et]!==void 0&&Tt[et][ye]!==void 0?pt=Tt[et][ye]:Tt[j]!==void 0&&Tt[j][ye]!==void 0?pt=Tt[j][ye]:ze.disableWarning===!1&&vi.warn("Unable to look up font label for font '"+j+"', '"+ye+"'. Refer to getFontList() for available fonts."),pt||ze.noFallback||(pt=Tt.times[ye])==null&&(pt=Tt.times.normal),pt},Fn=x.__private__.putInfo=function(){var j=zn(),ye=function(et){return et};for(var ze in y!==null&&(ye=Qr.encryptor(j,0)),fe("<<"),fe("/Producer ("+gr(ye("jsPDF "+qn.version))+")"),Dt)Dt.hasOwnProperty(ze)&&Dt[ze]&&fe("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+gr(ye(Dt[ze]))+")");fe("/CreationDate ("+gr(ye(Q))+")"),fe(">>"),fe("endobj")},xr=x.__private__.putCatalog=function(j){var ye=(j=j||{}).rootDictionaryObjId||Nn;switch(zn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+ye+" 0 R"),Zt||(Zt="fullwidth"),Zt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+Zt;ze.substr(ze.length-1)==="%"&&(Zt=parseInt(Zt)/100),typeof Zt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+q(Zt)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}wt&&fe("/PageMode /"+wt),gn.publish("putCatalog"),fe(">>"),fe("endobj")},xa=x.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(Le+1)),fe("/Root "+Le+" 0 R"),fe("/Info "+(Le-1)+" 0 R"),y!==null&&fe("/Encrypt "+Qr.oid+" 0 R"),fe("/ID [ <"+ae+"> <"+ae+"> ]"),fe(">>")},Vr=x.__private__.putHeader=function(){fe("%PDF-"+N),fe("%")},la=x.__private__.putXRef=function(){var j="0000000000";fe("xref"),fe("0 "+(Le+1)),fe("0000000000 65535 f ");for(var ye=1;ye<=Le;ye++)typeof Be[ye]=="function"?fe((j+Be[ye]()).slice(-10)+" 00000 n "):Be[ye]!==void 0?fe((j+Be[ye]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},qi=x.__private__.buildDocument=function(){var j;Le=0,qe=0,he=[],Be=[],We=[],Nn=cn(),Gn=cn(),ft(he),gn.publish("buildDocument"),Vr(),Nr(),(function(){gn.publish("putAdditionalObjects");for(var ze=0;ze<We.length;ze++){var et=We[ze];Pr(et.objId,!0),fe(et.content),fe("endobj")}gn.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var ze in fn)fn.hasOwnProperty(ze)&&(w===!1||w===!0&&k.hasOwnProperty(ze))&&Si(fn[ze])})(),(function(){var ze;for(ze in an)an.hasOwnProperty(ze)&&Jn(an[ze])})(),(function(){for(var ze in Dn)Dn.hasOwnProperty(ze)&&yi(Dn[ze])})(),(function(ze){var et;for(et in jt)jt.hasOwnProperty(et)&&(jt[et]instanceof Cl?mr(jt[et]):jt[et]instanceof su&&Hi(jt[et],ze))})(j),gn.publish("putResources"),j.forEach(xn),xn({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources"),y!==null&&(Qr.oid=zn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Qr.v),fe("/R "+Qr.r),fe("/U <"+Qr.toHexString(Qr.U)+">"),fe("/O <"+Qr.toHexString(Qr.O)+">"),fe("/P "+Qr.P),fe(">>"),fe("endobj")),Fn(),xr();var ye=qe;return la(),xa(),fe("startxref"),fe(""+ye),fe("%%EOF"),ft(Fe[ce]),he.join(`
`)},jn=x.__private__.getBlob=function(j){return new Blob([kt(j)],{type:"application/pdf"})},Cr=x.output=x.__private__.output=(Tr=function(j,ye){switch(typeof(ye=ye||{})=="string"?ye={filename:ye}:ye.filename=ye.filename||"generated.pdf",j){case void 0:return qi();case"save":x.save(ye.filename);break;case"arraybuffer":return kt(qi());case"blob":return jn(qi());case"bloburi":case"bloburl":if(lr.URL!==void 0&&typeof lr.URL.createObjectURL=="function")return lr.URL&&lr.URL.createObjectURL(jn(qi()))||void 0;vi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",et=qi();try{ze=Y0(et)}catch{ze=Y0(unescape(encodeURIComponent(et)))}return"data:application/pdf;filename="+ye.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ye.pdfObjectUrl&&(pt=ye.pdfObjectUrl,$t="");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+$t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ye)+");<\/script></body></html>",Mn=lr.open();return Mn!==null&&Mn.document.write(Qt),Mn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var Cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ye.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ye.filename+'" width="500px" height="400px" /></body></html>',Tn=lr.open();if(Tn!==null){Tn.document.write(Cn);var ir=this;Tn.document.documentElement.querySelector("#pdfViewer").onload=function(){Tn.document.title=ye.filename,Tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ir.output("bloburl"))}}return Tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ye)+'"></iframe></body></html>',li=lr.open();if(li!==null&&(li.document.write(Sr),li.document.title=ye.filename),li||typeof safari>"u")return li;break;case"datauri":case"dataurl":return lr.document.location.href=this.output("datauristring",ye);default:return null}},Tr.foo=function(){try{return Tr.apply(this,arguments)}catch(ze){var j=ze.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var ye="Error in function "+j.split(`
`)[0].split("<")[0]+": "+ze.message;if(!lr.console)throw new Error(ye);lr.console.error(ye,ze),lr.alert&&alert(ye)}},Tr.foo.bar=Tr,Tr.foo),ai=function(j){return Array.isArray(An)===!0&&An.indexOf(j)>-1};switch(r){case"pt":Ft=1;break;case"mm":Ft=72/25.4;break;case"cm":Ft=72/2.54;break;case"in":Ft=72;break;case"px":Ft=ai("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ft=12;break;case"ex":Ft=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ft=r}var Qr=null;Te(),le();var Hr=x.__private__.getPageInfo=x.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[j].objId,pageNumber:j,pageContext:Gt[j]}},vo=x.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ye in Gt)if(Gt[ye].objId===j)break;return Hr(ye)},yo=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Gt[ce].objId,pageNumber:ce,pageContext:Gt[ce]}};x.addPage=function(){return Sn.apply(this,arguments),this},x.setPage=function(){return Xn.apply(this,arguments),ft.call(this,Fe[ce]),this},x.insertPage=function(j){return this.addPage(),this.movePage(ce,j),this},x.movePage=function(j,ye){var ze,et;if(j>ye){ze=Fe[j],et=Gt[j];for(var pt=j;pt>ye;pt--)Fe[pt]=Fe[pt-1],Gt[pt]=Gt[pt-1];Fe[ye]=ze,Gt[ye]=et,this.setPage(ye)}else if(j<ye){ze=Fe[j],et=Gt[j];for(var $t=j;$t<ye;$t++)Fe[$t]=Fe[$t+1],Gt[$t]=Gt[$t+1];Fe[ye]=ze,Gt[ye]=et,this.setPage(ye)}return this},x.deletePage=function(){return kn.apply(this,arguments),this},x.__private__.text=x.text=function(j,ye,ze,et,pt){var $t,Qt,Mn,Cn,Tn,ir,Sr,li,vr,ar=(et=et||{}).scope||this;if(typeof j=="number"&&typeof ye=="number"&&(typeof ze=="string"||Array.isArray(ze))){var di=ze;ze=ye,ye=j,j=di}if(arguments[3]instanceof mn==0?(Mn=arguments[4],Cn=arguments[5],Lr(Sr=arguments[3])==="object"&&Sr!==null||(typeof Mn=="string"&&(Cn=Mn,Mn=null),typeof Sr=="string"&&(Cn=Sr,Sr=null),typeof Sr=="number"&&(Mn=Sr,Sr=null),et={flags:Sr,angle:Mn,align:Cn})):(H("The transform parameter of text() with a Matrix value"),vr=pt),isNaN(ye)||isNaN(ze)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return ar;var Zr,Ir="",Di=typeof et.lineHeightFactor=="number"?et.lineHeightFactor:Wr,Er=ar.internal.scaleFactor;function ha(B){return B=B.split("	").join(Array(et.TabLen||9).join(" ")),gr(B,Sr)}function bo(B){for(var W,se=B.concat(),xe=[],$e=se.length;$e--;)typeof(W=se.shift())=="string"?xe.push(W):Array.isArray(B)&&(W.length===1||W[1]===void 0&&W[2]===void 0)?xe.push(W[0]):xe.push([W[0],W[1],W[2]]);return xe}function bi(B,W){var se;if(typeof B=="string")se=W(B)[0];else if(Array.isArray(B)){for(var xe,$e,st=B.concat(),_t=[],Yt=st.length;Yt--;)typeof(xe=st.shift())=="string"?_t.push(W(xe)[0]):Array.isArray(xe)&&typeof xe[0]=="string"&&($e=W(xe[0],xe[1],xe[2]),_t.push([$e[0],$e[1],$e[2]]));se=_t}return se}var xi=!1,io=!0;if(typeof j=="string")xi=!0;else if(Array.isArray(j)){var Na=j.concat();Qt=[];for(var ao,qr=Na.length;qr--;)(typeof(ao=Na.shift())!="string"||Array.isArray(ao)&&typeof ao[0]!="string")&&(io=!1);xi=io}if(xi===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Ui=Ze/ar.internal.scaleFactor,oo=Ui*(Di-1);switch(et.baseline){case"bottom":ze-=oo;break;case"top":ze+=Ui-oo;break;case"hanging":ze+=Ui-2*oo;break;case"middle":ze+=Ui/2-oo}if((ir=et.maxWidth||0)>0&&(typeof j=="string"?j=ar.splitTextToSize(j,ir):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(B,W){return B.concat(ar.splitTextToSize(W,ir))},[]))),$t={text:j,x:ye,y:ze,options:et,mutex:{pdfEscape:gr,activeFontKey:Jt,fonts:fn,activeFontSize:Ze}},gn.publish("preProcessText",$t),j=$t.text,Mn=(et=$t.options).angle,vr instanceof mn==0&&Mn&&typeof Mn=="number"){Mn*=Math.PI/180,et.rotationDirection===0&&(Mn=-Mn),$===R&&(Mn=-Mn);var jo=Math.cos(Mn),zo=Math.sin(Mn);vr=new mn(jo,zo,-zo,jo,0,0)}else Mn&&Mn instanceof mn&&(vr=Mn);$!==R||vr||(vr=Un),(Tn=et.charSpace||si)!==void 0&&(Ir+=J(X(Tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(li=et.horizontalScale)!==void 0&&(Ir+=J(100*li)+` Tz
`),et.lang;var jr=-1,ra=et.renderingMode!==void 0?et.renderingMode:et.stroke,Ho=ar.internal.getCurrentPageInfo().pageContext;switch(ra){case 0:case!1:case"fill":jr=0;break;case 1:case!0:case"stroke":jr=1;break;case 2:case"fillThenStroke":jr=2;break;case 3:case"invisible":jr=3;break;case 4:case"fillAndAddForClipping":jr=4;break;case 5:case"strokeAndAddPathForClipping":jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jr=6;break;case 7:case"addToPathForClipping":jr=7}var ia=Ho.usedRenderingMode!==void 0?Ho.usedRenderingMode:-1;jr!==-1?Ir+=jr+` Tr
`:ia!==-1&&(Ir+=`0 Tr
`),jr!==-1&&(Ho.usedRenderingMode=jr),Cn=et.align||"left";var da,Ma=Ze*Di,ss=ar.internal.pageSize.getWidth(),xo=fn[Jt];Tn=et.charSpace||si,ir=et.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},et.flags);var Ha=[],so=function(B){return ar.getStringUnitWidth(B,{font:xo,charSpace:Tn,fontSize:Ze,doKerning:!1})*Ze/Er};if(Object.prototype.toString.call(j)==="[object Array]"){var fa;Qt=bo(j),Cn!=="left"&&(da=Qt.map(so));var gi,Oi=0;if(Cn==="right"){ye-=da[0],j=[],qr=Qt.length;for(var qa=0;qa<qr;qa++)qa===0?(gi=za(ye),fa=Ea(ze)):(gi=X(Oi-da[qa]),fa=-Ma),j.push([Qt[qa],gi,fa]),Oi=da[qa]}else if(Cn==="center"){ye-=da[0]/2,j=[],qr=Qt.length;for(var Ua=0;Ua<qr;Ua++)Ua===0?(gi=za(ye),fa=Ea(ze)):(gi=X((Oi-da[Ua])/2),fa=-Ma),j.push([Qt[Ua],gi,fa]),Oi=da[Ua]}else if(Cn==="left"){j=[],qr=Qt.length;for(var Ga=0;Ga<qr;Ga++)j.push(Qt[Ga])}else if(Cn==="justify"&&xo.encoding==="Identity-H"){j=[],qr=Qt.length,ir=ir!==0?ir:ss;for(var Yi=0,ui=0;ui<qr;ui++)if(fa=ui===0?Ea(ze):-Ma,gi=ui===0?za(ye):Yi,ui<qr-1){var Va=X((ir-da[ui])/(Qt[ui].split(" ").length-1)),Ji=Qt[ui].split(" ");j.push([Ji[0]+" ",gi,fa]),Yi=0;for(var Ei=1;Ei<Ji.length;Ei++){var So=(so(Ji[Ei-1]+" "+Ji[Ei])-so(Ji[Ei]))*Er+Va;Ei==Ji.length-1?j.push([Ji[Ei],So,0]):j.push([Ji[Ei]+" ",So,0]),Yi-=So}}else j.push([Qt[ui],gi,fa]);j.push(["",Yi,0])}else{if(Cn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],qr=Qt.length,ir=ir!==0?ir:ss,ui=0;ui<qr;ui++){fa=ui===0?Ea(ze):-Ma,gi=ui===0?za(ye):0;var Jo=Qt[ui].split(" ").length-1,pa=Jo>0?(ir-da[ui])/Jo:0;ui<qr-1?Ha.push(J(X(pa))):Ha.push(0),j.push([Qt[ui],gi,fa])}}}(typeof et.R2L=="boolean"?et.R2L:mt)===!0&&(j=bi(j,function(B,W,se){return[B.split("").reverse().join(""),W,se]})),$t={text:j,x:ye,y:ze,options:et,mutex:{pdfEscape:gr,activeFontKey:Jt,fonts:fn,activeFontSize:Ze}},gn.publish("postProcessText",$t),j=$t.text,Zr=$t.mutex.isHex||!1;var Eo=fn[Jt].encoding;Eo!=="WinAnsiEncoding"&&Eo!=="StandardEncoding"||(j=bi(j,function(B,W,se){return[ha(B),W,se]})),Qt=bo(j),j=[];for(var Pa,fi,pi,f=Array.isArray(Qt[0])?1:0,a="",o=function(B,W,se){var xe="";return se instanceof mn?(se=typeof et.angle=="number"?br(se,new mn(1,0,0,1,B,W)):br(new mn(1,0,0,1,B,W),se),$===R&&(se=br(new mn(1,0,0,-1,0,0),se)),xe=se.join(" ")+` Tm
`):xe=J(B)+" "+J(W)+` Td
`,xe},d=0;d<Qt.length;d++){switch(a="",f){case 1:pi=(Zr?"<":"(")+Qt[d][0]+(Zr?">":")"),Pa=parseFloat(Qt[d][1]),fi=parseFloat(Qt[d][2]);break;case 0:pi=(Zr?"<":"(")+Qt[d]+(Zr?">":")"),Pa=za(ye),fi=Ea(ze)}Ha!==void 0&&Ha[d]!==void 0&&(a=Ha[d]+` Tw
`),d===0?j.push(a+o(Pa,fi,vr)+pi):f===0?j.push(a+pi):f===1&&j.push(a+o(Pa,fi,vr)+pi)}j=f===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var C=`BT
/`;return C+=Jt+" "+Ze+` Tf
`,C+=J(Ze*Di)+` TL
`,C+=Kr+`
`,C+=Ir,C+=j,fe(C+="ET"),k[Jt]=!0,ar};var Fa=x.__private__.clip=x.clip=function(j){return fe(j==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Fa("evenodd")},x.__private__.discardPath=x.discardPath=function(){return fe("n"),this};var Or=x.__private__.isValidStyle=function(j){var ye=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(ye=!0),ye};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(j){return Or(j)&&(v=j),this};var Wi=x.__private__.getStyle=x.getStyle=function(j){var ye=v;switch(j){case"D":case"S":ye="S";break;case"F":ye="f";break;case"FD":case"DF":ye="B";break;case"f":case"f*":case"B":case"B*":ye=j}return ye},Ki=x.close=function(){return fe("h"),this};x.stroke=function(){return fe("S"),this},x.fill=function(j){return Zi("f",j),this},x.fillEvenOdd=function(j){return Zi("f*",j),this},x.fillStroke=function(j){return Zi("B",j),this},x.fillStrokeEvenOdd=function(j){return Zi("B*",j),this};var Zi=function(j,ye){Lr(ye)==="object"?Qn(ye,j):fe(j)},wa=function(j){j===null||$===R&&j===void 0||(j=Wi(j),fe(j))};function ja(j,ye,ze,et,pt){var $t=new su(ye||this.boundingBox,ze||this.xStep,et||this.yStep,this.gState,pt||this.matrix);$t.stream=this.stream;var Qt=j+"$$"+this.cloneIndex+++"$$";return ur(Qt,$t),$t}var Qn=function(j,ye){var ze=ln[j.key],et=jt[ze];if(et instanceof Cl)fe("q"),fe(er(ye)),et.gState&&x.setGState(et.gState),fe(j.matrix.toString()+" cm"),fe("/"+ze+" sh"),fe("Q");else if(et instanceof su){var pt=new mn(1,0,0,-1,0,ro());j.matrix&&(pt=pt.multiply(j.matrix||Un),ze=ja.call(et,j.key,j.boundingBox,j.xStep,j.yStep,pt).id),fe("q"),fe("/Pattern cs"),fe("/"+ze+" scn"),et.gState&&x.setGState(et.gState),fe(ye),fe("Q")}},er=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wn=x.moveTo=function(j,ye){return fe(J(X(j))+" "+J(U(ye))+" m"),this},oi=x.lineTo=function(j,ye){return fe(J(X(j))+" "+J(U(ye))+" l"),this},Rr=x.curveTo=function(j,ye,ze,et,pt,$t){return fe([J(X(j)),J(U(ye)),J(X(ze)),J(U(et)),J(X(pt)),J(U($t)),"c"].join(" ")),this};x.__private__.line=x.line=function(j,ye,ze,et,pt){if(isNaN(j)||isNaN(ye)||isNaN(ze)||isNaN(et)||!Or(pt))throw new Error("Invalid arguments passed to jsPDF.line");return $===D?this.lines([[ze-j,et-ye]],j,ye,[1,1],pt||"S"):this.lines([[ze-j,et-ye]],j,ye,[1,1]).stroke()},x.__private__.lines=x.lines=function(j,ye,ze,et,pt,$t){var Qt,Mn,Cn,Tn,ir,Sr,li,vr,ar,di,Zr,Ir;if(typeof j=="number"&&(Ir=ze,ze=ye,ye=j,j=Ir),et=et||[1,1],$t=$t||!1,isNaN(ye)||isNaN(ze)||!Array.isArray(j)||!Array.isArray(et)||!Or(pt)||typeof $t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wn(ye,ze),Qt=et[0],Mn=et[1],Tn=j.length,di=ye,Zr=ze,Cn=0;Cn<Tn;Cn++)(ir=j[Cn]).length===2?(di=ir[0]*Qt+di,Zr=ir[1]*Mn+Zr,oi(di,Zr)):(Sr=ir[0]*Qt+di,li=ir[1]*Mn+Zr,vr=ir[2]*Qt+di,ar=ir[3]*Mn+Zr,di=ir[4]*Qt+di,Zr=ir[5]*Mn+Zr,Rr(Sr,li,vr,ar,di,Zr));return $t&&Ki(),wa(pt),this},x.path=function(j){for(var ye=0;ye<j.length;ye++){var ze=j[ye],et=ze.c;switch(ze.op){case"m":Wn(et[0],et[1]);break;case"l":oi(et[0],et[1]);break;case"c":Rr.apply(this,et);break;case"h":Ki()}}return this},x.__private__.rect=x.rect=function(j,ye,ze,et,pt){if(isNaN(j)||isNaN(ye)||isNaN(ze)||isNaN(et)||!Or(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return $===D&&(et=-et),fe([J(X(j)),J(U(ye)),J(X(ze)),J(X(et)),"re"].join(" ")),wa(pt),this},x.__private__.triangle=x.triangle=function(j,ye,ze,et,pt,$t,Qt){if(isNaN(j)||isNaN(ye)||isNaN(ze)||isNaN(et)||isNaN(pt)||isNaN($t)||!Or(Qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-j,et-ye],[pt-ze,$t-et],[j-pt,ye-$t]],j,ye,[1,1],Qt,!0),this},x.__private__.roundedRect=x.roundedRect=function(j,ye,ze,et,pt,$t,Qt){if(isNaN(j)||isNaN(ye)||isNaN(ze)||isNaN(et)||isNaN(pt)||isNaN($t)||!Or(Qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mn=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*ze),$t=Math.min($t,.5*et),this.lines([[ze-2*pt,0],[pt*Mn,0,pt,$t-$t*Mn,pt,$t],[0,et-2*$t],[0,$t*Mn,-pt*Mn,$t,-pt,$t],[2*pt-ze,0],[-pt*Mn,0,-pt,-$t*Mn,-pt,-$t],[0,2*$t-et],[0,-$t*Mn,pt*Mn,-$t,pt,-$t]],j+pt,ye,[1,1],Qt,!0),this},x.__private__.ellipse=x.ellipse=function(j,ye,ze,et,pt){if(isNaN(j)||isNaN(ye)||isNaN(ze)||isNaN(et)||!Or(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $t=4/3*(Math.SQRT2-1)*ze,Qt=4/3*(Math.SQRT2-1)*et;return Wn(j+ze,ye),Rr(j+ze,ye-Qt,j+$t,ye-et,j,ye-et),Rr(j-$t,ye-et,j-ze,ye-Qt,j-ze,ye),Rr(j-ze,ye+Qt,j-$t,ye+et,j,ye+et),Rr(j+$t,ye+et,j+ze,ye+Qt,j+ze,ye),wa(pt),this},x.__private__.circle=x.circle=function(j,ye,ze,et){if(isNaN(j)||isNaN(ye)||isNaN(ze)||!Or(et))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,ye,ze,ze,et)},x.setFont=function(j,ye,ze){return ze&&(ye=te(ye,ze)),Jt=$r(j,ye,{disableWarning:!1}),this};var Xi=x.__private__.getFont=x.getFont=function(){return fn[$r.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var j,ye,ze={};for(j in Tt)if(Tt.hasOwnProperty(j))for(ye in ze[j]=[],Tt[j])Tt[j].hasOwnProperty(ye)&&ze[j].push(ye);return ze},x.addFont=function(j,ye,ze,et,pt){var $t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$t.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&$t.indexOf(arguments[3])==-1&&(ze=te(ze,et)),pr.call(this,j,ye,ze,pt=pt||"Identity-H")};var Wr,ei=e.lineWidth||.200025,Ca=x.__private__.getLineWidth=x.getLineWidth=function(){return ei},sn=x.__private__.setLineWidth=x.setLineWidth=function(j){return ei=j,fe(J(X(j))+" w"),this};x.__private__.setLineDash=qn.API.setLineDash=qn.API.setLineDashPattern=function(j,ye){if(j=j||[],ye=ye||0,isNaN(ye)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(ze){return J(X(ze))}).join(" "),ye=J(X(ye)),fe("["+j+"] "+ye+" d"),this};var Sa=x.__private__.getLineHeight=x.getLineHeight=function(){return Ze*Wr};x.__private__.getLineHeight=x.getLineHeight=function(){return Ze*Wr};var Fr=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Wr=j),this},Ro=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Wr};Fr(e.lineHeight);var za=x.__private__.getHorizontalCoordinate=function(j){return X(j)},Ea=x.__private__.getVerticalCoordinate=function(j){return $===R?j:Gt[ce].mediaBox.topRightY-Gt[ce].mediaBox.bottomLeftY-X(j)},cr=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(j){return J(za(j))},Ii=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(j){return J(Ea(j))},Qa=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return wn(Qa)},x.__private__.setStrokeColor=x.setDrawColor=function(j,ye,ze,et){return Qa=nr({ch1:j,ch2:ye,ch3:ze,ch4:et,pdfColorType:"draw",precision:2}),fe(Qa),this};var eo=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return wn(eo)},x.__private__.setFillColor=x.setFillColor=function(j,ye,ze,et){return eo=nr({ch1:j,ch2:ye,ch3:ze,ch4:et,pdfColorType:"fill",precision:2}),fe(eo),this};var Kr=e.textColor||"0 g",to=x.__private__.getTextColor=x.getTextColor=function(){return wn(Kr)};x.__private__.setTextColor=x.setTextColor=function(j,ye,ze,et){return Kr=nr({ch1:j,ch2:ye,ch3:ze,ch4:et,pdfColorType:"text",precision:3}),this};var si=e.charSpace,os=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(si||0)};x.__private__.setCharSpace=x.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return si=j,this};var Bo=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(j){var ye=x.CapJoinStyles[j];if(ye===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bo=ye,fe(ye+" J"),this};var Do=0;x.__private__.setLineJoin=x.setLineJoin=function(j){var ye=x.CapJoinStyles[j];if(ye===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Do=ye,fe(ye+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(J(X(j))+" M"),this},x.GState=Nh,x.setGState=function(j){(j=typeof j=="string"?an[hn[j]]:$o(null,j)).equals(Bn)||(fe("/"+j.id+" gs"),Bn=j)};var $o=function(j,ye){if(!j||!hn[j]){var ze=!1;for(var et in an)if(an.hasOwnProperty(et)&&an[et].equals(ye)){ze=!0;break}if(ze)ye=an[et];else{var pt="GS"+(Object.keys(an).length+1).toString(10);an[pt]=ye,ye.id=pt}return j&&(hn[j]=ye.id),gn.publish("addGState",ye),ye}};x.addGState=function(j,ye){return $o(j,ye),this},x.saveGraphicsState=function(){return fe("q"),zt.push({key:Jt,size:Ze,color:Kr}),this},x.restoreGraphicsState=function(){fe("Q");var j=zt.pop();return Jt=j.key,Ze=j.size,Kr=j.color,Bn=null,this},x.setCurrentTransformationMatrix=function(j){return fe(j.toString()+" cm"),this},x.comment=function(j){return fe("#"+j),this};var ka=function(j,ye){var ze=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function($t){isNaN($t)||(ze=parseFloat($t))}});var et=ye||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return et},set:function($t){isNaN($t)||(et=parseFloat($t))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function($t){pt=$t.toString()}}),this},Fo=function(j,ye,ze,et){ka.call(this,j,ye),this.type="rect";var pt=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function(Qt){isNaN(Qt)||(pt=parseFloat(Qt))}});var $t=et||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $t},set:function(Qt){isNaN(Qt)||($t=parseFloat(Qt))}}),this},Yn=function(){this.page=Rt,this.currentPage=ce,this.pages=Fe.slice(0),this.pagesContext=Gt.slice(0),this.x=ht,this.y=Mt,this.matrix=tn,this.width=hi(ce),this.height=bs(ce),this.outputDestination=it,this.id="",this.objectNumber=-1};Yn.prototype.restore=function(){Rt=this.page,ce=this.currentPage,Gt=this.pagesContext,Fe=this.pages,ht=this.x,Mt=this.y,tn=this.matrix,ua(ce,this.width),Bi(ce,this.height),it=this.outputDestination};var _o=function(j,ye,ze,et,pt){dr.push(new Yn),Rt=ce=0,Fe=[],ht=j,Mt=ye,tn=pt,_i([ze,et])};for(var Kn in x.beginFormObject=function(j,ye,ze,et,pt){return _o(j,ye,ze,et,pt),this},x.endFormObject=function(j){return(function(ye){if(Kt[ye])dr.pop().restore();else{var ze=new Yn,et="Xo"+(Object.keys(Dn).length+1).toString(10);ze.id=et,Kt[ye]=et,Dn[et]=ze,gn.publish("addFormObject",ze),dr.pop().restore()}})(j),this},x.doFormObject=function(j,ye){var ze=Dn[Kt[j]];return fe("q"),fe(ye.toString()+" cm"),fe("/"+ze.id+" Do"),fe("Q"),this},x.getFormObject=function(j){var ye=Dn[Kt[j]];return{x:ye.x,y:ye.y,width:ye.width,height:ye.height,matrix:ye.matrix}},x.save=function(j,ye){return j=j||"generated.pdf",(ye=ye||{}).returnPromise=ye.returnPromise||!1,ye.returnPromise===!1?(bl(jn(qi()),j),typeof bl.unload=="function"&&lr.setTimeout&&setTimeout(bl.unload,911),this):new Promise(function(ze,et){try{var pt=bl(jn(qi()),j);typeof bl.unload=="function"&&lr.setTimeout&&setTimeout(bl.unload,911),ze(pt)}catch($t){et($t.message)}})},qn.API)qn.API.hasOwnProperty(Kn)&&(Kn==="events"&&qn.API.events.length?(function(j,ye){var ze,et,pt;for(pt=ye.length-1;pt!==-1;pt--)ze=ye[pt][0],et=ye[pt][1],j.subscribe.apply(j,[ze].concat(typeof et=="function"?[et]:et))})(gn,qn.API.events):x[Kn]=qn.API[Kn]);function hi(j){return Gt[j].mediaBox.topRightX-Gt[j].mediaBox.bottomLeftX}function ua(j,ye){Gt[j].mediaBox.topRightX=ye+Gt[j].mediaBox.bottomLeftX}function bs(j){return Gt[j].mediaBox.topRightY-Gt[j].mediaBox.bottomLeftY}function Bi(j,ye){Gt[j].mediaBox.topRightY=ye+Gt[j].mediaBox.bottomLeftY}var no=x.getPageWidth=function(j){return hi(j=j||ce)/Ft},La=x.setPageWidth=function(j,ye){ua(j,ye*Ft)},ro=x.getPageHeight=function(j){return bs(j=j||ce)/Ft},ca=x.setPageHeight=function(j,ye){Bi(j,ye*Ft)};return x.internal={pdfEscape:gr,getStyle:Wi,getFont:Xi,getFontSize:nt,getCharSpace:os,getTextColor:to,getLineHeight:Sa,getLineHeightFactor:Ro,getLineWidth:Ca,write:tt,getHorizontalCoordinate:za,getVerticalCoordinate:Ea,getCoordinateString:cr,getVerticalCoordinateString:Ii,collections:{},newObject:zn,newAdditionalObject:Ri,newObjectDeferred:cn,newObjectDeferredBegin:Pr,getFilters:sr,putStream:fr,events:gn,scaleFactor:Ft,pageSize:{getWidth:function(){return no(ce)},setWidth:function(j){La(ce,j)},getHeight:function(){return ro(ce)},setHeight:function(j){ca(ce,j)}},encryptionOptions:y,encryption:Qr,getEncryptor:function(j){return y!==null?Qr.encryptor(j,0):function(ye){return ye}},output:Cr,getNumberOfPages:Gr,get pages(){return Fe},out:fe,f2:q,f3:Z,getPageInfo:Hr,getPageInfoByObjId:vo,getCurrentPageInfo:yo,getPDFVersion:T,Point:ka,Rectangle:Fo,Matrix:mn,hasHotfix:ai},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return no(ce)},set:function(j){La(ce,j)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return ro(ce)},set:function(j){ca(ce,j)},enumerable:!0,configurable:!0}),(function(j){for(var ye=0,ze=At.length;ye<ze;ye++){var et=pr.call(this,j[ye][0],j[ye][1],j[ye][2],At[ye][3],!0);w===!1&&(k[et]=!0);var pt=j[ye][0].split("-");rr({id:et,fontName:pt[0],fontStyle:pt[1]||""})}gn.publish("addFonts",{fonts:fn,dictionary:Tt})}).call(x,At),Jt="F1",Sn(i,n),gn.publish("initialized"),x}iu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},iu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},iu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},iu.prototype.processOwnerPassword=function(e,t){return Gf(Uf(t).substr(0,5),e)},iu.prototype.encryptor=function(e,t){var n=Uf(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Gf(n,r)}},Nh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Lr(e)!==Lr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},qn.API={events:[]},qn.version="3.0.4";var Vi=qn.API,Kp=1,Hl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},Js=function(e){return e.toFixed(5)};Vi.__acroform__={};var To=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},tv=function(e){return e*Kp},Cs=function(e){var t=new Ob,n=Rn.internal.getHeight(e)||0,r=Rn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(r)),Number(yr(n))],t},JO=Vi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},QO=Vi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},e6=Vi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Qi=Vi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return e6(e,t-1)},ea=Vi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JO(e,t-1)},ta=Vi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QO(e,t-1)},t6=Vi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],l=e[1],h=e[2],c=e[3],g={};return g.lowerLeft_X=n(i)||0,g.lowerLeft_Y=r(l+c)||0,g.upperRight_X=n(i+h)||0,g.upperRight_Y=r(l)||0,[Number(yr(g.lowerLeft_X)),Number(yr(g.lowerLeft_Y)),Number(yr(g.upperRight_X)),Number(yr(g.upperRight_Y))]},n6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Vf(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+yr(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=Cs(e);return l.scope=e.scope,l.stream=t.join(`
`),l}},Vf=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(q){return q.split(`
`)}):i.map(function(q){return[q]});var l=n,h=Rn.internal.getHeight(e)||0;h=h<0?-h:h;var c=Rn.internal.getWidth(e)||0;c=c<0?-c:c;var g=function(q,Z,X){if(q+1<i.length){var U=Z+" "+i[q+1][0];return Uc(U,e,X).width<=c-4}return!1};l++;e:for(;l>0;){t="",l--;var v,y,w=Uc("3",e,l).height,k=e.multiline?h-l:(h-w)/2,x=k+=2,N=0,T=0,I=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+Uc(t,e,l=12).width+", FieldWidth:"+c+`
`;break}for(var O="",D=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var $=!1;if(i[R].length!==1&&I!==i[R].length-1){if((w+2)*(D+2)+2>h)continue e;O+=i[R][I],$=!0,T=R,R--}else{O=(O+=i[R][I]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var G=parseInt(R),ee=g(G,O,l),te=R>=i.length-1;if(ee&&!te){O+=" ",I=0;continue}if(ee||te){if(te)T=G;else if(e.multiline&&(w+2)*(D+2)+2>h)continue e}else{if(!e.multiline||(w+2)*(D+2)+2>h)continue e;T=G}}for(var J="",H=N;H<=T;H++){var oe=i[H];if(e.multiline){if(H===T){J+=oe[I]+" ",I=(I+1)%oe.length;continue}if(H===N){J+=oe[oe.length-1]+" ";continue}}J+=oe[0]+" "}switch(J=J.substr(J.length-1)==" "?J.substr(0,J.length-1):J,y=Uc(J,e,l).width,e.textAlign){case"right":v=c-y-2;break;case"center":v=(c-y)/2;break;default:v=2}t+=yr(v)+" "+yr(x)+` Td
`,t+="("+Hl(J)+`) Tj
`,t+=-yr(v)+` 0 Td
`,x=-(l+2),y=0,N=$?T:T+1,D++,O=""}break}return r.text=t,r.fontSize=l,r},Uc=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},r6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},i6=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},a6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ys.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(r6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kp=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ab,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var l=r[i];l.objId=void 0,l.hasAnnotation&&i6(l,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var l=!r;for(var h in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(h)){var c=r[h],g=[],v=c.Rect;if(c.Rect&&(c.Rect=t6(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Rn.createDefaultAppearanceStream(c),Lr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(g=c.getKeyValueListForStream()),c.Rect=v,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=n6(c);g.push({key:"AP",value:"<</N "+y+">>"}),i.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var w="";for(var k in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(k)){var x=c.appearanceStreamContent[k];if(w+="/"+k+" ",w+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var h in x)if(x.hasOwnProperty(h)){var N=x[h];typeof N=="function"&&(N=N.call(i,c)),w+="/"+h+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=x)=="function"&&(N=N.call(i,c)),w+="/"+h+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);w+=">>"}g.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:g,objectId:c.objId}),i.internal.out("endobj")}l&&(function(T,I){for(var O in T)if(T.hasOwnProperty(O)){var D=O,R=T[O];I.internal.newObjectDeferredBegin(R.objId,!0),Lr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete T[D]}})(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Ib=Vi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(h){return h};if(Array.isArray(e)){for(var i="[",l=0;l<e.length;l++)switch(l!==0&&(i+=" "),Lr(e[l])){case"boolean":case"number":case"object":i+=e[l].toString();break;case"string":e[l].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Hl(r(e[l].toString()))+")"):i+=e[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rf=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Hl(r(e))+")"},Ss=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ss.prototype.toString=function(){return this.objId+" 0 R"},Ss.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ss.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Ib(i,this.objId,this.scope)}):i instanceof Ss?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Ob=function(){Ss.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};To(Ob,Ss);var Ab=function(){Ss.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hl(n(e))+")"}},set:function(n){e=n}})};To(Ab,Ss);var ys=function e(){Ss.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');t=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(t,3)},set:function(O){O?this.F=ea(t,3):this.F=ta(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');n=O}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(O){r=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(O){r[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(O){r[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(O){r[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(O){r[3]=O}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Mh)return;l="FieldObject"+e.FieldNum++}var O=function(D){return D};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+Hl(O(l))+")"},set:function(O){l=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(O){l=O}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(O){h=O}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(O){c=O}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(O){g=O}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/Kp:v},set:function(O){v=O}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(O){y=O}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Mh||this instanceof Ll))return rf(w,this.objId,this.scope)},set:function(O){O=O.toString(),w=O}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof Ta==0?rf(k,this.objId,this.scope):k},set:function(O){O=O.toString(),k=this instanceof Ta==0?O.substr(0,1)==="("?nu(O.substr(1,O.length-2)):nu(O):O}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?nu(k.substr(1,k.length-1)):k},set:function(O){O=O.toString(),k=this instanceof Ta==1?"/"+O:O}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ta==0?rf(x,this.objId,this.scope):x},set:function(O){O=O.toString(),x=this instanceof Ta==0?O.substr(0,1)==="("?nu(O.substr(1,O.length-2)):nu(O):O}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?nu(x.substr(1,x.length-1)):x},set:function(O){O=O.toString(),x=this instanceof Ta==1?"/"+O:O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(O){O=!!O,T=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(O){N=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(O){O?this.Ff=ea(this.Ff,1):this.Ff=ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(O){O?this.Ff=ea(this.Ff,2):this.Ff=ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(O){O?this.Ff=ea(this.Ff,3):this.Ff=ta(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');I=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(I){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};To(ys,Ss);var cu=function(){ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ib(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(l,h,c){c||(c=1);for(var g,v=[];g=h.exec(l);)v.push(g[c]);return v})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(n){n?this.Ff=ea(this.Ff,18):this.Ff=ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ea(this.Ff,19):this.Ff=ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(n){n?(this.Ff=ea(this.Ff,20),t.sort()):this.Ff=ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(n){n?this.Ff=ea(this.Ff,22):this.Ff=ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(n){n?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(n){n?this.Ff=ea(this.Ff,27):this.Ff=ta(this.Ff,27)}}),this.hasAppearanceStream=!1};To(cu,ys);var hu=function(){cu.call(this),this.fontName="helvetica",this.combo=!1};To(hu,cu);var du=function(){hu.call(this),this.combo=!0};To(du,hu);var nh=function(){du.call(this),this.edit=!0};To(nh,du);var Ta=function(){ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(n){n?this.Ff=ea(this.Ff,15):this.Ff=ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(n){n?this.Ff=ea(this.Ff,16):this.Ff=ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(n){n?this.Ff=ea(this.Ff,17):this.Ff=ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(n){n?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Hl(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Lr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};To(Ta,ys);var rh=function(){Ta.call(this),this.pushButton=!0};To(rh,Ta);var fu=function(){Ta.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};To(fu,Ta);var Mh=function(){var e,t;ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,h=[];for(l in h.push("<<"),r)h.push("/"+l+" ("+Hl(i(r[l]))+")");return h.push(">>"),h.join(`
`)},set:function(i){Lr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};To(Mh,ys),fu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},fu.prototype.createOption=function(e){var t=new Mh;return t.Parent=this,t.optionName=e,this.Kids.push(t),o6.call(this.scope,t),t};var ih=function(){Ta.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rn.CheckBox.createAppearanceStream()};To(ih,Ta);var Ll=function(){ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(t){t?this.Ff=ea(this.Ff,13):this.Ff=ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(t){t?this.Ff=ea(this.Ff,21):this.Ff=ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(t){t?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(t){t?this.Ff=ea(this.Ff,24):this.Ff=ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(t){t?this.Ff=ea(this.Ff,25):this.Ff=ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(t){t?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};To(Ll,ys);var ah=function(){Ll.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(e){e?this.Ff=ea(this.Ff,14):this.Ff=ta(this.Ff,14)}}),this.password=!0};To(ah,Ll);var Rn={CheckBox:{createAppearanceStream:function(){return{N:{On:Rn.CheckBox.YesNormal},D:{On:Rn.CheckBox.YesPushDown,Off:Rn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),l=Vf(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+yr(l.fontSize)+" Tf "+i),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Cs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],l=Rn.internal.getHeight(e),h=Rn.internal.getWidth(e),c=Vf(e,e.caption);return i.push("1 g"),i.push("0 0 "+yr(h)+" "+yr(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yr(h-1)+" "+yr(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+yr(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rn.RadioButton.Circle.YesNormal,t.D[e]=Rn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Rn.internal.Bezier_C,l=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),l=Number((i*Rn.internal.Bezier_C).toFixed(5)),h=Number((r*Rn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+h+" "+h+" "+r+" 0 "+r+" c"),n.push("-"+h+" "+r+" -"+r+" "+h+" -"+r+" 0 c"),n.push("-"+r+" -"+h+" -"+h+" -"+r+" 0 -"+r+" c"),n.push(h+" -"+r+" "+r+" -"+h+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),l=Number((i*Rn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rn.RadioButton.Cross.YesNormal,t.D[e]=Rn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+yr(Rn.internal.getWidth(e)-2)+" "+yr(Rn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=Rn.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+yr(Rn.internal.getWidth(e)-2)+" "+yr(Rn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Rn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rn.internal.getWidth(e),n=Rn.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Rn.internal.getWidth=function(e){var t=0;return Lr(e)==="object"&&(t=tv(e.Rect[2])),t},Rn.internal.getHeight=function(e){var t=0;return Lr(e)==="object"&&(t=tv(e.Rect[3])),t};var o6=Vi.addField=function(e){if(a6(this,e),!(e instanceof ys))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Vi.AcroFormChoiceField=cu,Vi.AcroFormListBox=hu,Vi.AcroFormComboBox=du,Vi.AcroFormEditBox=nh,Vi.AcroFormButton=Ta,Vi.AcroFormPushButton=rh,Vi.AcroFormRadioButton=fu,Vi.AcroFormCheckBox=ih,Vi.AcroFormTextField=Ll,Vi.AcroFormPasswordField=ah,Vi.AcroFormAppearance=Rn,Vi.AcroForm={ChoiceField:cu,ListBox:hu,ComboBox:du,EditBox:nh,Button:Ta,PushButton:rh,RadioButton:fu,CheckBox:ih,TextField:Ll,PasswordField:ah,Appearance:Rn},qn.AcroForm={ChoiceField:cu,ListBox:hu,ComboBox:du,EditBox:nh,Button:Ta,PushButton:rh,RadioButton:fu,CheckBox:ih,TextField:Ll,PasswordField:ah,Appearance:Rn};qn.AcroForm;function Tb(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(q,Z){var X,U,Q,ae,ue,le=n;if((Z=Z||n)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(ee(q))for(ue in r)for(Q=r[ue],X=0;X<Q.length;X+=1){for(ae=!0,U=0;U<Q[X].length;U+=1)if(Q[X][U]!==void 0&&Q[X][U]!==q[U]){ae=!1;break}if(ae===!0){le=ue;break}}else for(ue in r)for(Q=r[ue],X=0;X<Q.length;X+=1){for(ae=!0,U=0;U<Q[X].length;U+=1)if(Q[X][U]!==void 0&&Q[X][U]!==q.charCodeAt(U)){ae=!1;break}if(ae===!0){le=ue;break}}return le===n&&Z!==n&&(le=Z),le},l=function q(Z){for(var X=this.internal.write,U=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);Z.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:Z.width}),ae.push({key:"Height",value:Z.height}),Z.colorSpace===O.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Z.palette.length/3-1)+" "+("sMask"in Z&&Z.sMask!==void 0?Z.objectId+2:Z.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+Z.colorSpace}),Z.colorSpace===O.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:Z.bitsPerComponent}),"decodeParameters"in Z&&Z.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+Z.decodeParameters+">>"}),"transparency"in Z&&Array.isArray(Z.transparency)&&Z.transparency.length>0){for(var ue="",le=0,be=Z.transparency.length;le<be;le++)ue+=Z.transparency[le]+" "+Z.transparency[le]+" ";ae.push({key:"Mask",value:"["+ue+"]"})}Z.sMask!==void 0&&ae.push({key:"SMask",value:Z.objectId+1+" 0 R"});var ke=Z.filter!==void 0?["/"+Z.filter]:void 0;if(U({data:Z.data,additionalKeyValues:ae,alreadyAppliedFilters:ke,objectId:Z.objectId}),X("endobj"),"sMask"in Z&&Z.sMask!==void 0){var Te,ne=(Te=Z.sMaskBitsPerComponent)!==null&&Te!==void 0?Te:Z.bitsPerComponent,ce={width:Z.width,height:Z.height,colorSpace:"DeviceGray",bitsPerComponent:ne,data:Z.sMask};"filter"in Z&&(ce.decodeParameters="/Predictor ".concat(Z.predictor," /Colors 1 /BitsPerComponent ").concat(ne," /Columns ").concat(Z.width),ce.filter=Z.filter),q.call(this,ce)}if(Z.colorSpace===O.INDEXED){var me=this.internal.newObject();U({data:J(new Uint8Array(Z.palette)),objectId:me}),X("endobj")}},h=function(){var q=this.internal.collections[t+"images"];for(var Z in q)l.call(this,q[Z])},c=function(){var q,Z=this.internal.collections[t+"images"],X=this.internal.write;for(var U in Z)X("/I"+(q=Z[U]).index,q.objectId,"0","R")},g=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},v=function(){var q=this.internal.collections[t+"images"];return g.call(this),q},y=function(){return Object.keys(this.internal.collections[t+"images"]).length},w=function(q){return typeof e["process"+q.toUpperCase()]=="function"},k=function(q){return Lr(q)==="object"&&q.nodeType===1},x=function(q,Z){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var X=""+q.getAttribute("src");if(X.indexOf("data:image/")===0)return th(unescape(X).split("base64,").pop());var U=e.loadFile(X,!0);if(U!==void 0)return U}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var Q;switch(Z){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return th(q.toDataURL(Q,1).split("base64,").pop())}},N=function(q){var Z=this.internal.collections[t+"images"];if(Z){for(var X in Z)if(q===Z[X].alias)return Z[X]}},T=function(q,Z,X){return q||Z||(q=-96,Z=-96),q<0&&(q=-1*X.width*72/q/this.internal.scaleFactor),Z<0&&(Z=-1*X.height*72/Z/this.internal.scaleFactor),q===0&&(q=Z*X.width/X.height),Z===0&&(Z=q*X.height/X.width),[q,Z]},I=function(q,Z,X,U,Q,ae){var ue=T.call(this,X,U,Q),le=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,ke=v.call(this);if(X=ue[0],U=ue[1],ke[Q.index]=Q,ae){ae*=Math.PI/180;var Te=Math.cos(ae),ne=Math.sin(ae),ce=function(we){return we.toFixed(4)},me=[ce(Te),ce(ne),ce(-1*ne),ce(Te),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,le(q),be(Z+U),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([le(X),"0","0",le(U),"0","0","cm"].join(" "))):this.internal.write([le(X),"0","0",le(U),le(q),be(Z+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},O=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=e.__addimage__.sHashCode=function(q){var Z,X,U=0;if(typeof q=="string")for(X=q.length,Z=0;Z<X;Z++)U=(U<<5)-U+q.charCodeAt(Z),U|=0;else if(ee(q))for(X=q.byteLength/2,Z=0;Z<X;Z++)U=(U<<5)-U+q[Z],U|=0;return U},$=e.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var Z=!0;return q.length===0&&(Z=!1),q.length%4!=0&&(Z=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(Z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(Z=!1),Z},G=e.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var Z=q.indexOf(",");return Z<0?null:q.substring(0,Z).trim().endsWith("base64")?q.substring(Z+1):null};e.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var ee=e.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},te=e.__addimage__.binaryStringToUint8Array=function(q){for(var Z=q.length,X=new Uint8Array(Z),U=0;U<Z;U++)X[U]=q.charCodeAt(U);return X},J=e.__addimage__.arrayBufferToBinaryString=function(q){for(var Z="",X=ee(q)?q:new Uint8Array(q),U=0;U<X.length;U+=8192)Z+=String.fromCharCode.apply(null,X.subarray(U,U+8192));return Z};e.addImage=function(){var q,Z,X,U,Q,ae,ue,le,be;if(typeof arguments[1]=="number"?(Z=n,X=arguments[1],U=arguments[2],Q=arguments[3],ae=arguments[4],ue=arguments[5],le=arguments[6],be=arguments[7]):(Z=arguments[1],X=arguments[2],U=arguments[3],Q=arguments[4],ae=arguments[5],ue=arguments[6],le=arguments[7],be=arguments[8]),Lr(q=arguments[0])==="object"&&!k(q)&&"imageData"in q){var ke=q;q=ke.imageData,Z=ke.format||Z||n,X=ke.x||X||0,U=ke.y||U||0,Q=ke.w||ke.width||Q,ae=ke.h||ke.height||ae,ue=ke.alias||ue,le=ke.compression||le,be=ke.rotation||ke.angle||be}var Te=this.internal.getFilters();if(le===void 0&&Te.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(X)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var ne=H.call(this,q,Z,ue,le);return I.call(this,X,U,Q,ae,ne,be),this};var H=function(q,Z,X,U){var Q,ae,ue;if(typeof q=="string"&&i(q)===n){q=unescape(q);var le=oe(q,!1);(le!==""||(le=e.loadFile(q,!0))!==void 0)&&(q=le)}if(k(q)&&(q=x(q,Z)),Z=i(q,Z),!w(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(((ue=X)==null||ue.length===0)&&(X=(function(be){return typeof be=="string"||ee(be)?R(be):ee(be.data)?R(be.data):null})(q)),(Q=N.call(this,X))||(q instanceof Uint8Array||Z==="RGBA"||(ae=q,q=te(q)),Q=this["process"+Z.toUpperCase()](q,y.call(this),X,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in e.image_compression?be:D.NONE})(U),ae)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},oe=e.__addimage__.convertBase64ToBinaryString=function(q,Z){Z=typeof Z!="boolean"||Z;var X,U="";if(typeof q=="string"){var Q;X=(Q=G(q))!==null&&Q!==void 0?Q:q;try{U=th(X)}catch(ae){if(Z)throw $(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(q){var Z,X,U="";if(k(q)&&(q=x(q)),typeof q=="string"&&i(q)===n&&((U=oe(q,!1))===""&&(U=e.loadFile(q)||""),q=U),X=i(q),!w(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(q instanceof Uint8Array||(q=te(q)),!(Z=this["process"+X.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return Z.fileType=X,Z}})(qn.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};qn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,l,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(n.objId),v=n.pageContext.annotations,y=!1,w=0;w<v.length&&!y;w++)switch((r=v[w]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var k=0;k<v.length;k++){r=v[k];var x=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(T.objId),D=r.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+x(O(r.contents))+")",l+=" /Popup "+I.objId+" 0 R",l+=" /P "+g.objId+" 0 R",l+=" /T ("+x(O(D))+") >>",T.content=l;var R=T.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+h(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(l+=" /Open true"),l+=" >>",I.content=l,this.internal.write(T.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var $=r.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(N(r.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(r.options.name){var G=this.annotations._nameMap[r.options.name];r.options.pageNumber=G.page,r.options.top=G.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",l="",r.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,l+=" /FitV "+r.options.left+"]";break;default:var ee=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),l+=" /XYZ "+r.options.left+" "+ee+" "+r.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,l,h){var c=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:g(n),y:v(r),w:g(n+i),h:v(r+l)},options:h,type:"link"})},e.textWithLink=function(n,r,i,l){var h,c,g=this.getTextWidth(n),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){c=l.maxWidth;var y=this.splitTextToSize(n,c).length;h=Math.ceil(v*y)}else c=g,h=v;return this.text(n,r,i,l),i+=.2*v,l.align==="center"&&(r-=g/2),l.align==="right"&&(r-=g),this.link(r,i-v,c,h,l),g},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(qn.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(T){return t[T.charCodeAt(0)]!==void 0},h=e.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},c=e.__arabicParser__.isArabicEndLetter=function(T){return h(T)&&l(T)&&t[T.charCodeAt(0)].length<=2},g=e.__arabicParser__.isArabicAlfLetter=function(T){return h(T)&&i.indexOf(T.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return h(T)&&l(T)&&t[T.charCodeAt(0)].length>=1};var v=e.__arabicParser__.arabicLetterHasFinalForm=function(T){return h(T)&&l(T)&&t[T.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(T){return h(T)&&l(T)&&t[T.charCodeAt(0)].length>=3};var y=e.__arabicParser__.arabicLetterHasMedialForm=function(T){return h(T)&&l(T)&&t[T.charCodeAt(0)].length==4},w=e.__arabicParser__.resolveLigatures=function(T){var I=0,O=n,D="",R=0;for(I=0;I<T.length;I+=1)O[T.charCodeAt(I)]!==void 0?(R++,typeof(O=O[T.charCodeAt(I)])=="number"&&(D+=String.fromCharCode(O),O=n,R=0),I===T.length-1&&(O=n,D+=T.charAt(I-(R-1)),I-=R-1,R=0)):(O=n,D+=T.charAt(I-R),I-=R,R=0);return D};e.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var k=e.__arabicParser__.getCorrectForm=function(T,I,O){return h(T)?l(T)===!1?-1:!v(T)||!h(I)&&!h(O)||!h(O)&&c(I)||c(T)&&!h(I)||c(T)&&g(I)||c(T)&&c(I)?0:y(T)&&h(I)&&!c(I)&&h(O)&&v(O)?3:c(T)||!h(O)?1:2:-1},x=function(T){var I=0,O=0,D=0,R="",$="",G="",ee=(T=T||"").split("\\s+"),te=[];for(I=0;I<ee.length;I+=1){for(te.push(""),O=0;O<ee[I].length;O+=1)R=ee[I][O],$=ee[I][O-1],G=ee[I][O+1],h(R)?(D=k(R,$,G),te[I]+=D!==-1?String.fromCharCode(t[R.charCodeAt(0)][D]):R):te[I]+=R;te[I]=w(te[I])}return te.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var T,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(I)){var D=0;for(O=[],D=0;D<I.length;D+=1)Array.isArray(I[D])?O.push([x(I[D][0]),I[D][1],I[D][2]]):O.push([x(I[D])]);T=O}else T=x(I);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};e.events.push(["preProcessText",N])})(qn.API),qn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(c){l=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(qn.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(T){g=T}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(T){v=T}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(T){w=T}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(T){k=T}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(T){x=T}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(T){N=T}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(g){return r.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},e.getTextDimensions=function(g,v){r.call(this);var y=(v=v||{}).fontSize||this.getFontSize(),w=v.font||this.getFont(),k=v.scaleFactor||this.internal.scaleFactor,x=0,N=0,T=0,I=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var O=v.maxWidth;O>0?typeof g=="string"?g=this.splitTextToSize(g,O):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(R,$){return R.concat(I.splitTextToSize($,O))},[])):g=Array.isArray(g)?g:[g];for(var D=0;D<g.length;D++)x<(T=this.getStringUnitWidth(g[D],{font:w})*y)&&(x=T);return x!==0&&(N=g.length),{w:x/=k,h:Math.max((N*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/k,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var g=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=e.cell=function(){var g;g=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var v=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,k=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===g.lineNumber?(g.x=(v.x||0)+(v.width||0),g.y=v.y||0):v.y+v.height+g.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=w.top,x&&k&&(this.printHeaderRow(g.lineNumber,!0),g.y+=k[0].height)):g.y=v.y+v.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,n===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-y,g.y+y,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+y,{align:"center",baseline:"top",maxWidth:g.width-y-y}):this.text(g.text,g.x+y,g.y+y,{align:"left",baseline:"top",maxWidth:g.width-y-y})),this.internal.__cell__.lastCell=g,this};e.table=function(g,v,y,w,k){if(r.call(this),!y)throw new Error("No data for PDF table.");var x,N,T,I,O=[],D=[],R=[],$={},G={},ee=[],te=[],J=(k=k||{}).autoSize||!1,H=k.printHeaders!==!1,oe=k.css&&k.css["font-size"]!==void 0?16*k.css["font-size"]:k.fontSize||12,q=k.margins||Object.assign({width:this.getPageWidth()},t),Z=typeof k.padding=="number"?k.padding:3,X=k.headerBackgroundColor||"#c8c8c8",U=k.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=Z,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=U,this.setFontSize(oe),w==null)D=O=Object.keys(y[0]),R=O.map(function(){return"left"});else if(Array.isArray(w)&&Lr(w[0])==="object")for(O=w.map(function(ke){return ke.name}),D=w.map(function(ke){return ke.prompt||ke.name||""}),R=w.map(function(ke){return ke.align||"left"}),x=0;x<w.length;x+=1)G[w[x].name]=.7499990551181103*w[x].width;else Array.isArray(w)&&typeof w[0]=="string"&&(D=O=w,R=O.map(function(){return"left"}));if(J||Array.isArray(w)&&typeof w[0]=="string")for(x=0;x<O.length;x+=1){for($[I=O[x]]=y.map(function(ke){return ke[I]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(D[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=$[I],this.setFont(void 0,"normal"),T=0;T<N.length;T+=1)ee.push(this.getTextDimensions(N[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[I]=Math.max.apply(null,ee)+Z+Z,ee=[]}if(H){var Q={};for(x=0;x<O.length;x+=1)Q[O[x]]={},Q[O[x]].text=D[x],Q[O[x]].align=R[x];var ae=c.call(this,Q,G);te=O.map(function(ke){return new l(g,v,G[ke],ae,Q[ke].text,void 0,Q[ke].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var ue=w.reduce(function(ke,Te){return ke[Te.name]=Te.align,ke},{});for(x=0;x<y.length;x+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:x,data:y[x]},this);var le=c.call(this,y[x],G);for(T=0;T<O.length;T+=1){var be=y[x][O[T]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:x,col:T,data:be},this),h.call(this,new l(g,v,G[O[T]],le,be,x+2,ue[O[T]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=v,this};var c=function(g,v){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(g).map(function(x){var N=g[x];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,v[x]-y-y)},this).map(function(x){return this.getLineHeightFactor()*x.length*w/k+y+y},this).reduce(function(x,N){return Math.max(x,N)},0)};e.setTableHeaderRow=function(g){r.call(this),this.internal.__cell__.tableHeaderRow=g},e.printHeaderRow=function(g,v){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){y=this.internal.__cell__.tableHeaderRow[x].clone(),v&&(y.y=this.internal.__cell__.margins.top||0,k.push(y)),y.lineNumber=g;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,y),this.setTextColor(N)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),n=!1}})(qn.API);var Rb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Bb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Wf=Tb(Bb),Db=[100,200,300,400,500,600,700,800,900],s6=Tb(Db);function af(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(l){return Rb[l=l||"normal"]?l:"normal"})(e.style),r=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(e.weight),i=(function(l){return typeof Wf[l=l||"normal"]=="number"?l:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function nv(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var l6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function iv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function av(e){return e.trimLeft()}function u6(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function c6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Gc,ov,sv,ru,Vc,lv,uv,cv,of=["times"];function hv(e,t,n,r,i){var l=4,h=fv;switch(i){case qn.API.image_compression.FAST:l=1,h=dv;break;case qn.API.image_compression.MEDIUM:l=6,h=pv;break;case qn.API.image_compression.SLOW:l=9,h=gv}e=(function(g,v,y,w){for(var k,x=g.length/v,N=new Uint8Array(g.length+x),T=[h6,dv,fv,pv,gv],I=0;I<x;I+=1){var O=I*v,D=g.subarray(O,O+v);if(w)N.set(w(D,y,k),O+I);else{for(var R=T.length,$=[],G=0;G<R;G+=1)$[G]=T[G](D,y,k);var ee=f6($.concat());N.set($[ee],O+I)}k=D}return N})(e,t,Math.ceil(n*r/8),h);var c=jf(e,{level:l});return qn.API.__addimage__.arrayBufferToBinaryString(c)}function h6(e){var t=Array.apply([],e);return t.unshift(0),t}function dv(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var l=e[i-t]||0;r[i+1]=e[i]-l+256&255}return r}function fv(e,t,n){var r=e.length,i=[];i[0]=2;for(var l=0;l<r;l+=1){var h=n&&n[l]||0;i[l+1]=e[l]-h+256&255}return i}function pv(e,t,n){var r=e.length,i=[];i[0]=3;for(var l=0;l<r;l+=1){var h=e[l-t]||0,c=n&&n[l]||0;i[l+1]=e[l]+256-(h+c>>>1)&255}return i}function gv(e,t,n){var r=e.length,i=[];i[0]=4;for(var l=0;l<r;l+=1){var h=d6(e[l-t]||0,n&&n[l]||0,n&&n[l-t]||0);i[l+1]=e[l]-h+256&255}return i}function d6(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),l=Math.abs(e+t-n-n);return r<=i&&r<=l?e:i<=l?t:n}function f6(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function sf(e,t,n){var r=t*n,i=Math.floor(r/8),l=16-(r-8*i+n),h=(1<<n)-1;return $b(e,i)>>l&h}function mv(e,t,n,r){var i=n*r,l=Math.floor(i/8),h=16-(i-8*l+r),c=(1<<r)-1,g=(t&c)<<h;(function(v,y,w){if(y+1<v.byteLength)v.setUint16(y,w,!1);else{var k=w>>8&255;v.setUint8(y,k)}})(e,l,$b(e,l)&~(c<<h)&65535|g)}function $b(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function p6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],l=i>>7,h=1<<1+(7&i);e[t++],e[t++];var c=null,g=null;l&&(c=t,g=h,t+=3*h);var v=!0,y=[],w=0,k=null,x=0,N=null;for(this.width=n,this.height=r;v&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((q=e[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var T=e[t++];w=e[t++]|e[t++]<<8,k=e[t++],1&T||(k=null),x=T>>2&7,t++;break;case 254:for(;;){if(!((q=e[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var I=e[t++]|e[t++]<<8,O=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,$=e[t++],G=$>>6&1,ee=1<<1+(7&$),te=c,J=g,H=!1;$>>7&&(H=!0,te=t,J=ee,t+=3*ee);var oe=t;for(t++;;){var q;if(!((q=e[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}y.push({x:I,y:O,width:D,height:R,has_local_palette:H,palette_offset:te,palette_size:J,data_offset:oe,data_length:t-oe,transparent_index:k,interlaced:!!G,delay:w,disposal:x});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return N},this.frameInfo=function(Z){if(Z<0||Z>=y.length)throw new Error("Frame index out of range.");return y[Z]},this.decodeAndBlitFrameBGRA=function(Z,X){var U=this.frameInfo(Z),Q=U.width*U.height,ae=new Uint8Array(Q);vv(e,U.data_offset,ae,Q);var ue=U.palette_offset,le=U.transparent_index;le===null&&(le=256);var be=U.width,ke=n-be,Te=be,ne=4*(U.y*n+U.x),ce=4*((U.y+U.height)*n+U.x),me=ne,we=4*ke;U.interlaced===!0&&(we+=4*n*7);for(var Le=8,Be=0,he=ae.length;Be<he;++Be){var qe=ae[Be];if(Te===0&&(Te=be,(me+=we)>=ce&&(we=4*ke+4*n*(Le-1),me=ne+(be+ke)*(Le<<1),Le>>=1)),qe===le)me+=4;else{var We=e[ue+3*qe],Fe=e[ue+3*qe+1],de=e[ue+3*qe+2];X[me++]=de,X[me++]=Fe,X[me++]=We,X[me++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(Z,X){var U=this.frameInfo(Z),Q=U.width*U.height,ae=new Uint8Array(Q);vv(e,U.data_offset,ae,Q);var ue=U.palette_offset,le=U.transparent_index;le===null&&(le=256);var be=U.width,ke=n-be,Te=be,ne=4*(U.y*n+U.x),ce=4*((U.y+U.height)*n+U.x),me=ne,we=4*ke;U.interlaced===!0&&(we+=4*n*7);for(var Le=8,Be=0,he=ae.length;Be<he;++Be){var qe=ae[Be];if(Te===0&&(Te=be,(me+=we)>=ce&&(we=4*ke+4*n*(Le-1),me=ne+(be+ke)*(Le<<1),Le>>=1)),qe===le)me+=4;else{var We=e[ue+3*qe],Fe=e[ue+3*qe+1],de=e[ue+3*qe+2];X[me++]=We,X[me++]=Fe,X[me++]=de,X[me++]=255}--Te}}}function vv(e,t,n,r){for(var i=e[t++],l=1<<i,h=l+1,c=h+1,g=i+1,v=(1<<g)-1,y=0,w=0,k=0,x=e[t++],N=new Int32Array(4096),T=null;;){for(;y<16&&x!==0;)w|=e[t++]<<y,y+=8,x===1?x=e[t++]:--x;if(y<g)break;var I=w&v;if(w>>=g,y-=g,I!==l){if(I===h)break;for(var O=I<c?I:T,D=0,R=O;R>l;)R=N[R]>>8,++D;var $=R;if(k+D+(O!==I?1:0)>r)return void vi.log("Warning, gif stream longer than expected.");n[k++]=$;var G=k+=D;for(O!==I&&(n[k++]=$),R=O;D--;)R=N[R],n[--G]=255&R,R>>=8;T!==null&&c<4096&&(N[c++]=T<<8|$,c>=v+1&&g<12&&(++g,v=v<<1|1)),T=I}else c=h+1,v=(1<<(g=i+1))-1,T=null}return k!==r&&vi.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function lf(e){var t,n,r,i,l,h=Math.floor,c=new Array(64),g=new Array(64),v=new Array(64),y=new Array(64),w=new Array(65535),k=new Array(65535),x=new Array(64),N=new Array(64),T=[],I=0,O=7,D=new Array(64),R=new Array(64),$=new Array(64),G=new Array(256),ee=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(ne,ce){for(var me=0,we=0,Le=new Array,Be=1;Be<=16;Be++){for(var he=1;he<=ne[Be];he++)Le[ce[we]]=[],Le[ce[we]][0]=me,Le[ce[we]][1]=Be,we++,me++;me*=2}return Le}function ue(ne){for(var ce=ne[0],me=ne[1]-1;me>=0;)ce&1<<me&&(I|=1<<O),me--,--O<0&&(I==255?(le(255),le(0)):le(I),O=7,I=0)}function le(ne){T.push(ne)}function be(ne){le(ne>>8&255),le(255&ne)}function ke(ne,ce,me,we,Le){for(var Be,he=Le[0],qe=Le[240],We=(function(Ze,Zt){var nt,mt,wt,Et,Xt,nn,dn,Dt,Jt,Ft,ht=0;for(Jt=0;Jt<8;++Jt){nt=Ze[ht],mt=Ze[ht+1],wt=Ze[ht+2],Et=Ze[ht+3],Xt=Ze[ht+4],nn=Ze[ht+5],dn=Ze[ht+6];var Mt=nt+(Dt=Ze[ht+7]),tn=nt-Dt,fn=mt+dn,Tt=mt-dn,zt=wt+nn,jt=wt-nn,ln=Et+Xt,an=Et-Xt,hn=Mt+ln,Bn=Mt-ln,Rt=fn+zt,Gt=fn-zt;Ze[ht]=hn+Rt,Ze[ht+4]=hn-Rt;var gn=.707106781*(Gt+Bn);Ze[ht+2]=Bn+gn,Ze[ht+6]=Bn-gn;var An=.382683433*((hn=an+jt)-(Gt=Tt+tn)),Dn=.5411961*hn+An,Kt=1.306562965*Gt+An,dr=.707106781*(Rt=jt+Tt),mn=tn+dr,br=tn-dr;Ze[ht+5]=br+Dn,Ze[ht+3]=br-Dn,Ze[ht+1]=mn+Kt,Ze[ht+7]=mn-Kt,ht+=8}for(ht=0,Jt=0;Jt<8;++Jt){nt=Ze[ht],mt=Ze[ht+8],wt=Ze[ht+16],Et=Ze[ht+24],Xt=Ze[ht+32],nn=Ze[ht+40],dn=Ze[ht+48];var Un=nt+(Dt=Ze[ht+56]),ur=nt-Dt,Tr=mt+dn,zn=mt-dn,cn=wt+nn,Pr=wt-nn,Ri=Et+Xt,Nn=Et-Xt,Gn=Un+Ri,wn=Un-Ri,nr=Tr+cn,sr=Tr-cn;Ze[ht]=Gn+nr,Ze[ht+32]=Gn-nr;var fr=.707106781*(sr+wn);Ze[ht+16]=wn+fr,Ze[ht+48]=wn-fr;var wr=.382683433*((Gn=Nn+Pr)-(sr=zn+ur)),Nr=.5411961*Gn+wr,Si=1.306562965*sr+wr,yi=.707106781*(nr=Pr+zn),mr=ur+yi,Hi=ur-yi;Ze[ht+40]=Hi+Nr,Ze[ht+24]=Hi-Nr,Ze[ht+8]=mr+Si,Ze[ht+56]=mr-Si,ht++}for(Jt=0;Jt<64;++Jt)Ft=Ze[Jt]*Zt[Jt],x[Jt]=Ft>0?Ft+.5|0:Ft-.5|0;return x})(ne,ce),Fe=0;Fe<64;++Fe)N[te[Fe]]=We[Fe];var de=N[0]-me;me=N[0],de==0?ue(we[0]):(ue(we[k[Be=32767+de]]),ue(w[Be]));for(var it=63;it>0&&N[it]==0;)it--;if(it==0)return ue(he),me;for(var ft,fe=1;fe<=it;){for(var tt=fe;N[fe]==0&&fe<=it;)++fe;var kt=fe-tt;if(kt>=16){ft=kt>>4;for(var At=1;At<=ft;++At)ue(qe);kt&=15}Be=32767+N[fe],ue(Le[(kt<<4)+k[Be]]),ue(w[Be]),fe++}return it!=63&&ue(he),me}function Te(ne){ne=Math.min(Math.max(ne,1),100),l!=ne&&((function(ce){for(var me=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],we=0;we<64;we++){var Le=h((me[we]*ce+50)/100);Le=Math.min(Math.max(Le,1),255),c[te[we]]=Le}for(var Be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var qe=h((Be[he]*ce+50)/100);qe=Math.min(Math.max(qe,1),255),g[te[he]]=qe}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,de=0;de<8;de++)for(var it=0;it<8;it++)v[Fe]=1/(c[te[Fe]]*We[de]*We[it]*8),y[Fe]=1/(g[te[Fe]]*We[de]*We[it]*8),Fe++})(ne<50?Math.floor(5e3/ne):Math.floor(200-2*ne)),l=ne)}this.encode=function(ne,ce){ce&&Te(ce),T=new Array,I=0,O=7,be(65496),be(65504),be(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),be(1),be(1),le(0),le(0),(function(){be(65499),be(132),le(0);for(var mt=0;mt<64;mt++)le(c[mt]);le(1);for(var wt=0;wt<64;wt++)le(g[wt])})(),(function(mt,wt){be(65472),be(17),le(8),be(wt),be(mt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(ne.width,ne.height),(function(){be(65476),be(418),le(0);for(var mt=0;mt<16;mt++)le(J[mt+1]);for(var wt=0;wt<=11;wt++)le(H[wt]);le(16);for(var Et=0;Et<16;Et++)le(oe[Et+1]);for(var Xt=0;Xt<=161;Xt++)le(q[Xt]);le(1);for(var nn=0;nn<16;nn++)le(Z[nn+1]);for(var dn=0;dn<=11;dn++)le(X[dn]);le(17);for(var Dt=0;Dt<16;Dt++)le(U[Dt+1]);for(var Jt=0;Jt<=161;Jt++)le(Q[Jt])})(),be(65498),be(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var me=0,we=0,Le=0;I=0,O=7,this.encode.displayName="_encode_";for(var Be,he,qe,We,Fe,de,it,ft,fe,tt=ne.data,kt=ne.width,At=ne.height,Ze=4*kt,Zt=0;Zt<At;){for(Be=0;Be<Ze;){for(Fe=Ze*Zt+Be,it=-1,ft=0,fe=0;fe<64;fe++)de=Fe+(ft=fe>>3)*Ze+(it=4*(7&fe)),Zt+ft>=At&&(de-=Ze*(Zt+1+ft-At)),Be+it>=Ze&&(de-=Be+it-Ze+4),he=tt[de++],qe=tt[de++],We=tt[de++],D[fe]=(ee[he]+ee[qe+256|0]+ee[We+512|0]>>16)-128,R[fe]=(ee[he+768|0]+ee[qe+1024|0]+ee[We+1280|0]>>16)-128,$[fe]=(ee[he+1280|0]+ee[qe+1536|0]+ee[We+1792|0]>>16)-128;me=ke(D,v,me,t,r),we=ke(R,y,we,n,i),Le=ke($,y,Le,n,i),Be+=32}Zt+=8}if(O>=0){var nt=[];nt[1]=O+1,nt[0]=(1<<O+1)-1,ue(nt)}return be(65497),new Uint8Array(T)},e=e||50,(function(){for(var ne=String.fromCharCode,ce=0;ce<256;ce++)G[ce]=ne(ce)})(),t=ae(J,H),n=ae(Z,X),r=ae(oe,q),i=ae(U,Q),(function(){for(var ne=1,ce=2,me=1;me<=15;me++){for(var we=ne;we<ce;we++)k[32767+we]=me,w[32767+we]=[],w[32767+we][1]=me,w[32767+we][0]=we;for(var Le=-(ce-1);Le<=-ne;Le++)k[32767+Le]=me,w[32767+Le]=[],w[32767+Le][1]=me,w[32767+Le][0]=ce-1+Le;ne<<=1,ce<<=1}})(),(function(){for(var ne=0;ne<256;ne++)ee[ne]=19595*ne,ee[ne+256|0]=38470*ne,ee[ne+512|0]=7471*ne+32768,ee[ne+768|0]=-11059*ne,ee[ne+1024|0]=-21709*ne,ee[ne+1280|0]=32768*ne+8421375,ee[ne+1536|0]=-27439*ne,ee[ne+1792|0]=-5329*ne})(),Te(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yv(e){function t(H){if(!H)throw Error("assert :P")}function n(H,oe,q){for(var Z=0;4>Z;Z++)if(H[oe+Z]!=q.charCodeAt(Z))return!0;return!1}function r(H,oe,q,Z,X){for(var U=0;U<X;U++)H[oe+U]=q[Z+U]}function i(H,oe,q,Z){for(var X=0;X<Z;X++)H[oe+X]=q}function l(H){return new Int32Array(H)}function h(H,oe){for(var q=[],Z=0;Z<H;Z++)q.push(new oe);return q}function c(H,oe){var q=[];return(function Z(X,U,Q){for(var ae=Q[U],ue=0;ue<ae&&(X.push(Q.length>U+1?[]:new oe),!(Q.length<U+1));ue++)Z(X[ue],U+1,Q)})(q,0,H),q}var g=function(){var H=this;function oe(E,A){for(var V=1<<A-1>>>0;E&V;)V>>>=1;return V?(E&V-1)+V:E}function q(E,A,V,re,_e){t(!(re%V));do E[A+(re-=V)]=_e;while(0<re)}function Z(E,A,V,re,_e){if(t(2328>=_e),512>=_e)var Ee=l(512);else if((Ee=l(_e))==null)return 0;return(function(Ne,Oe,De,Ue,ot,Nt){var Ge,ct,dt=Oe,Bt=1<<De,Lt=l(16),Ht=l(16);for(t(ot!=0),t(Ue!=null),t(Ne!=null),t(0<De),ct=0;ct<ot;++ct){if(15<Ue[ct])return 0;++Lt[Ue[ct]]}if(Lt[0]==ot)return 0;for(Ht[1]=0,Ge=1;15>Ge;++Ge){if(Lt[Ge]>1<<Ge)return 0;Ht[Ge+1]=Ht[Ge]+Lt[Ge]}for(ct=0;ct<ot;++ct)Ge=Ue[ct],0<Ue[ct]&&(Nt[Ht[Ge]++]=ct);if(Ht[15]==1)return(Ue=new X).g=0,Ue.value=Nt[0],q(Ne,dt,1,Bt,Ue),Bt;var Vt,on=-1,rn=Bt-1,Hn=0,u=1,p=1,_=1<<De;for(ct=0,Ge=1,ot=2;Ge<=De;++Ge,ot<<=1){if(u+=p<<=1,0>(p-=Lt[Ge]))return 0;for(;0<Lt[Ge];--Lt[Ge])(Ue=new X).g=Ge,Ue.value=Nt[ct++],q(Ne,dt+Hn,ot,_,Ue),Hn=oe(Hn,Ge)}for(Ge=De+1,ot=2;15>=Ge;++Ge,ot<<=1){if(u+=p<<=1,0>(p-=Lt[Ge]))return 0;for(;0<Lt[Ge];--Lt[Ge]){if(Ue=new X,(Hn&rn)!=on){for(dt+=_,Vt=1<<(on=Ge)-De;15>on&&!(0>=(Vt-=Lt[on]));)++on,Vt<<=1;Bt+=_=1<<(Vt=on-De),Ne[Oe+(on=Hn&rn)].g=Vt+De,Ne[Oe+on].value=dt-Oe-on}Ue.g=Ge-De,Ue.value=Nt[ct++],q(Ne,dt+(Hn>>De),ot,_,Ue),Hn=oe(Hn,Ge)}}return u!=2*Ht[15]-1?0:Bt})(E,A,V,re,_e,Ee)}function X(){this.value=this.g=0}function U(){this.value=this.g=0}function Q(){this.G=h(5,X),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(so,U)}function ae(E,A,V,re){t(E!=null),t(A!=null),t(2147483648>re),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=A,E.pa=V,E.Jd=A,E.Yc=V+re,E.Zc=4<=re?V+re-4+1:V,he(E)}function ue(E,A){for(var V=0;0<A--;)V|=We(E,128)<<A;return V}function le(E,A){var V=ue(E,A);return qe(E)?-V:V}function be(E,A,V,re){var _e,Ee=0;for(t(E!=null),t(A!=null),t(4294967288>re),E.Sb=re,E.Ra=0,E.u=0,E.h=0,4<re&&(re=4),_e=0;_e<re;++_e)Ee+=A[V+_e]<<8*_e;E.Ra=Ee,E.bb=re,E.oa=A,E.pa=V}function ke(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<Oi-8>>>0,++E.bb,E.u-=8;we(E)&&(E.h=1,E.u=0)}function Te(E,A){if(t(0<=A),!E.h&&A<=gi){var V=me(E)&fa[A];return E.u+=A,ke(E),V}return E.h=1,E.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ce(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(E){return E.Ra>>>(E.u&Oi-1)>>>0}function we(E){return t(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>Oi}function Le(E,A){E.u=A,E.h=we(E)}function Be(E){E.u>=qa&&(t(E.u>=qa),ke(E))}function he(E){t(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(t(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function qe(E){return ue(E,1)}function We(E,A){var V=E.Ca;0>E.b&&he(E);var re=E.b,_e=V*A>>>8,Ee=(E.I>>>re>_e)+0;for(Ee?(V-=_e,E.I-=_e+1<<re>>>0):V=_e+1,re=V,_e=0;256<=re;)_e+=8,re>>=8;return re=7^_e+Ua[re],E.b-=re,E.Ca=(V<<re)-1,Ee}function Fe(E,A,V){E[A+0]=V>>24&255,E[A+1]=V>>16&255,E[A+2]=V>>8&255,E[A+3]=255&V}function de(E,A){return E[A+0]|E[A+1]<<8}function it(E,A){return de(E,A)|E[A+2]<<16}function ft(E,A){return de(E,A)|de(E,A+2)<<16}function fe(E,A){var V=1<<A;return t(E!=null),t(0<A),E.X=l(V),E.X==null?0:(E.Mb=32-A,E.Xa=A,1)}function tt(E,A){t(E!=null),t(A!=null),t(E.Xa==A.Xa),r(A.X,0,E.X,0,1<<A.Xa)}function kt(){this.X=[],this.Xa=this.Mb=0}function At(E,A,V,re){t(V!=null),t(re!=null);var _e=V[0],Ee=re[0];return _e==0&&(_e=(E*Ee+A/2)/A),Ee==0&&(Ee=(A*_e+E/2)/E),0>=_e||0>=Ee?0:(V[0]=_e,re[0]=Ee,1)}function Ze(E,A){return E+(1<<A)-1>>>A}function Zt(E,A){return((4278255360&E)+(4278255360&A)>>>0&4278255360)+((16711935&E)+(16711935&A)>>>0&16711935)>>>0}function nt(E,A){H[A]=function(V,re,_e,Ee,Ne,Oe,De){var Ue;for(Ue=0;Ue<Ne;++Ue){var ot=H[E](Oe[De+Ue-1],_e,Ee+Ue);Oe[De+Ue]=Zt(V[re+Ue],ot)}}}function mt(){this.ud=this.hd=this.jd=0}function wt(E,A){return((4278124286&(E^A))>>>1)+(E&A)>>>0}function Et(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Xt(E,A){return Et(E+(E-A+.5>>1))}function nn(E,A,V){return Math.abs(A-V)-Math.abs(E-V)}function dn(E,A,V,re,_e,Ee,Ne){for(re=Ee[Ne-1],V=0;V<_e;++V)Ee[Ne+V]=re=Zt(E[A+V],re)}function Dt(E,A,V,re,_e){var Ee;for(Ee=0;Ee<V;++Ee){var Ne=E[A+Ee],Oe=Ne>>8&255,De=16711935&(De=(De=16711935&Ne)+((Oe<<16)+Oe));re[_e+Ee]=(4278255360&Ne)+De>>>0}}function Jt(E,A){A.jd=255&E,A.hd=E>>8&255,A.ud=E>>16&255}function Ft(E,A,V,re,_e,Ee){var Ne;for(Ne=0;Ne<re;++Ne){var Oe=A[V+Ne],De=Oe>>>8,Ue=Oe,ot=255&(ot=(ot=Oe>>>16)+((E.jd<<24>>24)*(De<<24>>24)>>>5));Ue=255&(Ue=(Ue+=(E.hd<<24>>24)*(De<<24>>24)>>>5)+((E.ud<<24>>24)*(ot<<24>>24)>>>5)),_e[Ee+Ne]=(4278255360&Oe)+(ot<<16)+Ue}}function ht(E,A,V,re,_e){H[A]=function(Ee,Ne,Oe,De,Ue,ot,Nt,Ge,ct){for(De=Nt;De<Ge;++De)for(Nt=0;Nt<ct;++Nt)Ue[ot++]=_e(Oe[re(Ee[Ne++])])},H[E]=function(Ee,Ne,Oe,De,Ue,ot,Nt){var Ge=8>>Ee.b,ct=Ee.Ea,dt=Ee.K[0],Bt=Ee.w;if(8>Ge)for(Ee=(1<<Ee.b)-1,Bt=(1<<Ge)-1;Ne<Oe;++Ne){var Lt,Ht=0;for(Lt=0;Lt<ct;++Lt)Lt&Ee||(Ht=re(De[Ue++])),ot[Nt++]=_e(dt[Ht&Bt]),Ht>>=Ge}else H["VP8LMapColor"+V](De,Ue,dt,Bt,ot,Nt,Ne,Oe,ct)}}function Mt(E,A,V,re,_e){for(V=A+V;A<V;){var Ee=E[A++];re[_e++]=Ee>>16&255,re[_e++]=Ee>>8&255,re[_e++]=255&Ee}}function tn(E,A,V,re,_e){for(V=A+V;A<V;){var Ee=E[A++];re[_e++]=Ee>>16&255,re[_e++]=Ee>>8&255,re[_e++]=255&Ee,re[_e++]=Ee>>24&255}}function fn(E,A,V,re,_e){for(V=A+V;A<V;){var Ee=(Ne=E[A++])>>16&240|Ne>>12&15,Ne=240&Ne|Ne>>28&15;re[_e++]=Ee,re[_e++]=Ne}}function Tt(E,A,V,re,_e){for(V=A+V;A<V;){var Ee=(Ne=E[A++])>>16&248|Ne>>13&7,Ne=Ne>>5&224|Ne>>3&31;re[_e++]=Ee,re[_e++]=Ne}}function zt(E,A,V,re,_e){for(V=A+V;A<V;){var Ee=E[A++];re[_e++]=255&Ee,re[_e++]=Ee>>8&255,re[_e++]=Ee>>16&255}}function jt(E,A,V,re,_e,Ee){if(Ee==0)for(V=A+V;A<V;)Fe(re,((Ee=E[A++])[0]>>24|Ee[1]>>8&65280|Ee[2]<<8&16711680|Ee[3]<<24)>>>0),_e+=32;else r(re,_e,E,A,V)}function ln(E,A){H[A][0]=H[E+"0"],H[A][1]=H[E+"1"],H[A][2]=H[E+"2"],H[A][3]=H[E+"3"],H[A][4]=H[E+"4"],H[A][5]=H[E+"5"],H[A][6]=H[E+"6"],H[A][7]=H[E+"7"],H[A][8]=H[E+"8"],H[A][9]=H[E+"9"],H[A][10]=H[E+"10"],H[A][11]=H[E+"11"],H[A][12]=H[E+"12"],H[A][13]=H[E+"13"],H[A][14]=H[E+"0"],H[A][15]=H[E+"0"]}function an(E){return E==ga||E==ma||E==ko||E==s}function hn(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hn,this.f.kb=new Bn,this.sd=null}function Gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function An(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function Dn(E,A){var V=E.T,re=A.ba.f.RGBA,_e=re.eb,Ee=re.fb+E.ka*re.A,Ne=aa[A.ba.S],Oe=E.y,De=E.O,Ue=E.f,ot=E.N,Nt=E.ea,Ge=E.W,ct=A.cc,dt=A.dc,Bt=A.Mc,Lt=A.Nc,Ht=E.ka,Vt=E.ka+E.T,on=E.U,rn=on+1>>1;for(Ht==0?Ne(Oe,De,null,null,Ue,ot,Nt,Ge,Ue,ot,Nt,Ge,_e,Ee,null,null,on):(Ne(A.ec,A.fc,Oe,De,ct,dt,Bt,Lt,Ue,ot,Nt,Ge,_e,Ee-re.A,_e,Ee,on),++V);Ht+2<Vt;Ht+=2)ct=Ue,dt=ot,Bt=Nt,Lt=Ge,ot+=E.Rc,Ge+=E.Rc,Ee+=2*re.A,Ne(Oe,(De+=2*E.fa)-E.fa,Oe,De,ct,dt,Bt,Lt,Ue,ot,Nt,Ge,_e,Ee-re.A,_e,Ee,on);return De+=E.fa,E.j+Vt<E.o?(r(A.ec,A.fc,Oe,De,on),r(A.cc,A.dc,Ue,ot,rn),r(A.Mc,A.Nc,Nt,Ge,rn),V--):1&Vt||Ne(Oe,De,null,null,Ue,ot,Nt,Ge,Ue,ot,Nt,Ge,_e,Ee+re.A,null,null,on),V}function Kt(E,A,V){var re=E.F,_e=[E.J];if(re!=null){var Ee=E.U,Ne=A.ba.S,Oe=Ne==lo||Ne==ko;A=A.ba.f.RGBA;var De=[0],Ue=E.ka;De[0]=E.T,E.Kb&&(Ue==0?--De[0]:(--Ue,_e[0]-=E.width),E.j+E.ka+E.T==E.o&&(De[0]=E.o-E.j-Ue));var ot=A.eb;Ue=A.fb+Ue*A.A,E=Wa(re,_e[0],E.width,Ee,De,ot,Ue+(Oe?0:3),A.A),t(V==De),E&&an(Ne)&&ti(ot,Ue,Oe,Ee,De,A.A)}return 0}function dr(E){var A=E.ma,V=A.ba.S,re=11>V,_e=V==tr||V==us||V==lo||V==Li||V==12||an(V);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!ss(A.Oa,E,_e?11:12))return 0;if(_e&&an(V)&&bo(),E.da)alert("todo:use_scaling");else{if(re){if(A.Ib=An,E.Kb){if(V=E.U+1>>1,A.memory=l(E.U+2*V),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+E.U,A.Mc=A.cc,A.Nc=A.dc+V,A.Ib=Dn,bo()}}else alert("todo:EmitYUV");_e&&(A.Jb=Kt,re&&Er())}if(re&&!Ws){for(E=0;256>E;++E)Vl[E]=89858*(E-128)+pl>>Gl,Wl[E]=-22014*(E-128)+pl,ud[E]=-45773*(E-128),ld[E]=113618*(E-128)+pl>>Gl;for(E=gl;E<Ru;++E)A=76283*(E-16)+pl>>Gl,Kl[E-gl]=Fn(A,255),_c[E-gl]=Fn(A+8>>4,15);Ws=1}return 1}function mn(E){var A=E.ma,V=E.U,re=E.T;return t(!(1&E.ka)),0>=V||0>=re?0:(V=A.Ib(E,A),A.Jb!=null&&A.Jb(E,A,V),A.Dc+=V,1)}function br(E){E.ma.memory=null}function Un(E,A,V,re){return Te(E,8)!=47?0:(A[0]=Te(E,14)+1,V[0]=Te(E,14)+1,re[0]=Te(E,1),Te(E,3)!=0?0:!E.h)}function ur(E,A){if(4>E)return E+1;var V=E-2>>1;return(2+(1&E)<<V)+Te(A,V)+1}function Tr(E,A){return 120<A?A-120:1<=(V=((V=Ye[A-1])>>4)*E+(8-(15&V)))?V:1;var V}function zn(E,A,V){var re=me(V),_e=E[A+=255&re].g-8;return 0<_e&&(Le(V,V.u+8),re=me(V),A+=E[A].value,A+=re&(1<<_e)-1),Le(V,V.u+E[A].g),E[A].value}function cn(E,A,V){return V.g+=E.g,V.value+=E.value<<A>>>0,t(8>=V.g),E.g}function Pr(E,A,V){var re=E.xc;return t((A=re==0?0:E.vc[E.md*(V>>re)+(A>>re)])<E.Wb),E.Ya[A]}function Ri(E,A,V,re){var _e=E.ab,Ee=E.c*A,Ne=E.C;A=Ne+A;var Oe=V,De=re;for(re=E.Ta,V=E.Ua;0<_e--;){var Ue=E.gc[_e],ot=Ne,Nt=A,Ge=Oe,ct=De,dt=(De=re,Oe=V,Ue.Ea);switch(t(ot<Nt),t(Nt<=Ue.nc),Ue.hc){case 2:ui(Ge,ct,(Nt-ot)*dt,De,Oe);break;case 0:var Bt=ot,Lt=Nt,Ht=De,Vt=Oe,on=(_=Ue).Ea;Bt==0&&(Ga(Ge,ct,null,null,1,Ht,Vt),dn(Ge,ct+1,0,0,on-1,Ht,Vt+1),ct+=on,Vt+=on,++Bt);for(var rn=1<<_.b,Hn=rn-1,u=Ze(on,_.b),p=_.K,_=_.w+(Bt>>_.b)*u;Bt<Lt;){var S=p,P=_,F=1;for(Yi(Ge,ct,Ht,Vt-on,1,Ht,Vt);F<on;){var K=(F&~Hn)+rn;K>on&&(K=on),(0,Jo[S[P++]>>8&15])(Ge,ct+ +F,Ht,Vt+F-on,K-F,Ht,Vt+F),F=K}ct+=on,Vt+=on,++Bt&Hn||(_+=u)}Nt!=Ue.nc&&r(De,Oe-dt,De,Oe+(Nt-ot-1)*dt,dt);break;case 1:for(dt=Ge,Lt=ct,on=(Ge=Ue.Ea)-(Vt=Ge&~(Ht=(ct=1<<Ue.b)-1)),Bt=Ze(Ge,Ue.b),rn=Ue.K,Ue=Ue.w+(ot>>Ue.b)*Bt;ot<Nt;){for(Hn=rn,u=Ue,p=new mt,_=Lt+Vt,S=Lt+Ge;Lt<_;)Jt(Hn[u++],p),pa(p,dt,Lt,ct,De,Oe),Lt+=ct,Oe+=ct;Lt<S&&(Jt(Hn[u++],p),pa(p,dt,Lt,on,De,Oe),Lt+=on,Oe+=on),++ot&Ht||(Ue+=Bt)}break;case 3:if(Ge==De&&ct==Oe&&0<Ue.b){for(Lt=De,Ge=dt=Oe+(Nt-ot)*dt-(Vt=(Nt-ot)*Ze(Ue.Ea,Ue.b)),ct=De,Ht=Oe,Bt=[],Vt=(on=Vt)-1;0<=Vt;--Vt)Bt[Vt]=ct[Ht+Vt];for(Vt=on-1;0<=Vt;--Vt)Lt[Ge+Vt]=Bt[Vt];Va(Ue,ot,Nt,De,dt,De,Oe)}else Va(Ue,ot,Nt,Ge,ct,De,Oe)}Oe=re,De=V}De!=V&&r(re,V,Oe,De,Ee)}function Nn(E,A){var V=E.V,re=E.Ba+E.c*E.C,_e=A-E.C;if(t(A<=E.l.o),t(16>=_e),0<_e){var Ee=E.l,Ne=E.Ta,Oe=E.Ua,De=Ee.width;if(Ri(E,_e,V,re),_e=Oe=[Oe],t((V=E.C)<(re=A)),t(Ee.v<Ee.va),re>Ee.o&&(re=Ee.o),V<Ee.j){var Ue=Ee.j-V;V=Ee.j,_e[0]+=Ue*De}if(V>=re?V=0:(_e[0]+=4*Ee.v,Ee.ka=V-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=re-V,V=1),V){if(Oe=Oe[0],11>(V=E.ca).S){var ot=V.f.RGBA,Nt=(re=V.S,_e=Ee.U,Ee=Ee.T,Ue=ot.eb,ot.A),Ge=Ee;for(ot=ot.fb+E.Ma*ot.A;0<Ge--;){var ct=Ne,dt=Oe,Bt=_e,Lt=Ue,Ht=ot;switch(re){case Oa:Eo(ct,dt,Bt,Lt,Ht);break;case tr:Pa(ct,dt,Bt,Lt,Ht);break;case ga:Pa(ct,dt,Bt,Lt,Ht),ti(Lt,Ht,0,Bt,1,0);break;case As:f(ct,dt,Bt,Lt,Ht);break;case us:jt(ct,dt,Bt,Lt,Ht,1);break;case ma:jt(ct,dt,Bt,Lt,Ht,1),ti(Lt,Ht,0,Bt,1,0);break;case lo:jt(ct,dt,Bt,Lt,Ht,0);break;case ko:jt(ct,dt,Bt,Lt,Ht,0),ti(Lt,Ht,1,Bt,1,0);break;case Li:fi(ct,dt,Bt,Lt,Ht);break;case s:fi(ct,dt,Bt,Lt,Ht),ki(Lt,Ht,Bt,1,0);break;case hl:pi(ct,dt,Bt,Lt,Ht);break;default:t(0)}Oe+=De,ot+=Nt}E.Ma+=Ee}else alert("todo:EmitRescaledRowsYUVA");t(E.Ma<=V.height)}}E.C=A,t(E.C<=E.i)}function Gn(E){var A;if(0<E.ua)return 0;for(A=0;A<E.Wb;++A){var V=E.Ya[A].G,re=E.Ya[A].H;if(0<V[1][re[1]+0].g||0<V[2][re[2]+0].g||0<V[3][re[3]+0].g)return 0}return 1}function wn(E,A,V,re,_e,Ee){if(E.Z!=0){var Ne=E.qd,Oe=E.rd;for(t(ni[E.Z]!=null);A<V;++A)ni[E.Z](Ne,Oe,re,_e,re,_e,Ee),Ne=re,Oe=_e,_e+=Ee;E.qd=Ne,E.rd=Oe}}function nr(E,A){var V=E.l.ma,re=V.Z==0||V.Z==1?E.l.j:E.C;if(re=E.C<re?re:E.C,t(A<=E.l.o),A>re){var _e=E.l.width,Ee=V.ca,Ne=V.tb+_e*re,Oe=E.V,De=E.Ba+E.c*re,Ue=E.gc;t(E.ab==1),t(Ue[0].hc==3),Ei(Ue[0],re,A,Oe,De,Ee,Ne),wn(V,re,A,Ee,Ne,_e)}E.C=E.Ma=A}function sr(E,A,V,re,_e,Ee,Ne){var Oe=E.$/re,De=E.$%re,Ue=E.m,ot=E.s,Nt=V+E.$,Ge=Nt;_e=V+re*_e;var ct=V+re*Ee,dt=280+ot.ua,Bt=E.Pb?Oe:16777216,Lt=0<ot.ua?ot.Wa:null,Ht=ot.wc,Vt=Nt<ct?Pr(ot,De,Oe):null;t(E.C<Ee),t(ct<=_e);var on=!1;e:for(;;){for(;on||Nt<ct;){var rn=0;if(Oe>=Bt){var Hn=Nt-V;t((Bt=E).Pb),Bt.wd=Bt.m,Bt.xd=Hn,0<Bt.s.ua&&tt(Bt.s.Wa,Bt.s.vb),Bt=Oe+It}if(De&Ht||(Vt=Pr(ot,De,Oe)),t(Vt!=null),Vt.Qb&&(A[Nt]=Vt.qb,on=!0),!on)if(Be(Ue),Vt.jc){rn=Ue,Hn=A;var u=Nt,p=Vt.pd[me(rn)&so-1];t(Vt.jc),256>p.g?(Le(rn,rn.u+p.g),Hn[u]=p.value,rn=0):(Le(rn,rn.u+p.g-256),t(256<=p.value),rn=p.value),rn==0&&(on=!0)}else rn=zn(Vt.G[0],Vt.H[0],Ue);if(Ue.h)break;if(on||256>rn){if(!on)if(Vt.nd)A[Nt]=(Vt.qb|rn<<8)>>>0;else{if(Be(Ue),on=zn(Vt.G[1],Vt.H[1],Ue),Be(Ue),Hn=zn(Vt.G[2],Vt.H[2],Ue),u=zn(Vt.G[3],Vt.H[3],Ue),Ue.h)break;A[Nt]=(u<<24|on<<16|rn<<8|Hn)>>>0}if(on=!1,++Nt,++De>=re&&(De=0,++Oe,Ne!=null&&Oe<=Ee&&!(Oe%16)&&Ne(E,Oe),Lt!=null))for(;Ge<Nt;)rn=A[Ge++],Lt.X[(506832829*rn&4294967295)>>>Lt.Mb]=rn}else if(280>rn){if(rn=ur(rn-256,Ue),Hn=zn(Vt.G[4],Vt.H[4],Ue),Be(Ue),Hn=Tr(re,Hn=ur(Hn,Ue)),Ue.h)break;if(Nt-V<Hn||_e-Nt<rn)break e;for(u=0;u<rn;++u)A[Nt+u]=A[Nt+u-Hn];for(Nt+=rn,De+=rn;De>=re;)De-=re,++Oe,Ne!=null&&Oe<=Ee&&!(Oe%16)&&Ne(E,Oe);if(t(Nt<=_e),De&Ht&&(Vt=Pr(ot,De,Oe)),Lt!=null)for(;Ge<Nt;)rn=A[Ge++],Lt.X[(506832829*rn&4294967295)>>>Lt.Mb]=rn}else{if(!(rn<dt))break e;for(on=rn-280,t(Lt!=null);Ge<Nt;)rn=A[Ge++],Lt.X[(506832829*rn&4294967295)>>>Lt.Mb]=rn;rn=Nt,t(!(on>>>(Hn=Lt).Xa)),A[rn]=Hn.X[on],on=!0}on||t(Ue.h==we(Ue))}if(E.Pb&&Ue.h&&Nt<_e)t(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&tt(E.s.vb,E.s.Wa);else{if(Ue.h)break e;Ne?.(E,Oe>Ee?Ee:Oe),E.a=0,E.$=Nt-V}return 1}return E.a=3,0}function fr(E){t(E!=null),E.vc=null,E.yc=null,E.Ya=null;var A=E.Wa;A!=null&&(A.X=null),E.vb=null,t(E!=null)}function wr(){var E=new Tn;return E==null?null:(E.a=0,E.xb=fl,ln("Predictor","VP8LPredictors"),ln("Predictor","VP8LPredictors_C"),ln("PredictorAdd","VP8LPredictorsAdd"),ln("PredictorAdd","VP8LPredictorsAdd_C"),ui=Dt,pa=Ft,Eo=Mt,Pa=tn,fi=fn,pi=Tt,f=zt,H.VP8LMapColor32b=Ji,H.VP8LMapColor8b=So,E)}function Nr(E,A,V,re,_e){var Ee=1,Ne=[E],Oe=[A],De=re.m,Ue=re.s,ot=null,Nt=0;e:for(;;){if(V)for(;Ee&&Te(De,1);){var Ge=Ne,ct=Oe,dt=re,Bt=1,Lt=dt.m,Ht=dt.gc[dt.ab],Vt=Te(Lt,2);if(dt.Oc&1<<Vt)Ee=0;else{switch(dt.Oc|=1<<Vt,Ht.hc=Vt,Ht.Ea=Ge[0],Ht.nc=ct[0],Ht.K=[null],++dt.ab,t(4>=dt.ab),Vt){case 0:case 1:Ht.b=Te(Lt,3)+2,Bt=Nr(Ze(Ht.Ea,Ht.b),Ze(Ht.nc,Ht.b),0,dt,Ht.K),Ht.K=Ht.K[0];break;case 3:var on,rn=Te(Lt,8)+1,Hn=16<rn?0:4<rn?1:2<rn?2:3;if(Ge[0]=Ze(Ht.Ea,Hn),Ht.b=Hn,on=Bt=Nr(rn,1,0,dt,Ht.K)){var u,p=rn,_=Ht,S=1<<(8>>_.b),P=l(S);if(P==null)on=0;else{var F=_.K[0],K=_.w;for(P[0]=_.K[0][0],u=1;u<1*p;++u)P[u]=Zt(F[K+u],P[u-1]);for(;u<4*S;++u)P[u]=0;_.K[0]=null,_.K[0]=P,on=1}}Bt=on;break;case 2:break;default:t(0)}Ee=Bt}}if(Ne=Ne[0],Oe=Oe[0],Ee&&Te(De,1)&&!(Ee=1<=(Nt=Te(De,4))&&11>=Nt)){re.a=3;break e}var Y;if(Y=Ee)t:{var ge,ve,Ve,je=re,vt=Ne,St=Oe,qt=Nt,un=V,vn=je.m,Zn=je.s,He=[null],Ke=1,rt=0,yt=xt[qt];n:for(;;){if(un&&Te(vn,1)){var lt=Te(vn,3)+2,Ct=Ze(vt,lt),pe=Ze(St,lt),Se=Ct*pe;if(!Nr(Ct,pe,0,je,He))break n;for(He=He[0],Zn.xc=lt,ge=0;ge<Se;++ge){var Me=He[ge]>>8&65535;He[ge]=Me,Me>=Ke&&(Ke=Me+1)}}if(vn.h)break n;for(ve=0;5>ve;++ve){var Pe=z[ve];!ve&&0<qt&&(Pe+=1<<qt),rt<Pe&&(rt=Pe)}var Ae=h(Ke*yt,X),Re=Ke,Je=h(Re,Q);if(Je==null)var Xe=null;else t(65536>=Re),Xe=Je;var at=l(rt);if(Xe==null||at==null||Ae==null){je.a=1;break n}var gt=Ae;for(ge=Ve=0;ge<Ke;++ge){var ut=Xe[ge],Ut=ut.G,yn=ut.H,Ln=0,In=1,or=0;for(ve=0;5>ve;++ve){Pe=z[ve],Ut[ve]=gt,yn[ve]=Ve,!ve&&0<qt&&(Pe+=1<<qt);i:{var Xr,Br=Pe,Yr=je,Gi=at,Xl=gt,Bu=Ve,ml=0,ya=Yr.m,vl=Te(ya,1);if(i(Gi,0,0,Br),vl){var Mo=Te(ya,1)+1,Xa=Te(ya,1),Ni=Te(ya,Xa==0?1:8);Gi[Ni]=1,Mo==2&&(Gi[Ni=Te(ya,8)]=1);var Sc=1}else{var Xp=l(19),Yp=Te(ya,4)+4;if(19<Yp){Yr.a=3;var Ec=0;break i}for(Xr=0;Xr<Yp;++Xr)Xp[Ce[Xr]]=Te(ya,3);var cd=void 0,Du=void 0,Jp=Yr,dx=Xp,kc=Br,Qp=Gi,hd=0,Ks=Jp.m,eg=8,tg=h(128,X);r:for(;Z(tg,0,7,dx,19);){if(Te(Ks,1)){var fx=2+2*Te(Ks,3);if((cd=2+Te(Ks,fx))>kc)break r}else cd=kc;for(Du=0;Du<kc&&cd--;){Be(Ks);var ng=tg[0+(127&me(Ks))];Le(Ks,Ks.u+ng.g);var Yl=ng.value;if(16>Yl)Qp[Du++]=Yl,Yl!=0&&(eg=Yl);else{var px=Yl==16,rg=Yl-16,gx=M[rg],ig=Te(Ks,m[rg])+gx;if(Du+ig>kc)break r;for(var mx=px?eg:0;0<ig--;)Qp[Du++]=mx}}hd=1;break r}hd||(Jp.a=3),Sc=hd}(Sc=Sc&&!ya.h)&&(ml=Z(Xl,Bu,8,Gi,Br)),Sc&&ml!=0?Ec=ml:(Yr.a=3,Ec=0)}if(Ec==0)break n;if(In&&ie[ve]==1&&(In=gt[Ve].g==0),Ln+=gt[Ve].g,Ve+=Ec,3>=ve){var $u,dd=at[0];for($u=1;$u<Pe;++$u)at[$u]>dd&&(dd=at[$u]);or+=dd}}if(ut.nd=In,ut.Qb=0,In&&(ut.qb=(Ut[3][yn[3]+0].value<<24|Ut[1][yn[1]+0].value<<16|Ut[2][yn[2]+0].value)>>>0,Ln==0&&256>Ut[0][yn[0]+0].value&&(ut.Qb=1,ut.qb+=Ut[0][yn[0]+0].value<<8)),ut.jc=!ut.Qb&&6>or,ut.jc){var Lc,Ts=ut;for(Lc=0;Lc<so;++Lc){var Zs=Lc,Xs=Ts.pd[Zs],Nc=Ts.G[0][Ts.H[0]+Zs];256<=Nc.value?(Xs.g=Nc.g+256,Xs.value=Nc.value):(Xs.g=0,Xs.value=0,Zs>>=cn(Nc,8,Xs),Zs>>=cn(Ts.G[1][Ts.H[1]+Zs],16,Xs),Zs>>=cn(Ts.G[2][Ts.H[2]+Zs],0,Xs),cn(Ts.G[3][Ts.H[3]+Zs],24,Xs))}}}Zn.vc=He,Zn.Wb=Ke,Zn.Ya=Xe,Zn.yc=Ae,Y=1;break t}Y=0}if(!(Ee=Y)){re.a=3;break e}if(0<Nt){if(Ue.ua=1<<Nt,!fe(Ue.Wa,Nt)){re.a=1,Ee=0;break e}}else Ue.ua=0;var fd=re,ag=Ne,vx=Oe,pd=fd.s,gd=pd.xc;if(fd.c=ag,fd.i=vx,pd.md=Ze(ag,gd),pd.wc=gd==0?-1:(1<<gd)-1,V){re.xb=Au;break e}if((ot=l(Ne*Oe))==null){re.a=1,Ee=0;break e}Ee=(Ee=sr(re,ot,0,Ne,Oe,Oe,null))&&!De.h;break e}return Ee?(_e!=null?_e[0]=ot:(t(ot==null),t(V)),re.$=0,V||fr(Ue)):fr(Ue),Ee}function Si(E,A){var V=E.c*E.i,re=V+A+16*A;return t(E.c<=A),E.V=l(re),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+V+A,1)}function yi(E,A){var V=E.C,re=A-V,_e=E.V,Ee=E.Ba+E.c*V;for(t(A<=E.l.o);0<re;){var Ne=16<re?16:re,Oe=E.l.ma,De=E.l.width,Ue=De*Ne,ot=Oe.ca,Nt=Oe.tb+De*V,Ge=E.Ta,ct=E.Ua;Ri(E,Ne,_e,Ee),Qo(Ge,ct,ot,Nt,Ue),wn(Oe,V,V+Ne,ot,Nt,De),re-=Ne,_e+=Ne*E.c,V+=Ne}t(V==A),E.C=E.Ma=A}function mr(){this.ub=this.yd=this.td=this.Rb=0}function Hi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jn(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function xn(){this.Yb=(function(){var E=[];return(function A(V,re,_e){for(var Ee=_e[re],Ne=0;Ne<Ee&&(V.push(_e.length>re+1?[]:0),!(_e.length<re+1));Ne++)A(V[Ne],re+1,_e)})(E,0,[3,11]),E})()}function rr(){this.jb=l(3),this.Wc=c([4,8],xn),this.Xc=c([4,17],xn)}function pr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function gr(){this.ld=this.La=this.dd=this.tc=0}function _i(){this.Na=this.la=0}function Sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kn(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xn(){this.uc=this.M=this.Nb=0,this.wa=Array(new gr),this.Y=0,this.ya=Array(new kn),this.aa=0,this.l=new xr}function Gr(){this.y=l(16),this.f=l(8),this.ea=l(8)}function $r(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new mr,this.Kc=new Hi,this.ed=new pr,this.Qa=new Jn,this.Ic=this.$c=this.Aa=0,this.D=new Xn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,ne),this.ia=0,this.pb=h(4,Sn),this.Pa=new rr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gr),this.Hd=0,this.rb=Array(new _i),this.sb=0,this.wa=Array(new gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kn),this.L=this.aa=0,this.gd=c([4,2],gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fn(E,A){return 0>E?0:E>A?A:E}function xr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xa(){var E=new $r;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,Vn||(Vn=jn)),E}function Vr(E,A,V){return E.a==0&&(E.a=A,E.sc=V,E.cb=0),0}function la(E,A,V){return 3<=V&&E[A+0]==157&&E[A+1]==1&&E[A+2]==42}function qi(E,A){if(E==null)return 0;if(E.a=0,E.sc="OK",A==null)return Vr(E,2,"null VP8Io passed to VP8GetHeaders()");var V=A.data,re=A.w,_e=A.ha;if(4>_e)return Vr(E,7,"Truncated header.");var Ee=V[re+0]|V[re+1]<<8|V[re+2]<<16,Ne=E.Od;if(Ne.Rb=!(1&Ee),Ne.td=Ee>>1&7,Ne.yd=Ee>>4&1,Ne.ub=Ee>>5,3<Ne.td)return Vr(E,3,"Incorrect keyframe parameters.");if(!Ne.yd)return Vr(E,4,"Frame not displayable.");re+=3,_e-=3;var Oe=E.Kc;if(Ne.Rb){if(7>_e)return Vr(E,7,"cannot parse picture header");if(!la(V,re,_e))return Vr(E,3,"Bad code word");Oe.c=16383&(V[re+4]<<8|V[re+3]),Oe.Td=V[re+4]>>6,Oe.i=16383&(V[re+6]<<8|V[re+5]),Oe.Ud=V[re+6]>>6,re+=7,_e-=7,E.za=Oe.c+15>>4,E.Ub=Oe.i+15>>4,A.width=Oe.c,A.height=Oe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((Ee=E.Pa).jb,0,255,Ee.jb.length),t((Ee=E.Qa)!=null),Ee.Cb=0,Ee.Bb=0,Ee.Fb=1,i(Ee.Zb,0,0,Ee.Zb.length),i(Ee.Lb,0,0,Ee.Lb)}if(Ne.ub>_e)return Vr(E,7,"bad partition length");ae(Ee=E.m,V,re,Ne.ub),re+=Ne.ub,_e-=Ne.ub,Ne.Rb&&(Oe.Ld=qe(Ee),Oe.Kd=qe(Ee)),Oe=E.Qa;var De,Ue=E.Pa;if(t(Ee!=null),t(Oe!=null),Oe.Cb=qe(Ee),Oe.Cb){if(Oe.Bb=qe(Ee),qe(Ee)){for(Oe.Fb=qe(Ee),De=0;4>De;++De)Oe.Zb[De]=qe(Ee)?le(Ee,7):0;for(De=0;4>De;++De)Oe.Lb[De]=qe(Ee)?le(Ee,6):0}if(Oe.Bb)for(De=0;3>De;++De)Ue.jb[De]=qe(Ee)?ue(Ee,8):255}else Oe.Bb=0;if(Ee.Ka)return Vr(E,3,"cannot parse segment header");if((Oe=E.ed).zd=qe(Ee),Oe.Tb=ue(Ee,6),Oe.wb=ue(Ee,3),Oe.Pc=qe(Ee),Oe.Pc&&qe(Ee)){for(Ue=0;4>Ue;++Ue)qe(Ee)&&(Oe.vd[Ue]=le(Ee,6));for(Ue=0;4>Ue;++Ue)qe(Ee)&&(Oe.od[Ue]=le(Ee,6))}if(E.L=Oe.Tb==0?0:Oe.zd?1:2,Ee.Ka)return Vr(E,3,"cannot parse filter header");var ot=_e;if(_e=De=re,re=De+ot,Oe=ot,E.Xb=(1<<ue(E.m,2))-1,ot<3*(Ue=E.Xb))V=7;else{for(De+=3*Ue,Oe-=3*Ue,ot=0;ot<Ue;++ot){var Nt=V[_e+0]|V[_e+1]<<8|V[_e+2]<<16;Nt>Oe&&(Nt=Oe),ae(E.Jc[+ot],V,De,Nt),De+=Nt,Oe-=Nt,_e+=3}ae(E.Jc[+Ue],V,De,Oe),V=De<re?0:5}if(V!=0)return Vr(E,V,"cannot parse partitions");for(V=ue(De=E.m,7),_e=qe(De)?le(De,4):0,re=qe(De)?le(De,4):0,Oe=qe(De)?le(De,4):0,Ue=qe(De)?le(De,4):0,De=qe(De)?le(De,4):0,ot=E.Qa,Nt=0;4>Nt;++Nt){if(ot.Cb){var Ge=ot.Zb[Nt];ot.Fb||(Ge+=V)}else{if(0<Nt){E.pb[Nt]=E.pb[0];continue}Ge=V}var ct=E.pb[Nt];ct.Sc[0]=en[Fn(Ge+_e,127)],ct.Sc[1]=_n[Fn(Ge+0,127)],ct.Eb[0]=2*en[Fn(Ge+re,127)],ct.Eb[1]=101581*_n[Fn(Ge+Oe,127)]>>16,8>ct.Eb[1]&&(ct.Eb[1]=8),ct.Qc[0]=en[Fn(Ge+Ue,117)],ct.Qc[1]=_n[Fn(Ge+De,127)],ct.lc=Ge+De}if(!Ne.Rb)return Vr(E,4,"Not a key frame.");for(qe(Ee),Ne=E.Pa,V=0;4>V;++V){for(_e=0;8>_e;++_e)for(re=0;3>re;++re)for(Oe=0;11>Oe;++Oe)Ue=We(Ee,Lo[V][_e][re][Oe])?ue(Ee,8):Aa[V][_e][re][Oe],Ne.Wc[V][_e].Yb[re][Oe]=Ue;for(_e=0;17>_e;++_e)Ne.Xc[V][_e]=Ne.Wc[V][dl[_e]]}return E.kc=qe(Ee),E.kc&&(E.Bd=ue(Ee,8)),E.cb=1}function jn(E,A,V,re,_e,Ee,Ne){var Oe=A[_e].Yb[V];for(V=0;16>_e;++_e){if(!We(E,Oe[V+0]))return _e;for(;!We(E,Oe[V+1]);)if(Oe=A[++_e].Yb[0],V=0,_e==16)return 16;var De=A[_e+1].Yb;if(We(E,Oe[V+2])){var Ue=E,ot=0;if(We(Ue,(Ge=Oe)[(Nt=V)+3]))if(We(Ue,Ge[Nt+6])){for(Oe=0,Nt=2*(ot=We(Ue,Ge[Nt+8]))+(Ge=We(Ue,Ge[Nt+9+ot])),ot=0,Ge=kr[Nt];Ge[Oe];++Oe)ot+=ot+We(Ue,Ge[Oe]);ot+=3+(8<<Nt)}else We(Ue,Ge[Nt+7])?(ot=7+2*We(Ue,165),ot+=We(Ue,145)):ot=5+We(Ue,159);else ot=We(Ue,Ge[Nt+4])?3+We(Ue,Ge[Nt+5]):2;Oe=De[2]}else ot=1,Oe=De[1];De=Ne+va[_e],0>(Ue=E).b&&he(Ue);var Nt,Ge=Ue.b,ct=(Nt=Ue.Ca>>1)-(Ue.I>>Ge)>>31;--Ue.b,Ue.Ca+=ct,Ue.Ca|=1,Ue.I-=(Nt+1&ct)<<Ge,Ee[De]=((ot^ct)-ct)*re[(0<_e)+0]}return 16}function Cr(E){var A=E.rb[E.sb-1];A.la=0,A.Na=0,i(E.zc,0,0,E.zc.length),E.ja=0}function ai(E,A,V,re,_e){_e=E[A+V+32*re]+(_e>>3),E[A+V+32*re]=-256&_e?0>_e?0:255:_e}function Qr(E,A,V,re,_e,Ee){ai(E,A,0,V,re+_e),ai(E,A,1,V,re+Ee),ai(E,A,2,V,re-Ee),ai(E,A,3,V,re-_e)}function Hr(E){return(20091*E>>16)+E}function vo(E,A,V,re){var _e,Ee=0,Ne=l(16);for(_e=0;4>_e;++_e){var Oe=E[A+0]+E[A+8],De=E[A+0]-E[A+8],Ue=(35468*E[A+4]>>16)-Hr(E[A+12]),ot=Hr(E[A+4])+(35468*E[A+12]>>16);Ne[Ee+0]=Oe+ot,Ne[Ee+1]=De+Ue,Ne[Ee+2]=De-Ue,Ne[Ee+3]=Oe-ot,Ee+=4,A++}for(_e=Ee=0;4>_e;++_e)Oe=(E=Ne[Ee+0]+4)+Ne[Ee+8],De=E-Ne[Ee+8],Ue=(35468*Ne[Ee+4]>>16)-Hr(Ne[Ee+12]),ai(V,re,0,0,Oe+(ot=Hr(Ne[Ee+4])+(35468*Ne[Ee+12]>>16))),ai(V,re,1,0,De+Ue),ai(V,re,2,0,De-Ue),ai(V,re,3,0,Oe-ot),Ee++,re+=32}function yo(E,A,V,re){var _e=E[A+0]+4,Ee=35468*E[A+4]>>16,Ne=Hr(E[A+4]),Oe=35468*E[A+1]>>16;Qr(V,re,0,_e+Ne,E=Hr(E[A+1]),Oe),Qr(V,re,1,_e+Ee,E,Oe),Qr(V,re,2,_e-Ee,E,Oe),Qr(V,re,3,_e-Ne,E,Oe)}function Fa(E,A,V,re,_e){vo(E,A,V,re),_e&&vo(E,A+16,V,re+4)}function Or(E,A,V,re){o(E,A+0,V,re,1),o(E,A+32,V,re+128,1)}function Wi(E,A,V,re){var _e;for(E=E[A+0]+4,_e=0;4>_e;++_e)for(A=0;4>A;++A)ai(V,re,A,_e,E)}function Ki(E,A,V,re){E[A+0]&&B(E,A+0,V,re),E[A+16]&&B(E,A+16,V,re+4),E[A+32]&&B(E,A+32,V,re+128),E[A+48]&&B(E,A+48,V,re+128+4)}function Zi(E,A,V,re){var _e,Ee=l(16);for(_e=0;4>_e;++_e){var Ne=E[A+0+_e]+E[A+12+_e],Oe=E[A+4+_e]+E[A+8+_e],De=E[A+4+_e]-E[A+8+_e],Ue=E[A+0+_e]-E[A+12+_e];Ee[0+_e]=Ne+Oe,Ee[8+_e]=Ne-Oe,Ee[4+_e]=Ue+De,Ee[12+_e]=Ue-De}for(_e=0;4>_e;++_e)Ne=(E=Ee[0+4*_e]+3)+Ee[3+4*_e],Oe=Ee[1+4*_e]+Ee[2+4*_e],De=Ee[1+4*_e]-Ee[2+4*_e],Ue=E-Ee[3+4*_e],V[re+0]=Ne+Oe>>3,V[re+16]=Ue+De>>3,V[re+32]=Ne-Oe>>3,V[re+48]=Ue-De>>3,re+=64}function wa(E,A,V){var re,_e=A-32,Ee=zr,Ne=255-E[_e-1];for(re=0;re<V;++re){var Oe,De=Ee,Ue=Ne+E[A-1];for(Oe=0;Oe<V;++Oe)E[A+Oe]=De[Ue+E[_e+Oe]];A+=32}}function ja(E,A){wa(E,A,4)}function Qn(E,A){wa(E,A,8)}function er(E,A){wa(E,A,16)}function Wn(E,A){var V;for(V=0;16>V;++V)r(E,A+32*V,E,A-32,16)}function oi(E,A){var V;for(V=16;0<V;--V)i(E,A,E[A-1],16),A+=32}function Rr(E,A,V){var re;for(re=0;16>re;++re)i(A,V+32*re,E,16)}function Xi(E,A){var V,re=16;for(V=0;16>V;++V)re+=E[A-1+32*V]+E[A+V-32];Rr(re>>5,E,A)}function Wr(E,A){var V,re=8;for(V=0;16>V;++V)re+=E[A-1+32*V];Rr(re>>4,E,A)}function ei(E,A){var V,re=8;for(V=0;16>V;++V)re+=E[A+V-32];Rr(re>>4,E,A)}function Ca(E,A){Rr(128,E,A)}function sn(E,A,V){return E+2*A+V+2>>2}function Sa(E,A){var V,re=A-32;for(re=new Uint8Array([sn(E[re-1],E[re+0],E[re+1]),sn(E[re+0],E[re+1],E[re+2]),sn(E[re+1],E[re+2],E[re+3]),sn(E[re+2],E[re+3],E[re+4])]),V=0;4>V;++V)r(E,A+32*V,re,0,re.length)}function Fr(E,A){var V=E[A-1],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1+96];Fe(E,A+0,16843009*sn(E[A-1-32],V,re)),Fe(E,A+32,16843009*sn(V,re,_e)),Fe(E,A+64,16843009*sn(re,_e,Ee)),Fe(E,A+96,16843009*sn(_e,Ee,Ee))}function Ro(E,A){var V,re=4;for(V=0;4>V;++V)re+=E[A+V-32]+E[A-1+32*V];for(re>>=3,V=0;4>V;++V)i(E,A+32*V,re,4)}function za(E,A){var V=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1-32],Ne=E[A+0-32],Oe=E[A+1-32],De=E[A+2-32],Ue=E[A+3-32];E[A+0+96]=sn(re,_e,E[A-1+96]),E[A+1+96]=E[A+0+64]=sn(V,re,_e),E[A+2+96]=E[A+1+64]=E[A+0+32]=sn(Ee,V,re),E[A+3+96]=E[A+2+64]=E[A+1+32]=E[A+0+0]=sn(Ne,Ee,V),E[A+3+64]=E[A+2+32]=E[A+1+0]=sn(Oe,Ne,Ee),E[A+3+32]=E[A+2+0]=sn(De,Oe,Ne),E[A+3+0]=sn(Ue,De,Oe)}function Ea(E,A){var V=E[A+1-32],re=E[A+2-32],_e=E[A+3-32],Ee=E[A+4-32],Ne=E[A+5-32],Oe=E[A+6-32],De=E[A+7-32];E[A+0+0]=sn(E[A+0-32],V,re),E[A+1+0]=E[A+0+32]=sn(V,re,_e),E[A+2+0]=E[A+1+32]=E[A+0+64]=sn(re,_e,Ee),E[A+3+0]=E[A+2+32]=E[A+1+64]=E[A+0+96]=sn(_e,Ee,Ne),E[A+3+32]=E[A+2+64]=E[A+1+96]=sn(Ee,Ne,Oe),E[A+3+64]=E[A+2+96]=sn(Ne,Oe,De),E[A+3+96]=sn(Oe,De,De)}function cr(E,A){var V=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1-32],Ne=E[A+0-32],Oe=E[A+1-32],De=E[A+2-32],Ue=E[A+3-32];E[A+0+0]=E[A+1+64]=Ee+Ne+1>>1,E[A+1+0]=E[A+2+64]=Ne+Oe+1>>1,E[A+2+0]=E[A+3+64]=Oe+De+1>>1,E[A+3+0]=De+Ue+1>>1,E[A+0+96]=sn(_e,re,V),E[A+0+64]=sn(re,V,Ee),E[A+0+32]=E[A+1+96]=sn(V,Ee,Ne),E[A+1+32]=E[A+2+96]=sn(Ee,Ne,Oe),E[A+2+32]=E[A+3+96]=sn(Ne,Oe,De),E[A+3+32]=sn(Oe,De,Ue)}function Ii(E,A){var V=E[A+0-32],re=E[A+1-32],_e=E[A+2-32],Ee=E[A+3-32],Ne=E[A+4-32],Oe=E[A+5-32],De=E[A+6-32],Ue=E[A+7-32];E[A+0+0]=V+re+1>>1,E[A+1+0]=E[A+0+64]=re+_e+1>>1,E[A+2+0]=E[A+1+64]=_e+Ee+1>>1,E[A+3+0]=E[A+2+64]=Ee+Ne+1>>1,E[A+0+32]=sn(V,re,_e),E[A+1+32]=E[A+0+96]=sn(re,_e,Ee),E[A+2+32]=E[A+1+96]=sn(_e,Ee,Ne),E[A+3+32]=E[A+2+96]=sn(Ee,Ne,Oe),E[A+3+64]=sn(Ne,Oe,De),E[A+3+96]=sn(Oe,De,Ue)}function Qa(E,A){var V=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1+96];E[A+0+0]=V+re+1>>1,E[A+2+0]=E[A+0+32]=re+_e+1>>1,E[A+2+32]=E[A+0+64]=_e+Ee+1>>1,E[A+1+0]=sn(V,re,_e),E[A+3+0]=E[A+1+32]=sn(re,_e,Ee),E[A+3+32]=E[A+1+64]=sn(_e,Ee,Ee),E[A+3+64]=E[A+2+64]=E[A+0+96]=E[A+1+96]=E[A+2+96]=E[A+3+96]=Ee}function eo(E,A){var V=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1+96],Ne=E[A-1-32],Oe=E[A+0-32],De=E[A+1-32],Ue=E[A+2-32];E[A+0+0]=E[A+2+32]=V+Ne+1>>1,E[A+0+32]=E[A+2+64]=re+V+1>>1,E[A+0+64]=E[A+2+96]=_e+re+1>>1,E[A+0+96]=Ee+_e+1>>1,E[A+3+0]=sn(Oe,De,Ue),E[A+2+0]=sn(Ne,Oe,De),E[A+1+0]=E[A+3+32]=sn(V,Ne,Oe),E[A+1+32]=E[A+3+64]=sn(re,V,Ne),E[A+1+64]=E[A+3+96]=sn(_e,re,V),E[A+1+96]=sn(Ee,_e,re)}function Kr(E,A){var V;for(V=0;8>V;++V)r(E,A+32*V,E,A-32,8)}function to(E,A){var V;for(V=0;8>V;++V)i(E,A,E[A-1],8),A+=32}function si(E,A,V){var re;for(re=0;8>re;++re)i(A,V+32*re,E,8)}function os(E,A){var V,re=8;for(V=0;8>V;++V)re+=E[A+V-32]+E[A-1+32*V];si(re>>4,E,A)}function Bo(E,A){var V,re=4;for(V=0;8>V;++V)re+=E[A+V-32];si(re>>3,E,A)}function Do(E,A){var V,re=4;for(V=0;8>V;++V)re+=E[A-1+32*V];si(re>>3,E,A)}function $o(E,A){si(128,E,A)}function ka(E,A,V){var re=E[A-V],_e=E[A+0],Ee=3*(_e-re)+wo[1020+E[A-2*V]-E[A+V]],Ne=mi[112+(Ee+4>>3)];E[A-V]=zr[255+re+mi[112+(Ee+3>>3)]],E[A+0]=zr[255+_e-Ne]}function Fo(E,A,V,re){var _e=E[A+0],Ee=E[A+V];return Ia[255+E[A-2*V]-E[A-V]]>re||Ia[255+Ee-_e]>re}function Yn(E,A,V,re){return 4*Ia[255+E[A-V]-E[A+0]]+Ia[255+E[A-2*V]-E[A+V]]<=re}function _o(E,A,V,re,_e){var Ee=E[A-3*V],Ne=E[A-2*V],Oe=E[A-V],De=E[A+0],Ue=E[A+V],ot=E[A+2*V],Nt=E[A+3*V];return 4*Ia[255+Oe-De]+Ia[255+Ne-Ue]>re?0:Ia[255+E[A-4*V]-Ee]<=_e&&Ia[255+Ee-Ne]<=_e&&Ia[255+Ne-Oe]<=_e&&Ia[255+Nt-ot]<=_e&&Ia[255+ot-Ue]<=_e&&Ia[255+Ue-De]<=_e}function Kn(E,A,V,re){var _e=2*re+1;for(re=0;16>re;++re)Yn(E,A+re,V,_e)&&ka(E,A+re,V)}function hi(E,A,V,re){var _e=2*re+1;for(re=0;16>re;++re)Yn(E,A+re*V,1,_e)&&ka(E,A+re*V,1)}function ua(E,A,V,re){var _e;for(_e=3;0<_e;--_e)Kn(E,A+=4*V,V,re)}function bs(E,A,V,re){var _e;for(_e=3;0<_e;--_e)hi(E,A+=4,V,re)}function Bi(E,A,V,re,_e,Ee,Ne,Oe){for(Ee=2*Ee+1;0<_e--;){if(_o(E,A,V,Ee,Ne))if(Fo(E,A,V,Oe))ka(E,A,V);else{var De=E,Ue=A,ot=V,Nt=De[Ue-2*ot],Ge=De[Ue-ot],ct=De[Ue+0],dt=De[Ue+ot],Bt=De[Ue+2*ot],Lt=27*(Vt=wo[1020+3*(ct-Ge)+wo[1020+Nt-dt]])+63>>7,Ht=18*Vt+63>>7,Vt=9*Vt+63>>7;De[Ue-3*ot]=zr[255+De[Ue-3*ot]+Vt],De[Ue-2*ot]=zr[255+Nt+Ht],De[Ue-ot]=zr[255+Ge+Lt],De[Ue+0]=zr[255+ct-Lt],De[Ue+ot]=zr[255+dt-Ht],De[Ue+2*ot]=zr[255+Bt-Vt]}A+=re}}function no(E,A,V,re,_e,Ee,Ne,Oe){for(Ee=2*Ee+1;0<_e--;){if(_o(E,A,V,Ee,Ne))if(Fo(E,A,V,Oe))ka(E,A,V);else{var De=E,Ue=A,ot=V,Nt=De[Ue-ot],Ge=De[Ue+0],ct=De[Ue+ot],dt=mi[112+(4+(Bt=3*(Ge-Nt))>>3)],Bt=mi[112+(Bt+3>>3)],Lt=dt+1>>1;De[Ue-2*ot]=zr[255+De[Ue-2*ot]+Lt],De[Ue-ot]=zr[255+Nt+Bt],De[Ue+0]=zr[255+Ge-dt],De[Ue+ot]=zr[255+ct-Lt]}A+=re}}function La(E,A,V,re,_e,Ee){Bi(E,A,V,1,16,re,_e,Ee)}function ro(E,A,V,re,_e,Ee){Bi(E,A,1,V,16,re,_e,Ee)}function ca(E,A,V,re,_e,Ee){var Ne;for(Ne=3;0<Ne;--Ne)no(E,A+=4*V,V,1,16,re,_e,Ee)}function j(E,A,V,re,_e,Ee){var Ne;for(Ne=3;0<Ne;--Ne)no(E,A+=4,1,V,16,re,_e,Ee)}function ye(E,A,V,re,_e,Ee,Ne,Oe){Bi(E,A,_e,1,8,Ee,Ne,Oe),Bi(V,re,_e,1,8,Ee,Ne,Oe)}function ze(E,A,V,re,_e,Ee,Ne,Oe){Bi(E,A,1,_e,8,Ee,Ne,Oe),Bi(V,re,1,_e,8,Ee,Ne,Oe)}function et(E,A,V,re,_e,Ee,Ne,Oe){no(E,A+4*_e,_e,1,8,Ee,Ne,Oe),no(V,re+4*_e,_e,1,8,Ee,Ne,Oe)}function pt(E,A,V,re,_e,Ee,Ne,Oe){no(E,A+4,1,_e,8,Ee,Ne,Oe),no(V,re+4,1,_e,8,Ee,Ne,Oe)}function $t(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Cn(){this.ua=0,this.Wa=new kt,this.vb=new kt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new X}function Tn(){this.xb=this.a=0,this.l=new xr,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ce,this.Pb=0,this.wd=new ce,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Cn,this.ab=0,this.gc=h(4,Mn),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(E,A,V,re,_e,Ee,Ne){for(E=E==null?0:E[A+0],A=0;A<Ne;++A)_e[Ee+A]=E+V[re+A]&255,E=_e[Ee+A]}function li(E,A,V,re,_e,Ee,Ne){var Oe;if(E==null)Sr(null,null,V,re,_e,Ee,Ne);else for(Oe=0;Oe<Ne;++Oe)_e[Ee+Oe]=E[A+Oe]+V[re+Oe]&255}function vr(E,A,V,re,_e,Ee,Ne){if(E==null)Sr(null,null,V,re,_e,Ee,Ne);else{var Oe,De=E[A+0],Ue=De,ot=De;for(Oe=0;Oe<Ne;++Oe)Ue=ot+(De=E[A+Oe])-Ue,ot=V[re+Oe]+(-256&Ue?0>Ue?0:255:Ue)&255,Ue=De,_e[Ee+Oe]=ot}}function ar(E,A,V,re){var _e=A.width,Ee=A.o;if(t(E!=null&&A!=null),0>V||0>=re||V+re>Ee)return null;if(!E.Cc){if(E.ga==null){var Ne;if(E.ga=new ir,(Ne=E.ga==null)||(Ne=A.width*A.o,t(E.Gb.length==0),E.Gb=l(Ne),E.Uc=0,E.Gb==null?Ne=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,Ne=1),Ne=!Ne),!Ne){Ne=E.ga;var Oe=E.Fa,De=E.P,Ue=E.qc,ot=E.mb,Nt=E.nb,Ge=De+1,ct=Ue-1,dt=Ne.l;if(t(Oe!=null&&ot!=null&&A!=null),ni[0]=null,ni[1]=Sr,ni[2]=li,ni[3]=vr,Ne.ca=ot,Ne.tb=Nt,Ne.c=A.width,Ne.i=A.height,t(0<Ne.c&&0<Ne.i),1>=Ue)A=0;else if(Ne.$a=3&Oe[De+0],Ne.Z=Oe[De+0]>>2&3,Ne.Lc=Oe[De+0]>>4&3,De=Oe[De+0]>>6&3,0>Ne.$a||1<Ne.$a||4<=Ne.Z||1<Ne.Lc||De)A=0;else if(dt.put=mn,dt.ac=dr,dt.bc=br,dt.ma=Ne,dt.width=A.width,dt.height=A.height,dt.Da=A.Da,dt.v=A.v,dt.va=A.va,dt.j=A.j,dt.o=A.o,Ne.$a)e:{t(Ne.$a==1),A=wr();t:for(;;){if(A==null){A=0;break e}if(t(Ne!=null),Ne.mc=A,A.c=Ne.c,A.i=Ne.i,A.l=Ne.l,A.l.ma=Ne,A.l.width=Ne.c,A.l.height=Ne.i,A.a=0,be(A.m,Oe,Ge,ct),!Nr(Ne.c,Ne.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&Gn(A.s)?(Ne.ic=1,Oe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=l(Oe),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(Ne.ic=0,A=Si(A,Ne.c)),!A))break t;A=1;break e}Ne.mc=null,A=0}else A=ct>=Ne.c*Ne.i;Ne=!A}if(Ne)return null;E.ga.Lc!=1?E.Ga=0:re=Ee-V}t(E.ga!=null),t(V+re<=Ee);e:{if(A=(Oe=E.ga).c,Ee=Oe.l.o,Oe.$a==0){if(Ge=E.rc,ct=E.Vc,dt=E.Fa,De=E.P+1+V*A,Ue=E.mb,ot=E.nb+V*A,t(De<=E.P+E.qc),Oe.Z!=0)for(t(ni[Oe.Z]!=null),Ne=0;Ne<re;++Ne)ni[Oe.Z](Ge,ct,dt,De,Ue,ot,A),Ge=Ue,ct=ot,ot+=A,De+=A;else for(Ne=0;Ne<re;++Ne)r(Ue,ot,dt,De,A),Ge=Ue,ct=ot,ot+=A,De+=A;E.rc=Ge,E.Vc=ct}else{if(t(Oe.mc!=null),A=V+re,t((Ne=Oe.mc)!=null),t(A<=Ne.i),Ne.C>=A)A=1;else if(Oe.ic||Er(),Oe.ic){Oe=Ne.V,Ge=Ne.Ba,ct=Ne.c;var Bt=Ne.i,Lt=(dt=1,De=Ne.$/ct,Ue=Ne.$%ct,ot=Ne.m,Nt=Ne.s,Ne.$),Ht=ct*Bt,Vt=ct*A,on=Nt.wc,rn=Lt<Vt?Pr(Nt,Ue,De):null;t(Lt<=Ht),t(A<=Bt),t(Gn(Nt));t:for(;;){for(;!ot.h&&Lt<Vt;){if(Ue&on||(rn=Pr(Nt,Ue,De)),t(rn!=null),Be(ot),256>(Bt=zn(rn.G[0],rn.H[0],ot)))Oe[Ge+Lt]=Bt,++Lt,++Ue>=ct&&(Ue=0,++De<=A&&!(De%16)&&nr(Ne,De));else{if(!(280>Bt)){dt=0;break t}Bt=ur(Bt-256,ot);var Hn,u=zn(rn.G[4],rn.H[4],ot);if(Be(ot),!(Lt>=(u=Tr(ct,u=ur(u,ot)))&&Ht-Lt>=Bt)){dt=0;break t}for(Hn=0;Hn<Bt;++Hn)Oe[Ge+Lt+Hn]=Oe[Ge+Lt+Hn-u];for(Lt+=Bt,Ue+=Bt;Ue>=ct;)Ue-=ct,++De<=A&&!(De%16)&&nr(Ne,De);Lt<Vt&&Ue&on&&(rn=Pr(Nt,Ue,De))}t(ot.h==we(ot))}nr(Ne,De>A?A:De);break t}!dt||ot.h&&Lt<Ht?(dt=0,Ne.a=ot.h?5:3):Ne.$=Lt,A=dt}else A=sr(Ne,Ne.V,Ne.Ba,Ne.c,Ne.i,A,yi);if(!A){re=0;break e}}V+re>=Ee&&(E.Cc=1),re=1}if(!re)return null;if(E.Cc&&((re=E.ga)!=null&&(re.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+V*_e}function di(E,A,V,re,_e,Ee){for(;0<_e--;){var Ne,Oe=E,De=A+(V?1:0),Ue=E,ot=A+(V?0:3);for(Ne=0;Ne<re;++Ne){var Nt=Ue[ot+4*Ne];Nt!=255&&(Nt*=32897,Oe[De+4*Ne+0]=Oe[De+4*Ne+0]*Nt>>23,Oe[De+4*Ne+1]=Oe[De+4*Ne+1]*Nt>>23,Oe[De+4*Ne+2]=Oe[De+4*Ne+2]*Nt>>23)}A+=Ee}}function Zr(E,A,V,re,_e){for(;0<re--;){var Ee;for(Ee=0;Ee<V;++Ee){var Ne=E[A+2*Ee+0],Oe=15&(Ue=E[A+2*Ee+1]),De=4369*Oe,Ue=(240&Ue|Ue>>4)*De>>16;E[A+2*Ee+0]=(240&Ne|Ne>>4)*De>>16&240|(15&Ne|Ne<<4)*De>>16>>4&15,E[A+2*Ee+1]=240&Ue|Oe}A+=_e}}function Ir(E,A,V,re,_e,Ee,Ne,Oe){var De,Ue,ot=255;for(Ue=0;Ue<_e;++Ue){for(De=0;De<re;++De){var Nt=E[A+De];Ee[Ne+4*De]=Nt,ot&=Nt}A+=V,Ne+=Oe}return ot!=255}function Di(E,A,V,re,_e){var Ee;for(Ee=0;Ee<_e;++Ee)V[re+Ee]=E[A+Ee]>>8}function Er(){ti=di,ki=Zr,Wa=Ir,Qo=Di}function ha(E,A,V){H[E]=function(re,_e,Ee,Ne,Oe,De,Ue,ot,Nt,Ge,ct,dt,Bt,Lt,Ht,Vt,on){var rn,Hn=on-1>>1,u=Oe[De+0]|Ue[ot+0]<<16,p=Nt[Ge+0]|ct[dt+0]<<16;t(re!=null);var _=3*u+p+131074>>2;for(A(re[_e+0],255&_,_>>16,Bt,Lt),Ee!=null&&(_=3*p+u+131074>>2,A(Ee[Ne+0],255&_,_>>16,Ht,Vt)),rn=1;rn<=Hn;++rn){var S=Oe[De+rn]|Ue[ot+rn]<<16,P=Nt[Ge+rn]|ct[dt+rn]<<16,F=u+S+p+P+524296,K=F+2*(S+p)>>3;_=K+u>>1,u=(F=F+2*(u+P)>>3)+S>>1,A(re[_e+2*rn-1],255&_,_>>16,Bt,Lt+(2*rn-1)*V),A(re[_e+2*rn-0],255&u,u>>16,Bt,Lt+(2*rn-0)*V),Ee!=null&&(_=F+p>>1,u=K+P>>1,A(Ee[Ne+2*rn-1],255&_,_>>16,Ht,Vt+(2*rn-1)*V),A(Ee[Ne+2*rn+0],255&u,u>>16,Ht,Vt+(2*rn+0)*V)),u=S,p=P}1&on||(_=3*u+p+131074>>2,A(re[_e+on-1],255&_,_>>16,Bt,Lt+(on-1)*V),Ee!=null&&(_=3*p+u+131074>>2,A(Ee[Ne+on-1],255&_,_>>16,Ht,Vt+(on-1)*V)))}}function bo(){aa[Oa]=Tu,aa[tr]=ql,aa[As]=No,aa[us]=cs,aa[lo]=Vs,aa[Li]=Ul,aa[hl]=yc,aa[ga]=ql,aa[ma]=cs,aa[ko]=Vs,aa[s]=Ul}function bi(E){return E&-16384?0>E?0:255:E>>sd}function xi(E,A){return bi((19077*E>>8)+(26149*A>>8)-14234)}function io(E,A,V){return bi((19077*E>>8)-(6419*A>>8)-(13320*V>>8)+8708)}function Na(E,A){return bi((19077*E>>8)+(33050*A>>8)-17685)}function ao(E,A,V,re,_e){re[_e+0]=xi(E,V),re[_e+1]=io(E,A,V),re[_e+2]=Na(E,A)}function qr(E,A,V,re,_e){re[_e+0]=Na(E,A),re[_e+1]=io(E,A,V),re[_e+2]=xi(E,V)}function Ui(E,A,V,re,_e){var Ee=io(E,A,V);A=Ee<<3&224|Na(E,A)>>3,re[_e+0]=248&xi(E,V)|Ee>>5,re[_e+1]=A}function oo(E,A,V,re,_e){var Ee=240&Na(E,A)|15;re[_e+0]=240&xi(E,V)|io(E,A,V)>>4,re[_e+1]=Ee}function jo(E,A,V,re,_e){re[_e+0]=255,ao(E,A,V,re,_e+1)}function zo(E,A,V,re,_e){qr(E,A,V,re,_e),re[_e+3]=255}function jr(E,A,V,re,_e){ao(E,A,V,re,_e),re[_e+3]=255}function ra(E,A,V){H[E]=function(re,_e,Ee,Ne,Oe,De,Ue,ot,Nt){for(var Ge=ot+(-2&Nt)*V;ot!=Ge;)A(re[_e+0],Ee[Ne+0],Oe[De+0],Ue,ot),A(re[_e+1],Ee[Ne+0],Oe[De+0],Ue,ot+V),_e+=2,++Ne,++De,ot+=2*V;1&Nt&&A(re[_e+0],Ee[Ne+0],Oe[De+0],Ue,ot)}}function Ho(E,A,V){return V==0?E==0?A==0?6:5:A==0?4:0:V}function ia(E,A,V,re,_e){switch(E>>>30){case 3:o(A,V,re,_e,0);break;case 2:d(A,V,re,_e);break;case 1:B(A,V,re,_e)}}function da(E,A){var V,re,_e=A.M,Ee=A.Nb,Ne=E.oc,Oe=E.pc+40,De=E.oc,Ue=E.pc+584,ot=E.oc,Nt=E.pc+600;for(V=0;16>V;++V)Ne[Oe+32*V-1]=129;for(V=0;8>V;++V)De[Ue+32*V-1]=129,ot[Nt+32*V-1]=129;for(0<_e?Ne[Oe-1-32]=De[Ue-1-32]=ot[Nt-1-32]=129:(i(Ne,Oe-32-1,127,21),i(De,Ue-32-1,127,9),i(ot,Nt-32-1,127,9)),re=0;re<E.za;++re){var Ge=A.ya[A.aa+re];if(0<re){for(V=-1;16>V;++V)r(Ne,Oe+32*V-4,Ne,Oe+32*V+12,4);for(V=-1;8>V;++V)r(De,Ue+32*V-4,De,Ue+32*V+4,4),r(ot,Nt+32*V-4,ot,Nt+32*V+4,4)}var ct=E.Gd,dt=E.Hd+re,Bt=Ge.ad,Lt=Ge.Hc;if(0<_e&&(r(Ne,Oe-32,ct[dt].y,0,16),r(De,Ue-32,ct[dt].f,0,8),r(ot,Nt-32,ct[dt].ea,0,8)),Ge.Za){var Ht=Ne,Vt=Oe-32+16;for(0<_e&&(re>=E.za-1?i(Ht,Vt,ct[dt].y[15],4):r(Ht,Vt,ct[dt+1].y,0,4)),V=0;4>V;V++)Ht[Vt+128+V]=Ht[Vt+256+V]=Ht[Vt+384+V]=Ht[Vt+0+V];for(V=0;16>V;++V,Lt<<=2)Ht=Ne,Vt=Oe+bc[V],uo[Ge.Ob[V]](Ht,Vt),ia(Lt,Bt,16*+V,Ht,Vt)}else if(Ht=Ho(re,_e,Ge.Ob[0]),Co[Ht](Ne,Oe),Lt!=0)for(V=0;16>V;++V,Lt<<=2)ia(Lt,Bt,16*+V,Ne,Oe+bc[V]);for(V=Ge.Gc,Ht=Ho(re,_e,Ge.Dd),Za[Ht](De,Ue),Za[Ht](ot,Nt),Lt=Bt,Ht=De,Vt=Ue,255&(Ge=0|V)&&(170&Ge?C(Lt,256,Ht,Vt):W(Lt,256,Ht,Vt)),Ge=ot,Lt=Nt,255&(V>>=8)&&(170&V?C(Bt,320,Ge,Lt):W(Bt,320,Ge,Lt)),_e<E.Ub-1&&(r(ct[dt].y,0,Ne,Oe+480,16),r(ct[dt].f,0,De,Ue+224,8),r(ct[dt].ea,0,ot,Nt+224,8)),V=8*Ee*E.B,ct=E.sa,dt=E.ta+16*re+16*Ee*E.R,Bt=E.qa,Ge=E.ra+8*re+V,Lt=E.Ha,Ht=E.Ia+8*re+V,V=0;16>V;++V)r(ct,dt+V*E.R,Ne,Oe+32*V,16);for(V=0;8>V;++V)r(Bt,Ge+V*E.B,De,Ue+32*V,8),r(Lt,Ht+V*E.B,ot,Nt+32*V,8)}}function Ma(E,A,V,re,_e,Ee,Ne,Oe,De){var Ue=[0],ot=[0],Nt=0,Ge=De!=null?De.kd:0,ct=De??new Qt;if(E==null||12>V)return 7;ct.data=E,ct.w=A,ct.ha=V,A=[A],V=[V],ct.gb=[ct.gb];e:{var dt=A,Bt=V,Lt=ct.gb;if(t(E!=null),t(Bt!=null),t(Lt!=null),Lt[0]=0,12<=Bt[0]&&!n(E,dt[0],"RIFF")){if(n(E,dt[0]+8,"WEBP")){Lt=3;break e}var Ht=ft(E,dt[0]+4);if(12>Ht||4294967286<Ht){Lt=3;break e}if(Ge&&Ht>Bt[0]-8){Lt=7;break e}Lt[0]=Ht,dt[0]+=12,Bt[0]-=12}Lt=0}if(Lt!=0)return Lt;for(Ht=0<ct.gb[0],V=V[0];;){e:{var Vt=E;Bt=A,Lt=V;var on=Ue,rn=ot,Hn=dt=[0];if((_=Nt=[Nt])[0]=0,8>Lt[0])Lt=7;else{if(!n(Vt,Bt[0],"VP8X")){if(ft(Vt,Bt[0]+4)!=10){Lt=3;break e}if(18>Lt[0]){Lt=7;break e}var u=ft(Vt,Bt[0]+8),p=1+it(Vt,Bt[0]+12);if(2147483648<=p*(Vt=1+it(Vt,Bt[0]+15))){Lt=3;break e}Hn!=null&&(Hn[0]=u),on!=null&&(on[0]=p),rn!=null&&(rn[0]=Vt),Bt[0]+=18,Lt[0]-=18,_[0]=1}Lt=0}}if(Nt=Nt[0],dt=dt[0],Lt!=0)return Lt;if(Bt=!!(2&dt),!Ht&&Nt)return 3;if(Ee!=null&&(Ee[0]=!!(16&dt)),Ne!=null&&(Ne[0]=Bt),Oe!=null&&(Oe[0]=0),Ne=Ue[0],dt=ot[0],Nt&&Bt&&De==null){Lt=0;break}if(4>V){Lt=7;break}if(Ht&&Nt||!Ht&&!Nt&&!n(E,A[0],"ALPH")){V=[V],ct.na=[ct.na],ct.P=[ct.P],ct.Sa=[ct.Sa];e:{u=E,Lt=A,Ht=V;var _=ct.gb;on=ct.na,rn=ct.P,Hn=ct.Sa,p=22,t(u!=null),t(Ht!=null),Vt=Lt[0];var S=Ht[0];for(t(on!=null),t(Hn!=null),on[0]=null,rn[0]=null,Hn[0]=0;;){if(Lt[0]=Vt,Ht[0]=S,8>S){Lt=7;break e}var P=ft(u,Vt+4);if(4294967286<P){Lt=3;break e}var F=8+P+1&-2;if(p+=F,0<_&&p>_){Lt=3;break e}if(!n(u,Vt,"VP8 ")||!n(u,Vt,"VP8L")){Lt=0;break e}if(S[0]<F){Lt=7;break e}n(u,Vt,"ALPH")||(on[0]=u,rn[0]=Vt+8,Hn[0]=P),Vt+=F,S-=F}}if(V=V[0],ct.na=ct.na[0],ct.P=ct.P[0],ct.Sa=ct.Sa[0],Lt!=0)break}V=[V],ct.Ja=[ct.Ja],ct.xa=[ct.xa];e:if(_=E,Lt=A,Ht=V,on=ct.gb[0],rn=ct.Ja,Hn=ct.xa,u=Lt[0],Vt=!n(_,u,"VP8 "),p=!n(_,u,"VP8L"),t(_!=null),t(Ht!=null),t(rn!=null),t(Hn!=null),8>Ht[0])Lt=7;else{if(Vt||p){if(_=ft(_,u+4),12<=on&&_>on-12){Lt=3;break e}if(Ge&&_>Ht[0]-8){Lt=7;break e}rn[0]=_,Lt[0]+=8,Ht[0]-=8,Hn[0]=p}else Hn[0]=5<=Ht[0]&&_[u+0]==47&&!(_[u+4]>>5),rn[0]=Ht[0];Lt=0}if(V=V[0],ct.Ja=ct.Ja[0],ct.xa=ct.xa[0],A=A[0],Lt!=0)break;if(4294967286<ct.Ja)return 3;if(Oe==null||Bt||(Oe[0]=ct.xa?2:1),Ne=[Ne],dt=[dt],ct.xa){if(5>V){Lt=7;break}Oe=Ne,Ge=dt,Bt=Ee,E==null||5>V?E=0:5<=V&&E[A+0]==47&&!(E[A+4]>>5)?(Ht=[0],_=[0],on=[0],be(rn=new ce,E,A,V),Un(rn,Ht,_,on)?(Oe!=null&&(Oe[0]=Ht[0]),Ge!=null&&(Ge[0]=_[0]),Bt!=null&&(Bt[0]=on[0]),E=1):E=0):E=0}else{if(10>V){Lt=7;break}Oe=dt,E==null||10>V||!la(E,A+3,V-3)?E=0:(Ge=E[A+0]|E[A+1]<<8|E[A+2]<<16,Bt=16383&(E[A+7]<<8|E[A+6]),E=16383&(E[A+9]<<8|E[A+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=ct.Ja||!Bt||!E?E=0:(Ne&&(Ne[0]=Bt),Oe&&(Oe[0]=E),E=1))}if(!E||(Ne=Ne[0],dt=dt[0],Nt&&(Ue[0]!=Ne||ot[0]!=dt)))return 3;De!=null&&(De[0]=ct,De.offset=A-De.w,t(4294967286>A-De.w),t(De.offset==De.ha-V));break}return Lt==0||Lt==7&&Nt&&De==null?(Ee!=null&&(Ee[0]|=ct.na!=null&&0<ct.na.length),re!=null&&(re[0]=Ne),_e!=null&&(_e[0]=dt),0):Lt}function ss(E,A,V){var re=A.width,_e=A.height,Ee=0,Ne=0,Oe=re,De=_e;if(A.Da=E!=null&&0<E.Da,A.Da&&(Oe=E.cd,De=E.bd,Ee=E.v,Ne=E.j,11>V||(Ee&=-2,Ne&=-2),0>Ee||0>Ne||0>=Oe||0>=De||Ee+Oe>re||Ne+De>_e))return 0;if(A.v=Ee,A.j=Ne,A.va=Ee+Oe,A.o=Ne+De,A.U=Oe,A.T=De,A.da=E!=null&&0<E.da,A.da){if(!At(Oe,De,V=[E.ib],Ee=[E.hb]))return 0;A.ib=V[0],A.hb=Ee[0]}return A.ob=E!=null&&E.ob,A.Kb=E==null||!E.Sd,A.da&&(A.ob=A.ib<3*re/4&&A.hb<3*_e/4,A.Kb=0),1}function xo(E){if(E==null)return 2;if(11>E.S){var A=E.f.RGBA;A.fb+=(E.height-1)*A.A,A.A=-A.A}else A=E.f.kb,E=E.height,A.O+=(E-1)*A.fa,A.fa=-A.fa,A.N+=(E-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(E-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(E-1)*A.lb,A.lb=-A.lb);return 0}function Ha(E,A,V,re){if(re==null||0>=E||0>=A)return 2;if(V!=null){if(V.Da){var _e=V.cd,Ee=V.bd,Ne=-2&V.v,Oe=-2&V.j;if(0>Ne||0>Oe||0>=_e||0>=Ee||Ne+_e>E||Oe+Ee>A)return 2;E=_e,A=Ee}if(V.da){if(!At(E,A,_e=[V.ib],Ee=[V.hb]))return 2;E=_e[0],A=Ee[0]}}re.width=E,re.height=A;e:{var De=re.width,Ue=re.height;if(E=re.S,0>=De||0>=Ue||!(E>=Oa&&13>E))E=2;else{if(0>=re.Rd&&re.sd==null){Ne=Ee=_e=A=0;var ot=(Oe=De*Cc[E])*Ue;if(11>E||(Ee=(Ue+1)/2*(A=(De+1)/2),E==12&&(Ne=(_e=De)*Ue)),(Ue=l(ot+2*Ee+Ne))==null){E=1;break e}re.sd=Ue,11>E?((De=re.f.RGBA).eb=Ue,De.fb=0,De.A=Oe,De.size=ot):((De=re.f.kb).y=Ue,De.O=0,De.fa=Oe,De.Fd=ot,De.f=Ue,De.N=0+ot,De.Ab=A,De.Cd=Ee,De.ea=Ue,De.W=0+ot+Ee,De.Db=A,De.Ed=Ee,E==12&&(De.F=Ue,De.J=0+ot+2*Ee),De.Tc=Ne,De.lb=_e)}if(A=1,_e=re.S,Ee=re.width,Ne=re.height,_e>=Oa&&13>_e)if(11>_e)E=re.f.RGBA,A&=(Oe=Math.abs(E.A))*(Ne-1)+Ee<=E.size,A&=Oe>=Ee*Cc[_e],A&=E.eb!=null;else{E=re.f.kb,Oe=(Ee+1)/2,ot=(Ne+1)/2,De=Math.abs(E.fa),Ue=Math.abs(E.Ab);var Nt=Math.abs(E.Db),Ge=Math.abs(E.lb),ct=Ge*(Ne-1)+Ee;A&=De*(Ne-1)+Ee<=E.Fd,A&=Ue*(ot-1)+Oe<=E.Cd,A=(A&=Nt*(ot-1)+Oe<=E.Ed)&De>=Ee&Ue>=Oe&Nt>=Oe,A&=E.y!=null,A&=E.f!=null,A&=E.ea!=null,_e==12&&(A&=Ge>=Ee,A&=ct<=E.Tc,A&=E.F!=null)}else A=0;E=A?0:2}}return E!=0||V!=null&&V.fd&&(E=xo(re)),E}var so=64,fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gi=24,Oi=32,qa=8,Ua=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(E){return E},H.Predictor2=function(E,A,V){return A[V+0]},H.Predictor3=function(E,A,V){return A[V+1]},H.Predictor4=function(E,A,V){return A[V-1]},H.Predictor5=function(E,A,V){return wt(wt(E,A[V+1]),A[V+0])},H.Predictor6=function(E,A,V){return wt(E,A[V-1])},H.Predictor7=function(E,A,V){return wt(E,A[V+0])},H.Predictor8=function(E,A,V){return wt(A[V-1],A[V+0])},H.Predictor9=function(E,A,V){return wt(A[V+0],A[V+1])},H.Predictor10=function(E,A,V){return wt(wt(E,A[V-1]),wt(A[V+0],A[V+1]))},H.Predictor11=function(E,A,V){var re=A[V+0];return 0>=nn(re>>24&255,E>>24&255,(A=A[V-1])>>24&255)+nn(re>>16&255,E>>16&255,A>>16&255)+nn(re>>8&255,E>>8&255,A>>8&255)+nn(255&re,255&E,255&A)?re:E},H.Predictor12=function(E,A,V){var re=A[V+0];return(Et((E>>24&255)+(re>>24&255)-((A=A[V-1])>>24&255))<<24|Et((E>>16&255)+(re>>16&255)-(A>>16&255))<<16|Et((E>>8&255)+(re>>8&255)-(A>>8&255))<<8|Et((255&E)+(255&re)-(255&A)))>>>0},H.Predictor13=function(E,A,V){var re=A[V-1];return(Xt((E=wt(E,A[V+0]))>>24&255,re>>24&255)<<24|Xt(E>>16&255,re>>16&255)<<16|Xt(E>>8&255,re>>8&255)<<8|Xt(255&E,255&re))>>>0};var Ga=H.PredictorAdd0;H.PredictorAdd1=dn,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Yi=H.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var ui,Va=H.ColorIndexInverseTransform,Ji=H.MapARGB,Ei=H.VP8LColorIndexInverseTransformAlpha,So=H.MapAlpha,Jo=H.VP8LPredictorsAdd=[];Jo.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var pa,Eo,Pa,fi,pi,f,a,o,d,C,B,W,se,xe,$e,st,_t,Yt,pn,Pn,$n,Mr,hr,Ur,ti,ki,Wa,Qo,Ka=l(511),ls=l(2041),es=l(225),qo=l(767),Os=0,wo=ls,mi=es,zr=qo,Ia=Ka,Oa=0,tr=1,As=2,us=3,lo=4,Li=5,hl=6,ga=7,ma=8,ko=9,s=10,m=[2,3,7],M=[3,3,11],z=[280,256,256,256,40],ie=[0,1,1,1,0],Ce=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ye=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],It=8,en=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_n=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vn=null,kr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],va=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$i=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Aa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dl=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Co=[],uo=[],Za=[],Au=1,fl=2,ni=[],aa=[];ha("UpsampleRgbLinePair",ao,3),ha("UpsampleBgrLinePair",qr,3),ha("UpsampleRgbaLinePair",jr,4),ha("UpsampleBgraLinePair",zo,4),ha("UpsampleArgbLinePair",jo,4),ha("UpsampleRgba4444LinePair",oo,2),ha("UpsampleRgb565LinePair",Ui,2);var Tu=H.UpsampleRgbLinePair,No=H.UpsampleBgrLinePair,ql=H.UpsampleRgbaLinePair,cs=H.UpsampleBgraLinePair,Vs=H.UpsampleArgbLinePair,Ul=H.UpsampleRgba4444LinePair,yc=H.UpsampleRgb565LinePair,Gl=16,pl=1<<Gl-1,gl=-227,Ru=482,sd=6,Ws=0,Vl=l(256),ld=l(256),ud=l(256),Wl=l(256),Kl=l(Ru-gl),_c=l(Ru-gl);ra("YuvToRgbRow",ao,3),ra("YuvToBgrRow",qr,3),ra("YuvToRgbaRow",jr,4),ra("YuvToBgraRow",zo,4),ra("YuvToArgbRow",jo,4),ra("YuvToRgba4444Row",oo,2),ra("YuvToRgb565Row",Ui,2);var bc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zl=[0,2,8],xc=[8,7,6,4,4,2,2,2,1,1,1,1],wc=1;this.WebPDecodeRGBA=function(E,A,V,re,_e){var Ee=tr,Ne=new $t,Oe=new Rt;Ne.ba=Oe,Oe.S=Ee,Oe.width=[Oe.width],Oe.height=[Oe.height];var De=Oe.width,Ue=Oe.height,ot=new Gt;if(ot==null||E==null)var Nt=2;else t(ot!=null),Nt=Ma(E,A,V,ot.width,ot.height,ot.Pd,ot.Qd,ot.format,null);if(Nt!=0?De=0:(De!=null&&(De[0]=ot.width[0]),Ue!=null&&(Ue[0]=ot.height[0]),De=1),De){Oe.width=Oe.width[0],Oe.height=Oe.height[0],re!=null&&(re[0]=Oe.width),_e!=null&&(_e[0]=Oe.height);e:{if(re=new xr,(_e=new Qt).data=E,_e.w=A,_e.ha=V,_e.kd=1,A=[0],t(_e!=null),((E=Ma(_e.data,_e.w,_e.ha,null,null,null,A,null,_e))==0||E==7)&&A[0]&&(E=4),(A=E)==0){if(t(Ne!=null),re.data=_e.data,re.w=_e.w+_e.offset,re.ha=_e.ha-_e.offset,re.put=mn,re.ac=dr,re.bc=br,re.ma=Ne,_e.xa){if((E=wr())==null){Ne=1;break e}if((function(Ge,ct){var dt=[0],Bt=[0],Lt=[0];t:for(;;){if(Ge==null)return 0;if(ct==null)return Ge.a=2,0;if(Ge.l=ct,Ge.a=0,be(Ge.m,ct.data,ct.w,ct.ha),!Un(Ge.m,dt,Bt,Lt)){Ge.a=3;break t}if(Ge.xb=fl,ct.width=dt[0],ct.height=Bt[0],!Nr(dt[0],Bt[0],1,Ge,null))break t;return 1}return t(Ge.a!=0),0})(E,re)){if(re=(A=Ha(re.width,re.height,Ne.Oa,Ne.ba))==0){t:{re=E;n:for(;;){if(re==null){re=0;break t}if(t(re.s.yc!=null),t(re.s.Ya!=null),t(0<re.s.Wb),t((V=re.l)!=null),t((_e=V.ma)!=null),re.xb!=0){if(re.ca=_e.ba,re.tb=_e.tb,t(re.ca!=null),!ss(_e.Oa,V,us)){re.a=2;break n}if(!Si(re,V.width)||V.da)break n;if((V.da||an(re.ca.S))&&Er(),11>re.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),re.ca.f.kb.F!=null&&Er()),re.Pb&&0<re.s.ua&&re.s.vb.X==null&&!fe(re.s.vb,re.s.Wa.Xa)){re.a=1;break n}re.xb=0}if(!sr(re,re.V,re.Ba,re.c,re.i,V.o,Nn))break n;_e.Dc=re.Ma,re=1;break t}t(re.a!=0),re=0}re=!re}re&&(A=E.a)}else A=E.a}else{if((E=new xa)==null){Ne=1;break e}if(E.Fa=_e.na,E.P=_e.P,E.qc=_e.Sa,qi(E,re)){if((A=Ha(re.width,re.height,Ne.Oa,Ne.ba))==0){if(E.Aa=0,V=Ne.Oa,t((_e=E)!=null),V!=null){if(0<(De=0>(De=V.Md)?0:100<De?255:255*De/100)){for(Ue=ot=0;4>Ue;++Ue)12>(Nt=_e.pb[Ue]).lc&&(Nt.ia=De*xc[0>Nt.lc?0:Nt.lc]>>3),ot|=Nt.ia;ot&&(alert("todo:VP8InitRandom"),_e.ia=1)}_e.Ga=V.Id,100<_e.Ga?_e.Ga=100:0>_e.Ga&&(_e.Ga=0)}(function(Ge,ct){if(Ge==null)return 0;if(ct==null)return Vr(Ge,2,"NULL VP8Io parameter in VP8Decode().");if(!Ge.cb&&!qi(Ge,ct))return 0;if(t(Ge.cb),ct.ac==null||ct.ac(ct)){ct.ob&&(Ge.L=0);var dt=Zl[Ge.L];if(Ge.L==2?(Ge.yb=0,Ge.zb=0):(Ge.yb=ct.v-dt>>4,Ge.zb=ct.j-dt>>4,0>Ge.yb&&(Ge.yb=0),0>Ge.zb&&(Ge.zb=0)),Ge.Va=ct.o+15+dt>>4,Ge.Hb=ct.va+15+dt>>4,Ge.Hb>Ge.za&&(Ge.Hb=Ge.za),Ge.Va>Ge.Ub&&(Ge.Va=Ge.Ub),0<Ge.L){var Bt=Ge.ed;for(dt=0;4>dt;++dt){var Lt;if(Ge.Qa.Cb){var Ht=Ge.Qa.Lb[dt];Ge.Qa.Fb||(Ht+=Bt.Tb)}else Ht=Bt.Tb;for(Lt=0;1>=Lt;++Lt){var Vt=Ge.gd[dt][Lt],on=Ht;if(Bt.Pc&&(on+=Bt.vd[0],Lt&&(on+=Bt.od[0])),0<(on=0>on?0:63<on?63:on)){var rn=on;0<Bt.wb&&(rn=4<Bt.wb?rn>>2:rn>>1)>9-Bt.wb&&(rn=9-Bt.wb),1>rn&&(rn=1),Vt.dd=rn,Vt.tc=2*on+rn,Vt.ld=40<=on?2:15<=on?1:0}else Vt.tc=0;Vt.La=Lt}}}dt=0}else Vr(Ge,6,"Frame setup failed"),dt=Ge.a;if(dt=dt==0){if(dt){Ge.$c=0,0<Ge.Aa||(Ge.Ic=wc);t:{dt=Ge.Ic,Bt=4*(rn=Ge.za);var Hn=32*rn,u=rn+1,p=0<Ge.L?rn*(0<Ge.Aa?2:1):0,_=(Ge.Aa==2?2:1)*rn;if((Vt=Bt+832+(Lt=3*(16*dt+Zl[Ge.L])/2*Hn)+(Ht=Ge.Fa!=null&&0<Ge.Fa.length?Ge.Kc.c*Ge.Kc.i:0))!=Vt)dt=0;else{if(Vt>Ge.Vb){if(Ge.Vb=0,Ge.Ec=l(Vt),Ge.Fc=0,Ge.Ec==null){dt=Vr(Ge,1,"no memory during frame initialization.");break t}Ge.Vb=Vt}Vt=Ge.Ec,on=Ge.Fc,Ge.Ac=Vt,Ge.Bc=on,on+=Bt,Ge.Gd=h(Hn,Gr),Ge.Hd=0,Ge.rb=h(u+1,_i),Ge.sb=1,Ge.wa=p?h(p,gr):null,Ge.Y=0,Ge.D.Nb=0,Ge.D.wa=Ge.wa,Ge.D.Y=Ge.Y,0<Ge.Aa&&(Ge.D.Y+=rn),t(!0),Ge.oc=Vt,Ge.pc=on,on+=832,Ge.ya=h(_,kn),Ge.aa=0,Ge.D.ya=Ge.ya,Ge.D.aa=Ge.aa,Ge.Aa==2&&(Ge.D.aa+=rn),Ge.R=16*rn,Ge.B=8*rn,rn=(Hn=Zl[Ge.L])*Ge.R,Hn=Hn/2*Ge.B,Ge.sa=Vt,Ge.ta=on+rn,Ge.qa=Ge.sa,Ge.ra=Ge.ta+16*dt*Ge.R+Hn,Ge.Ha=Ge.qa,Ge.Ia=Ge.ra+8*dt*Ge.B+Hn,Ge.$c=0,on+=Lt,Ge.mb=Ht?Vt:null,Ge.nb=Ht?on:null,t(on+Ht<=Ge.Fc+Ge.Vb),Cr(Ge),i(Ge.Ac,Ge.Bc,0,Bt),dt=1}}if(dt){if(ct.ka=0,ct.y=Ge.sa,ct.O=Ge.ta,ct.f=Ge.qa,ct.N=Ge.ra,ct.ea=Ge.Ha,ct.Vd=Ge.Ia,ct.fa=Ge.R,ct.Rc=Ge.B,ct.F=null,ct.J=0,!Os){for(dt=-255;255>=dt;++dt)Ka[255+dt]=0>dt?-dt:dt;for(dt=-1020;1020>=dt;++dt)ls[1020+dt]=-128>dt?-128:127<dt?127:dt;for(dt=-112;112>=dt;++dt)es[112+dt]=-16>dt?-16:15<dt?15:dt;for(dt=-255;510>=dt;++dt)qo[255+dt]=0>dt?0:255<dt?255:dt;Os=1}a=Zi,o=Fa,C=Or,B=Wi,W=Ki,d=yo,se=La,xe=ro,$e=ye,st=ze,_t=ca,Yt=j,pn=et,Pn=pt,$n=Kn,Mr=hi,hr=ua,Ur=bs,uo[0]=Ro,uo[1]=ja,uo[2]=Sa,uo[3]=Fr,uo[4]=za,uo[5]=cr,uo[6]=Ea,uo[7]=Ii,uo[8]=eo,uo[9]=Qa,Co[0]=Xi,Co[1]=er,Co[2]=Wn,Co[3]=oi,Co[4]=Wr,Co[5]=ei,Co[6]=Ca,Za[0]=os,Za[1]=Qn,Za[2]=Kr,Za[3]=to,Za[4]=Do,Za[5]=Bo,Za[6]=$o,dt=1}else dt=0}dt&&(dt=(function(S,P){for(S.M=0;S.M<S.Va;++S.M){var F,K=S.Jc[S.M&S.Xb],Y=S.m,ge=S;for(F=0;F<ge.za;++F){var ve=Y,Ve=ge,je=Ve.Ac,vt=Ve.Bc+4*F,St=Ve.zc,qt=Ve.ya[Ve.aa+F];if(Ve.Qa.Bb?qt.$b=We(ve,Ve.Pa.jb[0])?2+We(ve,Ve.Pa.jb[2]):We(ve,Ve.Pa.jb[1]):qt.$b=0,Ve.kc&&(qt.Ad=We(ve,Ve.Bd)),qt.Za=!We(ve,145)+0,qt.Za){var un=qt.Ob,vn=0;for(Ve=0;4>Ve;++Ve){var Zn,He=St[0+Ve];for(Zn=0;4>Zn;++Zn){He=wi[je[vt+Zn]][He];for(var Ke=$i[We(ve,He[0])];0<Ke;)Ke=$i[2*Ke+We(ve,He[Ke])];He=-Ke,je[vt+Zn]=He}r(un,vn,je,vt,4),vn+=4,St[0+Ve]=He}}else He=We(ve,156)?We(ve,128)?1:3:We(ve,163)?2:0,qt.Ob[0]=He,i(je,vt,He,4),i(St,0,He,4);qt.Dd=We(ve,142)?We(ve,114)?We(ve,183)?1:3:2:0}if(ge.m.Ka)return Vr(S,7,"Premature end-of-partition0 encountered.");for(;S.ja<S.za;++S.ja){if(ge=K,ve=(Y=S).rb[Y.sb-1],je=Y.rb[Y.sb+Y.ja],F=Y.ya[Y.aa+Y.ja],vt=Y.kc?F.Ad:0)ve.la=je.la=0,F.Za||(ve.Na=je.Na=0),F.Hc=0,F.Gc=0,F.ia=0;else{var rt,yt;if(ve=je,je=ge,vt=Y.Pa.Xc,St=Y.ya[Y.aa+Y.ja],qt=Y.pb[St.$b],Ve=St.ad,un=0,vn=Y.rb[Y.sb-1],He=Zn=0,i(Ve,un,0,384),St.Za)var lt=0,Ct=vt[3];else{Ke=l(16);var pe=ve.Na+vn.Na;if(pe=Vn(je,vt[1],pe,qt.Eb,0,Ke,0),ve.Na=vn.Na=(0<pe)+0,1<pe)a(Ke,0,Ve,un);else{var Se=Ke[0]+3>>3;for(Ke=0;256>Ke;Ke+=16)Ve[un+Ke]=Se}lt=1,Ct=vt[0]}var Me=15&ve.la,Pe=15&vn.la;for(Ke=0;4>Ke;++Ke){var Ae=1&Pe;for(Se=yt=0;4>Se;++Se)Me=Me>>1|(Ae=(pe=Vn(je,Ct,pe=Ae+(1&Me),qt.Sc,lt,Ve,un))>lt)<<7,yt=yt<<2|(3<pe?3:1<pe?2:Ve[un+0]!=0),un+=16;Me>>=4,Pe=Pe>>1|Ae<<7,Zn=(Zn<<8|yt)>>>0}for(Ct=Me,lt=Pe>>4,rt=0;4>rt;rt+=2){for(yt=0,Me=ve.la>>4+rt,Pe=vn.la>>4+rt,Ke=0;2>Ke;++Ke){for(Ae=1&Pe,Se=0;2>Se;++Se)pe=Ae+(1&Me),Me=Me>>1|(Ae=0<(pe=Vn(je,vt[2],pe,qt.Qc,0,Ve,un)))<<3,yt=yt<<2|(3<pe?3:1<pe?2:Ve[un+0]!=0),un+=16;Me>>=2,Pe=Pe>>1|Ae<<5}He|=yt<<4*rt,Ct|=Me<<4<<rt,lt|=(240&Pe)<<rt}ve.la=Ct,vn.la=lt,St.Hc=Zn,St.Gc=He,St.ia=43690&He?0:qt.ia,vt=!(Zn|He)}if(0<Y.L&&(Y.wa[Y.Y+Y.ja]=Y.gd[F.$b][F.Za],Y.wa[Y.Y+Y.ja].La|=!vt),ge.Ka)return Vr(S,7,"Premature end-of-file encountered.")}if(Cr(S),Y=P,ge=1,F=(K=S).D,ve=0<K.L&&K.M>=K.zb&&K.M<=K.Va,K.Aa==0)t:{if(F.M=K.M,F.uc=ve,da(K,F),ge=1,F=(yt=K.D).Nb,ve=(He=Zl[K.L])*K.R,je=He/2*K.B,Ke=16*F*K.R,Se=8*F*K.B,vt=K.sa,St=K.ta-ve+Ke,qt=K.qa,Ve=K.ra-je+Se,un=K.Ha,vn=K.Ia-je+Se,Pe=(Me=yt.M)==0,Zn=Me>=K.Va-1,K.Aa==2&&da(K,yt),yt.uc)for(Ae=(pe=K).D.M,t(pe.D.uc),yt=pe.yb;yt<pe.Hb;++yt){lt=yt,Ct=Ae;var Re=(Je=(or=pe).D).Nb;rt=or.R;var Je=Je.wa[Je.Y+lt],Xe=or.sa,at=or.ta+16*Re*rt+16*lt,gt=Je.dd,ut=Je.tc;if(ut!=0)if(t(3<=ut),or.L==1)0<lt&&Mr(Xe,at,rt,ut+4),Je.La&&Ur(Xe,at,rt,ut),0<Ct&&$n(Xe,at,rt,ut+4),Je.La&&hr(Xe,at,rt,ut);else{var Ut=or.B,yn=or.qa,Ln=or.ra+8*Re*Ut+8*lt,In=or.Ha,or=or.Ia+8*Re*Ut+8*lt;Re=Je.ld,0<lt&&(xe(Xe,at,rt,ut+4,gt,Re),st(yn,Ln,In,or,Ut,ut+4,gt,Re)),Je.La&&(Yt(Xe,at,rt,ut,gt,Re),Pn(yn,Ln,In,or,Ut,ut,gt,Re)),0<Ct&&(se(Xe,at,rt,ut+4,gt,Re),$e(yn,Ln,In,or,Ut,ut+4,gt,Re)),Je.La&&(_t(Xe,at,rt,ut,gt,Re),pn(yn,Ln,In,or,Ut,ut,gt,Re))}}if(K.ia&&alert("todo:DitherRow"),Y.put!=null){if(yt=16*Me,Me=16*(Me+1),Pe?(Y.y=K.sa,Y.O=K.ta+Ke,Y.f=K.qa,Y.N=K.ra+Se,Y.ea=K.Ha,Y.W=K.Ia+Se):(yt-=He,Y.y=vt,Y.O=St,Y.f=qt,Y.N=Ve,Y.ea=un,Y.W=vn),Zn||(Me-=He),Me>Y.o&&(Me=Y.o),Y.F=null,Y.J=null,K.Fa!=null&&0<K.Fa.length&&yt<Me&&(Y.J=ar(K,Y,yt,Me-yt),Y.F=K.mb,Y.F==null&&Y.F.length==0)){ge=Vr(K,3,"Could not decode alpha data.");break t}yt<Y.j&&(He=Y.j-yt,yt=Y.j,t(!(1&He)),Y.O+=K.R*He,Y.N+=K.B*(He>>1),Y.W+=K.B*(He>>1),Y.F!=null&&(Y.J+=Y.width*He)),yt<Me&&(Y.O+=Y.v,Y.N+=Y.v>>1,Y.W+=Y.v>>1,Y.F!=null&&(Y.J+=Y.v),Y.ka=yt-Y.j,Y.U=Y.va-Y.v,Y.T=Me-yt,ge=Y.put(Y))}F+1!=K.Ic||Zn||(r(K.sa,K.ta-ve,vt,St+16*K.R,ve),r(K.qa,K.ra-je,qt,Ve+8*K.B,je),r(K.Ha,K.Ia-je,un,vn+8*K.B,je))}if(!ge)return Vr(S,6,"Output aborted.")}return 1})(Ge,ct)),ct.bc!=null&&ct.bc(ct),dt&=1}return dt?(Ge.cb=0,dt):0})(E,re)||(A=E.a)}}else A=E.a}A==0&&Ne.Oa!=null&&Ne.Oa.fd&&(A=xo(Ne.ba))}Ne=A}Ee=Ne!=0?null:11>Ee?Oe.f.RGBA.eb:Oe.f.kb.y}else Ee=null;return Ee};var Cc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(H,oe){for(var q="",Z=0;Z<4;Z++)q+=String.fromCharCode(H[oe++]);return q}function y(H,oe){return H[oe+0]|H[oe+1]<<8}function w(H,oe){return(H[oe+0]|H[oe+1]<<8|H[oe+2]<<16)>>>0}function k(H,oe){return(H[oe+0]|H[oe+1]<<8|H[oe+2]<<16|H[oe+3]<<24)>>>0}new g;var x=[0],N=[0],T=[],I=new g,O=e,D=(function(H,oe){var q={},Z=0,X=!1,U=0,Q=0;if(q.frames=[],!(function(ne,ce){for(var me=0;me<4;me++)if(ne[ce+me]!="RIFF".charCodeAt(me))return!0;return!1})(H,oe)){for(k(H,oe+=4),oe+=8;oe<H.length;){var ae=v(H,oe),ue=k(H,oe+=4);oe+=4;var le=ue+(1&ue);switch(ae){case"VP8 ":case"VP8L":q.frames[Z]===void 0&&(q.frames[Z]={}),(Te=q.frames[Z]).src_off=X?Q:oe-8,Te.src_size=U+ue+8,Z++,X&&(X=!1,U=0,Q=0);break;case"VP8X":(Te=q.header={}).feature_flags=H[oe];var be=oe+4;Te.canvas_width=1+w(H,be),be+=3,Te.canvas_height=1+w(H,be),be+=3;break;case"ALPH":X=!0,U=le+8,Q=oe-8;break;case"ANIM":(Te=q.header).bgcolor=k(H,oe),be=oe+4,Te.loop_count=y(H,be),be+=2;break;case"ANMF":var ke,Te;(Te=q.frames[Z]={}).offset_x=2*w(H,oe),oe+=3,Te.offset_y=2*w(H,oe),oe+=3,Te.width=1+w(H,oe),oe+=3,Te.height=1+w(H,oe),oe+=3,Te.duration=w(H,oe),oe+=3,ke=H[oe++],Te.dispose=1&ke,Te.blend=ke>>1&1}ae!="ANMF"&&(oe+=le)}return q}})(O,0);D.response=O,D.rgbaoutput=!0,D.dataurl=!1;var R=D.header?D.header:null,$=D.frames?D.frames:null;if(R){R.loop_counter=R.loop_count,x=[R.canvas_height],N=[R.canvas_width];for(var G=0;G<$.length&&$[G].blend!=0;G++);}var ee=$[0],te=I.WebPDecodeRGBA(O,ee.src_off,ee.src_size,N,x);ee.rgba=te,ee.imgwidth=N[0],ee.imgheight=x[0];for(var J=0;J<N[0]*x[0]*4;J++)T[J]=te[J];return this.width=N,this.height=x,this.data=T,this}(function(e){var t,n,r,i,l,h,c,g,v,y=function(ne){return ne=ne||{},this.isStrokeTransparent=ne.isStrokeTransparent||!1,this.strokeOpacity=ne.strokeOpacity||1,this.strokeStyle=ne.strokeStyle||"#000000",this.fillStyle=ne.fillStyle||"#000000",this.isFillTransparent=ne.isFillTransparent||!1,this.fillOpacity=ne.fillOpacity||1,this.font=ne.font||"10px sans-serif",this.textBaseline=ne.textBaseline||"alphabetic",this.textAlign=ne.textAlign||"left",this.lineWidth=ne.lineWidth||1,this.lineJoin=ne.lineJoin||"miter",this.lineCap=ne.lineCap||"butt",this.path=ne.path||[],this.transform=ne.transform!==void 0?ne.transform.clone():new g,this.globalCompositeOperation=ne.globalCompositeOperation||"normal",this.globalAlpha=ne.globalAlpha||1,this.clip_path=ne.clip_path||[],this.currentPoint=ne.currentPoint||new h,this.miterLimit=ne.miterLimit||10,this.lastPoint=ne.lastPoint||new h,this.lineDashOffset=ne.lineDashOffset||0,this.lineDash=ne.lineDash||[],this.margin=ne.margin||[0,0,0,0],this.prevPageLastElemOffset=ne.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ne.ignoreClearRect!="boolean"||ne.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,g=this.internal.Matrix,v=new y}]);var w=function(ne){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ce=ne;Object.defineProperty(this,"pdf",{get:function(){return ce}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(fe){me=!!fe}});var we=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return we},set:function(fe){we=!!fe}});var Le=0;Object.defineProperty(this,"posX",{get:function(){return Le},set:function(fe){isNaN(fe)||(Le=fe)}});var Be=0;Object.defineProperty(this,"posY",{get:function(){return Be},set:function(fe){isNaN(fe)||(Be=fe)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(fe){var tt;typeof fe=="number"?tt=[fe,fe,fe,fe]:((tt=new Array(4))[0]=fe[0],tt[1]=fe.length>=2?fe[1]:tt[0],tt[2]=fe.length>=3?fe[2]:tt[0],tt[3]=fe.length>=4?fe[3]:tt[1]),v.margin=tt}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(fe){he=fe}});var qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return qe},set:function(fe){qe=fe}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(fe){We=fe}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(fe){fe instanceof y&&(v=fe)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(fe){v.path=fe}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(fe){Fe=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var tt;tt=k(fe),this.ctx.fillStyle=tt.style,this.ctx.isFillTransparent=tt.a===0,this.ctx.fillOpacity=tt.a,this.pdf.setFillColor(tt.r,tt.g,tt.b,{a:tt.a}),this.pdf.setTextColor(tt.r,tt.g,tt.b,{a:tt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var tt=k(fe);this.ctx.strokeStyle=tt.style,this.ctx.isStrokeTransparent=tt.a===0,this.ctx.strokeOpacity=tt.a,tt.a===0?this.pdf.setDrawColor(255,255,255):(tt.a,this.pdf.setDrawColor(tt.r,tt.g,tt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var de=null,it=null,ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(fe){de=null,it=null,ft=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var tt;if(this.ctx.font=fe,(tt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(fe))!==null){var kt=tt[1];tt[2];var At=tt[3],Ze=tt[4];tt[5];var Zt=tt[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(nt==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var mt=(function(ht){var Mt,tn,fn=[],Tt=ht.trim();if(Tt==="")return of;if(Tt in rv)return[rv[Tt]];for(;Tt!=="";){switch(tn=null,Mt=(Tt=av(Tt)).charAt(0)){case'"':case"'":tn=u6(Tt.substring(1),Mt);break;default:tn=c6(Tt)}if(tn===null||(fn.push(tn[0]),(Tt=av(tn[1]))!==""&&Tt.charAt(0)!==","))return of;Tt=Tt.replace(/^,/,"")}return fn})(Zt);if(this.fontFaces){var wt=(function(ht,Mt){var tn=ht.getFontList(),fn=JSON.stringify(tn);if(de===null||it!==fn){var Tt=(function(zt){var jt=[];return Object.keys(zt).forEach(function(ln){zt[ln].forEach(function(an){var hn=null;switch(an){case"bold":hn={family:ln,weight:"bold"};break;case"italic":hn={family:ln,style:"italic"};break;case"bolditalic":hn={family:ln,weight:"bold",style:"italic"};break;case"":case"normal":hn={family:ln}}hn!==null&&(hn.ref={name:ln,style:an},jt.push(hn))})}),jt})(tn);de=(function(zt){for(var jt={},ln=0;ln<zt.length;++ln){var an=af(zt[ln]),hn=an.family,Bn=an.stretch,Rt=an.style,Gt=an.weight;jt[hn]=jt[hn]||{},jt[hn][Bn]=jt[hn][Bn]||{},jt[hn][Bn][Rt]=jt[hn][Bn][Rt]||{},jt[hn][Bn][Rt][Gt]=an}return jt})(Tt.concat(Mt)),it=fn}return de})(this.pdf,this.fontFaces),Et=mt.map(function(ht){return{family:ht,stretch:"normal",weight:At,style:kt}}),Xt=(function(ht,Mt,tn){for(var fn=(tn=tn||{}).defaultFontFamily||"times",Tt=Object.assign({},l6,tn.genericFontFamilies||{}),zt=null,jt=null,ln=0;ln<Mt.length;++ln)if(Tt[(zt=af(Mt[ln])).family]&&(zt.family=Tt[zt.family]),ht.hasOwnProperty(zt.family)){jt=ht[zt.family];break}if(!(jt=jt||ht[fn]))throw new Error("Could not find a font-family for the rule '"+iv(zt)+"' and default family '"+fn+"'.");if(jt=(function(an,hn){if(hn[an])return hn[an];var Bn=Wf[an],Rt=Bn<=Wf.normal?-1:1,Gt=nv(hn,Bb,Bn,Rt);if(!Gt)throw new Error("Could not find a matching font-stretch value for "+an);return Gt})(zt.stretch,jt),jt=(function(an,hn){if(hn[an])return hn[an];for(var Bn=Rb[an],Rt=0;Rt<Bn.length;++Rt)if(hn[Bn[Rt]])return hn[Bn[Rt]];throw new Error("Could not find a matching font-style for "+an)})(zt.style,jt),!(jt=(function(an,hn){if(hn[an])return hn[an];if(an===400&&hn[500])return hn[500];if(an===500&&hn[400])return hn[400];var Bn=s6[an],Rt=nv(hn,Db,Bn,an<400?-1:1);if(!Rt)throw new Error("Could not find a matching font-weight for value "+an);return Rt})(zt.weight,jt)))throw new Error("Failed to resolve a font for the rule '"+iv(zt)+"'.");return jt})(wt,Et);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var nn="";(At==="bold"||parseInt(At,10)>=700||kt==="bold")&&(nn="bold"),kt==="italic"&&(nn+="italic"),nn.length===0&&(nn="normal");for(var dn="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<mt.length;Jt++){if(this.pdf.internal.getFont(mt[Jt],nn,{noFallback:!0,disableWarning:!0})!==void 0){dn=mt[Jt];break}if(nn==="bolditalic"&&this.pdf.internal.getFont(mt[Jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dn=mt[Jt],nn="bold";else if(this.pdf.internal.getFont(mt[Jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dn=mt[Jt],nn="normal";break}}if(dn===""){for(var Ft=0;Ft<mt.length;Ft++)if(Dt[mt[Ft]]){dn=Dt[mt[Ft]];break}}dn=dn===""?"Times":dn,this.pdf.setFont(dn,nn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};w.prototype.setLineDash=function(ne){this.lineDash=ne},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){$.call(this,"fill",!1)},w.prototype.stroke=function(){$.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var me=this.ctx.transform.applyToPoint(new h(ne,ce));this.path.push({type:"mt",x:me.x,y:me.y}),this.ctx.lastPoint=new h(ne,ce)},w.prototype.closePath=function(){var ne=new h(0,0),ce=0;for(ce=this.path.length-1;ce!==-1;ce--)if(this.path[ce].type==="begin"&&Lr(this.path[ce+1])==="object"&&typeof this.path[ce+1].x=="number"){ne=new h(this.path[ce+1].x,this.path[ce+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(ne.x,ne.y)},w.prototype.lineTo=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var me=this.ctx.transform.applyToPoint(new h(ne,ce));this.path.push({type:"lt",x:me.x,y:me.y}),this.ctx.lastPoint=new h(me.x,me.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},w.prototype.quadraticCurveTo=function(ne,ce,me,we){if(isNaN(me)||isNaN(we)||isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Le=this.ctx.transform.applyToPoint(new h(me,we)),Be=this.ctx.transform.applyToPoint(new h(ne,ce));this.path.push({type:"qct",x1:Be.x,y1:Be.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new h(Le.x,Le.y)},w.prototype.bezierCurveTo=function(ne,ce,me,we,Le,Be){if(isNaN(Le)||isNaN(Be)||isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new h(Le,Be)),qe=this.ctx.transform.applyToPoint(new h(ne,ce)),We=this.ctx.transform.applyToPoint(new h(me,we));this.path.push({type:"bct",x1:qe.x,y1:qe.y,x2:We.x,y2:We.y,x:he.x,y:he.y}),this.ctx.lastPoint=new h(he.x,he.y)},w.prototype.arc=function(ne,ce,me,we,Le,Be){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we)||isNaN(Le))throw vi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Be=!!Be,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new h(ne,ce));ne=he.x,ce=he.y;var qe=this.ctx.transform.applyToPoint(new h(0,me)),We=this.ctx.transform.applyToPoint(new h(0,0));me=Math.sqrt(Math.pow(qe.x-We.x,2)+Math.pow(qe.y-We.y,2))}Math.abs(Le-we)>=2*Math.PI&&(we=0,Le=2*Math.PI),this.path.push({type:"arc",x:ne,y:ce,radius:me,startAngle:we,endAngle:Le,counterclockwise:Be})},w.prototype.arcTo=function(ne,ce,me,we,Le){throw new Error("arcTo not implemented.")},w.prototype.rect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ne,ce),this.lineTo(ne+me,ce),this.lineTo(ne+me,ce+we),this.lineTo(ne,ce+we),this.lineTo(ne,ce),this.lineTo(ne+me,ce),this.lineTo(ne,ce)},w.prototype.fillRect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var Le={};this.lineCap!=="butt"&&(Le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ne,ce,me,we),this.fill(),Le.hasOwnProperty("lineCap")&&(this.lineCap=Le.lineCap),Le.hasOwnProperty("lineJoin")&&(this.lineJoin=Le.lineJoin)}},w.prototype.strokeRect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(ne,ce,me,we),this.stroke())},w.prototype.clearRect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ne,ce,me,we))},w.prototype.save=function(ne){ne=typeof ne!="boolean"||ne;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("q");if(this.pdf.setPage(ce),ne){this.ctx.fontSize=this.pdf.internal.getFontSize();var we=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=we}},w.prototype.restore=function(ne){ne=typeof ne!="boolean"||ne;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("Q");this.pdf.setPage(ce),ne&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(ne){var ce,me,we,Le;if(ne.isCanvasGradient===!0&&(ne=ne.getColor()),!ne)return{r:0,g:0,b:0,a:0,style:ne};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ne))ce=0,me=0,we=0,Le=0;else{var Be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ne);if(Be!==null)ce=parseInt(Be[1]),me=parseInt(Be[2]),we=parseInt(Be[3]),Le=1;else if((Be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ne))!==null)ce=parseInt(Be[1]),me=parseInt(Be[2]),we=parseInt(Be[3]),Le=parseFloat(Be[4]);else{if(Le=1,typeof ne=="string"&&ne.charAt(0)!=="#"){var he=new Nb(ne);ne=he.ok?he.toHex():"#000000"}ne.length===4?(ce=ne.substring(1,2),ce+=ce,me=ne.substring(2,3),me+=me,we=ne.substring(3,4),we+=we):(ce=ne.substring(1,3),me=ne.substring(3,5),we=ne.substring(5,7)),ce=parseInt(ce,16),me=parseInt(me,16),we=parseInt(we,16)}}return{r:ce,g:me,b:we,a:Le,style:ne}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(ne,ce,me,we){if(isNaN(ce)||isNaN(me)||typeof ne!="string")throw vi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(we=isNaN(we)?void 0:we,!x.call(this)){var Le=le(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;Z.call(this,{text:ne,x:ce,y:me,scale:Be,angle:Le,align:this.textAlign,maxWidth:we})}},w.prototype.strokeText=function(ne,ce,me,we){if(isNaN(ce)||isNaN(me)||typeof ne!="string")throw vi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){we=isNaN(we)?void 0:we;var Le=le(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;Z.call(this,{text:ne,x:ce,y:me,scale:Be,renderingMode:"stroke",angle:Le,align:this.textAlign,maxWidth:we})}},w.prototype.measureText=function(ne){if(typeof ne!="string")throw vi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ce=this.pdf,me=this.pdf.internal.scaleFactor,we=ce.internal.getFontSize(),Le=ce.getStringUnitWidth(ne)*we/ce.internal.scaleFactor;return new function(Be){var he=(Be=Be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:Le*=Math.round(96*me/72*1e4)/1e4})},w.prototype.scale=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var me=new g(ne,0,0,ce,0,0);this.ctx.transform=this.ctx.transform.multiply(me)},w.prototype.rotate=function(ne){if(isNaN(ne))throw vi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ce=new g(Math.cos(ne),Math.sin(ne),-Math.sin(ne),Math.cos(ne),0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},w.prototype.translate=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var me=new g(1,0,0,1,ne,ce);this.ctx.transform=this.ctx.transform.multiply(me)},w.prototype.transform=function(ne,ce,me,we,Le,Be){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we)||isNaN(Le)||isNaN(Be))throw vi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new g(ne,ce,me,we,Le,Be);this.ctx.transform=this.ctx.transform.multiply(he)},w.prototype.setTransform=function(ne,ce,me,we,Le,Be){ne=isNaN(ne)?1:ne,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,we=isNaN(we)?1:we,Le=isNaN(Le)?0:Le,Be=isNaN(Be)?0:Be,this.ctx.transform=new g(ne,ce,me,we,Le,Be)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(ne,ce,me,we,Le,Be,he,qe,We){var Fe=this.pdf.getImageProperties(ne),de=1,it=1,ft=1,fe=1;we!==void 0&&qe!==void 0&&(ft=qe/we,fe=We/Le,de=Fe.width/we*qe/we,it=Fe.height/Le*We/Le),Be===void 0&&(Be=ce,he=me,ce=0,me=0),we!==void 0&&qe===void 0&&(qe=we,We=Le),we===void 0&&qe===void 0&&(qe=Fe.width,We=Fe.height);var tt=this.ctx.transform.decompose(),kt=le(tt.rotate.shx),At=new g,Ze=(At=(At=(At=At.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new c(Be-ce*ft,he-me*fe,we*de,Le*it));if(this.autoPaging){for(var Zt,nt=I.call(this,Ze),mt=[],wt=0;wt<nt.length;wt+=1)mt.indexOf(nt[wt])===-1&&mt.push(nt[wt]);R(mt);for(var Et=mt[0],Xt=mt[mt.length-1],nn=Et;nn<Xt+1;nn++){this.pdf.setPage(nn);var dn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=nn===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=nn===1?0:Jt+(nn-2)*Ft;if(this.ctx.clip_path.length!==0){var Mt=this.path;Zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Zt,this.posX+this.margin[3],-ht+Dt+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=Mt}var tn=JSON.parse(JSON.stringify(Ze));tn=D([tn],this.posX+this.margin[3],-ht+Dt+this.ctx.prevPageLastElemOffset)[0];var fn=(nn>Et||nn<Xt)&&T.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dn,Ft,null).clip().discardPath()),this.pdf.addImage(ne,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,kt),fn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(ne,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,kt)};var I=function(ne,ce,me){var we=[];ce=ce||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Le=this.posY+this.ctx.prevPageLastElemOffset;switch(ne.type){default:case"mt":case"lt":we.push(Math.floor((ne.y+Le)/me)+1);break;case"arc":we.push(Math.floor((ne.y+Le-ne.radius)/me)+1),we.push(Math.floor((ne.y+Le+ne.radius)/me)+1);break;case"qct":var Be=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x,ne.y);we.push(Math.floor((Be.y+Le)/me)+1),we.push(Math.floor((Be.y+Be.h+Le)/me)+1);break;case"bct":var he=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y);we.push(Math.floor((he.y+Le)/me)+1),we.push(Math.floor((he.y+he.h+Le)/me)+1);break;case"rect":we.push(Math.floor((ne.y+Le)/me)+1),we.push(Math.floor((ne.y+ne.h+Le)/me)+1)}for(var qe=0;qe<we.length;qe+=1)for(;this.pdf.internal.getNumberOfPages()<we[qe];)O.call(this);return we},O=function(){var ne=this.fillStyle,ce=this.strokeStyle,me=this.font,we=this.lineCap,Le=this.lineWidth,Be=this.lineJoin;this.pdf.addPage(),this.fillStyle=ne,this.strokeStyle=ce,this.font=me,this.lineCap=we,this.lineWidth=Le,this.lineJoin=Be},D=function(ne,ce,me){for(var we=0;we<ne.length;we++)switch(ne[we].type){case"bct":ne[we].x2+=ce,ne[we].y2+=me;case"qct":ne[we].x1+=ce,ne[we].y1+=me;default:ne[we].x+=ce,ne[we].y+=me}return ne},R=function(ne){return ne.sort(function(ce,me){return ce-me})},$=function(ne,ce){var me=this.fillStyle,we=this.strokeStyle,Le=this.lineCap,Be=this.lineWidth,he=Math.abs(Be*this.ctx.transform.scaleX),qe=this.lineJoin;if(this.autoPaging){for(var We,Fe,de=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),ft=[],fe=0;fe<it.length;fe++)if(it[fe].x!==void 0)for(var tt=I.call(this,it[fe]),kt=0;kt<tt.length;kt+=1)ft.indexOf(tt[kt])===-1&&ft.push(tt[kt]);for(var At=0;At<ft.length;At++)for(;this.pdf.internal.getNumberOfPages()<ft[At];)O.call(this);R(ft);for(var Ze=ft[0],Zt=ft[ft.length-1],nt=Ze;nt<Zt+1;nt++){this.pdf.setPage(nt),this.fillStyle=me,this.strokeStyle=we,this.lineCap=Le,this.lineWidth=he,this.lineJoin=qe;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=nt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nn=nt===1?0:Et+(nt-2)*Xt;if(this.ctx.clip_path.length!==0){var dn=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(We,this.posX+this.margin[3],-nn+wt+this.ctx.prevPageLastElemOffset),G.call(this,ne,!0),this.path=dn}if(Fe=JSON.parse(JSON.stringify(de)),this.path=D(Fe,this.posX+this.margin[3],-nn+wt+this.ctx.prevPageLastElemOffset),ce===!1||nt===0){var Dt=(nt>Ze||nt<Zt)&&T.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Xt,null).clip().discardPath()),G.call(this,ne,ce),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}this.path=de}else this.lineWidth=he,G.call(this,ne,ce),this.lineWidth=Be},G=function(ne,ce){if((ne!=="stroke"||ce||!N.call(this))&&(ne==="stroke"||ce||!x.call(this))){for(var me,we,Le=[],Be=this.path,he=0;he<Be.length;he++){var qe=Be[he];switch(qe.type){case"begin":Le.push({begin:!0});break;case"close":Le.push({close:!0});break;case"mt":Le.push({start:qe,deltas:[],abs:[]});break;case"lt":var We=Le.length;if(Be[he-1]&&!isNaN(Be[he-1].x)&&(me=[qe.x-Be[he-1].x,qe.y-Be[he-1].y],We>0)){for(;We>=0;We--)if(Le[We-1].close!==!0&&Le[We-1].begin!==!0){Le[We-1].deltas.push(me),Le[We-1].abs.push(qe);break}}break;case"bct":me=[qe.x1-Be[he-1].x,qe.y1-Be[he-1].y,qe.x2-Be[he-1].x,qe.y2-Be[he-1].y,qe.x-Be[he-1].x,qe.y-Be[he-1].y],Le[Le.length-1].deltas.push(me);break;case"qct":var Fe=Be[he-1].x+2/3*(qe.x1-Be[he-1].x),de=Be[he-1].y+2/3*(qe.y1-Be[he-1].y),it=qe.x+2/3*(qe.x1-qe.x),ft=qe.y+2/3*(qe.y1-qe.y),fe=qe.x,tt=qe.y;me=[Fe-Be[he-1].x,de-Be[he-1].y,it-Be[he-1].x,ft-Be[he-1].y,fe-Be[he-1].x,tt-Be[he-1].y],Le[Le.length-1].deltas.push(me);break;case"arc":Le.push({deltas:[],abs:[],arc:!0}),Array.isArray(Le[Le.length-1].abs)&&Le[Le.length-1].abs.push(qe)}}we=ce?null:ne==="stroke"?"stroke":"fill";for(var kt=!1,At=0;At<Le.length;At++)if(Le[At].arc)for(var Ze=Le[At].abs,Zt=0;Zt<Ze.length;Zt++){var nt=Ze[Zt];nt.type==="arc"?J.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,ce,!kt):X.call(this,nt.x,nt.y),kt=!0}else if(Le[At].close===!0)this.pdf.internal.out("h"),kt=!1;else if(Le[At].begin!==!0){var mt=Le[At].start.x,wt=Le[At].start.y;U.call(this,Le[At].deltas,mt,wt),kt=!0}we&&H.call(this,we),ce&&oe.call(this)}},ee=function(ne){var ce=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=ce*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ne-me;case"top":return ne+ce-me;case"hanging":return ne+ce-2*me;case"middle":return ne+ce/2-me;default:return ne}},te=function(ne){return ne+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var ne=function(){};return ne.colorStops=[],ne.addColorStop=function(ce,me){this.colorStops.push([ce,me])},ne.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ne.isCanvasGradient=!0,ne},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var J=function(ne,ce,me,we,Le,Be,he,qe,We){for(var Fe=ae.call(this,me,we,Le,Be),de=0;de<Fe.length;de++){var it=Fe[de];de===0&&(We?q.call(this,it.x1+ne,it.y1+ce):X.call(this,it.x1+ne,it.y1+ce)),Q.call(this,ne,ce,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}qe?oe.call(this):H.call(this,he)},H=function(ne){switch(ne){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(ne,ce){this.pdf.internal.out(n(ne)+" "+r(ce)+" m")},Z=function(ne){var ce;switch(ne.align){case"right":case"end":ce="right";break;case"center":ce="center";break;default:ce="left"}var me,we,Le,Be=this.pdf.getTextDimensions(ne.text),he=ee.call(this,ne.y),qe=te.call(this,he)-Be.h,We=this.ctx.transform.applyToPoint(new h(ne.x,he));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),de=new g;de=(de=(de=de.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var it=this.ctx.transform.applyToRectangle(new c(ne.x,he,Be.w,Be.h)),ft=de.applyToRectangle(new c(ne.x,qe,Be.w,Be.h)),fe=I.call(this,ft),tt=[],kt=0;kt<fe.length;kt+=1)tt.indexOf(fe[kt])===-1&&tt.push(fe[kt]);R(tt);for(var At=tt[0],Ze=tt[tt.length-1],Zt=At;Zt<Ze+1;Zt++){this.pdf.setPage(Zt);var nt=Zt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],Et=wt-this.margin[0],Xt=this.pdf.internal.pageSize.width-this.margin[1],nn=Xt-this.margin[3],dn=Zt===1?0:mt+(Zt-2)*Et;if(this.ctx.clip_path.length!==0){var Dt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(me,this.posX+this.margin[3],-1*dn+nt),G.call(this,"fill",!0),this.path=Dt}var Jt=D([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-dn+nt+this.ctx.prevPageLastElemOffset)[0];ne.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*ne.scale),Le=this.lineWidth,this.lineWidth=Le*ne.scale);var Ft=this.autoPaging!=="text";if(Ft||Jt.y+Jt.h<=wt){if(Ft||Jt.y>=nt&&Jt.x<=Xt){var ht=Ft?ne.text:this.pdf.splitTextToSize(ne.text,ne.maxWidth||Xt-Jt.x)[0],Mt=D([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-dn+nt+this.ctx.prevPageLastElemOffset)[0],tn=Ft&&(Zt>At||Zt<Ze)&&T.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nn,Et,null).clip().discardPath()),this.pdf.text(ht,Mt.x,Mt.y,{angle:ne.angle,align:ce,renderingMode:ne.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else Jt.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-Jt.y);ne.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Le)}}else ne.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*ne.scale),Le=this.lineWidth,this.lineWidth=Le*ne.scale),this.pdf.text(ne.text,We.x+this.posX,We.y+this.posY,{angle:ne.angle,align:ce,renderingMode:ne.renderingMode,maxWidth:ne.maxWidth}),ne.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Le)},X=function(ne,ce,me,we){me=me||0,we=we||0,this.pdf.internal.out(n(ne+me)+" "+r(ce+we)+" l")},U=function(ne,ce,me){return this.pdf.lines(ne,ce,me,null,null)},Q=function(ne,ce,me,we,Le,Be,he,qe){this.pdf.internal.out([t(i(me+ne)),t(l(we+ce)),t(i(Le+ne)),t(l(Be+ce)),t(i(he+ne)),t(l(qe+ce)),"c"].join(" "))},ae=function(ne,ce,me,we){for(var Le=2*Math.PI,Be=Math.PI/2;ce>me;)ce-=Le;var he=Math.abs(me-ce);he<Le&&we&&(he=Le-he);for(var qe=[],We=we?-1:1,Fe=ce;he>1e-5;){var de=Fe+We*Math.min(he,Be);qe.push(ue.call(this,ne,Fe,de)),he-=Math.abs(de-Fe),Fe=de}return qe},ue=function(ne,ce,me){var we=(me-ce)/2,Le=ne*Math.cos(we),Be=ne*Math.sin(we),he=Le,qe=-Be,We=he*he+qe*qe,Fe=We+he*Le+qe*Be,de=4/3*(Math.sqrt(2*We*Fe)-Fe)/(he*Be-qe*Le),it=he-de*qe,ft=qe+de*he,fe=it,tt=-ft,kt=we+ce,At=Math.cos(kt),Ze=Math.sin(kt);return{x1:ne*Math.cos(ce),y1:ne*Math.sin(ce),x2:it*At-ft*Ze,y2:it*Ze+ft*At,x3:fe*At-tt*Ze,y3:fe*Ze+tt*At,x4:ne*Math.cos(me),y4:ne*Math.sin(me)}},le=function(ne){return 180*ne/Math.PI},be=function(ne,ce,me,we,Le,Be){var he=ne+.5*(me-ne),qe=ce+.5*(we-ce),We=Le+.5*(me-Le),Fe=Be+.5*(we-Be),de=Math.min(ne,Le,he,We),it=Math.max(ne,Le,he,We),ft=Math.min(ce,Be,qe,Fe),fe=Math.max(ce,Be,qe,Fe);return new c(de,ft,it-de,fe-ft)},ke=function(ne,ce,me,we,Le,Be,he,qe){var We,Fe,de,it,ft,fe,tt,kt,At,Ze,Zt,nt,mt,wt,Et=me-ne,Xt=we-ce,nn=Le-me,dn=Be-we,Dt=he-Le,Jt=qe-Be;for(Fe=0;Fe<41;Fe++)At=(tt=(de=ne+(We=Fe/40)*Et)+We*((ft=me+We*nn)-de))+We*(ft+We*(Le+We*Dt-ft)-tt),Ze=(kt=(it=ce+We*Xt)+We*((fe=we+We*dn)-it))+We*(fe+We*(Be+We*Jt-fe)-kt),Fe==0?(Zt=At,nt=Ze,mt=At,wt=Ze):(Zt=Math.min(Zt,At),nt=Math.min(nt,Ze),mt=Math.max(mt,At),wt=Math.max(wt,Ze));return new c(Math.round(Zt),Math.round(nt),Math.round(mt-Zt),Math.round(wt-nt))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ne,ce,me=(ne=this.ctx.lineDash,ce=this.ctx.lineDashOffset,JSON.stringify({lineDash:ne,lineDashOffset:ce}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(qn.API),(function(e){var t=function(h){var c,g,v,y,w,k,x,N,T,I;for(g=[],v=0,y=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;y>v;v+=4)(w=(h.charCodeAt(v)<<24)+(h.charCodeAt(v+1)<<16)+(h.charCodeAt(v+2)<<8)+h.charCodeAt(v+3))!==0?(k=(w=((w=((w=((w=(w-(I=w%85))/85)-(T=w%85))/85)-(N=w%85))/85)-(x=w%85))/85)%85,g.push(k+33,x+33,N+33,T+33,I+33)):g.push(122);return(function(O,D){for(var R=D;R>0;R--)O.pop()})(g,c.length),String.fromCharCode.apply(String,g)+"~>"},n=function(h){var c,g,v,y,w,k=String,x="length",N=255,T="charCodeAt",I="slice",O="replace";for(h[I](-2),h=h[I](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),v=[],y=0,w=(h+=c="uuuuu"[I](h[x]%5||5))[x];w>y;y+=5)g=52200625*(h[T](y)-33)+614125*(h[T](y+1)-33)+7225*(h[T](y+2)-33)+85*(h[T](y+3)-33)+(h[T](y+4)-33),v.push(N&g>>24,N&g>>16,N&g>>8,N&g);return(function(D,R){for(var $=R;$>0;$--)D.pop()})(v,c[x]),k.fromCharCode.apply(k,v)},r=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var g="",v=0;v<h.length;v+=2)g+=String.fromCharCode("0x"+(h[v]+h[v+1]));return g},l=function(h){for(var c=new Uint8Array(h.length),g=h.length;g--;)c[g]=h.charCodeAt(g);return(c=jf(c)).reduce(function(v,y){return v+String.fromCharCode(y)},"")};e.processDataByFilters=function(h,c){var g=0,v=h||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),g=0;g<c.length;g+=1)switch(c[g]){case"ASCII85Decode":case"/ASCII85Decode":v=n(v),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=t(v),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=i(v),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=r(v),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=l(v),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[g]+'" is not implemented')}return{data:v,reverseChain:y.reverse().join(" ")}}})(qn.API),(function(e){e.loadFile=function(t,n,r){return(function(i,l,h){l=l!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(g,v,y){var w=new XMLHttpRequest,k=0,x=function(N){var T=N.length,I=[],O=String.fromCharCode;for(k=0;k<T;k+=1)I.push(O(255&N.charCodeAt(k)));return I.join("")};if(w.open("GET",g,!v),w.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(w.onload=function(){w.status===200?y(x(this.responseText)):y(void 0)}),w.send(null),v&&w.status===200)return x(w.responseText)})(i,l,h)}catch{}return c})(t,n,r)},e.loadImageFile=e.loadFile})(qn.API),(function(e){function t(){return(lr.html2canvas?Promise.resolve(lr.html2canvas):vd(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(lr.DOMPurify?Promise.resolve(lr.DOMPurify):vd(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var g=Lr(c);return g==="undefined"?"undefined":g==="string"||c instanceof String?"string":g==="number"||c instanceof Number?"number":g==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":g==="object"?"object":"unknown"},i=function(c,g){var v=document.createElement(c);for(var y in g.className&&(v.className=g.className),g.innerHTML&&g.dompurify&&(v.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)v.style[y]=g.style[y];return v},l=function c(g,v){for(var y=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),w=g.firstChild;w;w=w.nextSibling)v!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(c(w,v));return g.nodeType===1&&(g.nodeName==="CANVAS"?(y.width=g.width,y.height=g.height,y.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(y.value=g.value),y.addEventListener("load",function(){y.scrollTop=g.scrollTop,y.scrollLeft=g.scrollLeft},!0)),y},h=function c(g){var v=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),v);return(y=y.setProgress(1,c,1,[c])).set(g)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,g){return c.__proto__=g||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,g){return this.then(function(){switch(g=g||(function(v){switch(r(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),g){case"string":return this.then(n).then(function(v){return this.set({src:i("div",{innerHTML:c,dompurify:v})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(g){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,g(this.prop.container,v)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(g){var v=this.opt.jsPDF,y=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,k=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete k.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=y,y)for(var x=0;x<y.length;++x){var N=y[x],T=N.src.find(function(I){return I.format==="truetype"});T&&v.addFont(T.url,N.ref.name,N.ref.style)}return k.windowHeight=k.windowHeight||0,k.windowHeight=k.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):k.windowHeight,v.context2d.save(!0),g(this.prop.container,k)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,g,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(c,g):this.outputPdf(c,g)},h.prototype.outputPdf=function(c,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,g)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(r(c)!=="object")return this;var g=Object.keys(c||{}).map(function(v){if(v in h.template.prop)return function(){this.prop[v]=c[v]};switch(v){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[v]=c[v]}}},this);return this.then(function(){return this.thenList(g)})},h.prototype.get=function(c,g){return this.then(function(){var v=c in h.template.prop?this.prop[c]:this.opt[c];return g?g(v):v})},h.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function g(v,y){return Math.floor(v*y/72*96)}return this.then(function(){(c=c||qn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:g(c.inner.width,c.k),height:g(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,g,v,y){return c!=null&&(this.progress.val=c),g!=null&&(this.progress.state=g),v!=null&&(this.progress.n=v),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,g,v,y){return this.setProgress(c?this.progress.val+c:null,g||null,v?this.progress.n+v:null,y?this.progress.stack.concat(y):null)},h.prototype.then=function(c,g){var v=this;return this.thenCore(c,g,function(y,w){return v.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(k){return v.updateProgress(null,y),k}).then(y,w).then(function(k){return v.updateProgress(1),k})})},h.prototype.thenCore=function(c,g,v){v=v||Promise.prototype.then;var y=this;c&&(c=c.bind(y)),g&&(g=g.bind(y));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:h.convert(Object.assign({},y),Promise.prototype),k=v.call(w,c,g);return h.convert(k,y.__proto__)},h.prototype.thenExternal=function(c,g){return Promise.prototype.then.call(this,c,g)},h.prototype.thenList=function(c){var g=this;return c.forEach(function(v){g=g.thenCore(v)}),g},h.prototype.catch=function(c){c&&(c=c.bind(this));var g=Promise.prototype.catch.call(this,c);return h.convert(g,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,qn.getPageSize=function(c,g,v){if(Lr(c)==="object"){var y=c;c=y.orientation,g=y.unit||g,v=y.format||v}g=g||"mm",v=v||"a4",c=(""+(c||"P")).toLowerCase();var w,k=(""+v).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+g}var N,T=0,I=0;if(x.hasOwnProperty(k))T=x[k][1]/w,I=x[k][0]/w;else try{T=v[1],I=v[0]}catch{throw new Error("Invalid format: "+v)}if(c==="p"||c==="portrait")c="p",I>T&&(N=I,I=T,T=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",T>I&&(N=I,I=T,T=N)}return{width:I,height:T,unit:g,k:w,orientation:c}},e.html=function(c,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(af):null;var v=new h(g);return g.worker?v:v.from(c).doCallback()}})(qn.API),qn.API.addJS=function(e){return sv=e,this.internal.events.subscribe("postPutResources",function(){Gc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ov=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Gc!==void 0&&ov!==void 0&&this.internal.out("/Names <</JavaScript "+Gc+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),l=0;l<i.length;l++){var h=i[l],c=r.exec(h);if(c!=null){var g=c[1];n.internal.newObjectDeferredBegin(g,!1)}n.internal.write(h)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,y=[];for(l=0;l<v;l++){var w=n.internal.newObject();y.push(w);var k=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var x=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<y.length;l++)n.internal.write("(page_"+(l+1)+")"+y[l]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+x+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,l){var h={title:i,options:l,children:[]};return r==null&&(r=this.root),r.children.push(h),h},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<r.children.length;l++){var h=r.children[l];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(r)),l>0&&this.line("/Prev "+this.makeRef(r.children[l-1])),l<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[l+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var g=n.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var v=0;v<r.children.length;v++)this.renderItems(r.children[v])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var l=0;l<i.children.length;l++)r.count++,this.count_r(r,i.children[l]);return r.count}}])})(qn.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,l,h,c){var g,v=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=h||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,g=(function(w){for(var k,x=256*w.charCodeAt(4)+w.charCodeAt(5),N=w.length,T={width:0,height:0,numcomponents:1},I=4;I<N;I+=2){if(I+=x,t.indexOf(w.charCodeAt(I+1))!==-1){k=256*w.charCodeAt(I+5)+w.charCodeAt(I+6),T={width:256*w.charCodeAt(I+7)+w.charCodeAt(I+8),height:k,numcomponents:w.charCodeAt(I+9)};break}x=256*w.charCodeAt(I+2)+w.charCodeAt(I+3)}return T})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),g.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:n,width:g.width,height:g.height,colorSpace:c,bitsPerComponent:8,filter:v,index:r,alias:i}}return y}})(qn.API),qn.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,l=WO(e,{checkCrc:!0}),h=l.width,c=l.height,g=l.channels,v=l.palette,y=l.depth;i=v&&g===1?(function(J){for(var H=J.width,oe=J.height,q=J.data,Z=J.palette,X=J.depth,U=!1,Q=[],ae=[],ue=void 0,le=!1,be=0,ke=0;ke<Z.length;ke++){var Te=On(Z[ke],4),ne=Te[0],ce=Te[1],me=Te[2],we=Te[3];Q.push(ne,ce,me),we!=null&&(we===0?(be++,ae.length<1&&ae.push(ke)):we<255&&(le=!0))}if(le||be>1){U=!0,ae=void 0;var Le=H*oe;ue=new Uint8Array(Le);for(var Be=new DataView(q.buffer),he=0;he<Le;he++){var qe=sf(Be,he,X),We=On(Z[qe],4)[3];ue[he]=We}}else be===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:q,alphaBytes:ue,needSMask:U,palette:Q,mask:ae}})(l):g===2||g===4?(function(J){for(var H=J.data,oe=J.width,q=J.height,Z=J.channels,X=J.depth,U=Z===2?"DeviceGray":"DeviceRGB",Q=Z-1,ae=oe*q,ue=Q,le=ae*ue,be=1*ae,ke=Math.ceil(le*X/8),Te=Math.ceil(be*X/8),ne=new Uint8Array(ke),ce=new Uint8Array(Te),me=new DataView(H.buffer),we=new DataView(ne.buffer),Le=new DataView(ce.buffer),Be=!1,he=0;he<ae;he++){for(var qe=he*Z,We=0;We<ue;We++)mv(we,sf(me,qe+We,X),he*ue+We,X);var Fe=sf(me,qe+ue,X);Fe<(1<<X)-1&&(Be=!0),mv(Le,Fe,1*he,X)}return{colorSpace:U,colorsPerPixel:Q,sMaskBitsPerComponent:Be?X:void 0,colorBytes:ne,alphaBytes:ce,needSMask:Be}})(l):(function(J){var H=J.data,oe=J.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:oe,colorsPerPixel:oe==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(q){for(var Z=q.length,X=new Uint8Array(2*Z),U=new DataView(X.buffer,X.byteOffset,X.byteLength),Q=0;Q<Z;Q++)U.setUint16(2*Q,q[Q],!1);return X})(H):H,needSMask:!1}})(l);var w,k,x,N=i,T=N.colorSpace,I=N.colorsPerPixel,O=N.sMaskBitsPerComponent,D=N.colorBytes,R=N.alphaBytes,$=N.needSMask,G=N.palette,ee=N.mask,te=null;return r!==qn.API.image_compression.NONE&&typeof jf=="function"?(te=(function(J){var H;switch(J){case qn.API.image_compression.FAST:H=11;break;case qn.API.image_compression.MEDIUM:H=13;break;case qn.API.image_compression.SLOW:H=14;break;default:H=12}return H})(r),w=this.decode.FLATE_DECODE,k="/Predictor ".concat(te," /Colors ").concat(I," /BitsPerComponent ").concat(y," /Columns ").concat(h),e=hv(D,Math.ceil(h*I*y/8),I,y,r),$&&(x=hv(R,Math.ceil(h*O/8),1,O,r))):(w=void 0,k=void 0,e=D,$&&(x=R)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:n,data:e,index:t,filter:w,decodeParameters:k,transparency:ee,palette:G,sMask:x,predictor:te,width:h,height:c,bitsPerComponent:y,sMaskBitsPerComponent:O,colorSpace:T}}},(function(e){e.processGIF89A=function(t,n,r,i){var l=new p6(t),h=l.width,c=l.height,g=[];l.decodeAndBlitFrameRGBA(0,g);var v={data:g,width:h,height:c},y=new lf(100).encode(v,100);return e.processJPEG.call(this,y,n,r,i)},e.processGIF87A=e.processGIF89A})(qn.API),hs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){vi.log("bit decode error:"+n)}},hs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var l=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var g=this.palette[l>>7-c&1];this.data[h+4*c]=g.blue,this.data[h+4*c+1]=g.green,this.data[h+4*c+2]=g.red,this.data[h+4*c+3]=255}n!==0&&(this.pos+=4-n)}},hs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var l=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+2*i*4,c=l>>4,g=15&l,v=this.palette[c];if(this.data[h]=v.blue,this.data[h+1]=v.green,this.data[h+2]=v.red,this.data[h+3]=255,2*i+1>=this.width)break;v=this.palette[g],this.data[h+4]=v.blue,this.data[h+4+1]=v.green,this.data[h+4+2]=v.red,this.data[h+4+3]=255}t!==0&&(this.pos+=4-t)}},hs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*r;if(i<this.palette.length){var h=this.palette[i];this.data[l]=h.red,this.data[l+1]=h.green,this.data[l+2]=h.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}e!==0&&(this.pos+=4-e)}},hs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(l&t)/t*255|0,c=(l>>5&t)/t*255|0,g=(l>>10&t)/t*255|0,v=l>>15?255:0,y=r*this.width*4+4*i;this.data[y]=g,this.data[y+1]=c,this.data[y+2]=h,this.data[y+3]=v}this.pos+=e}},hs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,l=0;l<this.width;l++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&t)/t*255|0,g=(h>>5&n)/n*255|0,v=(h>>11)/t*255|0,y=i*this.width*4+4*l;this.data[y]=v,this.data[y+1]=g,this.data[y+2]=c,this.data[y+3]=255}this.pos+=e}},hs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*n;this.data[h]=l,this.data[h+1]=i,this.data[h+2]=r,this.data[h+3]=255}this.pos+=this.width%4}},hs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=l,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=h}},hs.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var l=new hs(t,!1),h=l.width,c=l.height,g={data:l.getData(),width:h,height:c},v=new lf(100).encode(g,100);return e.processJPEG.call(this,v,n,r,i)}})(qn.API),yv.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var l=new yv(t),h=l.width,c=l.height,g={data:l.getData(),width:h,height:c},v=new lf(100).encode(g,100);return e.processJPEG.call(this,v,n,r,i)}})(qn.API),qn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,l=new Uint8Array(i/4*3),h=new Uint8Array(i/4),c=0,g=0,v=0;v<i;v+=4){var y=r[v],w=r[v+1],k=r[v+2],x=r[v+3];l[c++]=y,l[c++]=w,l[c++]=k,h[g++]=x}var N=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ru=qn.API,Vc=ru.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),h=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,g=c.fof?c.fof:1,v=t.kerning?t.kerning:i.metadata.Unicode.kerning,y=v.fof?v.fof:1,w=t.doKerning!==!1,k=0,x=e.length,N=0,T=c[0]||g,I=[];for(n=0;n<x;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+h*(1e3/l)||0)/1e3):(k=w&&Lr(v[r])==="object"&&!isNaN(parseInt(v[r][N],10))?v[r][N]/y:0,I.push((c[r]||T)/g+k)),N=r;return I},lv=ru.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ru.processArabic&&(e=ru.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Vc.apply(this,arguments).reduce(function(l,h){return l+h},0)},uv=function(e,t,n,r){for(var i=[],l=0,h=e.length,c=0;l!==h&&c+t[l]<n;)c+=t[l],l++;i.push(e.slice(0,l));var g=l;for(c=0;l!==h;)c+t[l]>r&&(i.push(e.slice(g,l)),c=0,g=l),c+=t[l],l++;return g!==l&&i.push(e.slice(g,l)),i},cv=function(e,t,n){n||(n={});var r,i,l,h,c,g,v,y=[],w=[y],k=n.textIndent||0,x=0,N=0,T=e.split(" "),I=Vc.apply(this,[" ",n])[0];if(g=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var O=Array(g).join(" "),D=[];T.map(function($){($=$.split(/\s*\n/)).length>1?D=D.concat($.map(function(G,ee){return(ee&&G.length?`
`:"")+G})):D.push($[0])}),T=D,g=lv.apply(this,[O,n])}for(l=0,h=T.length;l<h;l++){var R=0;if(r=T[l],g&&r[0]==`
`&&(r=r.substr(1),R=1),k+x+(N=(i=Vc.apply(this,[r,n])).reduce(function($,G){return $+G},0))>t||R){if(N>t){for(c=uv.apply(this,[r,i,t-(k+x),t]),y.push(c.shift()),y=[c.pop()];c.length;)w.push([c.shift()]);N=i.slice(r.length-(y[0]?y[0].length:0)).reduce(function($,G){return $+G},0)}else y=[r];w.push(y),k=N+g,x=I}else y.push(r),k+=x+N,x=I}return v=g?function($,G){return(G?O:"")+$.join(" ")}:function($){return $.join(" ")},w.map(v)},ru.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle),k="Unicode";return w.metadata[k]?{widths:w.metadata[k].widths||{0:1},kerning:w.metadata[k].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var h=1*this.internal.scaleFactor*t/i;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=n.lineIndent;var c,g,v=[];for(c=0,g=r.length;c<g;c++)v=v.concat(cv.apply(this,[r[c],h,l]));return v},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},l=0;l<16;l++)r[n[l]]=t[l],i[t[l]]=n[l];var h=function(k){return"0x"+parseInt(k,10).toString(16)},c=e.__fontmetrics__.compress=function(k){var x,N,T,I,O=["{"];for(var D in k){if(x=k[D],isNaN(parseInt(D,10))?N="'"+D+"'":(D=parseInt(D,10),N=(N=h(D).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof x=="number")x<0?(T=h(x).slice(3),I="-"):(T=h(x).slice(2),I=""),T=I+T.slice(0,-1)+i[T.slice(-1)];else{if(Lr(x)!=="object")throw new Error("Don't know what to do with value type "+Lr(x)+".");T=c(x)}O.push(N+T)}return O.push("}"),O.join("")},g=e.__fontmetrics__.uncompress=function(k){if(typeof k!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,N,T,I,O={},D=1,R=O,$=[],G="",ee="",te=k.length-1,J=1;J<te;J+=1)(I=k[J])=="'"?x?(T=x.join(""),x=void 0):x=[]:x?x.push(I):I=="{"?($.push([R,T]),R={},T=void 0):I=="}"?((N=$.pop())[0][N[1]]=R,T=void 0,R=N[0]):I=="-"?D=-1:T===void 0?r.hasOwnProperty(I)?(G+=r[I],T=parseInt(G,16)*D,D=1,G=""):G+=I:r.hasOwnProperty(I)?(ee+=r[I],R[T]=parseInt(ee,16)*D,D=1,T=void 0,ee=""):ee+=I;return O},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},w={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(k){var x=k.font,N=w.Unicode[x.postScriptName];N&&(x.metadata.Unicode={},x.metadata.Unicode.widths=N.widths,x.metadata.Unicode.kerning=N.kerning);var T=y.Unicode[x.postScriptName];T&&(x.metadata.Unicode.encoding=T,x.encoding=T.codePages[0])}])})(qn.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),l=0;l<r;l++)i[l]=n.charCodeAt(l);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,l=n.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(th(c)),h.metadata=e.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(i,r)}}])})(qn),qn.API.addSvgAsImage=function(e,t,n,r,i,l,h,c){if(isNaN(t)||isNaN(n))throw vi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw vi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=r,g.height=i;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(lr.canvg?Promise.resolve(lr.canvg):vd(()=>import("./index.es-DMCTSbf4.js"),__vite__mapDeps([0,1,2,3]))).catch(function(k){return Promise.reject(new Error("Could not load canvg: "+k))}).then(function(k){return k.default?k.default:k}).then(function(k){return k.fromString(v,e,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(y)}).then(function(){w.addImage(g.toDataURL("image/jpeg",1),t,n,r,i,h,c)})},qn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},qn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,l,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),g=[],v=0,y=0,w=0;function k(N,T){var I,O=!1;for(I=0;I<N.length;I+=1)N[I]===T&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=c.length;for(w=0;w<x;w+=1)n[c[w]].value=n[c[w]].defaultValue,n[c[w]].explicitSet=!1}if(Lr(e)==="object"){for(i in e)if(l=e[i],k(c,i)&&l!==void 0){if(n[i].type==="boolean"&&typeof l=="boolean")n[i].value=l;else if(n[i].type==="name"&&k(n[i].valueSet,l))n[i].value=l;else if(n[i].type==="integer"&&Number.isInteger(l))n[i].value=l;else if(n[i].type==="array"){for(v=0;v<l.length;v+=1)if(r=!0,l[v].length===1&&typeof l[v][0]=="number")g.push(String(l[v]-1));else if(l[v].length>1){for(y=0;y<l[v].length;y+=1)typeof l[v][y]!="number"&&(r=!1);r===!0&&g.push([l[v][0]-1,l[v][1]-1].join(" "))}n[i].value="["+g.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,T=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?T.push("/"+N+" /"+n[N].value):T.push("/"+N+" "+n[N].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(r)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),v=l.length+h.length+c.length+i.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(i+l+h+c+g),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(qn.API),(function(e){var t=e.API,n=t.pdfEscape16=function(l,h){for(var c,g=h.metadata.Unicode.widths,v=["","0","00","000","0000"],y=[""],w=0,k=l.length;w<k;++w){if(c=h.metadata.characterToGlyph(l.charCodeAt(w)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=l.charCodeAt(w),g.indexOf(c)==-1&&(g.push(c),g.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(v[4-c.length],c)}return y.join("")},r=function(l){var h,c,g,v,y,w,k;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],w=0,k=(c=Object.keys(l).sort(function(x,N){return x-N})).length;w<k;w++)h=c[w],g.length>=100&&(y+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),l[h]!==void 0&&l[h]!==null&&typeof l[h].toString=="function"&&(v=("0000"+l[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),g.push("<"+h+"><"+v+">"));return g.length&&(y+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(h){var c=h.font,g=h.out,v=h.newObject,y=h.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,k=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),x="",N=0;N<k.length;N++)x+=String.fromCharCode(k[N]);var T=v();y({data:x,addLength1:!0,objectId:T}),g("endobj");var I=v();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:I}),g("endobj");var O=v();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+au(c.fontName)),g("/FontFile2 "+T+" 0 R"),g("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),g("/Flags "+c.metadata.flags),g("/StemV "+c.metadata.stemV),g("/ItalicAngle "+c.metadata.italicAngle),g("/Ascent "+c.metadata.ascender),g("/Descent "+c.metadata.decender),g("/CapHeight "+c.metadata.capHeight),g(">>"),g("endobj");var D=v();g("<<"),g("/Type /Font"),g("/BaseFont /"+au(c.fontName)),g("/FontDescriptor "+O+" 0 R"),g("/W "+e.API.PDFObject.convert(w)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+c.encoding+")"),g(">>"),g(">>"),g("endobj"),c.objectNumber=v(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+I+" 0 R"),g("/BaseFont /"+au(c.fontName)),g("/Encoding /"+c.encoding),g("/DescendantFonts ["+D+" 0 R]"),g(">>"),g("endobj"),c.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(h){var c=h.font,g=h.out,v=h.newObject,y=h.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,k="",x=0;x<w.length;x++)k+=String.fromCharCode(w[x]);var N=v();y({data:k,addLength1:!0,objectId:N}),g("endobj");var T=v();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:T}),g("endobj");var I=v();g("<<"),g("/Descent "+c.metadata.decender),g("/CapHeight "+c.metadata.capHeight),g("/StemV "+c.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+N+" 0 R"),g("/Flags 96"),g("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),g("/FontName /"+au(c.fontName)),g("/ItalicAngle "+c.metadata.italicAngle),g("/Ascent "+c.metadata.ascender),g(">>"),g("endobj"),c.objectNumber=v();for(var O=0;O<c.metadata.hmtx.widths.length;O++)c.metadata.hmtx.widths[O]=parseInt(c.metadata.hmtx.widths[O]*(1e3/c.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+au(c.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),g("endobj"),c.isAlreadyPutted=!0}})(l)}]);var i=function(l){var h,c=l.text||"",g=l.x,v=l.y,y=l.options||{},w=l.mutex||{},k=w.pdfEscape,x=w.activeFontKey,N=w.fonts,T=x,I="",O=0,D="",R=N[T].encoding;if(N[T].encoding!=="Identity-H")return{text:c,x:g,y:v,options:y,mutex:w};for(D=c,T=x,Array.isArray(c)&&(D=c[0]),O=0;O<D.length;O+=1)N[T].metadata.hasOwnProperty("cmap")&&(h=N[T].metadata.cmap.unicode.codeMap[D[O].charCodeAt(0)]),h||D[O].charCodeAt(0)<256&&N[T].metadata.hasOwnProperty("Unicode")?I+=D[O]:I+="";var $="";return parseInt(T.slice(1))<14||R==="WinAnsiEncoding"?$=k(I,T).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&($=n(I,N[T])),w.isHex=!0,{text:$,x:g,y:v,options:y,mutex:w}};t.events.push(["postProcessText",function(l){var h=l.text||"",c=[],g={text:h,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(h)){var v=0;for(v=0;v<h.length;v+=1)Array.isArray(h[v])&&h[v].length===3?c.push([i(Object.assign({},g,{text:h[v][0]})).text,h[v][1],h[v][2]]):c.push(i(Object.assign({},g,{text:h[v]})).text);l.text=c}else l.text=i(Object.assign({},g,{text:h})).text}])})(qn),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(qn.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,l,h,c,g,v,y,w=t,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,R=0;this.__bidiEngine__={};var $=function(q){var Z=q.charCodeAt(),X=Z>>8,U=T[X];return U!==void 0?w[256*U+(255&Z)]:X===252||X===253?"AL":O.test(X)?"L":X===8?"R":"N"},G=function(q){for(var Z,X=0;X<q.length;X++){if((Z=$(q.charAt(X)))==="L")return!1;if(Z==="R")return!0}return!1},ee=function(q,Z,X,U){var Q,ae,ue,le,be=Z[U];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(be="AN");break;case"AL":D=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":U<1||U+1>=Z.length||(Q=X[U-1])!=="EN"&&Q!=="AN"||(ae=Z[U+1])!=="EN"&&ae!=="AN"?be="N":D&&(ae="AN"),be=ae===Q?ae:"N";break;case"ES":be=(Q=U>0?X[U-1]:"B")==="EN"&&U+1<Z.length&&Z[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&X[U-1]==="EN"){be="EN";break}if(D){be="N";break}for(ue=U+1,le=Z.length;ue<le&&Z[ue]==="ET";)ue++;be=ue<le&&Z[ue]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(le=Z.length,ue=U+1;ue<le&&Z[ue]==="NSM";)ue++;if(ue<le){var ke=q[U],Te=ke>=1425&&ke<=2303||ke===64286;if(Q=Z[ue],Te&&(Q==="R"||Q==="AL")){be="R";break}}}be=U<1||(Q=Z[U-1])==="B"?"N":X[U-1];break;case"B":D=!1,i=!0,be=R;break;case"S":l=!0,be="N"}return be},te=function(q,Z,X){var U=q.split("");return X&&J(U,X,{hiLevel:R}),U.reverse(),Z&&Z.reverse(),U.join("")},J=function(q,Z,X){var U,Q,ae,ue,le,be=-1,ke=q.length,Te=0,ne=[],ce=R?x:k,me=[];for(D=!1,i=!1,l=!1,Q=0;Q<ke;Q++)me[Q]=$(q[Q]);for(ae=0;ae<ke;ae++){if(le=Te,ne[ae]=ee(q,me,ne,ae),U=240&(Te=ce[le][N[ne[ae]]]),Te&=15,Z[ae]=ue=ce[Te][5],U>0)if(U===16){for(Q=be;Q<ae;Q++)Z[Q]=1;be=-1}else be=-1;if(ce[Te][6])be===-1&&(be=ae);else if(be>-1){for(Q=be;Q<ae;Q++)Z[Q]=ue;be=-1}me[ae]==="B"&&(Z[ae]=0),X.hiLevel|=ue}l&&(function(we,Le,Be){for(var he=0;he<Be;he++)if(we[he]==="S"){Le[he]=R;for(var qe=he-1;qe>=0&&we[qe]==="WS";qe--)Le[qe]=R}})(me,Z,ke)},H=function(q,Z,X,U,Q){if(!(Q.hiLevel<q)){if(q===1&&R===1&&!i)return Z.reverse(),void(X&&X.reverse());for(var ae,ue,le,be,ke=Z.length,Te=0;Te<ke;){if(U[Te]>=q){for(le=Te+1;le<ke&&U[le]>=q;)le++;for(be=Te,ue=le-1;be<ue;be++,ue--)ae=Z[be],Z[be]=Z[ue],Z[ue]=ae,X&&(ae=X[be],X[be]=X[ue],X[ue]=ae);Te=le}Te++}}},oe=function(q,Z,X){var U=q.split(""),Q={hiLevel:R};return X||(X=[]),J(U,X,Q),(function(ae,ue,le){if(le.hiLevel!==0&&y)for(var be,ke=0;ke<ae.length;ke++)ue[ke]===1&&(be=I.indexOf(ae[ke]))>=0&&(ae[ke]=I[be+1])})(U,X,Q),H(2,U,Z,X,Q),H(1,U,Z,X,Q),U.join("")};return this.__bidiEngine__.doBidiReorder=function(q,Z,X){if((function(Q,ae){if(ae)for(var ue=0;ue<Q.length;ue++)ae[ue]=ue;c===void 0&&(c=G(Q)),v===void 0&&(v=G(Q))})(q,Z),h||!g||v)if(h&&g&&c^v)R=c?1:0,q=te(q,Z,X);else if(!h&&g&&v)R=c?1:0,q=oe(q,Z,X),q=te(q,Z);else if(!h||c||g||v){if(h&&!g&&c^v)q=te(q,Z),c?(R=0,q=oe(q,Z,X)):(R=1,q=oe(q,Z,X),q=te(q,Z));else if(h&&c&&!g&&v)R=1,q=oe(q,Z,X),q=te(q,Z);else if(!h&&!g&&c^v){var U=y;c?(R=1,q=oe(q,Z,X),R=0,y=!1,q=oe(q,Z,X),y=U):(R=0,q=oe(q,Z,X),q=te(q,Z),R=1,y=!1,q=oe(q,Z,X),y=U,q=te(q,Z))}}else R=0,q=oe(q,Z,X);else R=c?1:0,q=oe(q,Z,X);return q},this.__bidiEngine__.setOptions=function(q){q&&(h=q.isInputVisual,g=q.isOutputVisual,c=q.isInputRtl,v=q.isOutputRtl,y=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var l=r.options||{};r.mutex,l.lang;var h=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(h=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?h.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):h.push([n.doBidiReorder(i[c])]);r.text=h}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(qn),qn.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ll(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new M6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new g6(this.contents),this.head=new v6(this),this.name=new w6(this),this.cmap=new Fb(this),this.toUnicode={},this.hhea=new y6(this),this.maxp=new C6(this),this.hmtx=new S6(this),this.post=new b6(this),this.os2=new _6(this),this.loca=new N6(this),this.glyf=new E6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,g,v;for(v=[],h=0,c=(g=this.bbox).length;h<c;h++)t=g[h],v.push(Math.round(t*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,l,h,c;for(h=0,l=0,c=(t=""+t).length;0<=c?l<c:l>c;l=0<=c?++l:--l)i=t.charCodeAt(l),h+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return h*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var _s,ll=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,l,h,c,g;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),l=this.readByte(),h=this.readByte(),c=this.readByte(),g=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^l)+65536*(255^h)+256*(255^c)+(255^g)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*l+65536*h+256*c+g},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,l;for(l=[],r=0,i=t.length;r<i;r++)n=t[r],l.push(this.writeByte(n));return l},e})(),g6=(function(){var e;function t(n){var r,i,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,l,h,c,g,v,y,w,k,x,N,T;for(T in x=Object.keys(n).length,g=Math.log(2),w=16*Math.floor(Math.log(x)/g),h=Math.floor(w/g),y=16*x-w,(i=new ll).writeInt(this.scalarType),i.writeShort(x),i.writeShort(w),i.writeShort(h),i.writeShort(y),l=16*x,v=i.pos+l,c=null,N=[],n)for(k=n[T],i.writeString(T),i.writeInt(e(k)),i.writeInt(v),i.writeInt(k.length),N=N.concat(k),T==="head"&&(c=v),v+=k.length;v%4;)N.push(0),v++;return i.write(N),r=2981146554-e(i.data),i.pos=c+8,i.writeUInt32(r),i.data},e=function(n){var r,i,l,h;for(n=jb.call(n);n.length%4;)n.push(0);for(l=new ll(n),i=0,r=0,h=n.length;r<h;r=r+=4)i+=l.readUInt32();return 4294967295&i},t})(),m6={}.hasOwnProperty,Is=function(e,t){for(var n in t)m6.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};_s=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var v6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new ll).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),_v=(function(){function e(t,n){var r,i,l,h,c,g,v,y,w,k,x,N,T,I,O,D,R;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=t.readByte();break;case 4:for(x=t.readUInt16(),k=x/2,t.pos+=6,l=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),t.pos+=2,T=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),v=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),y=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),i=(this.length-t.pos+this.offset)/2,c=(function(){var $,G;for(G=[],g=$=0;0<=i?$<i:$>i;g=0<=i?++$:--$)G.push(t.readUInt16());return G})(),g=O=0,R=l.length;O<R;g=++O)for(I=l[g],r=D=N=T[g];N<=I?D<=I:D>=I;r=N<=I?++D:--D)y[g]===0?h=r+v[g]:(h=c[y[g]/2+(r-N)-(k-g)]||0)!==0&&(h+=v[g]),this.codeMap[r]=65535&h}t.pos=w}return e.encode=function(t,n){var r,i,l,h,c,g,v,y,w,k,x,N,T,I,O,D,R,$,G,ee,te,J,H,oe,q,Z,X,U,Q,ae,ue,le,be,ke,Te,ne,ce,me,we,Le,Be,he,qe,We,Fe,de;switch(U=new ll,h=Object.keys(t).sort(function(it,ft){return it-ft}),n){case"macroman":for(T=0,I=(function(){var it=[];for(N=0;N<256;++N)it.push(0);return it})(),D={0:0},l={},Q=0,be=h.length;Q<be;Q++)D[qe=t[i=h[Q]]]==null&&(D[qe]=++T),l[i]={old:t[i],new:D[t[i]]},I[i]=D[t[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(I),{charMap:l,subtable:U.data,maxGlyphID:T+1};case"unicode":for(Z=[],w=[],R=0,D={},r={},O=v=null,ae=0,ke=h.length;ae<ke;ae++)D[G=t[i=h[ae]]]==null&&(D[G]=++R),r[i]={old:G,new:D[G]},c=D[G]-i,O!=null&&c===v||(O&&w.push(O),Z.push(i),v=c),O=i;for(O&&w.push(O),w.push(65535),Z.push(65535),oe=2*(H=Z.length),J=2*Math.pow(Math.log(H)/Math.LN2,2),k=Math.log(J/2)/Math.LN2,te=2*H-J,g=[],ee=[],x=[],N=ue=0,Te=Z.length;ue<Te;N=++ue){if(q=Z[N],y=w[N],q===65535){g.push(0),ee.push(0);break}if(q-(X=r[q].new)>=32768)for(g.push(0),ee.push(2*(x.length+H-N)),i=le=q;q<=y?le<=y:le>=y;i=q<=y?++le:--le)x.push(r[i].new);else g.push(X-q),ee.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*H+2*x.length),U.writeUInt16(0),U.writeUInt16(oe),U.writeUInt16(J),U.writeUInt16(k),U.writeUInt16(te),Be=0,ne=w.length;Be<ne;Be++)i=w[Be],U.writeUInt16(i);for(U.writeUInt16(0),he=0,ce=Z.length;he<ce;he++)i=Z[he],U.writeUInt16(i);for(We=0,me=g.length;We<me;We++)c=g[We],U.writeUInt16(c);for(Fe=0,we=ee.length;Fe<we;Fe++)$=ee[Fe],U.writeUInt16($);for(de=0,Le=x.length;de<Le;de++)T=x[de],U.writeUInt16(T);return{charMap:r,subtable:U.data,maxGlyphID:R+1}}},e})(),Fb=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new _v(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=_v.encode(t,n),(i=new ll).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e})(),y6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),_6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),b6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(r=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var h,c,g;for(g=[],l=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;l=0<=c?++h:--h)g.push(t.readUInt32());return g}).call(this)}},e})(),x6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},w6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,l,h,c,g,v,y,w,k;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),r=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(g={},l=y=0,w=r.length;y<w;l=++y)i=r[l],t.pos=i.offset,v=t.readString(i.length),h=new x6(v,i),g[k=i.nameID]==null&&(g[k]=[]),g[i.nameID].push(h);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},e})(),C6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),S6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,l,h,c,g;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var v,y;for(y=[],n=v=0;0<=i?v<i:v>i;n=0<=i?++v:--v)y.push(t.readInt16());return y})(),this.widths=(function(){var v,y,w,k;for(k=[],v=0,y=(w=this.metrics).length;v<y;v++)l=w[v],k.push(l.advance);return k}).call(this),r=this.widths[this.widths.length-1],g=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)g.push(this.widths.push(r));return g},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),jb=[].slice,E6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,l,h,c,g,v,y,w;return t in this.cache?this.cache[t]:(l=this.file.loca,n=this.file.contents,r=l.indexOf(t),(i=l.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,h=(c=new ll(n.read(i))).readShort(),v=c.readShort(),w=c.readShort(),g=c.readShort(),y=c.readShort(),this.cache[t]=h===-1?new L6(c,v,w,g,y):new k6(c,h,v,w,g,y),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,l,h,c,g;for(h=[],l=[],c=0,g=n.length;c<g;c++)i=t[n[c]],l.push(h.length),i&&(h=h.concat(i.encode(r)));return l.push(h.length),{table:h,offsets:l}},e})(),k6=(function(){function e(t,n,r,i,l,h){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=l,this.yMax=h,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),L6=(function(){function e(t,n,r,i,l){var h,c;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new ll(jb.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),N6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,l;for(l=[],r=0,i=this.length;r<i;r+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],r=0,i=this.length;r<i;r+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,l=0,h=0;h<r.length;++h)if(r[h]=i,l<n.length&&n[l]==h){++l,r[h]=i;var c=this.offsets[h],g=this.offsets[h+1]-c;g>0&&(i+=g)}for(var v=new Array(4*r.length),y=0;y<r.length;++y)v[4*y+3]=255&r[y],v[4*y+2]=(65280&r[y])>>8,v[4*y+1]=(16711680&r[y])>>16,v[4*y]=(4278190080&r[y])>>24;return v},e})(),M6=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,l;for(n in i=this.font.cmap.tables[0].codeMap,t={},l=this.subset)r=l[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,l,h,c,g;for(i={},h=0,c=t.length;h<c;h++)i[l=t[h]]=this.font.glyf.glyphFor(l);for(l in n=[],i)(r=i[l])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(l in g=this.glyphsFor(n))r=g[l],i[l]=r;return i},e.prototype.encode=function(t,n){var r,i,l,h,c,g,v,y,w,k,x,N,T,I,O;for(i in r=Fb.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(t),x={0:0},O=r.charMap)x[(g=O[i]).old]=g.new;for(N in k=r.maxGlyphID,h)N in x||(x[N]=k++);return y=(function(D){var R,$;for(R in $={},D)$[D[R]]=R;return $})(x),w=Object.keys(y).sort(function(D,R){return D-R}),T=(function(){var D,R,$;for($=[],D=0,R=w.length;D<R;D++)c=w[D],$.push(y[c]);return $})(),l=this.font.glyf.encode(h,T,x),v=this.font.loca.encode(l.offsets,T),I={cmap:this.font.cmap.raw(),glyf:l.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},e})();qn.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,l,h;if(Array.isArray(n))return"["+(function(){var c,g,v;for(v=[],c=0,g=n.length;c<g;c++)r=n[c],v.push(t.convert(r));return v})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in l=["<<"],n)h=n[i],l.push("/"+i+" "+t.convert(h));return l.push(">>"),l.join(`
`)}return""+n},t})();const Zp=b.memo(({geoJsonLayers:e})=>{const t=Ko(),n=Yo();return b.useEffect(()=>{if(!n||!e)return;const r=setTimeout(()=>{try{n.invalidateSize();const i=Object.entries(e||{}).filter(([,c])=>!!c?.geoJsonData);if(i.length===0)return;let l=null;const h=[];for(const[,c]of i)try{const g=ci.geoJSON(c?.geoJsonData);h.push(g);const v=g.getBounds();v&&v.isValid&&v.isValid()&&(l?l.extend(v):l=v)}catch{}if(l&&l.isValid&&l.isValid())try{const c=l.getCenter();t(ch({center:[c.lat,c.lng]})),n.fitBounds(l,{padding:[0,0],animate:!1})}catch(c){console.log(c,"error in fitbounds"),n.fitBounds(l,{padding:[10,10]})}h.forEach(c=>{try{c.clearLayers()}catch{}})}catch{}},100);return()=>{clearTimeout(r)}},[n,e]),null});Zp.displayName="FitBounds";const P6=({orientation:e,format:t,scaleValue:n})=>{const r=Yo(),i=b.useRef({orientation:e,format:t,scaleValue:n});return b.useEffect(()=>{const l={orientation:e,format:t,scaleValue:n};JSON.stringify(i.current)!==JSON.stringify(l)&&(console.log("mylog MapResizer props changed:",l),i.current=l,requestAnimationFrame(()=>{r.invalidateSize()}))},[r,e,t,n]),null},I6=b.memo(({scaleValue:e,mapCenter:t,isUserZooming:n,mapScaleChangeSource:r})=>{const i=Yo(),l=b.useRef(e);return b.useEffect(()=>{if(console.log("mylog scalerControl 1",r.current),r.current==="userInput"&&(console.log("mylog scalerControl 2",r.current),!(!e||!t))){console.log("mylog scalerControl 3",r.current,l.current,e),console.log("mylog scalerControl 4",r.current);try{let h=fM(e);const c=Array.isArray(t)?t[0]:t?.lat||0,g=Math.floor(dM(h,c));t&&t.length===2&&i.setView(t,g),r.current="zoomChange",console.log("mylog scalerControl 2",g,r.current)}catch(h){console.error("mylog scalerControl error:",h)}finally{console.log("mylog scalerControl finnaly",r.current)}}},[i,e,t,n,r]),null}),O6=b.memo(({onScaleChange:e,isUserZooming:t,mapScaleChangeSource:n})=>{const r=Yo(),i=b.useRef(r?.getZoom?.()||0),l=b.useCallback(()=>{console.log("myLog updateScale 1");try{if(!r||n.current!=="zoomChange")return;console.log("myLog updateScale 2");const h=r.getZoom(),g=r.getCenter()?.lat||0,v=hM(h,g);i.current=h,typeof e=="function"&&e(v,"zoomChange")}catch(h){console.error("ZoomScaleSync error:",h)}},[r,e,n.current]);return b.useEffect(()=>{if(!r||!e)return;const h=g=>{console.log("mylog start",n.current),n.current="zoomChange"},c=()=>{console.log("mylog end",n.current),l()};return r.on("zoomstart",h),r.on("zoomend",c),()=>{r.off("zoomstart",h),r.off("zoomend",c)}},[r,e,t,l,n]),null}),zb=b.forwardRef(({geoJsonLayers:e,bufferLayers:t,viewport:n,showLegend:r,orientation:i,format:l,scaleValue:h,onScaleChange:c,mapScaleChangeSource:g},v)=>{const y=b.useRef(!1);b.useRef(!0);const w=b.useMemo(()=>Object.entries(e||{}).filter(([,D])=>D?.geoJsonData).map(([D,R])=>({layerId:D,orderNo:Number(R.orderNo||0),data:R})).sort((D,R)=>R.orderNo-D.orderNo||R.layerId.localeCompare(D.layerId)),[e]),k=b.useMemo(()=>t?Object.keys(t||{}).filter(D=>t[D]&&t[D].geoJsonData).map(D=>({layerId:D,data:t[D]})):[],[t]),x=b.useMemo(()=>{const D=zs.OVERLAY_BASE;return w.map((R,$)=>({name:`pane-layer-${R.layerId}`,zIndex:D+$}))},[w]),N=b.useMemo(()=>{const D=zs.OVERLAY_BASE,R=Math.max(201,D-1e3),$=typeof zs.BUFFER_BASE=="number"?zs.BUFFER_BASE:R;return k.map((G,ee)=>({name:`pane-buffer-${G.layerId}`,zIndex:$+ee}))},[k]),T=b.useMemo(()=>k.map(({layerId:D,data:R})=>Ie.jsx(jp,{layerId:D,geoJsonData:R.geoJsonData,metaData:R.metaData,pane:`pane-buffer-${D}`},D)),[k]),I=b.useMemo(()=>w.map(({layerId:D,data:R})=>Ie.jsx(Fp,{layerId:D,geoJsonData:R.geoJsonData,metaData:R.metaData,pane:`pane-layer-${D}`},D)),[w]),O=b.useMemo(()=>({center:n?.center||[28.7041,77.1025],zoom:n?.zoom||8,style:{width:"100%",height:"100%"},zoomControl:!1,scrollWheelZoom:1,attributionControl:!1,whenReady:()=>{}}),[n]);return Ie.jsxs(O1,{...O,ref:v,children:[Ie.jsx($1,{}),Ie.jsx(P6,{orientation:i,format:l,scaleValue:h}),Ie.jsx(I6,{scaleValue:h,mapCenter:n?.center||[28.7041,77.1025],isUserZooming:y,mapScaleChangeSource:g}),Ie.jsx(O6,{onScaleChange:c,isUserZooming:y,mapScaleChangeSource:g}),Ie.jsx(A1,{position:"bottomleft",imperial:!0,metric:!1,maxWidth:200,updateWhenIdle:!0,mapScaleChangeSource:g}),Ie.jsx(Zp,{geoJsonLayers:e}),Ie.jsx(Qu,{panes:N}),T,Ie.jsx(Qu,{panes:x}),I,r&&Ie.jsx(D1,{visible:!0})]})});zb.displayName="PrintPreviewMap";const A6=b.memo(zb),{Option:$s}=ks,uf={format:"a4",orientation:"landscape",title:"",footerText:`Generated on ${new Date().toLocaleDateString()} | GIS Dashboard`,showLegend:!1,mapScale:"250000"},T6=()=>{const e=Ko(),t=Dr(X=>X.ui.isPrintModalOpen),n=Dr(X=>X.map.viewport),r=Dr(X=>X.map.geoJsonLayers),i=Dr(X=>X.map.bufferLayers),[l,h]=b.useState(!1),[c]=Ya.useForm(),g=b.useRef(null),v=b.useRef(null),[y,w]=b.useState("250000"),[k,x]=b.useState(uf),N=b.useRef("userInput"),T=YM(k.mapScale,y?0:300),I=b.useMemo(()=>({a0:{width:841,height:1189},a1:{width:594,height:841},a2:{width:420,height:594},a3:{width:297,height:420},a4:{width:210,height:297},letter:{width:215.9,height:279.4}}),[]),O=b.useMemo(()=>{let X=I[k.format]||I.a4;k.orientation==="portrait"?X.width>X.height&&([X.width,X.height]=[X.height,X.width]):X.width<X.height&&([X.width,X.height]=[X.height,X.width]);const U=2.5;let Q=X.width*U,ae=X.height*U;const be=Math.min(1,1200/Q,900/ae);return{widthPx:Math.round(Q*be),heightPx:Math.round(ae*be),mmWidth:X.width,mmHeight:X.height,aspectRatio:X.width/X.height}},[k.format,k.orientation,I]),D=(X,U)=>{if(!U||U.trim()==="")return Promise.resolve();const Q=U.replace(/,/g,""),ae=/^(?:1:)?(\d+)$/;if(!ae.test(Q))return Promise.reject(new Error('Please enter a valid scale (e.g., "1:5000" or "5000")'));const ue=Q.match(ae),le=parseInt(ue[1],10);return isNaN(le)||le<100||le>1e7?Promise.reject(new Error("Scale must be between 1:100 and 1:10,000,000")):Promise.resolve()},R=X=>{if(!X)return"";if(X.includes(":"))return X;const U=parseInt(X.replace(/,/g,""),10);return isNaN(U)?X:`1:${U.toLocaleString()}`},$=X=>{if(!X||X.trim()==="")return null;const U=X.replace(/,/g,""),Q=/^(?:1:)?(\d+)$/,ae=U.match(Q);return ae?ae[1]:null},G=[{label:"1:500",value:"500"},{label:"1:1,000",value:"1000"},{label:"1:2,500",value:"2500"},{label:"1:5,000",value:"5000"},{label:"1:10,000",value:"10000"},{label:"1:25,000",value:"25000"},{label:"1:50,000",value:"50000"},{label:"1:100,000",value:"100000"},{label:"1:250,000",value:"250000"}],ee=b.useCallback((X,U)=>{if(!X)return;const Q=String(Math.round(X));c.setFieldsValue({mapScale:Q}),x(ue=>({...ue,mapScale:Q}));const ae=G.find(ue=>ue.value===Q);w(ae?ae.value:void 0),console.log("myLog handleMapZoomScaleChange called with scaleDen:",X,"source:",U)},[c,G]),te=async()=>{try{const X=v.current?.querySelector(".leaflet-container");if(!X)throw new Error("Map preview not found");await new Promise(ae=>setTimeout(ae,1500));let U=2;switch(k.format){case"a0":case"a1":U=1.5;break;case"a2":U=2;break;case"a3":case"a4":case"letter":U=2;break;default:U=2}return await GP(X,{quality:1,pixelRatio:U,backgroundColor:"#ffffff",style:{transform:"none",margin:0,padding:0},filter:ae=>{const ue=ae.classList?.contains("leaflet-control"),le=ae.classList?.contains("leaflet-control-attribution");return!(ue&&!le)},canvasWidth:X.offsetWidth*U,canvasHeight:X.offsetHeight*U})}catch(X){throw console.error("Failed to capture map image:",X),X}},J=async(X,U)=>{const{mmWidth:Q,mmHeight:ae}=O,ue=U.orientation,le=new qn({orientation:ue,unit:"mm",format:[Q,ae]}),be=le.internal.pageSize.getWidth(),ke=le.internal.pageSize.getHeight(),Te=10,ne=U.title?15:5,ce=U.footerText?15:0,me=Te+ne,we=ke-Te-ce-me,Le=be-2*Te;if(U.title&&(le.setFontSize(16),le.setFont("helvetica","bold"),le.text(U.title,be/2,Te+8,{align:"center"})),U.mapScale){le.setFontSize(10),le.setFont("helvetica","bold");const he=R(U.mapScale);le.text(`Scale: ${he}`,be-Te,Te,{align:"right"})}const Be=new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(le.setFontSize(8),le.setFont("helvetica","normal"),le.text(Be,Te,Te,{align:"left"}),X)try{le.addImage(X,"PNG",Te,me,Le,we)}catch(he){console.error("Failed to add image to PDF:",he),le.setFillColor(240,240,240),le.rect(Te,me,Le,we,"F"),le.setTextColor(100,100,100),le.setFontSize(12),le.text("Map Image",be/2,ke/2,{align:"center"})}return U.footerText&&(le.setFontSize(9),le.setTextColor(100,100,100),le.setFont("helvetica","normal"),le.text(U.footerText,be/2,ke-Te-5,{align:"center"}),le.setTextColor(0,0,0)),le},H=async X=>{try{h(!0),fs.info("Capturing map... This may take a moment.");const U=v.current?.querySelectorAll(".preview-ui"),Q=[];U&&U.forEach(ae=>{Q.push(ae.style.display),ae.style.display="none"});try{const ae=await te(),ue=await J(ae,X),le=X.title?`${X.title.replace(/\s+/g,"_")}_${new Date().getTime()}.pdf`:`map_export_${new Date().getTime()}.pdf`;ue.save(le),fs.success("Map exported successfully!"),e(pf()),oe()}finally{U&&U.forEach((ae,ue)=>{ae.style.display=Q[ue]||""})}}catch(U){console.error("Export error:",U),fs.error("Failed to export map. Please try again.")}finally{h(!1)}},oe=()=>{c.resetFields(),x(uf),w(void 0)},q=()=>{oe(),e(pf())},Z=(X,U)=>{x(U)};return Ie.jsx(as,{title:"Export Map to PDF",open:t,onCancel:q,footer:null,width:"95vw",style:{maxWidth:"1600px"},bodyStyle:{padding:"24px",maxHeight:"85vh",overflow:"hidden"},centered:!0,destroyOnClose:!0,children:Ie.jsx("div",{className:"print-modal-wrapper",children:Ie.jsxs(ku,{gutter:24,style:{height:"100%",margin:0},children:[Ie.jsxs(gs,{xs:24,sm:24,md:8,style:{height:"600px",overflowY:"auto",paddingRight:"12px"},className:"print-settings-panel",children:[Ie.jsx("h3",{className:"print-panel-title",children:"Print Settings"}),Ie.jsxs(Ya,{form:c,layout:"vertical",onFinish:H,onValuesChange:Z,initialValues:uf,children:[Ie.jsx(Ya.Item,{name:"title",label:"Map Title",tooltip:"Optional title to display on the PDF",children:Ie.jsx(Wu,{placeholder:"Enter map title (optional)",maxLength:60,allowClear:!0,size:"large"})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{name:"mapScale",label:"Map Scale",tooltip:"Enter map scale (e.g., '1:5000' or '5000'). The map will adjust to this scale in the preview.",rules:[{validator:D}],children:Ie.jsx(Wu,{placeholder:"e.g., 1:5000 or 5000",size:"large",addonBefore:"1:",onChange:X=>{const Q=(X?.target?.value||"").toString().replace(/^\s*1:\s*/i,"").replace(/,/g,"").trim();c.setFieldsValue({mapScale:Q}),x(ue=>({...ue,mapScale:Q}));const ae=G.find(ue=>ue.value===Q);w(ae?ae.value:void 0),N.current="userInput"},suffix:Ie.jsx(ks,{size:"small",placeholder:"Presets",style:{width:120},value:y,onChange:X=>{c.setFieldsValue({mapScale:X}),x({...k,mapScale:X}),N.current="userInput",w(X)},onMouseDown:X=>X.stopPropagation(),onClick:X=>X.stopPropagation(),getPopupContainer:X=>X?.parentNode||document.body,dropdownMatchSelectWidth:!1,children:G.map(X=>Ie.jsx($s,{value:X.value,children:X.label},X.value))})})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{name:"format",label:"Paper Size",rules:[{required:!0,message:"Please select paper size"}],children:Ie.jsxs(ks,{size:"large",children:[Ie.jsx($s,{value:"a0",children:"A0 (841  1189 mm)"}),Ie.jsx($s,{value:"a1",children:"A1 (594  841 mm)"}),Ie.jsx($s,{value:"a2",children:"A2 (420  594 mm)"}),Ie.jsx($s,{value:"a3",children:"A3 (297  420 mm)"}),Ie.jsx($s,{value:"a4",children:"A4 (210  297 mm)"}),Ie.jsx($s,{value:"letter",children:"Letter (8.5  11 in)"})]})}),Ie.jsx(Ya.Item,{name:"orientation",label:"Orientation",rules:[{required:!0,message:"Please select orientation"}],children:Ie.jsxs(ks,{size:"large",children:[Ie.jsx($s,{value:"landscape",children:"Landscape"}),Ie.jsx($s,{value:"portrait",children:"Portrait"})]})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{name:"footerText",label:"Footer Text",tooltip:"Customize footer text to display on the PDF",children:Ie.jsx(Wu.TextArea,{rows:2,placeholder:"Enter footer text",maxLength:200,showCount:!0})}),Ie.jsx(Ya.Item,{name:"showLegend",label:"Include Legend",valuePropName:"checked",children:Ie.jsx(q_,{})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{children:Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsx(ii,{type:"primary",htmlType:"submit",loading:l,block:!0,size:"large",disabled:l,children:l?"Exporting...":"Export PDF"}),Ie.jsx(ii,{onClick:q,block:!0,size:"large",disabled:l,children:"Cancel"})]})})]})]}),Ie.jsxs(gs,{xs:24,sm:24,md:16,style:{height:"600px",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5",borderRadius:"8px",padding:"16px"},children:[Ie.jsx("h3",{className:"print-panel-title",children:"Preview"}),Ie.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",overflow:"auto",backgroundColor:"#e8e8e8",borderRadius:"4px",padding:"20px"},children:Ie.jsx($l,{spinning:l,tip:"Rendering preview...",children:Ie.jsxs("div",{ref:v,style:{width:`${O.widthPx}px`,height:`${O.heightPx}px`,backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",borderRadius:"2px",overflow:"hidden",position:"relative"},children:[Ie.jsx("div",{className:"preview-ui",style:{height:"40px",boxSizing:"border-box",padding:"10px",textAlign:"center",borderBottom:"1px solid #eee",fontSize:"14px",fontWeight:"bold",backgroundColor:"#fafafa"},children:k.title}),Ie.jsx("div",{style:{width:"95%",height:"calc(100% - 80px)",margin:"0 auto",position:"relative"},children:Ie.jsx(A6,{ref:g,geoJsonLayers:r,bufferLayers:i,viewport:n,showLegend:k.showLegend,orientation:k.orientation,format:k.format,scaleValue:$(T),onScaleChange:ee,mapScaleChangeSource:N})}),Ie.jsx("div",{className:"preview-ui",style:{height:"40px",boxSizing:"border-box",padding:"8px",textAlign:"center",borderTop:"1px solid #eee",fontSize:"10px",color:"#888",backgroundColor:"#fafafa"},children:k.footerText})]})})}),Ie.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"#666",textAlign:"center"},children:[k.orientation==="landscape"?" Landscape":" Portrait"," ","| ",k.format.toUpperCase()," |",T?` Scale: ${R(T)} | `:" ","Preview (not to scale)"]})]})]})})})},Qu=({panes:e=[]})=>{const t=Yo();return b.useEffect(()=>{e.forEach(({name:n,zIndex:r})=>{t.getPane(n)||t.createPane(n);const i=t.getPane(n);i&&(i.style.zIndex=String(r))})},[t,e]),null};function R6(){const e=Ko(),t=Dr(r=>r.ui.isAttributeTableOpen),n=b.useCallback(()=>{e(gf())},[e]);return Ie.jsx(zp,{title:"Attribute Table",placement:"bottom",onClose:n,open:t,height:"40vh",mask:!1,minimized:!0,children:t&&Ie.jsx(F1,{csvDownloader:!0,clearDataOnTabChange:!0,clearDataOnClose:!0,defaultSelectAll:!1})})}function B6(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties={},r.geometry=e,r}function D6(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function $6(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function F6(e,t,n={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!bv(e[0])||!bv(e[1]))throw new Error("coordinates must contain numbers");return $6({type:"Point",coordinates:e},t,n)}function bv(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Hb(e,t,n){if(e!==null)for(var r,i,l,h,c,g,v,y=0,w=0,k,x=e.type,N=x==="FeatureCollection",T=x==="Feature",I=N?e.features.length:1,O=0;O<I;O++){v=N?e.features[O].geometry:T?e.geometry:e,k=v?v.type==="GeometryCollection":!1,c=k?v.geometries.length:1;for(var D=0;D<c;D++){var R=0,$=0;if(h=k?v.geometries[D]:v,h!==null){g=h.coordinates;var G=h.type;switch(y=0,G){case null:break;case"Point":if(t(g,w,O,R,$)===!1)return!1;w++,R++;break;case"LineString":case"MultiPoint":for(r=0;r<g.length;r++){if(t(g[r],w,O,R,$)===!1)return!1;w++,G==="MultiPoint"&&R++}G==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(r=0;r<g.length;r++){for(i=0;i<g[r].length-y;i++){if(t(g[r][i],w,O,R,$)===!1)return!1;w++}G==="MultiLineString"&&R++,G==="Polygon"&&$++}G==="Polygon"&&R++;break;case"MultiPolygon":for(r=0;r<g.length;r++){for($=0,i=0;i<g[r].length;i++){for(l=0;l<g[r][i].length-y;l++){if(t(g[r][i][l],w,O,R,$)===!1)return!1;w++}$++}R++}break;case"GeometryCollection":for(r=0;r<h.geometries.length;r++)if(Hb(h.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function j6(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return Hb(e,r=>{n[0]>r[0]&&(n[0]=r[0]),n[1]>r[1]&&(n[1]=r[1]),n[2]<r[0]&&(n[2]=r[0]),n[3]<r[1]&&(n[3]=r[1])}),n}function z6(e,t={}){const n=j6(e),r=(n[0]+n[2])/2,i=(n[1]+n[3])/2;return F6([r,i],t.properties,t)}var oh={exports:{}},H6=oh.exports,xv;function q6(){return xv||(xv=1,(function(e,t){(function(n,r){e.exports=r()})(H6,(function(){function n(f,a){(a==null||a>f.length)&&(a=f.length);for(var o=0,d=Array(a);o<a;o++)d[o]=f[o];return d}function r(f,a,o){return a=y(a),(function(d,C){if(C&&(typeof C=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B})(d)})(f,k()?Reflect.construct(a,o||[],y(f).constructor):a.apply(f,o))}function i(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function l(f,a,o){if(k())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,a);var C=new(f.bind.apply(f,d));return o&&x(C,o.prototype),C}function h(f,a){for(var o=0;o<a.length;o++){var d=a[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,I(d.key),d)}}function c(f,a,o){return a&&h(f.prototype,a),o&&h(f,o),Object.defineProperty(f,"prototype",{writable:!1}),f}function g(f,a){var o=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!o){if(Array.isArray(f)||(o=O(f))||a){o&&(f=o);var d=0,C=function(){};return{s:C,n:function(){return d>=f.length?{done:!0}:{done:!1,value:f[d++]}},e:function(xe){throw xe},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,W=!0,se=!1;return{s:function(){o=o.call(f)},n:function(){var xe=o.next();return W=xe.done,xe},e:function(xe){se=!0,B=xe},f:function(){try{W||o.return==null||o.return()}finally{if(se)throw B}}}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(f,a,o){var d=(function(B,W){for(;!{}.hasOwnProperty.call(B,W)&&(B=y(B))!==null;);return B})(f,a);if(d){var C=Object.getOwnPropertyDescriptor(d,a);return C.get?C.get.call(arguments.length<3?f:o):C.value}},v.apply(null,arguments)}function y(f){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},y(f)}function w(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),a&&x(f,a)}function k(){try{var f=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(k=function(){return!!f})()}function x(f,a){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,d){return o.__proto__=d,o},x(f,a)}function N(f,a,o,d){var C=v(y(1&d?f.prototype:f),a,o);return 2&d&&typeof C=="function"?function(B){return C.apply(o,B)}:C}function T(f){return(function(a){if(Array.isArray(a))return n(a)})(f)||(function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)})(f)||O(f)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function I(f){var a=(function(o,d){if(typeof o!="object"||!o)return o;var C=o[Symbol.toPrimitive];if(C!==void 0){var B=C.call(o,d);if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)})(f,"string");return typeof a=="symbol"?a:a+""}function O(f,a){if(f){if(typeof f=="string")return n(f,a);var o={}.toString.call(f).slice(8,-1);return o==="Object"&&f.constructor&&(o=f.constructor.name),o==="Map"||o==="Set"?Array.from(f):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(f,a):void 0}}function D(f){var a=typeof Map=="function"?new Map:void 0;return D=function(o){if(o===null||!(function(C){try{return Function.toString.call(C).indexOf("[native code]")!==-1}catch{return typeof C=="function"}})(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(o))return a.get(o);a.set(o,d)}function d(){return l(o,arguments,y(this).constructor)}return d.prototype=Object.create(o.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),x(d,o)},D(f)}var R=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(a){this._quadrantSegments=a,this._quadrantSegments===0&&(this._joinStyle=f.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=f.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),a<=0&&(this._quadrantSegments=1),this._joinStyle!==f.JOIN_ROUND&&(this._quadrantSegments=f.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(a){this._joinStyle=a}},{key:"setSimplifyFactor",value:function(a){this._simplifyFactor=a<0?0:a}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(a){this._endCapStyle=a}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(a){this._mitreLimit=a}},{key:"setSingleSided",value:function(a){this._isSingleSided=a}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=f.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=f.CAP_ROUND,this._joinStyle=f.JOIN_ROUND,this._mitreLimit=f.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=f.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.setQuadrantSegments(a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.setQuadrantSegments(o),this.setEndCapStyle(d)}else if(arguments.length===4){var C=arguments[0],B=arguments[1],W=arguments[2],se=arguments[3];this.setQuadrantSegments(C),this.setEndCapStyle(B),this.setJoinStyle(W),this.setMitreLimit(se)}}}},{key:"bufferDistanceError",value:function(a){var o=Math.PI/2/a;return 1-Math.cos(o/2)}}])})();R.CAP_ROUND=1,R.CAP_FLAT=2,R.CAP_SQUARE=3,R.JOIN_ROUND=1,R.JOIN_MITRE=2,R.JOIN_BEVEL=3,R.DEFAULT_QUADRANT_SEGMENTS=8,R.DEFAULT_MITRE_LIMIT=5,R.DEFAULT_SIMPLIFY_FACTOR=.01;var $=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({Exception:a})[0],d}return w(a,f),c(a,[{key:"toString",value:function(){return this.message}}])})(D(Error)),G=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({IllegalArgumentException:a})[0],d}return w(a,f),c(a)})($),ee=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f){}}])})();function te(){}function J(){}function H(){}var oe,q,Z,X,U,Q,ae,ue,le=(function(){return c((function f(){i(this,f)}),null,[{key:"equalsWithTolerance",value:function(f,a,o){return Math.abs(f-a)<=o}}])})(),be=(function(){return c((function f(a,o){i(this,f),this.low=o||0,this.high=a||0}),null,[{key:"toBinaryString",value:function(f){var a,o="";for(a=2147483648;a>0;a>>>=1)o+=(f.high&a)===a?"1":"0";for(a=2147483648;a>0;a>>>=1)o+=(f.low&a)===a?"1":"0";return o}}])})();function ke(){}function Te(){}ke.NaN=NaN,ke.isNaN=function(f){return Number.isNaN(f)},ke.isInfinite=function(f){return!Number.isFinite(f)},ke.MAX_VALUE=Number.MAX_VALUE,ke.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,ke.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(Q=2146435072,ae=new Float64Array(1),ue=new Int32Array(ae.buffer),ke.doubleToLongBits=function(f){ae[0]=f;var a=0|ue[0],o=0|ue[1];return(o&Q)===Q&&1048575&o&&a!==0&&(a=0,o=2146959360),new be(o,a)},ke.longBitsToDouble=function(f){return ue[0]=f.low,ue[1]=f.high,ae[0]}):(oe=1023,q=Math.log2,Z=Math.floor,X=Math.pow,U=(function(){for(var f=53;f>0;f--){var a=X(2,f)-1;if(Z(q(a))+1===f)return a}return 0})(),ke.doubleToLongBits=function(f){var a,o,d,C,B,W,se,xe,$e;if(f<0||1/f===Number.NEGATIVE_INFINITY?(W=1<<31,f=-f):W=0,f===0)return new be(xe=W,$e=0);if(f===1/0)return new be(xe=2146435072|W,$e=0);if(f!=f)return new be(xe=2146959360,$e=0);if(C=0,$e=0,(a=Z(f))>1)if(a<=U)(C=Z(q(a)))<=20?($e=0,xe=a<<20-C&1048575):($e=a%(o=X(2,d=C-20))<<32-d,xe=a/o&1048575);else for(d=a,$e=0;(d=Z(o=d/2))!==0;)C++,$e>>>=1,$e|=(1&xe)<<31,xe>>>=1,o!==d&&(xe|=524288);if(se=C+oe,B=a===0,a=f-a,C<52&&a!==0)for(d=0;;){if((o=2*a)>=1?(a=o-1,B?(se--,B=!1):(d<<=1,d|=1,C++)):(a=o,B?--se==0&&(C++,B=!1):(d<<=1,C++)),C===20)xe|=d,d=0;else if(C===52){$e|=d;break}if(o===1){C<20?xe|=d<<20-C:C<52&&($e|=d<<52-C);break}}return xe|=se<<20,new be(xe|=W,$e)},ke.longBitsToDouble=function(f){var a,o,d,C,B=f.high,W=f.low,se=B&1<<31?-1:1;for(d=((2146435072&B)>>20)-oe,C=0,o=1<<19,a=1;a<=20;a++)B&o&&(C+=X(2,-a)),o>>>=1;for(o=1<<31,a=21;a<=52;a++)W&o&&(C+=X(2,-a)),o>>>=1;if(d===-1023){if(C===0)return 0*se;d=-1022}else{if(d===1024)return C===0?se/0:NaN;C+=1}return se*C*X(2,d)});var ne=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({RuntimeException:a})[0],d}return w(a,f),c(a)})($),ce=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,null,[{key:"constructor_",value:function(){if(arguments.length===0)ne.constructor_.call(this);else if(arguments.length===1){var o=arguments[0];ne.constructor_.call(this,o)}}}])})(ne),me=(function(){function f(){i(this,f)}return c(f,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)f.shouldNeverReachHere(null);else if(arguments.length===1){var a=arguments[0];throw new ce("Should never reach here"+(a!==null?": "+a:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var a=arguments[0];f.isTrue(a,null)}else if(arguments.length===2){var o=arguments[1];if(!arguments[0])throw o===null?new ce:new ce(o)}}},{key:"equals",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];f.equals(a,o,null)}else if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2];if(!C.equals(d))throw new ce("Expected "+d+" but encountered "+C+(B!==null?": "+B:""))}}}])})(),we=new ArrayBuffer(8),Le=new Float64Array(we),Be=new Int32Array(we),he=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getM",value:function(){return ke.NaN}},{key:"setOrdinate",value:function(a,o){switch(a){case f.X:this.x=o;break;case f.Y:this.y=o;break;case f.Z:this.setZ(o);break;default:throw new G("Invalid ordinate index: "+a)}}},{key:"equals2D",value:function(){if(arguments.length===1){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(arguments.length===2){var o=arguments[0],d=arguments[1];return!!le.equalsWithTolerance(this.x,o.x,d)&&!!le.equalsWithTolerance(this.y,o.y,d)}}},{key:"setM",value:function(a){throw new G("Invalid ordinate index: "+f.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(a){switch(a){case f.X:return this.x;case f.Y:return this.y;case f.Z:return this.getZ()}throw new G("Invalid ordinate index: "+a)}},{key:"equals3D",value:function(a){return this.x===a.x&&this.y===a.y&&(this.getZ()===a.getZ()||ke.isNaN(this.getZ())&&ke.isNaN(a.getZ()))}},{key:"equals",value:function(a){return a instanceof f&&this.equals2D(a)}},{key:"equalInZ",value:function(a,o){return le.equalsWithTolerance(this.getZ(),a.getZ(),o)}},{key:"setX",value:function(a){this.x=a}},{key:"compareTo",value:function(a){var o=a;return this.x<o.x?-1:this.x>o.x?1:this.y<o.y?-1:this.y>o.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(a){this.z=a}},{key:"clone",value:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return me.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw a}}},{key:"copy",value:function(){return new f(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(a){var o=this.x-a.x,d=this.y-a.y,C=this.getZ()-a.getZ();return Math.sqrt(o*o+d*d+C*C)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(a){this.y=a}},{key:"distance",value:function(a){var o=this.x-a.x,d=this.y-a.y;return Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var a=17;return a=37*(a=37*a+f.hashCode(this.x))+f.hashCode(this.y)}},{key:"setCoordinate",value:function(a){this.x=a.x,this.y=a.y,this.z=a.getZ()}},{key:"interfaces_",get:function(){return[te,J,H]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)f.constructor_.call(this,0,0);else if(arguments.length===1){var a=arguments[0];f.constructor_.call(this,a.x,a.y,a.getZ())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];f.constructor_.call(this,o,d,f.NULL_ORDINATE)}else if(arguments.length===3){var C=arguments[0],B=arguments[1],W=arguments[2];this.x=C,this.y=B,this.z=W}}},{key:"hashCode",value:function(a){return Le[0]=a,Be[0]^Be[1]}}])})(),qe=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"compare",value:function(a,o){var d=f.compare(a.x,o.x);if(d!==0)return d;var C=f.compare(a.y,o.y);return C!==0?C:this._dimensionsToTest<=2?0:f.compare(a.getZ(),o.getZ())}},{key:"interfaces_",get:function(){return[Te]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)f.constructor_.call(this,2);else if(arguments.length===1){var a=arguments[0];if(a!==2&&a!==3)throw new G("only 2 or 3 dimensions may be specified");this._dimensionsToTest=a}}},{key:"compare",value:function(a,o){return a<o?-1:a>o?1:ke.isNaN(a)?ke.isNaN(o)?0:-1:ke.isNaN(o)?1:0}}])})();he.DimensionalComparator=qe,he.NULL_ORDINATE=ke.NaN,he.X=0,he.Y=1,he.Z=2,he.M=3;var We=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(a){if(!(a instanceof f))return!1;var o=a;return this.isNull()?o.isNull():this._maxx===o.getMaxX()&&this._maxy===o.getMaxY()&&this._minx===o.getMinX()&&this._miny===o.getMinY()}},{key:"intersection",value:function(a){if(this.isNull()||a.isNull()||!this.intersects(a))return new f;var o=this._minx>a._minx?this._minx:a._minx,d=this._miny>a._miny?this._miny:a._miny;return new f(o,this._maxx<a._maxx?this._maxx:a._maxx,d,this._maxy<a._maxy?this._maxy:a._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof f){var o=arguments[0];return!this.isNull()&&!o.isNull()&&o.getMinX()>=this._minx&&o.getMaxX()<=this._maxx&&o.getMinY()>=this._miny&&o.getMaxY()<=this._maxy}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];return!this.isNull()&&d>=this._minx&&d<=this._maxx&&C>=this._miny&&C<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny)}if(arguments[0]instanceof he){var o=arguments[0];return this.intersects(o.x,o.y)}}else if(arguments.length===2){if(arguments[0]instanceof he&&arguments[1]instanceof he){var d=arguments[0],C=arguments[1];return!this.isNull()&&!((d.x<C.x?d.x:C.x)>this._maxx)&&!((d.x>C.x?d.x:C.x)<this._minx)&&!((d.y<C.y?d.y:C.y)>this._maxy)&&!((d.y>C.y?d.y:C.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var B=arguments[0],W=arguments[1];return!this.isNull()&&!(B>this._maxx||B<this._minx||W>this._maxy||W<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var a=this.getWidth(),o=this.getHeight();return Math.sqrt(a*a+o*o)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof f){var o=arguments[0];if(o.isNull())return null;this.isNull()?(this._minx=o.getMinX(),this._maxx=o.getMaxX(),this._miny=o.getMinY(),this._maxy=o.getMaxY()):(o._minx<this._minx&&(this._minx=o._minx),o._maxx>this._maxx&&(this._maxx=o._maxx),o._miny<this._miny&&(this._miny=o._miny),o._maxy>this._maxy&&(this._maxy=o._maxy))}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.isNull()?(this._minx=d,this._maxx=d,this._miny=C,this._maxy=C):(d<this._minx&&(this._minx=d),d>this._maxx&&(this._maxx=d),C<this._miny&&(this._miny=C),C>this._maxy&&(this._maxy=C))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var a=this.getWidth(),o=this.getHeight();return a<o?a:o}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(a){var o=a;return this.isNull()?o.isNull()?0:-1:o.isNull()?1:this._minx<o._minx?-1:this._minx>o._minx?1:this._miny<o._miny?-1:this._miny>o._miny?1:this._maxx<o._maxx?-1:this._maxx>o._maxx?1:this._maxy<o._maxy?-1:this._maxy>o._maxy?1:0}},{key:"translate",value:function(a,o){if(this.isNull())return null;this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+o,this.getMaxY()+o)}},{key:"copy",value:function(){return new f(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(a){return!(!this.isNull()&&!a.isNull())||a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var a=this.getWidth(),o=this.getHeight();return a>o?a:o}},{key:"expandBy",value:function(){if(arguments.length===1){var a=arguments[0];this.expandBy(a,a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];if(this.isNull())return null;this._minx-=o,this._maxx+=o,this._miny-=d,this._maxy+=d,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.covers(a)}if(arguments[0]instanceof he){var o=arguments[0];return this.covers(o)}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];return this.covers(d,C)}}},{key:"centre",value:function(){return this.isNull()?null:new he((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof f){var o=arguments[0];this._minx=o._minx,this._maxx=o._maxx,this._miny=o._miny,this._maxy=o._maxy}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.init(d.x,C.x,d.y,C.y)}else if(arguments.length===4){var B=arguments[0],W=arguments[1],se=arguments[2],xe=arguments[3];B<W?(this._minx=B,this._maxx=W):(this._minx=W,this._maxx=B),se<xe?(this._miny=se,this._maxy=xe):(this._miny=xe,this._maxy=se)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(a){if(this.intersects(a))return 0;var o=0;this._maxx<a._minx?o=a._minx-this._maxx:this._minx>a._maxx&&(o=this._minx-a._maxx);var d=0;return this._maxy<a._miny?d=a._miny-this._maxy:this._miny>a._maxy&&(d=this._miny-a._maxy),o===0?d:d===0?o:Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var a=17;return a=37*(a=37*(a=37*(a=37*a+he.hashCode(this._minx))+he.hashCode(this._maxx))+he.hashCode(this._miny))+he.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[te,H]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof f){var o=arguments[0];this.init(o)}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.init(d.x,C.x,d.y,C.y)}else if(arguments.length===4){var B=arguments[0],W=arguments[1],se=arguments[2],xe=arguments[3];this.init(B,W,se,xe)}}},{key:"intersects",value:function(){if(arguments.length===3){var a=arguments[0],o=arguments[1],d=arguments[2];return d.x>=(a.x<o.x?a.x:o.x)&&d.x<=(a.x>o.x?a.x:o.x)&&d.y>=(a.y<o.y?a.y:o.y)&&d.y<=(a.y>o.y?a.y:o.y)}if(arguments.length===4){var C=arguments[0],B=arguments[1],W=arguments[2],se=arguments[3],xe=Math.min(W.x,se.x),$e=Math.max(W.x,se.x),st=Math.min(C.x,B.x),_t=Math.max(C.x,B.x);return!(st>$e)&&!(_t<xe)&&(xe=Math.min(W.y,se.y),$e=Math.max(W.y,se.y),st=Math.min(C.y,B.y),_t=Math.max(C.y,B.y),!(st>$e)&&!(_t<xe))}}}])})(),Fe=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===f.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(a){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(a){return this===a||this.equalsExact(a,0)}},{key:"geometryChanged",value:function(){this.apply(f.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(a){return a!==null&&this.norm().equalsExact(a.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var a;if(arguments.length===1){var o=arguments[0];return a=o,this.getTypeCode()!==a.getTypeCode()?this.getTypeCode()-a.getTypeCode():this.isEmpty()&&a.isEmpty()?0:this.isEmpty()?-1:a.isEmpty()?1:this.compareToSameClass(o)}if(arguments.length===2){var d=arguments[0],C=arguments[1];return a=d,this.getTypeCode()!==a.getTypeCode()?this.getTypeCode()-a.getTypeCode():this.isEmpty()&&a.isEmpty()?0:this.isEmpty()?-1:a.isEmpty()?1:this.compareToSameClass(d,C)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(a){if(a.getTypeCode()===f.TYPECODE_GEOMETRYCOLLECTION)throw new G("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(a,o,d){return d===0?a.equals(o):a.distance(o)<=d}},{key:"norm",value:function(){var a=this.copy();return a.normalize(),a}},{key:"reverse",value:function(){var a=this.reverseInternal();return this.envelope!=null&&(a.envelope=this.envelope.copy()),a.setSRID(this.getSRID()),a}},{key:"copy",value:function(){var a=this.copyInternal();return a.envelope=this._envelope==null?null:this._envelope.copy(),a._SRID=this._SRID,a._userData=this._userData,a}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new We(this._envelope)}},{key:"setSRID",value:function(a){this._SRID=a}},{key:"setUserData",value:function(a){this._userData=a}},{key:"compare",value:function(a,o){for(var d=a.iterator(),C=o.iterator();d.hasNext()&&C.hasNext();){var B=d.next(),W=C.next(),se=B.compareTo(W);if(se!==0)return se}return d.hasNext()?1:C.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(a){return this.getClass()===a.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===f.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===f.TYPECODE_MULTIPOINT||this.getTypeCode()===f.TYPECODE_MULTILINESTRING||this.getTypeCode()===f.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[J,te,H]}},{key:"getClass",value:function(){return f}}],[{key:"hasNonEmptyElements",value:function(a){for(var o=0;o<a.length;o++)if(!a[o].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(a){for(var o=0;o<a.length;o++)if(a[o]===null)return!0;return!1}}])})();Fe.constructor_=function(f){f&&(this._envelope=null,this._userData=null,this._factory=f,this._SRID=f.getSRID())},Fe.TYPECODE_POINT=0,Fe.TYPECODE_MULTIPOINT=1,Fe.TYPECODE_LINESTRING=2,Fe.TYPECODE_LINEARRING=3,Fe.TYPECODE_MULTILINESTRING=4,Fe.TYPECODE_POLYGON=5,Fe.TYPECODE_MULTIPOLYGON=6,Fe.TYPECODE_GEOMETRYCOLLECTION=7,Fe.TYPENAME_POINT="Point",Fe.TYPENAME_MULTIPOINT="MultiPoint",Fe.TYPENAME_LINESTRING="LineString",Fe.TYPENAME_LINEARRING="LinearRing",Fe.TYPENAME_MULTILINESTRING="MultiLineString",Fe.TYPENAME_POLYGON="Polygon",Fe.TYPENAME_MULTIPOLYGON="MultiPolygon",Fe.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Fe.geometryChangedFilter={get interfaces_(){return[ee]},filter:function(f){f.geometryChangedAction()}};var de=(function(){function f(){i(this,f)}return c(f,null,[{key:"toLocationSymbol",value:function(a){switch(a){case f.EXTERIOR:return"e";case f.BOUNDARY:return"b";case f.INTERIOR:return"i";case f.NONE:return"-"}throw new G("Unknown location value: "+a)}}])})();de.INTERIOR=0,de.BOUNDARY=1,de.EXTERIOR=2,de.NONE=-1;var it=(function(){return c((function f(){i(this,f)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),ft=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({NoSuchElementException:a})[0],d}return w(a,f),c(a)})($),fe=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({UnsupportedOperationException:a})[0],d}return w(a,f),c(a)})($),tt=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a,[{key:"contains",value:function(){}}])})(it),kt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a)).map=new Map,o instanceof it&&d.addAll(o),d}return w(a,f),c(a,[{key:"contains",value:function(o){var d=o.hashCode?o.hashCode():o;return!!this.map.has(d)}},{key:"add",value:function(o){var d=o.hashCode?o.hashCode():o;return!this.map.has(d)&&!!this.map.set(d,o)}},{key:"addAll",value:function(o){var d,C=g(o);try{for(C.s();!(d=C.n()).done;){var B=d.value;this.add(B)}}catch(W){C.e(W)}finally{C.f()}return!0}},{key:"remove",value:function(){throw new fe}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new At(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(tt),At=(function(){return c((function f(a){i(this,f),this.iterator=a.values();var o=this.iterator.next(),d=o.done,C=o.value;this.done=d,this.value=C}),[{key:"next",value:function(){if(this.done)throw new ft;var f=this.value,a=this.iterator.next(),o=a.done,d=a.value;return this.done=o,this.value=d,f}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new fe}}])})(),Ze=(function(){function f(){i(this,f)}return c(f,null,[{key:"opposite",value:function(a){return a===f.LEFT?f.RIGHT:a===f.RIGHT?f.LEFT:a}}])})();Ze.ON=0,Ze.LEFT=1,Ze.RIGHT=2;var Zt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({EmptyStackException:a})[0],d}return w(a,f),c(a)})($),nt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({IndexOutOfBoundsException:a})[0],d}return w(a,f),c(a)})($),mt=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(it),wt=(function(f){function a(){var o;return i(this,a),(o=r(this,a)).array=[],o}return w(a,f),c(a,[{key:"add",value:function(o){return this.array.push(o),!0}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new nt;return this.array[o]}},{key:"push",value:function(o){return this.array.push(o),o}},{key:"pop",value:function(){if(this.array.length===0)throw new Zt;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Zt;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(o){return this.array.indexOf(o)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(mt);function Et(f,a){return f.interfaces_&&f.interfaces_.indexOf(a)>-1}var Xt=(function(){return c((function f(a){i(this,f),this.str=a}),[{key:"append",value:function(f){this.str+=f}},{key:"setCharAt",value:function(f,a){this.str=this.str.substr(0,f)+a+this.str.substr(f+1)}},{key:"toString",value:function(){return this.str}}])})(),nn=(function(){function f(a){i(this,f),this.value=a}return c(f,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(a){return this.value<a?-1:this.value>a?1:0}}],[{key:"compare",value:function(a,o){return a<o?-1:a>o?1:0}},{key:"isNan",value:function(a){return Number.isNaN(a)}},{key:"valueOf",value:function(a){return new f(a)}}])})(),dn=(function(){return c((function f(){i(this,f)}),null,[{key:"isWhitespace",value:function(f){return f<=32&&f>=0||f===127}},{key:"toUpperCase",value:function(f){return f.toUpperCase()}}])})(),Dt=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"le",value:function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<=a._lo}},{key:"extractSignificantDigits",value:function(a,o){var d=this.abs(),C=f.magnitude(d._hi),B=f.TEN.pow(C);(d=d.divide(B)).gt(f.TEN)?(d=d.divide(f.TEN),C+=1):d.lt(f.ONE)&&(d=d.multiply(f.TEN),C-=1);for(var W=C+1,se=new Xt,xe=f.MAX_PRINT_DIGITS-1,$e=0;$e<=xe;$e++){a&&$e===W&&se.append(".");var st=Math.trunc(d._hi);if(st<0)break;var _t=!1,Yt=0;st>9?(_t=!0,Yt="9"):Yt="0"+st,se.append(Yt),d=d.subtract(f.valueOf(st)).multiply(f.TEN),_t&&d.selfAdd(f.TEN);var pn=!0,Pn=f.magnitude(d._hi);if(Pn<0&&Math.abs(Pn)>=xe-$e&&(pn=!1),!pn)break}return o[0]=C,se.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return this.add(a.negate())}if(typeof arguments[0]=="number"){var o=arguments[0];return this.add(-o)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof f){var a=arguments[0];return this._hi===a._hi&&this._lo===a._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a._hi,-a._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.isNaN()?this:this.selfAdd(-o,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(a){return this.le(a)?this:a}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.selfDivide(a._hi,a._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfDivide(o,0)}}else if(arguments.length===2){var d,C,B,W,se=arguments[0],xe=arguments[1],$e=null,st=null,_t=null,Yt=null;return B=this._hi/se,Yt=($e=(_t=f.SPLIT*B)-($e=_t-B))*(st=(Yt=f.SPLIT*se)-(st=Yt-se))-(W=B*se)+$e*(C=se-st)+(d=B-$e)*st+d*C,Yt=B+(_t=(this._hi-W-Yt+this._lo-B*xe)/se),this._hi=Yt,this._lo=B-Yt+_t,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof f){var a,o,d,C,B=arguments[0],W=null,se=null,xe=null,$e=null;return a=(d=this._hi/B._hi)-(W=(xe=f.SPLIT*d)-(W=xe-d)),$e=W*(se=($e=f.SPLIT*B._hi)-(se=$e-B._hi))-(C=d*B._hi)+W*(o=B._hi-se)+a*se+a*o,new f($e=d+(xe=(this._hi-C-$e+this._lo-d*B._lo)/B._hi),d-$e+xe)}if(typeof arguments[0]=="number"){var st=arguments[0];return ke.isNaN(st)?f.createNaN():f.copy(this).selfDivide(st,0)}}},{key:"ge",value:function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>=a._lo}},{key:"pow",value:function(a){if(a===0)return f.valueOf(1);var o=new f(this),d=f.valueOf(1),C=Math.abs(a);if(C>1)for(;C>0;)C%2==1&&d.selfMultiply(o),(C/=2)>0&&(o=o.sqr());else d=o;return a<0?d.reciprocal():d}},{key:"ceil",value:function(){if(this.isNaN())return f.NaN;var a=Math.ceil(this._hi),o=0;return a===this._hi&&(o=Math.ceil(this._lo)),new f(a,o)}},{key:"compareTo",value:function(a){var o=a;return this._hi<o._hi?-1:this._hi>o._hi?1:this._lo<o._lo?-1:this._lo>o._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return this.init(a),this}if(typeof arguments[0]=="number"){var o=arguments[0];return this.init(o),this}}},{key:"max",value:function(a){return this.ge(a)?this:a}},{key:"sqrt",value:function(){if(this.isZero())return f.valueOf(0);if(this.isNegative())return f.NaN;var a=1/Math.sqrt(this._hi),o=this._hi*a,d=f.valueOf(o),C=this.subtract(d.sqr())._hi*(.5*a);return d.add(C)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.selfAdd(a._hi,a._lo)}if(typeof arguments[0]=="number"){var o,d,C,B,W,se=arguments[0],xe=null;return xe=(C=this._hi+se)-(B=C-this._hi),d=(W=(xe=se-B+(this._hi-xe))+this._lo)+(C-(o=C+W)),this._hi=o+d,this._lo=d+(o-this._hi),this}}else if(arguments.length===2){var $e,st,_t,Yt,pn=arguments[0],Pn=arguments[1],$n=null,Mr=null,hr=null;_t=this._hi+pn,st=this._lo+Pn,Mr=_t-(hr=_t-this._hi),$n=st-(Yt=st-this._lo);var Ur=($e=_t+(hr=(Mr=pn-hr+(this._hi-Mr))+st))+(hr=($n=Pn-Yt+(this._lo-$n))+(hr+(_t-$e))),ti=hr+($e-Ur);return this._hi=Ur,this._lo=ti,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.selfMultiply(a._hi,a._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfMultiply(o,0)}}else if(arguments.length===2){var d,C,B=arguments[0],W=arguments[1],se=null,xe=null,$e=null,st=null;se=($e=f.SPLIT*this._hi)-this._hi,st=f.SPLIT*B,se=$e-se,d=this._hi-se,xe=st-B;var _t=($e=this._hi*B)+(st=se*(xe=st-xe)-$e+se*(C=B-xe)+d*xe+d*C+(this._hi*W+this._lo*B)),Yt=st+(se=$e-_t);return this._hi=_t,this._lo=Yt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return f.NaN;var a=Math.floor(this._hi),o=0;return a===this._hi&&(o=Math.floor(this._lo)),new f(a,o)}},{key:"negate",value:function(){return this.isNaN()?this:new f(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return null;throw a}}},{key:"multiply",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return a.isNaN()?f.createNaN():f.copy(this).selfMultiply(a)}if(typeof arguments[0]=="number"){var o=arguments[0];return ke.isNaN(o)?f.createNaN():f.copy(this).selfMultiply(o,0)}}},{key:"isNaN",value:function(){return ke.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var a=f.magnitude(this._hi);return a>=-3&&a<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var a=this.getSpecialNumberString();if(a!==null)return a;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!0,o),C=o[0]+1,B=d;if(d.charAt(0)===".")B="0"+d;else if(C<0)B="0."+f.stringOfChar("0",-C)+d;else if(d.indexOf(".")===-1){var W=C-d.length;B=d+f.stringOfChar("0",W)+".0"}return this.isNegative()?"-"+B:B}},{key:"reciprocal",value:function(){var a,o,d,C,B=null,W=null,se=null,xe=null;a=(d=1/this._hi)-(B=(se=f.SPLIT*d)-(B=se-d)),W=(xe=f.SPLIT*this._hi)-this._hi;var $e=d+(se=(1-(C=d*this._hi)-(xe=B*(W=xe-W)-C+B*(o=this._hi-W)+a*W+a*o)-d*this._lo)/this._hi);return new f($e,d-$e+se)}},{key:"toSciNotation",value:function(){if(this.isZero())return f.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(a!==null)return a;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!1,o),C=f.SCI_NOT_EXPONENT_CHAR+o[0];if(d.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+d);var B="";d.length>1&&(B=d.substring(1));var W=d.charAt(0)+"."+B;return this.isNegative()?"-"+W+C:W+C}},{key:"abs",value:function(){return this.isNaN()?f.NaN:this.isNegative()?this.negate():new f(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<a._lo}},{key:"add",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return f.copy(this).selfAdd(a)}if(typeof arguments[0]=="number"){var o=arguments[0];return f.copy(this).selfAdd(o)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var a=arguments[0];this._hi=a,this._lo=0}else if(arguments[0]instanceof f){var o=arguments[0];this._hi=o._hi,this._lo=o._lo}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this._hi=d,this._lo=C}}},{key:"gt",value:function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>a._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?f.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[H,te,J]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var a=arguments[0];this.init(a)}else if(arguments[0]instanceof f){var o=arguments[0];this.init(o)}else if(typeof arguments[0]=="string"){var d=arguments[0];f.constructor_.call(this,f.parse(d))}}else if(arguments.length===2){var C=arguments[0],B=arguments[1];this.init(C,B)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1],d=arguments[2],C=arguments[3];return f.determinant(f.valueOf(a),f.valueOf(o),f.valueOf(d),f.valueOf(C))}if(arguments[3]instanceof f&&arguments[2]instanceof f&&arguments[0]instanceof f&&arguments[1]instanceof f){var B=arguments[1],W=arguments[2],se=arguments[3];return arguments[0].multiply(se).selfSubtract(B.multiply(W))}}},{key:"sqr",value:function(a){return f.valueOf(a).selfMultiply(a)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var a=arguments[0];return f.parse(a)}if(typeof arguments[0]=="number")return new f(arguments[0])}},{key:"sqrt",value:function(a){return f.valueOf(a).sqrt()}},{key:"parse",value:function(a){for(var o=0,d=a.length;dn.isWhitespace(a.charAt(o));)o++;var C=!1;if(o<d){var B=a.charAt(o);B!=="-"&&B!=="+"||(o++,B==="-"&&(C=!0))}for(var W=new f,se=0,xe=0,$e=0,st=!1;!(o>=d);){var _t=a.charAt(o);if(o++,dn.isDigit(_t)){var Yt=_t-"0";W.selfMultiply(f.TEN),W.selfAdd(Yt),se++}else{if(_t!=="."){if(_t==="e"||_t==="E"){var pn=a.substring(o);try{$e=nn.parseInt(pn)}catch(Ur){throw Ur instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+pn+" in string "+a):Ur}break}throw new NumberFormatException("Unexpected character '"+_t+"' at position "+o+" in string "+a)}xe=se,st=!0}}var Pn=W;st||(xe=se);var $n=se-xe-$e;if($n===0)Pn=W;else if($n>0){var Mr=f.TEN.pow($n);Pn=W.divide(Mr)}else if($n<0){var hr=f.TEN.pow(-$n);Pn=W.multiply(hr)}return C?Pn.negate():Pn}},{key:"createNaN",value:function(){return new f(ke.NaN,ke.NaN)}},{key:"copy",value:function(a){return new f(a)}},{key:"magnitude",value:function(a){var o=Math.abs(a),d=Math.log(o)/Math.log(10),C=Math.trunc(Math.floor(d));return 10*Math.pow(10,C)<=o&&(C+=1),C}},{key:"stringOfChar",value:function(a,o){for(var d=new Xt,C=0;C<o;C++)d.append(a);return d.toString()}}])})();Dt.PI=new Dt(3.141592653589793,12246467991473532e-32),Dt.TWO_PI=new Dt(6.283185307179586,24492935982947064e-32),Dt.PI_2=new Dt(1.5707963267948966,6123233995736766e-32),Dt.E=new Dt(2.718281828459045,14456468917292502e-32),Dt.NaN=new Dt(ke.NaN,ke.NaN),Dt.EPS=123259516440783e-46,Dt.SPLIT=134217729,Dt.MAX_PRINT_DIGITS=32,Dt.TEN=Dt.valueOf(10),Dt.ONE=Dt.valueOf(1),Dt.SCI_NOT_EXPONENT_CHAR="E",Dt.SCI_NOT_ZERO="0.0E0";var Jt=(function(){function f(){i(this,f)}return c(f,null,[{key:"orientationIndex",value:function(a,o,d){var C=f.orientationIndexFilter(a,o,d);if(C<=1)return C;var B=Dt.valueOf(o.x).selfAdd(-a.x),W=Dt.valueOf(o.y).selfAdd(-a.y),se=Dt.valueOf(d.x).selfAdd(-o.x),xe=Dt.valueOf(d.y).selfAdd(-o.y);return B.selfMultiply(xe).selfSubtract(W.selfMultiply(se)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Dt&&arguments[2]instanceof Dt&&arguments[0]instanceof Dt&&arguments[1]instanceof Dt){var a=arguments[1],o=arguments[2],d=arguments[3];return arguments[0].multiply(d).selfSubtract(a.multiply(o)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var C=arguments[0],B=arguments[1],W=arguments[2],se=arguments[3],xe=Dt.valueOf(C),$e=Dt.valueOf(B),st=Dt.valueOf(W),_t=Dt.valueOf(se);return xe.multiply(_t).selfSubtract($e.multiply(st)).signum()}}},{key:"intersection",value:function(a,o,d,C){var B=new Dt(a.y).selfSubtract(o.y),W=new Dt(o.x).selfSubtract(a.x),se=new Dt(a.x).selfMultiply(o.y).selfSubtract(new Dt(o.x).selfMultiply(a.y)),xe=new Dt(d.y).selfSubtract(C.y),$e=new Dt(C.x).selfSubtract(d.x),st=new Dt(d.x).selfMultiply(C.y).selfSubtract(new Dt(C.x).selfMultiply(d.y)),_t=W.multiply(st).selfSubtract($e.multiply(se)),Yt=xe.multiply(se).selfSubtract(B.multiply(st)),pn=B.multiply($e).selfSubtract(xe.multiply(W)),Pn=_t.selfDivide(pn).doubleValue(),$n=Yt.selfDivide(pn).doubleValue();return ke.isNaN(Pn)||ke.isInfinite(Pn)||ke.isNaN($n)||ke.isInfinite($n)?null:new he(Pn,$n)}},{key:"orientationIndexFilter",value:function(a,o,d){var C=null,B=(a.x-d.x)*(o.y-d.y),W=(a.y-d.y)*(o.x-d.x),se=B-W;if(B>0){if(W<=0)return f.signum(se);C=B+W}else{if(!(B<0)||W>=0)return f.signum(se);C=-B-W}var xe=f.DP_SAFE_EPSILON*C;return se>=xe||-se>=xe?f.signum(se):2}},{key:"signum",value:function(a){return a>0?1:a<0?-1:0}}])})();Jt.DP_SAFE_EPSILON=1e-15;var Ft=(function(){return c((function f(){i(this,f)}),[{key:"getM",value:function(f){if(this.hasM()){var a=this.getDimension()-this.getMeasures();return this.getOrdinate(f,a)}return ke.NaN}},{key:"setOrdinate",value:function(f,a,o){}},{key:"getZ",value:function(f){return this.hasZ()?this.getOrdinate(f,2):ke.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(f,a){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(f){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(f){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(f){}},{key:"copy",value:function(){}},{key:"getY",value:function(f){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[J]}}])})();Ft.X=0,Ft.Y=1,Ft.Z=2,Ft.M=3;var ht=(function(){function f(){i(this,f)}return c(f,null,[{key:"index",value:function(a,o,d){return Jt.orientationIndex(a,o,d)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var a=arguments[0],o=a.length-1;if(o<3)throw new G("Ring has fewer than 4 points, so orientation cannot be determined");for(var d=a[0],C=0,B=1;B<=o;B++){var W=a[B];W.y>d.y&&(d=W,C=B)}var se=C;do(se-=1)<0&&(se=o);while(a[se].equals2D(d)&&se!==C);var xe=C;do xe=(xe+1)%o;while(a[xe].equals2D(d)&&xe!==C);var $e=a[se],st=a[xe];if($e.equals2D(d)||st.equals2D(d)||$e.equals2D(st))return!1;var _t=f.index($e,d,st);return _t===0?$e.x>st.x:_t>0}if(Et(arguments[0],Ft)){var Yt=arguments[0],pn=Yt.size()-1;if(pn<3)throw new G("Ring has fewer than 4 points, so orientation cannot be determined");for(var Pn=Yt.getCoordinate(0),$n=0,Mr=1;Mr<=pn;Mr++){var hr=Yt.getCoordinate(Mr);hr.y>Pn.y&&(Pn=hr,$n=Mr)}var Ur=null,ti=$n;do(ti-=1)<0&&(ti=pn),Ur=Yt.getCoordinate(ti);while(Ur.equals2D(Pn)&&ti!==$n);var ki=null,Wa=$n;do Wa=(Wa+1)%pn,ki=Yt.getCoordinate(Wa);while(ki.equals2D(Pn)&&Wa!==$n);if(Ur.equals2D(Pn)||ki.equals2D(Pn)||Ur.equals2D(ki))return!1;var Qo=f.index(Ur,Pn,ki);return Qo===0?Ur.x>ki.x:Qo>0}}}])})();ht.CLOCKWISE=-1,ht.RIGHT=ht.CLOCKWISE,ht.COUNTERCLOCKWISE=1,ht.LEFT=ht.COUNTERCLOCKWISE,ht.COLLINEAR=0,ht.STRAIGHT=ht.COLLINEAR;var Mt=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(f,a){var o=this.getRightmostSideOfSegment(f,a);return o<0&&(o=this.getRightmostSideOfSegment(f,a-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(f)),o}},{key:"findRightmostEdgeAtVertex",value:function(){var f=this._minDe.getEdge().getCoordinates();me.isTrue(this._minIndex>0&&this._minIndex<f.length,"rightmost point expected to be interior vertex of edge");var a=f[this._minIndex-1],o=f[this._minIndex+1],d=ht.index(this._minCoord,o,a),C=!1;(a.y<this._minCoord.y&&o.y<this._minCoord.y&&d===ht.COUNTERCLOCKWISE||a.y>this._minCoord.y&&o.y>this._minCoord.y&&d===ht.CLOCKWISE)&&(C=!0),C&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(f,a){var o=f.getEdge().getCoordinates();if(a<0||a+1>=o.length||o[a].y===o[a+1].y)return-1;var d=Ze.LEFT;return o[a].y<o[a+1].y&&(d=Ze.RIGHT),d}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(f){for(var a=f.getEdge().getCoordinates(),o=0;o<a.length-1;o++)(this._minCoord===null||a[o].x>this._minCoord.x)&&(this._minDe=f,this._minIndex=o,this._minCoord=a[o])}},{key:"findRightmostEdgeAtNode",value:function(){var f=this._minDe.getNode().getEdges();this._minDe=f.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(f){for(var a=f.iterator();a.hasNext();){var o=a.next();o.isForward()&&this.checkForRightmostCoordinate(o)}me.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ze.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),tn=(function(f){function a(o,d){var C;return i(this,a),(C=r(this,a,[d?o+" [ "+d+" ]":o])).pt=d?new he(d):void 0,C.name=Object.keys({TopologyException:a})[0],C}return w(a,f),c(a,[{key:"getCoordinate",value:function(){return this.pt}}])})(ne),fn=(function(){return c((function f(){i(this,f),this.array=[]}),[{key:"addLast",value:function(f){this.array.push(f)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),Tt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a)).array=[],o instanceof it&&d.addAll(o),d}return w(a,f),c(a,[{key:"interfaces_",get:function(){return[mt,it]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(o){return arguments.length===1?this.array.push(o):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(o){var d,C=g(o);try{for(C.s();!(d=C.n()).done;){var B=d.value;this.array.push(B)}}catch(W){C.e(W)}finally{C.f()}}},{key:"set",value:function(o,d){var C=this.array[o];return this.array[o]=d,C}},{key:"iterator",value:function(){return new zt(this)}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new nt;return this.array[o]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(o){o?this.array.sort((function(d,C){return o.compare(d,C)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(o){for(var d=0,C=this.array.length;d<C;d++)if(this.array[d]===o)return!!this.array.splice(d,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(mt),zt=(function(){return c((function f(a){i(this,f),this.arrayList=a,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new ft;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(f){return this.arrayList.set(this.position-1,f)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),jt=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var f=this._dirEdgeList.iterator();f.hasNext();)f.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(f){for(var a=null,o=f.getEdges().iterator();o.hasNext();){var d=o.next();if(d.isVisited()||d.getSym().isVisited()){a=d;break}}if(a===null)throw new tn("unable to find edge to compute depths at "+f.getCoordinate());f.getEdges().computeDepths(a);for(var C=f.getEdges().iterator();C.hasNext();){var B=C.next();B.setVisited(!0),this.copySymDepths(B)}}},{key:"computeDepth",value:function(f){this.clearVisitedEdges();var a=this._finder.getEdge();a.getNode(),a.getLabel(),a.setEdgeDepths(Ze.RIGHT,f),this.copySymDepths(a),this.computeDepths(a)}},{key:"create",value:function(f){this.addReachable(f),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var f=this._dirEdgeList.iterator();f.hasNext();){var a=f.next();a.getDepth(Ze.RIGHT)>=1&&a.getDepth(Ze.LEFT)<=0&&!a.isInteriorAreaEdge()&&a.setInResult(!0)}}},{key:"computeDepths",value:function(f){var a=new kt,o=new fn,d=f.getNode();for(o.addLast(d),a.add(d),f.setVisited(!0);!o.isEmpty();){var C=o.removeFirst();a.add(C),this.computeNodeDepth(C);for(var B=C.getEdges().iterator();B.hasNext();){var W=B.next().getSym();if(!W.isVisited()){var se=W.getNode();a.contains(se)||(o.addLast(se),a.add(se))}}}}},{key:"compareTo",value:function(f){var a=f;return this._rightMostCoord.x<a._rightMostCoord.x?-1:this._rightMostCoord.x>a._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var f=new We,a=this._dirEdgeList.iterator();a.hasNext();)for(var o=a.next().getEdge().getCoordinates(),d=0;d<o.length-1;d++)f.expandToInclude(o[d]);this._env=f}return this._env}},{key:"addReachable",value:function(f){var a=new wt;for(a.add(f);!a.empty();){var o=a.pop();this.add(o,a)}}},{key:"copySymDepths",value:function(f){var a=f.getSym();a.setDepth(Ze.LEFT,f.getDepth(Ze.RIGHT)),a.setDepth(Ze.RIGHT,f.getDepth(Ze.LEFT))}},{key:"add",value:function(f,a){f.setVisited(!0),this._nodes.add(f);for(var o=f.getEdges().iterator();o.hasNext();){var d=o.next();this._dirEdgeList.add(d);var C=d.getSym().getNode();C.isVisited()||a.push(C)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[te]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Tt,this._nodes=new Tt,this._rightMostCoord=null,this._env=null,this._finder=new Mt}}])})(),ln=(function(){return c((function f(){i(this,f)}),null,[{key:"intersection",value:function(f,a,o,d){var C=f.x<a.x?f.x:a.x,B=f.y<a.y?f.y:a.y,W=f.x>a.x?f.x:a.x,se=f.y>a.y?f.y:a.y,xe=o.x<d.x?o.x:d.x,$e=o.y<d.y?o.y:d.y,st=o.x>d.x?o.x:d.x,_t=o.y>d.y?o.y:d.y,Yt=((C>xe?C:xe)+(W<st?W:st))/2,pn=((B>$e?B:$e)+(se<_t?se:_t))/2,Pn=f.x-Yt,$n=f.y-pn,Mr=a.x-Yt,hr=a.y-pn,Ur=o.x-Yt,ti=o.y-pn,ki=d.x-Yt,Wa=d.y-pn,Qo=$n-hr,Ka=Mr-Pn,ls=Pn*hr-Mr*$n,es=ti-Wa,qo=ki-Ur,Os=Ur*Wa-ki*ti,wo=Qo*qo-es*Ka,mi=(Ka*Os-qo*ls)/wo,zr=(es*ls-Qo*Os)/wo;return ke.isNaN(mi)||ke.isInfinite(mi)||ke.isNaN(zr)||ke.isInfinite(zr)?null:new he(mi+Yt,zr+pn)}}])})(),an=(function(){return c((function f(){i(this,f)}),null,[{key:"arraycopy",value:function(f,a,o,d,C){for(var B=0,W=a;W<a+C;W++)o[d+B]=f[W],B++}},{key:"getProperty",value:function(f){return{"line.separator":`
`}[f]}}])})(),hn=(function(){function f(){i(this,f)}return c(f,null,[{key:"log10",value:function(a){var o=Math.log(a);return ke.isInfinite(o)||ke.isNaN(o)?o:o/f.LOG_10}},{key:"min",value:function(a,o,d,C){var B=a;return o<B&&(B=o),d<B&&(B=d),C<B&&(B=C),B}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1],d=arguments[2];return a<o?o:a>d?d:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var C=arguments[0],B=arguments[1],W=arguments[2];return C<B?B:C>W?W:C}}},{key:"wrap",value:function(a,o){return a<0?o- -a%o:a%o}},{key:"max",value:function(){if(arguments.length===3){var a=arguments[1],o=arguments[2],d=arguments[0];return a>d&&(d=a),o>d&&(d=o),d}if(arguments.length===4){var C=arguments[1],B=arguments[2],W=arguments[3],se=arguments[0];return C>se&&(se=C),B>se&&(se=B),W>se&&(se=W),se}}},{key:"average",value:function(a,o){return(a+o)/2}}])})();hn.LOG_10=Math.log(10);var Bn=(function(){function f(){i(this,f)}return c(f,null,[{key:"segmentToSegment",value:function(a,o,d,C){if(a.equals(o))return f.pointToSegment(a,d,C);if(d.equals(C))return f.pointToSegment(C,a,o);var B=!1;if(We.intersects(a,o,d,C)){var W=(o.x-a.x)*(C.y-d.y)-(o.y-a.y)*(C.x-d.x);if(W===0)B=!0;else{var se=(a.y-d.y)*(C.x-d.x)-(a.x-d.x)*(C.y-d.y),xe=((a.y-d.y)*(o.x-a.x)-(a.x-d.x)*(o.y-a.y))/W,$e=se/W;($e<0||$e>1||xe<0||xe>1)&&(B=!0)}}else B=!0;return B?hn.min(f.pointToSegment(a,d,C),f.pointToSegment(o,d,C),f.pointToSegment(d,a,o),f.pointToSegment(C,a,o)):0}},{key:"pointToSegment",value:function(a,o,d){if(o.x===d.x&&o.y===d.y)return a.distance(o);var C=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),B=((a.x-o.x)*(d.x-o.x)+(a.y-o.y)*(d.y-o.y))/C;if(B<=0)return a.distance(o);if(B>=1)return a.distance(d);var W=((o.y-a.y)*(d.x-o.x)-(o.x-a.x)*(d.y-o.y))/C;return Math.abs(W)*Math.sqrt(C)}},{key:"pointToLinePerpendicular",value:function(a,o,d){var C=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),B=((o.y-a.y)*(d.x-o.x)-(o.x-a.x)*(d.y-o.y))/C;return Math.abs(B)*Math.sqrt(C)}},{key:"pointToSegmentString",value:function(a,o){if(o.length===0)throw new G("Line array must contain at least one vertex");for(var d=a.distance(o[0]),C=0;C<o.length-1;C++){var B=f.pointToSegment(a,o[C],o[C+1]);B<d&&(d=B)}return d}}])})(),Rt=(function(){return c((function f(){i(this,f)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Et(arguments[0],Ft);else if(arguments.length!==2){if(arguments.length===3){var f=arguments[0],a=arguments[1];return this.create(f,a)}}}}])})(),Gt=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f){}}])})(),gn=(function(){return c((function f(){i(this,f)}),null,[{key:"ofLine",value:function(f){var a=f.size();if(a<=1)return 0;var o=0,d=new he;f.getCoordinate(0,d);for(var C=d.x,B=d.y,W=1;W<a;W++){f.getCoordinate(W,d);var se=d.x,xe=d.y,$e=se-C,st=xe-B;o+=Math.sqrt($e*$e+st*st),C=se,B=xe}return o}}])})(),An=c((function f(){i(this,f)})),Dn=(function(){function f(){i(this,f)}return c(f,null,[{key:"copyCoord",value:function(a,o,d,C){for(var B=Math.min(a.getDimension(),d.getDimension()),W=0;W<B;W++)d.setOrdinate(C,W,a.getOrdinate(o,W))}},{key:"isRing",value:function(a){var o=a.size();return o===0||!(o<=3)&&a.getOrdinate(0,Ft.X)===a.getOrdinate(o-1,Ft.X)&&a.getOrdinate(0,Ft.Y)===a.getOrdinate(o-1,Ft.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Et(arguments[0],Ft)&&Number.isInteger(arguments[1])){var a=arguments[0],o=arguments[1];f.scroll(a,o,f.isRing(a))}else if(Et(arguments[0],Ft)&&arguments[1]instanceof he){var d=arguments[0],C=arguments[1],B=f.indexOf(C,d);if(B<=0)return null;f.scroll(d,B)}}else if(arguments.length===3){var W=arguments[0],se=arguments[1],xe=arguments[2];if(se<=0)return null;for(var $e=W.copy(),st=xe?W.size()-1:W.size(),_t=0;_t<st;_t++)for(var Yt=0;Yt<W.getDimension();Yt++)W.setOrdinate(_t,Yt,$e.getOrdinate((se+_t)%st,Yt));if(xe)for(var pn=0;pn<W.getDimension();pn++)W.setOrdinate(st,pn,W.getOrdinate(0,pn))}}},{key:"isEqual",value:function(a,o){var d=a.size();if(d!==o.size())return!1;for(var C=Math.min(a.getDimension(),o.getDimension()),B=0;B<d;B++)for(var W=0;W<C;W++){var se=a.getOrdinate(B,W),xe=o.getOrdinate(B,W);if(a.getOrdinate(B,W)!==o.getOrdinate(B,W)&&(!ke.isNaN(se)||!ke.isNaN(xe)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var a=arguments[0];return f.minCoordinateIndex(a,0,a.size()-1)}if(arguments.length===3){for(var o=arguments[0],d=arguments[2],C=-1,B=null,W=arguments[1];W<=d;W++){var se=o.getCoordinate(W);(B===null||B.compareTo(se)>0)&&(B=se,C=W)}return C}}},{key:"extend",value:function(a,o,d){var C=a.create(d,o.getDimension()),B=o.size();if(f.copy(o,0,C,0,B),B>0)for(var W=B;W<d;W++)f.copy(o,B-1,C,W,1);return C}},{key:"reverse",value:function(a){for(var o=a.size()-1,d=Math.trunc(o/2),C=0;C<=d;C++)f.swap(a,C,o-C)}},{key:"swap",value:function(a,o,d){if(o===d)return null;for(var C=0;C<a.getDimension();C++){var B=a.getOrdinate(o,C);a.setOrdinate(o,C,a.getOrdinate(d,C)),a.setOrdinate(d,C,B)}}},{key:"copy",value:function(a,o,d,C,B){for(var W=0;W<B;W++)f.copyCoord(a,o+W,d,C+W)}},{key:"ensureValidRing",value:function(a,o){var d=o.size();return d===0?o:d<=3?f.createClosedRing(a,o,4):o.getOrdinate(0,Ft.X)===o.getOrdinate(d-1,Ft.X)&&o.getOrdinate(0,Ft.Y)===o.getOrdinate(d-1,Ft.Y)?o:f.createClosedRing(a,o,d+1)}},{key:"indexOf",value:function(a,o){for(var d=0;d<o.size();d++)if(a.x===o.getOrdinate(d,Ft.X)&&a.y===o.getOrdinate(d,Ft.Y))return d;return-1}},{key:"createClosedRing",value:function(a,o,d){var C=a.create(d,o.getDimension()),B=o.size();f.copy(o,0,C,0,B);for(var W=B;W<d;W++)f.copy(o,0,C,W,1);return C}},{key:"minCoordinate",value:function(a){for(var o=null,d=0;d<a.size();d++){var C=a.getCoordinate(d);(o===null||o.compareTo(C)>0)&&(o=C)}return o}}])})(),Kt=(function(){function f(){i(this,f)}return c(f,null,[{key:"toDimensionSymbol",value:function(a){switch(a){case f.FALSE:return f.SYM_FALSE;case f.TRUE:return f.SYM_TRUE;case f.DONTCARE:return f.SYM_DONTCARE;case f.P:return f.SYM_P;case f.L:return f.SYM_L;case f.A:return f.SYM_A}throw new G("Unknown dimension value: "+a)}},{key:"toDimensionValue",value:function(a){switch(dn.toUpperCase(a)){case f.SYM_FALSE:return f.FALSE;case f.SYM_TRUE:return f.TRUE;case f.SYM_DONTCARE:return f.DONTCARE;case f.SYM_P:return f.P;case f.SYM_L:return f.L;case f.SYM_A:return f.A}throw new G("Unknown dimension symbol: "+a)}}])})();Kt.P=0,Kt.L=1,Kt.A=2,Kt.FALSE=-1,Kt.TRUE=-2,Kt.DONTCARE=-3,Kt.SYM_FALSE="F",Kt.SYM_TRUE="T",Kt.SYM_DONTCARE="*",Kt.SYM_P="0",Kt.SYM_L="1",Kt.SYM_A="2";var dr=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f){}}])})(),mn=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f,a){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),br=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new We:this._points.expandEnvelope(new We)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var C=o;if(this._points.size()!==C._points.size())return!1;for(var B=0;B<this._points.size();B++)if(!this.equal(this._points.getCoordinate(B),C._points.getCoordinate(B),d))return!1;return!0}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<Math.trunc(this._points.size()/2);o++){var d=this._points.size()-1-o;if(!this._points.getCoordinate(o).equals(this._points.getCoordinate(d))){if(this._points.getCoordinate(o).compareTo(this._points.getCoordinate(d))>0){var C=this._points.copy();Dn.reverse(C),this._points=C}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Kt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Dn.reverse(o),this.getFactory().createLineString(o)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return gn.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var o=arguments[0],d=0,C=0;d<this._points.size()&&C<o._points.size();){var B=this._points.getCoordinate(d).compareTo(o._points.getCoordinate(C));if(B!==0)return B;d++,C++}return d<this._points.size()?1:C<o._points.size()?-1:0}if(arguments.length===2){var W=arguments[0];return arguments[1].compare(this._points,W._points)}}},{key:"apply",value:function(){if(Et(arguments[0],Gt))for(var o=arguments[0],d=0;d<this._points.size();d++)o.filter(this._points.getCoordinate(d));else if(Et(arguments[0],mn)){var C=arguments[0];if(this._points.size()===0)return null;for(var B=0;B<this._points.size()&&(C.filter(this._points,B),!C.isDone());B++);C.isGeometryChanged()&&this.geometryChanged()}else Et(arguments[0],dr)?arguments[0].filter(this):Et(arguments[0],ee)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new fe}},{key:"isEquivalentClass",value:function(o){return o instanceof a}},{key:"getCoordinateN",value:function(o){return this._points.getCoordinate(o)}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(o){if(o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),o.size()===1)throw new G("Invalid number of points in LineString (found "+o.size()+" - must be 0 or >= 2)");this._points=o}},{key:"isCoordinate",value:function(o){for(var d=0;d<this._points.size();d++)if(this._points.getCoordinate(d).equals(o))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(o){return this.getFactory().createPoint(this._points.getCoordinate(o))}},{key:"interfaces_",get:function(){return[An]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];Fe.constructor_.call(this,d),this.init(o)}}}}])})(Fe),Un=c((function f(){i(this,f)})),ur=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new We;var o=new We;return o.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),o}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new a(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&(!(!this.isEmpty()||!o.isEmpty())||this.isEmpty()===o.isEmpty()&&this.equal(o.getCoordinate(),this.getCoordinate(),d))}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Kt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0];return this.getCoordinate().compareTo(o.getCoordinate())}if(arguments.length===2){var d=arguments[0];return arguments[1].compare(this._coordinates,d._coordinates)}}},{key:"apply",value:function(){if(Et(arguments[0],Gt)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this.getCoordinate())}else if(Et(arguments[0],mn)){var d=arguments[0];if(this.isEmpty())return null;d.filter(this._coordinates,0),d.isGeometryChanged()&&this.geometryChanged()}else Et(arguments[0],dr)?arguments[0].filter(this):Et(arguments[0],ee)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(o){o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),me.isTrue(o.size()<=1),this._coordinates=o}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){this._coordinates=null;var o=arguments[0],d=arguments[1];Fe.constructor_.call(this,d),this.init(o)}}])})(Fe),Tr=(function(){function f(){i(this,f)}return c(f,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var a=arguments[0];return Math.abs(f.ofRingSigned(a))}if(Et(arguments[0],Ft)){var o=arguments[0];return Math.abs(f.ofRingSigned(o))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var a=arguments[0];if(a.length<3)return 0;for(var o=0,d=a[0].x,C=1;C<a.length-1;C++){var B=a[C].x-d,W=a[C+1].y;o+=B*(a[C-1].y-W)}return o/2}if(Et(arguments[0],Ft)){var se=arguments[0],xe=se.size();if(xe<3)return 0;var $e=new he,st=new he,_t=new he;se.getCoordinate(0,st),se.getCoordinate(1,_t);var Yt=st.x;_t.x-=Yt;for(var pn=0,Pn=1;Pn<xe-1;Pn++)$e.y=st.y,st.x=_t.x,st.y=_t.y,se.getCoordinate(Pn+1,_t),_t.x-=Yt,pn+=st.x*($e.y-_t.y);return pn/2}}}])})(),zn=(function(){return c((function f(){i(this,f)}),null,[{key:"sort",value:function(){var f=arguments,a=arguments[0];if(arguments.length===1)a.sort((function(Yt,pn){return Yt.compareTo(pn)}));else if(arguments.length===2)a.sort((function(Yt,pn){return f[1].compare(Yt,pn)}));else if(arguments.length===3){var o=a.slice(arguments[1],arguments[2]);o.sort();var d=a.slice(0,arguments[1]).concat(o,a.slice(arguments[2],a.length));a.splice(0,a.length);var C,B=g(d);try{for(B.s();!(C=B.n()).done;){var W=C.value;a.push(W)}}catch(Yt){B.e(Yt)}finally{B.f()}}else if(arguments.length===4){var se=a.slice(arguments[1],arguments[2]);se.sort((function(Yt,pn){return f[3].compare(Yt,pn)}));var xe=a.slice(0,arguments[1]).concat(se,a.slice(arguments[2],a.length));a.splice(0,a.length);var $e,st=g(xe);try{for(st.s();!($e=st.n()).done;){var _t=$e.value;a.push(_t)}}catch(Yt){st.e(Yt)}finally{st.f()}}}},{key:"asList",value:function(f){var a,o=new Tt,d=g(f);try{for(d.s();!(a=d.n()).done;){var C=a.value;o.add(C)}}catch(B){d.e(B)}finally{d.f()}return o}},{key:"copyOf",value:function(f,a){return f.slice(0,a)}}])})(),cn=c((function f(){i(this,f)})),Pr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var o=new Array(this.getNumPoints()).fill(null),d=-1,C=this._shell.getCoordinates(),B=0;B<C.length;B++)o[++d]=C[B];for(var W=0;W<this._holes.length;W++)for(var se=this._holes[W].getCoordinates(),xe=0;xe<se.length;xe++)o[++d]=se[xe];return o}},{key:"getArea",value:function(){var o=0;o+=Tr.ofRing(this._shell.getCoordinateSequence());for(var d=0;d<this._holes.length;d++)o-=Tr.ofRing(this._holes[d].getCoordinateSequence());return o}},{key:"copyInternal",value:function(){for(var o=this._shell.copy(),d=new Array(this._holes.length).fill(null),C=0;C<this._holes.length;C++)d[C]=this._holes[C].copy();return new a(o,d,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var o=this._shell.getCoordinateSequence(),d=this.getEnvelopeInternal(),C=0;C<5;C++){var B=o.getX(C);if(B!==d.getMinX()&&B!==d.getMaxX())return!1;var W=o.getY(C);if(W!==d.getMinY()&&W!==d.getMaxY())return!1}for(var se=o.getX(0),xe=o.getY(0),$e=1;$e<=4;$e++){var st=o.getX($e),_t=o.getY($e);if(st!==se==(_t!==xe))return!1;se=st,xe=_t}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var C=o,B=this._shell,W=C._shell;if(!B.equalsExact(W,d)||this._holes.length!==C._holes.length)return!1;for(var se=0;se<this._holes.length;se++)if(!this._holes[se].equalsExact(C._holes[se],d))return!1;return!0}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var o=0;o<this._holes.length;o++)this._holes[o]=this.normalized(this._holes[o],!1);zn.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],C=arguments[1];if(d.isEmpty())return null;var B=d.getCoordinateSequence(),W=Dn.minCoordinateIndex(B,0,B.size()-2);Dn.scroll(B,W,!0),ht.isCCW(B)===C&&Dn.reverse(B)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var o=this.getExteriorRing().reverse(),d=new Array(this.getNumInteriorRing()).fill(null),C=0;C<d.length;C++)d[C]=this.getInteriorRingN(C).reverse();return this.getFactory().createPolygon(o,d)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var o=0;o+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)o+=this._holes[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=this._shell.getNumPoints(),d=0;d<this._holes.length;d++)o+=this._holes[d].getNumPoints();return o}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(o,d){var C=o.copy();return this.normalize(C,d),C}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=this._shell,C=o._shell;return d.compareToSameClass(C)}if(arguments.length===2){var B=arguments[1],W=arguments[0],se=this._shell,xe=W._shell,$e=se.compareToSameClass(xe,B);if($e!==0)return $e;for(var st=this.getNumInteriorRing(),_t=W.getNumInteriorRing(),Yt=0;Yt<st&&Yt<_t;){var pn=this.getInteriorRingN(Yt),Pn=W.getInteriorRingN(Yt),$n=pn.compareToSameClass(Pn,B);if($n!==0)return $n;Yt++}return Yt<st?1:Yt<_t?-1:0}}},{key:"apply",value:function(){if(Et(arguments[0],Gt)){var o=arguments[0];this._shell.apply(o);for(var d=0;d<this._holes.length;d++)this._holes[d].apply(o)}else if(Et(arguments[0],mn)){var C=arguments[0];if(this._shell.apply(C),!C.isDone())for(var B=0;B<this._holes.length&&(this._holes[B].apply(C),!C.isDone());B++);C.isGeometryChanged()&&this.geometryChanged()}else if(Et(arguments[0],dr))arguments[0].filter(this);else if(Et(arguments[0],ee)){var W=arguments[0];W.filter(this),this._shell.apply(W);for(var se=0;se<this._holes.length;se++)this._holes[se].apply(W)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var o=new Array(this._holes.length+1).fill(null);o[0]=this._shell;for(var d=0;d<this._holes.length;d++)o[d+1]=this._holes[d];return o.length<=1?this.getFactory().createLinearRing(o[0].getCoordinateSequence()):this.getFactory().createMultiLineString(o)}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(o){return this._holes[o]}},{key:"interfaces_",get:function(){return[cn]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var o=arguments[0],d=arguments[1],C=arguments[2];if(Fe.constructor_.call(this,C),o===null&&(o=this.getFactory().createLinearRing()),d===null&&(d=[]),Fe.hasNullElements(d))throw new G("holes must not contain null elements");if(o.isEmpty()&&Fe.hasNonEmptyElements(d))throw new G("shell is empty but holes are not");this._shell=o,this._holes=d}}])})(Fe),Ri=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a)})(tt),Nn=(function(f){function a(o){var d;return i(this,a),(d=r(this,a)).array=[],o instanceof it&&d.addAll(o),d}return w(a,f),c(a,[{key:"contains",value:function(o){var d,C=g(this.array);try{for(C.s();!(d=C.n()).done;)if(d.value.compareTo(o)===0)return!0}catch(B){C.e(B)}finally{C.f()}return!1}},{key:"add",value:function(o){if(this.contains(o))return!1;for(var d=0,C=this.array.length;d<C;d++)if(this.array[d].compareTo(o)===1)return!!this.array.splice(d,0,o);return this.array.push(o),!0}},{key:"addAll",value:function(o){var d,C=g(o);try{for(C.s();!(d=C.n()).done;){var B=d.value;this.add(B)}}catch(W){C.e(W)}finally{C.f()}return!0}},{key:"remove",value:function(){throw new fe}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Gn(this.array)}}])})(Ri),Gn=(function(){return c((function f(a){i(this,f),this.array=a,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new ft;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new fe}}])})(),wn=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){for(var o=new We,d=0;d<this._geometries.length;d++)o.expandToInclude(this._geometries[d].getEnvelopeInternal());return o}},{key:"getGeometryN",value:function(o){return this._geometries[o]}},{key:"getCoordinates",value:function(){for(var o=new Array(this.getNumPoints()).fill(null),d=-1,C=0;C<this._geometries.length;C++)for(var B=this._geometries[C].getCoordinates(),W=0;W<B.length;W++)o[++d]=B[W];return o}},{key:"getArea",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getArea();return o}},{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var C=o;if(this._geometries.length!==C._geometries.length)return!1;for(var B=0;B<this._geometries.length;B++)if(!this._geometries[B].equalsExact(C._geometries[B],d))return!1;return!0}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<this._geometries.length;o++)this._geometries[o].normalize();zn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var o=Kt.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getBoundaryDimension());return o}},{key:"reverseInternal",value:function(){for(var o=this._geometries.length,d=new Tt(o),C=0;C<o;C++)d.add(this._geometries[C].reverse());return this.getFactory().buildGeometry(d)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var o=Kt.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getDimension());return o}},{key:"getLength",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getNumPoints();return o}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=new Nn(zn.asList(this._geometries)),C=new Nn(zn.asList(o._geometries));return this.compare(d,C)}if(arguments.length===2){for(var B=arguments[1],W=arguments[0],se=this.getNumGeometries(),xe=W.getNumGeometries(),$e=0;$e<se&&$e<xe;){var st=this.getGeometryN($e),_t=W.getGeometryN($e),Yt=st.compareToSameClass(_t,B);if(Yt!==0)return Yt;$e++}return $e<se?1:$e<xe?-1:0}}},{key:"apply",value:function(){if(Et(arguments[0],Gt))for(var o=arguments[0],d=0;d<this._geometries.length;d++)this._geometries[d].apply(o);else if(Et(arguments[0],mn)){var C=arguments[0];if(this._geometries.length===0)return null;for(var B=0;B<this._geometries.length&&(this._geometries[B].apply(C),!C.isDone());B++);C.isGeometryChanged()&&this.geometryChanged()}else if(Et(arguments[0],dr)){var W=arguments[0];W.filter(this);for(var se=0;se<this._geometries.length;se++)this._geometries[se].apply(W)}else if(Et(arguments[0],ee)){var xe=arguments[0];xe.filter(this);for(var $e=0;$e<this._geometries.length;$e++)this._geometries[$e].apply(xe)}}},{key:"getBoundary",value:function(){return Fe.checkNotGeometryCollection(this),me.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];if(Fe.constructor_.call(this,d),o===null&&(o=[]),Fe.hasNullElements(o))throw new G("geometries must not contain null elements");this._geometries=o}}}}])})(Fe),nr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&N(a,"equalsExact",this,1).call(this,o,d)}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var o=arguments[0];return this._geometries[o].getCoordinate()}return N(a,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Kt.FALSE}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];wn.constructor_.call(this,o,d)}}])})(wn),sr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Kt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||N(a,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Dn.reverse(o),this.getFactory().createLinearRing(o)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!N(a,"isClosed",this,1).call(this))throw new G("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<a.MINIMUM_VALID_SIZE)throw new G("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];br.constructor_.call(this,o,d),this.validateConstruction()}}])})(br);sr.MINIMUM_VALID_SIZE=4;var fr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"setOrdinate",value:function(o,d){switch(o){case a.X:this.x=d;break;case a.Y:this.y=d;break;default:throw new G("Invalid ordinate index: "+o)}}},{key:"getZ",value:function(){return he.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case a.X:return this.x;case a.Y:return this.y}throw new G("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new G("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)he.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof a){var o=arguments[0];he.constructor_.call(this,o.x,o.y)}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d.x,d.y)}}else if(arguments.length===2){var C=arguments[0],B=arguments[1];he.constructor_.call(this,C,B,he.NULL_ORDINATE)}}}])})(he);fr.X=0,fr.Y=1,fr.Z=-1,fr.M=-1;var wr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case a.X:this.x=d;break;case a.Y:this.y=d;break;case a.M:this._m=d;break;default:throw new G("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getZ",value:function(){return he.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case a.X:return this.x;case a.Y:return this.y;case a.M:return this._m}throw new G("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new G("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)he.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof a){var o=arguments[0];he.constructor_.call(this,o.x,o.y),this._m=o._m}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d.x,d.y),this._m=this.getM()}}else if(arguments.length===3){var C=arguments[0],B=arguments[1],W=arguments[2];he.constructor_.call(this,C,B,he.NULL_ORDINATE),this._m=W}}}])})(he);wr.X=0,wr.Y=1,wr.Z=-1,wr.M=2;var Nr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case he.X:this.x=d;break;case he.Y:this.y=d;break;case he.Z:this.z=d;break;case he.M:this._m=d;break;default:throw new G("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getOrdinate",value:function(o){switch(o){case he.X:return this.x;case he.Y:return this.y;case he.Z:return this.getZ();case he.M:return this.getM()}throw new G("Invalid ordinate index: "+o)}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)he.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof a){var o=arguments[0];he.constructor_.call(this,o),this._m=o._m}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d),this._m=this.getM()}}else if(arguments.length===4){var C=arguments[0],B=arguments[1],W=arguments[2],se=arguments[3];he.constructor_.call(this,C,B,W),this._m=se}}}])})(he),Si=(function(){function f(){i(this,f)}return c(f,null,[{key:"measures",value:function(a){return a instanceof fr?0:a instanceof wr||a instanceof Nr?1:0}},{key:"dimension",value:function(a){return a instanceof fr?2:a instanceof wr?3:a instanceof Nr?4:3}},{key:"create",value:function(){if(arguments.length===1){var a=arguments[0];return f.create(a,0)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return o===2?new fr:o===3&&d===0?new he:o===3&&d===1?new wr:o===4&&d===1?new Nr:new he}}}])})(),yi=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getCoordinate",value:function(o){return this.get(o)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Et(arguments[0],it)){for(var o=arguments[1],d=!1,C=arguments[0].iterator();C.hasNext();)this.add(C.next(),o),d=!0;return d}return N(a,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var o=N(a,"clone",this,1).call(this),d=0;d<this.size();d++)o.add(d,this.get(d).clone());return o}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(a.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(a.coordArrayType);for(var o=this.size(),d=new Array(o).fill(null),C=0;C<o;C++)d[C]=this.get(o-C-1);return d}}},{key:"add",value:function(){if(arguments.length===1){var o=arguments[0];return N(a,"add",this,1).call(this,o)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],C=arguments[1];return this.add(d,C,!0),!0}if(arguments[0]instanceof he&&typeof arguments[1]=="boolean"){var B=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(B))return null;N(a,"add",this,1).call(this,B)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var W=arguments[0],se=arguments[1];return this.add(W,se),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var xe=arguments[0],$e=arguments[1];if(arguments[2])for(var st=0;st<xe.length;st++)this.add(xe[st],$e);else for(var _t=xe.length-1;_t>=0;_t--)this.add(xe[_t],$e);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof he){var Yt=arguments[0],pn=arguments[1];if(!arguments[2]){var Pn=this.size();if(Pn>0&&(Yt>0&&this.get(Yt-1).equals2D(pn)||Yt<Pn&&this.get(Yt).equals2D(pn)))return null}N(a,"add",this,1).call(this,Yt,pn)}}else if(arguments.length===4){var $n=arguments[0],Mr=arguments[1],hr=arguments[2],Ur=arguments[3],ti=1;hr>Ur&&(ti=-1);for(var ki=hr;ki!==Ur;ki+=ti)this.add($n[ki],Mr);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var o=this.get(0).copy();this.add(o,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var o=arguments[0];this.ensureCapacity(o.length),this.add(o,!0)}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.ensureCapacity(d.length),this.add(d,C)}}}}])})(Tt);yi.coordArrayType=new Array(0).fill(null);var mr=(function(){function f(){i(this,f)}return c(f,null,[{key:"isRing",value:function(a){return!(a.length<4)&&!!a[0].equals2D(a[a.length-1])}},{key:"ptNotInList",value:function(a,o){for(var d=0;d<a.length;d++){var C=a[d];if(f.indexOf(C,o)<0)return C}return null}},{key:"scroll",value:function(a,o){var d=f.indexOf(o,a);if(d<0)return null;var C=new Array(a.length).fill(null);an.arraycopy(a,d,C,0,a.length-d),an.arraycopy(a,0,C,a.length-d,d),an.arraycopy(C,0,a,0,a.length)}},{key:"equals",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];if(a===o)return!0;if(a===null||o===null||a.length!==o.length)return!1;for(var d=0;d<a.length;d++)if(!a[d].equals(o[d]))return!1;return!0}if(arguments.length===3){var C=arguments[0],B=arguments[1],W=arguments[2];if(C===B)return!0;if(C===null||B===null||C.length!==B.length)return!1;for(var se=0;se<C.length;se++)if(W.compare(C[se],B[se])!==0)return!1;return!0}}},{key:"intersection",value:function(a,o){for(var d=new yi,C=0;C<a.length;C++)o.intersects(a[C])&&d.add(a[C],!0);return d.toCoordinateArray()}},{key:"measures",value:function(a){if(a===null||a.length===0)return 0;var o,d=0,C=g(a);try{for(C.s();!(o=C.n()).done;){var B=o.value;d=Math.max(d,Si.measures(B))}}catch(W){C.e(W)}finally{C.f()}return d}},{key:"hasRepeatedPoints",value:function(a){for(var o=1;o<a.length;o++)if(a[o-1].equals(a[o]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(a){return f.hasRepeatedPoints(a)?new yi(a,!1).toCoordinateArray():a}},{key:"reverse",value:function(a){for(var o=a.length-1,d=Math.trunc(o/2),C=0;C<=d;C++){var B=a[C];a[C]=a[o-C],a[o-C]=B}}},{key:"removeNull",value:function(a){for(var o=0,d=0;d<a.length;d++)a[d]!==null&&o++;var C=new Array(o).fill(null);if(o===0)return C;for(var B=0,W=0;W<a.length;W++)a[W]!==null&&(C[B++]=a[W]);return C}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var a=arguments[0],o=new Array(a.length).fill(null),d=0;d<a.length;d++)o[d]=a[d].copy();return o}if(arguments.length===5)for(var C=arguments[0],B=arguments[1],W=arguments[2],se=arguments[3],xe=arguments[4],$e=0;$e<xe;$e++)W[se+$e]=C[B+$e].copy()}},{key:"isEqualReversed",value:function(a,o){for(var d=0;d<a.length;d++){var C=a[d],B=o[a.length-d-1];if(C.compareTo(B)!==0)return!1}return!0}},{key:"envelope",value:function(a){for(var o=new We,d=0;d<a.length;d++)o.expandToInclude(a[d]);return o}},{key:"toCoordinateArray",value:function(a){return a.toArray(f.coordArrayType)}},{key:"dimension",value:function(a){if(a===null||a.length===0)return 3;var o,d=0,C=g(a);try{for(C.s();!(o=C.n()).done;){var B=o.value;d=Math.max(d,Si.dimension(B))}}catch(W){C.e(W)}finally{C.f()}return d}},{key:"atLeastNCoordinatesOrNothing",value:function(a,o){return o.length>=a?o:[]}},{key:"indexOf",value:function(a,o){for(var d=0;d<o.length;d++)if(a.equals(o[d]))return d;return-1}},{key:"increasingDirection",value:function(a){for(var o=0;o<Math.trunc(a.length/2);o++){var d=a.length-1-o,C=a[o].compareTo(a[d]);if(C!==0)return C}return 1}},{key:"compare",value:function(a,o){for(var d=0;d<a.length&&d<o.length;){var C=a[d].compareTo(o[d]);if(C!==0)return C;d++}return d<o.length?-1:d<a.length?1:0}},{key:"minCoordinate",value:function(a){for(var o=null,d=0;d<a.length;d++)(o===null||o.compareTo(a[d])>0)&&(o=a[d]);return o}},{key:"extract",value:function(a,o,d){o=hn.clamp(o,0,a.length);var C=(d=hn.clamp(d,-1,a.length))-o+1;d<0&&(C=0),o>=a.length&&(C=0),d<o&&(C=0);var B=new Array(C).fill(null);if(C===0)return B;for(var W=0,se=o;se<=d;se++)B[W++]=a[se];return B}}])})(),Hi=(function(){return c((function f(){i(this,f)}),[{key:"compare",value:function(f,a){var o=f,d=a;return mr.compare(o,d)}},{key:"interfaces_",get:function(){return[Te]}}])})(),Jn=(function(){return c((function f(){i(this,f)}),[{key:"compare",value:function(f,a){var o=f,d=a;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;var C=mr.compare(o,d);return mr.isEqualReversed(o,d)?0:C}},{key:"OLDcompare",value:function(f,a){var o=f,d=a;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;for(var C=mr.increasingDirection(o),B=mr.increasingDirection(d),W=C>0?0:o.length-1,se=B>0?0:o.length-1,xe=0;xe<o.length;xe++){var $e=o[W].compareTo(d[se]);if($e!==0)return $e;W+=C,se+=B}return 0}},{key:"interfaces_",get:function(){return[Te]}}])})();mr.ForwardComparator=Hi,mr.BidirectionalComparator=Jn,mr.coordArrayType=new Array(0).fill(null);var xn=(function(){return c((function f(a){i(this,f),this.str=a}),[{key:"append",value:function(f){this.str+=f}},{key:"setCharAt",value:function(f,a){this.str=this.str.substr(0,f)+a+this.str.substr(f+1)}},{key:"toString",value:function(){return this.str}}])})(),rr=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getM",value:function(a){return this.hasM()?this._coordinates[a].getM():ke.NaN}},{key:"setOrdinate",value:function(a,o,d){switch(o){case Ft.X:this._coordinates[a].x=d;break;case Ft.Y:this._coordinates[a].y=d;break;default:this._coordinates[a].setOrdinate(o,d)}}},{key:"getZ",value:function(a){return this.hasZ()?this._coordinates[a].getZ():ke.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(a,o){switch(o){case Ft.X:return this._coordinates[a].x;case Ft.Y:return this._coordinates[a].y;default:return this._coordinates[a].getOrdinate(o)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var a=arguments[0];return this._coordinates[a]}if(arguments.length===2){var o=arguments[0];arguments[1].setCoordinate(this._coordinates[o])}}},{key:"getCoordinateCopy",value:function(a){var o=this.createCoordinate();return o.setCoordinate(this._coordinates[a]),o}},{key:"createCoordinate",value:function(){return Si.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(a){return this._coordinates[a].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(a){for(var o=0;o<this._coordinates.length;o++)a.expandToInclude(this._coordinates[o]);return a}},{key:"copy",value:function(){for(var a=new Array(this.size()).fill(null),o=0;o<this._coordinates.length;o++){var d=this.createCoordinate();d.setCoordinate(this._coordinates[o]),a[o]=d}return new f(a,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var a=new xn(17*this._coordinates.length);a.append("("),a.append(this._coordinates[0]);for(var o=1;o<this._coordinates.length;o++)a.append(", "),a.append(this._coordinates[o]);return a.append(")"),a.toString()}return"()"}},{key:"getY",value:function(a){return this._coordinates[a].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ft,H]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];f.constructor_.call(this,a,mr.dimension(a),mr.measures(a))}else if(Number.isInteger(arguments[0])){var o=arguments[0];this._coordinates=new Array(o).fill(null);for(var d=0;d<o;d++)this._coordinates[d]=new he}else if(Et(arguments[0],Ft)){var C=arguments[0];if(C===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=C.getDimension(),this._measures=C.getMeasures(),this._coordinates=new Array(C.size()).fill(null);for(var B=0;B<this._coordinates.length;B++)this._coordinates[B]=C.getCoordinateCopy(B)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var W=arguments[0],se=arguments[1];f.constructor_.call(this,W,se,mr.measures(W))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var xe=arguments[0],$e=arguments[1];this._coordinates=new Array(xe).fill(null),this._dimension=$e;for(var st=0;st<xe;st++)this._coordinates[st]=Si.create($e)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var _t=arguments[0],Yt=arguments[1],pn=arguments[2];this._dimension=Yt,this._measures=pn,this._coordinates=_t===null?new Array(0).fill(null):_t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Pn=arguments[0],$n=arguments[1],Mr=arguments[2];this._coordinates=new Array(Pn).fill(null),this._dimension=$n,this._measures=Mr;for(var hr=0;hr<Pn;hr++)this._coordinates[hr]=this.createCoordinate()}}}}])})(),pr=(function(){function f(){i(this,f)}return c(f,[{key:"readResolve",value:function(){return f.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new rr(arguments[0]);if(Et(arguments[0],Ft))return new rr(arguments[0])}else{if(arguments.length===2){var a=arguments[1];return a>3&&(a=3),a<2&&(a=2),new rr(arguments[0],a)}if(arguments.length===3){var o=arguments[2],d=arguments[1]-o;return o>1&&(o=1),d>3&&(d=3),d<2&&(d=2),new rr(arguments[0],d+o,o)}}}},{key:"interfaces_",get:function(){return[Rt,H]}}],[{key:"instance",value:function(){return f.instanceObject}}])})();pr.instanceObject=new pr;var gr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&N(a,"equalsExact",this,1).call(this,o,d)}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var o=new Tt,d=0;d<this._geometries.length;d++)for(var C=this._geometries[d].getBoundary(),B=0;B<C.getNumGeometries();B++)o.add(C.getGeometryN(B));var W=new Array(o.size()).fill(null);return this.getFactory().createMultiLineString(o.toArray(W))}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[cn]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];wn.constructor_.call(this,o,d)}}])})(wn),_i=(function(){return c((function f(){i(this,f)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Sn=(function(f){function a(){var o;return i(this,a),(o=r(this,a)).map=new Map,o}return w(a,f),c(a,[{key:"get",value:function(o){return this.map.get(o)||null}},{key:"put",value:function(o,d){return this.map.set(o,d),d}},{key:"values",value:function(){for(var o=new Tt,d=this.map.values(),C=d.next();!C.done;)o.add(C.value),C=d.next();return o}},{key:"entrySet",value:function(){var o=new kt;return this.map.entries().forEach((function(d){return o.add(d)})),o}},{key:"size",value:function(){return this.map.size()}}])})(_i),kn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"equals",value:function(a){if(!(a instanceof f))return!1;var o=a;return this._modelType===o._modelType&&this._scale===o._scale}},{key:"compareTo",value:function(a){var o=a,d=this.getMaximumSignificantDigits(),C=o.getMaximumSignificantDigits();return nn.compare(d,C)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===f.FLOATING||this._modelType===f.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var a="UNKNOWN";return this._modelType===f.FLOATING?a="Floating":this._modelType===f.FLOATING_SINGLE?a="Floating-Single":this._modelType===f.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var a=arguments[0];return ke.isNaN(a)||this._modelType===f.FLOATING_SINGLE?a:this._modelType===f.FIXED?Math.round(a*this._scale)/this._scale:a}if(arguments[0]instanceof he){var o=arguments[0];if(this._modelType===f.FLOATING)return null;o.x=this.makePrecise(o.x),o.y=this.makePrecise(o.y)}}},{key:"getMaximumSignificantDigits",value:function(){var a=16;return this._modelType===f.FLOATING?a=16:this._modelType===f.FLOATING_SINGLE?a=6:this._modelType===f.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a}},{key:"setScale",value:function(a){this._scale=Math.abs(a)}},{key:"interfaces_",get:function(){return[H,te]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=f.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Xn){var a=arguments[0];this._modelType=a,a===f.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var o=arguments[0];this._modelType=f.FIXED,this.setScale(o)}else if(arguments[0]instanceof f){var d=arguments[0];this._modelType=d._modelType,this._scale=d._scale}}}},{key:"mostPrecise",value:function(a,o){return a.compareTo(o)>=0?a:o}}])})(),Xn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"readResolve",value:function(){return f.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[H]}}],[{key:"constructor_",value:function(){this._name=null;var a=arguments[0];this._name=a,f.nameToTypeMap.put(a,this)}}])})();Xn.nameToTypeMap=new Sn,kn.Type=Xn,kn.FIXED=new Xn("FIXED"),kn.FLOATING=new Xn("FLOATING"),kn.FLOATING_SINGLE=new Xn("FLOATING SINGLE"),kn.maximumPreciseValue=9007199254740992;var Gr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&N(a,"equalsExact",this,1).call(this,o,d)}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Kt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new fe}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[An]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];wn.constructor_.call(this,o,d)}}])})(wn),$r=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"createEmpty",value:function(a){switch(a){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new G("Invalid dimension: "+a)}}},{key:"toGeometry",value:function(a){return a.isNull()?this.createPoint():a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new he(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new he(a.getMinX(),a.getMinY()),new he(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new he(a.getMinX(),a.getMinY()),new he(a.getMinX(),a.getMaxY()),new he(a.getMaxX(),a.getMaxY()),new he(a.getMaxX(),a.getMinY()),new he(a.getMinX(),a.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLineString(a!==null?this.getCoordinateSequenceFactory().create(a):null)}if(Et(arguments[0],Ft))return new br(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Gr(null,this):arguments.length===1?new Gr(arguments[0],this):void 0}},{key:"buildGeometry",value:function(a){for(var o=null,d=!1,C=!1,B=a.iterator();B.hasNext();){var W=B.next(),se=W.getTypeCode();o===null&&(o=se),se!==o&&(d=!0),W instanceof wn&&(C=!0)}if(o===null)return this.createGeometryCollection();if(d||C)return this.createGeometryCollection(f.toGeometryArray(a));var xe=a.iterator().next();if(a.size()>1){if(xe instanceof Pr)return this.createMultiPolygon(f.toPolygonArray(a));if(xe instanceof br)return this.createMultiLineString(f.toLineStringArray(a));if(xe instanceof ur)return this.createMultiPoint(f.toPointArray(a));me.shouldNeverReachHere("Unhandled geometry type: "+xe.getGeometryType())}return xe}},{key:"createMultiPointFromCoords",value:function(a){return this.createMultiPoint(a!==null?this.getCoordinateSequenceFactory().create(a):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];return this.createPoint(a!==null?this.getCoordinateSequenceFactory().create([a]):null)}if(Et(arguments[0],Ft))return new ur(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Et(arguments[0],Ft)){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof Array){var o=arguments[0];return this.createPolygon(this.createLinearRing(o))}if(arguments[0]instanceof sr){var d=arguments[0];return this.createPolygon(d,null)}}else if(arguments.length===2)return new Pr(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new wn(null,this):arguments.length===1?new wn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(a!==null?this.getCoordinateSequenceFactory().create(a):null)}if(Et(arguments[0],Ft))return new sr(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new gr(null,this):arguments.length===1?new gr(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new nr(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new nr(arguments[0],this);if(Et(arguments[0],Ft)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(a.size()).fill(null),d=0;d<a.size();d++){var C=this.getCoordinateSequenceFactory().create(1,a.getDimension(),a.getMeasures());Dn.copy(a,d,C,0,1),o[d]=this.createPoint(C)}return this.createMultiPoint(o)}}}},{key:"interfaces_",get:function(){return[H]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)f.constructor_.call(this,new kn,0);else if(arguments.length===1){if(Et(arguments[0],Rt)){var a=arguments[0];f.constructor_.call(this,new kn,0,a)}else if(arguments[0]instanceof kn){var o=arguments[0];f.constructor_.call(this,o,0,f.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];f.constructor_.call(this,d,C,f.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var B=arguments[0],W=arguments[1],se=arguments[2];this._precisionModel=B,this._coordinateSequenceFactory=se,this._SRID=W}}},{key:"toMultiPolygonArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toGeometryArray",value:function(a){if(a===null)return null;var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return pr.instance()}},{key:"toMultiLineStringArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toLineStringArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toMultiPointArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toLinearRingArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toPointArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toPolygonArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"createPointFromInternalCoord",value:function(a,o){return o.getPrecisionModel().makePrecise(a),o.getFactory().createPoint(a)}}])})(),Fn="XY",xr="XYZ",xa="XYM",Vr="XYZM",la={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},qi="EMPTY",jn=1,Cr=2,ai=3,Qr=4,Hr=5,vo=6;for(var yo in la)la[yo].toUpperCase();var Fa=(function(){return c((function f(a){i(this,f),this.wkt=a,this.index_=-1}),[{key:"isAlpha_",value:function(f){return f>="a"&&f<="z"||f>="A"&&f<="Z"}},{key:"isNumeric_",value:function(f,a){return f>="0"&&f<="9"||f=="."&&!(a!==void 0&&a)}},{key:"isWhiteSpace_",value:function(f){return f==" "||f=="	"||f=="\r"||f==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var f,a=this.nextChar_(),o=this.index_,d=a;if(a=="(")f=Cr;else if(a==",")f=Hr;else if(a==")")f=ai;else if(this.isNumeric_(a)||a=="-")f=Qr,d=this.readNumber_();else if(this.isAlpha_(a))f=jn,d=this.readText_();else{if(this.isWhiteSpace_(a))return this.nextToken();if(a!=="")throw new Error("Unexpected character: "+a);f=vo}return{position:o,value:d,type:f}}},{key:"readNumber_",value:function(){var f,a=this.index_,o=!1,d=!1;do f=="."?o=!0:f!="e"&&f!="E"||(d=!0),f=this.nextChar_();while(this.isNumeric_(f,o)||!d&&(f=="e"||f=="E")||d&&(f=="-"||f=="+"));return parseFloat(this.wkt.substring(a,this.index_--))}},{key:"readText_",value:function(){var f,a=this.index_;do f=this.nextChar_();while(this.isAlpha_(f));return this.wkt.substring(a,this.index_--).toUpperCase()}}])})(),Or=(function(){return c((function f(a,o){i(this,f),this.lexer_=a,this.token_,this.layout_=Fn,this.factory=o}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(f){return this.token_.type==f}},{key:"match",value:function(f){var a=this.isTokenType(f);return a&&this.consume_(),a}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var f=Fn,a=this.token_;if(this.isTokenType(jn)){var o=a.value;o==="Z"?f=xr:o==="M"?f=xa:o==="ZM"&&(f=Vr),f!==Fn&&this.consume_()}return f}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Cr)){var f=[];do f.push(this.parseGeometry_());while(this.match(Hr));if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Cr)){var f=this.parsePoint_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Cr)){var f=this.parsePointList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Cr)){var f=this.parseLineStringTextList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var f;if(this.match(Cr)){if(f=this.token_.type==Cr?this.parsePointTextList_():this.parsePointList_(),this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Cr)){var f=this.parseLineStringTextList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Cr)){var f=this.parsePolygonTextList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var f=[],a=this.layout_.length,o=0;o<a;++o){var d=this.token_;if(!this.match(Qr))break;f.push(d.value)}if(f.length==a)return f;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var f=[this.parsePoint_()];this.match(Hr);)f.push(this.parsePoint_());return f}},{key:"parsePointTextList_",value:function(){for(var f=[this.parsePointText_()];this.match(Hr);)f.push(this.parsePointText_());return f}},{key:"parseLineStringTextList_",value:function(){for(var f=[this.parseLineStringText_()];this.match(Hr);)f.push(this.parseLineStringText_());return f}},{key:"parsePolygonTextList_",value:function(){for(var f=[this.parsePolygonText_()];this.match(Hr);)f.push(this.parsePolygonText_());return f}},{key:"isEmptyGeometry_",value:function(){var f=this.isTokenType(jn)&&this.token_.value==qi;return f&&this.consume_(),f}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var f=this.factory,a=function($n){return l(he,T($n))},o=function($n){var Mr=$n.map((function(hr){return f.createLinearRing(hr.map(a))}));return Mr.length>1?f.createPolygon(Mr[0],Mr.slice(1)):f.createPolygon(Mr[0])},d=this.token_;if(this.match(jn)){var C=d.value;if(this.layout_=this.parseGeometryLayout_(),C=="GEOMETRYCOLLECTION"){var B=this.parseGeometryCollectionText_();return f.createGeometryCollection(B)}switch(C){case"POINT":var W=this.parsePointText_();return W?f.createPoint(l(he,T(W))):f.createPoint();case"LINESTRING":var se=this.parseLineStringText_().map(a);return f.createLineString(se);case"LINEARRING":var xe=this.parseLineStringText_().map(a);return f.createLinearRing(xe);case"POLYGON":var $e=this.parsePolygonText_();return $e&&$e.length!==0?o($e):f.createPolygon();case"MULTIPOINT":var st=this.parseMultiPointText_();if(!st||st.length===0)return f.createMultiPoint();var _t=st.map(a).map((function($n){return f.createPoint($n)}));return f.createMultiPoint(_t);case"MULTILINESTRING":var Yt=this.parseMultiLineStringText_().map((function($n){return f.createLineString($n.map(a))}));return f.createMultiLineString(Yt);case"MULTIPOLYGON":var pn=this.parseMultiPolygonText_();if(!pn||pn.length===0)return f.createMultiPolygon();var Pn=pn.map(o);return f.createMultiPolygon(Pn);default:throw new Error("Invalid geometry type: "+C)}}throw new Error(this.formatErrorMessage_())}}])})();function Wi(f){if(f.isEmpty())return"";var a=f.getCoordinate(),o=[a.x,a.y];return a.z===void 0||Number.isNaN(a.z)||o.push(a.z),a.m===void 0||Number.isNaN(a.m)||o.push(a.m),o.join(" ")}function Ki(f){for(var a=f.getCoordinates().map((function(B){var W=[B.x,B.y];return B.z===void 0||Number.isNaN(B.z)||W.push(B.z),B.m===void 0||Number.isNaN(B.m)||W.push(B.m),W})),o=[],d=0,C=a.length;d<C;++d)o.push(a[d].join(" "));return o.join(", ")}function Zi(f){var a=[];a.push("("+Ki(f.getExteriorRing())+")");for(var o=0,d=f.getNumInteriorRing();o<d;++o)a.push("("+Ki(f.getInteriorRingN(o))+")");return a.join(", ")}var wa={Point:Wi,LineString:Ki,LinearRing:Ki,Polygon:Zi,MultiPoint:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push("("+Wi(f.getGeometryN(o))+")");return a.join(", ")},MultiLineString:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push("("+Ki(f.getGeometryN(o))+")");return a.join(", ")},MultiPolygon:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push("("+Zi(f.getGeometryN(o))+")");return a.join(", ")},GeometryCollection:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push(ja(f.getGeometryN(o)));return a.join(", ")}};function ja(f){var a=f.getGeometryType(),o=wa[a];a=a.toUpperCase();var d=(function(C){var B="";if(C.isEmpty())return B;var W=C.getCoordinate();return W.z===void 0||Number.isNaN(W.z)||(B+="Z"),W.m===void 0||Number.isNaN(W.m)||(B+="M"),B})(f);return d.length>0&&(a+=" "+d),f.isEmpty()?a+" "+qi:a+" ("+o(f)+")"}var Qn=(function(){return c((function f(a){i(this,f),this.geometryFactory=a||new $r,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(f){var a=new Fa(f);return new Or(a,this.geometryFactory).parse()}},{key:"write",value:function(f){return ja(f)}}])})(),er=(function(){return c((function f(a){i(this,f),this.parser=new Qn(a)}),[{key:"write",value:function(f){return this.parser.write(f)}}],[{key:"toLineString",value:function(f,a){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+f.x+" "+f.y+", "+a.x+" "+a.y+" )"}}])})(),Wn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getIndexAlongSegment",value:function(a,o){return this.computeIntLineIndex(),this._intLineIndex[a][o]}},{key:"getTopologySummary",value:function(){var a=new xn;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()}},{key:"computeIntersection",value:function(a,o,d,C){this._inputLines[0][0]=a,this._inputLines[0][1]=o,this._inputLines[1][0]=d,this._inputLines[1][1]=C,this._result=this.computeIntersect(a,o,d,C)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var a=arguments[0];this.getEdgeDistance(a,0)>this.getEdgeDistance(a,1)?(this._intLineIndex[a][0]=0,this._intLineIndex[a][1]=1):(this._intLineIndex[a][0]=1,this._intLineIndex[a][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(a){this._precisionModel=a}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var a=arguments[0],o=0;o<this._result;o++)if(!this._intPt[o].equals2D(this._inputLines[a][0])&&!this._intPt[o].equals2D(this._inputLines[a][1]))return!0;return!1}}},{key:"getIntersection",value:function(a){return this._intPt[a]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==f.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(a,o){return f.computeEdgeDistance(this._intPt[o],this._inputLines[a][0],this._inputLines[a][1])}},{key:"isCollinear",value:function(){return this._result===f.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return er.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+er.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(a,o){return this._inputLines[a][o]}},{key:"isIntersection",value:function(a){for(var o=0;o<this._result;o++)if(this._intPt[o].equals2D(a))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(a,o){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[a][o]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new he,this._intPt[1]=new he,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(a,o,d){var C=Math.abs(d.x-o.x),B=Math.abs(d.y-o.y),W=-1;if(a.equals(o))W=0;else if(a.equals(d))W=C>B?C:B;else{var se=Math.abs(a.x-o.x),xe=Math.abs(a.y-o.y);(W=C>B?se:xe)!==0||a.equals(o)||(W=Math.max(se,xe))}return me.isTrue(!(W===0&&!a.equals(o)),"Bad distance calculation"),W}},{key:"nonRobustComputeEdgeDistance",value:function(a,o,d){var C=a.x-o.x,B=a.y-o.y,W=Math.sqrt(C*C+B*B);return me.isTrue(!(W===0&&!a.equals(o)),"Invalid distance calculation"),W}}])})();Wn.DONT_INTERSECT=0,Wn.DO_INTERSECT=1,Wn.COLLINEAR=2,Wn.NO_INTERSECTION=0,Wn.POINT_INTERSECTION=1,Wn.COLLINEAR_INTERSECTION=2;var oi=(function(f){function a(){return i(this,a),r(this,a)}return w(a,f),c(a,[{key:"isInSegmentEnvelopes",value:function(o){var d=new We(this._inputLines[0][0],this._inputLines[0][1]),C=new We(this._inputLines[1][0],this._inputLines[1][1]);return d.contains(o)&&C.contains(o)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return N(a,"computeIntersection",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1],C=arguments[2];if(this._isProper=!1,We.intersects(d,C,o)&&ht.index(d,C,o)===0&&ht.index(C,d,o)===0)return this._isProper=!0,(o.equals(d)||o.equals(C))&&(this._isProper=!1),this._result=Wn.POINT_INTERSECTION,null;this._result=Wn.NO_INTERSECTION}},{key:"intersection",value:function(o,d,C,B){var W=this.intersectionSafe(o,d,C,B);return this.isInSegmentEnvelopes(W)||(W=new he(a.nearestEndpoint(o,d,C,B))),this._precisionModel!==null&&this._precisionModel.makePrecise(W),W}},{key:"checkDD",value:function(o,d,C,B,W){var se=Jt.intersection(o,d,C,B),xe=this.isInSegmentEnvelopes(se);an.out.println("DD in env = "+xe+"  --------------------- "+se),W.distance(se)>1e-4&&an.out.println("Distance = "+W.distance(se))}},{key:"intersectionSafe",value:function(o,d,C,B){var W=ln.intersection(o,d,C,B);return W===null&&(W=a.nearestEndpoint(o,d,C,B)),W}},{key:"computeCollinearIntersection",value:function(o,d,C,B){var W=We.intersects(o,d,C),se=We.intersects(o,d,B),xe=We.intersects(C,B,o),$e=We.intersects(C,B,d);return W&&se?(this._intPt[0]=C,this._intPt[1]=B,Wn.COLLINEAR_INTERSECTION):xe&&$e?(this._intPt[0]=o,this._intPt[1]=d,Wn.COLLINEAR_INTERSECTION):W&&xe?(this._intPt[0]=C,this._intPt[1]=o,!C.equals(o)||se||$e?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):W&&$e?(this._intPt[0]=C,this._intPt[1]=d,!C.equals(d)||se||xe?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):se&&xe?(this._intPt[0]=B,this._intPt[1]=o,!B.equals(o)||W||$e?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):se&&$e?(this._intPt[0]=B,this._intPt[1]=d,!B.equals(d)||W||xe?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):Wn.NO_INTERSECTION}},{key:"computeIntersect",value:function(o,d,C,B){if(this._isProper=!1,!We.intersects(o,d,C,B))return Wn.NO_INTERSECTION;var W=ht.index(o,d,C),se=ht.index(o,d,B);if(W>0&&se>0||W<0&&se<0)return Wn.NO_INTERSECTION;var xe=ht.index(C,B,o),$e=ht.index(C,B,d);return xe>0&&$e>0||xe<0&&$e<0?Wn.NO_INTERSECTION:W===0&&se===0&&xe===0&&$e===0?this.computeCollinearIntersection(o,d,C,B):(W===0||se===0||xe===0||$e===0?(this._isProper=!1,o.equals2D(C)||o.equals2D(B)?this._intPt[0]=o:d.equals2D(C)||d.equals2D(B)?this._intPt[0]=d:W===0?this._intPt[0]=new he(C):se===0?this._intPt[0]=new he(B):xe===0?this._intPt[0]=new he(o):$e===0&&(this._intPt[0]=new he(d))):(this._isProper=!0,this._intPt[0]=this.intersection(o,d,C,B)),Wn.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(o,d,C,B){var W=o,se=Bn.pointToSegment(o,C,B),xe=Bn.pointToSegment(d,C,B);return xe<se&&(se=xe,W=d),(xe=Bn.pointToSegment(C,o,d))<se&&(se=xe,W=C),(xe=Bn.pointToSegment(B,o,d))<se&&(se=xe,W=B),W}}])})(Wn),Rr=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"countSegment",value:function(a,o){if(a.x<this._p.x&&o.x<this._p.x)return null;if(this._p.x===o.x&&this._p.y===o.y)return this._isPointOnSegment=!0,null;if(a.y===this._p.y&&o.y===this._p.y){var d=a.x,C=o.x;return d>C&&(d=o.x,C=a.x),this._p.x>=d&&this._p.x<=C&&(this._isPointOnSegment=!0),null}if(a.y>this._p.y&&o.y<=this._p.y||o.y>this._p.y&&a.y<=this._p.y){var B=ht.index(a,o,this._p);if(B===ht.COLLINEAR)return this._isPointOnSegment=!0,null;o.y<a.y&&(B=-B),B===ht.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==de.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?de.BOUNDARY:this._crossingCount%2==1?de.INTERIOR:de.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var a=arguments[0];this._p=a}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof he&&Et(arguments[1],Ft)){for(var a=arguments[1],o=new f(arguments[0]),d=new he,C=new he,B=1;B<a.size();B++)if(a.getCoordinate(B,d),a.getCoordinate(B-1,C),o.countSegment(d,C),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof he&&arguments[1]instanceof Array){for(var W=arguments[1],se=new f(arguments[0]),xe=1;xe<W.length;xe++){var $e=W[xe],st=W[xe-1];if(se.countSegment($e,st),se.isOnSegment())return se.getLocation()}return se.getLocation()}}}])})(),Xi=(function(){function f(){i(this,f)}return c(f,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof he&&Et(arguments[1],Ft)){for(var a=arguments[0],o=arguments[1],d=new oi,C=new he,B=new he,W=o.size(),se=1;se<W;se++)if(o.getCoordinate(se-1,C),o.getCoordinate(se,B),d.computeIntersection(a,C,B),d.hasIntersection())return!0;return!1}if(arguments[0]instanceof he&&arguments[1]instanceof Array){for(var xe=arguments[0],$e=arguments[1],st=new oi,_t=1;_t<$e.length;_t++){var Yt=$e[_t-1],pn=$e[_t];if(st.computeIntersection(xe,Yt,pn),st.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(a,o){return Rr.locatePointInRing(a,o)}},{key:"isInRing",value:function(a,o){return f.locateInRing(a,o)!==de.EXTERIOR}}])})(),Wr=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"setAllLocations",value:function(a){for(var o=0;o<this.location.length;o++)this.location[o]=a}},{key:"isNull",value:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==de.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(a){for(var o=0;o<this.location.length;o++)this.location[o]===de.NONE&&(this.location[o]=a)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(a){if(a.location.length>this.location.length){var o=new Array(3).fill(null);o[Ze.ON]=this.location[Ze.ON],o[Ze.LEFT]=de.NONE,o[Ze.RIGHT]=de.NONE,this.location=o}for(var d=0;d<this.location.length;d++)this.location[d]===de.NONE&&d<a.location.length&&(this.location[d]=a.location[d])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var a=this.location[Ze.LEFT];this.location[Ze.LEFT]=this.location[Ze.RIGHT],this.location[Ze.RIGHT]=a}},{key:"toString",value:function(){var a=new Xt;return this.location.length>1&&a.append(de.toLocationSymbol(this.location[Ze.LEFT])),a.append(de.toLocationSymbol(this.location[Ze.ON])),this.location.length>1&&a.append(de.toLocationSymbol(this.location[Ze.RIGHT])),a.toString()}},{key:"setLocations",value:function(a,o,d){this.location[Ze.ON]=a,this.location[Ze.LEFT]=o,this.location[Ze.RIGHT]=d}},{key:"get",value:function(a){return a<this.location.length?this.location[a]:de.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===de.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var a=arguments[0];this.setLocation(Ze.ON,a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.location[o]=d}}},{key:"init",value:function(a){this.location=new Array(a).fill(null),this.setAllLocations(de.NONE)}},{key:"isEqualOnSide",value:function(a,o){return this.location[o]===a.location[o]}},{key:"allPositionsEqual",value:function(a){for(var o=0;o<this.location.length;o++)if(this.location[o]!==a)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];this.init(a.length)}else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[Ze.ON]=o}else if(arguments[0]instanceof f){var d=arguments[0];if(this.init(d.location.length),d!==null)for(var C=0;C<this.location.length;C++)this.location[C]=d.location[C]}}else if(arguments.length===3){var B=arguments[0],W=arguments[1],se=arguments[2];this.init(3),this.location[Ze.ON]=B,this.location[Ze.LEFT]=W,this.location[Ze.RIGHT]=se}}}])})(),ei=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getGeometryCount",value:function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a}},{key:"setAllLocations",value:function(a,o){this.elt[a].setAllLocations(o)}},{key:"isNull",value:function(a){return this.elt[a].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.elt[o].setAllLocationsIfNull(d)}}},{key:"isLine",value:function(a){return this.elt[a].isLine()}},{key:"merge",value:function(a){for(var o=0;o<2;o++)this.elt[o]===null&&a.elt[o]!==null?this.elt[o]=new Wr(a.elt[o]):this.elt[o].merge(a.elt[o])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var a=arguments[0];return this.elt[a].get(Ze.ON)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.elt[o].get(d)}}},{key:"toString",value:function(){var a=new Xt;return this.elt[0]!==null&&(a.append("A:"),a.append(this.elt[0].toString())),this.elt[1]!==null&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var a=arguments[0];return this.elt[a].isArea()}}},{key:"isAnyNull",value:function(a){return this.elt[a].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];this.elt[a].setLocation(Ze.ON,o)}else if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2];this.elt[d].setLocation(C,B)}}},{key:"isEqualOnSide",value:function(a,o){return this.elt[0].isEqualOnSide(a.elt[0],o)&&this.elt[1].isEqualOnSide(a.elt[1],o)}},{key:"allPositionsEqual",value:function(a,o){return this.elt[a].allPositionsEqual(o)}},{key:"toLine",value:function(a){this.elt[a].isArea()&&(this.elt[a]=new Wr(this.elt[a].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new Wr(a),this.elt[1]=new Wr(a)}else if(arguments[0]instanceof f){var o=arguments[0];this.elt[0]=new Wr(o.elt[0]),this.elt[1]=new Wr(o.elt[1])}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.elt[0]=new Wr(de.NONE),this.elt[1]=new Wr(de.NONE),this.elt[d].setLocation(C)}else if(arguments.length===3){var B=arguments[0],W=arguments[1],se=arguments[2];this.elt[0]=new Wr(B,W,se),this.elt[1]=new Wr(B,W,se)}else if(arguments.length===4){var xe=arguments[0],$e=arguments[1],st=arguments[2],_t=arguments[3];this.elt[0]=new Wr(de.NONE,de.NONE,de.NONE),this.elt[1]=new Wr(de.NONE,de.NONE,de.NONE),this.elt[xe].setLocations($e,st,_t)}}},{key:"toLineLabel",value:function(a){for(var o=new f(de.NONE),d=0;d<2;d++)o.setLocation(d,a.getLocation(d));return o}}])})(),Ca=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var f=new Array(this._pts.size()).fill(null),a=0;a<this._pts.size();a++)f[a]=this._pts.get(a);this._ring=this._geometryFactory.createLinearRing(f),this._isHole=ht.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(f){this._startDe=f;var a=f,o=!0;do{if(a===null)throw new tn("Found null DirectedEdge");if(a.getEdgeRing()===this)throw new tn("Directed Edge visited twice during ring-building at "+a.getCoordinate());this._edges.add(a);var d=a.getLabel();me.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(a.getEdge(),a.isForward(),o),o=!1,this.setEdgeRing(a,this),a=this.getNext(a)}while(a!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(f){return this._pts.get(f)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var f=this._startDe;do{var a=f.getNode().getEdges().getOutgoingDegree(this);a>this._maxNodeDegree&&(this._maxNodeDegree=a),f=this.getNext(f)}while(f!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(f,a,o){var d=f.getCoordinates();if(a){var C=1;o&&(C=0);for(var B=C;B<d.length;B++)this._pts.add(d[B])}else{var W=d.length-2;o&&(W=d.length-1);for(var se=W;se>=0;se--)this._pts.add(d[se])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var f=this._startDe;do f.getEdge().setInResult(!0),f=f.getNext();while(f!==this._startDe)}},{key:"containsPoint",value:function(f){var a=this.getLinearRing();if(!a.getEnvelopeInternal().contains(f)||!Xi.isInRing(f,a.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(f))return!1;return!0}},{key:"addHole",value:function(f){this._holes.add(f)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var f=arguments[0];this.mergeLabel(f,0),this.mergeLabel(f,1)}else if(arguments.length===2){var a=arguments[1],o=arguments[0].getLocation(a,Ze.RIGHT);if(o===de.NONE)return null;if(this._label.getLocation(a)===de.NONE)return this._label.setLocation(a,o),null}}},{key:"setShell",value:function(f){this._shell=f,f!==null&&f.addHole(this)}},{key:"toPolygon",value:function(f){for(var a=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)a[o]=this._holes.get(o).getLinearRing();return f.createPolygon(this.getLinearRing(),a)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Tt,this._pts=new Tt,this._label=new ei(de.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Tt,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var f=arguments[0],a=arguments[1];this._geometryFactory=a,this.computePoints(f),this.computeRing()}}}}])})(),sn=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"setEdgeRing",value:function(o,d){o.setMinEdgeRing(d)}},{key:"getNext",value:function(o){return o.getNextMin()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];Ca.constructor_.call(this,o,d)}}])})(Ca),Sa=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"buildMinimalRings",value:function(){var o=new Tt,d=this._startDe;do{if(d.getMinEdgeRing()===null){var C=new sn(d,this._geometryFactory);o.add(C)}d=d.getNext()}while(d!==this._startDe);return o}},{key:"setEdgeRing",value:function(o,d){o.setEdgeRing(d)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var o=this._startDe;do o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext();while(o!==this._startDe)}},{key:"getNext",value:function(o){return o.getNext()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];Ca.constructor_.call(this,o,d)}}])})(Ca),Fr=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(f){this._isVisited=f}},{key:"setInResult",value:function(f){this._isInResult=f}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(f){this._label=f}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(f){this._isCovered=f,this._isCoveredSet=!0}},{key:"updateIM",value:function(f){me.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(f)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var f=arguments[0];this._label=f}}}}])})(),Ro=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"isIncidentEdgeInResult",value:function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(o){o.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(o){}},{key:"computeMergedLocation",value:function(o,d){var C=de.NONE;if(C=this._label.getLocation(d),!o.isNull(d)){var B=o.getLocation(d);C!==de.BOUNDARY&&(C=B)}return C}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return N(a,"setLabel",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];this._label===null?this._label=new ei(o,d):this._label.setLocation(o,d)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof a){var o=arguments[0];this.mergeLabel(o._label)}else if(arguments[0]instanceof ei)for(var d=arguments[0],C=0;C<2;C++){var B=this.computeMergedLocation(d,C);this._label.getLocation(C)===de.NONE&&this._label.setLocation(C,B)}}},{key:"add",value:function(o){this._edges.insert(o),o.setNode(this)}},{key:"setLabelBoundary",value:function(o){if(this._label===null)return null;var d=de.NONE;this._label!==null&&(d=this._label.getLocation(o));var C=null;switch(d){case de.BOUNDARY:C=de.INTERIOR;break;case de.INTERIOR:default:C=de.BOUNDARY}this._label.setLocation(o,C)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var o=arguments[0],d=arguments[1];this._coord=o,this._edges=d,this._label=new ei(0,de.NONE)}}])})(Fr),za=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a)})(_i);function Ea(f){return f==null?0:f.color}function cr(f){return f==null?null:f.parent}function Ii(f,a){f!==null&&(f.color=a)}function Qa(f){return f==null?null:f.left}function eo(f){return f==null?null:f.right}var Kr=(function(f){function a(){var o;return i(this,a),(o=r(this,a)).root_=null,o.size_=0,o}return w(a,f),c(a,[{key:"get",value:function(o){for(var d=this.root_;d!==null;){var C=o.compareTo(d.key);if(C<0)d=d.left;else{if(!(C>0))return d.value;d=d.right}}return null}},{key:"put",value:function(o,d){if(this.root_===null)return this.root_={key:o,value:d,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var C,B,W=this.root_;do if(C=W,(B=o.compareTo(W.key))<0)W=W.left;else{if(!(B>0)){var se=W.value;return W.value=d,se}W=W.right}while(W!==null);var xe={key:o,left:null,right:null,value:d,parent:C,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return B<0?C.left=xe:C.right=xe,this.fixAfterInsertion(xe),this.size_++,null}},{key:"fixAfterInsertion",value:function(o){var d;for(o.color=1;o!=null&&o!==this.root_&&o.parent.color===1;)cr(o)===Qa(cr(cr(o)))?Ea(d=eo(cr(cr(o))))===1?(Ii(cr(o),0),Ii(d,0),Ii(cr(cr(o)),1),o=cr(cr(o))):(o===eo(cr(o))&&(o=cr(o),this.rotateLeft(o)),Ii(cr(o),0),Ii(cr(cr(o)),1),this.rotateRight(cr(cr(o)))):Ea(d=Qa(cr(cr(o))))===1?(Ii(cr(o),0),Ii(d,0),Ii(cr(cr(o)),1),o=cr(cr(o))):(o===Qa(cr(o))&&(o=cr(o),this.rotateRight(o)),Ii(cr(o),0),Ii(cr(cr(o)),1),this.rotateLeft(cr(cr(o))));this.root_.color=0}},{key:"values",value:function(){var o=new Tt,d=this.getFirstEntry();if(d!==null)for(o.add(d.value);(d=a.successor(d))!==null;)o.add(d.value);return o}},{key:"entrySet",value:function(){var o=new kt,d=this.getFirstEntry();if(d!==null)for(o.add(d);(d=a.successor(d))!==null;)o.add(d);return o}},{key:"rotateLeft",value:function(o){if(o!=null){var d=o.right;o.right=d.left,d.left!=null&&(d.left.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.left===o?o.parent.left=d:o.parent.right=d,d.left=o,o.parent=d}}},{key:"rotateRight",value:function(o){if(o!=null){var d=o.left;o.left=d.right,d.right!=null&&(d.right.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.right===o?o.parent.right=d:o.parent.left=d,d.right=o,o.parent=d}}},{key:"getFirstEntry",value:function(){var o=this.root_;if(o!=null)for(;o.left!=null;)o=o.left;return o}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(o){for(var d=this.root_;d!==null;){var C=o.compareTo(d.key);if(C<0)d=d.left;else{if(!(C>0))return!0;d=d.right}}return!1}}],[{key:"successor",value:function(o){var d;if(o===null)return null;if(o.right!==null){for(d=o.right;d.left!==null;)d=d.left;return d}d=o.parent;for(var C=o;d!==null&&C===d.right;)C=d,d=d.parent;return d}}])})(za),to=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"find",value:function(f){return this.nodeMap.get(f)}},{key:"addNode",value:function(){if(arguments[0]instanceof he){var f=arguments[0],a=this.nodeMap.get(f);return a===null&&(a=this.nodeFact.createNode(f),this.nodeMap.put(f,a)),a}if(arguments[0]instanceof Ro){var o=arguments[0],d=this.nodeMap.get(o.getCoordinate());return d===null?(this.nodeMap.put(o.getCoordinate(),o),o):(d.mergeLabel(o),d)}}},{key:"print",value:function(f){for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(f){for(var a=new Tt,o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().getLocation(f)===de.BOUNDARY&&a.add(d)}return a}},{key:"add",value:function(f){var a=f.getCoordinate();this.addNode(a).add(f)}}],[{key:"constructor_",value:function(){this.nodeMap=new Kr,this.nodeFact=null;var f=arguments[0];this.nodeFact=f}}])})(),si=(function(){function f(){i(this,f)}return c(f,null,[{key:"isNorthern",value:function(a){return a===f.NE||a===f.NW}},{key:"isOpposite",value:function(a,o){return a!==o&&(a-o+4)%4===2}},{key:"commonHalfPlane",value:function(a,o){if(a===o)return a;if((a-o+4)%4===2)return-1;var d=a<o?a:o;return d===0&&(a>o?a:o)===3?3:d}},{key:"isInHalfPlane",value:function(a,o){return o===f.SE?a===f.SE||a===f.SW:a===o||a===o+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1];if(a===0&&o===0)throw new G("Cannot compute the quadrant for point ( "+a+", "+o+" )");return a>=0?o>=0?f.NE:f.SE:o>=0?f.NW:f.SW}if(arguments[0]instanceof he&&arguments[1]instanceof he){var d=arguments[0],C=arguments[1];if(C.x===d.x&&C.y===d.y)throw new G("Cannot compute the quadrant for two identical points "+d);return C.x>=d.x?C.y>=d.y?f.NE:f.SE:C.y>=d.y?f.NW:f.SW}}}])})();si.NE=0,si.NW=1,si.SW=2,si.SE=3;var os=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"compareDirection",value:function(a){return this._dx===a._dx&&this._dy===a._dy?0:this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:ht.index(a._p0,a._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(a){this._node=a}},{key:"print",value:function(a){var o=Math.atan2(this._dy,this._dx),d=this.getClass().getName(),C=d.lastIndexOf("."),B=d.substring(C+1);a.print("  "+B+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+o+"   "+this._label)}},{key:"compareTo",value:function(a){var o=a;return this.compareDirection(o)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var a=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),d=o.lastIndexOf(".");return"  "+o.substring(d+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label}},{key:"computeLabel",value:function(a){}},{key:"init",value:function(a,o){this._p0=a,this._p1=o,this._dx=o.x-a.x,this._dy=o.y-a.y,this._quadrant=si.quadrant(this._dx,this._dy),me.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[te]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var a=arguments[0];this._edge=a}else if(arguments.length===3){var o=arguments[0],d=arguments[1],C=arguments[2];f.constructor_.call(this,o,d,C,null)}else if(arguments.length===4){var B=arguments[0],W=arguments[1],se=arguments[2],xe=arguments[3];f.constructor_.call(this,B),this.init(W,se),this._label=xe}}}])})(),Bo=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(o){return this._depth[o]}},{key:"setVisited",value:function(o){this._isVisited=o}},{key:"computeDirectedLabel",value:function(){this._label=new ei(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(o,d){if(this._depth[o]!==-999&&this._depth[o]!==d)throw new tn("assigned depths do not match",this.getCoordinate());this._depth[o]=d}},{key:"isInteriorAreaEdge",value:function(){for(var o=!0,d=0;d<2;d++)this._label.isArea(d)&&this._label.getLocation(d,Ze.LEFT)===de.INTERIOR&&this._label.getLocation(d,Ze.RIGHT)===de.INTERIOR||(o=!1);return o}},{key:"setNextMin",value:function(o){this._nextMin=o}},{key:"print",value:function(o){N(a,"print",this,1).call(this,o),o.print(" "+this._depth[Ze.LEFT]+"/"+this._depth[Ze.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")}},{key:"setMinEdgeRing",value:function(o){this._minEdgeRing=o}},{key:"isLineEdge",value:function(){var o=this._label.isLine(0)||this._label.isLine(1),d=!this._label.isArea(0)||this._label.allPositionsEqual(0,de.EXTERIOR),C=!this._label.isArea(1)||this._label.allPositionsEqual(1,de.EXTERIOR);return o&&d&&C}},{key:"setEdgeRing",value:function(o){this._edgeRing=o}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o}},{key:"setInResult",value:function(o){this._isInResult=o}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)}},{key:"setSym",value:function(o){this._sym=o}},{key:"setVisitedEdge",value:function(o){this.setVisited(o),this._sym.setVisited(o)}},{key:"setEdgeDepths",value:function(o,d){var C=this.getEdge().getDepthDelta();this._isForward||(C=-C);var B=1;o===Ze.LEFT&&(B=-1);var W=Ze.opposite(o),se=d+C*B;this.setDepth(o,d),this.setDepth(W,se)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(o){this._next=o}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var o=arguments[0],d=arguments[1];if(os.constructor_.call(this,o),this._isForward=d,d)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var C=o.getNumPoints()-1;this.init(o.getCoordinate(C),o.getCoordinate(C-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(o,d){return o===de.EXTERIOR&&d===de.INTERIOR?1:o===de.INTERIOR&&d===de.EXTERIOR?-1:0}}])})(os),Do=(function(){return c((function f(){i(this,f)}),[{key:"createNode",value:function(f){return new Ro(f,null)}}])})(),$o=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(f){f.println("Edges:");for(var a=0;a<this._edges.size();a++){f.println("edge "+a+":");var o=this._edges.get(a);o.print(f),o.eiList.print(f)}}},{key:"find",value:function(f){return this._nodes.find(f)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ro){var f=arguments[0];return this._nodes.addNode(f)}if(arguments[0]instanceof he){var a=arguments[0];return this._nodes.addNode(a)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(f){an.out.println(f)}},{key:"isBoundaryNode",value:function(f,a){var o=this._nodes.find(a);if(o===null)return!1;var d=o.getLabel();return d!==null&&d.getLocation(f)===de.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(f,a,o,d){return!!f.equals(o)&&ht.index(f,a,d)===ht.COLLINEAR&&si.quadrant(f,a)===si.quadrant(o,d)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(f){an.out.print(f)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(f,a){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),C=d.getCoordinates();if(this.matchInSameDirection(f,a,C[0],C[1])||this.matchInSameDirection(f,a,C[C.length-1],C[C.length-2]))return d}return null}},{key:"insertEdge",value:function(f){this._edges.add(f)}},{key:"findEdgeEnd",value:function(f){for(var a=this.getEdgeEnds().iterator();a.hasNext();){var o=a.next();if(o.getEdge()===f)return o}return null}},{key:"addEdges",value:function(f){for(var a=f.iterator();a.hasNext();){var o=a.next();this._edges.add(o);var d=new Bo(o,!0),C=new Bo(o,!1);d.setSym(C),C.setSym(d),this.add(d),this.add(C)}}},{key:"add",value:function(f){this._nodes.add(f),this._edgeEndList.add(f)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(f,a){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),C=d.getCoordinates();if(f.equals(C[0])&&a.equals(C[1]))return d}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Tt,this._nodes=null,this._edgeEndList=new Tt,arguments.length===0)this._nodes=new to(new Do);else if(arguments.length===1){var f=arguments[0];this._nodes=new to(f)}}},{key:"linkResultDirectedEdges",value:function(f){for(var a=f.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()}}])})(),ka=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"sortShellsAndHoles",value:function(a,o,d){for(var C=a.iterator();C.hasNext();){var B=C.next();B.isHole()?d.add(B):o.add(B)}}},{key:"computePolygons",value:function(a){for(var o=new Tt,d=a.iterator();d.hasNext();){var C=d.next().toPolygon(this._geometryFactory);o.add(C)}return o}},{key:"placeFreeHoles",value:function(a,o){for(var d=o.iterator();d.hasNext();){var C=d.next();if(C.getShell()===null){var B=f.findEdgeRingContaining(C,a);if(B===null)throw new tn("unable to assign hole to a shell",C.getCoordinate(0));C.setShell(B)}}}},{key:"buildMinimalEdgeRings",value:function(a,o,d){for(var C=new Tt,B=a.iterator();B.hasNext();){var W=B.next();if(W.getMaxNodeDegree()>2){W.linkDirectedEdgesForMinimalEdgeRings();var se=W.buildMinimalRings(),xe=this.findShell(se);xe!==null?(this.placePolygonHoles(xe,se),o.add(xe)):d.addAll(se)}else C.add(W)}return C}},{key:"buildMaximalEdgeRings",value:function(a){for(var o=new Tt,d=a.iterator();d.hasNext();){var C=d.next();if(C.isInResult()&&C.getLabel().isArea()&&C.getEdgeRing()===null){var B=new Sa(C,this._geometryFactory);o.add(B),B.setInResult()}}return o}},{key:"placePolygonHoles",value:function(a,o){for(var d=o.iterator();d.hasNext();){var C=d.next();C.isHole()&&C.setShell(a)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(a){for(var o=0,d=null,C=a.iterator();C.hasNext();){var B=C.next();B.isHole()||(d=B,o++)}return me.isTrue(o<=1,"found two shells in MinimalEdgeRing list"),d}},{key:"add",value:function(){if(arguments.length===1){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];$o.linkResultDirectedEdges(d);var C=this.buildMaximalEdgeRings(o),B=new Tt,W=this.buildMinimalEdgeRings(C,this._shellList,B);this.sortShellsAndHoles(W,this._shellList,B),this.placeFreeHoles(this._shellList,B)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Tt;var a=arguments[0];this._geometryFactory=a}},{key:"findEdgeRingContaining",value:function(a,o){for(var d=a.getLinearRing(),C=d.getEnvelopeInternal(),B=d.getCoordinateN(0),W=null,se=null,xe=o.iterator();xe.hasNext();){var $e=xe.next(),st=$e.getLinearRing(),_t=st.getEnvelopeInternal();if(!_t.equals(C)&&_t.contains(C)){B=mr.ptNotInList(d.getCoordinates(),st.getCoordinates());var Yt=!1;Xi.isInRing(B,st.getCoordinates())&&(Yt=!0),Yt&&(W===null||se.contains(_t))&&(se=(W=$e).getLinearRing().getEnvelopeInternal())}}return W}}])})(),Fo=(function(){return c((function f(){i(this,f)}),[{key:"getBounds",value:function(){}}])})(),Yn=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Fo,H]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var f=arguments[0],a=arguments[1];this._bounds=f,this._item=a}}])})(),_o=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var f=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),f}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(f){for(var a=null,o=this._items.get(f);2*f<=this._size&&((a=2*f)!==this._size&&this._items.get(a+1).compareTo(this._items.get(a))<0&&a++,this._items.get(a).compareTo(o)<0);f=a)this._items.set(f,this._items.get(a));this._items.set(f,o)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(f){this._items.add(null),this._size+=1;var a=this._size;for(this._items.set(0,f);f.compareTo(this._items.get(Math.trunc(a/2)))<0;a/=2)this._items.set(a,this._items.get(Math.trunc(a/2)));this._items.set(a,f)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Tt,this._items.add(null)}}])})(),Kn=(function(){return c((function f(){i(this,f)}),[{key:"insert",value:function(f,a){}},{key:"remove",value:function(f,a){}},{key:"query",value:function(){}}])})(),hi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(f){me.isTrue(this._bounds===null),this._childBoundables.add(f)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Fo,H]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Tt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var f=arguments[0];this._level=f}}}}])})(),ua={reverseOrder:function(){return{compare:function(f,a){return a.compareTo(f)}}},min:function(f){return ua.sort(f),f.get(0)},sort:function(f,a){var o=f.toArray();a?zn.sort(o,a):zn.sort(o);for(var d=f.iterator(),C=0,B=o.length;C<B;C++)d.next(),d.set(o[C])},singletonList:function(f){var a=new Tt;return a.add(f),a}},bs=(function(){function f(){i(this,f)}return c(f,null,[{key:"maxDistance",value:function(a,o,d,C,B,W,se,xe){var $e=f.distance(a,o,B,W);return $e=Math.max($e,f.distance(a,o,se,xe)),$e=Math.max($e,f.distance(d,C,B,W)),$e=Math.max($e,f.distance(d,C,se,xe))}},{key:"distance",value:function(a,o,d,C){var B=d-a,W=C-o;return Math.sqrt(B*B+W*W)}},{key:"maximumDistance",value:function(a,o){var d=Math.min(a.getMinX(),o.getMinX()),C=Math.min(a.getMinY(),o.getMinY()),B=Math.max(a.getMaxX(),o.getMaxX()),W=Math.max(a.getMaxY(),o.getMaxY());return f.distance(d,C,B,W)}},{key:"minMaxDistance",value:function(a,o){var d=a.getMinX(),C=a.getMinY(),B=a.getMaxX(),W=a.getMaxY(),se=o.getMinX(),xe=o.getMinY(),$e=o.getMaxX(),st=o.getMaxY(),_t=f.maxDistance(d,C,d,W,se,xe,se,st);return _t=Math.min(_t,f.maxDistance(d,C,d,W,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(d,C,d,W,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(d,C,d,W,$e,st,$e,xe)),_t=Math.min(_t,f.maxDistance(d,C,B,C,se,xe,se,st)),_t=Math.min(_t,f.maxDistance(d,C,B,C,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(d,C,B,C,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(d,C,B,C,$e,st,$e,xe)),_t=Math.min(_t,f.maxDistance(B,W,d,W,se,xe,se,st)),_t=Math.min(_t,f.maxDistance(B,W,d,W,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(B,W,d,W,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(B,W,d,W,$e,st,$e,xe)),_t=Math.min(_t,f.maxDistance(B,W,B,C,se,xe,se,st)),_t=Math.min(_t,f.maxDistance(B,W,B,C,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(B,W,B,C,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(B,W,B,C,$e,st,$e,xe))}}])})(),Bi=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"maximumDistance",value:function(){return bs.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(a,o){var d=f.isComposite(this._boundable1),C=f.isComposite(this._boundable2);if(d&&C)return f.area(this._boundable1)>f.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,a,o),null):(this.expand(this._boundable2,this._boundable1,!0,a,o),null);if(d)return this.expand(this._boundable1,this._boundable2,!1,a,o),null;if(C)return this.expand(this._boundable2,this._boundable1,!0,a,o),null;throw new G("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(f.isComposite(this._boundable1)||f.isComposite(this._boundable2))}},{key:"compareTo",value:function(a){var o=a;return this._distance<o._distance?-1:this._distance>o._distance?1:0}},{key:"expand",value:function(a,o,d,C,B){for(var W=a.getChildBoundables().iterator();W.hasNext();){var se=W.next(),xe=null;(xe=d?new f(o,se,this._itemDistance):new f(se,o,this._itemDistance)).getDistance()<B&&C.add(xe)}}},{key:"getBoundable",value:function(a){return a===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[te]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var a=arguments[0],o=arguments[1],d=arguments[2];this._boundable1=a,this._boundable2=o,this._itemDistance=d,this._distance=this.distance()}},{key:"area",value:function(a){return a.getBounds().getArea()}},{key:"isComposite",value:function(a){return a instanceof hi}}])})(),no=(function(){return c((function f(){i(this,f)}),[{key:"visitItem",value:function(f){}}])})(),La=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"queryInternal",value:function(){if(Et(arguments[2],no)&&arguments[0]instanceof Object&&arguments[1]instanceof hi)for(var a=arguments[0],o=arguments[2],d=arguments[1].getChildBoundables(),C=0;C<d.size();C++){var B=d.get(C);this.getIntersectsOp().intersects(B.getBounds(),a)&&(B instanceof hi?this.queryInternal(a,B,o):B instanceof Yn?o.visitItem(B.getItem()):me.shouldNeverReachHere())}else if(Et(arguments[2],mt)&&arguments[0]instanceof Object&&arguments[1]instanceof hi)for(var W=arguments[0],se=arguments[2],xe=arguments[1].getChildBoundables(),$e=0;$e<xe.size();$e++){var st=xe.get($e);this.getIntersectsOp().intersects(st.getBounds(),W)&&(st instanceof hi?this.queryInternal(W,st,se):st instanceof Yn?se.add(st.getItem()):me.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(a){return a.get(a.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var a=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();d instanceof hi?a+=this.size(d):d instanceof Yn&&(a+=1)}return a}}},{key:"removeItem",value:function(a,o){for(var d=null,C=a.getChildBoundables().iterator();C.hasNext();){var B=C.next();B instanceof Yn&&B.getItem()===o&&(d=B)}return d!==null&&(a.getChildBoundables().remove(d),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var a=this.itemsTree(this._root);return a===null?new Tt:a}if(arguments.length===1){for(var o=arguments[0],d=new Tt,C=o.getChildBoundables().iterator();C.hasNext();){var B=C.next();if(B instanceof hi){var W=this.itemsTree(B);W!==null&&d.add(W)}else B instanceof Yn?d.add(B.getItem()):me.shouldNeverReachHere()}return d.size()<=0?null:d}}},{key:"insert",value:function(a,o){me.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Yn(a,o))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var a=arguments[0],o=new Tt;return this.boundablesAtLevel(a,this._root,o),o}if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2];if(me.isTrue(d>-2),C.getLevel()===d)return B.add(C),null;for(var W=C.getChildBoundables().iterator();W.hasNext();){var se=W.next();se instanceof hi?this.boundablesAtLevel(d,se,B):(me.isTrue(se instanceof Yn),d===-1&&B.add(se))}return null}}},{key:"query",value:function(){if(arguments.length===1){var a=arguments[0];this.build();var o=new Tt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.queryInternal(a,this._root,o),o}if(arguments.length===2){var d=arguments[0],C=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),d)&&this.queryInternal(d,this._root,C)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.remove(a,this._root,o)}if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2],W=this.removeItem(C,B);if(W)return!0;for(var se=null,xe=C.getChildBoundables().iterator();xe.hasNext();){var $e=xe.next();if(this.getIntersectsOp().intersects($e.getBounds(),d)&&$e instanceof hi&&(W=this.remove(d,$e,B))){se=$e;break}}return se!==null&&se.getChildBoundables().isEmpty()&&C.getChildBoundables().remove(se),W}}},{key:"createHigherLevels",value:function(a,o){me.isTrue(!a.isEmpty());var d=this.createParentBoundables(a,o+1);return d.size()===1?d.get(0):this.createHigherLevels(d,o+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var a=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();if(d instanceof hi){var C=this.depth(d);C>a&&(a=C)}}return a+1}}},{key:"createParentBoundables",value:function(a,o){me.isTrue(!a.isEmpty());var d=new Tt;d.add(this.createNode(o));var C=new Tt(a);ua.sort(C,this.getComparator());for(var B=C.iterator();B.hasNext();){var W=B.next();this.lastNode(d).getChildBoundables().size()===this.getNodeCapacity()&&d.add(this.createNode(o)),this.lastNode(d).addChildBoundable(W)}return d}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[H]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Tt,this._nodeCapacity=null,arguments.length===0)f.constructor_.call(this,f.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var a=arguments[0];me.isTrue(a>1,"Node capacity must be greater than 1"),this._nodeCapacity=a}}},{key:"compareDoubles",value:function(a,o){return a>o?1:a<o?-1:0}}])})();La.IntersectsOp=function(){},La.DEFAULT_NODE_CAPACITY=10;var ro=(function(){return c((function f(){i(this,f)}),[{key:"distance",value:function(f,a){}}])})(),ca=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"createParentBoundablesFromVerticalSlices",value:function(o,d){me.isTrue(o.length>0);for(var C=new Tt,B=0;B<o.length;B++)C.addAll(this.createParentBoundablesFromVerticalSlice(o[B],d));return C}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.nearestNeighbourK(o,ke.POSITIVE_INFINITY,d)}if(arguments.length===3){var C=arguments[0],B=arguments[2],W=arguments[1],se=new _o;se.add(C);for(var xe=new _o;!se.isEmpty()&&W>=0;){var $e=se.poll(),st=$e.getDistance();if(st>=W)break;$e.isLeaves()?xe.size()<B?xe.add($e):(xe.peek().getDistance()>st&&(xe.poll(),xe.add($e)),W=xe.peek().getDistance()):$e.expandToQueue(se,W)}return a.getItems(xe)}}},{key:"createNode",value:function(o){return new j(o)}},{key:"size",value:function(){return arguments.length===0?N(a,"size",this,1).call(this):N(a,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof We))return N(a,"insert",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];if(o.isNull())return null;N(a,"insert",this,1).call(this,o,d)}},{key:"getIntersectsOp",value:function(){return a.intersectsOp}},{key:"verticalSlices",value:function(o,d){for(var C=Math.trunc(Math.ceil(o.size()/d)),B=new Array(d).fill(null),W=o.iterator(),se=0;se<d;se++){B[se]=new Tt;for(var xe=0;W.hasNext()&&xe<C;){var $e=W.next();B[se].add($e),xe++}}return B}},{key:"query",value:function(){if(arguments.length===1){var o=arguments[0];return N(a,"query",this,1).call(this,o)}if(arguments.length===2){var d=arguments[0],C=arguments[1];N(a,"query",this,1).call(this,d,C)}}},{key:"getComparator",value:function(){return a.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(o,d){return N(a,"createParentBoundables",this,1).call(this,o,d)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof We){var o=arguments[0],d=arguments[1];return N(a,"remove",this,1).call(this,o,d)}return N(a,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?N(a,"depth",this,1).call(this):N(a,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(o,d){me.isTrue(!o.isEmpty());var C=Math.trunc(Math.ceil(o.size()/this.getNodeCapacity())),B=new Tt(o);ua.sort(B,a.xComparator);var W=this.verticalSlices(B,Math.trunc(Math.ceil(Math.sqrt(C))));return this.createParentBoundablesFromVerticalSlices(W,d)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Et(arguments[0],ro)){var o=arguments[0];if(this.isEmpty())return null;var d=new Bi(this.getRoot(),this.getRoot(),o);return this.nearestNeighbour(d)}if(arguments[0]instanceof Bi){var C=arguments[0],B=ke.POSITIVE_INFINITY,W=null,se=new _o;for(se.add(C);!se.isEmpty()&&B>0;){var xe=se.poll(),$e=xe.getDistance();if($e>=B)break;xe.isLeaves()?(B=$e,W=xe):xe.expandToQueue(se,B)}return W===null?null:[W.getBoundable(0).getItem(),W.getBoundable(1).getItem()]}}else{if(arguments.length===2){var st=arguments[0],_t=arguments[1];if(this.isEmpty()||st.isEmpty())return null;var Yt=new Bi(this.getRoot(),st.getRoot(),_t);return this.nearestNeighbour(Yt)}if(arguments.length===3){var pn=arguments[2],Pn=new Yn(arguments[0],arguments[1]),$n=new Bi(this.getRoot(),Pn,pn);return this.nearestNeighbour($n)[0]}if(arguments.length===4){var Mr=arguments[2],hr=arguments[3],Ur=new Yn(arguments[0],arguments[1]),ti=new Bi(this.getRoot(),Ur,Mr);return this.nearestNeighbourK(ti,hr)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1],C=ke.POSITIVE_INFINITY,B=new _o;for(B.add(o);!B.isEmpty();){var W=B.poll(),se=W.getDistance();if(se>d)return!1;if(W.maximumDistance()<=d)return!0;if(W.isLeaves()){if((C=se)<=d)return!0}else W.expandToQueue(B,C)}return!1}if(arguments.length===3){var xe=arguments[0],$e=arguments[1],st=arguments[2],_t=new Bi(this.getRoot(),xe.getRoot(),$e);return this.isWithinDistance(_t,st)}}},{key:"interfaces_",get:function(){return[Kn,H]}}],[{key:"constructor_",value:function(){if(arguments.length===0)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var o=arguments[0];La.constructor_.call(this,o)}}},{key:"centreX",value:function(o){return a.avg(o.getMinX(),o.getMaxX())}},{key:"avg",value:function(o,d){return(o+d)/2}},{key:"getItems",value:function(o){for(var d=new Array(o.size()).fill(null),C=0;!o.isEmpty();){var B=o.poll();d[C]=B.getBoundable(0).getItem(),C++}return d}},{key:"centreY",value:function(o){return a.avg(o.getMinY(),o.getMaxY())}}])})(La),j=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeBounds",value:function(){for(var o=null,d=this.getChildBoundables().iterator();d.hasNext();){var C=d.next();o===null?o=new We(C.getBounds()):o.expandToInclude(C.getBounds())}return o}}],[{key:"constructor_",value:function(){var o=arguments[0];hi.constructor_.call(this,o)}}])})(hi);ca.STRtreeNode=j,ca.xComparator=new((function(){return c((function f(){i(this,f)}),[{key:"interfaces_",get:function(){return[Te]}},{key:"compare",value:function(f,a){return La.compareDoubles(ca.centreX(f.getBounds()),ca.centreX(a.getBounds()))}}])})()),ca.yComparator=new((function(){return c((function f(){i(this,f)}),[{key:"interfaces_",get:function(){return[Te]}},{key:"compare",value:function(f,a){return La.compareDoubles(ca.centreY(f.getBounds()),ca.centreY(a.getBounds()))}}])})()),ca.intersectsOp=new((function(){return c((function f(){i(this,f)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(f,a){return f.intersects(a)}}])})()),ca.DEFAULT_NODE_CAPACITY=10;var ye=(function(){function f(){i(this,f)}return c(f,null,[{key:"relativeSign",value:function(a,o){return a<o?-1:a>o?1:0}},{key:"compare",value:function(a,o,d){if(o.equals2D(d))return 0;var C=f.relativeSign(o.x,d.x),B=f.relativeSign(o.y,d.y);switch(a){case 0:return f.compareValue(C,B);case 1:return f.compareValue(B,C);case 2:return f.compareValue(B,-C);case 3:return f.compareValue(-C,B);case 4:return f.compareValue(-C,-B);case 5:return f.compareValue(-B,-C);case 6:return f.compareValue(-B,C);case 7:return f.compareValue(C,-B)}return me.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(a,o){return a<0?-1:a>0?1:o<0?-1:o>0?1:0}}])})(),ze=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(f){var a=f;return this.segmentIndex<a.segmentIndex?-1:this.segmentIndex>a.segmentIndex?1:this.coord.equals2D(a.coord)?0:this._isInterior?a._isInterior?ye.compare(this._segmentOctant,this.coord,a.coord):1:-1}},{key:"isEndPoint",value:function(f){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===f}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[te]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var f=arguments[0],a=arguments[1],o=arguments[2],d=arguments[3];this._segString=f,this.coord=new he(a),this.segmentIndex=o,this._segmentOctant=d,this._isInterior=!a.equals2D(f.getCoordinate(o))}}])})(),et=(function(){return c((function f(){i(this,f)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),pt=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var f=new yi;this.addEndpoints();for(var a=this.iterator(),o=a.next();a.hasNext();){var d=a.next();this.addEdgeCoordinates(o,d,f),o=d}return f.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var f=new Tt;this.findCollapsesFromInsertedNodes(f),this.findCollapsesFromExistingVertices(f);for(var a=f.iterator();a.hasNext();){var o=a.next().intValue();this.add(this._edge.getCoordinate(o),o)}}},{key:"createSplitEdgePts",value:function(f,a){var o=a.segmentIndex-f.segmentIndex+2;if(o===2)return[new he(f.coord),new he(a.coord)];var d=this._edge.getCoordinate(a.segmentIndex),C=a.isInterior()||!a.coord.equals2D(d);C||o--;var B=new Array(o).fill(null),W=0;B[W++]=new he(f.coord);for(var se=f.segmentIndex+1;se<=a.segmentIndex;se++)B[W++]=this._edge.getCoordinate(se);return C&&(B[W]=new he(a.coord)),B}},{key:"print",value:function(f){f.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"findCollapsesFromExistingVertices",value:function(f){for(var a=0;a<this._edge.size()-2;a++){var o=this._edge.getCoordinate(a);this._edge.getCoordinate(a+1);var d=this._edge.getCoordinate(a+2);o.equals2D(d)&&f.add(nn.valueOf(a+1))}}},{key:"addEdgeCoordinates",value:function(f,a,o){var d=this.createSplitEdgePts(f,a);o.add(d,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(f){this.addEndpoints(),this.addCollapsedNodes();for(var a=this.iterator(),o=a.next();a.hasNext();){var d=a.next(),C=this.createSplitEdge(o,d);f.add(C),o=d}}},{key:"findCollapseIndex",value:function(f,a,o){if(!f.coord.equals2D(a.coord))return!1;var d=a.segmentIndex-f.segmentIndex;return a.isInterior()||d--,d===1&&(o[0]=f.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(f){for(var a=new Array(1).fill(null),o=this.iterator(),d=o.next();o.hasNext();){var C=o.next();this.findCollapseIndex(d,C,a)&&f.add(nn.valueOf(a[0])),d=C}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var f=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(f),f)}},{key:"createSplitEdge",value:function(f,a){var o=this.createSplitEdgePts(f,a);return new Cn(o,this._edge.getData())}},{key:"add",value:function(f,a){var o=new ze(this._edge,f,a,this._edge.getSegmentOctant(a)),d=this._nodeMap.get(o);return d!==null?(me.isTrue(d.coord.equals2D(f),"Found equal nodes with different coordinates"),d):(this._nodeMap.put(o,o),o)}},{key:"checkSplitEdgesCorrectness",value:function(f){var a=this._edge.getCoordinates(),o=f.get(0).getCoordinate(0);if(!o.equals2D(a[0]))throw new ne("bad split edge start point at "+o);var d=f.get(f.size()-1).getCoordinates(),C=d[d.length-1];if(!C.equals2D(a[a.length-1]))throw new ne("bad split edge end point at "+C)}}],[{key:"constructor_",value:function(){this._nodeMap=new Kr,this._edge=null;var f=arguments[0];this._edge=f}}])})(),$t=(function(){function f(){i(this,f)}return c(f,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1];if(a===0&&o===0)throw new G("Cannot compute the octant for point ( "+a+", "+o+" )");var d=Math.abs(a),C=Math.abs(o);return a>=0?o>=0?d>=C?0:1:d>=C?7:6:o>=0?d>=C?3:2:d>=C?4:5}if(arguments[0]instanceof he&&arguments[1]instanceof he){var B=arguments[0],W=arguments[1],se=W.x-B.x,xe=W.y-B.y;if(se===0&&xe===0)throw new G("Cannot compute the octant for two identical points "+B);return f.octant(se,xe)}}}])})(),Qt=(function(){return c((function f(){i(this,f)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(f){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(f){}},{key:"getData",value:function(){}}])})(),Mn=(function(){return c((function f(){i(this,f)}),[{key:"addIntersection",value:function(f,a){}},{key:"interfaces_",get:function(){return[Qt]}}])})(),Cn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(a){return this._pts[a]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(a){return a===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))}},{key:"setData",value:function(a){this._data=a}},{key:"safeOctant",value:function(a,o){return a.equals2D(o)?0:$t.octant(a,o)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];this.addIntersectionNode(a,o)}else if(arguments.length===4){var d=arguments[1],C=arguments[3],B=new he(arguments[0].getIntersection(C));this.addIntersection(B,d)}}},{key:"toString",value:function(){return er.toLineString(new rr(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(a,o){var d=o,C=d+1;if(C<this._pts.length){var B=this._pts[C];a.equals2D(B)&&(d=C)}return this._nodeList.add(a,d)}},{key:"addIntersections",value:function(a,o,d){for(var C=0;C<a.getIntersectionNum();C++)this.addIntersection(a,o,d,C)}},{key:"interfaces_",get:function(){return[Mn]}}],[{key:"constructor_",value:function(){this._nodeList=new pt(this),this._pts=null,this._data=null;var a=arguments[0],o=arguments[1];this._pts=a,this._data=o}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var a=arguments[0],o=new Tt;return f.getNodedSubstrings(a,o),o}if(arguments.length===2)for(var d=arguments[1],C=arguments[0].iterator();C.hasNext();)C.next().getNodeList().addSplitEdges(d)}}])})(),Tn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof f){var a=arguments[0],o=ht.index(this.p0,this.p1,a.p0),d=ht.index(this.p0,this.p1,a.p1);return o>=0&&d>=0||o<=0&&d<=0?Math.max(o,d):0}if(arguments[0]instanceof he){var C=arguments[0];return ht.index(this.p0,this.p1,C)}}},{key:"toGeometry",value:function(a){return a.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(a){if(!(a instanceof f))return!1;var o=a;return this.p0.equals(o.p0)&&this.p1.equals(o.p1)}},{key:"intersection",value:function(a){var o=new oi;return o.computeIntersection(this.p0,this.p1,a.p0,a.p1),o.hasIntersection()?o.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof he){var a=arguments[0];if(a.equals(this.p0)||a.equals(this.p1))return new he(a);var o=this.projectionFactor(a),d=new he;return d.x=this.p0.x+o*(this.p1.x-this.p0.x),d.y=this.p0.y+o*(this.p1.y-this.p0.y),d}if(arguments[0]instanceof f){var C=arguments[0],B=this.projectionFactor(C.p0),W=this.projectionFactor(C.p1);if(B>=1&&W>=1||B<=0&&W<=0)return null;var se=this.project(C.p0);B<0&&(se=this.p0),B>1&&(se=this.p1);var xe=this.project(C.p1);return W<0&&(xe=this.p0),W>1&&(xe=this.p1),new f(se,xe)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(a){return a===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(a){return Bn.pointToLinePerpendicular(a,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return f.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var o=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,C=o*o+d*d;return C<=0?ke.NaN:((a.x-this.p0.x)*o+(a.y-this.p0.y)*d)/C}},{key:"closestPoints",value:function(a){var o=this.intersection(a);if(o!==null)return[o,o];var d=new Array(2).fill(null),C=ke.MAX_VALUE,B=null,W=this.closestPoint(a.p0);C=W.distance(a.p0),d[0]=W,d[1]=a.p0;var se=this.closestPoint(a.p1);(B=se.distance(a.p1))<C&&(C=B,d[0]=se,d[1]=a.p1);var xe=a.closestPoint(this.p0);(B=xe.distance(this.p0))<C&&(C=B,d[0]=this.p0,d[1]=xe);var $e=a.closestPoint(this.p1);return(B=$e.distance(this.p1))<C&&(C=B,d[0]=this.p1,d[1]=$e),d}},{key:"closestPoint",value:function(a){var o=this.projectionFactor(a);return o>0&&o<1?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(a){var o=a,d=this.p0.compareTo(o.p0);return d!==0?d:this.p1.compareTo(o.p1)}},{key:"reverse",value:function(){var a=this.p0;this.p0=this.p1,this.p1=a}},{key:"equalsTopo",value:function(a){return this.p0.equals(a.p0)&&this.p1.equals(a.p1)||this.p0.equals(a.p1)&&this.p1.equals(a.p0)}},{key:"lineIntersection",value:function(a){return ln.intersection(this.p0,this.p1,a.p0,a.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(a,o){var d=this.p0.x+a*(this.p1.x-this.p0.x),C=this.p0.y+a*(this.p1.y-this.p0.y),B=this.p1.x-this.p0.x,W=this.p1.y-this.p0.y,se=Math.sqrt(B*B+W*W),xe=0,$e=0;if(o!==0){if(se<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");xe=o*B/se,$e=o*W/se}return new he(d-$e,C+xe)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0.x=o.x,this.p0.y=o.y,this.p1.x=d.x,this.p1.y=d.y}}},{key:"segmentFraction",value:function(a){var o=this.projectionFactor(a);return o<0?o=0:(o>1||ke.isNaN(o))&&(o=1),o}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(a){var o=this.p1.getY()-this.p0.getY(),d=this.p0.getX()-this.p1.getX(),C=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),B=o*o+d*d,W=o*o-d*d,se=a.getX(),xe=a.getY();return new he((-W*se-2*o*d*xe-2*o*C)/B,(W*xe-2*o*d*se-2*d*C)/B)}},{key:"distance",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return Bn.segmentToSegment(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof he){var o=arguments[0];return Bn.pointToSegment(o,this.p0,this.p1)}}},{key:"pointAlong",value:function(a){var o=new he;return o.x=this.p0.x+a*(this.p1.x-this.p0.x),o.y=this.p0.y+a*(this.p1.y-this.p0.y),o}},{key:"hashCode",value:function(){var a=ke.doubleToLongBits(this.p0.x);a^=31*ke.doubleToLongBits(this.p0.y);var o=Math.trunc(a)^Math.trunc(a>>32),d=ke.doubleToLongBits(this.p1.x);return d^=31*ke.doubleToLongBits(this.p1.y),o^(Math.trunc(d)^Math.trunc(d>>32))}},{key:"interfaces_",get:function(){return[te,H]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)f.constructor_.call(this,new he,new he);else if(arguments.length===1){var a=arguments[0];f.constructor_.call(this,a.p0,a.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0=o,this.p1=d}else if(arguments.length===4){var C=arguments[0],B=arguments[1],W=arguments[2],se=arguments[3];f.constructor_.call(this,new he(C,B),new he(W,se))}}},{key:"midPoint",value:function(a,o){return new he((a.x+o.x)/2,(a.y+o.y)/2)}}])})(),ir=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var f=arguments[1],a=arguments[2],o=arguments[3];arguments[0].getLineSegment(f,this._overlapSeg1),a.getLineSegment(o,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Tn,this._overlapSeg2=new Tn}}])})(),Sr=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(f,a){a.p0=this._pts[f],a.p1=this._pts[f+1]}},{key:"computeSelect",value:function(f,a,o,d){var C=this._pts[a],B=this._pts[o];if(o-a==1)return d.select(this,a),null;if(!f.intersects(C,B))return null;var W=Math.trunc((a+o)/2);a<W&&this.computeSelect(f,a,W,d),W<o&&this.computeSelect(f,W,o,d)}},{key:"getCoordinates",value:function(){for(var f=new Array(this._end-this._start+1).fill(null),a=0,o=this._start;o<=this._end;o++)f[a++]=this._pts[o];return f}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var f=arguments[0],a=arguments[1];this.computeOverlaps(this._start,this._end,f,f._start,f._end,a)}else if(arguments.length===6){var o=arguments[0],d=arguments[1],C=arguments[2],B=arguments[3],W=arguments[4],se=arguments[5];if(d-o==1&&W-B==1)return se.overlap(this,o,C,B),null;if(!this.overlaps(o,d,C,B,W))return null;var xe=Math.trunc((o+d)/2),$e=Math.trunc((B+W)/2);o<xe&&(B<$e&&this.computeOverlaps(o,xe,C,B,$e,se),$e<W&&this.computeOverlaps(o,xe,C,$e,W,se)),xe<d&&(B<$e&&this.computeOverlaps(xe,d,C,B,$e,se),$e<W&&this.computeOverlaps(xe,d,C,$e,W,se))}}},{key:"setId",value:function(f){this._id=f}},{key:"select",value:function(f,a){this.computeSelect(f,this._start,this._end,a)}},{key:"getEnvelope",value:function(){if(this._env===null){var f=this._pts[this._start],a=this._pts[this._end];this._env=new We(f,a)}return this._env}},{key:"overlaps",value:function(f,a,o,d,C){return We.intersects(this._pts[f],this._pts[a],o._pts[d],o._pts[C])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var f=arguments[0],a=arguments[1],o=arguments[2],d=arguments[3];this._pts=f,this._start=a,this._end=o,this._context=d}}])})(),li=(function(){function f(){i(this,f)}return c(f,null,[{key:"findChainEnd",value:function(a,o){for(var d=o;d<a.length-1&&a[d].equals2D(a[d+1]);)d++;if(d>=a.length-1)return a.length-1;for(var C=si.quadrant(a[d],a[d+1]),B=o+1;B<a.length&&!(!a[B-1].equals2D(a[B])&&si.quadrant(a[B-1],a[B])!==C);)B++;return B-1}},{key:"getChains",value:function(){if(arguments.length===1){var a=arguments[0];return f.getChains(a,null)}if(arguments.length===2){var o=arguments[0],d=arguments[1],C=new Tt,B=0;do{var W=f.findChainEnd(o,B),se=new Sr(o,B,W,d);C.add(se),B=W}while(B<o.length-1);return C}}}])})(),vr=(function(){return c((function f(){i(this,f)}),[{key:"computeNodes",value:function(f){}},{key:"getNodedSubstrings",value:function(){}}])})(),ar=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(f){this._segInt=f}},{key:"interfaces_",get:function(){return[vr]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var f=arguments[0];this.setSegmentIntersector(f)}}}}])})(),di=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Cn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(o){for(var d=li.getChains(o.getCoordinates(),o).iterator();d.hasNext();){var C=d.next();C.setId(this._idCounter++),this._index.insert(C.getEnvelope(),C),this._monoChains.add(C)}}},{key:"computeNodes",value:function(o){this._nodedSegStrings=o;for(var d=o.iterator();d.hasNext();)this.add(d.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var o=new Zr(this._segInt),d=this._monoChains.iterator();d.hasNext();)for(var C=d.next(),B=this._index.query(C.getEnvelope()).iterator();B.hasNext();){var W=B.next();if(W.getId()>C.getId()&&(C.computeOverlaps(W,o),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Tt,this._index=new ca,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var o=arguments[0];ar.constructor_.call(this,o)}}}}])})(ar),Zr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"overlap",value:function(){if(arguments.length!==4)return N(a,"overlap",this,1).apply(this,arguments);var o=arguments[1],d=arguments[2],C=arguments[3],B=arguments[0].getContext(),W=d.getContext();this._si.processIntersections(B,o,W,C)}}],[{key:"constructor_",value:function(){this._si=null;var o=arguments[0];this._si=o}}])})(ir);di.SegmentOverlapAction=Zr;var Ir=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isDeletable",value:function(a,o,d,C){var B=this._inputLine[a],W=this._inputLine[o],se=this._inputLine[d];return!!this.isConcave(B,W,se)&&!!this.isShallow(B,W,se,C)&&this.isShallowSampled(B,W,a,d,C)}},{key:"deleteShallowConcavities",value:function(){for(var a=1,o=this.findNextNonDeletedIndex(a),d=this.findNextNonDeletedIndex(o),C=!1;d<this._inputLine.length;){var B=!1;this.isDeletable(a,o,d,this._distanceTol)&&(this._isDeleted[o]=f.DELETE,B=!0,C=!0),a=B?d:o,o=this.findNextNonDeletedIndex(a),d=this.findNextNonDeletedIndex(o)}return C}},{key:"isShallowConcavity",value:function(a,o,d,C){return ht.index(a,o,d)===this._angleOrientation&&Bn.pointToSegment(o,a,d)<C}},{key:"isShallowSampled",value:function(a,o,d,C,B){var W=Math.trunc((C-d)/f.NUM_PTS_TO_CHECK);W<=0&&(W=1);for(var se=d;se<C;se+=W)if(!this.isShallow(a,o,this._inputLine[se],B))return!1;return!0}},{key:"isConcave",value:function(a,o,d){var C=ht.index(a,o,d)===this._angleOrientation;return C}},{key:"simplify",value:function(a){this._distanceTol=Math.abs(a),a<0&&(this._angleOrientation=ht.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var o=!1;do o=this.deleteShallowConcavities();while(o);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(a){for(var o=a+1;o<this._inputLine.length&&this._isDeleted[o]===f.DELETE;)o++;return o}},{key:"isShallow",value:function(a,o,d,C){return Bn.pointToSegment(o,a,d)<C}},{key:"collapseLine",value:function(){for(var a=new yi,o=0;o<this._inputLine.length;o++)this._isDeleted[o]!==f.DELETE&&a.add(this._inputLine[o]);return a.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ht.COUNTERCLOCKWISE;var a=arguments[0];this._inputLine=a}},{key:"simplify",value:function(a,o){return new f(a).simplify(o)}}])})();Ir.INIT=0,Ir.DELETE=1,Ir.KEEP=1,Ir.NUM_PTS_TO_CHECK=10;var Di=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getCoordinates",value:function(){return this._ptList.toArray(f.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(a){this._precisionModel=a}},{key:"addPt",value:function(a){var o=new he(a);if(this._precisionModel.makePrecise(o),this.isRedundant(o))return null;this._ptList.add(o)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(a,o){if(o)for(var d=0;d<a.length;d++)this.addPt(a[d]);else for(var C=a.length-1;C>=0;C--)this.addPt(a[C])}},{key:"isRedundant",value:function(a){if(this._ptList.size()<1)return!1;var o=this._ptList.get(this._ptList.size()-1);return a.distance(o)<this._minimimVertexDistance}},{key:"toString",value:function(){return new $r().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var a=new he(this._ptList.get(0)),o=this._ptList.get(this._ptList.size()-1);if(a.equals(o))return null;this._ptList.add(a)}},{key:"setMinimumVertexDistance",value:function(a){this._minimimVertexDistance=a}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Tt}}])})();Di.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Er=(function(){function f(){i(this,f)}return c(f,null,[{key:"toDegrees",value:function(a){return 180*a/Math.PI}},{key:"normalize",value:function(a){for(;a>Math.PI;)a-=f.PI_TIMES_2;for(;a<=-Math.PI;)a+=f.PI_TIMES_2;return a}},{key:"angle",value:function(){if(arguments.length===1){var a=arguments[0];return Math.atan2(a.y,a.x)}if(arguments.length===2){var o=arguments[0],d=arguments[1],C=d.x-o.x,B=d.y-o.y;return Math.atan2(B,C)}}},{key:"isAcute",value:function(a,o,d){var C=a.x-o.x,B=a.y-o.y;return C*(d.x-o.x)+B*(d.y-o.y)>0}},{key:"isObtuse",value:function(a,o,d){var C=a.x-o.x,B=a.y-o.y;return C*(d.x-o.x)+B*(d.y-o.y)<0}},{key:"interiorAngle",value:function(a,o,d){var C=f.angle(o,a),B=f.angle(o,d);return Math.abs(B-C)}},{key:"normalizePositive",value:function(a){if(a<0){for(;a<0;)a+=f.PI_TIMES_2;a>=f.PI_TIMES_2&&(a=0)}else{for(;a>=f.PI_TIMES_2;)a-=f.PI_TIMES_2;a<0&&(a=0)}return a}},{key:"angleBetween",value:function(a,o,d){var C=f.angle(o,a),B=f.angle(o,d);return f.diff(C,B)}},{key:"diff",value:function(a,o){var d=null;return(d=a<o?o-a:a-o)>Math.PI&&(d=2*Math.PI-d),d}},{key:"toRadians",value:function(a){return a*Math.PI/180}},{key:"getTurn",value:function(a,o){var d=Math.sin(o-a);return d>0?f.COUNTERCLOCKWISE:d<0?f.CLOCKWISE:f.NONE}},{key:"angleBetweenOriented",value:function(a,o,d){var C=f.angle(o,a),B=f.angle(o,d)-C;return B<=-Math.PI?B+f.PI_TIMES_2:B>Math.PI?B-f.PI_TIMES_2:B}}])})();Er.PI_TIMES_2=2*Math.PI,Er.PI_OVER_2=Math.PI/2,Er.PI_OVER_4=Math.PI/4,Er.COUNTERCLOCKWISE=ht.COUNTERCLOCKWISE,Er.CLOCKWISE=ht.CLOCKWISE,Er.NONE=ht.COLLINEAR;var ha=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"addNextSegment",value:function(a,o){if(this._s0=this._s1,this._s1=this._s2,this._s2=a,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var d=ht.index(this._s0,this._s1,this._s2),C=d===ht.CLOCKWISE&&this._side===Ze.LEFT||d===ht.COUNTERCLOCKWISE&&this._side===Ze.RIGHT;d===0?this.addCollinear(o):C?this.addOutsideTurn(d,o):this.addInsideTurn(d,o)}},{key:"addLineEndCap",value:function(a,o){var d=new Tn(a,o),C=new Tn;this.computeOffsetSegment(d,Ze.LEFT,this._distance,C);var B=new Tn;this.computeOffsetSegment(d,Ze.RIGHT,this._distance,B);var W=o.x-a.x,se=o.y-a.y,xe=Math.atan2(se,W);switch(this._bufParams.getEndCapStyle()){case R.CAP_ROUND:this._segList.addPt(C.p1),this.addDirectedFillet(o,xe+Math.PI/2,xe-Math.PI/2,ht.CLOCKWISE,this._distance),this._segList.addPt(B.p1);break;case R.CAP_FLAT:this._segList.addPt(C.p1),this._segList.addPt(B.p1);break;case R.CAP_SQUARE:var $e=new he;$e.x=Math.abs(this._distance)*Math.cos(xe),$e.y=Math.abs(this._distance)*Math.sin(xe);var st=new he(C.p1.x+$e.x,C.p1.y+$e.y),_t=new he(B.p1.x+$e.x,B.p1.y+$e.y);this._segList.addPt(st),this._segList.addPt(_t)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(a,o,d,C){var B=ln.intersection(o.p0,o.p1,d.p0,d.p1);if(B!==null&&(C<=0?1:B.distance(a)/Math.abs(C))<=this._bufParams.getMitreLimit())return this._segList.addPt(B),null;this.addLimitedMitreJoin(o,d,C,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(a,o){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*f.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===R.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===R.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(o&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,a,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(a){this._segList.addPt(new he(a.x+this._distance,a.y+this._distance)),this._segList.addPt(new he(a.x+this._distance,a.y-this._distance)),this._segList.addPt(new he(a.x-this._distance,a.y-this._distance)),this._segList.addPt(new he(a.x-this._distance,a.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(a,o){this._segList.addPts(a,o)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(a,o,d,C,B){var W=o.x-a.x,se=o.y-a.y,xe=Math.atan2(se,W),$e=d.x-a.x,st=d.y-a.y,_t=Math.atan2(st,$e);C===ht.CLOCKWISE?xe<=_t&&(xe+=2*Math.PI):xe>=_t&&(xe-=2*Math.PI),this._segList.addPt(o),this.addDirectedFillet(a,xe,_t,C,B),this._segList.addPt(d)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(a,o,d){this._s1=a,this._s2=o,this._side=d,this._seg1.setCoordinates(a,o),this.computeOffsetSegment(this._seg1,d,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(a,o,d,C){var B=this._seg0.p1,W=Er.angle(B,this._seg0.p0),se=Er.angleBetweenOriented(this._seg0.p0,B,this._seg1.p1)/2,xe=Er.normalize(W+se),$e=Er.normalize(xe+Math.PI),st=C*d,_t=d-st*Math.abs(Math.sin(se)),Yt=B.x+st*Math.cos($e),pn=B.y+st*Math.sin($e),Pn=new he(Yt,pn),$n=new Tn(B,Pn),Mr=$n.pointAlongOffset(1,_t),hr=$n.pointAlongOffset(1,-_t);this._side===Ze.LEFT?(this._segList.addPt(Mr),this._segList.addPt(hr)):(this._segList.addPt(hr),this._segList.addPt(Mr))}},{key:"addDirectedFillet",value:function(a,o,d,C,B){var W=C===ht.CLOCKWISE?-1:1,se=Math.abs(o-d),xe=Math.trunc(se/this._filletAngleQuantum+.5);if(xe<1)return null;for(var $e=se/xe,st=new he,_t=0;_t<xe;_t++){var Yt=o+W*_t*$e;st.x=a.x+B*Math.cos(Yt),st.y=a.y+B*Math.sin(Yt),this._segList.addPt(st)}}},{key:"computeOffsetSegment",value:function(a,o,d,C){var B=o===Ze.LEFT?1:-1,W=a.p1.x-a.p0.x,se=a.p1.y-a.p0.y,xe=Math.sqrt(W*W+se*se),$e=B*d*W/xe,st=B*d*se/xe;C.p0.x=a.p0.x-st,C.p0.y=a.p0.y+$e,C.p1.x=a.p1.x-st,C.p1.y=a.p1.y+$e}},{key:"addInsideTurn",value:function(a,o){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*f.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var d=new he((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d);var C=new he((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(C)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(a){var o=new he(a.x+this._distance,a.y);this._segList.addPt(o),this.addDirectedFillet(a,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(a,o){this._segList.addPt(a.p1),this._segList.addPt(o.p0)}},{key:"init",value:function(a){this._distance=a,this._maxCurveSegmentError=a*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Di,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(a*f.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(a){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===R.JOIN_BEVEL||this._bufParams.getJoinStyle()===R.JOIN_MITRE?(a&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,ht.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Tn,this._seg1=new Tn,this._offset0=new Tn,this._offset1=new Tn,this._side=0,this._hasNarrowConcaveAngle=!1;var a=arguments[0],o=arguments[1],d=arguments[2];this._precisionModel=a,this._bufParams=o,this._li=new oi,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===R.JOIN_ROUND&&(this._closingSegLengthFactor=f.MAX_CLOSING_SEG_LEN_FACTOR),this.init(d)}}])})();ha.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,ha.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,ha.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,ha.MAX_CLOSING_SEG_LEN_FACTOR=80;var bo=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getOffsetCurve",value:function(a,o){if(this._distance=o,o===0)return null;var d=o<0,C=Math.abs(o),B=this.getSegGen(C);a.length<=1?this.computePointCurve(a[0],B):this.computeOffsetCurve(a,d,B);var W=B.getCoordinates();return d&&mr.reverse(W),W}},{key:"computeSingleSidedBufferCurve",value:function(a,o,d){var C=this.simplifyTolerance(this._distance);if(o){d.addSegments(a,!0);var B=Ir.simplify(a,-C),W=B.length-1;d.initSideSegments(B[W],B[W-1],Ze.LEFT),d.addFirstSegment();for(var se=W-2;se>=0;se--)d.addNextSegment(B[se],!0)}else{d.addSegments(a,!1);var xe=Ir.simplify(a,C),$e=xe.length-1;d.initSideSegments(xe[0],xe[1],Ze.LEFT),d.addFirstSegment();for(var st=2;st<=$e;st++)d.addNextSegment(xe[st],!0)}d.addLastSegment(),d.closeRing()}},{key:"computeRingBufferCurve",value:function(a,o,d){var C=this.simplifyTolerance(this._distance);o===Ze.RIGHT&&(C=-C);var B=Ir.simplify(a,C),W=B.length-1;d.initSideSegments(B[W-1],B[0],o);for(var se=1;se<=W;se++){var xe=se!==1;d.addNextSegment(B[se],xe)}d.closeRing()}},{key:"computeLineBufferCurve",value:function(a,o){var d=this.simplifyTolerance(this._distance),C=Ir.simplify(a,d),B=C.length-1;o.initSideSegments(C[0],C[1],Ze.LEFT);for(var W=2;W<=B;W++)o.addNextSegment(C[W],!0);o.addLastSegment(),o.addLineEndCap(C[B-1],C[B]);var se=Ir.simplify(a,-d),xe=se.length-1;o.initSideSegments(se[xe],se[xe-1],Ze.LEFT);for(var $e=xe-2;$e>=0;$e--)o.addNextSegment(se[$e],!0);o.addLastSegment(),o.addLineEndCap(se[1],se[0]),o.closeRing()}},{key:"computePointCurve",value:function(a,o){switch(this._bufParams.getEndCapStyle()){case R.CAP_ROUND:o.createCircle(a);break;case R.CAP_SQUARE:o.createSquare(a)}}},{key:"getLineCurve",value:function(a,o){if(this._distance=o,this.isLineOffsetEmpty(o))return null;var d=Math.abs(o),C=this.getSegGen(d);if(a.length<=1)this.computePointCurve(a[0],C);else if(this._bufParams.isSingleSided()){var B=o<0;this.computeSingleSidedBufferCurve(a,B,C)}else this.computeLineBufferCurve(a,C);return C.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(a){return a*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(a,o,d){if(this._distance=d,a.length<=2)return this.getLineCurve(a,d);if(d===0)return f.copyCoordinates(a);var C=this.getSegGen(d);return this.computeRingBufferCurve(a,o,C),C.getCoordinates()}},{key:"computeOffsetCurve",value:function(a,o,d){var C=this.simplifyTolerance(this._distance);if(o){var B=Ir.simplify(a,-C),W=B.length-1;d.initSideSegments(B[W],B[W-1],Ze.LEFT),d.addFirstSegment();for(var se=W-2;se>=0;se--)d.addNextSegment(B[se],!0)}else{var xe=Ir.simplify(a,C),$e=xe.length-1;d.initSideSegments(xe[0],xe[1],Ze.LEFT),d.addFirstSegment();for(var st=2;st<=$e;st++)d.addNextSegment(xe[st],!0)}d.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(a){return a===0||a<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(a){return new ha(this._precisionModel,this._bufParams,a)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var a=arguments[0],o=arguments[1];this._precisionModel=a,this._bufParams=o}},{key:"copyCoordinates",value:function(a){for(var o=new Array(a.length).fill(null),d=0;d<o.length;d++)o[d]=new he(a[d]);return o}}])})(),bi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var f=arguments[0],a=new Tt,o=this._subgraphs.iterator();o.hasNext();){var d=o.next(),C=d.getEnvelope();f.y<C.getMinY()||f.y>C.getMaxY()||this.findStabbedSegments(f,d.getDirectedEdges(),a)}return a}if(arguments.length===3){if(Et(arguments[2],mt)&&arguments[0]instanceof he&&arguments[1]instanceof Bo){for(var B=arguments[0],W=arguments[1],se=arguments[2],xe=W.getEdge().getCoordinates(),$e=0;$e<xe.length-1;$e++)if(this._seg.p0=xe[$e],this._seg.p1=xe[$e+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<B.x||this._seg.isHorizontal()||B.y<this._seg.p0.y||B.y>this._seg.p1.y||ht.index(this._seg.p0,this._seg.p1,B)===ht.RIGHT)){var st=W.getDepth(Ze.LEFT);this._seg.p0.equals(xe[$e])||(st=W.getDepth(Ze.RIGHT));var _t=new xi(this._seg,st);se.add(_t)}}else if(Et(arguments[2],mt)&&arguments[0]instanceof he&&Et(arguments[1],mt))for(var Yt=arguments[0],pn=arguments[2],Pn=arguments[1].iterator();Pn.hasNext();){var $n=Pn.next();$n.isForward()&&this.findStabbedSegments(Yt,$n,pn)}}}},{key:"getDepth",value:function(f){var a=this.findStabbedSegments(f);return a.size()===0?0:ua.min(a)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Tn;var f=arguments[0];this._subgraphs=f}}])})(),xi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(f){var a=f;if(this._upwardSeg.minX()>=a._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=a._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(a._upwardSeg);return o!==0||(o=-1*a._upwardSeg.orientationIndex(this._upwardSeg))!==0?o:this._upwardSeg.compareTo(a._upwardSeg)}},{key:"compareX",value:function(f,a){var o=f.p0.compareTo(a.p0);return o!==0?o:f.p1.compareTo(a.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[te]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var f=arguments[0],a=arguments[1];this._upwardSeg=new Tn(f),this._leftDepth=a}}])})();bi.DepthSegment=xi;var io=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,null,[{key:"constructor_",value:function(){$.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})($),Na=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getY",value:function(){var a=this.y/this.w;if(ke.isNaN(a)||ke.isInfinite(a))throw new io;return a}},{key:"getX",value:function(){var a=this.x/this.w;if(ke.isNaN(a)||ke.isInfinite(a))throw new io;return a}},{key:"getCoordinate",value:function(){var a=new he;return a.x=this.getX(),a.y=this.getY(),a}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var o=arguments[0],d=arguments[1];this.x=o,this.y=d,this.w=1}else if(arguments[0]instanceof f&&arguments[1]instanceof f){var C=arguments[0],B=arguments[1];this.x=C.y*B.w-B.y*C.w,this.y=B.x*C.w-C.x*B.w,this.w=C.x*B.y-B.x*C.y}else if(arguments[0]instanceof he&&arguments[1]instanceof he){var W=arguments[0],se=arguments[1];this.x=W.y-se.y,this.y=se.x-W.x,this.w=W.x*se.y-se.x*W.y}}else if(arguments.length===3){var xe=arguments[0],$e=arguments[1],st=arguments[2];this.x=xe,this.y=$e,this.w=st}else if(arguments.length===4){var _t=arguments[0],Yt=arguments[1],pn=arguments[2],Pn=arguments[3],$n=_t.y-Yt.y,Mr=Yt.x-_t.x,hr=_t.x*Yt.y-Yt.x*_t.y,Ur=pn.y-Pn.y,ti=Pn.x-pn.x,ki=pn.x*Pn.y-Pn.x*pn.y;this.x=Mr*ki-ti*hr,this.y=Ur*hr-$n*ki,this.w=$n*ti-Ur*Mr}}}])})(),ao=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"area",value:function(){return f.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return f.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(a){if(a===null)throw new G("Supplied point is null.");return f.interpolateZ(a,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return f.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return f.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return f.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return f.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return f.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return f.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var a=arguments[0],o=arguments[1],d=arguments[2];this.p0=a,this.p1=o,this.p2=d}},{key:"area",value:function(a,o,d){return Math.abs(((d.x-a.x)*(o.y-a.y)-(o.x-a.x)*(d.y-a.y))/2)}},{key:"signedArea",value:function(a,o,d){return((d.x-a.x)*(o.y-a.y)-(o.x-a.x)*(d.y-a.y))/2}},{key:"det",value:function(a,o,d,C){return a*C-o*d}},{key:"interpolateZ",value:function(a,o,d,C){var B=o.x,W=o.y,se=d.x-B,xe=C.x-B,$e=d.y-W,st=C.y-W,_t=se*st-xe*$e,Yt=a.x-B,pn=a.y-W,Pn=(st*Yt-xe*pn)/_t,$n=(-$e*Yt+se*pn)/_t;return o.getZ()+Pn*(d.getZ()-o.getZ())+$n*(C.getZ()-o.getZ())}},{key:"longestSideLength",value:function(a,o,d){var C=a.distance(o),B=o.distance(d),W=d.distance(a),se=C;return B>se&&(se=B),W>se&&(se=W),se}},{key:"circumcentreDD",value:function(a,o,d){var C=Dt.valueOf(a.x).subtract(d.x),B=Dt.valueOf(a.y).subtract(d.y),W=Dt.valueOf(o.x).subtract(d.x),se=Dt.valueOf(o.y).subtract(d.y),xe=Dt.determinant(C,B,W,se).multiply(2),$e=C.sqr().add(B.sqr()),st=W.sqr().add(se.sqr()),_t=Dt.determinant(B,$e,se,st),Yt=Dt.determinant(C,$e,W,st),pn=Dt.valueOf(d.x).subtract(_t.divide(xe)).doubleValue(),Pn=Dt.valueOf(d.y).add(Yt.divide(xe)).doubleValue();return new he(pn,Pn)}},{key:"isAcute",value:function(a,o,d){return!!Er.isAcute(a,o,d)&&!!Er.isAcute(o,d,a)&&!!Er.isAcute(d,a,o)}},{key:"circumcentre",value:function(a,o,d){var C=d.x,B=d.y,W=a.x-C,se=a.y-B,xe=o.x-C,$e=o.y-B,st=2*f.det(W,se,xe,$e),_t=f.det(se,W*W+se*se,$e,xe*xe+$e*$e),Yt=f.det(W,W*W+se*se,xe,xe*xe+$e*$e);return new he(C-_t/st,B+Yt/st)}},{key:"perpendicularBisector",value:function(a,o){var d=o.x-a.x,C=o.y-a.y,B=new Na(a.x+d/2,a.y+C/2,1),W=new Na(a.x-C+d/2,a.y+d+C/2,1);return new Na(B,W)}},{key:"angleBisector",value:function(a,o,d){var C=o.distance(a),B=C/(C+o.distance(d)),W=d.x-a.x,se=d.y-a.y;return new he(a.x+B*W,a.y+B*se)}},{key:"area3D",value:function(a,o,d){var C=o.x-a.x,B=o.y-a.y,W=o.getZ()-a.getZ(),se=d.x-a.x,xe=d.y-a.y,$e=d.getZ()-a.getZ(),st=B*$e-W*xe,_t=W*se-C*$e,Yt=C*xe-B*se,pn=st*st+_t*_t+Yt*Yt,Pn=Math.sqrt(pn)/2;return Pn}},{key:"centroid",value:function(a,o,d){var C=(a.x+o.x+d.x)/3,B=(a.y+o.y+d.y)/3;return new he(C,B)}},{key:"inCentre",value:function(a,o,d){var C=o.distance(d),B=a.distance(d),W=a.distance(o),se=C+B+W,xe=(C*a.x+B*o.x+W*d.x)/se,$e=(C*a.y+B*o.y+W*d.y)/se;return new he(xe,$e)}}])})(),qr=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(f,a,o,d,C){if(a===0&&f.length<sr.MINIMUM_VALID_SIZE)return null;var B=d,W=C;f.length>=sr.MINIMUM_VALID_SIZE&&ht.isCCW(f)&&(B=C,W=d,o=Ze.opposite(o));var se=this._curveBuilder.getRingCurve(f,o,a);this.addCurve(se,B,W)}},{key:"addRingBothSides",value:function(f,a){this.addRingSide(f,a,Ze.LEFT,de.EXTERIOR,de.INTERIOR),this.addRingSide(f,a,Ze.RIGHT,de.INTERIOR,de.EXTERIOR)}},{key:"addPoint",value:function(f){if(this._distance<=0)return null;var a=f.getCoordinates(),o=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(o,de.EXTERIOR,de.INTERIOR)}},{key:"addPolygon",value:function(f){var a=this._distance,o=Ze.LEFT;this._distance<0&&(a=-this._distance,o=Ze.RIGHT);var d=f.getExteriorRing(),C=mr.removeRepeatedPoints(d.getCoordinates());if(this._distance<0&&this.isErodedCompletely(d,this._distance)||this._distance<=0&&C.length<3)return null;this.addRingSide(C,a,o,de.EXTERIOR,de.INTERIOR);for(var B=0;B<f.getNumInteriorRing();B++){var W=f.getInteriorRingN(B),se=mr.removeRepeatedPoints(W.getCoordinates());this._distance>0&&this.isErodedCompletely(W,-this._distance)||this.addRingSide(se,a,Ze.opposite(o),de.INTERIOR,de.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(f,a){var o=new ao(f[0],f[1],f[2]),d=o.inCentre();return Bn.pointToSegment(d,o.p0,o.p1)<Math.abs(a)}},{key:"addLineString",value:function(f){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var a=mr.removeRepeatedPoints(f.getCoordinates());if(mr.isRing(a)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(a,this._distance);else{var o=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(o,de.EXTERIOR,de.INTERIOR)}}},{key:"addCurve",value:function(f,a,o){if(f===null||f.length<2)return null;var d=new Cn(f,new ei(0,de.BOUNDARY,a,o));this._curveList.add(d)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(f){if(f.isEmpty())return null;if(f instanceof Pr)this.addPolygon(f);else if(f instanceof br)this.addLineString(f);else if(f instanceof ur)this.addPoint(f);else if(f instanceof nr)this.addCollection(f);else if(f instanceof Gr)this.addCollection(f);else if(f instanceof gr)this.addCollection(f);else{if(!(f instanceof wn))throw new fe(f.getGeometryType());this.addCollection(f)}}},{key:"isErodedCompletely",value:function(f,a){var o=f.getCoordinates();if(o.length<4)return a<0;if(o.length===4)return this.isTriangleErodedCompletely(o,a);var d=f.getEnvelopeInternal(),C=Math.min(d.getHeight(),d.getWidth());return a<0&&2*Math.abs(a)>C}},{key:"addCollection",value:function(f){for(var a=0;a<f.getNumGeometries();a++){var o=f.getGeometryN(a);this.add(o)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Tt;var f=arguments[0],a=arguments[1],o=arguments[2];this._inputGeom=f,this._distance=a,this._curveBuilder=o}}])})(),Ui=(function(){return c((function f(){i(this,f)}),[{key:"locate",value:function(f){}}])})(),oo=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,f.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ft;var a=this._parent.getGeometryN(this._index++);return a instanceof wn?(this._subcollectionIterator=new f(a),this._subcollectionIterator.next()):a}},{key:"remove",value:function(){throw new fe(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var a=arguments[0];this._parent=a,this._atStart=!0,this._index=0,this._max=a.getNumGeometries()}},{key:"isAtomic",value:function(a){return!(a instanceof wn)}}])})(),jo=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"locate",value:function(a){return f.locate(a,this._geom)}},{key:"interfaces_",get:function(){return[Ui]}}],[{key:"constructor_",value:function(){this._geom=null;var a=arguments[0];this._geom=a}},{key:"locatePointInPolygon",value:function(a,o){if(o.isEmpty())return de.EXTERIOR;var d=o.getExteriorRing(),C=f.locatePointInRing(a,d);if(C!==de.INTERIOR)return C;for(var B=0;B<o.getNumInteriorRing();B++){var W=o.getInteriorRingN(B),se=f.locatePointInRing(a,W);if(se===de.BOUNDARY)return de.BOUNDARY;if(se===de.INTERIOR)return de.EXTERIOR}return de.INTERIOR}},{key:"locatePointInRing",value:function(a,o){return o.getEnvelopeInternal().intersects(a)?Xi.locateInRing(a,o.getCoordinates()):de.EXTERIOR}},{key:"containsPointInPolygon",value:function(a,o){return de.EXTERIOR!==f.locatePointInPolygon(a,o)}},{key:"locateInGeometry",value:function(a,o){if(o instanceof Pr)return f.locatePointInPolygon(a,o);if(o instanceof wn)for(var d=new oo(o);d.hasNext();){var C=d.next();if(C!==o){var B=f.locateInGeometry(a,C);if(B!==de.EXTERIOR)return B}}return de.EXTERIOR}},{key:"isContained",value:function(a,o){return de.EXTERIOR!==f.locate(a,o)}},{key:"locate",value:function(a,o){return o.isEmpty()?de.EXTERIOR:o.getEnvelopeInternal().intersects(a)?f.locateInGeometry(a,o):de.EXTERIOR}}])})(),zo=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(f){this.getEdges();var a=this._edgeList.indexOf(f),o=a-1;return a===0&&(o=this._edgeList.size()-1),this._edgeList.get(o)}},{key:"propagateSideLabels",value:function(f){for(var a=de.NONE,o=this.iterator();o.hasNext();){var d=o.next().getLabel();d.isArea(f)&&d.getLocation(f,Ze.LEFT)!==de.NONE&&(a=d.getLocation(f,Ze.LEFT))}if(a===de.NONE)return null;for(var C=a,B=this.iterator();B.hasNext();){var W=B.next(),se=W.getLabel();if(se.getLocation(f,Ze.ON)===de.NONE&&se.setLocation(f,Ze.ON,C),se.isArea(f)){var xe=se.getLocation(f,Ze.LEFT),$e=se.getLocation(f,Ze.RIGHT);if($e!==de.NONE){if($e!==C)throw new tn("side location conflict",W.getCoordinate());xe===de.NONE&&me.shouldNeverReachHere("found single null side (at "+W.getCoordinate()+")"),C=xe}else me.isTrue(se.getLocation(f,Ze.LEFT)===de.NONE,"found single null side"),se.setLocation(f,Ze.RIGHT,C),se.setLocation(f,Ze.LEFT,C)}}}},{key:"getCoordinate",value:function(){var f=this.iterator();return f.hasNext()?f.next().getCoordinate():null}},{key:"print",value:function(f){an.out.println("EdgeEndStar:   "+this.getCoordinate());for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"isAreaLabelsConsistent",value:function(f){return this.computeEdgeEndLabels(f.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(f){var a=this.getEdges();if(a.size()<=0)return!0;var o=a.size()-1,d=a.get(o).getLabel().getLocation(f,Ze.LEFT);me.isTrue(d!==de.NONE,"Found unlabelled area edge");for(var C=d,B=this.iterator();B.hasNext();){var W=B.next().getLabel();me.isTrue(W.isArea(f),"Found non-area edge");var se=W.getLocation(f,Ze.LEFT),xe=W.getLocation(f,Ze.RIGHT);if(se===xe||xe!==C)return!1;C=se}return!0}},{key:"findIndex",value:function(f){this.iterator();for(var a=0;a<this._edgeList.size();a++)if(this._edgeList.get(a)===f)return a;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Tt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(f,a,o){return this._ptInAreaLocation[f]===de.NONE&&(this._ptInAreaLocation[f]=jo.locate(a,o[f].getGeometry())),this._ptInAreaLocation[f]}},{key:"toString",value:function(){var f=new Xt;f.append("EdgeEndStar:   "+this.getCoordinate()),f.append(`
`);for(var a=this.iterator();a.hasNext();){var o=a.next();f.append(o),f.append(`
`)}return f.toString()}},{key:"computeEdgeEndLabels",value:function(f){for(var a=this.iterator();a.hasNext();)a.next().computeLabel(f)}},{key:"computeLabelling",value:function(f){this.computeEdgeEndLabels(f[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var a=[!1,!1],o=this.iterator();o.hasNext();)for(var d=o.next().getLabel(),C=0;C<2;C++)d.isLine(C)&&d.getLocation(C)===de.BOUNDARY&&(a[C]=!0);for(var B=this.iterator();B.hasNext();)for(var W=B.next(),se=W.getLabel(),xe=0;xe<2;xe++)if(se.isAnyNull(xe)){var $e=de.NONE;if(a[xe])$e=de.EXTERIOR;else{var st=W.getCoordinate();$e=this.getLocation(xe,st,f)}se.setAllLocationsIfNull(xe,$e)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(f,a){this._edgeMap.put(f,a),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Kr,this._edgeList=null,this._ptInAreaLocation=[de.NONE,de.NONE]}}])})(),jr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var o=null,d=null,C=this._SCANNING_FOR_INCOMING,B=0;B<this._resultAreaEdgeList.size();B++){var W=this._resultAreaEdgeList.get(B),se=W.getSym();if(W.getLabel().isArea())switch(o===null&&W.isInResult()&&(o=W),C){case this._SCANNING_FOR_INCOMING:if(!se.isInResult())continue;d=se,C=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!W.isInResult())continue;d.setNext(W),C=this._SCANNING_FOR_INCOMING}}if(C===this._LINKING_TO_OUTGOING){if(o===null)throw new tn("no outgoing dirEdge found",this.getCoordinate());me.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),d.setNext(o)}}},{key:"insert",value:function(o){var d=o;this.insertEdgeEnd(d,d)}},{key:"getRightmostEdge",value:function(){var o=this.getEdges(),d=o.size();if(d<1)return null;var C=o.get(0);if(d===1)return C;var B=o.get(d-1),W=C.getQuadrant(),se=B.getQuadrant();return si.isNorthern(W)&&si.isNorthern(se)?C:si.isNorthern(W)||si.isNorthern(se)?C.getDy()!==0?C:B.getDy()!==0?B:(me.shouldNeverReachHere("found two horizontal edges incident on node"),null):B}},{key:"print",value:function(o){an.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var d=this.iterator();d.hasNext();){var C=d.next();o.print("out "),C.print(o),o.println(),o.print("in "),C.getSym().print(o),o.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Tt;for(var o=this.iterator();o.hasNext();){var d=o.next();(d.isInResult()||d.getSym().isInResult())&&this._resultAreaEdgeList.add(d)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(o){for(var d=this.iterator();d.hasNext();){var C=d.next().getLabel();C.setAllLocationsIfNull(0,o.getLocation(0)),C.setAllLocationsIfNull(1,o.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var o=null,d=null,C=this._edgeList.size()-1;C>=0;C--){var B=this._edgeList.get(C),W=B.getSym();d===null&&(d=W),o!==null&&W.setNext(o),o=B}d.setNext(o)}},{key:"computeDepths",value:function(){if(arguments.length===1){var o=arguments[0],d=this.findIndex(o),C=o.getDepth(Ze.LEFT),B=o.getDepth(Ze.RIGHT),W=this.computeDepths(d+1,this._edgeList.size(),C);if(this.computeDepths(0,d,W)!==B)throw new tn("depth mismatch at "+o.getCoordinate())}else if(arguments.length===3){for(var se=arguments[1],xe=arguments[2],$e=arguments[0];$e<se;$e++){var st=this._edgeList.get($e);st.setEdgeDepths(Ze.RIGHT,xe),xe=st.getDepth(Ze.LEFT)}return xe}}},{key:"mergeSymLabels",value:function(){for(var o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().merge(d.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(o){for(var d=null,C=null,B=this._SCANNING_FOR_INCOMING,W=this._resultAreaEdgeList.size()-1;W>=0;W--){var se=this._resultAreaEdgeList.get(W),xe=se.getSym();switch(d===null&&se.getEdgeRing()===o&&(d=se),B){case this._SCANNING_FOR_INCOMING:if(xe.getEdgeRing()!==o)continue;C=xe,B=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(se.getEdgeRing()!==o)continue;C.setNextMin(se),B=this._SCANNING_FOR_INCOMING}}B===this._LINKING_TO_OUTGOING&&(me.isTrue(d!==null,"found null for first outgoing dirEdge"),me.isTrue(d.getEdgeRing()===o,"unable to link last incoming dirEdge"),C.setNextMin(d))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var o=0,d=this.iterator();d.hasNext();)d.next().isInResult()&&o++;return o}if(arguments.length===1){for(var C=arguments[0],B=0,W=this.iterator();W.hasNext();)W.next().getEdgeRing()===C&&B++;return B}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var o=de.NONE,d=this.iterator();d.hasNext();){var C=d.next(),B=C.getSym();if(!C.isLineEdge()){if(C.isInResult()){o=de.INTERIOR;break}if(B.isInResult()){o=de.EXTERIOR;break}}}if(o===de.NONE)return null;for(var W=o,se=this.iterator();se.hasNext();){var xe=se.next(),$e=xe.getSym();xe.isLineEdge()?xe.getEdge().setCovered(W===de.INTERIOR):(xe.isInResult()&&(W=de.EXTERIOR),$e.isInResult()&&(W=de.INTERIOR))}}},{key:"computeLabelling",value:function(o){N(a,"computeLabelling",this,1).call(this,o),this._label=new ei(de.NONE);for(var d=this.iterator();d.hasNext();)for(var C=d.next().getEdge().getLabel(),B=0;B<2;B++){var W=C.getLocation(B);W!==de.INTERIOR&&W!==de.BOUNDARY||this._label.setLocation(B,de.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(zo),ra=(function(f){function a(){return i(this,a),r(this,a)}return w(a,f),c(a,[{key:"createNode",value:function(o){return new Ro(o,new jr)}}])})(Do),Ho=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"compareTo",value:function(a){var o=a;return f.compareOriented(this._pts,this._orientation,o._pts,o._orientation)}},{key:"interfaces_",get:function(){return[te]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var a=arguments[0];this._pts=a,this._orientation=f.orientation(a)}},{key:"orientation",value:function(a){return mr.increasingDirection(a)===1}},{key:"compareOriented",value:function(a,o,d,C){for(var B=o?1:-1,W=C?1:-1,se=o?a.length:-1,xe=C?d.length:-1,$e=o?0:a.length-1,st=C?0:d.length-1;;){var _t=a[$e].compareTo(d[st]);if(_t!==0)return _t;var Yt=($e+=B)===se,pn=(st+=W)===xe;if(Yt&&!pn)return-1;if(!Yt&&pn)return 1;if(Yt&&pn)return 0}}}])})(),ia=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"print",value:function(f){f.print("MULTILINESTRING ( ");for(var a=0;a<this._edges.size();a++){var o=this._edges.get(a);a>0&&f.print(","),f.print("(");for(var d=o.getCoordinates(),C=0;C<d.length;C++)C>0&&f.print(","),f.print(d[C].x+" "+d[C].y);f.println(")")}f.print(")  ")}},{key:"addAll",value:function(f){for(var a=f.iterator();a.hasNext();)this.add(a.next())}},{key:"findEdgeIndex",value:function(f){for(var a=0;a<this._edges.size();a++)if(this._edges.get(a).equals(f))return a;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(f){return this._edges.get(f)}},{key:"findEqualEdge",value:function(f){var a=new Ho(f.getCoordinates());return this._ocaMap.get(a)}},{key:"add",value:function(f){this._edges.add(f);var a=new Ho(f.getCoordinates());this._ocaMap.put(a,f)}}],[{key:"constructor_",value:function(){this._edges=new Tt,this._ocaMap=new Kr}}])})(),da=(function(){return c((function f(){i(this,f)}),[{key:"processIntersections",value:function(f,a,o,d){}},{key:"isDone",value:function(){}}])})(),Ma=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isTrivialIntersection",value:function(a,o,d,C){if(a===d&&this._li.getIntersectionNum()===1){if(f.isAdjacentSegments(o,C))return!0;if(a.isClosed()){var B=a.size()-1;if(o===0&&C===B||C===0&&o===B)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(a,o,d,C){if(a===d&&o===C)return null;this.numTests++;var B=a.getCoordinates()[o],W=a.getCoordinates()[o+1],se=d.getCoordinates()[C],xe=d.getCoordinates()[C+1];this._li.computeIntersection(B,W,se,xe),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(a,o,d,C)||(this._hasIntersection=!0,a.addIntersections(this._li,o,0),d.addIntersections(this._li,C,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[da]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var a=arguments[0];this._li=a}},{key:"isAdjacentSegments",value:function(a,o){return Math.abs(a-o)===1}}])})(),ss=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex),f.println(" dist = "+this.dist)}},{key:"compareTo",value:function(f){var a=f;return this.compare(a.segmentIndex,a.dist)}},{key:"isEndPoint",value:function(f){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===f}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(f,a){return this.segmentIndex<f?-1:this.segmentIndex>f?1:this.dist<a?-1:this.dist>a?1:0}},{key:"interfaces_",get:function(){return[te]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var f=arguments[0],a=arguments[1],o=arguments[2];this.coord=new he(f),this.segmentIndex=a,this.dist=o}}])})(),xo=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"print",value:function(f){f.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(f){this.addEndpoints();for(var a=this.iterator(),o=a.next();a.hasNext();){var d=a.next(),C=this.createSplitEdge(o,d);f.add(C),o=d}}},{key:"addEndpoints",value:function(){var f=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[f],f,0)}},{key:"createSplitEdge",value:function(f,a){var o=a.segmentIndex-f.segmentIndex+2,d=this.edge.pts[a.segmentIndex],C=a.dist>0||!a.coord.equals2D(d);C||o--;var B=new Array(o).fill(null),W=0;B[W++]=new he(f.coord);for(var se=f.segmentIndex+1;se<=a.segmentIndex;se++)B[W++]=this.edge.pts[se];return C&&(B[W]=a.coord),new qa(B,new ei(this.edge._label))}},{key:"add",value:function(f,a,o){var d=new ss(f,a,o),C=this._nodeMap.get(d);return C!==null?C:(this._nodeMap.put(d,d),d)}},{key:"isIntersection",value:function(f){for(var a=this.iterator();a.hasNext();)if(a.next().coord.equals(f))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Kr,this.edge=null;var f=arguments[0];this.edge=f}}])})(),Ha=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])||f.isTrue(this._matrix[de.INTERIOR][de.BOUNDARY])||f.isTrue(this._matrix[de.BOUNDARY][de.INTERIOR])||f.isTrue(this._matrix[de.BOUNDARY][de.BOUNDARY]))&&this._matrix[de.EXTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.BOUNDARY]===Kt.FALSE}},{key:"isCoveredBy",value:function(){return(f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])||f.isTrue(this._matrix[de.INTERIOR][de.BOUNDARY])||f.isTrue(this._matrix[de.BOUNDARY][de.INTERIOR])||f.isTrue(this._matrix[de.BOUNDARY][de.BOUNDARY]))&&this._matrix[de.INTERIOR][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.EXTERIOR]===Kt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var a=arguments[0],o=0;o<a.length;o++){var d=Math.trunc(o/3),C=o%3;this._matrix[d][C]=Kt.toDimensionValue(a.charAt(o))}else if(arguments.length===3){var B=arguments[0],W=arguments[1],se=arguments[2];this._matrix[B][W]=se}}},{key:"isContains",value:function(){return f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&this._matrix[de.EXTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.BOUNDARY]===Kt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var a=arguments[0],o=0;o<a.length;o++){var d=Math.trunc(o/3),C=o%3;this.setAtLeast(d,C,Kt.toDimensionValue(a.charAt(o)))}else if(arguments.length===3){var B=arguments[0],W=arguments[1],se=arguments[2];this._matrix[B][W]<se&&(this._matrix[B][W]=se)}}},{key:"setAtLeastIfValid",value:function(a,o,d){a>=0&&o>=0&&this.setAtLeast(a,o,d)}},{key:"isWithin",value:function(){return f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&this._matrix[de.INTERIOR][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.EXTERIOR]===Kt.FALSE}},{key:"isTouches",value:function(a,o){return a>o?this.isTouches(o,a):(a===Kt.A&&o===Kt.A||a===Kt.L&&o===Kt.L||a===Kt.L&&o===Kt.A||a===Kt.P&&o===Kt.A||a===Kt.P&&o===Kt.L)&&this._matrix[de.INTERIOR][de.INTERIOR]===Kt.FALSE&&(f.isTrue(this._matrix[de.INTERIOR][de.BOUNDARY])||f.isTrue(this._matrix[de.BOUNDARY][de.INTERIOR])||f.isTrue(this._matrix[de.BOUNDARY][de.BOUNDARY]))}},{key:"isOverlaps",value:function(a,o){return a===Kt.P&&o===Kt.P||a===Kt.A&&o===Kt.A?f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&f.isTrue(this._matrix[de.INTERIOR][de.EXTERIOR])&&f.isTrue(this._matrix[de.EXTERIOR][de.INTERIOR]):a===Kt.L&&o===Kt.L&&this._matrix[de.INTERIOR][de.INTERIOR]===1&&f.isTrue(this._matrix[de.INTERIOR][de.EXTERIOR])&&f.isTrue(this._matrix[de.EXTERIOR][de.INTERIOR])}},{key:"isEquals",value:function(a,o){return a===o&&f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&this._matrix[de.INTERIOR][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.BOUNDARY]===Kt.FALSE}},{key:"toString",value:function(){for(var a=new xn("123456789"),o=0;o<3;o++)for(var d=0;d<3;d++)a.setCharAt(3*o+d,Kt.toDimensionSymbol(this._matrix[o][d]));return a.toString()}},{key:"setAll",value:function(a){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this._matrix[o][d]=a}},{key:"get",value:function(a,o){return this._matrix[a][o]}},{key:"transpose",value:function(){var a=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=a,a=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=a,a=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=a,this}},{key:"matches",value:function(a){if(a.length!==9)throw new G("Should be length 9: "+a);for(var o=0;o<3;o++)for(var d=0;d<3;d++)if(!f.matches(this._matrix[o][d],a.charAt(3*o+d)))return!1;return!0}},{key:"add",value:function(a){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this.setAtLeast(o,d,a.get(o,d))}},{key:"isDisjoint",value:function(){return this._matrix[de.INTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.INTERIOR][de.BOUNDARY]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.INTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.BOUNDARY]===Kt.FALSE}},{key:"isCrosses",value:function(a,o){return a===Kt.P&&o===Kt.L||a===Kt.P&&o===Kt.A||a===Kt.L&&o===Kt.A?f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&f.isTrue(this._matrix[de.INTERIOR][de.EXTERIOR]):a===Kt.L&&o===Kt.P||a===Kt.A&&o===Kt.P||a===Kt.A&&o===Kt.L?f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&f.isTrue(this._matrix[de.EXTERIOR][de.INTERIOR]):a===Kt.L&&o===Kt.L&&this._matrix[de.INTERIOR][de.INTERIOR]===0}},{key:"interfaces_",get:function(){return[J]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Kt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var a=arguments[0];f.constructor_.call(this),this.set(a)}else if(arguments[0]instanceof f){var o=arguments[0];f.constructor_.call(this),this._matrix[de.INTERIOR][de.INTERIOR]=o._matrix[de.INTERIOR][de.INTERIOR],this._matrix[de.INTERIOR][de.BOUNDARY]=o._matrix[de.INTERIOR][de.BOUNDARY],this._matrix[de.INTERIOR][de.EXTERIOR]=o._matrix[de.INTERIOR][de.EXTERIOR],this._matrix[de.BOUNDARY][de.INTERIOR]=o._matrix[de.BOUNDARY][de.INTERIOR],this._matrix[de.BOUNDARY][de.BOUNDARY]=o._matrix[de.BOUNDARY][de.BOUNDARY],this._matrix[de.BOUNDARY][de.EXTERIOR]=o._matrix[de.BOUNDARY][de.EXTERIOR],this._matrix[de.EXTERIOR][de.INTERIOR]=o._matrix[de.EXTERIOR][de.INTERIOR],this._matrix[de.EXTERIOR][de.BOUNDARY]=o._matrix[de.EXTERIOR][de.BOUNDARY],this._matrix[de.EXTERIOR][de.EXTERIOR]=o._matrix[de.EXTERIOR][de.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var a=arguments[0],o=arguments[1];return o===Kt.SYM_DONTCARE||o===Kt.SYM_TRUE&&(a>=0||a===Kt.TRUE)||o===Kt.SYM_FALSE&&a===Kt.FALSE||o===Kt.SYM_P&&a===Kt.P||o===Kt.SYM_L&&a===Kt.L||o===Kt.SYM_A&&a===Kt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var d=arguments[1];return new f(arguments[0]).matches(d)}}},{key:"isTrue",value:function(a){return a>=0||a===Kt.TRUE}}])})(),so=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(a){return a===null||a.length===0?null:(this.ensureCapacity(this._size+a.length),an.arraycopy(a,0,this._data,this._size,a.length),void(this._size+=a.length))}},{key:"ensureCapacity",value:function(a){if(a<=this._data.length)return null;var o=Math.max(a,2*this._data.length);this._data=zn.copyOf(this._data,o)}},{key:"toArray",value:function(){var a=new Array(this._size).fill(null);return an.arraycopy(this._data,0,a,0,this._size),a}},{key:"add",value:function(a){this.ensureCapacity(this._size+1),this._data[this._size]=a,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)f.constructor_.call(this,10);else if(arguments.length===1){var a=arguments[0];this._data=new Array(a).fill(null)}}}])})(),fa=(function(){function f(){i(this,f)}return c(f,[{key:"getChainStartIndices",value:function(a){var o=0,d=new so(Math.trunc(a.length/2));d.add(o);do{var C=this.findChainEnd(a,o);d.add(C),o=C}while(o<a.length-1);return d.toArray()}},{key:"findChainEnd",value:function(a,o){for(var d=si.quadrant(a[o],a[o+1]),C=o+1;C<a.length&&si.quadrant(a[C-1],a[C])===d;)C++;return C-1}},{key:"OLDgetChainStartIndices",value:function(a){var o=0,d=new Tt;d.add(o);do{var C=this.findChainEnd(a,o);d.add(C),o=C}while(o<a.length-1);return f.toIntArray(d)}}],[{key:"toIntArray",value:function(a){for(var o=new Array(a.size()).fill(null),d=0;d<o.length;d++)o[d]=a.get(d).intValue();return o}}])})(),gi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(f){var a=this.pts[this.startIndex[f]].x,o=this.pts[this.startIndex[f+1]].x;return a>o?a:o}},{key:"getMinX",value:function(f){var a=this.pts[this.startIndex[f]].x,o=this.pts[this.startIndex[f+1]].x;return a<o?a:o}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var f=arguments[0],a=arguments[1],o=arguments[2],d=arguments[3];this.computeIntersectsForChain(this.startIndex[f],this.startIndex[f+1],a,a.startIndex[o],a.startIndex[o+1],d)}else if(arguments.length===6){var C=arguments[0],B=arguments[1],W=arguments[2],se=arguments[3],xe=arguments[4],$e=arguments[5];if(B-C==1&&xe-se==1)return $e.addIntersections(this.e,C,W.e,se),null;if(!this.overlaps(C,B,W,se,xe))return null;var st=Math.trunc((C+B)/2),_t=Math.trunc((se+xe)/2);C<st&&(se<_t&&this.computeIntersectsForChain(C,st,W,se,_t,$e),_t<xe&&this.computeIntersectsForChain(C,st,W,_t,xe,$e)),st<B&&(se<_t&&this.computeIntersectsForChain(st,B,W,se,_t,$e),_t<xe&&this.computeIntersectsForChain(st,B,W,_t,xe,$e))}}},{key:"overlaps",value:function(f,a,o,d,C){return We.intersects(this.pts[f],this.pts[a],o.pts[d],o.pts[C])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(f,a){for(var o=0;o<this.startIndex.length-1;o++)for(var d=0;d<f.startIndex.length-1;d++)this.computeIntersectsForChain(o,f,d,a)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var f=arguments[0];this.e=f,this.pts=f.getCoordinates();var a=new fa;this.startIndex=a.getChainStartIndices(this.pts)}}])})(),Oi=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getDepth",value:function(a,o){return this._depth[a][o]}},{key:"setDepth",value:function(a,o,d){this._depth[a][o]=d}},{key:"isNull",value:function(){if(arguments.length===0){for(var a=0;a<2;a++)for(var o=0;o<3;o++)if(this._depth[a][o]!==f.NULL_VALUE)return!1;return!0}if(arguments.length===1){var d=arguments[0];return this._depth[d][1]===f.NULL_VALUE}if(arguments.length===2){var C=arguments[0],B=arguments[1];return this._depth[C][B]===f.NULL_VALUE}}},{key:"normalize",value:function(){for(var a=0;a<2;a++)if(!this.isNull(a)){var o=this._depth[a][1];this._depth[a][2]<o&&(o=this._depth[a][2]),o<0&&(o=0);for(var d=1;d<3;d++){var C=0;this._depth[a][d]>o&&(C=1),this._depth[a][d]=C}}}},{key:"getDelta",value:function(a){return this._depth[a][Ze.RIGHT]-this._depth[a][Ze.LEFT]}},{key:"getLocation",value:function(a,o){return this._depth[a][o]<=0?de.EXTERIOR:de.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var a=arguments[0],o=0;o<2;o++)for(var d=1;d<3;d++){var C=a.getLocation(o,d);C!==de.EXTERIOR&&C!==de.INTERIOR||(this.isNull(o,d)?this._depth[o][d]=f.depthAtLocation(C):this._depth[o][d]+=f.depthAtLocation(C))}else if(arguments.length===3){var B=arguments[0],W=arguments[1];arguments[2]===de.INTERIOR&&this._depth[B][W]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var a=0;a<2;a++)for(var o=0;o<3;o++)this._depth[a][o]=f.NULL_VALUE}},{key:"depthAtLocation",value:function(a){return a===de.EXTERIOR?0:a===de.INTERIOR?1:f.NULL_VALUE}}])})();Oi.NULL_VALUE=-1;var qa=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new a(o,ei.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(o){this._isIsolated=o}},{key:"setName",value:function(o){this._name=o}},{key:"equals",value:function(o){if(!(o instanceof a))return!1;var d=o;if(this.pts.length!==d.pts.length)return!1;for(var C=!0,B=!0,W=this.pts.length,se=0;se<this.pts.length;se++)if(this.pts[se].equals2D(d.pts[se])||(C=!1),this.pts[se].equals2D(d.pts[--W])||(B=!1),!C&&!B)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var o=arguments[0];return this.pts[o]}}},{key:"print",value:function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.print(","),o.print(this.pts[d].x+" "+this.pts[d].y);o.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(o){a.updateIM(this._label,o)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(o){o.print("edge "+this._name+": ");for(var d=this.pts.length-1;d>=0;d--)o.print(this.pts[d]+" ");o.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new gi(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new We;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env}},{key:"addIntersection",value:function(o,d,C,B){var W=new he(o.getIntersection(B)),se=d,xe=o.getEdgeDistance(C,B),$e=se+1;if($e<this.pts.length){var st=this.pts[$e];W.equals2D(st)&&(se=$e,xe=0)}this.eiList.add(W,se,xe)}},{key:"toString",value:function(){var o=new xn;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.append(","),o.append(this.pts[d].x+" "+this.pts[d].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()}},{key:"isPointwiseEqual",value:function(o){if(this.pts.length!==o.pts.length)return!1;for(var d=0;d<this.pts.length;d++)if(!this.pts[d].equals2D(o.pts[d]))return!1;return!0}},{key:"setDepthDelta",value:function(o){this._depthDelta=o}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(o,d,C){for(var B=0;B<o.getIntersectionNum();B++)this.addIntersection(o,d,C,B)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new xo(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Oi,this._depthDelta=0,arguments.length===1){var o=arguments[0];a.constructor_.call(this,o,null)}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.pts=d,this._label=C}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Ha&&arguments[0]instanceof ei))return N(a,"updateIM",this).apply(this,arguments);var o=arguments[0],d=arguments[1];d.setAtLeastIfValid(o.getLocation(0,Ze.ON),o.getLocation(1,Ze.ON),1),o.isArea()&&(d.setAtLeastIfValid(o.getLocation(0,Ze.LEFT),o.getLocation(1,Ze.LEFT),2),d.setAtLeastIfValid(o.getLocation(0,Ze.RIGHT),o.getLocation(1,Ze.RIGHT),2))}}])})(Fr),Ua=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"setWorkingPrecisionModel",value:function(a){this._workingPrecisionModel=a}},{key:"insertUniqueEdge",value:function(a){var o=this._edgeList.findEqualEdge(a);if(o!==null){var d=o.getLabel(),C=a.getLabel();o.isPointwiseEqual(a)||(C=new ei(a.getLabel())).flip(),d.merge(C);var B=f.depthDelta(C),W=o.getDepthDelta()+B;o.setDepthDelta(W)}else this._edgeList.add(a),a.setDepthDelta(f.depthDelta(a.getLabel()))}},{key:"buildSubgraphs",value:function(a,o){for(var d=new Tt,C=a.iterator();C.hasNext();){var B=C.next(),W=B.getRightmostCoordinate(),se=new bi(d).getDepth(W);B.computeDepth(se),B.findResultEdges(),d.add(B),o.add(B.getDirectedEdges(),B.getNodes())}}},{key:"createSubgraphs",value:function(a){for(var o=new Tt,d=a.getNodes().iterator();d.hasNext();){var C=d.next();if(!C.isVisited()){var B=new jt;B.create(C),o.add(B)}}return ua.sort(o,ua.reverseOrder()),o}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(a){if(this._workingNoder!==null)return this._workingNoder;var o=new di,d=new oi;return d.setPrecisionModel(a),o.setSegmentIntersector(new Ma(d)),o}},{key:"buffer",value:function(a,o){var d=this._workingPrecisionModel;d===null&&(d=a.getPrecisionModel()),this._geomFact=a.getFactory();var C=new bo(d,this._bufParams),B=new qr(a,o,C).getCurves();if(B.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(B,d),this._graph=new $o(new ra),this._graph.addEdges(this._edgeList.getEdges());var W=this.createSubgraphs(this._graph),se=new ka(this._geomFact);this.buildSubgraphs(W,se);var xe=se.getPolygons();return xe.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(xe)}},{key:"computeNodedEdges",value:function(a,o){var d=this.getNoder(o);d.computeNodes(a);for(var C=d.getNodedSubstrings().iterator();C.hasNext();){var B=C.next(),W=B.getCoordinates();if(W.length!==2||!W[0].equals2D(W[1])){var se=B.getData(),xe=new qa(B.getCoordinates(),new ei(se));this.insertUniqueEdge(xe)}}}},{key:"setNoder",value:function(a){this._workingNoder=a}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ia;var a=arguments[0];this._bufParams=a}},{key:"depthDelta",value:function(a){var o=a.getLocation(0,Ze.LEFT),d=a.getLocation(0,Ze.RIGHT);return o===de.INTERIOR&&d===de.EXTERIOR?1:o===de.EXTERIOR&&d===de.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(a){for(var o=new $r,d=new Tt;a.hasNext();){var C=a.next(),B=o.createLineString(C.getCoordinates());d.add(B)}return o.buildGeometry(d)}}])})(),Ga=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"rescale",value:function(){if(Et(arguments[0],it))for(var a=arguments[0].iterator();a.hasNext();){var o=a.next();this.rescale(o.getCoordinates())}else if(arguments[0]instanceof Array){for(var d=arguments[0],C=0;C<d.length;C++)d[C].x=d[C].x/this._scaleFactor+this._offsetX,d[C].y=d[C].y/this._scaleFactor+this._offsetY;d.length===2&&d[0].equals2D(d[1])&&an.out.println(d)}}},{key:"scale",value:function(){if(Et(arguments[0],it)){for(var a=arguments[0],o=new Tt(a.size()),d=a.iterator();d.hasNext();){var C=d.next();o.add(new Cn(this.scale(C.getCoordinates()),C.getData()))}return o}if(arguments[0]instanceof Array){for(var B=arguments[0],W=new Array(B.length).fill(null),se=0;se<B.length;se++)W[se]=new he(Math.round((B[se].x-this._offsetX)*this._scaleFactor),Math.round((B[se].y-this._offsetY)*this._scaleFactor),B[se].getZ());return mr.removeRepeatedPoints(W)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var a=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(a),a}},{key:"computeNodes",value:function(a){var o=a;this._isScaled&&(o=this.scale(a)),this._noder.computeNodes(o)}},{key:"interfaces_",get:function(){return[vr]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var a=arguments[0],o=arguments[1];f.constructor_.call(this,a,o,0,0)}else if(arguments.length===4){var d=arguments[0],C=arguments[1];this._noder=d,this._scaleFactor=C,this._isScaled=!this.isIntegerPrecision()}}}])})(),Yi=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var a=this._segStrings.iterator();a.hasNext();){var o=a.next().getCoordinates();this.checkEndPtVertexIntersections(o[0],this._segStrings),this.checkEndPtVertexIntersections(o[o.length-1],this._segStrings)}else if(arguments.length===2){for(var d=arguments[0],C=arguments[1].iterator();C.hasNext();)for(var B=C.next().getCoordinates(),W=1;W<B.length-1;W++)if(B[W].equals(d))throw new ne("found endpt/interior pt intersection at index "+W+" :pt "+d)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var a=this._segStrings.iterator();a.hasNext();)for(var o=a.next(),d=this._segStrings.iterator();d.hasNext();){var C=d.next();this.checkInteriorIntersections(o,C)}else if(arguments.length===2)for(var B=arguments[0],W=arguments[1],se=B.getCoordinates(),xe=W.getCoordinates(),$e=0;$e<se.length-1;$e++)for(var st=0;st<xe.length-1;st++)this.checkInteriorIntersections(B,$e,W,st);else if(arguments.length===4){var _t=arguments[0],Yt=arguments[1],pn=arguments[2],Pn=arguments[3];if(_t===pn&&Yt===Pn)return null;var $n=_t.getCoordinates()[Yt],Mr=_t.getCoordinates()[Yt+1],hr=pn.getCoordinates()[Pn],Ur=pn.getCoordinates()[Pn+1];if(this._li.computeIntersection($n,Mr,hr,Ur),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,$n,Mr)||this.hasInteriorIntersection(this._li,hr,Ur)))throw new ne("found non-noded intersection at "+$n+"-"+Mr+" and "+hr+"-"+Ur)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var a=this._segStrings.iterator();a.hasNext();){var o=a.next();this.checkCollapses(o)}else if(arguments.length===1)for(var d=arguments[0].getCoordinates(),C=0;C<d.length-2;C++)this.checkCollapse(d[C],d[C+1],d[C+2])}},{key:"hasInteriorIntersection",value:function(a,o,d){for(var C=0;C<a.getIntersectionNum();C++){var B=a.getIntersection(C);if(!B.equals(o)&&!B.equals(d))return!0}return!1}},{key:"checkCollapse",value:function(a,o,d){if(a.equals(d))throw new ne("found non-noded collapse at "+f.fact.createLineString([a,o,d]))}}],[{key:"constructor_",value:function(){this._li=new oi,this._segStrings=null;var a=arguments[0];this._segStrings=a}}])})();Yi.fact=new $r;var ui=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"intersectsScaled",value:function(a,o){var d=Math.min(a.x,o.x),C=Math.max(a.x,o.x),B=Math.min(a.y,o.y),W=Math.max(a.y,o.y),se=this._maxx<d||this._minx>C||this._maxy<B||this._miny>W;if(se)return!1;var xe=this.intersectsToleranceSquare(a,o);return me.isTrue(!(se&&xe),"Found bad envelope test"),xe}},{key:"initCorners",value:function(a){var o=.5;this._minx=a.x-o,this._maxx=a.x+o,this._miny=a.y-o,this._maxy=a.y+o,this._corner[0]=new he(this._maxx,this._maxy),this._corner[1]=new he(this._minx,this._maxy),this._corner[2]=new he(this._minx,this._miny),this._corner[3]=new he(this._maxx,this._miny)}},{key:"intersects",value:function(a,o){return this._scaleFactor===1?this.intersectsScaled(a,o):(this.copyScaled(a,this._p0Scaled),this.copyScaled(o,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(a){return Math.round(a*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(a,o){o.x=this.scale(a.x),o.y=this.scale(a.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var a=f.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new We(this._originalPt.x-a,this._originalPt.x+a,this._originalPt.y-a,this._originalPt.y+a)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(a,o){return this._li.computeIntersection(a,o,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,o,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,o,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,o,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(a,o){var d=!1,C=!1;return this._li.computeIntersection(a,o,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(a,o,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(d=!0),this._li.computeIntersection(a,o,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(C=!0),this._li.computeIntersection(a,o,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!d||!C)||!!a.equals(this._pt)||!!o.equals(this._pt))))}},{key:"addSnappedNode",value:function(a,o){var d=a.getCoordinate(o),C=a.getCoordinate(o+1);return!!this.intersects(d,C)&&(a.addIntersection(this.getCoordinate(),o),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var a=arguments[0],o=arguments[1],d=arguments[2];if(this._originalPt=a,this._pt=a,this._scaleFactor=o,this._li=d,o<=0)throw new G("Scale factor must be non-zero");o!==1&&(this._pt=new he(this.scale(a.x),this.scale(a.y)),this._p0Scaled=new he,this._p1Scaled=new he),this.initCorners(this._pt)}}])})();ui.SAFE_ENV_EXPANSION_FACTOR=.75;var Va=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var f=arguments[1];arguments[0].getLineSegment(f,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Tn}}])})(),Ji=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var f=arguments[0];return this.snap(f,null,-1)}if(arguments.length===3){var a=arguments[0],o=arguments[1],d=arguments[2],C=a.getSafeEnvelope(),B=new Ei(a,o,d);return this._index.query(C,new((function(){return c((function W(){i(this,W)}),[{key:"interfaces_",get:function(){return[no]}},{key:"visitItem",value:function(W){W.select(C,B)}}])})())),B.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var f=arguments[0];this._index=f}}])})(),Ei=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Sr))return N(a,"select",this,1).apply(this,arguments);var o=arguments[1],d=arguments[0].getContext();if(this._parentEdge===d&&(o===this._hotPixelVertexIndex||o+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(d,o)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var o=arguments[0],d=arguments[1],C=arguments[2];this._hotPixel=o,this._parentEdge=d,this._hotPixelVertexIndex=C}}])})(Va);Ji.HotPixelSnapAction=Ei;var So=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(f,a,o,d){if(f===o&&a===d)return null;var C=f.getCoordinates()[a],B=f.getCoordinates()[a+1],W=o.getCoordinates()[d],se=o.getCoordinates()[d+1];if(this._li.computeIntersection(C,B,W,se),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var xe=0;xe<this._li.getIntersectionNum();xe++)this._interiorIntersections.add(this._li.getIntersection(xe));f.addIntersections(this._li,a,0),o.addIntersections(this._li,d,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[da]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var f=arguments[0];this._li=f,this._interiorIntersections=new Tt}}])})(),Jo=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(f){var a=Cn.getNodedSubstrings(f),o=new Yi(a);try{o.checkValid()}catch(d){if(!(d instanceof $))throw d;d.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Cn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(f,a){var o=this.findInteriorIntersections(f,a);this.computeIntersectionSnaps(o),this.computeVertexSnaps(f)}},{key:"findInteriorIntersections",value:function(f,a){var o=new So(a);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(f),o.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Et(arguments[0],it))for(var f=arguments[0].iterator();f.hasNext();){var a=f.next();this.computeVertexSnaps(a)}else if(arguments[0]instanceof Cn)for(var o=arguments[0],d=o.getCoordinates(),C=0;C<d.length;C++){var B=new ui(d[C],this._scaleFactor,this._li);this._pointSnapper.snap(B,o,C)&&o.addIntersection(d[C],C)}}},{key:"computeNodes",value:function(f){this._nodedSegStrings=f,this._noder=new di,this._pointSnapper=new Ji(this._noder.getIndex()),this.snapRound(f,this._li)}},{key:"computeIntersectionSnaps",value:function(f){for(var a=f.iterator();a.hasNext();){var o=a.next(),d=new ui(o,this._scaleFactor,this._li);this._pointSnapper.snap(d)}}},{key:"interfaces_",get:function(){return[vr]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var f=arguments[0];this._pm=f,this._li=new oi,this._li.setPrecisionModel(f),this._scaleFactor=f.getScale()}}])})(),pa=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"bufferFixedPrecision",value:function(a){var o=new Ga(new Jo(new kn(1)),a.getScale()),d=new Ua(this._bufParams);d.setWorkingPrecisionModel(a),d.setNoder(o),this._resultGeometry=d.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var a=f.MAX_PRECISION_DIGITS;a>=0;a--){try{this.bufferReducedPrecision(a)}catch(B){if(!(B instanceof tn))throw B;this._saveException=B}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var o=arguments[0],d=f.precisionScaleFactor(this._argGeom,this._distance,o),C=new kn(d);this.bufferFixedPrecision(C)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var a=this._argGeom.getFactory().getPrecisionModel();a.getType()===kn.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(a){this._bufParams.setQuadrantSegments(a)}},{key:"bufferOriginalPrecision",value:function(){try{var a=new Ua(this._bufParams);this._resultGeometry=a.buffer(this._argGeom,this._distance)}catch(o){if(!(o instanceof ne))throw o;this._saveException=o}}},{key:"getResultGeometry",value:function(a){return this._distance=a,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(a){this._bufParams.setEndCapStyle(a)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new R,this._resultGeometry=null,this._saveException=null,arguments.length===1){var a=arguments[0];this._argGeom=a}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this._argGeom=o,this._bufParams=d}}},{key:"bufferOp",value:function(){if(arguments.length===2){var a=arguments[1];return new f(arguments[0]).getResultGeometry(a)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Fe&&typeof arguments[1]=="number"){var o=arguments[1],d=arguments[2],C=new f(arguments[0]);return C.setQuadrantSegments(d),C.getResultGeometry(o)}if(arguments[2]instanceof R&&arguments[0]instanceof Fe&&typeof arguments[1]=="number"){var B=arguments[1];return new f(arguments[0],arguments[2]).getResultGeometry(B)}}else if(arguments.length===4){var W=arguments[1],se=arguments[2],xe=arguments[3],$e=new f(arguments[0]);return $e.setQuadrantSegments(se),$e.setEndCapStyle(xe),$e.getResultGeometry(W)}}},{key:"precisionScaleFactor",value:function(a,o,d){var C=a.getEnvelopeInternal(),B=hn.max(Math.abs(C.getMaxX()),Math.abs(C.getMaxY()),Math.abs(C.getMinX()),Math.abs(C.getMinY()))+2*(o>0?o:0),W=d-Math.trunc(Math.log(B)/Math.log(10)+1);return Math.pow(10,W)}}])})();pa.CAP_ROUND=R.CAP_ROUND,pa.CAP_BUTT=R.CAP_FLAT,pa.CAP_FLAT=R.CAP_FLAT,pa.CAP_SQUARE=R.CAP_SQUARE,pa.MAX_PRECISION_DIGITS=12;var Eo=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Pa=(function(){return c((function f(a){i(this,f),this.geometryFactory=a||new $r}),[{key:"read",value:function(f){var a,o=(a=typeof f=="string"?JSON.parse(f):f).type;if(!fi[o])throw new Error("Unknown GeoJSON type: "+a.type);return Eo.indexOf(o)!==-1?fi[o].call(this,a.coordinates):o==="GeometryCollection"?fi[o].call(this,a.geometries):fi[o].call(this,a)}},{key:"write",value:function(f){var a=f.getGeometryType();if(!pi[a])throw new Error("Geometry is not supported");return pi[a].call(this,f)}}])})(),fi={Feature:function(f){var a={};for(var o in f)a[o]=f[o];if(f.geometry){var d=f.geometry.type;if(!fi[d])throw new Error("Unknown GeoJSON type: "+f.type);a.geometry=this.read(f.geometry)}return f.bbox&&(a.bbox=fi.bbox.call(this,f.bbox)),a},FeatureCollection:function(f){var a={};if(f.features){a.features=[];for(var o=0;o<f.features.length;++o)a.features.push(this.read(f.features[o]))}return f.bbox&&(a.bbox=this.parse.bbox.call(this,f.bbox)),a},coordinates:function(f){for(var a=[],o=0;o<f.length;++o){var d=f[o];a.push(l(he,T(d)))}return a},bbox:function(f){return this.geometryFactory.createLinearRing([new he(f[0],f[1]),new he(f[2],f[1]),new he(f[2],f[3]),new he(f[0],f[3]),new he(f[0],f[1])])},Point:function(f){var a=l(he,T(f));return this.geometryFactory.createPoint(a)},MultiPoint:function(f){for(var a=[],o=0;o<f.length;++o)a.push(fi.Point.call(this,f[o]));return this.geometryFactory.createMultiPoint(a)},LineString:function(f){var a=fi.coordinates.call(this,f);return this.geometryFactory.createLineString(a)},MultiLineString:function(f){for(var a=[],o=0;o<f.length;++o)a.push(fi.LineString.call(this,f[o]));return this.geometryFactory.createMultiLineString(a)},Polygon:function(f){for(var a=fi.coordinates.call(this,f[0]),o=this.geometryFactory.createLinearRing(a),d=[],C=1;C<f.length;++C){var B=f[C],W=fi.coordinates.call(this,B),se=this.geometryFactory.createLinearRing(W);d.push(se)}return this.geometryFactory.createPolygon(o,d)},MultiPolygon:function(f){for(var a=[],o=0;o<f.length;++o){var d=f[o];a.push(fi.Polygon.call(this,d))}return this.geometryFactory.createMultiPolygon(a)},GeometryCollection:function(f){for(var a=[],o=0;o<f.length;++o){var d=f[o];a.push(this.read(d))}return this.geometryFactory.createGeometryCollection(a)}},pi={coordinate:function(f){var a=[f.x,f.y];return f.z&&a.push(f.z),f.m&&a.push(f.m),a},Point:function(f){return{type:"Point",coordinates:pi.coordinate.call(this,f.getCoordinate())}},MultiPoint:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=pi.Point.call(this,d);a.push(C.coordinates)}return{type:"MultiPoint",coordinates:a}},LineString:function(f){for(var a=[],o=f.getCoordinates(),d=0;d<o.length;++d){var C=o[d];a.push(pi.coordinate.call(this,C))}return{type:"LineString",coordinates:a}},MultiLineString:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=pi.LineString.call(this,d);a.push(C.coordinates)}return{type:"MultiLineString",coordinates:a}},Polygon:function(f){var a=[],o=pi.LineString.call(this,f._shell);a.push(o.coordinates);for(var d=0;d<f._holes.length;++d){var C=f._holes[d],B=pi.LineString.call(this,C);a.push(B.coordinates)}return{type:"Polygon",coordinates:a}},MultiPolygon:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=pi.Polygon.call(this,d);a.push(C.coordinates)}return{type:"MultiPolygon",coordinates:a}},GeometryCollection:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=d.getGeometryType();a.push(pi[C].call(this,d))}return{type:"GeometryCollection",geometries:a}}};return{BufferOp:pa,GeoJSONReader:(function(){return c((function f(a){i(this,f),this.parser=new Pa(a||new $r)}),[{key:"read",value:function(f){return this.parser.read(f)}}])})(),GeoJSONWriter:(function(){return c((function f(){i(this,f),this.parser=new Pa(this.geometryFactory)}),[{key:"write",value:function(f){return this.parser.write(f)}}])})()}}))})(oh)),oh.exports}var U6=q6();const G6=tp(U6);var Po=63710088e-1,qb={centimeters:Po*100,centimetres:Po*100,degrees:360/(2*Math.PI),feet:Po*3.28084,inches:Po*39.37,kilometers:Po/1e3,kilometres:Po/1e3,meters:Po,metres:Po,miles:Po/1609.344,millimeters:Po*1e3,millimetres:Po*1e3,nauticalmiles:Po/1852,radians:1,yards:Po*1.0936};function V6(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Kf(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function W6(e,t="kilometers"){const n=qb[t];if(!n)throw new Error(t+" units is invalid");return e*n}function K6(e,t="kilometers"){const n=qb[t];if(!n)throw new Error(t+" units is invalid");return e/n}function wv(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function Ub(e,t){var n,r,i,l,h,c,g,v,y,w,k=0,x=e.type==="FeatureCollection",N=e.type==="Feature",T=x?e.features.length:1;for(n=0;n<T;n++){for(c=x?e.features[n].geometry:N?e.geometry:e,v=x?e.features[n].properties:N?e.properties:{},y=x?e.features[n].bbox:N?e.bbox:void 0,w=x?e.features[n].id:N?e.id:void 0,g=c?c.type==="GeometryCollection":!1,h=g?c.geometries.length:1,i=0;i<h;i++){if(l=g?c.geometries[i]:c,l===null){if(t(null,k,v,y,w)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,k,v,y,w)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<l.geometries.length;r++)if(t(l.geometries[r],k,v,y,w)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function cl(){return new Ph}function Ph(){this.reset()}Ph.prototype={constructor:Ph,reset:function(){this.s=this.t=0},add:function(e){Cv(Wc,e,this.t),Cv(this,Wc.s,this.s),this.s?this.t+=Wc.t:this.s=Wc.t},valueOf:function(){return this.s}};var Wc=new Ph;function Cv(e,t,n){var r=e.s=t+n,i=r-t,l=r-i;e.t=t-l+(n-i)}var Ci=1e-6,ri=Math.PI,Es=ri/2,Sv=ri/4,Ms=ri*2,Qs=180/ri,ns=ri/180,Ra=Math.abs,Z6=Math.atan,xu=Math.atan2,Fi=Math.cos,ji=Math.sin,Ou=Math.sqrt;function Gb(e){return e>1?0:e<-1?ri:Math.acos(e)}function Al(e){return e>1?Es:e<-1?-Es:Math.asin(e)}function Uu(){}function Ih(e,t){e&&kv.hasOwnProperty(e.type)&&kv[e.type](e,t)}var Ev={Feature:function(e,t){Ih(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Ih(n[r].geometry,t)}},kv={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Zf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Zf(n[r],t,0)},Polygon:function(e,t){Lv(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Lv(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Ih(n[r],t)}};function Zf(e,t,n){var r=-1,i=e.length-n,l;for(t.lineStart();++r<i;)l=e[r],t.point(l[0],l[1],l[2]);t.lineEnd()}function Lv(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Zf(e[n],t,1);t.polygonEnd()}function X6(e,t){e&&Ev.hasOwnProperty(e.type)?Ev[e.type](e,t):Ih(e,t)}cl();cl();function Xf(e){return[xu(e[1],e[0]),Al(e[2])]}function wu(e){var t=e[0],n=e[1],r=Fi(n);return[r*Fi(t),r*ji(t),ji(n)]}function Kc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Oh(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Zc(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Yf(e){var t=Ou(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}cl();function Vb(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Jf(e,t){return[e>ri?e-Ms:e<-ri?e+Ms:e,t]}Jf.invert=Jf;function Y6(e,t,n){return(e%=Ms)?t||n?Vb(Mv(e),Pv(t,n)):Mv(e):t||n?Pv(t,n):Jf}function Nv(e){return function(t,n){return t+=e,[t>ri?t-Ms:t<-ri?t+Ms:t,n]}}function Mv(e){var t=Nv(e);return t.invert=Nv(-e),t}function Pv(e,t){var n=Fi(e),r=ji(e),i=Fi(t),l=ji(t);function h(c,g){var v=Fi(g),y=Fi(c)*v,w=ji(c)*v,k=ji(g),x=k*n+y*r;return[xu(w*i-x*l,y*n-k*r),Al(x*i+w*l)]}return h.invert=function(c,g){var v=Fi(g),y=Fi(c)*v,w=ji(c)*v,k=ji(g),x=k*i-w*l;return[xu(w*i+k*l,y*n+x*r),Al(x*n-y*r)]},h}function J6(e,t,n,r,i,l){if(n){var h=Fi(t),c=ji(t),g=r*n;i==null?(i=t+r*Ms,l=t-g/2):(i=Iv(h,i),l=Iv(h,l),(r>0?i<l:i>l)&&(i+=r*Ms));for(var v,y=i;r>0?y>l:y<l;y-=g)v=Xf([h,-c*Fi(y),-c*ji(y)]),e.point(v[0],v[1])}}function Iv(e,t){t=wu(t),t[0]-=e,Yf(t);var n=Gb(-t[1]);return((-t[2]<0?-n:n)+Ms-Ci)%Ms}function Wb(){var e=[],t;return{point:function(n,r){t.push([n,r])},lineStart:function(){e.push(t=[])},lineEnd:Uu,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Q6(e,t,n,r,i,l){var h=e[0],c=e[1],g=t[0],v=t[1],y=0,w=1,k=g-h,x=v-c,N;if(N=n-h,!(!k&&N>0)){if(N/=k,k<0){if(N<y)return;N<w&&(w=N)}else if(k>0){if(N>w)return;N>y&&(y=N)}if(N=i-h,!(!k&&N<0)){if(N/=k,k<0){if(N>w)return;N>y&&(y=N)}else if(k>0){if(N<y)return;N<w&&(w=N)}if(N=r-c,!(!x&&N>0)){if(N/=x,x<0){if(N<y)return;N<w&&(w=N)}else if(x>0){if(N>w)return;N>y&&(y=N)}if(N=l-c,!(!x&&N<0)){if(N/=x,x<0){if(N>w)return;N>y&&(y=N)}else if(x>0){if(N<y)return;N<w&&(w=N)}return y>0&&(e[0]=h+y*k,e[1]=c+y*x),w<1&&(t[0]=h+w*k,t[1]=c+w*x),!0}}}}}function sh(e,t){return Ra(e[0]-t[0])<Ci&&Ra(e[1]-t[1])<Ci}function Xc(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Kb(e,t,n,r,i){var l=[],h=[],c,g;if(e.forEach(function(N){if(!((T=N.length-1)<=0)){var T,I=N[0],O=N[T],D;if(sh(I,O)){for(i.lineStart(),c=0;c<T;++c)i.point((I=N[c])[0],I[1]);i.lineEnd();return}l.push(D=new Xc(I,N,null,!0)),h.push(D.o=new Xc(I,null,D,!1)),l.push(D=new Xc(O,N,null,!1)),h.push(D.o=new Xc(O,null,D,!0))}}),!!l.length){for(h.sort(t),Ov(l),Ov(h),c=0,g=h.length;c<g;++c)h[c].e=n=!n;for(var v=l[0],y,w;;){for(var k=v,x=!0;k.v;)if((k=k.n)===v)return;y=k.z,i.lineStart();do{if(k.v=k.o.v=!0,k.e){if(x)for(c=0,g=y.length;c<g;++c)i.point((w=y[c])[0],w[1]);else r(k.x,k.n.x,1,i);k=k.n}else{if(x)for(y=k.p.z,c=y.length-1;c>=0;--c)i.point((w=y[c])[0],w[1]);else r(k.x,k.p.x,-1,i);k=k.p}k=k.o,y=k.z,x=!x}while(!k.v);i.lineEnd()}}}function Ov(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Zb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function eA(e){return e.length===1&&(e=tA(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var l=r+i>>>1;e(t[l],n)<0?r=l+1:i=l}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var l=r+i>>>1;e(t[l],n)>0?i=l:r=l+1}return r}}}function tA(e){return function(t,n){return Zb(e(t),n)}}eA(Zb);function Xb(e){for(var t=e.length,n,r=-1,i=0,l,h;++r<t;)i+=e[r].length;for(l=new Array(i);--t>=0;)for(h=e[t],n=h.length;--n>=0;)l[--i]=h[n];return l}var Gu=1e9,Yc=-Gu;function nA(e,t,n,r){function i(v,y){return e<=v&&v<=n&&t<=y&&y<=r}function l(v,y,w,k){var x=0,N=0;if(v==null||(x=h(v,w))!==(N=h(y,w))||g(v,y)<0^w>0)do k.point(x===0||x===3?e:n,x>1?r:t);while((x=(x+w+4)%4)!==N);else k.point(y[0],y[1])}function h(v,y){return Ra(v[0]-e)<Ci?y>0?0:3:Ra(v[0]-n)<Ci?y>0?2:1:Ra(v[1]-t)<Ci?y>0?1:0:y>0?3:2}function c(v,y){return g(v.x,y.x)}function g(v,y){var w=h(v,1),k=h(y,1);return w!==k?w-k:w===0?y[1]-v[1]:w===1?v[0]-y[0]:w===2?v[1]-y[1]:y[0]-v[0]}return function(v){var y=v,w=Wb(),k,x,N,T,I,O,D,R,$,G,ee,te={point:J,lineStart:Z,lineEnd:X,polygonStart:oe,polygonEnd:q};function J(Q,ae){i(Q,ae)&&y.point(Q,ae)}function H(){for(var Q=0,ae=0,ue=x.length;ae<ue;++ae)for(var le=x[ae],be=1,ke=le.length,Te=le[0],ne,ce,me=Te[0],we=Te[1];be<ke;++be)ne=me,ce=we,Te=le[be],me=Te[0],we=Te[1],ce<=r?we>r&&(me-ne)*(r-ce)>(we-ce)*(e-ne)&&++Q:we<=r&&(me-ne)*(r-ce)<(we-ce)*(e-ne)&&--Q;return Q}function oe(){y=w,k=[],x=[],ee=!0}function q(){var Q=H(),ae=ee&&Q,ue=(k=Xb(k)).length;(ae||ue)&&(v.polygonStart(),ae&&(v.lineStart(),l(null,null,1,v),v.lineEnd()),ue&&Kb(k,c,Q,l,v),v.polygonEnd()),y=v,k=x=N=null}function Z(){te.point=U,x&&x.push(N=[]),G=!0,$=!1,D=R=NaN}function X(){k&&(U(T,I),O&&$&&w.rejoin(),k.push(w.result())),te.point=J,$&&y.lineEnd()}function U(Q,ae){var ue=i(Q,ae);if(x&&N.push([Q,ae]),G)T=Q,I=ae,O=ue,G=!1,ue&&(y.lineStart(),y.point(Q,ae));else if(ue&&$)y.point(Q,ae);else{var le=[D=Math.max(Yc,Math.min(Gu,D)),R=Math.max(Yc,Math.min(Gu,R))],be=[Q=Math.max(Yc,Math.min(Gu,Q)),ae=Math.max(Yc,Math.min(Gu,ae))];Q6(le,be,e,t,n,r)?($||(y.lineStart(),y.point(le[0],le[1])),y.point(be[0],be[1]),ue||y.lineEnd(),ee=!1):ue&&(y.lineStart(),y.point(Q,ae),ee=!1)}D=Q,R=ae,$=ue}return te}}var hf=cl();function rA(e,t){var n=t[0],r=t[1],i=[ji(n),-Fi(n),0],l=0,h=0;hf.reset();for(var c=0,g=e.length;c<g;++c)if(y=(v=e[c]).length)for(var v,y,w=v[y-1],k=w[0],x=w[1]/2+Sv,N=ji(x),T=Fi(x),I=0;I<y;++I,k=D,N=$,T=G,w=O){var O=v[I],D=O[0],R=O[1]/2+Sv,$=ji(R),G=Fi(R),ee=D-k,te=ee>=0?1:-1,J=te*ee,H=J>ri,oe=N*$;if(hf.add(xu(oe*te*ji(J),T*G+oe*Fi(J))),l+=H?ee+te*Ms:ee,H^k>=n^D>=n){var q=Oh(wu(w),wu(O));Yf(q);var Z=Oh(i,q);Yf(Z);var X=(H^ee>=0?-1:1)*Al(Z[2]);(r>X||r===X&&(q[0]||q[1]))&&(h+=H^ee>=0?1:-1)}}return(l<-Ci||l<Ci&&hf<-Ci)^h&1}cl();function Av(e){return e}cl();cl();var Cu=1/0,Ah=Cu,lc=-Cu,Th=lc,Tv={point:iA,lineStart:Uu,lineEnd:Uu,polygonStart:Uu,polygonEnd:Uu,result:function(){var e=[[Cu,Ah],[lc,Th]];return lc=Th=-(Ah=Cu=1/0),e}};function iA(e,t){e<Cu&&(Cu=e),e>lc&&(lc=e),t<Ah&&(Ah=t),t>Th&&(Th=t)}cl();function Yb(e,t,n,r){return function(i,l){var h=t(l),c=i.invert(r[0],r[1]),g=Wb(),v=t(g),y=!1,w,k,x,N={point:T,lineStart:O,lineEnd:D,polygonStart:function(){N.point=R,N.lineStart=$,N.lineEnd=G,k=[],w=[]},polygonEnd:function(){N.point=T,N.lineStart=O,N.lineEnd=D,k=Xb(k);var ee=rA(w,c);k.length?(y||(l.polygonStart(),y=!0),Kb(k,oA,ee,n,l)):ee&&(y||(l.polygonStart(),y=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),y&&(l.polygonEnd(),y=!1),k=w=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function T(ee,te){var J=i(ee,te);e(ee=J[0],te=J[1])&&l.point(ee,te)}function I(ee,te){var J=i(ee,te);h.point(J[0],J[1])}function O(){N.point=I,h.lineStart()}function D(){N.point=T,h.lineEnd()}function R(ee,te){x.push([ee,te]);var J=i(ee,te);v.point(J[0],J[1])}function $(){v.lineStart(),x=[]}function G(){R(x[0][0],x[0][1]),v.lineEnd();var ee=v.clean(),te=g.result(),J,H=te.length,oe,q,Z;if(x.pop(),w.push(x),x=null,!!H){if(ee&1){if(q=te[0],(oe=q.length-1)>0){for(y||(l.polygonStart(),y=!0),l.lineStart(),J=0;J<oe;++J)l.point((Z=q[J])[0],Z[1]);l.lineEnd()}return}H>1&&ee&2&&te.push(te.pop().concat(te.shift())),k.push(te.filter(aA))}}return N}}function aA(e){return e.length>1}function oA(e,t){return((e=e.x)[0]<0?e[1]-Es-Ci:Es-e[1])-((t=t.x)[0]<0?t[1]-Es-Ci:Es-t[1])}const Rv=Yb(function(){return!0},sA,uA,[-ri,-Es]);function sA(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(l,h){var c=l>0?ri:-ri,g=Ra(l-t);Ra(g-ri)<Ci?(e.point(t,n=(n+h)/2>0?Es:-Es),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),e.point(l,n),i=0):r!==c&&g>=ri&&(Ra(t-r)<Ci&&(t-=r*Ci),Ra(l-c)<Ci&&(l-=c*Ci),n=lA(t,n,l,h),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),i=0),e.point(t=l,n=h),r=c},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function lA(e,t,n,r){var i,l,h=ji(e-n);return Ra(h)>Ci?Z6((ji(t)*(l=Fi(r))*ji(n)-ji(r)*(i=Fi(t))*ji(e))/(i*l*h)):(t+r)/2}function uA(e,t,n,r){var i;if(e==null)i=n*Es,r.point(-ri,i),r.point(0,i),r.point(ri,i),r.point(ri,0),r.point(ri,-i),r.point(0,-i),r.point(-ri,-i),r.point(-ri,0),r.point(-ri,i);else if(Ra(e[0]-t[0])>Ci){var l=e[0]<t[0]?ri:-ri;i=n*l/2,r.point(-l,i),r.point(0,i),r.point(l,i)}else r.point(t[0],t[1])}function cA(e,t){var n=Fi(e),r=n>0,i=Ra(n)>Ci;function l(y,w,k,x){J6(x,e,t,k,y,w)}function h(y,w){return Fi(y)*Fi(w)>n}function c(y){var w,k,x,N,T;return{lineStart:function(){N=x=!1,T=1},point:function(I,O){var D=[I,O],R,$=h(I,O),G=r?$?0:v(I,O):$?v(I+(I<0?ri:-ri),O):0;if(!w&&(N=x=$)&&y.lineStart(),$!==x&&(R=g(w,D),(!R||sh(w,R)||sh(D,R))&&(D[0]+=Ci,D[1]+=Ci,$=h(D[0],D[1]))),$!==x)T=0,$?(y.lineStart(),R=g(D,w),y.point(R[0],R[1])):(R=g(w,D),y.point(R[0],R[1]),y.lineEnd()),w=R;else if(i&&w&&r^$){var ee;!(G&k)&&(ee=g(D,w,!0))&&(T=0,r?(y.lineStart(),y.point(ee[0][0],ee[0][1]),y.point(ee[1][0],ee[1][1]),y.lineEnd()):(y.point(ee[1][0],ee[1][1]),y.lineEnd(),y.lineStart(),y.point(ee[0][0],ee[0][1])))}$&&(!w||!sh(w,D))&&y.point(D[0],D[1]),w=D,x=$,k=G},lineEnd:function(){x&&y.lineEnd(),w=null},clean:function(){return T|(N&&x)<<1}}}function g(y,w,k){var x=wu(y),N=wu(w),T=[1,0,0],I=Oh(x,N),O=Kc(I,I),D=I[0],R=O-D*D;if(!R)return!k&&y;var $=n*O/R,G=-n*D/R,ee=Oh(T,I),te=Zc(T,$),J=Zc(I,G);cf(te,J);var H=ee,oe=Kc(te,H),q=Kc(H,H),Z=oe*oe-q*(Kc(te,te)-1);if(!(Z<0)){var X=Ou(Z),U=Zc(H,(-oe-X)/q);if(cf(U,te),U=Xf(U),!k)return U;var Q=y[0],ae=w[0],ue=y[1],le=w[1],be;ae<Q&&(be=Q,Q=ae,ae=be);var ke=ae-Q,Te=Ra(ke-ri)<Ci,ne=Te||ke<Ci;if(!Te&&le<ue&&(be=ue,ue=le,le=be),ne?Te?ue+le>0^U[1]<(Ra(U[0]-Q)<Ci?ue:le):ue<=U[1]&&U[1]<=le:ke>ri^(Q<=U[0]&&U[0]<=ae)){var ce=Zc(H,(-oe+X)/q);return cf(ce,te),[U,Xf(ce)]}}}function v(y,w){var k=r?e:ri-e,x=0;return y<-k?x|=1:y>k&&(x|=2),w<-k?x|=4:w>k&&(x|=8),x}return Yb(h,c,l,r?[0,-e]:[-ri,e-ri])}function Jb(e){return function(t){var n=new Qf;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Qf(){}Qf.prototype={constructor:Qf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qb(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],l=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),l!=null&&e.clipExtent(null),X6(n,e.stream(Tv));var h=Tv.result(),c=Math.min(r/(h[1][0]-h[0][0]),i/(h[1][1]-h[0][1])),g=+t[0][0]+(r-c*(h[1][0]+h[0][0]))/2,v=+t[0][1]+(i-c*(h[1][1]+h[0][1]))/2;return l!=null&&e.clipExtent(l),e.scale(c*150).translate([g,v])}function hA(e,t,n){return Qb(e,[[0,0],t],n)}var Bv=16,dA=Fi(30*ns);function Dv(e,t){return+t?pA(e,t):fA(e)}function fA(e){return Jb({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function pA(e,t){function n(r,i,l,h,c,g,v,y,w,k,x,N,T,I){var O=v-r,D=y-i,R=O*O+D*D;if(R>4*t&&T--){var $=h+k,G=c+x,ee=g+N,te=Ou($*$+G*G+ee*ee),J=Al(ee/=te),H=Ra(Ra(ee)-1)<Ci||Ra(l-w)<Ci?(l+w)/2:xu(G,$),oe=e(H,J),q=oe[0],Z=oe[1],X=q-r,U=Z-i,Q=D*X-O*U;(Q*Q/R>t||Ra((O*X+D*U)/R-.5)>.3||h*k+c*x+g*N<dA)&&(n(r,i,l,h,c,g,q,Z,H,$/=te,G/=te,ee,T,I),I.point(q,Z),n(q,Z,H,$,G,ee,v,y,w,k,x,N,T,I))}}return function(r){var i,l,h,c,g,v,y,w,k,x,N,T,I={point:O,lineStart:D,lineEnd:$,polygonStart:function(){r.polygonStart(),I.lineStart=G},polygonEnd:function(){r.polygonEnd(),I.lineStart=D}};function O(J,H){J=e(J,H),r.point(J[0],J[1])}function D(){w=NaN,I.point=R,r.lineStart()}function R(J,H){var oe=wu([J,H]),q=e(J,H);n(w,k,y,x,N,T,w=q[0],k=q[1],y=J,x=oe[0],N=oe[1],T=oe[2],Bv,r),r.point(w,k)}function $(){I.point=O,r.lineEnd()}function G(){D(),I.point=ee,I.lineEnd=te}function ee(J,H){R(i=J,H),l=w,h=k,c=x,g=N,v=T,I.point=R}function te(){n(w,k,y,x,N,T,l,h,i,c,g,v,Bv,r),I.lineEnd=$,$()}return I}}var gA=Jb({point:function(e,t){this.stream.point(e*ns,t*ns)}});function mA(e){return vA(function(){return e})()}function vA(e){var t,n=150,r=480,i=250,l,h,c=0,g=0,v=0,y=0,w=0,k,x,N=null,T=Rv,I=null,O,D,R,$=Av,G=.5,ee=Dv(q,G),te,J;function H(U){return U=x(U[0]*ns,U[1]*ns),[U[0]*n+l,h-U[1]*n]}function oe(U){return U=x.invert((U[0]-l)/n,(h-U[1])/n),U&&[U[0]*Qs,U[1]*Qs]}function q(U,Q){return U=t(U,Q),[U[0]*n+l,h-U[1]*n]}H.stream=function(U){return te&&J===U?te:te=gA(T(k,ee($(J=U))))},H.clipAngle=function(U){return arguments.length?(T=+U?cA(N=U*ns,6*ns):(N=null,Rv),X()):N*Qs},H.clipExtent=function(U){return arguments.length?($=U==null?(I=O=D=R=null,Av):nA(I=+U[0][0],O=+U[0][1],D=+U[1][0],R=+U[1][1]),X()):I==null?null:[[I,O],[D,R]]},H.scale=function(U){return arguments.length?(n=+U,Z()):n},H.translate=function(U){return arguments.length?(r=+U[0],i=+U[1],Z()):[r,i]},H.center=function(U){return arguments.length?(c=U[0]%360*ns,g=U[1]%360*ns,Z()):[c*Qs,g*Qs]},H.rotate=function(U){return arguments.length?(v=U[0]%360*ns,y=U[1]%360*ns,w=U.length>2?U[2]%360*ns:0,Z()):[v*Qs,y*Qs,w*Qs]},H.precision=function(U){return arguments.length?(ee=Dv(q,G=U*U),X()):Ou(G)},H.fitExtent=function(U,Q){return Qb(H,U,Q)},H.fitSize=function(U,Q){return hA(H,U,Q)};function Z(){x=Vb(k=Y6(v,y,w),t);var U=t(c,g);return l=r-U[0]*n,h=i+U[1]*n,X()}function X(){return te=J=null,H}return function(){return t=e.apply(this,arguments),H.invert=t.invert&&oe,Z()}}function ex(e){return function(t,n){var r=Fi(t),i=Fi(n),l=e(r*i);return[l*i*ji(t),l*ji(n)]}}function tx(e){return function(t,n){var r=Ou(t*t+n*n),i=e(r),l=ji(i),h=Fi(i);return[xu(t*l,r*h),Al(r&&n*l/r)]}}var yA=ex(function(e){return Ou(2/(1+e))});yA.invert=tx(function(e){return 2*Al(e/2)});var nx=ex(function(e){return(e=Gb(e))&&e/ji(e)});nx.invert=tx(function(e){return e});function _A(){return mA(nx).scale(79.4188).clipAngle(180-.001)}function $v(e,t){return[e,t]}$v.invert=$v;var{BufferOp:bA,GeoJSONReader:xA,GeoJSONWriter:wA}=G6;function CA(e,t,n){n=n||{};var r=n.units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var l=[];switch(e.type){case"GeometryCollection":return Ub(e,function(h){var c=lh(h,t,r,i);c&&l.push(c)}),Kf(l);case"FeatureCollection":return wv(e,function(h){var c=lh(h,t,r,i);c&&wv(c,function(g){g&&l.push(g)})}),Kf(l)}return lh(e,t,r,i)}function lh(e,t,n,r){var i=e.properties||{},l=e.type==="Feature"?e.geometry:e;if(l.type==="GeometryCollection"){var h=[];return Ub(e,function(T){var I=lh(T,t,n,r);I&&h.push(I)}),Kf(h)}var c=SA(l),g={type:l.type,coordinates:ix(l.coordinates,c)},v=new xA,y=v.read(g),w=W6(K6(t,n),"meters"),k=bA.bufferOp(y,w,r),x=new wA;if(k=x.write(k),!rx(k.coordinates)){var N={type:k.type,coordinates:ax(k.coordinates,c)};return V6(N,i)}}function rx(e){return Array.isArray(e[0])?rx(e[0]):isNaN(e[0])}function ix(e,t){return typeof e[0]!="object"?t(e):e.map(function(n){return ix(n,t)})}function ax(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(n){return ax(n,t)})}function SA(e){var t=z6(e).geometry.coordinates,n=[-t[0],-t[1]];return _A().rotate(n).scale(Po)}const{Text:Hu}=Fl,EA=[{value:"meters",label:"Meters"},{value:"kilometers",label:"Kilometers"},{value:"miles",label:"Miles"},{value:"feet",label:"Feet"}];function kA({clearDataOnClose:e=!0,open:t=!1}){const n=Ko(),r=Dr(I=>I.map.multiSelectedFeatures),i=Dr(I=>I.map.bufferOrder)||[],[l,h]=b.useState(100),[c,g]=b.useState("meters"),[v,y]=b.useState([]),w=b.useMemo(()=>{const I=Array.isArray(r)?r:[];return I&&I.length>0?I.map(O=>({...O})):[]},[r]),k=w.length>0,x=b.useCallback(()=>{if(!k){fs.info("No selected features to buffer.");return}if(!l||Number(l)<=0){fs.error("Distance must be a positive number.");return}try{const I=[];if(w.forEach(R=>{const $=R.feature;if(!$||!$.geometry)return;const G=$.type==="Feature"?$:B6($),ee=CA(G,Number(l),{units:c});ee&&ee.geometry&&I.push(ee)}),I.length===0){fs.error("Buffer creation failed for selected features.");return}const O=D6(I),D=`buffer-${l}${c}-${Date.now()}`;n(og({layerId:D,geoJsonData:O,metaData:{layer:{layer_nm:`Buffer ${Date.now()}`},style:{geom_typ:"polygon",stroke_color:"#ff0000",fill_color:"#ff0000",fill_opacity:.25,stroke_width:2}},isActive:!0})),y(R=>[...R,D]),fs.success("Buffer created")}catch(I){console.error("Buffer error:",I),fs.error("Error creating buffer")}},[n,k,l,c,w]),N=b.useCallback(()=>{y([]),n(qv()),fs.success("Cleared buffers")},[n]),T=b.useCallback(I=>{I&&(n(og({layerId:I,isActive:!1})),y(O=>O.filter(D=>D!==I)),fs.success("Buffer removed"))},[n]);return b.useEffect(()=>{i.length===0&&y([])},[i]),b.useEffect(()=>()=>{e&&N()},[e,N]),Ie.jsx(Ie.Fragment,{children:Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsxs("div",{children:[Ie.jsx(Hu,{strong:!0,children:"Selected features:"}),Ie.jsx("div",{style:{marginTop:6},children:Ie.jsxs(Hu,{type:"secondary",children:[w.length," feature(s) selected"]})})]}),Ie.jsxs("div",{children:[Ie.jsx(Hu,{strong:!0,children:"Distance"}),Ie.jsxs("div",{style:{marginTop:6,display:"flex",gap:8},children:[Ie.jsx(v_,{min:0,value:l,onChange:I=>h(I),style:{width:140}}),Ie.jsx(ks,{options:EA,value:c,onChange:I=>g(I),style:{width:160}})]})]}),Ie.jsxs("div",{style:{display:"flex",gap:8},children:[Ie.jsx(ii,{type:"primary",onClick:x,disabled:!k,children:"Create Buffer"}),Ie.jsx(ii,{onClick:N,danger:!0,children:"Clear All"})]}),Ie.jsxs("div",{children:[Ie.jsx(Hu,{strong:!0,children:"Created buffers"}),Ie.jsx(ic,{size:"small",bordered:!0,style:{marginTop:8,maxHeight:240,overflow:"auto"},dataSource:[...v].reverse(),locale:{emptyText:"No buffers created"},renderItem:I=>Ie.jsx(ic.Item,{actions:[Ie.jsx(ii,{size:"small",onClick:()=>T(I),children:"Remove"})],children:Ie.jsx(Hu,{code:!0,children:I})})})]})]})})}const LA=b.memo(kA);function NA(){const e=Ko(),t=Dr(n=>n.ui.isBufferOpen);return Ie.jsx(zp,{title:"Buffer Tool",placement:"bottom",onClose:()=>e(mf()),open:t,height:"45vh",getContainer:!1,mask:!1,afterOpenChange:n=>{},minimized:!0,children:Ie.jsxs(ku,{gutter:12,style:{height:"100%"},children:[Ie.jsx(gs,{xs:24,sm:10,md:8,lg:7,style:{minWidth:260,height:"100%"},children:Ie.jsx(ph,{size:"small",style:{height:"100%"},styles:{body:{height:"100%",padding:12,overflow:"auto"}},children:t&&Ie.jsx(LA,{open:t,clearDataOnClose:!0})})}),Ie.jsx(gs,{xs:24,sm:14,md:16,lg:17,style:{minWidth:320,height:"100%"},children:Ie.jsx(ph,{size:"small",style:{height:"100%"},styles:{body:{height:"100%",padding:12,overflow:"auto"}},children:t&&Ie.jsx(F1,{csvDownloader:!1,clearDataOnTabChange:!0,clearDataOnClose:!0,defaultSelectAll:!0})})})]})})}const{Text:df}=Fl,ox=b.memo(({option:e,disabled:t})=>Ie.jsx(Ns,{value:e.value,disabled:t,style:{width:"100%"},children:Ie.jsxs(_a,{style:{width:"100%",justifyContent:"space-between"},children:[Ie.jsxs(_a,{children:[Ie.jsx(B1,{iconInfo:e?.styleInfo}),Ie.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.label})]}),Ie.jsx(_a,{size:"small",children:t&&Ie.jsx($l,{size:"small"})})]})}));ox.displayName="LayerCheckbox";const sx=b.memo(({layers:e=[]})=>{const t=Ko(),{portalId:n}=Dr(O=>O.portal),r=Dr(O=>O.ui.loadingMessage),[i,l]=b.useState({checkedLayers:[],loadingLayers:new Set,pendingRequests:new Map}),[h]=BN(),c=Dr(O=>O.map.geoJsonLayers||{}),[g,v]=b.useState(""),y=b.useMemo(()=>{const O=e.filter($=>$?.layer_order_no==="0");return[...e.filter($=>$?.layer_order_no!=="0").sort(($,G)=>{const ee=Number($.layer_order_no),te=Number(G.layer_order_no);return ee-te}),...O]?.map(($,G)=>({label:$.layer_mst.layer_nm,value:$.layer_mst.layer_id,styleInfo:{geom_typ:$.geomStyle_mst.geom_typ,fill_color:$.geomStyle_mst.fill_color,stroke_color:$.geomStyle_mst.stroke_color,marker_fa_icon_name:$.geomStyle_mst.marker_fa_icon_name,marker_color:$.geomStyle_mst.marker_color,marker_size:$.geomStyle_mst.marker_size,marker_img_url:$.geomStyle_mst.marker_img_url},orderNo:G.toString()}))||[]},[e]),w=b.useMemo(()=>{const O=(g||"").trim().toLowerCase();return O?y.filter(D=>(D.label||"").toLowerCase().includes(O)):y},[y,g]);b.useEffect(()=>{if(!y?.length)return;const O=y.map(D=>D.value).filter(D=>!!c[D]);l(D=>({...D,checkedLayers:O}))},[y,c]);const k=b.useCallback((O,D,R,$,G)=>{t(xx({layerId:O,geoJsonData:D,metaData:R,isActive:$,orderNo:G}))},[t]),x=b.useCallback(async O=>{l(D=>({...D,loadingLayers:new Set([...D.loadingLayers,O])}));try{const D=await h({layerId:O,portalId:n}).unwrap();l(R=>{if(!R.checkedLayers.includes(O))return R;const $=D?.metaData||{},G=y.find(te=>te.value===O)?.orderNo||"0";k(O,D.geojson,$,!0,G);const ee=new Set(R.loadingLayers);return ee.delete(O),{...R,loadingLayers:ee}})}catch(D){D?.name!=="AbortError"&&console.error(`Error fetching layer ${O}:`,D),l(R=>{const $=new Set(R.loadingLayers);return $.delete(O),{...R,loadingLayers:$}})}},[h,k,n,y]),N=b.useCallback(async O=>{const D=new Set(i.checkedLayers),R=new Set(O),$=O.filter(ee=>!D.has(ee)&&!c[ee]),G=[...D].filter(ee=>!R.has(ee));l(ee=>({...ee,checkedLayers:O})),$.forEach(x),G.forEach(ee=>{k(ee,null,{},!1,"0")})},[i.checkedLayers,x,k,c]);b.useEffect(()=>{(async()=>{if(!y?.length)return;const D=y.filter(R=>e.find(G=>G.layer_mst.layer_id===R.value)?.default_view_flg==="Y");if(D.length){t(sg("Loading default layers..."));try{const R=D.map(G=>h({layerId:G.value,portalId:n}).unwrap());(await Promise.all(R)).forEach((G,ee)=>{const te=D[ee].value,J=G?.metaData||{},H=D[ee].orderNo||"0";k(te,G.geojson,J,!0,H)}),l(G=>({...G,checkedLayers:[...G.checkedLayers,...D.map(ee=>ee.value)]}))}catch(R){console.error("Error loading default layers:",R)}finally{t(sg(null))}}})()},[y,e,t,h,k,n]),b.useCallback(()=>{const O=w.map(R=>R.value),D=new Set(i.checkedLayers||[]);O.forEach(R=>D.add(R)),N(Array.from(D))},[w,i.checkedLayers,N]);const T=b.useCallback(()=>{const O=new Set(w.map(R=>R.value)),D=(i.checkedLayers||[]).filter(R=>!O.has(R));N(D)},[w,i.checkedLayers,N]),I=(i.checkedLayers||[]).length;return Ie.jsxs(ph,{size:"small",variant:!1,styles:{body:{padding:12}},style:{width:"100%"},title:Ie.jsxs(ku,{align:"middle",justify:"space-between",style:{gap:8},children:[Ie.jsxs(gs,{children:[Ie.jsx(df,{strong:!0,style:{fontSize:16},children:"Layers"}),Ie.jsxs("div",{style:{fontSize:12,color:"var(--muted, rgba(0,0,0,0.45))"},children:[Ie.jsxs(df,{type:"secondary",style:{marginRight:8},children:[I," active"]}),Ie.jsxs(df,{type:"secondary",children:[y.length," available"]})]})]}),Ie.jsx(gs,{children:Ie.jsx(_a,{children:Ie.jsx(sa,{title:"Deselect visible",children:Ie.jsx(ii,{type:"text",size:"small",icon:Ie.jsx(kN,{}),onClick:T})})})})]}),children:[r&&Ie.jsx(as,{title:"Loading",open:!!r,footer:null,closable:!1,children:Ie.jsxs(_a,{children:[Ie.jsx($l,{}),Ie.jsx("span",{children:r})]})}),Ie.jsx(Wu,{prefix:Ie.jsx(Vh,{}),placeholder:"Search layers...",allowClear:!0,size:"middle",onChange:O=>v(O.target.value),value:g,style:{marginBottom:8}}),Ie.jsx(nl,{style:{margin:"8px 0"}}),Ie.jsx(Ns.Group,{onChange:N,value:i.checkedLayers,style:{width:"100%"},children:w.length===0?Ie.jsx(fh,{image:fh.PRESENTED_IMAGE_SIMPLE,description:"No layers"}):Ie.jsx(ic,{size:"small",dataSource:w,split:!1,renderItem:O=>{const D=i.loadingLayers.has(O.value);return Ie.jsx(ic.Item,{style:{padding:"6px 0"},children:Ie.jsx(ox,{option:O,disabled:D})},O.value)},style:{overflow:"auto"}})})]})});sx.displayName="LayerPanel";const lx=b.memo(({})=>{const e=Ko(),{portalId:t}=Dr(h=>h.portal),[n,{data:r,isLoading:i,error:l}]=RN();return b.useEffect(()=>{t&&n(t)},[t,n]),b.useEffect(()=>{const h=r?.portalDetails?.max_zoom;typeof h=="number"&&e(ch({zoom:h}))},[r,e]),i?Ie.jsx("div",{children:"Loading layers..."}):l?Ie.jsxs("div",{children:["Error loading layers: ",l.message]}):Ie.jsxs("div",{className:"sider-inner",children:[Ie.jsx(C1,{portalDetails:r?.portalDetails}),Ie.jsx(sx,{layers:r?.layers})]})});lx.displayName="Sidebar";var ff={exports:{}},Fv;function MA(){return Fv||(Fv=1,(function(e,t){(function(n,r){e.exports=n(N1()),typeof r<"u"&&r.L&&(r.L.Control.MiniMap=n(L),r.L.control.minimap=function(i,l){return new r.L.Control.MiniMap(i,l)})})(function(n){var r=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(i,l){n.Util.setOptions(this,l),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=i},onAdd:function(i){this._mainMap=i,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var l={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:i.options.crs};return l=n.Util.extend(this.options.mapOptions,l),this._miniMap=new n.Map(this._container,l),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(i){n.Control.prototype.addTo.call(this,i);var l=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(l,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(i){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(i){this._miniMap.removeLayer(this._layer),this._layer=i,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(i,l,h,c,g,v){var y=n.DomUtil.create("a",h,c);y.innerHTML=i,y.href="#",y.title=l;var w=n.DomEvent.stopPropagation;return n.DomEvent.on(y,"click",w).on(y,"mousedown",w).on(y,"dblclick",w).on(y,"click",n.DomEvent.preventDefault).on(y,"click",g,v),y},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(i){i!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(i){if(this._miniMapMoving)this._miniMapMoving=!1;else{var l=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(l,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(i){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(i){if(!this.options.centerFixed){var l=this._aimingRect.getBounds(),h=this._miniMap.latLngToContainerPoint(l.getSouthWest()),c=this._miniMap.latLngToContainerPoint(l.getNorthEast());this._lastAimingRectPosition={sw:h,ne:c}}},_onMiniMapMoving:function(i){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(i){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var i=this.options.zoomLevelFixed;return this._isDefined(i)&&this._isInteger(i)},_decideZoom:function(i){if(this._isZoomLevelFixed())return i?this.options.zoomLevelFixed:this._mainMap.getZoom();if(i)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var l=this._miniMap.getZoom()-this._mainMap.getZoom(),h=this._miniMap.getZoom()-this.options.zoomLevelOffset,c;return l>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(c=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):c=this._mainMap.getZoom():c=h,this._lastMiniMapZoom=this._miniMap.getZoom(),c},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(i){return typeof i=="number"},_isDefined:function(i){return typeof i<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var i={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",i),this.fire("toggle",i)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new r().addTo(this))}),r},window)})(ff)),ff.exports}MA();function PA(){const e=Yo();return b.useEffect(()=>{const t=new ci.TileLayer("https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.jpg",{minZoom:0,maxZoom:13,attribution:'&copy; CNES, Distribution Airbus DS,  Airbus DS,  PlanetObserver (Contains Copernicus Data) | &copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n=new ci.Control.MiniMap(t,{toggleDisplay:!0,minimized:!1,position:"bottomleft",width:150,height:150,zoomLevelOffset:-5,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0}});return n.addTo(e),()=>{e.removeControl(n)}},[e]),null}const{BaseLayer:GA}=$p;function IA(){const e=Yo();return b.useEffect(()=>{if(!e.pm){console.error("Geoman not available on map instance");return}return e.pm.addControls({position:"topleft",drawMarker:!0,drawCircle:!0,drawPolyline:!0,drawRectangle:!0,drawPolygon:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0}),()=>{e.pm.removeControls()}},[e]),null}const ux=()=>{const e=Dr(y=>y.map.selectedFeature.feature),t=Dr(y=>y.map.selectedFeature.metaData),n=Dr(y=>y.map.multiSelectedFeatures||[]),r=b.useCallback((y,w)=>ci.circleMarker(w,QN),[]),i=b.useCallback((y,w)=>ci.circleMarker(w,tM),[]),l=b.useCallback((y,w)=>{if(y.properties){const k="Tooltip",x=y.geometry?.type?.toLowerCase();let N=null;if(x==="point"&&y.geometry?.coordinates){const[T,I]=y.geometry.coordinates;N=ci.latLng(I,T)}T1(w,y.properties,k,N,x)}},[t]),h=e&&e.length>0,c=n&&n.length>0,g=b.useMemo(()=>`selected-single-${t?.selectedKeys}`,[t]),v=b.useMemo(()=>`selected-multi-${n.length}`,[n.length]);return Ie.jsxs(Ie.Fragment,{children:[h&&Ie.jsx(wh,{data:{type:"FeatureCollection",features:e},style:JN,pointToLayer:r,onEachFeature:l,interactive:!1,pane:"pane-selected-features"},g),c&&Ie.jsx(wh,{data:{type:"FeatureCollection",features:n.map(y=>y.feature)},style:eM,pointToLayer:i,onEachFeature:l,interactive:!1,pane:"pane-selected-features"},v)]})};ux.displayName="SelectedFeaturesLayer";const OA=b.memo(ux),cx=b.memo(()=>{const e=Dr(x=>x.map.geoJsonLayers),t=Dr(x=>x.map.viewport),n=Dr(x=>x.ui.isLegendVisible),r=Dr(x=>x.ui.isPrintModalOpen),i=Dr(x=>x.map.bufferLayers),l=Dr(x=>x.map.bufferOrder),h=b.useMemo(()=>Object.entries(e||{}).filter(([,x])=>x?.geoJsonData).map(([x,N])=>({layerId:x,orderNo:Number(N.orderNo||0),data:N})).sort((x,N)=>N.orderNo-x.orderNo||N.layerId.localeCompare(x.layerId)),[e]),c=b.useMemo(()=>(Array.isArray(l)?l:Object.keys(i||{})).filter(N=>i&&i[N]&&i[N].geoJsonData).map(N=>({layerId:N,data:i[N]})),[i,l]),g=b.useMemo(()=>{const x=zs.OVERLAY_BASE;return h.map((N,T)=>({name:`pane-layer-${N.layerId}`,zIndex:x+T}))},[h]),v=b.useMemo(()=>{const x=zs.OVERLAY_BASE,N=Math.max(201,x-1e3),T=typeof zs.BUFFER_BASE=="number"?zs.BUFFER_BASE:N;return c.map((I,O)=>({name:`pane-buffer-${I.layerId}`,zIndex:T+O}))},[c]),y=b.useMemo(()=>c.map(({layerId:x,data:N},T)=>{const I=`pane-buffer-${x}`;return Ie.jsx(jp,{layerId:x,geoJsonData:N.geoJsonData,metaData:N.metaData,pane:I},x)}),[c]),w=b.useMemo(()=>h.map(({layerId:x,data:N},T)=>{const I=`pane-layer-${x}`;return Ie.jsx(Fp,{layerId:x,geoJsonData:N.geoJsonData,metaData:N.metaData,pane:I},x)}),[h]),k=b.useMemo(()=>({center:t?.center||[28.7041,77.1025],zoom:t?.zoom||8,style:{width:"100%",height:"100%"},zoomControl:!1}),[t]);return Ie.jsx("div",{className:"map-panel",children:Ie.jsxs(O1,{...k,children:[Ie.jsx(YN,{position:"topleft"}),Ie.jsx(A1,{position:"bottomright",imperial:!0,metric:!0,maxWidth:200,updateWhenIdle:!0}),Ie.jsx(yM,{}),Ie.jsx(Zp,{geoJsonLayers:e}),Ie.jsx(Qu,{panes:v}),y,Ie.jsx(Qu,{panes:g}),w,Ie.jsx(Qu,{panes:[{name:"pane-selected-features",zIndex:zs.SELECTED_FEATURES}]}),Ie.jsx(OA,{}),Ie.jsx(IA,{}),Ie.jsx(PA,{}),Ie.jsx(D1,{visible:n}),Ie.jsx(R6,{}),Ie.jsx(JM,{}),r&&Ie.jsx(T6,{}),Ie.jsx(NA,{})]})})});cx.displayName="MapPanel";var jv={},zv;function AA(){return zv||(zv=1,(()=>{var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,h=(u,p)=>()=>(p||u((p={exports:{}}).exports,p),p.exports),c=(u,p,_,S)=>{if(p&&typeof p=="object"||typeof p=="function")for(let P of r(p))!l.call(u,P)&&P!==_&&t(u,P,{get:()=>p[P],enumerable:!(S=n(p,P))||S.enumerable});return u},g=(u,p,_)=>(_=u!=null?e(i(u)):{},c(p||!u||!u.__esModule?t(_,"default",{value:u,enumerable:!0}):_,u)),v=h((u,p)=>{function _(){this.__data__=[],this.size=0}p.exports=_}),y=h((u,p)=>{function _(S,P){return S===P||S!==S&&P!==P}p.exports=_}),w=h((u,p)=>{var _=y();function S(P,F){for(var K=P.length;K--;)if(_(P[K][0],F))return K;return-1}p.exports=S}),k=h((u,p)=>{var _=w(),S=Array.prototype,P=S.splice;function F(K){var Y=this.__data__,ge=_(Y,K);if(ge<0)return!1;var ve=Y.length-1;return ge==ve?Y.pop():P.call(Y,ge,1),--this.size,!0}p.exports=F}),x=h((u,p)=>{var _=w();function S(P){var F=this.__data__,K=_(F,P);return K<0?void 0:F[K][1]}p.exports=S}),N=h((u,p)=>{var _=w();function S(P){return _(this.__data__,P)>-1}p.exports=S}),T=h((u,p)=>{var _=w();function S(P,F){var K=this.__data__,Y=_(K,P);return Y<0?(++this.size,K.push([P,F])):K[Y][1]=F,this}p.exports=S}),I=h((u,p)=>{var _=v(),S=k(),P=x(),F=N(),K=T();function Y(ge){var ve=-1,Ve=ge==null?0:ge.length;for(this.clear();++ve<Ve;){var je=ge[ve];this.set(je[0],je[1])}}Y.prototype.clear=_,Y.prototype.delete=S,Y.prototype.get=P,Y.prototype.has=F,Y.prototype.set=K,p.exports=Y}),O=h((u,p)=>{var _=I();function S(){this.__data__=new _,this.size=0}p.exports=S}),D=h((u,p)=>{function _(S){var P=this.__data__,F=P.delete(S);return this.size=P.size,F}p.exports=_}),R=h((u,p)=>{function _(S){return this.__data__.get(S)}p.exports=_}),$=h((u,p)=>{function _(S){return this.__data__.has(S)}p.exports=_}),G=h((u,p)=>{var _=typeof Pc=="object"&&Pc&&Pc.Object===Object&&Pc;p.exports=_}),ee=h((u,p)=>{var _=G(),S=typeof self=="object"&&self&&self.Object===Object&&self,P=_||S||Function("return this")();p.exports=P}),te=h((u,p)=>{var _=ee(),S=_.Symbol;p.exports=S}),J=h((u,p)=>{var _=te(),S=Object.prototype,P=S.hasOwnProperty,F=S.toString,K=_?_.toStringTag:void 0;function Y(ge){var ve=P.call(ge,K),Ve=ge[K];try{ge[K]=void 0;var je=!0}catch{}var vt=F.call(ge);return je&&(ve?ge[K]=Ve:delete ge[K]),vt}p.exports=Y}),H=h((u,p)=>{var _=Object.prototype,S=_.toString;function P(F){return S.call(F)}p.exports=P}),oe=h((u,p)=>{var _=te(),S=J(),P=H(),F="[object Null]",K="[object Undefined]",Y=_?_.toStringTag:void 0;function ge(ve){return ve==null?ve===void 0?K:F:Y&&Y in Object(ve)?S(ve):P(ve)}p.exports=ge}),q=h((u,p)=>{function _(S){var P=typeof S;return S!=null&&(P=="object"||P=="function")}p.exports=_}),Z=h((u,p)=>{var _=oe(),S=q(),P="[object AsyncFunction]",F="[object Function]",K="[object GeneratorFunction]",Y="[object Proxy]";function ge(ve){if(!S(ve))return!1;var Ve=_(ve);return Ve==F||Ve==K||Ve==P||Ve==Y}p.exports=ge}),X=h((u,p)=>{var _=ee(),S=_["__core-js_shared__"];p.exports=S}),U=h((u,p)=>{var _=X(),S=(function(){var F=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""})();function P(F){return!!S&&S in F}p.exports=P}),Q=h((u,p)=>{var _=Function.prototype,S=_.toString;function P(F){if(F!=null){try{return S.call(F)}catch{}try{return F+""}catch{}}return""}p.exports=P}),ae=h((u,p)=>{var _=Z(),S=U(),P=q(),F=Q(),K=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,ge=Function.prototype,ve=Object.prototype,Ve=ge.toString,je=ve.hasOwnProperty,vt=RegExp("^"+Ve.call(je).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function St(qt){if(!P(qt)||S(qt))return!1;var un=_(qt)?vt:Y;return un.test(F(qt))}p.exports=St}),ue=h((u,p)=>{function _(S,P){return S?.[P]}p.exports=_}),le=h((u,p)=>{var _=ae(),S=ue();function P(F,K){var Y=S(F,K);return _(Y)?Y:void 0}p.exports=P}),be=h((u,p)=>{var _=le(),S=ee(),P=_(S,"Map");p.exports=P}),ke=h((u,p)=>{var _=le(),S=_(Object,"create");p.exports=S}),Te=h((u,p)=>{var _=ke();function S(){this.__data__=_?_(null):{},this.size=0}p.exports=S}),ne=h((u,p)=>{function _(S){var P=this.has(S)&&delete this.__data__[S];return this.size-=P?1:0,P}p.exports=_}),ce=h((u,p)=>{var _=ke(),S="__lodash_hash_undefined__",P=Object.prototype,F=P.hasOwnProperty;function K(Y){var ge=this.__data__;if(_){var ve=ge[Y];return ve===S?void 0:ve}return F.call(ge,Y)?ge[Y]:void 0}p.exports=K}),me=h((u,p)=>{var _=ke(),S=Object.prototype,P=S.hasOwnProperty;function F(K){var Y=this.__data__;return _?Y[K]!==void 0:P.call(Y,K)}p.exports=F}),we=h((u,p)=>{var _=ke(),S="__lodash_hash_undefined__";function P(F,K){var Y=this.__data__;return this.size+=this.has(F)?0:1,Y[F]=_&&K===void 0?S:K,this}p.exports=P}),Le=h((u,p)=>{var _=Te(),S=ne(),P=ce(),F=me(),K=we();function Y(ge){var ve=-1,Ve=ge==null?0:ge.length;for(this.clear();++ve<Ve;){var je=ge[ve];this.set(je[0],je[1])}}Y.prototype.clear=_,Y.prototype.delete=S,Y.prototype.get=P,Y.prototype.has=F,Y.prototype.set=K,p.exports=Y}),Be=h((u,p)=>{var _=Le(),S=I(),P=be();function F(){this.size=0,this.__data__={hash:new _,map:new(P||S),string:new _}}p.exports=F}),he=h((u,p)=>{function _(S){var P=typeof S;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?S!=="__proto__":S===null}p.exports=_}),qe=h((u,p)=>{var _=he();function S(P,F){var K=P.__data__;return _(F)?K[typeof F=="string"?"string":"hash"]:K.map}p.exports=S}),We=h((u,p)=>{var _=qe();function S(P){var F=_(this,P).delete(P);return this.size-=F?1:0,F}p.exports=S}),Fe=h((u,p)=>{var _=qe();function S(P){return _(this,P).get(P)}p.exports=S}),de=h((u,p)=>{var _=qe();function S(P){return _(this,P).has(P)}p.exports=S}),it=h((u,p)=>{var _=qe();function S(P,F){var K=_(this,P),Y=K.size;return K.set(P,F),this.size+=K.size==Y?0:1,this}p.exports=S}),ft=h((u,p)=>{var _=Be(),S=We(),P=Fe(),F=de(),K=it();function Y(ge){var ve=-1,Ve=ge==null?0:ge.length;for(this.clear();++ve<Ve;){var je=ge[ve];this.set(je[0],je[1])}}Y.prototype.clear=_,Y.prototype.delete=S,Y.prototype.get=P,Y.prototype.has=F,Y.prototype.set=K,p.exports=Y}),fe=h((u,p)=>{var _=I(),S=be(),P=ft(),F=200;function K(Y,ge){var ve=this.__data__;if(ve instanceof _){var Ve=ve.__data__;if(!S||Ve.length<F-1)return Ve.push([Y,ge]),this.size=++ve.size,this;ve=this.__data__=new P(Ve)}return ve.set(Y,ge),this.size=ve.size,this}p.exports=K}),tt=h((u,p)=>{var _=I(),S=O(),P=D(),F=R(),K=$(),Y=fe();function ge(ve){var Ve=this.__data__=new _(ve);this.size=Ve.size}ge.prototype.clear=S,ge.prototype.delete=P,ge.prototype.get=F,ge.prototype.has=K,ge.prototype.set=Y,p.exports=ge}),kt=h((u,p)=>{var _=le(),S=(function(){try{var P=_(Object,"defineProperty");return P({},"",{}),P}catch{}})();p.exports=S}),At=h((u,p)=>{var _=kt();function S(P,F,K){F=="__proto__"&&_?_(P,F,{configurable:!0,enumerable:!0,value:K,writable:!0}):P[F]=K}p.exports=S}),Ze=h((u,p)=>{var _=At(),S=y();function P(F,K,Y){(Y!==void 0&&!S(F[K],Y)||Y===void 0&&!(K in F))&&_(F,K,Y)}p.exports=P}),Zt=h((u,p)=>{function _(S){return function(P,F,K){for(var Y=-1,ge=Object(P),ve=K(P),Ve=ve.length;Ve--;){var je=ve[S?Ve:++Y];if(F(ge[je],je,ge)===!1)break}return P}}p.exports=_}),nt=h((u,p)=>{var _=Zt(),S=_();p.exports=S}),mt=h((u,p)=>{var _=ee(),S=typeof u=="object"&&u&&!u.nodeType&&u,P=S&&typeof p=="object"&&p&&!p.nodeType&&p,F=P&&P.exports===S,K=F?_.Buffer:void 0,Y=K?K.allocUnsafe:void 0;function ge(ve,Ve){if(Ve)return ve.slice();var je=ve.length,vt=Y?Y(je):new ve.constructor(je);return ve.copy(vt),vt}p.exports=ge}),wt=h((u,p)=>{var _=ee(),S=_.Uint8Array;p.exports=S}),Et=h((u,p)=>{var _=wt();function S(P){var F=new P.constructor(P.byteLength);return new _(F).set(new _(P)),F}p.exports=S}),Xt=h((u,p)=>{var _=Et();function S(P,F){var K=F?_(P.buffer):P.buffer;return new P.constructor(K,P.byteOffset,P.length)}p.exports=S}),nn=h((u,p)=>{function _(S,P){var F=-1,K=S.length;for(P||(P=Array(K));++F<K;)P[F]=S[F];return P}p.exports=_}),dn=h((u,p)=>{var _=q(),S=Object.create,P=(function(){function F(){}return function(K){if(!_(K))return{};if(S)return S(K);F.prototype=K;var Y=new F;return F.prototype=void 0,Y}})();p.exports=P}),Dt=h((u,p)=>{function _(S,P){return function(F){return S(P(F))}}p.exports=_}),Jt=h((u,p)=>{var _=Dt(),S=_(Object.getPrototypeOf,Object);p.exports=S}),Ft=h((u,p)=>{var _=Object.prototype;function S(P){var F=P&&P.constructor,K=typeof F=="function"&&F.prototype||_;return P===K}p.exports=S}),ht=h((u,p)=>{var _=dn(),S=Jt(),P=Ft();function F(K){return typeof K.constructor=="function"&&!P(K)?_(S(K)):{}}p.exports=F}),Mt=h((u,p)=>{function _(S){return S!=null&&typeof S=="object"}p.exports=_}),tn=h((u,p)=>{var _=oe(),S=Mt(),P="[object Arguments]";function F(K){return S(K)&&_(K)==P}p.exports=F}),fn=h((u,p)=>{var _=tn(),S=Mt(),P=Object.prototype,F=P.hasOwnProperty,K=P.propertyIsEnumerable,Y=_((function(){return arguments})())?_:function(ge){return S(ge)&&F.call(ge,"callee")&&!K.call(ge,"callee")};p.exports=Y}),Tt=h((u,p)=>{var _=Array.isArray;p.exports=_}),zt=h((u,p)=>{var _=9007199254740991;function S(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=_}p.exports=S}),jt=h((u,p)=>{var _=Z(),S=zt();function P(F){return F!=null&&S(F.length)&&!_(F)}p.exports=P}),ln=h((u,p)=>{var _=jt(),S=Mt();function P(F){return S(F)&&_(F)}p.exports=P}),an=h((u,p)=>{function _(){return!1}p.exports=_}),hn=h((u,p)=>{var _=ee(),S=an(),P=typeof u=="object"&&u&&!u.nodeType&&u,F=P&&typeof p=="object"&&p&&!p.nodeType&&p,K=F&&F.exports===P,Y=K?_.Buffer:void 0,ge=Y?Y.isBuffer:void 0,ve=ge||S;p.exports=ve}),Bn=h((u,p)=>{var _=oe(),S=Jt(),P=Mt(),F="[object Object]",K=Function.prototype,Y=Object.prototype,ge=K.toString,ve=Y.hasOwnProperty,Ve=ge.call(Object);function je(vt){if(!P(vt)||_(vt)!=F)return!1;var St=S(vt);if(St===null)return!0;var qt=ve.call(St,"constructor")&&St.constructor;return typeof qt=="function"&&qt instanceof qt&&ge.call(qt)==Ve}p.exports=je}),Rt=h((u,p)=>{var _=oe(),S=zt(),P=Mt(),F="[object Arguments]",K="[object Array]",Y="[object Boolean]",ge="[object Date]",ve="[object Error]",Ve="[object Function]",je="[object Map]",vt="[object Number]",St="[object Object]",qt="[object RegExp]",un="[object Set]",vn="[object String]",Zn="[object WeakMap]",He="[object ArrayBuffer]",Ke="[object DataView]",rt="[object Float32Array]",yt="[object Float64Array]",lt="[object Int8Array]",Ct="[object Int16Array]",pe="[object Int32Array]",Se="[object Uint8Array]",Me="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ae="[object Uint32Array]",Re={};Re[rt]=Re[yt]=Re[lt]=Re[Ct]=Re[pe]=Re[Se]=Re[Me]=Re[Pe]=Re[Ae]=!0,Re[F]=Re[K]=Re[He]=Re[Y]=Re[Ke]=Re[ge]=Re[ve]=Re[Ve]=Re[je]=Re[vt]=Re[St]=Re[qt]=Re[un]=Re[vn]=Re[Zn]=!1;function Je(Xe){return P(Xe)&&S(Xe.length)&&!!Re[_(Xe)]}p.exports=Je}),Gt=h((u,p)=>{function _(S){return function(P){return S(P)}}p.exports=_}),gn=h((u,p)=>{var _=G(),S=typeof u=="object"&&u&&!u.nodeType&&u,P=S&&typeof p=="object"&&p&&!p.nodeType&&p,F=P&&P.exports===S,K=F&&_.process,Y=(function(){try{var ge=P&&P.require&&P.require("util").types;return ge||K&&K.binding&&K.binding("util")}catch{}})();p.exports=Y}),An=h((u,p)=>{var _=Rt(),S=Gt(),P=gn(),F=P&&P.isTypedArray,K=F?S(F):_;p.exports=K}),Dn=h((u,p)=>{function _(S,P){if(!(P==="constructor"&&typeof S[P]=="function")&&P!="__proto__")return S[P]}p.exports=_}),Kt=h((u,p)=>{var _=At(),S=y(),P=Object.prototype,F=P.hasOwnProperty;function K(Y,ge,ve){var Ve=Y[ge];(!(F.call(Y,ge)&&S(Ve,ve))||ve===void 0&&!(ge in Y))&&_(Y,ge,ve)}p.exports=K}),dr=h((u,p)=>{var _=Kt(),S=At();function P(F,K,Y,ge){var ve=!Y;Y||(Y={});for(var Ve=-1,je=K.length;++Ve<je;){var vt=K[Ve],St=ge?ge(Y[vt],F[vt],vt,Y,F):void 0;St===void 0&&(St=F[vt]),ve?S(Y,vt,St):_(Y,vt,St)}return Y}p.exports=P}),mn=h((u,p)=>{function _(S,P){for(var F=-1,K=Array(S);++F<S;)K[F]=P(F);return K}p.exports=_}),br=h((u,p)=>{var _=9007199254740991,S=/^(?:0|[1-9]\d*)$/;function P(F,K){var Y=typeof F;return K=K??_,!!K&&(Y=="number"||Y!="symbol"&&S.test(F))&&F>-1&&F%1==0&&F<K}p.exports=P}),Un=h((u,p)=>{var _=mn(),S=fn(),P=Tt(),F=hn(),K=br(),Y=An(),ge=Object.prototype,ve=ge.hasOwnProperty;function Ve(je,vt){var St=P(je),qt=!St&&S(je),un=!St&&!qt&&F(je),vn=!St&&!qt&&!un&&Y(je),Zn=St||qt||un||vn,He=Zn?_(je.length,String):[],Ke=He.length;for(var rt in je)(vt||ve.call(je,rt))&&!(Zn&&(rt=="length"||un&&(rt=="offset"||rt=="parent")||vn&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||K(rt,Ke)))&&He.push(rt);return He}p.exports=Ve}),ur=h((u,p)=>{function _(S){var P=[];if(S!=null)for(var F in Object(S))P.push(F);return P}p.exports=_}),Tr=h((u,p)=>{var _=q(),S=Ft(),P=ur(),F=Object.prototype,K=F.hasOwnProperty;function Y(ge){if(!_(ge))return P(ge);var ve=S(ge),Ve=[];for(var je in ge)je=="constructor"&&(ve||!K.call(ge,je))||Ve.push(je);return Ve}p.exports=Y}),zn=h((u,p)=>{var _=Un(),S=Tr(),P=jt();function F(K){return P(K)?_(K,!0):S(K)}p.exports=F}),cn=h((u,p)=>{var _=dr(),S=zn();function P(F){return _(F,S(F))}p.exports=P}),Pr=h((u,p)=>{var _=Ze(),S=mt(),P=Xt(),F=nn(),K=ht(),Y=fn(),ge=Tt(),ve=ln(),Ve=hn(),je=Z(),vt=q(),St=Bn(),qt=An(),un=Dn(),vn=cn();function Zn(He,Ke,rt,yt,lt,Ct,pe){var Se=un(He,rt),Me=un(Ke,rt),Pe=pe.get(Me);if(Pe){_(He,rt,Pe);return}var Ae=Ct?Ct(Se,Me,rt+"",He,Ke,pe):void 0,Re=Ae===void 0;if(Re){var Je=ge(Me),Xe=!Je&&Ve(Me),at=!Je&&!Xe&&qt(Me);Ae=Me,Je||Xe||at?ge(Se)?Ae=Se:ve(Se)?Ae=F(Se):Xe?(Re=!1,Ae=S(Me,!0)):at?(Re=!1,Ae=P(Me,!0)):Ae=[]:St(Me)||Y(Me)?(Ae=Se,Y(Se)?Ae=vn(Se):(!vt(Se)||je(Se))&&(Ae=K(Me))):Re=!1}Re&&(pe.set(Me,Ae),lt(Ae,Me,yt,Ct,pe),pe.delete(Me)),_(He,rt,Ae)}p.exports=Zn}),Ri=h((u,p)=>{var _=tt(),S=Ze(),P=nt(),F=Pr(),K=q(),Y=zn(),ge=Dn();function ve(Ve,je,vt,St,qt){Ve!==je&&P(je,function(un,vn){if(qt||(qt=new _),K(un))F(Ve,je,vn,vt,ve,St,qt);else{var Zn=St?St(ge(Ve,vn),un,vn+"",Ve,je,qt):void 0;Zn===void 0&&(Zn=un),S(Ve,vn,Zn)}},Y)}p.exports=ve}),Nn=h((u,p)=>{function _(S){return S}p.exports=_}),Gn=h((u,p)=>{function _(S,P,F){switch(F.length){case 0:return S.call(P);case 1:return S.call(P,F[0]);case 2:return S.call(P,F[0],F[1]);case 3:return S.call(P,F[0],F[1],F[2])}return S.apply(P,F)}p.exports=_}),wn=h((u,p)=>{var _=Gn(),S=Math.max;function P(F,K,Y){return K=S(K===void 0?F.length-1:K,0),function(){for(var ge=arguments,ve=-1,Ve=S(ge.length-K,0),je=Array(Ve);++ve<Ve;)je[ve]=ge[K+ve];ve=-1;for(var vt=Array(K+1);++ve<K;)vt[ve]=ge[ve];return vt[K]=Y(je),_(F,this,vt)}}p.exports=P}),nr=h((u,p)=>{function _(S){return function(){return S}}p.exports=_}),sr=h((u,p)=>{var _=nr(),S=kt(),P=Nn(),F=S?function(K,Y){return S(K,"toString",{configurable:!0,enumerable:!1,value:_(Y),writable:!0})}:P;p.exports=F}),fr=h((u,p)=>{var _=800,S=16,P=Date.now;function F(K){var Y=0,ge=0;return function(){var ve=P(),Ve=S-(ve-ge);if(ge=ve,Ve>0){if(++Y>=_)return arguments[0]}else Y=0;return K.apply(void 0,arguments)}}p.exports=F}),wr=h((u,p)=>{var _=sr(),S=fr(),P=S(_);p.exports=P}),Nr=h((u,p)=>{var _=Nn(),S=wn(),P=wr();function F(K,Y){return P(S(K,Y,_),K+"")}p.exports=F}),Si=h((u,p)=>{var _=y(),S=jt(),P=br(),F=q();function K(Y,ge,ve){if(!F(ve))return!1;var Ve=typeof ge;return(Ve=="number"?S(ve)&&P(ge,ve.length):Ve=="string"&&ge in ve)?_(ve[ge],Y):!1}p.exports=K}),yi=h((u,p)=>{var _=Nr(),S=Si();function P(F){return _(function(K,Y){var ge=-1,ve=Y.length,Ve=ve>1?Y[ve-1]:void 0,je=ve>2?Y[2]:void 0;for(Ve=F.length>3&&typeof Ve=="function"?(ve--,Ve):void 0,je&&S(Y[0],Y[1],je)&&(Ve=ve<3?void 0:Ve,ve=1),K=Object(K);++ge<ve;){var vt=Y[ge];vt&&F(K,vt,ge,Ve)}return K})}p.exports=P}),mr=h((u,p)=>{var _=Ri(),S=yi(),P=S(function(F,K,Y){_(F,K,Y)});p.exports=P}),Hi=h((u,p)=>{var _=oe(),S=Mt(),P="[object Symbol]";function F(K){return typeof K=="symbol"||S(K)&&_(K)==P}p.exports=F}),Jn=h((u,p)=>{var _=Tt(),S=Hi(),P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/;function K(Y,ge){if(_(Y))return!1;var ve=typeof Y;return ve=="number"||ve=="symbol"||ve=="boolean"||Y==null||S(Y)?!0:F.test(Y)||!P.test(Y)||ge!=null&&Y in Object(ge)}p.exports=K}),xn=h((u,p)=>{var _=ft(),S="Expected a function";function P(F,K){if(typeof F!="function"||K!=null&&typeof K!="function")throw new TypeError(S);var Y=function(){var ge=arguments,ve=K?K.apply(this,ge):ge[0],Ve=Y.cache;if(Ve.has(ve))return Ve.get(ve);var je=F.apply(this,ge);return Y.cache=Ve.set(ve,je)||Ve,je};return Y.cache=new(P.Cache||_),Y}P.Cache=_,p.exports=P}),rr=h((u,p)=>{var _=xn(),S=500;function P(F){var K=_(F,function(ge){return Y.size===S&&Y.clear(),ge}),Y=K.cache;return K}p.exports=P}),pr=h((u,p)=>{var _=rr(),S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,F=_(function(K){var Y=[];return K.charCodeAt(0)===46&&Y.push(""),K.replace(S,function(ge,ve,Ve,je){Y.push(Ve?je.replace(P,"$1"):ve||ge)}),Y});p.exports=F}),gr=h((u,p)=>{function _(S,P){for(var F=-1,K=S==null?0:S.length,Y=Array(K);++F<K;)Y[F]=P(S[F],F,S);return Y}p.exports=_}),_i=h((u,p)=>{var _=te(),S=gr(),P=Tt(),F=Hi(),K=_?_.prototype:void 0,Y=K?K.toString:void 0;function ge(ve){if(typeof ve=="string")return ve;if(P(ve))return S(ve,ge)+"";if(F(ve))return Y?Y.call(ve):"";var Ve=ve+"";return Ve=="0"&&1/ve==-1/0?"-0":Ve}p.exports=ge}),Sn=h((u,p)=>{var _=_i();function S(P){return P==null?"":_(P)}p.exports=S}),kn=h((u,p)=>{var _=Tt(),S=Jn(),P=pr(),F=Sn();function K(Y,ge){return _(Y)?Y:S(Y,ge)?[Y]:P(F(Y))}p.exports=K}),Xn=h((u,p)=>{var _=Hi();function S(P){if(typeof P=="string"||_(P))return P;var F=P+"";return F=="0"&&1/P==-1/0?"-0":F}p.exports=S}),Gr=h((u,p)=>{var _=kn(),S=Xn();function P(F,K){K=_(K,F);for(var Y=0,ge=K.length;F!=null&&Y<ge;)F=F[S(K[Y++])];return Y&&Y==ge?F:void 0}p.exports=P}),$r=h((u,p)=>{var _=Gr();function S(P,F,K){var Y=P==null?void 0:_(P,F);return Y===void 0?K:Y}p.exports=S}),Fn=h((u,p)=>{(function(_,S){typeof u=="object"&&typeof p<"u"?p.exports=S():(_=_||self).RBush=S()})(u,function(){function _(He,Ke,rt,yt,lt){(function Ct(pe,Se,Me,Pe,Ae){for(;Pe>Me;){if(Pe-Me>600){var Re=Pe-Me+1,Je=Se-Me+1,Xe=Math.log(Re),at=.5*Math.exp(2*Xe/3),gt=.5*Math.sqrt(Xe*at*(Re-at)/Re)*(Je-Re/2<0?-1:1),ut=Math.max(Me,Math.floor(Se-Je*at/Re+gt)),Ut=Math.min(Pe,Math.floor(Se+(Re-Je)*at/Re+gt));Ct(pe,Se,ut,Ut,Ae)}var yn=pe[Se],Ln=Me,In=Pe;for(S(pe,Me,Se),Ae(pe[Pe],yn)>0&&S(pe,Me,Pe);Ln<In;){for(S(pe,Ln,In),Ln++,In--;Ae(pe[Ln],yn)<0;)Ln++;for(;Ae(pe[In],yn)>0;)In--}Ae(pe[Me],yn)===0?S(pe,Me,In):S(pe,++In,Pe),In<=Se&&(Me=In+1),Se<=In&&(Pe=In-1)}})(He,Ke,rt||0,yt||He.length-1,lt||P)}function S(He,Ke,rt){var yt=He[Ke];He[Ke]=He[rt],He[rt]=yt}function P(He,Ke){return He<Ke?-1:He>Ke?1:0}var F=function(He){He===void 0&&(He=9),this._maxEntries=Math.max(4,He),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function K(He,Ke,rt){if(!rt)return Ke.indexOf(He);for(var yt=0;yt<Ke.length;yt++)if(rt(He,Ke[yt]))return yt;return-1}function Y(He,Ke){ge(He,0,He.children.length,Ke,He)}function ge(He,Ke,rt,yt,lt){lt||(lt=vn(null)),lt.minX=1/0,lt.minY=1/0,lt.maxX=-1/0,lt.maxY=-1/0;for(var Ct=Ke;Ct<rt;Ct++){var pe=He.children[Ct];ve(lt,He.leaf?yt(pe):pe)}return lt}function ve(He,Ke){return He.minX=Math.min(He.minX,Ke.minX),He.minY=Math.min(He.minY,Ke.minY),He.maxX=Math.max(He.maxX,Ke.maxX),He.maxY=Math.max(He.maxY,Ke.maxY),He}function Ve(He,Ke){return He.minX-Ke.minX}function je(He,Ke){return He.minY-Ke.minY}function vt(He){return(He.maxX-He.minX)*(He.maxY-He.minY)}function St(He){return He.maxX-He.minX+(He.maxY-He.minY)}function qt(He,Ke){return He.minX<=Ke.minX&&He.minY<=Ke.minY&&Ke.maxX<=He.maxX&&Ke.maxY<=He.maxY}function un(He,Ke){return Ke.minX<=He.maxX&&Ke.minY<=He.maxY&&Ke.maxX>=He.minX&&Ke.maxY>=He.minY}function vn(He){return{children:He,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Zn(He,Ke,rt,yt,lt){for(var Ct=[Ke,rt];Ct.length;)if(!((rt=Ct.pop())-(Ke=Ct.pop())<=yt)){var pe=Ke+Math.ceil((rt-Ke)/yt/2)*yt;_(He,pe,Ke,rt,lt),Ct.push(Ke,pe,pe,rt)}}return F.prototype.all=function(){return this._all(this.data,[])},F.prototype.search=function(He){var Ke=this.data,rt=[];if(!un(He,Ke))return rt;for(var yt=this.toBBox,lt=[];Ke;){for(var Ct=0;Ct<Ke.children.length;Ct++){var pe=Ke.children[Ct],Se=Ke.leaf?yt(pe):pe;un(He,Se)&&(Ke.leaf?rt.push(pe):qt(He,Se)?this._all(pe,rt):lt.push(pe))}Ke=lt.pop()}return rt},F.prototype.collides=function(He){var Ke=this.data;if(!un(He,Ke))return!1;for(var rt=[];Ke;){for(var yt=0;yt<Ke.children.length;yt++){var lt=Ke.children[yt],Ct=Ke.leaf?this.toBBox(lt):lt;if(un(He,Ct)){if(Ke.leaf||qt(He,Ct))return!0;rt.push(lt)}}Ke=rt.pop()}return!1},F.prototype.load=function(He){if(!He||!He.length)return this;if(He.length<this._minEntries){for(var Ke=0;Ke<He.length;Ke++)this.insert(He[Ke]);return this}var rt=this._build(He.slice(),0,He.length-1,0);if(this.data.children.length)if(this.data.height===rt.height)this._splitRoot(this.data,rt);else{if(this.data.height<rt.height){var yt=this.data;this.data=rt,rt=yt}this._insert(rt,this.data.height-rt.height-1,!0)}else this.data=rt;return this},F.prototype.insert=function(He){return He&&this._insert(He,this.data.height-1),this},F.prototype.clear=function(){return this.data=vn([]),this},F.prototype.remove=function(He,Ke){if(!He)return this;for(var rt,yt,lt,Ct=this.data,pe=this.toBBox(He),Se=[],Me=[];Ct||Se.length;){if(Ct||(Ct=Se.pop(),yt=Se[Se.length-1],rt=Me.pop(),lt=!0),Ct.leaf){var Pe=K(He,Ct.children,Ke);if(Pe!==-1)return Ct.children.splice(Pe,1),Se.push(Ct),this._condense(Se),this}lt||Ct.leaf||!qt(Ct,pe)?yt?(rt++,Ct=yt.children[rt],lt=!1):Ct=null:(Se.push(Ct),Me.push(rt),rt=0,yt=Ct,Ct=Ct.children[0])}return this},F.prototype.toBBox=function(He){return He},F.prototype.compareMinX=function(He,Ke){return He.minX-Ke.minX},F.prototype.compareMinY=function(He,Ke){return He.minY-Ke.minY},F.prototype.toJSON=function(){return this.data},F.prototype.fromJSON=function(He){return this.data=He,this},F.prototype._all=function(He,Ke){for(var rt=[];He;)He.leaf?Ke.push.apply(Ke,He.children):rt.push.apply(rt,He.children),He=rt.pop();return Ke},F.prototype._build=function(He,Ke,rt,yt){var lt,Ct=rt-Ke+1,pe=this._maxEntries;if(Ct<=pe)return Y(lt=vn(He.slice(Ke,rt+1)),this.toBBox),lt;yt||(yt=Math.ceil(Math.log(Ct)/Math.log(pe)),pe=Math.ceil(Ct/Math.pow(pe,yt-1))),(lt=vn([])).leaf=!1,lt.height=yt;var Se=Math.ceil(Ct/pe),Me=Se*Math.ceil(Math.sqrt(pe));Zn(He,Ke,rt,Me,this.compareMinX);for(var Pe=Ke;Pe<=rt;Pe+=Me){var Ae=Math.min(Pe+Me-1,rt);Zn(He,Pe,Ae,Se,this.compareMinY);for(var Re=Pe;Re<=Ae;Re+=Se){var Je=Math.min(Re+Se-1,Ae);lt.children.push(this._build(He,Re,Je,yt-1))}}return Y(lt,this.toBBox),lt},F.prototype._chooseSubtree=function(He,Ke,rt,yt){for(;yt.push(Ke),!Ke.leaf&&yt.length-1!==rt;){for(var lt=1/0,Ct=1/0,pe=void 0,Se=0;Se<Ke.children.length;Se++){var Me=Ke.children[Se],Pe=vt(Me),Ae=(Re=He,Je=Me,(Math.max(Je.maxX,Re.maxX)-Math.min(Je.minX,Re.minX))*(Math.max(Je.maxY,Re.maxY)-Math.min(Je.minY,Re.minY))-Pe);Ae<Ct?(Ct=Ae,lt=Pe<lt?Pe:lt,pe=Me):Ae===Ct&&Pe<lt&&(lt=Pe,pe=Me)}Ke=pe||Ke.children[0]}var Re,Je;return Ke},F.prototype._insert=function(He,Ke,rt){var yt=rt?He:this.toBBox(He),lt=[],Ct=this._chooseSubtree(yt,this.data,Ke,lt);for(Ct.children.push(He),ve(Ct,yt);Ke>=0&&lt[Ke].children.length>this._maxEntries;)this._split(lt,Ke),Ke--;this._adjustParentBBoxes(yt,lt,Ke)},F.prototype._split=function(He,Ke){var rt=He[Ke],yt=rt.children.length,lt=this._minEntries;this._chooseSplitAxis(rt,lt,yt);var Ct=this._chooseSplitIndex(rt,lt,yt),pe=vn(rt.children.splice(Ct,rt.children.length-Ct));pe.height=rt.height,pe.leaf=rt.leaf,Y(rt,this.toBBox),Y(pe,this.toBBox),Ke?He[Ke-1].children.push(pe):this._splitRoot(rt,pe)},F.prototype._splitRoot=function(He,Ke){this.data=vn([He,Ke]),this.data.height=He.height+1,this.data.leaf=!1,Y(this.data,this.toBBox)},F.prototype._chooseSplitIndex=function(He,Ke,rt){for(var yt,lt,Ct,pe,Se,Me,Pe,Ae=1/0,Re=1/0,Je=Ke;Je<=rt-Ke;Je++){var Xe=ge(He,0,Je,this.toBBox),at=ge(He,Je,rt,this.toBBox),gt=(lt=Xe,Ct=at,pe=void 0,Se=void 0,Me=void 0,Pe=void 0,pe=Math.max(lt.minX,Ct.minX),Se=Math.max(lt.minY,Ct.minY),Me=Math.min(lt.maxX,Ct.maxX),Pe=Math.min(lt.maxY,Ct.maxY),Math.max(0,Me-pe)*Math.max(0,Pe-Se)),ut=vt(Xe)+vt(at);gt<Ae?(Ae=gt,yt=Je,Re=ut<Re?ut:Re):gt===Ae&&ut<Re&&(Re=ut,yt=Je)}return yt||rt-Ke},F.prototype._chooseSplitAxis=function(He,Ke,rt){var yt=He.leaf?this.compareMinX:Ve,lt=He.leaf?this.compareMinY:je;this._allDistMargin(He,Ke,rt,yt)<this._allDistMargin(He,Ke,rt,lt)&&He.children.sort(yt)},F.prototype._allDistMargin=function(He,Ke,rt,yt){He.children.sort(yt);for(var lt=this.toBBox,Ct=ge(He,0,Ke,lt),pe=ge(He,rt-Ke,rt,lt),Se=St(Ct)+St(pe),Me=Ke;Me<rt-Ke;Me++){var Pe=He.children[Me];ve(Ct,He.leaf?lt(Pe):Pe),Se+=St(Ct)}for(var Ae=rt-Ke-1;Ae>=Ke;Ae--){var Re=He.children[Ae];ve(pe,He.leaf?lt(Re):Re),Se+=St(pe)}return Se},F.prototype._adjustParentBBoxes=function(He,Ke,rt){for(var yt=rt;yt>=0;yt--)ve(Ke[yt],He)},F.prototype._condense=function(He){for(var Ke=He.length-1,rt=void 0;Ke>=0;Ke--)He[Ke].children.length===0?Ke>0?(rt=He[Ke-1].children).splice(rt.indexOf(He[Ke]),1):this.clear():Y(He[Ke],this.toBBox)},F})}),xr=h(u=>{Object.defineProperty(u,"__esModule",{value:!0}),u.earthRadius=63710088e-1,u.factors={centimeters:u.earthRadius*100,centimetres:u.earthRadius*100,degrees:u.earthRadius/111325,feet:u.earthRadius*3.28084,inches:u.earthRadius*39.37,kilometers:u.earthRadius/1e3,kilometres:u.earthRadius/1e3,meters:u.earthRadius,metres:u.earthRadius,miles:u.earthRadius/1609.344,millimeters:u.earthRadius*1e3,millimetres:u.earthRadius*1e3,nauticalmiles:u.earthRadius/1852,radians:1,yards:u.earthRadius*1.0936},u.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/u.earthRadius,yards:1.0936133},u.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function p(Pe,Ae,Re){Re===void 0&&(Re={});var Je={type:"Feature"};return(Re.id===0||Re.id)&&(Je.id=Re.id),Re.bbox&&(Je.bbox=Re.bbox),Je.properties=Ae||{},Je.geometry=Pe,Je}u.feature=p;function _(Pe,Ae,Re){switch(Pe){case"Point":return S(Ae).geometry;case"LineString":return Y(Ae).geometry;case"Polygon":return F(Ae).geometry;case"MultiPoint":return je(Ae).geometry;case"MultiLineString":return Ve(Ae).geometry;case"MultiPolygon":return vt(Ae).geometry;default:throw new Error(Pe+" is invalid")}}u.geometry=_;function S(Pe,Ae,Re){if(Re===void 0&&(Re={}),!Pe)throw new Error("coordinates is required");if(!Array.isArray(Pe))throw new Error("coordinates must be an Array");if(Pe.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ct(Pe[0])||!Ct(Pe[1]))throw new Error("coordinates must contain numbers");var Je={type:"Point",coordinates:Pe};return p(Je,Ae,Re)}u.point=S;function P(Pe,Ae,Re){return Re===void 0&&(Re={}),ve(Pe.map(function(Je){return S(Je,Ae)}),Re)}u.points=P;function F(Pe,Ae,Re){Re===void 0&&(Re={});for(var Je=0,Xe=Pe;Je<Xe.length;Je++){var at=Xe[Je];if(at.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var gt=0;gt<at[at.length-1].length;gt++)if(at[at.length-1][gt]!==at[0][gt])throw new Error("First and last Position are not equivalent.")}var ut={type:"Polygon",coordinates:Pe};return p(ut,Ae,Re)}u.polygon=F;function K(Pe,Ae,Re){return Re===void 0&&(Re={}),ve(Pe.map(function(Je){return F(Je,Ae)}),Re)}u.polygons=K;function Y(Pe,Ae,Re){if(Re===void 0&&(Re={}),Pe.length<2)throw new Error("coordinates must be an array of two or more positions");var Je={type:"LineString",coordinates:Pe};return p(Je,Ae,Re)}u.lineString=Y;function ge(Pe,Ae,Re){return Re===void 0&&(Re={}),ve(Pe.map(function(Je){return Y(Je,Ae)}),Re)}u.lineStrings=ge;function ve(Pe,Ae){Ae===void 0&&(Ae={});var Re={type:"FeatureCollection"};return Ae.id&&(Re.id=Ae.id),Ae.bbox&&(Re.bbox=Ae.bbox),Re.features=Pe,Re}u.featureCollection=ve;function Ve(Pe,Ae,Re){Re===void 0&&(Re={});var Je={type:"MultiLineString",coordinates:Pe};return p(Je,Ae,Re)}u.multiLineString=Ve;function je(Pe,Ae,Re){Re===void 0&&(Re={});var Je={type:"MultiPoint",coordinates:Pe};return p(Je,Ae,Re)}u.multiPoint=je;function vt(Pe,Ae,Re){Re===void 0&&(Re={});var Je={type:"MultiPolygon",coordinates:Pe};return p(Je,Ae,Re)}u.multiPolygon=vt;function St(Pe,Ae,Re){Re===void 0&&(Re={});var Je={type:"GeometryCollection",geometries:Pe};return p(Je,Ae,Re)}u.geometryCollection=St;function qt(Pe,Ae){if(Ae===void 0&&(Ae=0),Ae&&!(Ae>=0))throw new Error("precision must be a positive number");var Re=Math.pow(10,Ae||0);return Math.round(Pe*Re)/Re}u.round=qt;function un(Pe,Ae){Ae===void 0&&(Ae="kilometers");var Re=u.factors[Ae];if(!Re)throw new Error(Ae+" units is invalid");return Pe*Re}u.radiansToLength=un;function vn(Pe,Ae){Ae===void 0&&(Ae="kilometers");var Re=u.factors[Ae];if(!Re)throw new Error(Ae+" units is invalid");return Pe/Re}u.lengthToRadians=vn;function Zn(Pe,Ae){return Ke(vn(Pe,Ae))}u.lengthToDegrees=Zn;function He(Pe){var Ae=Pe%360;return Ae<0&&(Ae+=360),Ae}u.bearingToAzimuth=He;function Ke(Pe){var Ae=Pe%(2*Math.PI);return Ae*180/Math.PI}u.radiansToDegrees=Ke;function rt(Pe){var Ae=Pe%360;return Ae*Math.PI/180}u.degreesToRadians=rt;function yt(Pe,Ae,Re){if(Ae===void 0&&(Ae="kilometers"),Re===void 0&&(Re="kilometers"),!(Pe>=0))throw new Error("length must be a positive number");return un(vn(Pe,Ae),Re)}u.convertLength=yt;function lt(Pe,Ae,Re){if(Ae===void 0&&(Ae="meters"),Re===void 0&&(Re="kilometers"),!(Pe>=0))throw new Error("area must be a positive number");var Je=u.areaFactors[Ae];if(!Je)throw new Error("invalid original units");var Xe=u.areaFactors[Re];if(!Xe)throw new Error("invalid final units");return Pe/Je*Xe}u.convertArea=lt;function Ct(Pe){return!isNaN(Pe)&&Pe!==null&&!Array.isArray(Pe)}u.isNumber=Ct;function pe(Pe){return!!Pe&&Pe.constructor===Object}u.isObject=pe;function Se(Pe){if(!Pe)throw new Error("bbox is required");if(!Array.isArray(Pe))throw new Error("bbox must be an Array");if(Pe.length!==4&&Pe.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");Pe.forEach(function(Ae){if(!Ct(Ae))throw new Error("bbox must only contain numbers")})}u.validateBBox=Se;function Me(Pe){if(!Pe)throw new Error("id is required");if(["string","number"].indexOf(typeof Pe)===-1)throw new Error("id must be a number or a string")}u.validateId=Me}),xa=h(u=>{Object.defineProperty(u,"__esModule",{value:!0});var p=xr();function _(Ke,rt,yt){if(Ke!==null)for(var lt,Ct,pe,Se,Me,Pe,Ae,Re=0,Je=0,Xe,at=Ke.type,gt=at==="FeatureCollection",ut=at==="Feature",Ut=gt?Ke.features.length:1,yn=0;yn<Ut;yn++){Ae=gt?Ke.features[yn].geometry:ut?Ke.geometry:Ke,Xe=Ae?Ae.type==="GeometryCollection":!1,Me=Xe?Ae.geometries.length:1;for(var Ln=0;Ln<Me;Ln++){var In=0,or=0;if(Se=Xe?Ae.geometries[Ln]:Ae,Se!==null){Pe=Se.coordinates;var Xr=Se.type;switch(Re=yt&&(Xr==="Polygon"||Xr==="MultiPolygon")?1:0,Xr){case null:break;case"Point":if(rt(Pe,Je,yn,In,or)===!1)return!1;Je++,In++;break;case"LineString":case"MultiPoint":for(lt=0;lt<Pe.length;lt++){if(rt(Pe[lt],Je,yn,In,or)===!1)return!1;Je++,Xr==="MultiPoint"&&In++}Xr==="LineString"&&In++;break;case"Polygon":case"MultiLineString":for(lt=0;lt<Pe.length;lt++){for(Ct=0;Ct<Pe[lt].length-Re;Ct++){if(rt(Pe[lt][Ct],Je,yn,In,or)===!1)return!1;Je++}Xr==="MultiLineString"&&In++,Xr==="Polygon"&&or++}Xr==="Polygon"&&In++;break;case"MultiPolygon":for(lt=0;lt<Pe.length;lt++){for(or=0,Ct=0;Ct<Pe[lt].length;Ct++){for(pe=0;pe<Pe[lt][Ct].length-Re;pe++){if(rt(Pe[lt][Ct][pe],Je,yn,In,or)===!1)return!1;Je++}or++}In++}break;case"GeometryCollection":for(lt=0;lt<Se.geometries.length;lt++)if(_(Se.geometries[lt],rt,yt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function S(Ke,rt,yt,lt){var Ct=yt;return _(Ke,function(pe,Se,Me,Pe,Ae){Se===0&&yt===void 0?Ct=pe:Ct=rt(Ct,pe,Se,Me,Pe,Ae)},lt),Ct}function P(Ke,rt){var yt;switch(Ke.type){case"FeatureCollection":for(yt=0;yt<Ke.features.length&&rt(Ke.features[yt].properties,yt)!==!1;yt++);break;case"Feature":rt(Ke.properties,0);break}}function F(Ke,rt,yt){var lt=yt;return P(Ke,function(Ct,pe){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe)}),lt}function K(Ke,rt){if(Ke.type==="Feature")rt(Ke,0);else if(Ke.type==="FeatureCollection")for(var yt=0;yt<Ke.features.length&&rt(Ke.features[yt],yt)!==!1;yt++);}function Y(Ke,rt,yt){var lt=yt;return K(Ke,function(Ct,pe){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe)}),lt}function ge(Ke){var rt=[];return _(Ke,function(yt){rt.push(yt)}),rt}function ve(Ke,rt){var yt,lt,Ct,pe,Se,Me,Pe,Ae,Re,Je,Xe=0,at=Ke.type==="FeatureCollection",gt=Ke.type==="Feature",ut=at?Ke.features.length:1;for(yt=0;yt<ut;yt++){for(Me=at?Ke.features[yt].geometry:gt?Ke.geometry:Ke,Ae=at?Ke.features[yt].properties:gt?Ke.properties:{},Re=at?Ke.features[yt].bbox:gt?Ke.bbox:void 0,Je=at?Ke.features[yt].id:gt?Ke.id:void 0,Pe=Me?Me.type==="GeometryCollection":!1,Se=Pe?Me.geometries.length:1,Ct=0;Ct<Se;Ct++){if(pe=Pe?Me.geometries[Ct]:Me,pe===null){if(rt(null,Xe,Ae,Re,Je)===!1)return!1;continue}switch(pe.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(rt(pe,Xe,Ae,Re,Je)===!1)return!1;break}case"GeometryCollection":{for(lt=0;lt<pe.geometries.length;lt++)if(rt(pe.geometries[lt],Xe,Ae,Re,Je)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}Xe++}}function Ve(Ke,rt,yt){var lt=yt;return ve(Ke,function(Ct,pe,Se,Me,Pe){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe,Se,Me,Pe)}),lt}function je(Ke,rt){ve(Ke,function(yt,lt,Ct,pe,Se){var Me=yt===null?null:yt.type;switch(Me){case null:case"Point":case"LineString":case"Polygon":return rt(p.feature(yt,Ct,{bbox:pe,id:Se}),lt,0)===!1?!1:void 0}var Pe;switch(Me){case"MultiPoint":Pe="Point";break;case"MultiLineString":Pe="LineString";break;case"MultiPolygon":Pe="Polygon";break}for(var Ae=0;Ae<yt.coordinates.length;Ae++){var Re=yt.coordinates[Ae],Je={type:Pe,coordinates:Re};if(rt(p.feature(Je,Ct),lt,Ae)===!1)return!1}})}function vt(Ke,rt,yt){var lt=yt;return je(Ke,function(Ct,pe,Se){pe===0&&Se===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe,Se)}),lt}function St(Ke,rt){je(Ke,function(yt,lt,Ct){var pe=0;if(yt.geometry){var Se=yt.geometry.type;if(!(Se==="Point"||Se==="MultiPoint")){var Me,Pe=0,Ae=0,Re=0;if(_(yt,function(Je,Xe,at,gt,ut){if(Me===void 0||lt>Pe||gt>Ae||ut>Re){Me=Je,Pe=lt,Ae=gt,Re=ut,pe=0;return}var Ut=p.lineString([Me,Je],yt.properties);if(rt(Ut,lt,Ct,ut,pe)===!1)return!1;pe++,Me=Je})===!1)return!1}}})}function qt(Ke,rt,yt){var lt=yt,Ct=!1;return St(Ke,function(pe,Se,Me,Pe,Ae){Ct===!1&&yt===void 0?lt=pe:lt=rt(lt,pe,Se,Me,Pe,Ae),Ct=!0}),lt}function un(Ke,rt){if(!Ke)throw new Error("geojson is required");je(Ke,function(yt,lt,Ct){if(yt.geometry!==null){var pe=yt.geometry.type,Se=yt.geometry.coordinates;switch(pe){case"LineString":if(rt(yt,lt,Ct,0,0)===!1)return!1;break;case"Polygon":for(var Me=0;Me<Se.length;Me++)if(rt(p.lineString(Se[Me],yt.properties),lt,Ct,Me)===!1)return!1;break}}})}function vn(Ke,rt,yt){var lt=yt;return un(Ke,function(Ct,pe,Se,Me){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe,Se,Me)}),lt}function Zn(Ke,rt){if(rt=rt||{},!p.isObject(rt))throw new Error("options is invalid");var yt=rt.featureIndex||0,lt=rt.multiFeatureIndex||0,Ct=rt.geometryIndex||0,pe=rt.segmentIndex||0,Se=rt.properties,Me;switch(Ke.type){case"FeatureCollection":yt<0&&(yt=Ke.features.length+yt),Se=Se||Ke.features[yt].properties,Me=Ke.features[yt].geometry;break;case"Feature":Se=Se||Ke.properties,Me=Ke.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Me=Ke;break;default:throw new Error("geojson is invalid")}if(Me===null)return null;var Pe=Me.coordinates;switch(Me.type){case"Point":case"MultiPoint":return null;case"LineString":return pe<0&&(pe=Pe.length+pe-1),p.lineString([Pe[pe],Pe[pe+1]],Se,rt);case"Polygon":return Ct<0&&(Ct=Pe.length+Ct),pe<0&&(pe=Pe[Ct].length+pe-1),p.lineString([Pe[Ct][pe],Pe[Ct][pe+1]],Se,rt);case"MultiLineString":return lt<0&&(lt=Pe.length+lt),pe<0&&(pe=Pe[lt].length+pe-1),p.lineString([Pe[lt][pe],Pe[lt][pe+1]],Se,rt);case"MultiPolygon":return lt<0&&(lt=Pe.length+lt),Ct<0&&(Ct=Pe[lt].length+Ct),pe<0&&(pe=Pe[lt][Ct].length-pe-1),p.lineString([Pe[lt][Ct][pe],Pe[lt][Ct][pe+1]],Se,rt)}throw new Error("geojson is invalid")}function He(Ke,rt){if(rt=rt||{},!p.isObject(rt))throw new Error("options is invalid");var yt=rt.featureIndex||0,lt=rt.multiFeatureIndex||0,Ct=rt.geometryIndex||0,pe=rt.coordIndex||0,Se=rt.properties,Me;switch(Ke.type){case"FeatureCollection":yt<0&&(yt=Ke.features.length+yt),Se=Se||Ke.features[yt].properties,Me=Ke.features[yt].geometry;break;case"Feature":Se=Se||Ke.properties,Me=Ke.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Me=Ke;break;default:throw new Error("geojson is invalid")}if(Me===null)return null;var Pe=Me.coordinates;switch(Me.type){case"Point":return p.point(Pe,Se,rt);case"MultiPoint":return lt<0&&(lt=Pe.length+lt),p.point(Pe[lt],Se,rt);case"LineString":return pe<0&&(pe=Pe.length+pe),p.point(Pe[pe],Se,rt);case"Polygon":return Ct<0&&(Ct=Pe.length+Ct),pe<0&&(pe=Pe[Ct].length+pe),p.point(Pe[Ct][pe],Se,rt);case"MultiLineString":return lt<0&&(lt=Pe.length+lt),pe<0&&(pe=Pe[lt].length+pe),p.point(Pe[lt][pe],Se,rt);case"MultiPolygon":return lt<0&&(lt=Pe.length+lt),Ct<0&&(Ct=Pe[lt].length+Ct),pe<0&&(pe=Pe[lt][Ct].length-pe),p.point(Pe[lt][Ct][pe],Se,rt)}throw new Error("geojson is invalid")}u.coordAll=ge,u.coordEach=_,u.coordReduce=S,u.featureEach=K,u.featureReduce=Y,u.findPoint=He,u.findSegment=Zn,u.flattenEach=je,u.flattenReduce=vt,u.geomEach=ve,u.geomReduce=Ve,u.lineEach=un,u.lineReduce=vn,u.propEach=P,u.propReduce=F,u.segmentEach=St,u.segmentReduce=qt}),Vr=h(u=>{Object.defineProperty(u,"__esModule",{value:!0});var p=xa();function _(S){var P=[1/0,1/0,-1/0,-1/0];return p.coordEach(S,function(F){P[0]>F[0]&&(P[0]=F[0]),P[1]>F[1]&&(P[1]=F[1]),P[2]<F[0]&&(P[2]=F[0]),P[3]<F[1]&&(P[3]=F[1])}),P}_.default=_,u.default=_}),la=h((u,p)=>{var _=Fn(),S=xr(),P=xa(),F=Vr().default,K=P.featureEach;P.coordEach,S.polygon;var Y=S.featureCollection;function ge(ve){var Ve=new _(ve);return Ve.insert=function(je){if(je.type!=="Feature")throw new Error("invalid feature");return je.bbox=je.bbox?je.bbox:F(je),_.prototype.insert.call(this,je)},Ve.load=function(je){var vt=[];return Array.isArray(je)?je.forEach(function(St){if(St.type!=="Feature")throw new Error("invalid features");St.bbox=St.bbox?St.bbox:F(St),vt.push(St)}):K(je,function(St){if(St.type!=="Feature")throw new Error("invalid features");St.bbox=St.bbox?St.bbox:F(St),vt.push(St)}),_.prototype.load.call(this,vt)},Ve.remove=function(je,vt){if(je.type!=="Feature")throw new Error("invalid feature");return je.bbox=je.bbox?je.bbox:F(je),_.prototype.remove.call(this,je,vt)},Ve.clear=function(){return _.prototype.clear.call(this)},Ve.search=function(je){var vt=_.prototype.search.call(this,this.toBBox(je));return Y(vt)},Ve.collides=function(je){return _.prototype.collides.call(this,this.toBBox(je))},Ve.all=function(){var je=_.prototype.all.call(this);return Y(je)},Ve.toJSON=function(){return _.prototype.toJSON.call(this)},Ve.fromJSON=function(je){return _.prototype.fromJSON.call(this,je)},Ve.toBBox=function(je){var vt;if(je.bbox)vt=je.bbox;else if(Array.isArray(je)&&je.length===4)vt=je;else if(Array.isArray(je)&&je.length===6)vt=[je[0],je[1],je[3],je[4]];else if(je.type==="Feature")vt=F(je);else if(je.type==="FeatureCollection")vt=F(je);else throw new Error("invalid geojson");return{minX:vt[0],minY:vt[1],maxX:vt[2],maxY:vt[3]}},Ve}p.exports=ge,p.exports.default=ge});Array.prototype.findIndex=Array.prototype.findIndex||function(u){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof u!="function")throw new TypeError("callback must be a function");for(var p=Object(this),_=p.length>>>0,S=arguments[1],P=0;P<_;P++)if(u.call(S,p[P],P,p))return P;return-1},Array.prototype.find=Array.prototype.find||function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("callback must be a function");for(var p=Object(this),_=p.length>>>0,S=arguments[1],P=0;P<_;P++){var F=p[P];if(u.call(S,F,P,p))return F}},typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");u=Object(u);for(var p=1;p<arguments.length;p++){var _=arguments[p];if(_!=null)for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(u[S]=_[S])}return u}),(function(u){u.forEach(function(p){p.hasOwnProperty("remove")||Object.defineProperty(p,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(u,p){if(this==null)throw new TypeError('"this" is null or not defined');var _=Object(this),S=_.length>>>0;if(S===0)return!1;var P=p|0,F=Math.max(P>=0?P:S-Math.abs(P),0);function K(Y,ge){return Y===ge||typeof Y=="number"&&typeof ge=="number"&&isNaN(Y)&&isNaN(ge)}for(;F<S;){if(K(_[F],u))return!0;F++}return!1}});var qi={version:"2.18.3"},jn=g(mr()),Cr={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},ai={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Qr={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Hr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},vo={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},yo={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},Fa={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Or={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Wi={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Ki={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Zi={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},wa={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},ja={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Qn={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},er={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},Wn={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},oi={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},Rr={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Xi={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Wr={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},ei={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Ca={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},sn={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Sa={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Fr={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},Ro={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},za={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Ea=ja,cr={en:Cr,de:ai,it:Qr,id:Hr,ro:vo,ru:yo,es:Fa,nl:Or,fr:Wi,pt:Ea,pt_br:wa,pt_pt:ja,zh:Ki,zh_tw:Zi,pl:Qn,sv:er,el:Wn,hu:oi,da:Rr,no:Xi,fa:Wr,ua:ei,tr:Ca,cz:sn,ja:Sa,fi:Fr,ko:Ro,ky:za},Ii={_globalEditModeEnabled:!1,enableGlobalEditMode(u){let p={...u};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(_=>{this._isRelevantForEdit(_)&&_.pm.enable(p)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(u=>{u.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(u=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(u)},handleLayerAdditionInGlobalEditMode(){let u=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let p in u){let _=u[p];this._isRelevantForEdit(_)&&_.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:u}){this._addedLayersEdit[L.stamp(u)]=u},_isRelevantForEdit(u){return u.pm&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.allowEditing}},Qa=Ii,eo={_globalDragModeEnabled:!1,enableGlobalDragMode(){let u=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},u.forEach(p=>{this._isRelevantForDrag(p)&&p.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let u=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,u.forEach(p=>{p.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let u=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let p in u){let _=u[p];this._isRelevantForDrag(_)&&_.pm.enableLayerDrag()}},_layerAddedDrag({layer:u}){this._addedLayersDrag[L.stamp(u)]=u},_isRelevantForDrag(u){return u.pm&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.draggable}},Kr=eo,to={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(u=>{this._isRelevantForRemoval(u)&&(u.pm.enabled()&&u.pm.disable(),u.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(u=>{u.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(u){let p=u.target;this._isRelevantForRemoval(p)&&!p.pm.dragging()&&(p.removeFrom(this.map.pm._getContainingLayer()),p.remove(),p instanceof L.LayerGroup?(this._fireRemoveLayerGroup(p),this._fireRemoveLayerGroup(this.map,p)):(p.pm._fireRemove(p),p.pm._fireRemove(this.map,p)))},_isRelevantForRemoval(u){return u.pm&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let u=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let p in u){let _=u[p];this._isRelevantForRemoval(_)&&(_.pm.enabled()&&_.pm.disable(),_.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:u}){this._addedLayersRemoval[L.stamp(u)]=u}},si=to,os={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(u=>u instanceof L.Polyline).forEach(u=>{this._isRelevantForRotate(u)&&u.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(u=>u instanceof L.Polyline).forEach(u=>{u.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(u){return u.pm&&u instanceof L.Polyline&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let u=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let p in u){let _=u[p];this._isRelevantForRemoval(_)&&_.pm.enableRotate()}},_layerAddedRotate({layer:u}){this._addedLayersRotate[L.stamp(u)]=u}},Bo=os,Do=g(mr()),$o={_fireDrawStart(u="Draw",p={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},u,p)},_fireDrawEnd(u="Draw",p={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},u,p)},_fireCreate(u,p="Draw",_={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:u,layer:u},p,_)},_fireCenterPlaced(u="Draw",p={}){let _=u==="Draw"?this._layer:void 0,S=u!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:_,layer:S,latlng:this._layer.getLatLng()},u,p)},_fireCut(u,p,_,S="Draw",P={}){this.__fire(u,"pm:cut",{shape:this._shape,layer:p,originalLayer:_},S,P)},_fireEdit(u=this._layer,p="Edit",_={}){this.__fire(u,"pm:edit",{layer:this._layer,shape:this.getShape()},p,_)},_fireEnable(u="Edit",p={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},u,p)},_fireDisable(u="Edit",p={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},u,p)},_fireUpdate(u="Edit",p={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},u,p)},_fireMarkerDragStart(u,p=void 0,_="Edit",S={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:u,shape:this.getShape(),indexPath:p},_,S)},_fireMarkerDrag(u,p=void 0,_="Edit",S={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:u,shape:this.getShape(),indexPath:p},_,S)},_fireMarkerDragEnd(u,p=void 0,_=void 0,S="Edit",P={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:u,shape:this.getShape(),indexPath:p,intersectionReset:_},S,P)},_fireDragStart(u="Edit",p={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},u,p)},_fireDrag(u,p="Edit",_={}){this.__fire(this._layer,"pm:drag",{...u,shape:this.getShape()},p,_)},_fireDragEnd(u="Edit",p={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},u,p)},_fireDragEnable(u="Edit",p={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},u,p)},_fireDragDisable(u="Edit",p={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},u,p)},_fireRemove(u,p=u,_="Edit",S={}){this.__fire(u,"pm:remove",{layer:p,shape:this.getShape()},_,S)},_fireVertexAdded(u,p,_,S="Edit",P={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:u,indexPath:p,latlng:_,shape:this.getShape()},S,P)},_fireVertexRemoved(u,p,_="Edit",S={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:u,indexPath:p,shape:this.getShape()},_,S)},_fireVertexClick(u,p,_="Edit",S={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:u,indexPath:p,shape:this.getShape()},_,S)},_fireIntersect(u,p=this._layer,_="Edit",S={}){this.__fire(p,"pm:intersect",{layer:this._layer,intersection:u,shape:this.getShape()},_,S)},_fireLayerReset(u,p,_="Edit",S={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:u,indexPath:p,shape:this.getShape()},_,S)},_fireChange(u,p="Edit",_={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:u,shape:this.getShape()},p,_)},_fireTextChange(u,p="Edit",_={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:u,shape:this.getShape()},p,_)},_fireTextFocus(u="Edit",p={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},u,p)},_fireTextBlur(u="Edit",p={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},u,p)},_fireSnapDrag(u,p,_="Snapping",S={}){this.__fire(u,"pm:snapdrag",p,_,S)},_fireSnap(u,p,_="Snapping",S={}){this.__fire(u,"pm:snap",p,_,S)},_fireUnsnap(u,p,_="Snapping",S={}){this.__fire(u,"pm:unsnap",p,_,S)},_fireRotationEnable(u,p,_="Rotation",S={}){this.__fire(u,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},_,S)},_fireRotationDisable(u,p="Rotation",_={}){this.__fire(u,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},p,_)},_fireRotationStart(u,p,_="Rotation",S={}){this.__fire(u,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:p},_,S)},_fireRotation(u,p,_,S=this._rotationLayer,P="Rotation",F={}){this.__fire(u,"pm:rotate",{layer:S,helpLayer:this._layer,startAngle:this._startAngle,angle:S.pm.getAngle(),angleDiff:p,oldLatLngs:_,newLatLngs:S.getLatLngs()},P,F)},_fireRotationEnd(u,p,_,S="Rotation",P={}){this.__fire(u,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:p,angle:this._rotationLayer.pm.getAngle(),originLatLngs:_,newLatLngs:this._rotationLayer.getLatLngs()},S,P)},_fireActionClick(u,p,_,S="Toolbar",P={}){this.__fire(this._map,"pm:actionclick",{text:u.text,action:u,btnName:p,button:_},S,P)},_fireButtonClick(u,p,_="Toolbar",S={}){this.__fire(this._map,"pm:buttonclick",{btnName:u,button:p},_,S)},_fireLangChange(u,p,_,S,P="Global",F={}){this.__fire(this.map,"pm:langchange",{oldLang:u,activeLang:p,fallback:_,translations:S},P,F)},_fireGlobalDragModeToggled(u,p="Global",_={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:u,map:this.map},p,_)},_fireGlobalEditModeToggled(u,p="Global",_={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:u,map:this.map},p,_)},_fireGlobalRemovalModeToggled(u,p="Global",_={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:u,map:this.map},p,_)},_fireGlobalCutModeToggled(u="Global",p={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},u,p)},_fireGlobalDrawModeToggled(u="Global",p={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},u,p)},_fireGlobalRotateModeToggled(u="Global",p={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},u,p)},_fireRemoveLayerGroup(u,p=u,_="Edit",S={}){this.__fire(u,"pm:remove",{layer:p,shape:void 0},_,S)},_fireKeyeventEvent(u,p,_,S="Global",P={}){this.__fire(this.map,"pm:keyevent",{event:u,eventType:p,focusOn:_},S,P)},__fire(u,p,_,S,P={}){_=(0,Do.default)(_,P,{source:S}),L.PM.Utils._fireEvent(u,p,_)}},ka=$o,Fo=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(u){this.map=u,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),u.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(u){let p="document";this.map.getContainer().contains(u.target)&&(p="map");let _={event:u,eventType:u.type,focusOn:p};this._lastEvents[u.type]=_,this._lastEvents.current=_,this.map.pm._fireKeyeventEvent(u,u.type,p)},_onBlur(u){u.altKey=!1;let p={event:u,eventType:u.type,focusOn:"document"};this._lastEvents[u.type]=p,this._lastEvents.current=p},getLastKeyEvent(u="current"){return this._lastEvents[u]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),Yn=Fo,_o=g($r());function Kn(u){let p=L.PM.activeLang;return(0,_o.default)(cr[p],u)||(0,_o.default)(cr.en,u)||u}function hi(u){for(let p=0;p<u.length;p+=1){let _=u[p];if(Array.isArray(_)){if(hi(_))return!0}else if(_!=null&&_!=="")return!0}return!1}function ua(u){return u.reduce((p,_)=>{if(_.length!==0){let S=Array.isArray(_)?ua(_):_;Array.isArray(S)?S.length!==0&&p.push(S):p.push(S)}return p},[])}function bs(u,p,_){let S={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:P,b:F,f:K}=S,Y=u.lng,ge=u.lat,ve=_,Ve=Math.PI,je=p*Ve/180,vt=Math.sin(je),St=Math.cos(je),qt=(1-K)*Math.tan(ge*Ve/180),un=1/Math.sqrt(1+qt*qt),vn=qt*un,Zn=Math.atan2(qt,St),He=un*vt,Ke=1-He*He,rt=Ke*(P*P-F*F)/(F*F),yt=1+rt/16384*(4096+rt*(-768+rt*(320-175*rt))),lt=rt/1024*(256+rt*(-128+rt*(74-47*rt))),Ct=ve/(F*yt),pe=2*Math.PI,Se,Me,Pe;for(;Math.abs(Ct-pe)>1e-12;){Se=Math.cos(2*Zn+Ct),Me=Math.sin(Ct),Pe=Math.cos(Ct);let Ut=lt*Me*(Se+lt/4*(Pe*(-1+2*Se*Se)-lt/6*Se*(-3+4*Me*Me)*(-3+4*Se*Se)));pe=Ct,Ct=ve/(F*yt)+Ut}let Ae=vn*Me-un*Pe*St,Re=Math.atan2(vn*Pe+un*Me*St,(1-K)*Math.sqrt(He*He+Ae*Ae)),Je=Math.atan2(Me*vt,un*Pe-vn*Me*St),Xe=K/16*Ke*(4+K*(4-3*Ke)),at=Je-(1-Xe)*K*He*(Ct+Xe*Me*(Se+Xe*Pe*(-1+2*Se*Se))),gt=Y+at*180/Ve,ut=Re*180/Ve;return L.latLng(gt,ut)}function Bi(u,p,_,S,P=!0){let F,K,Y,ge=[];for(let ve=0;ve<_;ve+=1){if(P)F=ve*360/_+S,K=bs(u,F,p),Y=L.latLng(K.lng,K.lat);else{let Ve=u.lat+Math.cos(2*ve*Math.PI/_)*p,je=u.lng+Math.sin(2*ve*Math.PI/_)*p;Y=L.latLng(Ve,je)}ge.push(Y)}return ge}function no(u,p,_){p=(p+360)%360;let S=Math.PI/180,P=180/Math.PI,{R:F}=L.CRS.Earth,K=u.lng*S,Y=u.lat*S,ge=p*S,ve=Math.sin(Y),Ve=Math.cos(Y),je=Math.cos(_/F),vt=Math.sin(_/F),St=Math.asin(ve*je+Ve*vt*Math.cos(ge)),qt=K+Math.atan2(Math.sin(ge)*vt*Ve,je-ve*Math.sin(St));qt*=P;let un=qt-360,vn=qt<-180?qt+360:qt;return qt=qt>180?un:vn,L.latLng([St*P,qt])}function La(u,p,_){let S=u.latLngToContainerPoint(p),P=u.latLngToContainerPoint(_),F=Math.atan2(P.y-S.y,P.x-S.x)*180/Math.PI+90;return F+=F<0?360:0,F}function ro(u,p,_,S){let P=La(u,p,_);return no(p,P,S)}function ca(u,p,_="asc"){if(!p||Object.keys(p).length===0)return(ge,ve)=>ge-ve;let S=Object.keys(p),P,F=S.length-1,K={};for(;F>=0;)P=S[F],K[P.toLowerCase()]=p[P],F-=1;function Y(ge){if(ge instanceof L.Marker)return"Marker";if(ge instanceof L.Circle)return"Circle";if(ge instanceof L.CircleMarker)return"CircleMarker";if(ge instanceof L.Rectangle)return"Rectangle";if(ge instanceof L.Polygon)return"Polygon";if(ge instanceof L.Polyline)return"Line"}return(ge,ve)=>{let Ve,je;if(Ve=Y(ge.layer).toLowerCase(),je=Y(ve.layer).toLowerCase(),!Ve||!je)return 0;let vt=Ve in K?K[Ve]:Number.MAX_SAFE_INTEGER,St=je in K?K[je]:Number.MAX_SAFE_INTEGER,qt=0;return vt<St?qt=-1:vt>St&&(qt=1),_==="desc"?qt*-1:qt}}function j(u,p=u.getLatLngs()){return u instanceof L.Polygon?L.polygon(p).getLatLngs():L.polyline(p).getLatLngs()}function ye(u,p){if(p.options.crs?.projection?.MAX_LATITUDE){let _=p.options.crs?.projection?.MAX_LATITUDE;u.lat=Math.max(Math.min(_,u.lat),-_)}return u}function ze(u){return u.options.renderer||u._map&&(u._map._getPaneRenderer(u.options.pane)||u._map.options.renderer||u._map._renderer)||u._renderer}var et=L.Class.extend({includes:[Qa,Kr,si,Bo,ka],initialize(u){this.map=u,this.Draw=new L.PM.Draw(u),this.Toolbar=new L.PM.Toolbar(u),this.Keyboard=Yn(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(u)},setLang(u="en",p,_="en"){if(u=u.trim().toLowerCase(),!/^[a-z]{2}$/.test(u)){let P=u.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(P){let F=[`${P[1]}_${P[2]}`,`${P[1]}`];for(let K of F)if(cr[K]){u=K;break}}}let S=L.PM.activeLang;p&&(cr[u]=(0,jn.default)(cr[_],p)),L.PM.activeLang=u,this.map.pm.Toolbar.reinit(),this._fireLangChange(S,u,_,cr[u])},addControls(u){this.Toolbar.addControls(u)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(u="Polygon",p){u==="Poly"&&(u="Polygon"),this.Draw.enable(u,p)},disableDraw(u="Polygon"){u==="Poly"&&(u="Polygon"),this.Draw.disable(u)},setPathOptions(u,p={}){let _=p.ignoreShapes||[],S=p.merge||!1;this.map.pm.Draw.shapes.forEach(P=>{_.indexOf(P)===-1&&this.map.pm.Draw[P].setPathOptions(u,S)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(u){let p=(0,jn.default)(this.globalOptions,u);p.editable&&(p.resizeableCircleMarker=p.editable,delete p.editable);let _=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!p.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),_=!0);let S=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!p.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),S=!0),this.map.pm.Draw.shapes.forEach(P=>{this.map.pm.Draw[P].setOptions(p)}),_&&this.map.pm.Draw.CircleMarker.enable(),S&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(P=>{P.pm.setOptions(p)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=p,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(u=>{u.pm.enabled()&&u.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(u){return this.Draw.Cut.enable(u)},toggleGlobalCutMode(u){return this.Draw.Cut.toggle(u)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(u=!1){let p=L.PM.Utils.findLayers(this.map);if(!u)return p;let _=L.featureGroup();return _._pmTempLayer=!0,p.forEach(S=>{_.addLayer(S)}),_},getGeomanDrawLayers(u=!1){let p=L.PM.Utils.findLayers(this.map).filter(S=>S._drawnByGeoman===!0);if(!u)return p;let _=L.featureGroup();return _._pmTempLayer=!0,p.forEach(S=>{_.addLayer(S)}),_},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(u){this._touchEventCounter===0&&(L.DomEvent.on(u,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(u,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(u){this._touchEventCounter===1&&(L.DomEvent.off(u,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(u,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(u){ze(this.map)._onMouseMove(this._createMouseEvent("mousemove",u))},_canvasTouchClick(u){let p="";u.type==="touchstart"||u.type==="pointerdown"?p="mousedown":(u.type==="touchend"||u.type==="pointerup"||u.type==="touchcancel"||u.type==="pointercancel")&&(p="mouseup"),p&&ze(this.map)._onClick(this._createMouseEvent(p,u))},_createMouseEvent(u,p){let _,S=p.touches[0]||p.changedTouches[0];try{_=new MouseEvent(u,{bubbles:p.bubbles,cancelable:p.cancelable,view:p.view,detail:S.detail,screenX:S.screenX,screenY:S.screenY,clientX:S.clientX,clientY:S.clientY,ctrlKey:p.ctrlKey,altKey:p.altKey,shiftKey:p.shiftKey,metaKey:p.metaKey,button:p.button,relatedTarget:p.relatedTarget})}catch{_=document.createEvent("MouseEvents"),_.initMouseEvent(u,p.bubbles,p.cancelable,p.view,S.detail,S.screenX,S.screenY,S.clientX,S.clientY,p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,p.relatedTarget)}return _}}),pt=et,$t=L.Control.extend({includes:[ka],options:{position:"topleft",disableByOtherButtons:!0},initialize(u){this._button=L.Util.extend({},this.options,u)},onAdd(u){return this._map=u,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let u=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),u?u.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(u){return typeof u=="boolean"?this._button.toggleStatus=u:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(u){u&&u.preventDefault(),!this._button.disabled&&(this._button.onClick(u,{button:this,event:u}),this._clicked(u),this._button.afterClick(u,{button:this,event:u}))},_makeButton(u){let p=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div",`button-container  ${p}`,this._container);u.title&&_.setAttribute("title",u.title);let S=L.DomUtil.create("a","leaflet-buttons-control-button",_);S.setAttribute("role","button"),S.setAttribute("tabindex","0"),S.href="#";let P=L.DomUtil.create("div",`leaflet-pm-actions-container ${p}`,_),F=u.actions,K={cancel:{text:Kn("actions.cancel"),title:Kn("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Kn("actions.finish"),title:Kn("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Kn("actions.removeLastVertex"),title:Kn("actions.removeLastVertex"),onClick(){this._map.pm.Draw[u.jsClass]._removeLastVertex()}},finish:{text:Kn("actions.finish"),title:Kn("actions.finish"),onClick(ge){this._map.pm.Draw[u.jsClass]._finishShape(ge)}}};u._preparedActions=F.map(ge=>{let ve=typeof ge=="string"?ge:ge.name,Ve;if(K[ve])Ve=K[ve];else if(ge.text)Ve=ge;else return Ve;let je=L.DomUtil.create("a",`leaflet-pm-action ${p} action-${ve}`,P);if(je.setAttribute("role","button"),je.setAttribute("tabindex","0"),je.href="#",Ve.title&&(je.title=Ve.title),je.innerHTML=Ve.text,L.DomEvent.disableClickPropagation(je),L.DomEvent.on(je,"click",L.DomEvent.stop),Ve._node=je,!u.disabled&&Ve.onClick){let vt=St=>{St.preventDefault();let qt="",{buttons:un}=this._map.pm.Toolbar;for(let vn in un)if(un[vn]._button===u){qt=vn;break}this._fireActionClick(Ve,qt,u)};L.DomEvent.addListener(je,"click",vt,this),L.DomEvent.addListener(je,"click",Ve.onClick,this),L.DomEvent.addListener(je,"click",()=>this._updateActiveAction(u))}return Ve}),this._updateActiveAction(u),u.toggleStatus&&L.DomUtil.addClass(_,"active");let Y=L.DomUtil.create("div","control-icon",S);return u.iconUrl&&Y.setAttribute("src",u.iconUrl),u.className&&L.DomUtil.addClass(Y,u.className),L.DomEvent.disableClickPropagation(S),L.DomEvent.on(S,"click",L.DomEvent.stop),u.disabled||(L.DomEvent.addListener(S,"click",this._onBtnClick,this),L.DomEvent.addListener(S,"click",this._triggerClick,this)),u.disabled&&(L.DomUtil.addClass(S,"pm-disabled"),S.setAttribute("aria-disabled","true")),_},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let u="",{buttons:p}=this._map.pm.Toolbar;for(let _ in p)if(p[_]._button===this._button){u=_;break}this._fireButtonClick(u,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let u="pm-disabled",p=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(p,u),p.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(p,u),p.setAttribute("aria-disabled","false"))},_updateActiveAction(u){u._preparedActions?.forEach(p=>{p?._node&&(p.isActive&&p.isActive.call(this)?L.DomUtil.addClass(p._node,"active-action"):L.DomUtil.removeClass(p._node,"active-action"))})}}),Qt=$t;L.Control.PMButton=Qt;var Mn=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(u){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(u)},reinit(){let u=this.isVisible;this.removeControls(),this._defineButtons(),u&&this.addControls()},init(u){this.map=u,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(u){let p=`${u}Container`;return this[p]||(this[p]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${u} leaflet-bar leaflet-control`)),this[p]},getButtons(){return this.buttons},addControls(u=this.options){typeof u.editPolygon<"u"&&(u.editMode=u.editPolygon),typeof u.deleteLayer<"u"&&(u.removalMode=u.deleteLayer),L.Util.setOptions(this,u),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let u=this.getButtons(),p={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let _ in u){let S=u[_];L.Util.setOptions(S,{className:p.geomanIcons[_]})}},removeControls(){let u=this.getButtons();for(let p in u)u[p].remove();this.isVisible=!1},toggleControls(u=this.options){this.isVisible?this.removeControls():this.addControls(u)},_addButton(u,p){return this.buttons[u]=p,this.options[u]=!!this.options[u]||!1,this.buttons[u]},triggerClickOnToggledButtons(u){for(let p in this.buttons){let _=this.buttons[p];_._button.disableByOtherButtons&&_!==u&&_.toggled()&&_._triggerClick()}},toggleButton(u,p,_=!0){u==="editPolygon"&&(u="editMode"),u==="deleteLayer"&&(u="removalMode");let S=u;return _&&this.triggerClickOnToggledButtons(this.buttons[S]),this.buttons[S]?this.buttons[S].toggle(p):!1},_defineButtons(){let u={className:"control-icon leaflet-pm-icon-marker",title:Kn("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:Kn("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:Kn("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},S={title:Kn("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},P={title:Kn("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},F={title:Kn("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},K={title:Kn("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Y={title:Kn("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ge={title:Kn("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},ve={title:Kn("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Ve={title:Kn("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},je={className:"control-icon leaflet-pm-icon-text",title:Kn("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(u)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(F)),this._addButton("drawPolygon",new L.Control.PMButton(p)),this._addButton("drawCircle",new L.Control.PMButton(S)),this._addButton("drawCircleMarker",new L.Control.PMButton(P)),this._addButton("drawText",new L.Control.PMButton(je)),this._addButton("editMode",new L.Control.PMButton(K)),this._addButton("dragMode",new L.Control.PMButton(Y)),this._addButton("cutPolygon",new L.Control.PMButton(ge)),this._addButton("removalMode",new L.Control.PMButton(ve)),this._addButton("rotateMode",new L.Control.PMButton(Ve))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let u=this.getButtons(),p=[];this.options.drawControls===!1&&(p=p.concat(Object.keys(u).filter(_=>!u[_]._button.tool))),this.options.editControls===!1&&(p=p.concat(Object.keys(u).filter(_=>u[_]._button.tool==="edit"))),this.options.optionsControls===!1&&(p=p.concat(Object.keys(u).filter(_=>u[_]._button.tool==="options"))),this.options.customControls===!1&&(p=p.concat(Object.keys(u).filter(_=>u[_]._button.tool==="custom")));for(let _ in u)if(this.options[_]&&p.indexOf(_)===-1){let S=u[_]._button.tool;S||(S="draw"),u[_].setPosition(this._getBtnPosition(S)),u[_].addTo(this.map)}},_getBtnPosition(u){return this.options.positions&&this.options.positions[u]?this.options.positions[u]:this.options.position},setBlockPosition(u,p){this.options.positions[u]=p,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(u,p){if(p)typeof p!="object"&&(p={name:p});else throw new TypeError("Button has no name");let _=this._btnNameMapping(u);if(!p.name)throw new TypeError("Button has no name");if(this.buttons[p.name])throw new TypeError("Button with this name already exists");let S=this.map.pm.Draw.createNewDrawInstance(p.name,_);p={...this.buttons[_]._button,...p};let P=this.createCustomControl(p);return{drawInstance:S,control:P}},createCustomControl(u){if(!u.name)throw new TypeError("Button has no name");if(this.buttons[u.name])throw new TypeError("Button with this name already exists");u.onClick||(u.onClick=()=>{}),u.afterClick||(u.afterClick=()=>{}),u.toggle!==!1&&(u.toggle=!0),u.block&&(u.block=u.block.toLowerCase()),(!u.block||u.block==="draw")&&(u.block=""),u.className?u.className.indexOf("control-icon")===-1&&(u.className=`control-icon ${u.className}`):u.className="control-icon";let p={tool:u.block,className:u.className,title:u.title||"",jsClass:u.name,onClick:u.onClick,afterClick:u.afterClick,doToggle:u.toggle,toggleStatus:!1,disableOtherButtons:u.disableOtherButtons??!0,disableByOtherButtons:u.disableByOtherButtons??!0,cssToggle:u.toggle,position:this.options.position,actions:u.actions||[],disabled:!!u.disabled};this.options[u.name]!==!1&&(this.options[u.name]=!0);let _=this._addButton(u.name,new L.Control.PMButton(p));return this.changeControlOrder(),_},controlExists(u){return!!this.getButton(u)},getButton(u){return this.getButtons()[u]},getButtonsInBlock(u){let p={};if(u)for(let _ in this.getButtons()){let S=this.getButtons()[_];(S._button.tool===u||u==="draw"&&!S._button.tool)&&(p[_]=S)}return p},changeControlOrder(u=[]){let p=this._shapeMapping(),_=[];u.forEach(F=>{p[F]?_.push(p[F]):_.push(F)});let S=this.getButtons(),P={};_.forEach(F=>{S[F]&&(P[F]=S[F])}),Object.keys(S).filter(F=>!S[F]._button.tool||S[F]._button.tool==="draw").forEach(F=>{_.indexOf(F)===-1&&(P[F]=S[F])}),Object.keys(S).filter(F=>S[F]._button.tool==="edit").forEach(F=>{_.indexOf(F)===-1&&(P[F]=S[F])}),Object.keys(S).filter(F=>S[F]._button.tool==="options").forEach(F=>{_.indexOf(F)===-1&&(P[F]=S[F])}),Object.keys(S).filter(F=>S[F]._button.tool==="custom").forEach(F=>{_.indexOf(F)===-1&&(P[F]=S[F])}),Object.keys(S).forEach(F=>{_.indexOf(F)===-1&&(P[F]=S[F])}),this.map.pm.Toolbar.buttons=P,this._showHideButtons()},getControlOrder(){let u=this.getButtons(),p=[];for(let _ in u)p.push(_);return p},changeActionsOfControl(u,p){let _=this._btnNameMapping(u);if(!_)throw new TypeError("No name passed");if(!p)throw new TypeError("No actions passed");if(!this.buttons[_])throw new TypeError("Button with this name not exists");this.buttons[_]._button.actions=p,this.changeControlOrder()},setButtonDisabled(u,p){let _=this._btnNameMapping(u);p?this.buttons[_].disable():this.buttons[_].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(u){let p=this._shapeMapping();return p[u]?p[u]:u}}),Cn=Mn,Tn=g(mr()),ir={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(u){u.forEach(p=>{if(Array.isArray(p)){this._assignEvents(p);return}p.off("drag",this._handleSnapping,this),p.on("drag",this._handleSnapping,this),p.off("dragend",this._cleanupSnapping,this),p.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(u){if(u){let p=u.target;p._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(p=>{p.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(u){let p=u.target;if(p._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),u?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let _=this._calcClosestLayer(p.getLatLng(),this._snapList);if(Object.keys(_).length===0)return!1;let S=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment,P;S?P=_.latlng:P=this._checkPrioritiySnapping(_);let F=this.options.snapDistance,K={marker:p,shape:this._shape,snapLatLng:P,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag(K.marker,K),this._fireSnapDrag(this._layer,K),_.distance<F){p._orgLatLng=p.getLatLng(),p.setLatLng(P),p._snapped=!0,p._snapInfo=K;let Y=()=>{this._snapLatLng=P,this._fireSnap(p,K),this._fireSnap(this._layer,K)},ge=this._snapLatLng||{},ve=P||{};(ge.lat!==ve.lat||ge.lng!==ve.lng)&&Y()}else this._snapLatLng&&(this._unsnap(K),p._snapped=!1,p._snapInfo=void 0,this._fireUnsnap(K.marker,K),this._fireUnsnap(this._layer,K));return!0},_createSnapList(){let u=[],p=[],_=this._map;_.off("layerremove",this._handleSnapLayerRemoval,this),_.on("layerremove",this._handleSnapLayerRemoval,this),_.eachLayer(S=>{if((S instanceof L.Polyline||S instanceof L.Marker||S instanceof L.CircleMarker||S instanceof L.ImageOverlay)&&S.options.snapIgnore!==!0){if(S.options.snapIgnore===void 0&&(!L.PM.optIn&&S.options.pmIgnore===!0||L.PM.optIn&&S.options.pmIgnore!==!1))return;(S instanceof L.Circle||S instanceof L.CircleMarker)&&S.pm&&S.pm._hiddenPolyCircle?u.push(S.pm._hiddenPolyCircle):S instanceof L.ImageOverlay&&(S=L.rectangle(S.getBounds())),u.push(S);let P=L.polyline([],{color:"red",pmIgnore:!0});P._pmTempLayer=!0,p.push(P),(S instanceof L.Circle||S instanceof L.CircleMarker)&&p.push(P)}}),u=u.filter(S=>this._layer!==S),u=u.filter(S=>S._latlng||S._latlngs&&hi(S._latlngs)),u=u.filter(S=>!S._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let S=L.polyline([],{color:"red",pmIgnore:!0});S._pmTempLayer=!0,p.push(S)}),this._snapList=u.concat(this._otherSnapLayers)):this._snapList=u,this.debugIndicatorLines=p},_handleSnapLayerRemoval({layer:u}){if(!u._leaflet_id)return;let p=this._snapList.findIndex(_=>_._leaflet_id===u._leaflet_id);p>-1&&this._snapList.splice(p,1)},_calcClosestLayer(u,p){return this._calcClosestLayers(u,p,1)[0]},_calcClosestLayers(u,p,_=1){let S=[],P={};p.forEach((K,Y)=>{if(K._parentCopy&&K._parentCopy===this._layer||K.getLatLngs?.().flat(5).length<2)return;let ge=this._calcLayerDistances(u,K);if(ge.distance=Math.floor(ge.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[Y]){let ve=L.polyline([],{color:"red",pmIgnore:!0});ve._pmTempLayer=!0,this.debugIndicatorLines[Y]=ve}this.debugIndicatorLines[Y].setLatLngs([u,ge.latlng])}_===1&&(P.distance===void 0||ge.distance-5<=P.distance)?(ge.distance+5<P.distance&&(S=[]),P=ge,P.layer=K,S.push(P)):_!==1&&(P={},P=ge,P.layer=K,S.push(P))}),_!==1&&(S=S.sort((K,Y)=>K.distance-Y.distance)),_===-1&&(_=S.length);let F=this._getClosestLayerByPriority(S,_);return L.Util.isArray(F)?F:[F]},_calcLayerDistances(u,p){let _=this._map,S=p instanceof L.Marker||p instanceof L.CircleMarker,P=p instanceof L.Polygon,F=u;if(S){let K=p.getLatLng();return{latlng:{...K},distance:this._getDistance(_,K,F)}}return this._calcLatLngDistances(F,p.getLatLngs(),_,P)},_calcLatLngDistances(u,p,_,S=!1){let P,F,K,Y=ge=>{ge.forEach((ve,Ve)=>{if(Array.isArray(ve)){Y(ve);return}if(this.options.snapSegment){let je=ve,vt;S?vt=Ve+1===ge.length?0:Ve+1:vt=Ve+1===ge.length?void 0:Ve+1;let St=ge[vt];if(St){let qt=this._getDistanceToSegment(_,u,je,St);(F===void 0||qt<F)&&(F=qt,K=[je,St])}}else{let je=this._getDistance(_,u,ve);(F===void 0||je<F)&&(F=je,P=ve)}})};return Y(p),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(_,u,K[0],K[1])},segment:K,distance:F}:{latlng:P,distance:F}},_getClosestLayerByPriority(u,p=1){u=u.sort((K,Y)=>K._leaflet_id-Y._leaflet_id);let _=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],S=this._map.pm.globalOptions.snappingOrder||[],P=0,F={};return S.concat(_).forEach(K=>{F[K]||(P+=1,F[K]=P)}),u.sort(ca("instanceofShape",F)),p===1?u[0]||{}:u.slice(0,p)},_checkPrioritiySnapping(u){let p=this._map,_=u.segment[0],S=u.segment[1],P=u.latlng,F=P;if(this.options.snapVertex){let K=this._getDistance(p,_,P),Y=this._getDistance(p,S,P),ge=K<Y?_:S,ve=K<Y?K:Y;if(this.options.snapMiddle){let je=L.PM.Utils.calcMiddleLatLng(p,_,S),vt=this._getDistance(p,je,P);vt<K&&vt<Y&&(ge=je,ve=vt)}let Ve=this.options.snapDistance;ve<Ve&&(F=ge)}return{...F}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(u,p,_,S){let P=u.getMaxZoom();P===1/0&&(P=u.getZoom());let F=u.project(p,P),K=u.project(_,P),Y=u.project(S,P),ge=L.LineUtil.closestPointOnSegment(F,K,Y);return u.unproject(ge,P)},_getDistanceToSegment(u,p,_,S){let P=u.latLngToContainerPoint(p),F=u.latLngToContainerPoint(_),K=u.latLngToContainerPoint(S);return L.LineUtil.pointToSegmentDistance(P,F,K)},_getDistance(u,p,_){return u.latLngToContainerPoint(p).distanceTo(u.latLngToContainerPoint(_))}},Sr=ir,li=L.Class.extend({includes:[Sr,ka],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(u){L.Util.setOptions(this,u),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(u){let p=new L.Icon.Default;p.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=p,this._map=u,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(_=>{this[_]=new L.PM.Draw[_](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(u,p=!1){p?this.options.pathOptions=(0,Tn.default)(this.options.pathOptions,u):this.options.pathOptions=u},getShapes(){return this.shapes},getShape(){return this._shape},enable(u,p){if(!u)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[u].enable(p)},disable(){this.shapes.forEach(u=>{this[u].disable()})},addControls(){this.shapes.forEach(u=>{this[u].addButton()})},getActiveShape(){let u;return this.shapes.forEach(p=>{this[p]._enabled&&(u=p)}),u},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let u=[];this._map.eachLayer(p=>{(p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.Circle||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&(p._pmTempLayer||u.push(p))}),this._enabled?u.forEach(p=>{L.PM.Utils.disablePopup(p)}):u.forEach(p=>{L.PM.Utils.enablePopup(p)})},createNewDrawInstance(u,p){let _=this._getShapeFromBtnName(p);if(this[u])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[_])throw new TypeError(`There is no class L.PM.Draw.${_}`);return this[u]=new L.PM.Draw[_](this._map),this[u].toolbarButtonName=u,this[u]._shape=u,this.shapes.push(u),this[p]&&this[u].setOptions(this[p].options),this[u].setOptions(this[u].options),this[u]},_getShapeFromBtnName(u){let p={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return p[u]?p[u]:this[u]?this[u]._shape:u},_finishLayer(u){u.pm&&(u.pm.setOptions(this.options),u.pm._shape=this._shape,u.pm._map=this._map),this._addDrawnLayerProp(u)},_addDrawnLayerProp(u){u._drawnByGeoman=!0},_setPane(u,p){p==="layerPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":p==="vertexPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":p==="markerPane"&&(u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),vr=li;vr.Marker=vr.extend({initialize(u){this._map=u,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(u){L.Util.setOptions(this,u),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(p=>{this.isRelevantMarker(p)&&p.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(u=>{this.isRelevantMarker(u)&&u.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},isRelevantMarker(u){return u instanceof L.Marker&&u.pm&&!u._pmTempLayer&&!u.pm._initTextMarker},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let p=u;p.target=this._hintMarker,this._handleSnapping(p)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(u){if(!u.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=new L.Marker(p,this.options.markerStyle);this._setPane(_,"markerPane"),this._finishLayer(_),_.pm||(_.options.draggable=!1),_.addTo(this._map.pm._getContainingLayer()),_.pm&&this.options.markerEditable?_.pm.enable():_.dragging&&_.dragging.disable(),this._fireCreate(_),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var ar=63710088e-1,di={centimeters:ar*100,centimetres:ar*100,degrees:ar/111325,feet:ar*3.28084,inches:ar*39.37,kilometers:ar/1e3,kilometres:ar/1e3,meters:ar,metres:ar,miles:ar/1609.344,millimeters:ar*1e3,millimetres:ar*1e3,nauticalmiles:ar/1852,radians:1,yards:ar*1.0936};function Zr(u,p,_){_===void 0&&(_={});var S={type:"Feature"};return(_.id===0||_.id)&&(S.id=_.id),_.bbox&&(S.bbox=_.bbox),S.properties=p||{},S.geometry=u,S}function Ir(u,p,_){if(_===void 0&&(_={}),!u)throw new Error("coordinates is required");if(!Array.isArray(u))throw new Error("coordinates must be an Array");if(u.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!io(u[0])||!io(u[1]))throw new Error("coordinates must contain numbers");var S={type:"Point",coordinates:u};return Zr(S,p,_)}function Di(u,p,_){if(_===void 0&&(_={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");var S={type:"LineString",coordinates:u};return Zr(S,p,_)}function Er(u,p){p===void 0&&(p={});var _={type:"FeatureCollection"};return p.id&&(_.id=p.id),p.bbox&&(_.bbox=p.bbox),_.features=u,_}function ha(u,p){p===void 0&&(p="kilometers");var _=di[p];if(!_)throw new Error(p+" units is invalid");return u*_}function bo(u,p){p===void 0&&(p="kilometers");var _=di[p];if(!_)throw new Error(p+" units is invalid");return u/_}function bi(u){var p=u%(2*Math.PI);return p*180/Math.PI}function xi(u){var p=u%360;return p*Math.PI/180}function io(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)}function Na(u){var p,_,S={type:"FeatureCollection",features:[]};if(u.type==="Feature"?_=u.geometry:_=u,_.type==="LineString")p=[_.coordinates];else if(_.type==="MultiLineString")p=_.coordinates;else if(_.type==="MultiPolygon")p=[].concat.apply([],_.coordinates);else if(_.type==="Polygon")p=_.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return p.forEach(function(P){p.forEach(function(F){for(var K=0;K<P.length-1;K++)for(var Y=K;Y<F.length-1;Y++)if(!(P===F&&(Math.abs(K-Y)===1||K===0&&Y===P.length-2&&P[K][0]===P[P.length-1][0]&&P[K][1]===P[P.length-1][1]))){var ge=ao(P[K][0],P[K][1],P[K+1][0],P[K+1][1],F[Y][0],F[Y][1],F[Y+1][0],F[Y+1][1]);ge&&S.features.push(Ir([ge[0],ge[1]]))}})}),S}function ao(u,p,_,S,P,F,K,Y){var ge,ve,Ve,je,vt,St={x:null,y:null,onLine1:!1,onLine2:!1};return ge=(Y-F)*(_-u)-(K-P)*(S-p),ge===0?St.x!==null&&St.y!==null?St:!1:(ve=p-F,Ve=u-P,je=(K-P)*ve-(Y-F)*Ve,vt=(_-u)*ve-(S-p)*Ve,ve=je/ge,Ve=vt/ge,St.x=u+ve*(_-u),St.y=p+ve*(S-p),ve>=0&&ve<=1&&(St.onLine1=!0),Ve>=0&&Ve<=1&&(St.onLine2=!0),St.onLine1&&St.onLine2?[St.x,St.y]:!1)}vr.Line=vr.extend({initialize(u){this._map=u,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(u){L.Util.setOptions(this,u),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_syncHintLine(){let u=this._layer.getLatLngs();if(u.length>0){let p=u[u.length-1];this._hintline.setLatLngs([p,this._hintMarker.getLatLng()])}},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let _=u;_.target=this._hintMarker,this._handleSnapping(_)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let p=this._layer._defaultShape().slice();p.push(this._hintMarker.getLatLng()),this._change(p)},hasSelfIntersection(){return Na(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(u,p){let _=L.polyline(this._layer.getLatLngs());u&&(p||(p=this._hintMarker.getLatLng()),_.addLatLng(p));let S=Na(_.toGeoJSON(15));this._doesSelfIntersect=S.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(S,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(u){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,u.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=this._layer.getLatLngs(),S=_[_.length-1];if(p.equals(_[0])||_.length>0&&p.equals(S)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:p,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(p);let P=this._createMarker(p);this._setTooltipText(),this._setHintLineAfterNewVertex(p),this._fireVertexAdded(P,void 0,p,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(u)},_setHintLineAfterNewVertex(u){this._hintline.setLatLngs([u,u])},_removeLastVertex(){let u=this._markers;if(u.length<=1){this.disable();return}let p=this._layer.getLatLngs(),_=u[u.length-1],{indexPath:S}=L.PM.Utils.findDeepMarkerIndex(u,_);u.pop(),this._layerGroup.removeLayer(_);let P=u[u.length-1],F=p.indexOf(P.getLatLng());p=p.slice(0,F+1),this._layer.setLatLngs(p),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(_,S,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let u=this._layer.getLatLngs();if(u.length<=1)return;let p=L.polyline(u,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._fireCreate(p),this.options.snappable&&this._cleanupSnapping();let _=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(_))},_createMarker(u){let p=new L.Marker(u,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._markers.push(p),p.on("click",this._finishShape,this),p},_setTooltipText(){let{length:u}=this._layer.getLatLngs().flat(),p="";u<=1?p=Kn("tooltips.continueLine"):p=Kn("tooltips.finishLine"),this._hintMarker.setTooltipContent(p)},_change(u){this._fireChange(u,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),vr.Polygon=vr.Line.extend({initialize(u){this._map=u,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(u){L.PM.Draw.Line.prototype.enable.call(this,u),this._layer.pm._shape="Polygon"},_createMarker(u){let p=new L.Marker(u,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._markers.push(p),this._layer.getLatLngs().flat().length===1?(p.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(p)-1,this.options.snappable&&this._cleanupSnapping()):p.on("click",()=>1),p},_setTooltipText(){let{length:u}=this._layer.getLatLngs().flat(),p="";u<=2?p=Kn("tooltips.continueLine"):p=Kn("tooltips.finishPoly"),this._hintMarker.setTooltipContent(p)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let u=this._layer.getLatLngs();if(u.length<=2)return;let p=L.polygon(u,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._fireCreate(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let _=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(_))}}),vr.Rectangle=vr.extend({initialize(u){this._map=u,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(u){if(L.Util.setOptions(this,u),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let p=0;p<2;p+=1){let _=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(_,"vertexPane"),_._pmTempLayer=!0,this._layerGroup.addLayer(_),this._styleMarkers.push(_)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_placeStartingMarkers(u){this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(p),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(_=>{L.DomUtil.addClass(_._icon,"visible"),_.setLatLng(p)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Kn("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let u=this._startMarker.getLatLng();u&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([u,u]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let _=u;_.target=this._hintMarker,this._handleSnapping(_)}let p=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(p,"Draw")},_syncRectangleSize(){let u=ye(this._startMarker.getLatLng(),this._map),p=ye(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(u,p,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){let S=[];_.forEach(P=>{!P.equals(u,1e-8)&&!P.equals(p,1e-8)&&S.push(P)}),S.forEach((P,F)=>{try{this._styleMarkers[F].setLatLng(P)}catch{}})}},_findCorners(){let u=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(u[0],u[2],this.options.rectangleAngle||0,this._map)},_finishShape(u){this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||_.equals(p))return;let S=L.rectangle([_,p],this.options.pathOptions);if(this.options.rectangleAngle){let F=L.PM.Utils._getRotatedRectangle(_,p,this.options.rectangleAngle||0,this._map);S.setLatLngs(F),S.pm&&S.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(S,"layerPane"),this._finishLayer(S),S.addTo(this._map.pm._getContainingLayer()),this._fireCreate(S);let P=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(P))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),vr.CircleMarker=vr.extend({initialize(u){this._map=u,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(u){if(L.Util.setOptions(this,u),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let p={};L.extend(p,this.options.templineStyle),p.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),p),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(u=>{this.isRelevantMarker(u)&&u.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(u=>{this.isRelevantMarker(u)&&u.pm.disable()})},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_placeCenterMarker(u){this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let p=this._hintMarker.getLatLng();this._centerMarker.setLatLng(p),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let u=this._centerMarker.getLatLng();u&&(this._layer.setLatLng(u),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Kn("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let u=this._centerMarker.getLatLng(),p=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([u,p])},_syncCircleRadius(){let u=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),_=this._distanceCalculation(u,p);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(_)},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let _=u;_.target=this._hintMarker,this._handleSnapping(_)}this._handleHintMarkerSnapping();let p=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(p,"Draw")},isRelevantMarker(u){return u instanceof L.CircleMarker&&!(u instanceof L.Circle)&&u.pm&&!u._pmTempLayer},_createMarker(u){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!u.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=new this._BaseCircleClass(p,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(_),this._fireCreate(_),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(u){u.pm&&this.options.markerEditable&&u.pm.enable()},_finishShape(u){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._centerMarker.getLatLng(),_=this._defaultRadius;if(this.options[this._editableOption]){let K=this._hintMarker.getLatLng();_=this._distanceCalculation(p,K),this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?_=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&(_=this.options[this._maxRadiusOption])}let S={...this.options.pathOptions,radius:_},P=new this._BaseCircleClass(p,S);this._setPane(P,"layerPane"),this._finishLayer(P),P.addTo(this._map.pm._getContainingLayer()),P.pm&&P.pm._updateHiddenPolyCircle(),this._fireCreate(P);let F=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(F))},_getNewDestinationOfHintMarker(){let u=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return u;let p=this._centerMarker.getLatLng(),_=this._distanceCalculation(p,u);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?u=ro(this._map,p,u,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&(u=ro(this._map,p,u,this._getMaxDistanceInMeter()))}return u},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let u=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),_=this._distanceCalculation(u,p);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let u={};L.extend(u,this.options.templineStyle),this.options[this._editableOption]&&(u.radius=0),this._layer?.setStyle(u),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(u,p){return this._map.project(u).distanceTo(this._map.project(p))}}),vr.Circle=vr.CircleMarker.extend({initialize(u){this._map=u,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(u,p){return this._map.distance(u,p)}});function qr(u){if(!u)throw new Error("coord is required");if(!Array.isArray(u)){if(u.type==="Feature"&&u.geometry!==null&&u.geometry.type==="Point")return u.geometry.coordinates;if(u.type==="Point")return u.coordinates}if(Array.isArray(u)&&u.length>=2&&!Array.isArray(u[0])&&!Array.isArray(u[1]))return u;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ui(u){if(Array.isArray(u))return u;if(u.type==="Feature"){if(u.geometry!==null)return u.geometry.coordinates}else if(u.coordinates)return u.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function oo(u){return u.type==="Feature"?u.geometry:u}function jo(u,p){return u.type==="FeatureCollection"?"FeatureCollection":u.type==="GeometryCollection"?"GeometryCollection":u.type==="Feature"&&u.geometry!==null?u.geometry.type:u.type}function zo(u,p,_){if(u!==null)for(var S,P,F,K,Y,ge,ve,Ve=0,je=0,vt,St=u.type,qt=St==="FeatureCollection",un=St==="Feature",vn=qt?u.features.length:1,Zn=0;Zn<vn;Zn++){ve=qt?u.features[Zn].geometry:un?u.geometry:u,vt=ve?ve.type==="GeometryCollection":!1,Y=vt?ve.geometries.length:1;for(var He=0;He<Y;He++){var Ke=0,rt=0;if(K=vt?ve.geometries[He]:ve,K!==null){ge=K.coordinates;var yt=K.type;switch(Ve=0,yt){case null:break;case"Point":if(p(ge,je,Zn,Ke,rt)===!1)return!1;je++,Ke++;break;case"LineString":case"MultiPoint":for(S=0;S<ge.length;S++){if(p(ge[S],je,Zn,Ke,rt)===!1)return!1;je++,yt==="MultiPoint"&&Ke++}yt==="LineString"&&Ke++;break;case"Polygon":case"MultiLineString":for(S=0;S<ge.length;S++){for(P=0;P<ge[S].length-Ve;P++){if(p(ge[S][P],je,Zn,Ke,rt)===!1)return!1;je++}yt==="MultiLineString"&&Ke++,yt==="Polygon"&&rt++}yt==="Polygon"&&Ke++;break;case"MultiPolygon":for(S=0;S<ge.length;S++){for(rt=0,P=0;P<ge[S].length;P++){for(F=0;F<ge[S][P].length-Ve;F++){if(p(ge[S][P][F],je,Zn,Ke,rt)===!1)return!1;je++}rt++}Ke++}break;case"GeometryCollection":for(S=0;S<K.geometries.length;S++)if(zo(K.geometries[S],p)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function jr(u,p){if(u.type==="Feature")p(u,0);else if(u.type==="FeatureCollection")for(var _=0;_<u.features.length&&p(u.features[_],_)!==!1;_++);}function ra(u,p,_){var S=_;return jr(u,function(P,F){F===0&&_===void 0?S=P:S=p(S,P,F)}),S}function Ho(u,p){var _,S,P,F,K,Y,ge,ve,Ve,je,vt=0,St=u.type==="FeatureCollection",qt=u.type==="Feature",un=St?u.features.length:1;for(_=0;_<un;_++){for(Y=St?u.features[_].geometry:qt?u.geometry:u,ve=St?u.features[_].properties:qt?u.properties:{},Ve=St?u.features[_].bbox:qt?u.bbox:void 0,je=St?u.features[_].id:qt?u.id:void 0,ge=Y?Y.type==="GeometryCollection":!1,K=ge?Y.geometries.length:1,P=0;P<K;P++){if(F=ge?Y.geometries[P]:Y,F===null){if(p(null,vt,ve,Ve,je)===!1)return!1;continue}switch(F.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(F,vt,ve,Ve,je)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<F.geometries.length;S++)if(p(F.geometries[S],vt,ve,Ve,je)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}vt++}}function ia(u,p){Ho(u,function(_,S,P,F,K){var Y=_===null?null:_.type;switch(Y){case null:case"Point":case"LineString":case"Polygon":return p(Zr(_,P,{bbox:F,id:K}),S,0)===!1?!1:void 0}var ge;switch(Y){case"MultiPoint":ge="Point";break;case"MultiLineString":ge="LineString";break;case"MultiPolygon":ge="Polygon";break}for(var ve=0;ve<_.coordinates.length;ve++){var Ve=_.coordinates[ve],je={type:ge,coordinates:Ve};if(p(Zr(je,P),S,ve)===!1)return!1}})}function da(u){if(!u)throw new Error("geojson is required");var p=[];return ia(u,function(_){Ma(_,p)}),Er(p)}function Ma(u,p){var _=[],S=u.geometry;if(S!==null){switch(S.type){case"Polygon":_=Ui(S);break;case"LineString":_=[Ui(S)]}_.forEach(function(P){var F=ss(P,u.properties);F.forEach(function(K){K.id=p.length,p.push(K)})})}}function ss(u,p){var _=[];return u.reduce(function(S,P){var F=Di([S,P],p);return F.bbox=xo(S,P),_.push(F),P}),_}function xo(u,p){var _=u[0],S=u[1],P=p[0],F=p[1],K=_<P?_:P,Y=S<F?S:F,ge=_>P?_:P,ve=S>F?S:F;return[K,Y,ge,ve]}var Ha=da,so=g(la(),1);function fa(u,p){var _={},S=[];if(u.type==="LineString"&&(u=Zr(u)),p.type==="LineString"&&(p=Zr(p)),u.type==="Feature"&&p.type==="Feature"&&u.geometry!==null&&p.geometry!==null&&u.geometry.type==="LineString"&&p.geometry.type==="LineString"&&u.geometry.coordinates.length===2&&p.geometry.coordinates.length===2){var P=gi(u,p);return P&&S.push(P),Er(S)}var F=(0,so.default)();return F.load(Ha(p)),jr(Ha(u),function(K){jr(F.search(K),function(Y){var ge=gi(K,Y);if(ge){var ve=Ui(ge).join(",");_[ve]||(_[ve]=!0,S.push(ge))}})}),Er(S)}function gi(u,p){var _=Ui(u),S=Ui(p);if(_.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(S.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var P=_[0][0],F=_[0][1],K=_[1][0],Y=_[1][1],ge=S[0][0],ve=S[0][1],Ve=S[1][0],je=S[1][1],vt=(je-ve)*(K-P)-(Ve-ge)*(Y-F),St=(Ve-ge)*(F-ve)-(je-ve)*(P-ge),qt=(K-P)*(F-ve)-(Y-F)*(P-ge);if(vt===0)return null;var un=St/vt,vn=qt/vt;if(un>=0&&un<=1&&vn>=0&&vn<=1){var Zn=P+un*(K-P),He=F+un*(Y-F);return Ir([Zn,He])}return null}var Oi=fa,qa=g(la(),1);function Ua(u,p,_){_===void 0&&(_={});var S=qr(u),P=qr(p),F=xi(P[1]-S[1]),K=xi(P[0]-S[0]),Y=xi(S[1]),ge=xi(P[1]),ve=Math.pow(Math.sin(F/2),2)+Math.pow(Math.sin(K/2),2)*Math.cos(Y)*Math.cos(ge);return ha(2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve)),_.units)}var Ga=Ua;function Yi(u){var p=u[0],_=u[1],S=u[2],P=u[3],F=Ga(u.slice(0,2),[S,_]),K=Ga(u.slice(0,2),[p,P]);if(F>=K){var Y=(_+P)/2;return[p,Y-(S-p)/2,S,Y+(S-p)/2]}else{var ge=(p+S)/2;return[ge-(P-_)/2,_,ge+(P-_)/2,P]}}var ui=Yi;function Va(u){var p=[1/0,1/0,-1/0,-1/0];return zo(u,function(_){p[0]>_[0]&&(p[0]=_[0]),p[1]>_[1]&&(p[1]=_[1]),p[2]<_[0]&&(p[2]=_[0]),p[3]<_[1]&&(p[3]=_[1])}),p}Va.default=Va;var Ji=Va;function Ei(u,p){p===void 0&&(p={});var _=p.precision,S=p.coordinates,P=p.mutate;if(_=_==null||isNaN(_)?6:_,S=S==null||isNaN(S)?3:S,!u)throw new Error("<geojson> is required");if(typeof _!="number")throw new Error("<precision> must be a number");if(typeof S!="number")throw new Error("<coordinates> must be a number");(P===!1||P===void 0)&&(u=JSON.parse(JSON.stringify(u)));var F=Math.pow(10,_);return zo(u,function(K){So(K,F,S)}),u}function So(u,p,_){u.length>_&&u.splice(_,u.length);for(var S=0;S<u.length;S++)u[S]=Math.round(u[S]*p)/p;return u}var Jo=Ei;function pa(u,p,_){if(_===void 0&&(_={}),_.final===!0)return Eo(u,p);var S=qr(u),P=qr(p),F=xi(S[0]),K=xi(P[0]),Y=xi(S[1]),ge=xi(P[1]),ve=Math.sin(K-F)*Math.cos(ge),Ve=Math.cos(Y)*Math.sin(ge)-Math.sin(Y)*Math.cos(ge)*Math.cos(K-F);return bi(Math.atan2(ve,Ve))}function Eo(u,p){var _=pa(p,u);return _=(_+180)%360,_}function Pa(u,p,_,S){S===void 0&&(S={});var P=qr(u),F=xi(P[0]),K=xi(P[1]),Y=xi(_),ge=bo(p,S.units),ve=Math.asin(Math.sin(K)*Math.cos(ge)+Math.cos(K)*Math.sin(ge)*Math.cos(Y)),Ve=F+Math.atan2(Math.sin(Y)*Math.sin(ge)*Math.cos(K),Math.cos(ge)-Math.sin(K)*Math.sin(ve)),je=bi(Ve),vt=bi(ve);return Ir([je,vt],S.properties)}function fi(u,p,_){_===void 0&&(_={});var S=Ir([1/0,1/0],{dist:1/0}),P=0;return ia(u,function(F){for(var K=Ui(F),Y=0;Y<K.length-1;Y++){var ge=Ir(K[Y]);ge.properties.dist=Ga(p,ge,_);var ve=Ir(K[Y+1]);ve.properties.dist=Ga(p,ve,_);var Ve=Ga(ge,ve,_),je=Math.max(ge.properties.dist,ve.properties.dist),vt=pa(ge,ve),St=Pa(p,je,vt+90,_),qt=Pa(p,je,vt-90,_),un=Oi(Di([St.geometry.coordinates,qt.geometry.coordinates]),Di([ge.geometry.coordinates,ve.geometry.coordinates])),vn=null;un.features.length>0&&(vn=un.features[0],vn.properties.dist=Ga(p,vn,_),vn.properties.location=P+Ga(ge,vn,_)),ge.properties.dist<S.properties.dist&&(S=ge,S.properties.index=Y,S.properties.location=P),ve.properties.dist<S.properties.dist&&(S=ve,S.properties.index=Y+1,S.properties.location=P+Ve),vn&&vn.properties.dist<S.properties.dist&&(S=vn,S.properties.index=Y),P+=Ve}}),S}var pi=fi;function f(u,p){if(!u)throw new Error("line is required");if(!p)throw new Error("splitter is required");var _=jo(u),S=jo(p);if(_!=="LineString")throw new Error("line must be LineString");if(S==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(S==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var P=Jo(p,{precision:7});switch(S){case"Point":return o(u,P);case"MultiPoint":return a(u,P);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return a(u,Oi(u,P))}}function a(u,p){var _=[],S=(0,qa.default)();return ia(p,function(P){if(_.forEach(function(Y,ge){Y.id=ge}),!_.length)_=o(u,P).features,_.forEach(function(Y){Y.bbox||(Y.bbox=ui(Ji(Y)))}),S.load(Er(_));else{var F=S.search(P);if(F.features.length){var K=d(P,F);_=_.filter(function(Y){return Y.id!==K.id}),S.remove(K),jr(o(K,P),function(Y){_.push(Y),S.insert(Y)})}}}),Er(_)}function o(u,p){var _=[],S=Ui(u)[0],P=Ui(u)[u.geometry.coordinates.length-1];if(C(S,qr(p))||C(P,qr(p)))return Er([u]);var F=(0,qa.default)(),K=Ha(u);F.load(K);var Y=F.search(p);if(!Y.features.length)return Er([u]);var ge=d(p,Y),ve=[S],Ve=ra(K,function(je,vt,St){var qt=Ui(vt)[1],un=qr(p);return St===ge.id?(je.push(un),_.push(Di(je)),C(un,qt)?[un]:[un,qt]):(je.push(qt),je)},ve);return Ve.length>1&&_.push(Di(Ve)),Er(_)}function d(u,p){if(!p.features.length)throw new Error("lines must contain features");if(p.features.length===1)return p.features[0];var _,S=1/0;return jr(p,function(P){var F=pi(P,u),K=F.properties.dist;K<S&&(_=P,S=K)}),_}function C(u,p){return u[0]===p[0]&&u[1]===p[1]}var B=f;function W(u,p,_){if(_===void 0&&(_={}),!u)throw new Error("point is required");if(!p)throw new Error("polygon is required");var S=qr(u),P=oo(p),F=P.type,K=p.bbox,Y=P.coordinates;if(K&&xe(S,K)===!1)return!1;F==="Polygon"&&(Y=[Y]);for(var ge=!1,ve=0;ve<Y.length&&!ge;ve++)if(se(S,Y[ve][0],_.ignoreBoundary)){for(var Ve=!1,je=1;je<Y[ve].length&&!Ve;)se(S,Y[ve][je],!_.ignoreBoundary)&&(Ve=!0),je++;Ve||(ge=!0)}return ge}function se(u,p,_){var S=!1;p[0][0]===p[p.length-1][0]&&p[0][1]===p[p.length-1][1]&&(p=p.slice(0,p.length-1));for(var P=0,F=p.length-1;P<p.length;F=P++){var K=p[P][0],Y=p[P][1],ge=p[F][0],ve=p[F][1],Ve=u[1]*(K-ge)+Y*(ge-u[0])+ve*(u[0]-K)===0&&(K-u[0])*(ge-u[0])<=0&&(Y-u[1])*(ve-u[1])<=0;if(Ve)return!_;var je=Y>u[1]!=ve>u[1]&&u[0]<(ge-K)*(u[1]-Y)/(ve-Y)+K;je&&(S=!S)}return S}function xe(u,p){return p[0]<=u[0]&&p[1]<=u[1]&&p[2]>=u[0]&&p[3]>=u[1]}function $e(u,p,_){_===void 0&&(_={});for(var S=qr(u),P=Ui(p),F=0;F<P.length-1;F++){var K=!1;if(_.ignoreEndVertices&&(F===0&&(K="start"),F===P.length-2&&(K="end"),F===0&&F+1===P.length-1&&(K="both")),st(P[F],P[F+1],S,K,typeof _.epsilon>"u"?null:_.epsilon))return!0}return!1}function st(u,p,_,S,P){var F=_[0],K=_[1],Y=u[0],ge=u[1],ve=p[0],Ve=p[1],je=_[0]-Y,vt=_[1]-ge,St=ve-Y,qt=Ve-ge,un=je*qt-vt*St;if(P!==null){if(Math.abs(un)>P)return!1}else if(un!==0)return!1;if(S){if(S==="start")return Math.abs(St)>=Math.abs(qt)?St>0?Y<F&&F<=ve:ve<=F&&F<Y:qt>0?ge<K&&K<=Ve:Ve<=K&&K<ge;if(S==="end")return Math.abs(St)>=Math.abs(qt)?St>0?Y<=F&&F<ve:ve<F&&F<=Y:qt>0?ge<=K&&K<Ve:Ve<K&&K<=ge;if(S==="both")return Math.abs(St)>=Math.abs(qt)?St>0?Y<F&&F<ve:ve<F&&F<Y:qt>0?ge<K&&K<Ve:Ve<K&&K<ge}else return Math.abs(St)>=Math.abs(qt)?St>0?Y<=F&&F<=ve:ve<=F&&F<=Y:qt>0?ge<=K&&K<=Ve:Ve<=K&&K<=ge;return!1}var _t=$e;function Yt(u,p){var _=oo(u),S=oo(p),P=_.type,F=S.type,K=_.coordinates,Y=S.coordinates;switch(P){case"Point":switch(F){case"Point":return Wa(K,Y);default:throw new Error("feature2 "+F+" geometry not supported")}case"MultiPoint":switch(F){case"Point":return pn(_,S);case"MultiPoint":return Pn(_,S);default:throw new Error("feature2 "+F+" geometry not supported")}case"LineString":switch(F){case"Point":return _t(S,_,{ignoreEndVertices:!0});case"LineString":return hr(_,S);case"MultiPoint":return $n(_,S);default:throw new Error("feature2 "+F+" geometry not supported")}case"Polygon":switch(F){case"Point":return W(S,_,{ignoreBoundary:!0});case"LineString":return Ur(_,S);case"Polygon":return ti(_,S);case"MultiPoint":return Mr(_,S);default:throw new Error("feature2 "+F+" geometry not supported")}default:throw new Error("feature1 "+P+" geometry not supported")}}function pn(u,p){var _,S=!1;for(_=0;_<u.coordinates.length;_++)if(Wa(u.coordinates[_],p.coordinates)){S=!0;break}return S}function Pn(u,p){for(var _=0,S=p.coordinates;_<S.length;_++){for(var P=S[_],F=!1,K=0,Y=u.coordinates;K<Y.length;K++){var ge=Y[K];if(Wa(P,ge)){F=!0;break}}if(!F)return!1}return!0}function $n(u,p){for(var _=!1,S=0,P=p.coordinates;S<P.length;S++){var F=P[S];if(_t(F,u,{ignoreEndVertices:!0})&&(_=!0),!_t(F,u))return!1}return!!_}function Mr(u,p){for(var _=0,S=p.coordinates;_<S.length;_++){var P=S[_];if(!W(P,u,{ignoreBoundary:!0}))return!1}return!0}function hr(u,p){for(var _=!1,S=0,P=p.coordinates;S<P.length;S++){var F=P[S];if(_t({type:"Point",coordinates:F},u,{ignoreEndVertices:!0})&&(_=!0),!_t({type:"Point",coordinates:F},u,{ignoreEndVertices:!1}))return!1}return _}function Ur(u,p){var _=!1,S=0,P=Ji(u),F=Ji(p);if(!ki(P,F))return!1;for(S;S<p.coordinates.length-1;S++){var K=Qo(p.coordinates[S],p.coordinates[S+1]);if(W({type:"Point",coordinates:K},u,{ignoreBoundary:!0})){_=!0;break}}return _}function ti(u,p){if(u.type==="Feature"&&u.geometry===null||p.type==="Feature"&&p.geometry===null)return!1;var _=Ji(u),S=Ji(p);if(!ki(_,S))return!1;for(var P=oo(p).coordinates,F=0,K=P;F<K.length;F++)for(var Y=K[F],ge=0,ve=Y;ge<ve.length;ge++){var Ve=ve[ge];if(!W(Ve,u))return!1}return!0}function ki(u,p){return!(u[0]>p[0]||u[2]<p[2]||u[1]>p[1]||u[3]<p[3])}function Wa(u,p){return u[0]===p[0]&&u[1]===p[1]}function Qo(u,p){return[(u[0]+p[0])/2,(u[1]+p[1])/2]}var Ka=g($r()),ls=u=>()=>u,es=u=>{let p=u?(_,S)=>S.minus(_).abs().isLessThanOrEqualTo(u):ls(!1);return(_,S)=>p(_,S)?0:_.comparedTo(S)};function qo(u){let p=u?(_,S,P,F,K)=>_.exponentiatedBy(2).isLessThanOrEqualTo(F.minus(S).exponentiatedBy(2).plus(K.minus(P).exponentiatedBy(2)).times(u)):ls(!1);return(_,S,P)=>{let F=_.x,K=_.y,Y=P.x,ge=P.y,ve=K.minus(ge).times(S.x.minus(Y)).minus(F.minus(Y).times(S.y.minus(ge)));return p(ve,F,K,Y,ge)?0:ve.comparedTo(0)}}var Os=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,wo=Math.ceil,mi=Math.floor,zr="[BigNumber Error] ",Ia=zr+"Number primitive has more than 15 significant digits: ",Oa=1e14,tr=14,As=9007199254740991,us=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],lo=1e7,Li=1e9;function hl(u){var p,_,S,P=He.prototype={constructor:He,toString:null,valueOf:null},F=new He(1),K=20,Y=4,ge=-7,ve=21,Ve=-1e7,je=1e7,vt=!1,St=1,qt=0,un={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},vn="0123456789abcdefghijklmnopqrstuvwxyz",Zn=!0;function He(pe,Se){var Me,Pe,Ae,Re,Je,Xe,at,gt,ut=this;if(!(ut instanceof He))return new He(pe,Se);if(Se==null){if(pe&&pe._isBigNumber===!0){ut.s=pe.s,!pe.c||pe.e>je?ut.c=ut.e=null:pe.e<Ve?ut.c=[ut.e=0]:(ut.e=pe.e,ut.c=pe.c.slice());return}if((Xe=typeof pe=="number")&&pe*0==0){if(ut.s=1/pe<0?(pe=-pe,-1):1,pe===~~pe){for(Re=0,Je=pe;Je>=10;Je/=10,Re++);Re>je?ut.c=ut.e=null:(ut.e=Re,ut.c=[pe]);return}gt=String(pe)}else{if(!Os.test(gt=String(pe)))return S(ut,gt,Xe);ut.s=gt.charCodeAt(0)==45?(gt=gt.slice(1),-1):1}(Re=gt.indexOf("."))>-1&&(gt=gt.replace(".","")),(Je=gt.search(/e/i))>0?(Re<0&&(Re=Je),Re+=+gt.slice(Je+1),gt=gt.substring(0,Je)):Re<0&&(Re=gt.length)}else{if(s(Se,2,vn.length,"Base"),Se==10&&Zn)return ut=new He(pe),lt(ut,K+ut.e+1,Y);if(gt=String(pe),Xe=typeof pe=="number"){if(pe*0!=0)return S(ut,gt,Xe,Se);if(ut.s=1/pe<0?(gt=gt.slice(1),-1):1,He.DEBUG&&gt.replace(/^0\.0*|\./,"").length>15)throw Error(Ia+pe)}else ut.s=gt.charCodeAt(0)===45?(gt=gt.slice(1),-1):1;for(Me=vn.slice(0,Se),Re=Je=0,at=gt.length;Je<at;Je++)if(Me.indexOf(Pe=gt.charAt(Je))<0){if(Pe=="."){if(Je>Re){Re=at;continue}}else if(!Ae&&(gt==gt.toUpperCase()&&(gt=gt.toLowerCase())||gt==gt.toLowerCase()&&(gt=gt.toUpperCase()))){Ae=!0,Je=-1,Re=0;continue}return S(ut,String(pe),Xe,Se)}Xe=!1,gt=_(gt,Se,10,ut.s),(Re=gt.indexOf("."))>-1?gt=gt.replace(".",""):Re=gt.length}for(Je=0;gt.charCodeAt(Je)===48;Je++);for(at=gt.length;gt.charCodeAt(--at)===48;);if(gt=gt.slice(Je,++at)){if(at-=Je,Xe&&He.DEBUG&&at>15&&(pe>As||pe!==mi(pe)))throw Error(Ia+ut.s*pe);if((Re=Re-Je-1)>je)ut.c=ut.e=null;else if(Re<Ve)ut.c=[ut.e=0];else{if(ut.e=Re,ut.c=[],Je=(Re+1)%tr,Re<0&&(Je+=tr),Je<at){for(Je&&ut.c.push(+gt.slice(0,Je)),at-=tr;Je<at;)ut.c.push(+gt.slice(Je,Je+=tr));Je=tr-(gt=gt.slice(Je)).length}else Je-=at;for(;Je--;gt+="0");ut.c.push(+gt)}}else ut.c=[ut.e=0]}He.clone=hl,He.ROUND_UP=0,He.ROUND_DOWN=1,He.ROUND_CEIL=2,He.ROUND_FLOOR=3,He.ROUND_HALF_UP=4,He.ROUND_HALF_DOWN=5,He.ROUND_HALF_EVEN=6,He.ROUND_HALF_CEIL=7,He.ROUND_HALF_FLOOR=8,He.EUCLID=9,He.config=He.set=function(pe){var Se,Me;if(pe!=null)if(typeof pe=="object"){if(pe.hasOwnProperty(Se="DECIMAL_PLACES")&&(Me=pe[Se],s(Me,0,Li,Se),K=Me),pe.hasOwnProperty(Se="ROUNDING_MODE")&&(Me=pe[Se],s(Me,0,8,Se),Y=Me),pe.hasOwnProperty(Se="EXPONENTIAL_AT")&&(Me=pe[Se],Me&&Me.pop?(s(Me[0],-Li,0,Se),s(Me[1],0,Li,Se),ge=Me[0],ve=Me[1]):(s(Me,-Li,Li,Se),ge=-(ve=Me<0?-Me:Me))),pe.hasOwnProperty(Se="RANGE"))if(Me=pe[Se],Me&&Me.pop)s(Me[0],-Li,-1,Se),s(Me[1],1,Li,Se),Ve=Me[0],je=Me[1];else if(s(Me,-Li,Li,Se),Me)Ve=-(je=Me<0?-Me:Me);else throw Error(zr+Se+" cannot be zero: "+Me);if(pe.hasOwnProperty(Se="CRYPTO"))if(Me=pe[Se],Me===!!Me)if(Me)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))vt=Me;else throw vt=!Me,Error(zr+"crypto unavailable");else vt=Me;else throw Error(zr+Se+" not true or false: "+Me);if(pe.hasOwnProperty(Se="MODULO_MODE")&&(Me=pe[Se],s(Me,0,9,Se),St=Me),pe.hasOwnProperty(Se="POW_PRECISION")&&(Me=pe[Se],s(Me,0,Li,Se),qt=Me),pe.hasOwnProperty(Se="FORMAT"))if(Me=pe[Se],typeof Me=="object")un=Me;else throw Error(zr+Se+" not an object: "+Me);if(pe.hasOwnProperty(Se="ALPHABET"))if(Me=pe[Se],typeof Me=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Me))Zn=Me.slice(0,10)=="0123456789",vn=Me;else throw Error(zr+Se+" invalid: "+Me)}else throw Error(zr+"Object expected: "+pe);return{DECIMAL_PLACES:K,ROUNDING_MODE:Y,EXPONENTIAL_AT:[ge,ve],RANGE:[Ve,je],CRYPTO:vt,MODULO_MODE:St,POW_PRECISION:qt,FORMAT:un,ALPHABET:vn}},He.isBigNumber=function(pe){if(!pe||pe._isBigNumber!==!0)return!1;if(!He.DEBUG)return!0;var Se,Me,Pe=pe.c,Ae=pe.e,Re=pe.s;e:if({}.toString.call(Pe)=="[object Array]"){if((Re===1||Re===-1)&&Ae>=-Li&&Ae<=Li&&Ae===mi(Ae)){if(Pe[0]===0){if(Ae===0&&Pe.length===1)return!0;break e}if(Se=(Ae+1)%tr,Se<1&&(Se+=tr),String(Pe[0]).length==Se){for(Se=0;Se<Pe.length;Se++)if(Me=Pe[Se],Me<0||Me>=Oa||Me!==mi(Me))break e;if(Me!==0)return!0}}}else if(Pe===null&&Ae===null&&(Re===null||Re===1||Re===-1))return!0;throw Error(zr+"Invalid BigNumber: "+pe)},He.maximum=He.max=function(){return rt(arguments,-1)},He.minimum=He.min=function(){return rt(arguments,1)},He.random=(function(){var pe=9007199254740992,Se=Math.random()*pe&2097151?function(){return mi(Math.random()*pe)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Me){var Pe,Ae,Re,Je,Xe,at=0,gt=[],ut=new He(F);if(Me==null?Me=K:s(Me,0,Li),Je=wo(Me/tr),vt)if(crypto.getRandomValues){for(Pe=crypto.getRandomValues(new Uint32Array(Je*=2));at<Je;)Xe=Pe[at]*131072+(Pe[at+1]>>>11),Xe>=9e15?(Ae=crypto.getRandomValues(new Uint32Array(2)),Pe[at]=Ae[0],Pe[at+1]=Ae[1]):(gt.push(Xe%1e14),at+=2);at=Je/2}else if(crypto.randomBytes){for(Pe=crypto.randomBytes(Je*=7);at<Je;)Xe=(Pe[at]&31)*281474976710656+Pe[at+1]*1099511627776+Pe[at+2]*4294967296+Pe[at+3]*16777216+(Pe[at+4]<<16)+(Pe[at+5]<<8)+Pe[at+6],Xe>=9e15?crypto.randomBytes(7).copy(Pe,at):(gt.push(Xe%1e14),at+=7);at=Je/7}else throw vt=!1,Error(zr+"crypto unavailable");if(!vt)for(;at<Je;)Xe=Se(),Xe<9e15&&(gt[at++]=Xe%1e14);for(Je=gt[--at],Me%=tr,Je&&Me&&(Xe=us[tr-Me],gt[at]=mi(Je/Xe)*Xe);gt[at]===0;gt.pop(),at--);if(at<0)gt=[Re=0];else{for(Re=-1;gt[0]===0;gt.splice(0,1),Re-=tr);for(at=1,Xe=gt[0];Xe>=10;Xe/=10,at++);at<tr&&(Re-=tr-at)}return ut.e=Re,ut.c=gt,ut}})(),He.sum=function(){for(var pe=1,Se=arguments,Me=new He(Se[0]);pe<Se.length;)Me=Me.plus(Se[pe++]);return Me},_=(function(){var pe="0123456789";function Se(Me,Pe,Ae,Re){for(var Je,Xe=[0],at,gt=0,ut=Me.length;gt<ut;){for(at=Xe.length;at--;Xe[at]*=Pe);for(Xe[0]+=Re.indexOf(Me.charAt(gt++)),Je=0;Je<Xe.length;Je++)Xe[Je]>Ae-1&&(Xe[Je+1]==null&&(Xe[Je+1]=0),Xe[Je+1]+=Xe[Je]/Ae|0,Xe[Je]%=Ae)}return Xe.reverse()}return function(Me,Pe,Ae,Re,Je){var Xe,at,gt,ut,Ut,yn,Ln,In,or=Me.indexOf("."),Xr=K,Br=Y;for(or>=0&&(ut=qt,qt=0,Me=Me.replace(".",""),In=new He(Pe),yn=In.pow(Me.length-or),qt=ut,In.c=Se(z(ma(yn.c),yn.e,"0"),10,Ae,pe),In.e=In.c.length),Ln=Se(Me,Pe,Ae,Je?(Xe=vn,pe):(Xe=pe,vn)),gt=ut=Ln.length;Ln[--ut]==0;Ln.pop());if(!Ln[0])return Xe.charAt(0);if(or<0?--gt:(yn.c=Ln,yn.e=gt,yn.s=Re,yn=p(yn,In,Xr,Br,Ae),Ln=yn.c,Ut=yn.r,gt=yn.e),at=gt+Xr+1,or=Ln[at],ut=Ae/2,Ut=Ut||at<0||Ln[at+1]!=null,Ut=Br<4?(or!=null||Ut)&&(Br==0||Br==(yn.s<0?3:2)):or>ut||or==ut&&(Br==4||Ut||Br==6&&Ln[at-1]&1||Br==(yn.s<0?8:7)),at<1||!Ln[0])Me=Ut?z(Xe.charAt(1),-Xr,Xe.charAt(0)):Xe.charAt(0);else{if(Ln.length=at,Ut)for(--Ae;++Ln[--at]>Ae;)Ln[at]=0,at||(++gt,Ln=[1].concat(Ln));for(ut=Ln.length;!Ln[--ut];);for(or=0,Me="";or<=ut;Me+=Xe.charAt(Ln[or++]));Me=z(Me,gt,Xe.charAt(0))}return Me}})(),p=(function(){function pe(Pe,Ae,Re){var Je,Xe,at,gt,ut=0,Ut=Pe.length,yn=Ae%lo,Ln=Ae/lo|0;for(Pe=Pe.slice();Ut--;)at=Pe[Ut]%lo,gt=Pe[Ut]/lo|0,Je=Ln*at+gt*yn,Xe=yn*at+Je%lo*lo+ut,ut=(Xe/Re|0)+(Je/lo|0)+Ln*gt,Pe[Ut]=Xe%Re;return ut&&(Pe=[ut].concat(Pe)),Pe}function Se(Pe,Ae,Re,Je){var Xe,at;if(Re!=Je)at=Re>Je?1:-1;else for(Xe=at=0;Xe<Re;Xe++)if(Pe[Xe]!=Ae[Xe]){at=Pe[Xe]>Ae[Xe]?1:-1;break}return at}function Me(Pe,Ae,Re,Je){for(var Xe=0;Re--;)Pe[Re]-=Xe,Xe=Pe[Re]<Ae[Re]?1:0,Pe[Re]=Xe*Je+Pe[Re]-Ae[Re];for(;!Pe[0]&&Pe.length>1;Pe.splice(0,1));}return function(Pe,Ae,Re,Je,Xe){var at,gt,ut,Ut,yn,Ln,In,or,Xr,Br,Yr,Gi,Xl,Bu,ml,ya,vl,Mo=Pe.s==Ae.s?1:-1,Xa=Pe.c,Ni=Ae.c;if(!Xa||!Xa[0]||!Ni||!Ni[0])return new He(!Pe.s||!Ae.s||(Xa?Ni&&Xa[0]==Ni[0]:!Ni)?NaN:Xa&&Xa[0]==0||!Ni?Mo*0:Mo/0);for(or=new He(Mo),Xr=or.c=[],gt=Pe.e-Ae.e,Mo=Re+gt+1,Xe||(Xe=Oa,gt=ga(Pe.e/tr)-ga(Ae.e/tr),Mo=Mo/tr|0),ut=0;Ni[ut]==(Xa[ut]||0);ut++);if(Ni[ut]>(Xa[ut]||0)&&gt--,Mo<0)Xr.push(1),Ut=!0;else{for(Bu=Xa.length,ya=Ni.length,ut=0,Mo+=2,yn=mi(Xe/(Ni[0]+1)),yn>1&&(Ni=pe(Ni,yn,Xe),Xa=pe(Xa,yn,Xe),ya=Ni.length,Bu=Xa.length),Xl=ya,Br=Xa.slice(0,ya),Yr=Br.length;Yr<ya;Br[Yr++]=0);vl=Ni.slice(),vl=[0].concat(vl),ml=Ni[0],Ni[1]>=Xe/2&&ml++;do{if(yn=0,at=Se(Ni,Br,ya,Yr),at<0){if(Gi=Br[0],ya!=Yr&&(Gi=Gi*Xe+(Br[1]||0)),yn=mi(Gi/ml),yn>1)for(yn>=Xe&&(yn=Xe-1),Ln=pe(Ni,yn,Xe),In=Ln.length,Yr=Br.length;Se(Ln,Br,In,Yr)==1;)yn--,Me(Ln,ya<In?vl:Ni,In,Xe),In=Ln.length,at=1;else yn==0&&(at=yn=1),Ln=Ni.slice(),In=Ln.length;if(In<Yr&&(Ln=[0].concat(Ln)),Me(Br,Ln,Yr,Xe),Yr=Br.length,at==-1)for(;Se(Ni,Br,ya,Yr)<1;)yn++,Me(Br,ya<Yr?vl:Ni,Yr,Xe),Yr=Br.length}else at===0&&(yn++,Br=[0]);Xr[ut++]=yn,Br[0]?Br[Yr++]=Xa[Xl]||0:(Br=[Xa[Xl]],Yr=1)}while((Xl++<Bu||Br[0]!=null)&&Mo--);Ut=Br[0]!=null,Xr[0]||Xr.splice(0,1)}if(Xe==Oa){for(ut=1,Mo=Xr[0];Mo>=10;Mo/=10,ut++);lt(or,Re+(or.e=ut+gt*tr-1)+1,Je,Ut)}else or.e=gt,or.r=+Ut;return or}})();function Ke(pe,Se,Me,Pe){var Ae,Re,Je,Xe,at;if(Me==null?Me=Y:s(Me,0,8),!pe.c)return pe.toString();if(Ae=pe.c[0],Je=pe.e,Se==null)at=ma(pe.c),at=Pe==1||Pe==2&&(Je<=ge||Je>=ve)?M(at,Je):z(at,Je,"0");else if(pe=lt(new He(pe),Se,Me),Re=pe.e,at=ma(pe.c),Xe=at.length,Pe==1||Pe==2&&(Se<=Re||Re<=ge)){for(;Xe<Se;at+="0",Xe++);at=M(at,Re)}else if(Se-=Je,at=z(at,Re,"0"),Re+1>Xe){if(--Se>0)for(at+=".";Se--;at+="0");}else if(Se+=Re-Xe,Se>0)for(Re+1==Xe&&(at+=".");Se--;at+="0");return pe.s<0&&Ae?"-"+at:at}function rt(pe,Se){for(var Me,Pe,Ae=1,Re=new He(pe[0]);Ae<pe.length;Ae++)Pe=new He(pe[Ae]),(!Pe.s||(Me=ko(Re,Pe))===Se||Me===0&&Re.s===Se)&&(Re=Pe);return Re}function yt(pe,Se,Me){for(var Pe=1,Ae=Se.length;!Se[--Ae];Se.pop());for(Ae=Se[0];Ae>=10;Ae/=10,Pe++);return(Me=Pe+Me*tr-1)>je?pe.c=pe.e=null:Me<Ve?pe.c=[pe.e=0]:(pe.e=Me,pe.c=Se),pe}S=(function(){var pe=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Se=/^([^.]+)\.$/,Me=/^\.([^.]+)$/,Pe=/^-?(Infinity|NaN)$/,Ae=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Re,Je,Xe,at){var gt,ut=Xe?Je:Je.replace(Ae,"");if(Pe.test(ut))Re.s=isNaN(ut)?null:ut<0?-1:1;else{if(!Xe&&(ut=ut.replace(pe,function(Ut,yn,Ln){return gt=(Ln=Ln.toLowerCase())=="x"?16:Ln=="b"?2:8,!at||at==gt?yn:Ut}),at&&(gt=at,ut=ut.replace(Se,"$1").replace(Me,"0.$1")),Je!=ut))return new He(ut,gt);if(He.DEBUG)throw Error(zr+"Not a"+(at?" base "+at:"")+" number: "+Je);Re.s=null}Re.c=Re.e=null}})();function lt(pe,Se,Me,Pe){var Ae,Re,Je,Xe,at,gt,ut,Ut=pe.c,yn=us;if(Ut){e:{for(Ae=1,Xe=Ut[0];Xe>=10;Xe/=10,Ae++);if(Re=Se-Ae,Re<0)Re+=tr,Je=Se,at=Ut[gt=0],ut=mi(at/yn[Ae-Je-1]%10);else if(gt=wo((Re+1)/tr),gt>=Ut.length)if(Pe){for(;Ut.length<=gt;Ut.push(0));at=ut=0,Ae=1,Re%=tr,Je=Re-tr+1}else break e;else{for(at=Xe=Ut[gt],Ae=1;Xe>=10;Xe/=10,Ae++);Re%=tr,Je=Re-tr+Ae,ut=Je<0?0:mi(at/yn[Ae-Je-1]%10)}if(Pe=Pe||Se<0||Ut[gt+1]!=null||(Je<0?at:at%yn[Ae-Je-1]),Pe=Me<4?(ut||Pe)&&(Me==0||Me==(pe.s<0?3:2)):ut>5||ut==5&&(Me==4||Pe||Me==6&&(Re>0?Je>0?at/yn[Ae-Je]:0:Ut[gt-1])%10&1||Me==(pe.s<0?8:7)),Se<1||!Ut[0])return Ut.length=0,Pe?(Se-=pe.e+1,Ut[0]=yn[(tr-Se%tr)%tr],pe.e=-Se||0):Ut[0]=pe.e=0,pe;if(Re==0?(Ut.length=gt,Xe=1,gt--):(Ut.length=gt+1,Xe=yn[tr-Re],Ut[gt]=Je>0?mi(at/yn[Ae-Je]%yn[Je])*Xe:0),Pe)for(;;)if(gt==0){for(Re=1,Je=Ut[0];Je>=10;Je/=10,Re++);for(Je=Ut[0]+=Xe,Xe=1;Je>=10;Je/=10,Xe++);Re!=Xe&&(pe.e++,Ut[0]==Oa&&(Ut[0]=1));break}else{if(Ut[gt]+=Xe,Ut[gt]!=Oa)break;Ut[gt--]=0,Xe=1}for(Re=Ut.length;Ut[--Re]===0;Ut.pop());}pe.e>je?pe.c=pe.e=null:pe.e<Ve&&(pe.c=[pe.e=0])}return pe}function Ct(pe){var Se,Me=pe.e;return Me===null?pe.toString():(Se=ma(pe.c),Se=Me<=ge||Me>=ve?M(Se,Me):z(Se,Me,"0"),pe.s<0?"-"+Se:Se)}return P.absoluteValue=P.abs=function(){var pe=new He(this);return pe.s<0&&(pe.s=1),pe},P.comparedTo=function(pe,Se){return ko(this,new He(pe,Se))},P.decimalPlaces=P.dp=function(pe,Se){var Me,Pe,Ae,Re=this;if(pe!=null)return s(pe,0,Li),Se==null?Se=Y:s(Se,0,8),lt(new He(Re),pe+Re.e+1,Se);if(!(Me=Re.c))return null;if(Pe=((Ae=Me.length-1)-ga(this.e/tr))*tr,Ae=Me[Ae])for(;Ae%10==0;Ae/=10,Pe--);return Pe<0&&(Pe=0),Pe},P.dividedBy=P.div=function(pe,Se){return p(this,new He(pe,Se),K,Y)},P.dividedToIntegerBy=P.idiv=function(pe,Se){return p(this,new He(pe,Se),0,1)},P.exponentiatedBy=P.pow=function(pe,Se){var Me,Pe,Ae,Re,Je,Xe,at,gt,ut,Ut=this;if(pe=new He(pe),pe.c&&!pe.isInteger())throw Error(zr+"Exponent not an integer: "+Ct(pe));if(Se!=null&&(Se=new He(Se)),Xe=pe.e>14,!Ut.c||!Ut.c[0]||Ut.c[0]==1&&!Ut.e&&Ut.c.length==1||!pe.c||!pe.c[0])return ut=new He(Math.pow(+Ct(Ut),Xe?pe.s*(2-m(pe)):+Ct(pe))),Se?ut.mod(Se):ut;if(at=pe.s<0,Se){if(Se.c?!Se.c[0]:!Se.s)return new He(NaN);Pe=!at&&Ut.isInteger()&&Se.isInteger(),Pe&&(Ut=Ut.mod(Se))}else{if(pe.e>9&&(Ut.e>0||Ut.e<-1||(Ut.e==0?Ut.c[0]>1||Xe&&Ut.c[1]>=24e7:Ut.c[0]<8e13||Xe&&Ut.c[0]<=9999975e7)))return Re=Ut.s<0&&m(pe)?-0:0,Ut.e>-1&&(Re=1/Re),new He(at?1/Re:Re);qt&&(Re=wo(qt/tr+2))}for(Xe?(Me=new He(.5),at&&(pe.s=1),gt=m(pe)):(Ae=Math.abs(+Ct(pe)),gt=Ae%2),ut=new He(F);;){if(gt){if(ut=ut.times(Ut),!ut.c)break;Re?ut.c.length>Re&&(ut.c.length=Re):Pe&&(ut=ut.mod(Se))}if(Ae){if(Ae=mi(Ae/2),Ae===0)break;gt=Ae%2}else if(pe=pe.times(Me),lt(pe,pe.e+1,1),pe.e>14)gt=m(pe);else{if(Ae=+Ct(pe),Ae===0)break;gt=Ae%2}Ut=Ut.times(Ut),Re?Ut.c&&Ut.c.length>Re&&(Ut.c.length=Re):Pe&&(Ut=Ut.mod(Se))}return Pe?ut:(at&&(ut=F.div(ut)),Se?ut.mod(Se):Re?lt(ut,qt,Y,Je):ut)},P.integerValue=function(pe){var Se=new He(this);return pe==null?pe=Y:s(pe,0,8),lt(Se,Se.e+1,pe)},P.isEqualTo=P.eq=function(pe,Se){return ko(this,new He(pe,Se))===0},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(pe,Se){return ko(this,new He(pe,Se))>0},P.isGreaterThanOrEqualTo=P.gte=function(pe,Se){return(Se=ko(this,new He(pe,Se)))===1||Se===0},P.isInteger=function(){return!!this.c&&ga(this.e/tr)>this.c.length-2},P.isLessThan=P.lt=function(pe,Se){return ko(this,new He(pe,Se))<0},P.isLessThanOrEqualTo=P.lte=function(pe,Se){return(Se=ko(this,new He(pe,Se)))===-1||Se===0},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&this.c[0]==0},P.minus=function(pe,Se){var Me,Pe,Ae,Re,Je=this,Xe=Je.s;if(pe=new He(pe,Se),Se=pe.s,!Xe||!Se)return new He(NaN);if(Xe!=Se)return pe.s=-Se,Je.plus(pe);var at=Je.e/tr,gt=pe.e/tr,ut=Je.c,Ut=pe.c;if(!at||!gt){if(!ut||!Ut)return ut?(pe.s=-Se,pe):new He(Ut?Je:NaN);if(!ut[0]||!Ut[0])return Ut[0]?(pe.s=-Se,pe):new He(ut[0]?Je:Y==3?-0:0)}if(at=ga(at),gt=ga(gt),ut=ut.slice(),Xe=at-gt){for((Re=Xe<0)?(Xe=-Xe,Ae=ut):(gt=at,Ae=Ut),Ae.reverse(),Se=Xe;Se--;Ae.push(0));Ae.reverse()}else for(Pe=(Re=(Xe=ut.length)<(Se=Ut.length))?Xe:Se,Xe=Se=0;Se<Pe;Se++)if(ut[Se]!=Ut[Se]){Re=ut[Se]<Ut[Se];break}if(Re&&(Ae=ut,ut=Ut,Ut=Ae,pe.s=-pe.s),Se=(Pe=Ut.length)-(Me=ut.length),Se>0)for(;Se--;ut[Me++]=0);for(Se=Oa-1;Pe>Xe;){if(ut[--Pe]<Ut[Pe]){for(Me=Pe;Me&&!ut[--Me];ut[Me]=Se);--ut[Me],ut[Pe]+=Oa}ut[Pe]-=Ut[Pe]}for(;ut[0]==0;ut.splice(0,1),--gt);return ut[0]?yt(pe,ut,gt):(pe.s=Y==3?-1:1,pe.c=[pe.e=0],pe)},P.modulo=P.mod=function(pe,Se){var Me,Pe,Ae=this;return pe=new He(pe,Se),!Ae.c||!pe.s||pe.c&&!pe.c[0]?new He(NaN):!pe.c||Ae.c&&!Ae.c[0]?new He(Ae):(St==9?(Pe=pe.s,pe.s=1,Me=p(Ae,pe,0,3),pe.s=Pe,Me.s*=Pe):Me=p(Ae,pe,0,St),pe=Ae.minus(Me.times(pe)),!pe.c[0]&&St==1&&(pe.s=Ae.s),pe)},P.multipliedBy=P.times=function(pe,Se){var Me,Pe,Ae,Re,Je,Xe,at,gt,ut,Ut,yn,Ln,In,or,Xr,Br=this,Yr=Br.c,Gi=(pe=new He(pe,Se)).c;if(!Yr||!Gi||!Yr[0]||!Gi[0])return!Br.s||!pe.s||Yr&&!Yr[0]&&!Gi||Gi&&!Gi[0]&&!Yr?pe.c=pe.e=pe.s=null:(pe.s*=Br.s,!Yr||!Gi?pe.c=pe.e=null:(pe.c=[0],pe.e=0)),pe;for(Pe=ga(Br.e/tr)+ga(pe.e/tr),pe.s*=Br.s,at=Yr.length,Ut=Gi.length,at<Ut&&(In=Yr,Yr=Gi,Gi=In,Ae=at,at=Ut,Ut=Ae),Ae=at+Ut,In=[];Ae--;In.push(0));for(or=Oa,Xr=lo,Ae=Ut;--Ae>=0;){for(Me=0,yn=Gi[Ae]%Xr,Ln=Gi[Ae]/Xr|0,Je=at,Re=Ae+Je;Re>Ae;)gt=Yr[--Je]%Xr,ut=Yr[Je]/Xr|0,Xe=Ln*gt+ut*yn,gt=yn*gt+Xe%Xr*Xr+In[Re]+Me,Me=(gt/or|0)+(Xe/Xr|0)+Ln*ut,In[Re--]=gt%or;In[Re]=Me}return Me?++Pe:In.splice(0,1),yt(pe,In,Pe)},P.negated=function(){var pe=new He(this);return pe.s=-pe.s||null,pe},P.plus=function(pe,Se){var Me,Pe=this,Ae=Pe.s;if(pe=new He(pe,Se),Se=pe.s,!Ae||!Se)return new He(NaN);if(Ae!=Se)return pe.s=-Se,Pe.minus(pe);var Re=Pe.e/tr,Je=pe.e/tr,Xe=Pe.c,at=pe.c;if(!Re||!Je){if(!Xe||!at)return new He(Ae/0);if(!Xe[0]||!at[0])return at[0]?pe:new He(Xe[0]?Pe:Ae*0)}if(Re=ga(Re),Je=ga(Je),Xe=Xe.slice(),Ae=Re-Je){for(Ae>0?(Je=Re,Me=at):(Ae=-Ae,Me=Xe),Me.reverse();Ae--;Me.push(0));Me.reverse()}for(Ae=Xe.length,Se=at.length,Ae-Se<0&&(Me=at,at=Xe,Xe=Me,Se=Ae),Ae=0;Se;)Ae=(Xe[--Se]=Xe[Se]+at[Se]+Ae)/Oa|0,Xe[Se]=Oa===Xe[Se]?0:Xe[Se]%Oa;return Ae&&(Xe=[Ae].concat(Xe),++Je),yt(pe,Xe,Je)},P.precision=P.sd=function(pe,Se){var Me,Pe,Ae,Re=this;if(pe!=null&&pe!==!!pe)return s(pe,1,Li),Se==null?Se=Y:s(Se,0,8),lt(new He(Re),pe,Se);if(!(Me=Re.c))return null;if(Ae=Me.length-1,Pe=Ae*tr+1,Ae=Me[Ae]){for(;Ae%10==0;Ae/=10,Pe--);for(Ae=Me[0];Ae>=10;Ae/=10,Pe++);}return pe&&Re.e+1>Pe&&(Pe=Re.e+1),Pe},P.shiftedBy=function(pe){return s(pe,-As,As),this.times("1e"+pe)},P.squareRoot=P.sqrt=function(){var pe,Se,Me,Pe,Ae,Re=this,Je=Re.c,Xe=Re.s,at=Re.e,gt=K+4,ut=new He("0.5");if(Xe!==1||!Je||!Je[0])return new He(!Xe||Xe<0&&(!Je||Je[0])?NaN:Je?Re:1/0);if(Xe=Math.sqrt(+Ct(Re)),Xe==0||Xe==1/0?(Se=ma(Je),(Se.length+at)%2==0&&(Se+="0"),Xe=Math.sqrt(+Se),at=ga((at+1)/2)-(at<0||at%2),Xe==1/0?Se="5e"+at:(Se=Xe.toExponential(),Se=Se.slice(0,Se.indexOf("e")+1)+at),Me=new He(Se)):Me=new He(Xe+""),Me.c[0]){for(at=Me.e,Xe=at+gt,Xe<3&&(Xe=0);;)if(Ae=Me,Me=ut.times(Ae.plus(p(Re,Ae,gt,1))),ma(Ae.c).slice(0,Xe)===(Se=ma(Me.c)).slice(0,Xe))if(Me.e<at&&--Xe,Se=Se.slice(Xe-3,Xe+1),Se=="9999"||!Pe&&Se=="4999"){if(!Pe&&(lt(Ae,Ae.e+K+2,0),Ae.times(Ae).eq(Re))){Me=Ae;break}gt+=4,Xe+=4,Pe=1}else{(!+Se||!+Se.slice(1)&&Se.charAt(0)=="5")&&(lt(Me,Me.e+K+2,1),pe=!Me.times(Me).eq(Re));break}}return lt(Me,Me.e+K+1,Y,pe)},P.toExponential=function(pe,Se){return pe!=null&&(s(pe,0,Li),pe++),Ke(this,pe,Se,1)},P.toFixed=function(pe,Se){return pe!=null&&(s(pe,0,Li),pe=pe+this.e+1),Ke(this,pe,Se)},P.toFormat=function(pe,Se,Me){var Pe,Ae=this;if(Me==null)pe!=null&&Se&&typeof Se=="object"?(Me=Se,Se=null):pe&&typeof pe=="object"?(Me=pe,pe=Se=null):Me=un;else if(typeof Me!="object")throw Error(zr+"Argument not an object: "+Me);if(Pe=Ae.toFixed(pe,Se),Ae.c){var Re,Je=Pe.split("."),Xe=+Me.groupSize,at=+Me.secondaryGroupSize,gt=Me.groupSeparator||"",ut=Je[0],Ut=Je[1],yn=Ae.s<0,Ln=yn?ut.slice(1):ut,In=Ln.length;if(at&&(Re=Xe,Xe=at,at=Re,In-=Re),Xe>0&&In>0){for(Re=In%Xe||Xe,ut=Ln.substr(0,Re);Re<In;Re+=Xe)ut+=gt+Ln.substr(Re,Xe);at>0&&(ut+=gt+Ln.slice(Re)),yn&&(ut="-"+ut)}Pe=Ut?ut+(Me.decimalSeparator||"")+((at=+Me.fractionGroupSize)?Ut.replace(new RegExp("\\d{"+at+"}\\B","g"),"$&"+(Me.fractionGroupSeparator||"")):Ut):ut}return(Me.prefix||"")+Pe+(Me.suffix||"")},P.toFraction=function(pe){var Se,Me,Pe,Ae,Re,Je,Xe,at,gt,ut,Ut,yn,Ln=this,In=Ln.c;if(pe!=null&&(Xe=new He(pe),!Xe.isInteger()&&(Xe.c||Xe.s!==1)||Xe.lt(F)))throw Error(zr+"Argument "+(Xe.isInteger()?"out of range: ":"not an integer: ")+Ct(Xe));if(!In)return new He(Ln);for(Se=new He(F),gt=Me=new He(F),Pe=at=new He(F),yn=ma(In),Re=Se.e=yn.length-Ln.e-1,Se.c[0]=us[(Je=Re%tr)<0?tr+Je:Je],pe=!pe||Xe.comparedTo(Se)>0?Re>0?Se:gt:Xe,Je=je,je=1/0,Xe=new He(yn),at.c[0]=0;ut=p(Xe,Se,0,1),Ae=Me.plus(ut.times(Pe)),Ae.comparedTo(pe)!=1;)Me=Pe,Pe=Ae,gt=at.plus(ut.times(Ae=gt)),at=Ae,Se=Xe.minus(ut.times(Ae=Se)),Xe=Ae;return Ae=p(pe.minus(Me),Pe,0,1),at=at.plus(Ae.times(gt)),Me=Me.plus(Ae.times(Pe)),at.s=gt.s=Ln.s,Re=Re*2,Ut=p(gt,Pe,Re,Y).minus(Ln).abs().comparedTo(p(at,Me,Re,Y).minus(Ln).abs())<1?[gt,Pe]:[at,Me],je=Je,Ut},P.toNumber=function(){return+Ct(this)},P.toPrecision=function(pe,Se){return pe!=null&&s(pe,1,Li),Ke(this,pe,Se,2)},P.toString=function(pe){var Se,Me=this,Pe=Me.s,Ae=Me.e;return Ae===null?Pe?(Se="Infinity",Pe<0&&(Se="-"+Se)):Se="NaN":(pe==null?Se=Ae<=ge||Ae>=ve?M(ma(Me.c),Ae):z(ma(Me.c),Ae,"0"):pe===10&&Zn?(Me=lt(new He(Me),K+Ae+1,Y),Se=z(ma(Me.c),Me.e,"0")):(s(pe,2,vn.length,"Base"),Se=_(z(ma(Me.c),Ae,"0"),10,pe,Pe,!0)),Pe<0&&Me.c[0]&&(Se="-"+Se)),Se},P.valueOf=P.toJSON=function(){return Ct(this)},P._isBigNumber=!0,P[Symbol.toStringTag]="BigNumber",P[Symbol.for("nodejs.util.inspect.custom")]=P.valueOf,u!=null&&He.set(u),He}function ga(u){var p=u|0;return u>0||u===p?p:p-1}function ma(u){for(var p,_,S=1,P=u.length,F=u[0]+"";S<P;){for(p=u[S++]+"",_=tr-p.length;_--;p="0"+p);F+=p}for(P=F.length;F.charCodeAt(--P)===48;);return F.slice(0,P+1||1)}function ko(u,p){var _,S,P=u.c,F=p.c,K=u.s,Y=p.s,ge=u.e,ve=p.e;if(!K||!Y)return null;if(_=P&&!P[0],S=F&&!F[0],_||S)return _?S?0:-Y:K;if(K!=Y)return K;if(_=K<0,S=ge==ve,!P||!F)return S?0:!P^_?1:-1;if(!S)return ge>ve^_?1:-1;for(Y=(ge=P.length)<(ve=F.length)?ge:ve,K=0;K<Y;K++)if(P[K]!=F[K])return P[K]>F[K]^_?1:-1;return ge==ve?0:ge>ve^_?1:-1}function s(u,p,_,S){if(u<p||u>_||u!==mi(u))throw Error(zr+(S||"Argument")+(typeof u=="number"?u<p||u>_?" out of range: ":" not an integer: ":" not a primitive number: ")+String(u))}function m(u){var p=u.c.length-1;return ga(u.e/tr)==p&&u.c[p]%2!=0}function M(u,p){return(u.length>1?u.charAt(0)+"."+u.slice(1):u)+(p<0?"e":"e+")+p}function z(u,p,_){var S,P;if(p<0){for(P=_+".";++p;P+=_);u=P+u}else if(S=u.length,++p>S){for(P=_,p-=S;--p;P+=_);u+=P}else p<S&&(u=u.slice(0,p)+"."+u.slice(p));return u}var ie=hl(),Ce=ie,Ye=class{key;left=null;right=null;constructor(u){this.key=u}},xt=class extends Ye{constructor(u){super(u)}},It=class{size=0;modificationCount=0;splayCount=0;splay(u){let p=this.root;if(p==null)return this.compare(u,u),-1;let _=null,S=null,P=null,F=null,K=p,Y=this.compare,ge;for(;;)if(ge=Y(K.key,u),ge>0){let ve=K.left;if(ve==null||(ge=Y(ve.key,u),ge>0&&(K.left=ve.right,ve.right=K,K=ve,ve=K.left,ve==null)))break;_==null?S=K:_.left=K,_=K,K=ve}else if(ge<0){let ve=K.right;if(ve==null||(ge=Y(ve.key,u),ge<0&&(K.right=ve.left,ve.left=K,K=ve,ve=K.right,ve==null)))break;P==null?F=K:P.right=K,P=K,K=ve}else break;return P!=null&&(P.right=K.left,K.left=F),_!=null&&(_.left=K.right,K.right=S),this.root!==K&&(this.root=K,this.splayCount++),ge}splayMin(u){let p=u,_=p.left;for(;_!=null;){let S=_;p.left=S.right,S.right=p,p=S,_=p.left}return p}splayMax(u){let p=u,_=p.right;for(;_!=null;){let S=_;p.right=S.left,S.left=p,p=S,_=p.right}return p}_delete(u){if(this.root==null||this.splay(u)!=0)return null;let p=this.root,_=p,S=p.left;if(this.size--,S==null)this.root=p.right;else{let P=p.right;p=this.splayMax(S),p.right=P,this.root=p}return this.modificationCount++,_}addNewRoot(u,p){this.size++,this.modificationCount++;let _=this.root;if(_==null){this.root=u;return}p<0?(u.left=_,u.right=_.right,_.right=null):(u.right=_,u.left=_.left,_.left=null),this.root=u}_first(){let u=this.root;return u==null?null:(this.root=this.splayMin(u),this.root)}_last(){let u=this.root;return u==null?null:(this.root=this.splayMax(u),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(u){return this.validKey(u)&&this.splay(u)==0}defaultCompare(){return(u,p)=>u<p?-1:u>p?1:0}wrap(){return{getRoot:()=>this.root,setRoot:u=>{this.root=u},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:u=>{this.splayCount=u},splay:u=>this.splay(u),has:u=>this.has(u)}}},en=class Vu extends It{root=null;compare;validKey;constructor(p,_){super(),this.compare=p??this.defaultCompare(),this.validKey=_??(S=>S!=null&&S!=null)}delete(p){return this.validKey(p)?this._delete(p)!=null:!1}deleteAll(p){for(let _ of p)this.delete(_)}forEach(p){let _=this[Symbol.iterator](),S;for(;S=_.next(),!S.done;)p(S.value,S.value,this)}add(p){let _=this.splay(p);return _!=0&&this.addNewRoot(new xt(p),_),this}addAndReturn(p){let _=this.splay(p);return _!=0&&this.addNewRoot(new xt(p),_),this.root.key}addAll(p){for(let _ of p)this.add(_)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(p){if(p==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(p)<0)return this.root.key;let _=this.root.left;if(_==null)return null;let S=_.right;for(;S!=null;)_=S,S=_.right;return _.key}firstAfter(p){if(p==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(p)>0)return this.root.key;let _=this.root.right;if(_==null)return null;let S=_.left;for(;S!=null;)_=S,S=_.left;return _.key}retainAll(p){let _=new Vu(this.compare,this.validKey),S=this.modificationCount;for(let P of p){if(S!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(P)&&this.splay(P)==0&&_.add(this.root.key)}_.size!=this.size&&(this.root=_.root,this.size=_.size,this.modificationCount++)}lookup(p){return!this.validKey(p)||this.splay(p)!=0?null:this.root.key}intersection(p){let _=new Vu(this.compare,this.validKey);for(let S of this)p.has(S)&&_.add(S);return _}difference(p){let _=new Vu(this.compare,this.validKey);for(let S of this)p.has(S)||_.add(S);return _}union(p){let _=this.clone();return _.addAll(p),_}clone(){let p=new Vu(this.compare,this.validKey);return p.size=this.size,p.root=this.copyNode(this.root),p}copyNode(p){if(p==null)return null;function _(P,F){let K,Y;do{if(K=P.left,Y=P.right,K!=null){let ge=new xt(K.key);F.left=ge,_(K,ge)}if(Y!=null){let ge=new xt(Y.key);F.right=ge,P=Y,F=ge}}while(Y!=null)}let S=new xt(p.key);return _(p,S),S}toSet(){return this.clone()}entries(){return new kr(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Vn(this.wrap())}[Symbol.toStringTag]="[object Set]"},_n=class{tree;path=new Array;modificationCount=null;splayCount;constructor(u){this.tree=u,this.splayCount=u.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let u=this.path[this.path.length-1];return this.getValue(u)}rebuildPath(u){this.path.splice(0,this.path.length),this.tree.splay(u),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(u){for(;u!=null;)this.path.push(u),u=u.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let _=this.tree.getRoot();for(;_!=null;)this.path.push(_),_=_.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let u=this.path[this.path.length-1],p=u.right;if(p!=null){for(;p!=null;)this.path.push(p),p=p.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===u;)u=this.path.pop();return this.path.length>0}},Vn=class extends _n{getValue(u){return u.key}},kr=class extends _n{getValue(u){return[u.key,u.key]}},va=u=>u,$i=u=>{if(u){let p=new en(es(u)),_=new en(es(u)),S=(F,K)=>K.addAndReturn(F),P=F=>({x:S(F.x,p),y:S(F.y,_)});return P({x:new Ce(0),y:new Ce(0)}),P}return va},Aa=u=>({set:p=>{wi=Aa(p)},reset:()=>Aa(u),compare:es(u),snap:$i(u),orient:qo(u)}),wi=Aa(),Lo=(u,p)=>u.ll.x.isLessThanOrEqualTo(p.x)&&p.x.isLessThanOrEqualTo(u.ur.x)&&u.ll.y.isLessThanOrEqualTo(p.y)&&p.y.isLessThanOrEqualTo(u.ur.y),dl=(u,p)=>{if(p.ur.x.isLessThan(u.ll.x)||u.ur.x.isLessThan(p.ll.x)||p.ur.y.isLessThan(u.ll.y)||u.ur.y.isLessThan(p.ll.y))return null;let _=u.ll.x.isLessThan(p.ll.x)?p.ll.x:u.ll.x,S=u.ur.x.isLessThan(p.ur.x)?u.ur.x:p.ur.x,P=u.ll.y.isLessThan(p.ll.y)?p.ll.y:u.ll.y,F=u.ur.y.isLessThan(p.ur.y)?u.ur.y:p.ur.y;return{ll:{x:_,y:P},ur:{x:S,y:F}}},Co=(u,p)=>u.x.times(p.y).minus(u.y.times(p.x)),uo=(u,p)=>u.x.times(p.x).plus(u.y.times(p.y)),Za=u=>uo(u,u).sqrt(),Au=(u,p,_)=>{let S={x:p.x.minus(u.x),y:p.y.minus(u.y)},P={x:_.x.minus(u.x),y:_.y.minus(u.y)};return Co(P,S).div(Za(P)).div(Za(S))},fl=(u,p,_)=>{let S={x:p.x.minus(u.x),y:p.y.minus(u.y)},P={x:_.x.minus(u.x),y:_.y.minus(u.y)};return uo(P,S).div(Za(P)).div(Za(S))},ni=(u,p,_)=>p.y.isZero()?null:{x:u.x.plus(p.x.div(p.y).times(_.minus(u.y))),y:_},aa=(u,p,_)=>p.x.isZero()?null:{x:_,y:u.y.plus(p.y.div(p.x).times(_.minus(u.x)))},Tu=(u,p,_,S)=>{if(p.x.isZero())return aa(_,S,u.x);if(S.x.isZero())return aa(u,p,_.x);if(p.y.isZero())return ni(_,S,u.y);if(S.y.isZero())return ni(u,p,_.y);let P=Co(p,S);if(P.isZero())return null;let F={x:_.x.minus(u.x),y:_.y.minus(u.y)},K=Co(F,p).div(P),Y=Co(F,S).div(P),ge=u.x.plus(Y.times(p.x)),ve=_.x.plus(K.times(S.x)),Ve=u.y.plus(Y.times(p.y)),je=_.y.plus(K.times(S.y)),vt=ge.plus(ve).div(2),St=Ve.plus(je).div(2);return{x:vt,y:St}},No=class hx{point;isLeft;segment;otherSE;consumedBy;static compare(p,_){let S=hx.comparePoints(p.point,_.point);return S!==0?S:(p.point!==_.point&&p.link(_),p.isLeft!==_.isLeft?p.isLeft?1:-1:cs.compare(p.segment,_.segment))}static comparePoints(p,_){return p.x.isLessThan(_.x)?-1:p.x.isGreaterThan(_.x)?1:p.y.isLessThan(_.y)?-1:p.y.isGreaterThan(_.y)?1:0}constructor(p,_){p.events===void 0?p.events=[this]:p.events.push(this),this.point=p,this.isLeft=_}link(p){if(p.point===this.point)throw new Error("Tried to link already linked events");let _=p.point.events;for(let S=0,P=_.length;S<P;S++){let F=_[S];this.point.events.push(F),F.point=this.point}this.checkForConsuming()}checkForConsuming(){let p=this.point.events.length;for(let _=0;_<p;_++){let S=this.point.events[_];if(S.segment.consumedBy===void 0)for(let P=_+1;P<p;P++){let F=this.point.events[P];F.consumedBy===void 0&&S.otherSE.point.events===F.otherSE.point.events&&S.segment.consume(F.segment)}}}getAvailableLinkedEvents(){let p=[];for(let _=0,S=this.point.events.length;_<S;_++){let P=this.point.events[_];P!==this&&!P.segment.ringOut&&P.segment.isInResult()&&p.push(P)}return p}getLeftmostComparator(p){let _=new Map,S=P=>{let F=P.otherSE;_.set(P,{sine:Au(this.point,p.point,F.point),cosine:fl(this.point,p.point,F.point)})};return(P,F)=>{_.has(P)||S(P),_.has(F)||S(F);let{sine:K,cosine:Y}=_.get(P),{sine:ge,cosine:ve}=_.get(F);return K.isGreaterThanOrEqualTo(0)&&ge.isGreaterThanOrEqualTo(0)?Y.isLessThan(ve)?1:Y.isGreaterThan(ve)?-1:0:K.isLessThan(0)&&ge.isLessThan(0)?Y.isLessThan(ve)?-1:Y.isGreaterThan(ve)?1:0:ge.isLessThan(K)?-1:ge.isGreaterThan(K)?1:0}}},ql=0,cs=class uh{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(p,_){let S=p.leftSE.point.x,P=_.leftSE.point.x,F=p.rightSE.point.x,K=_.rightSE.point.x;if(K.isLessThan(S))return 1;if(F.isLessThan(P))return-1;let Y=p.leftSE.point.y,ge=_.leftSE.point.y,ve=p.rightSE.point.y,Ve=_.rightSE.point.y;if(S.isLessThan(P)){if(ge.isLessThan(Y)&&ge.isLessThan(ve))return 1;if(ge.isGreaterThan(Y)&&ge.isGreaterThan(ve))return-1;let je=p.comparePoint(_.leftSE.point);if(je<0)return 1;if(je>0)return-1;let vt=_.comparePoint(p.rightSE.point);return vt!==0?vt:-1}if(S.isGreaterThan(P)){if(Y.isLessThan(ge)&&Y.isLessThan(Ve))return-1;if(Y.isGreaterThan(ge)&&Y.isGreaterThan(Ve))return 1;let je=_.comparePoint(p.leftSE.point);if(je!==0)return je;let vt=p.comparePoint(_.rightSE.point);return vt<0?1:vt>0?-1:1}if(Y.isLessThan(ge))return-1;if(Y.isGreaterThan(ge))return 1;if(F.isLessThan(K)){let je=_.comparePoint(p.rightSE.point);if(je!==0)return je}if(F.isGreaterThan(K)){let je=p.comparePoint(_.rightSE.point);if(je<0)return 1;if(je>0)return-1}if(!F.eq(K)){let je=ve.minus(Y),vt=F.minus(S),St=Ve.minus(ge),qt=K.minus(P);if(je.isGreaterThan(vt)&&St.isLessThan(qt))return 1;if(je.isLessThan(vt)&&St.isGreaterThan(qt))return-1}return F.isGreaterThan(K)?1:F.isLessThan(K)||ve.isLessThan(Ve)?-1:ve.isGreaterThan(Ve)?1:p.id<_.id?-1:p.id>_.id?1:0}constructor(p,_,S,P){this.id=++ql,this.leftSE=p,p.segment=this,p.otherSE=_,this.rightSE=_,_.segment=this,_.otherSE=p,this.rings=S,this.windings=P}static fromRing(p,_,S){let P,F,K,Y=No.comparePoints(p,_);if(Y<0)P=p,F=_,K=1;else if(Y>0)P=_,F=p,K=-1;else throw new Error(`Tried to create degenerate segment at [${p.x}, ${p.y}]`);let ge=new No(P,!0),ve=new No(F,!1);return new uh(ge,ve,[S],[K])}replaceRightSE(p){this.rightSE=p,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let p=this.leftSE.point.y,_=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:p.isLessThan(_)?p:_},ur:{x:this.rightSE.point.x,y:p.isGreaterThan(_)?p:_}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(p){return p.x.eq(this.leftSE.point.x)&&p.y.eq(this.leftSE.point.y)||p.x.eq(this.rightSE.point.x)&&p.y.eq(this.rightSE.point.y)}comparePoint(p){return wi.orient(this.leftSE.point,p,this.rightSE.point)}getIntersection(p){let _=this.bbox(),S=p.bbox(),P=dl(_,S);if(P===null)return null;let F=this.leftSE.point,K=this.rightSE.point,Y=p.leftSE.point,ge=p.rightSE.point,ve=Lo(_,Y)&&this.comparePoint(Y)===0,Ve=Lo(S,F)&&p.comparePoint(F)===0,je=Lo(_,ge)&&this.comparePoint(ge)===0,vt=Lo(S,K)&&p.comparePoint(K)===0;if(Ve&&ve)return vt&&!je?K:!vt&&je?ge:null;if(Ve)return je&&F.x.eq(ge.x)&&F.y.eq(ge.y)?null:F;if(ve)return vt&&K.x.eq(Y.x)&&K.y.eq(Y.y)?null:Y;if(vt&&je)return null;if(vt)return K;if(je)return ge;let St=Tu(F,this.vector(),Y,p.vector());return St===null||!Lo(P,St)?null:wi.snap(St)}split(p){let _=[],S=p.events!==void 0,P=new No(p,!0),F=new No(p,!1),K=this.rightSE;this.replaceRightSE(F),_.push(F),_.push(P);let Y=new uh(P,K,this.rings.slice(),this.windings.slice());return No.comparePoints(Y.leftSE.point,Y.rightSE.point)>0&&Y.swapEvents(),No.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),S&&(P.checkForConsuming(),F.checkForConsuming()),_}swapEvents(){let p=this.rightSE;this.rightSE=this.leftSE,this.leftSE=p,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let _=0,S=this.windings.length;_<S;_++)this.windings[_]*=-1}consume(p){let _=this,S=p;for(;_.consumedBy;)_=_.consumedBy;for(;S.consumedBy;)S=S.consumedBy;let P=uh.compare(_,S);if(P!==0){if(P>0){let F=_;_=S,S=F}if(_.prev===S){let F=_;_=S,S=F}for(let F=0,K=S.rings.length;F<K;F++){let Y=S.rings[F],ge=S.windings[F],ve=_.rings.indexOf(Y);ve===-1?(_.rings.push(Y),_.windings.push(ge)):_.windings[ve]+=ge}S.rings=null,S.windings=null,S.consumedBy=_,S.leftSE.consumedBy=_.leftSE,S.rightSE.consumedBy=_.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let p=this.prev.consumedBy||this.prev;this._beforeState=p.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let p=this.beforeState();this._afterState={rings:p.rings.slice(0),windings:p.windings.slice(0),multiPolys:[]};let _=this._afterState.rings,S=this._afterState.windings,P=this._afterState.multiPolys;for(let Y=0,ge=this.rings.length;Y<ge;Y++){let ve=this.rings[Y],Ve=this.windings[Y],je=_.indexOf(ve);je===-1?(_.push(ve),S.push(Ve)):S[je]+=Ve}let F=[],K=[];for(let Y=0,ge=_.length;Y<ge;Y++){if(S[Y]===0)continue;let ve=_[Y],Ve=ve.poly;if(K.indexOf(Ve)===-1)if(ve.isExterior)F.push(Ve);else{K.indexOf(Ve)===-1&&K.push(Ve);let je=F.indexOf(ve.poly);je!==-1&&F.splice(je,1)}}for(let Y=0,ge=F.length;Y<ge;Y++){let ve=F[Y].multiPoly;P.indexOf(ve)===-1&&P.push(ve)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let p=this.beforeState().multiPolys,_=this.afterState().multiPolys;switch(Vl.type){case"union":{let S=p.length===0,P=_.length===0;this._isInResult=S!==P;break}case"intersection":{let S,P;p.length<_.length?(S=p.length,P=_.length):(S=_.length,P=p.length),this._isInResult=P===Vl.numMultiPolys&&S<P;break}case"xor":{let S=Math.abs(p.length-_.length);this._isInResult=S%2===1;break}case"difference":{let S=P=>P.length===1&&P[0].isSubject;this._isInResult=S(p)!==S(_);break}}return this._isInResult}},Vs=class{poly;isExterior;segments;bbox;constructor(u,p,_){if(!Array.isArray(u)||u.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=p,this.isExterior=_,this.segments=[],typeof u[0][0]!="number"||typeof u[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let S=wi.snap({x:new Ce(u[0][0]),y:new Ce(u[0][1])});this.bbox={ll:{x:S.x,y:S.y},ur:{x:S.x,y:S.y}};let P=S;for(let F=1,K=u.length;F<K;F++){if(typeof u[F][0]!="number"||typeof u[F][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let Y=wi.snap({x:new Ce(u[F][0]),y:new Ce(u[F][1])});Y.x.eq(P.x)&&Y.y.eq(P.y)||(this.segments.push(cs.fromRing(P,Y,this)),Y.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=Y.x),Y.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=Y.y),Y.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=Y.x),Y.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=Y.y),P=Y)}(!S.x.eq(P.x)||!S.y.eq(P.y))&&this.segments.push(cs.fromRing(P,S,this))}getSweepEvents(){let u=[];for(let p=0,_=this.segments.length;p<_;p++){let S=this.segments[p];u.push(S.leftSE),u.push(S.rightSE)}return u}},Ul=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(u,p){if(!Array.isArray(u))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Vs(u[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let _=1,S=u.length;_<S;_++){let P=new Vs(u[_],this,!1);P.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=P.bbox.ll.x),P.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=P.bbox.ll.y),P.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=P.bbox.ur.x),P.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=P.bbox.ur.y),this.interiorRings.push(P)}this.multiPoly=p}getSweepEvents(){let u=this.exteriorRing.getSweepEvents();for(let p=0,_=this.interiorRings.length;p<_;p++){let S=this.interiorRings[p].getSweepEvents();for(let P=0,F=S.length;P<F;P++)u.push(S[P])}return u}},yc=class{isSubject;polys;bbox;constructor(u,p){if(!Array.isArray(u))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof u[0][0][0]=="number"&&(u=[u])}catch{}this.polys=[],this.bbox={ll:{x:new Ce(Number.POSITIVE_INFINITY),y:new Ce(Number.POSITIVE_INFINITY)},ur:{x:new Ce(Number.NEGATIVE_INFINITY),y:new Ce(Number.NEGATIVE_INFINITY)}};for(let _=0,S=u.length;_<S;_++){let P=new Ul(u[_],this);P.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=P.bbox.ll.x),P.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=P.bbox.ll.y),P.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=P.bbox.ur.x),P.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=P.bbox.ur.y),this.polys.push(P)}this.isSubject=p}getSweepEvents(){let u=[];for(let p=0,_=this.polys.length;p<_;p++){let S=this.polys[p].getSweepEvents();for(let P=0,F=S.length;P<F;P++)u.push(S[P])}return u}},Gl=class ep{events;poly;_isExteriorRing;_enclosingRing;static factory(p){let _=[];for(let S=0,P=p.length;S<P;S++){let F=p[S];if(!F.isInResult()||F.ringOut)continue;let K=null,Y=F.leftSE,ge=F.rightSE,ve=[Y],Ve=Y.point,je=[];for(;K=Y,Y=ge,ve.push(Y),Y.point!==Ve;)for(;;){let vt=Y.getAvailableLinkedEvents();if(vt.length===0){let un=ve[0].point,vn=ve[ve.length-1].point;throw new Error(`Unable to complete output ring starting at [${un.x}, ${un.y}]. Last matching segment found ends at [${vn.x}, ${vn.y}].`)}if(vt.length===1){ge=vt[0].otherSE;break}let St=null;for(let un=0,vn=je.length;un<vn;un++)if(je[un].point===Y.point){St=un;break}if(St!==null){let un=je.splice(St)[0],vn=ve.splice(un.index);vn.unshift(vn[0].otherSE),_.push(new ep(vn.reverse()));continue}je.push({index:ve.length,point:Y.point});let qt=Y.getLeftmostComparator(K);ge=vt.sort(qt)[0].otherSE;break}_.push(new ep(ve))}return _}constructor(p){this.events=p;for(let _=0,S=p.length;_<S;_++)p[_].segment.ringOut=this;this.poly=null}getGeom(){let p=this.events[0].point,_=[p];for(let ve=1,Ve=this.events.length-1;ve<Ve;ve++){let je=this.events[ve].point,vt=this.events[ve+1].point;wi.orient(je,p,vt)!==0&&(_.push(je),p=je)}if(_.length===1)return null;let S=_[0],P=_[1];wi.orient(S,p,P)===0&&_.shift(),_.push(_[0]);let F=this.isExteriorRing()?1:-1,K=this.isExteriorRing()?0:_.length-1,Y=this.isExteriorRing()?_.length:-1,ge=[];for(let ve=K;ve!=Y;ve+=F)ge.push([_[ve].x.toNumber(),_[ve].y.toNumber()]);return ge}isExteriorRing(){if(this._isExteriorRing===void 0){let p=this.enclosingRing();this._isExteriorRing=p?!p.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let p=this.events[0];for(let P=1,F=this.events.length;P<F;P++){let K=this.events[P];No.compare(p,K)>0&&(p=K)}let _=p.segment.prevInResult(),S=_?_.prevInResult():null;for(;;){if(!_)return null;if(!S)return _.ringOut;if(S.ringOut!==_.ringOut)return S.ringOut?.enclosingRing()!==_.ringOut?_.ringOut:_.ringOut?.enclosingRing();_=S.prevInResult(),S=_?_.prevInResult():null}}},pl=class{exteriorRing;interiorRings;constructor(u){this.exteriorRing=u,u.poly=this,this.interiorRings=[]}addInterior(u){this.interiorRings.push(u),u.poly=this}getGeom(){let u=this.exteriorRing.getGeom();if(u===null)return null;let p=[u];for(let _=0,S=this.interiorRings.length;_<S;_++){let P=this.interiorRings[_].getGeom();P!==null&&p.push(P)}return p}},gl=class{rings;polys;constructor(u){this.rings=u,this.polys=this._composePolys(u)}getGeom(){let u=[];for(let p=0,_=this.polys.length;p<_;p++){let S=this.polys[p].getGeom();S!==null&&u.push(S)}return u}_composePolys(u){let p=[];for(let _=0,S=u.length;_<S;_++){let P=u[_];if(!P.poly)if(P.isExteriorRing())p.push(new pl(P));else{let F=P.enclosingRing();F?.poly||p.push(new pl(F)),F?.poly?.addInterior(P)}}return p}},Ru=class{queue;tree;segments;constructor(u,p=cs.compare){this.queue=u,this.tree=new en(p),this.segments=[]}process(u){let p=u.segment,_=[];if(u.consumedBy)return u.isLeft?this.queue.delete(u.otherSE):this.tree.delete(p),_;u.isLeft&&this.tree.add(p);let S=p,P=p;do S=this.tree.lastBefore(S);while(S!=null&&S.consumedBy!=null);do P=this.tree.firstAfter(P);while(P!=null&&P.consumedBy!=null);if(u.isLeft){let F=null;if(S){let Y=S.getIntersection(p);if(Y!==null&&(p.isAnEndpoint(Y)||(F=Y),!S.isAnEndpoint(Y))){let ge=this._splitSafely(S,Y);for(let ve=0,Ve=ge.length;ve<Ve;ve++)_.push(ge[ve])}}let K=null;if(P){let Y=P.getIntersection(p);if(Y!==null&&(p.isAnEndpoint(Y)||(K=Y),!P.isAnEndpoint(Y))){let ge=this._splitSafely(P,Y);for(let ve=0,Ve=ge.length;ve<Ve;ve++)_.push(ge[ve])}}if(F!==null||K!==null){let Y=null;F===null?Y=K:K===null?Y=F:Y=No.comparePoints(F,K)<=0?F:K,this.queue.delete(p.rightSE),_.push(p.rightSE);let ge=p.split(Y);for(let ve=0,Ve=ge.length;ve<Ve;ve++)_.push(ge[ve])}_.length>0?(this.tree.delete(p),_.push(u)):(this.segments.push(p),p.prev=S)}else{if(S&&P){let F=S.getIntersection(P);if(F!==null){if(!S.isAnEndpoint(F)){let K=this._splitSafely(S,F);for(let Y=0,ge=K.length;Y<ge;Y++)_.push(K[Y])}if(!P.isAnEndpoint(F)){let K=this._splitSafely(P,F);for(let Y=0,ge=K.length;Y<ge;Y++)_.push(K[Y])}}}this.tree.delete(p)}return _}_splitSafely(u,p){this.tree.delete(u);let _=u.rightSE;this.queue.delete(_);let S=u.split(p);return S.push(_),u.consumedBy===void 0&&this.tree.add(u),S}},sd=class{type;numMultiPolys;run(u,p,_){Ws.type=u;let S=[new yc(p,!0)];for(let ge=0,ve=_.length;ge<ve;ge++)S.push(new yc(_[ge],!1));if(Ws.numMultiPolys=S.length,Ws.type==="difference"){let ge=S[0],ve=1;for(;ve<S.length;)dl(S[ve].bbox,ge.bbox)!==null?ve++:S.splice(ve,1)}if(Ws.type==="intersection")for(let ge=0,ve=S.length;ge<ve;ge++){let Ve=S[ge];for(let je=ge+1,vt=S.length;je<vt;je++)if(dl(Ve.bbox,S[je].bbox)===null)return[]}let P=new en(No.compare);for(let ge=0,ve=S.length;ge<ve;ge++){let Ve=S[ge].getSweepEvents();for(let je=0,vt=Ve.length;je<vt;je++)P.add(Ve[je])}let F=new Ru(P),K=null;for(P.size!=0&&(K=P.first(),P.delete(K));K;){let ge=F.process(K);for(let ve=0,Ve=ge.length;ve<Ve;ve++){let je=ge[ve];je.consumedBy===void 0&&P.add(je)}P.size!=0?(K=P.first(),P.delete(K)):K=null}wi.reset();let Y=Gl.factory(F.segments);return new gl(Y).getGeom()}},Ws=new sd,Vl=Ws,ld=(u,...p)=>Vl.run("intersection",u,p),ud=(u,...p)=>Vl.run("difference",u,p);wi.set;function Wl(u){let p={type:"Feature"};return p.geometry=u,p}function Kl(u){return u.type==="Feature"?u.geometry:u}function _c(u){return u&&u.geometry&&u.geometry.coordinates?u.geometry.coordinates:u}function bc(u){return Wl({type:"LineString",coordinates:u})}function Zl(u){return Wl({type:"MultiLineString",coordinates:u})}function xc(u){return Wl({type:"Polygon",coordinates:u})}function wc(u){return Wl({type:"MultiPolygon",coordinates:u})}function Cc(u,p){let _=Kl(u),S=Kl(p),P=ld(_.coordinates,S.coordinates);return P.length===0?null:P.length===1?xc(P[0]):wc(P)}function E(u,p){let _=Kl(u),S=Kl(p),P=ud(_.coordinates,S.coordinates);return P.length===0?null:P.length===1?xc(P[0]):wc(P)}function A(u){return Array.isArray(u)?1+A(u[0]):-1}function V(u){u instanceof L.Polyline&&(u=u.toGeoJSON(15));let p=_c(u),_=A(p),S=[];return _>1?p.forEach(P=>{S.push(bc(P))}):S.push(u),S}function re(u){let p=[];return u.eachLayer(_=>{p.push(_c(_.toGeoJSON(15)))}),Zl(p)}vr.Cut=vr.Polygon.extend({initialize(u){this._map=u,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let u=this._layer.getLatLngs();if(u.length<=2)return;let p=L.polygon(u,this.options.pathOptions);p._latlngInfos=this._layer._latlngInfo,this.cut(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:S,originalLayer:P})=>{this._fireCut(P,S,P),this._fireCut(this._map,S,P),P.pm._fireEdit()}),this._editedLayers=[];let _=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(_))},cut(u){let p=this._map._layers,_=u._latlngInfos||[];Object.keys(p).map(S=>p[S]).filter(S=>S.pm).filter(S=>!S._pmTempLayer).filter(S=>!L.PM.optIn&&!S.options.pmIgnore||L.PM.optIn&&S.options.pmIgnore===!1).filter(S=>S instanceof L.Polyline).filter(S=>S!==u).filter(S=>S.pm.options.allowCutting).filter(S=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(S)>-1:!0).filter(S=>!this._layerGroup.hasLayer(S)).filter(S=>{try{let P=!!Oi(u.toGeoJSON(15),S.toGeoJSON(15)).features.length>0;return P||S instanceof L.Polyline&&!(S instanceof L.Polygon)?P:!!Cc(u.toGeoJSON(15),S.toGeoJSON(15))}catch{return S instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(S=>{let P;if(S instanceof L.Polygon){P=L.polygon(S.getLatLngs());let ge=P.getLatLngs();_.forEach(ve=>{if(ve&&ve.snapInfo){let{latlng:Ve}=ve,je=this._calcClosestLayer(Ve,[P]);if(je&&je.segment&&je.distance<this.options.snapDistance){let{segment:vt}=je;if(vt&&vt.length===2){let{indexPath:St,parentPath:qt,newIndex:un}=L.PM.Utils._getIndexFromSegment(ge,vt);(St.length>1?(0,Ka.default)(ge,qt):ge).splice(un,0,Ve)}}}})}else P=S;let F=this._cutLayer(u,P),K=L.geoJSON(F,S.options);K.getLayers().length===1&&([K]=K.getLayers()),this._setPane(K,"layerPane");let Y=K.addTo(this._map.pm._getContainingLayer());if(Y.pm.enable(S.pm.options),Y.pm.disable(),S._pmTempLayer=!0,u._pmTempLayer=!0,S.remove(),S.removeFrom(this._map.pm._getContainingLayer()),u.remove(),u.removeFrom(this._map.pm._getContainingLayer()),Y.getLayers&&Y.getLayers().length===0&&this._map.pm.removeLayer({target:Y}),Y instanceof L.LayerGroup?(Y.eachLayer(ge=>{this._addDrawnLayerProp(ge)}),this._addDrawnLayerProp(Y)):this._addDrawnLayerProp(Y),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let ge=this.options.layersToCut.indexOf(S);ge>-1&&this.options.layersToCut.splice(ge,1)}this._editedLayers.push({layer:Y,originalLayer:S})})},_cutLayer(u,p){let _=L.geoJSON(),S;if(p instanceof L.Polygon)S=E(p.toGeoJSON(15),u.toGeoJSON(15));else{let P=V(p);P.forEach(F=>{let K=B(F,u.toGeoJSON(15)),Y;K&&K.features.length>0?Y=L.geoJSON(K):Y=L.geoJSON(F),Y.getLayers().forEach(ge=>{Yt(u.toGeoJSON(15),ge.toGeoJSON(15))||ge.addTo(_)})}),P.length>1?S=re(_):S=_.toGeoJSON(15)}return S},_change:L.Util.falseFn}),vr.Text=vr.extend({initialize(u){this._map=u,this._shape="Text",this.toolbarButtonName="drawText"},enable(u){L.Util.setOptions(this,u),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let p=u;p.target=this._hintMarker,this._handleSnapping(p)}},_createMarker(u){if(!u.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let P=this.options.textOptions.className.split(" ");this.textArea.classList.add(...P)}let _=this._createTextIcon(this.textArea),S=new L.Marker(p,{textMarker:!0,_textMarkerOverPM:!0,icon:_});if(this._setPane(S,"markerPane"),this._finishLayer(S),S.pm||(S.options.draggable=!1),S.addTo(this._map.pm._getContainingLayer()),S.pm){S.pm.textArea=this.textArea,L.setOptions(S.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let P=this.options.textOptions?.focusAfterDraw??!0;S.pm._createTextMarker(P),this.options.textOptions?.text&&S.pm.setText(this.options.textOptions.text)}this._fireCreate(S),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(u){this.enable(),this._hintMarker.setLatLng(u.latlng)},_createTextArea(){let u=document.createElement("textarea");return u.readOnly=!0,u.classList.add("pm-textarea","pm-disabled"),u},_createTextIcon(u){return L.divIcon({className:"pm-text-marker",html:u})}});var _e={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,ze(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let u=this._getDOMElem();u&&(ze(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(u)):L.DomEvent.on(u,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,ze(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let u=this._getDOMElem();u&&(ze(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(u)):L.DomEvent.off(u,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(u){let p=u.touches?u.touches[0]:u,_={originalEvent:p,target:this._layer};return _.containerPoint=this._map.mouseEventToContainerPoint(p),_.latlng=this._map.containerPointToLatLng(_.containerPoint),this._dragMixinOnMouseDown(_),!1},_simulateMouseMoveEvent(u){let p=u.touches?u.touches[0]:u,_={originalEvent:p,target:this._layer};return _.containerPoint=this._map.mouseEventToContainerPoint(p),_.latlng=this._map.containerPointToLatLng(_.containerPoint),this._dragMixinOnMouseMove(_),!1},_simulateMouseUpEvent(u){let p={originalEvent:u.touches?u.touches[0]:u,target:this._layer};return u.type.indexOf("touch")===-1&&(p.containerPoint=this._map.mouseEventToContainerPoint(u),p.latlng=this._map.containerPointToLatLng(p.containerPoint)),this._dragMixinOnMouseUp(p),!1},_dragMixinOnMouseDown(u){if(u.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(u);let p=u._fromLayerSync,_=this._syncLayers("_dragMixinOnMouseDown",u);if(this._layer instanceof L.Marker&&(this.options.snappable&&!p&&!_?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let S="resizeableCircleMarker";this._layer instanceof L.Circle&&(S="resizeableCircle"),this.options.snappable&&!p&&!_?this._layer.pm.options[S]||this._initSnappableMarkersDrag():this._layer.pm.options[S]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=u.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(u){this._overwriteEventIfItComesFromMarker(u);let p=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",u),this._dragging||(this._dragging=!0,L.DomUtil.addClass(p,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=u.latlng),this._onLayerDrag(u),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(u){let p=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",u),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,p&&L.DomUtil.removeClass(p,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(u){let{latlng:p}=u,_={lat:p.lat-this._tempDragCoord.lat,lng:p.lng-this._tempDragCoord.lng},S=P=>P.map(F=>{if(Array.isArray(F))return S(F);let K={lat:F.lat+_.lat,lng:F.lng+_.lng};return(F.alt||F.alt===0)&&(K.alt=F.alt),K});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let P=S([this._layer.getLatLng()]);this._layer.setLatLng(P[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let P=this._layer.getLatLng();this._layer._snapped&&(P=this._layer._orgLatLng);let F=S([P]);this._layer.setLatLng(F[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let P=S([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(P),this._fireChange(this._layer.getBounds(),"Edit")}else{let P=S(this._layer.getLatLngs());this._layer.setLatLngs(P),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=p,u.layer=this._layer,this._fireDrag(u)},addDraggingClass(){let u=this._getDOMElem();u&&L.DomUtil.addClass(u,"leaflet-pm-draggable")},removeDraggingClass(){let u=this._getDOMElem();u&&L.DomUtil.removeClass(u,"leaflet-pm-draggable")},_getDOMElem(){let u=null;return this._layer._path?u=this._layer._path:this._layer._renderer&&this._layer._renderer._container?u=this._layer._renderer._container:this._layer._image?u=this._layer._image:this._layer._icon&&(u=this._layer._icon),u},_overwriteEventIfItComesFromMarker(u){u.target.getLatLng&&(!u.target._radius||u.target._radius<=10)&&(u.containerPoint=this._map.mouseEventToContainerPoint(u.originalEvent),u.latlng=this._map.containerPointToLatLng(u.containerPoint))},_syncLayers(u,p){if(this.enabled())return!1;if(!p._fromLayerSync&&this._layer===p.target&&this.options.syncLayersOnDrag){p._fromLayerSync=!0;let _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(S=>{S instanceof L.LayerGroup&&(_=_.concat(S.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let S in this._parentLayerGroup){let P=this._parentLayerGroup[S];P.pm&&(_=P.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(S=>!!S.pm).filter(S=>!!S.pm.options.draggable),_.forEach(S=>{S!==this._layer&&S.pm[u]&&(S._snapped=!1,S.pm[u](p))})),_.length>0}return!1},_stopDOMImageDrag(u){return u.preventDefault(),!1}},Ee=_e,Ne=g($r());function Oe(u,p,_,S){return _.unproject(p.transform(_.project(u,S)),S)}function De(u,p,_){let S=_.getMaxZoom();if(S===1/0&&(S=_.getZoom()),L.Util.isArray(u)){let P=[];return u.forEach(F=>{P.push(De(F,p,_))}),P}return u instanceof L.LatLng?Oe(u,p,_,S):null}function Ue(u,p){p instanceof L.Layer&&(p=p.getLatLng());let _=u.getMaxZoom();return _===1/0&&(_=u.getZoom()),u.project(p,_)}function ot(u,p){let _=u.getMaxZoom();return _===1/0&&(_=u.getZoom()),u.unproject(p,_)}var Nt={_onRotateStart(u){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Ue(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Ue(this._map,u.target.getLatLng()),this._initialRotateLatLng=j(this._layer),this._startAngle=this.getAngle();let p=j(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,p),this._fireRotationStart(this._map,p)},_onRotate(u){let p=Ue(this._map,u.target.getLatLng()),_=this._rotationStartPoint,S=this._rotationOriginPoint,P=Math.atan2(p.y-S.y,p.x-S.x)-Math.atan2(_.y-S.y,_.x-S.x);this._layer.setLatLngs(this._rotateLayer(P,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let F=this;function K(Ve,je=[],vt=-1){if(vt>-1&&je.push(vt),L.Util.isArray(Ve[0]))Ve.forEach((St,qt)=>K(St,je.slice(),qt));else{let St=je.length>0?(0,Ne.default)(F._markers,je):F._markers[0];Ve.forEach((qt,un)=>{St[un].setLatLng(qt)})}}K(this._layer.getLatLngs());let Y=j(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(P,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let ge=P*180/Math.PI;ge=ge<0?ge+360:ge;let ve=ge+this._startAngle;this._setAngle(ve),this._rotationLayer.pm._setAngle(ve),this._fireRotation(this._rotationLayer,ge,Y),this._fireRotation(this._map,ge,Y),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let u=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let p=j(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=j(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,u,p),this._fireRotationEnd(this._map,u,p),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(u,p,_,S,P){let F=Ue(P,_);return this._matrix=S.clone().rotate(u,F).flip(),De(p,this._matrix,P)},_setAngle(u){u=u<0?u+360:u,this._angle=u%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let u=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),p=u.getCenter();return u.removeFrom(this._layer._map),p},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(La(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let u={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),u),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=j(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(u){let p=this.getAngle(),_=this._layer.getLatLngs(),S=u*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(S,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+u),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(S,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let P=this.getAngle()-p;P=P<0?P+360:P,this._startAngle=p,this._fireRotation(this._layer,P,_,this._layer),this._fireRotation(this._map||this._layer._map,P,_,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(u){let p=u-this.getAngle();this.rotateLayer(p)},getAngle(){return this._angle||0},setInitAngle(u){this._setAngle(u)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(u){this._rotationCenter=u,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(u)}},Ge=Nt,ct=L.Class.extend({includes:[Ee,Sr,Ge,ka],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(u){L.Util.setOptions(this,u)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(u,p){p==="layerPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":p==="vertexPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":p==="markerPane"&&(u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(u,p){let _=p.target,S={layer:this._layer,marker:_,event:p},P="";return u==="move"?P="moveVertexValidation":u==="add"?P="addVertexValidation":u==="remove"&&(P="removeVertexValidation"),this.options[P]&&typeof this.options[P]=="function"&&!this.options[P](S)?(u==="move"&&(_._cancelDragEventChain=_.getLatLng()),!1):(_._cancelDragEventChain=null,!0)},_vertexValidationDrag(u){return u._cancelDragEventChain?(u._latlng=u._cancelDragEventChain,u.update(),!1):!0},_vertexValidationDragEnd(u){return u._cancelDragEventChain?(u._cancelDragEventChain=null,!1):!0}}),dt=ct;dt.LayerGroup=L.Class.extend({initialize(u){this._layerGroup=u,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(S=>this._initLayer(S));let p=S=>{if(S.layer._pmTempLayer)return;this._layers=this.getLayers();let P=this._layers.filter(F=>!F.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in F.pm._parentLayerGroup));P.forEach(F=>{this._initLayer(F)}),P.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(p,100,this),this),this._layerGroup.on("layerremove",S=>{this._removeLayerFromGroup(S.target)},this);let _=S=>{S.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(_,100,this),this)},enable(u,p=[]){p.length===0&&(this._layers=this.getLayers()),this._options=u,this._layers.forEach(_=>{_ instanceof L.LayerGroup?p.indexOf(_._leaflet_id)===-1&&(p.push(_._leaflet_id),_.pm.enable(u,p)):_.pm.enable(u)})},disable(u=[]){u.length===0&&(this._layers=this.getLayers()),this._layers.forEach(p=>{p instanceof L.LayerGroup?u.indexOf(p._leaflet_id)===-1&&(u.push(p._leaflet_id),p.pm.disable(u)):p.pm.disable()})},enabled(u=[]){return u.length===0&&(this._layers=this.getLayers()),!!this._layers.find(p=>p instanceof L.LayerGroup?u.indexOf(p._leaflet_id)===-1?(u.push(p._leaflet_id),p.pm.enabled(u)):!1:p.pm.enabled())},toggleEdit(u,p=[]){p.length===0&&(this._layers=this.getLayers()),this._options=u,this._layers.forEach(_=>{_ instanceof L.LayerGroup?p.indexOf(_._leaflet_id)===-1&&(p.push(_._leaflet_id),_.pm.toggleEdit(u,p)):_.pm.toggleEdit(u)})},_initLayer(u){let p=L.Util.stamp(this._layerGroup);u.pm._parentLayerGroup||(u.pm._parentLayerGroup={}),u.pm._parentLayerGroup[p]=this._layerGroup},_removeLayerFromGroup(u){if(u.pm&&u.pm._layerGroup){let p=L.Util.stamp(this._layerGroup);delete u.pm._layerGroup[p]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(u=>u.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(u=>!!u._map)?._map||null},getLayers(u=!1,p=!0,_=!0,S=[]){let P=[];return u?this._layerGroup.getLayers().forEach(F=>{P.push(F),F instanceof L.LayerGroup&&S.indexOf(F._leaflet_id)===-1&&(S.push(F._leaflet_id),P=P.concat(F.pm.getLayers(!0,!0,!0,S)))}):P=this._layerGroup.getLayers(),_&&(P=P.filter(F=>!(F instanceof L.LayerGroup))),p&&(P=P.filter(F=>!!F.pm),P=P.filter(F=>!F._pmTempLayer),P=P.filter(F=>!L.PM.optIn&&!F.options.pmIgnore||L.PM.optIn&&F.options.pmIgnore===!1)),P},setOptions(u,p=[]){p.length===0&&(this._layers=this.getLayers()),this.options=u,this._layers.forEach(_=>{_.pm&&(_ instanceof L.LayerGroup?p.indexOf(_._leaflet_id)===-1&&(p.push(_._leaflet_id),_.pm.setOptions(u,p)):_.pm.setOptions(u))})}}),dt.Marker=dt.extend({_shape:"Marker",initialize(u){this._layer=u,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(u={draggable:!0}){if(L.Util.setOptions(this,u),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(u){let p=u.target;p.remove(),this._fireRemove(p),this._fireRemove(this._map,p)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let u=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,u.off("pm:drag",this._handleSnapping,this),u.on("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.on("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this),u.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let u=this._layer;u.off("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this)}});var Bt=g($r()),Lt={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let u=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=u.filter((p,_,S)=>S.indexOf(p)===_)},_removeFromCache(u){let p=this.markerCache.indexOf(u);p>-1&&this.markerCache.splice(p,1)},renderLimits(u){this.markerCache.forEach(p=>{u.includes(p)?this._markerGroup.addLayer(p):this._markerGroup.removeLayer(p)})},applyLimitFilters({latlng:u={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let p=[...this._filterClosestMarkers(u)];this.renderLimits(p)},_filterClosestMarkers(u){let p=[...this.markerCache],_=this.options.limitMarkersToCount;return _===-1?p:(p.sort((S,P)=>{let F=S._latlng.distanceTo(u),K=P._latlng.distanceTo(u);return F-K}),p.filter((S,P)=>_>-1?P<_:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(u){this._preventRenderMarkers=!!u}},Ht=Lt;dt.Line=dt.extend({includes:[Ht],_shape:"Line",initialize(u){this._layer=u,this._enabled=!1},enable(u){if(L.Util.setOptions(this,u),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let u=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(u,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(u){return this.enabled()?this.disable():this.enable(u),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let u=this._map,p=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(u),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let _=S=>{if(Array.isArray(S[0]))return S.map(_,this);let P=S.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&S.map((F,K)=>{let Y=this.isPolygon()?(K+1)%S.length:K+1;return this._createMiddleMarker(P[K],P[Y])}),P};this._markers=_(p),this.filterMarkerGroup(),u.addLayer(this._markerGroup)},_createMarker(u){let p=new L.Marker(u,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this.options.rotate?(p.on("dragstart",this._onRotateStart,this),p.on("drag",this._onRotate,this),p.on("dragend",this._onRotateEnd,this)):(p.on("click",this._onVertexClick,this),p.on("dragstart",this._onMarkerDragStart,this),p.on("move",this._onMarkerDrag,this),p.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||p.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(p),p},_createMiddleMarker(u,p){if(!u||!p)return!1;let _=L.PM.Utils.calcMiddleLatLng(this._map,u.getLatLng(),p.getLatLng()),S=this._createMarker(_),P=L.divIcon({className:"marker-icon marker-icon-middle"});return S.setIcon(P),S.leftM=u,S.rightM=p,u._middleMarkerNext=S,p._middleMarkerPrev=S,S.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),S.on("movestart",this._onMiddleMarkerMoveStart,this),S},_onMiddleMarkerClick(u){let p=u.target;if(!this._vertexValidation("add",u))return;let _=L.divIcon({className:"marker-icon"});p.setIcon(_),this._addMarker(p,p.leftM,p.rightM)},_onMiddleMarkerMoveStart(u){let p=u.target;if(p.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",u)){p.on("move",this._onMiddleMarkerMovePrevent,this);return}p._dragging=!0,this._addMarker(p,p.leftM,p.rightM)},_onMiddleMarkerMovePrevent(u){let p=u.target;this._vertexValidationDrag(p)},_onMiddleMarkerMoveEnd(u){let p=u.target;if(p.off("move",this._onMiddleMarkerMovePrevent,this),p.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(p))return;let _=L.divIcon({className:"marker-icon"});p.setIcon(_),setTimeout(()=>{delete p._dragging},100)},_addMarker(u,p,_){u.off("movestart",this._onMiddleMarkerMoveStart,this),u.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let S=u.getLatLng(),P=this._layer._latlngs;delete u.leftM,delete u.rightM;let{indexPath:F,index:K,parentPath:Y}=L.PM.Utils.findDeepMarkerIndex(this._markers,p),ge=F.length>1?(0,Bt.default)(P,Y):P,ve=F.length>1?(0,Bt.default)(this._markers,Y):this._markers;ge.splice(K+1,0,S),ve.splice(K+1,0,u),this._layer.setLatLngs(P),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(p,u),this._createMiddleMarker(u,_)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(u,L.PM.Utils.findDeepMarkerIndex(this._markers,u).indexPath,S),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Na(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(u){let p=this._layer,_,S;if(this.options.allowSelfIntersection?_=!1:(S=Na(this._layer.toGeoJSON(15)),_=S.features.length>0),_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return _;u?this._flashLayer():(p.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(S)}else p.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return _},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(u,p){u.forEach(_=>{Array.isArray(_)?this._updateDisabledMarkerStyle(_,p):_._icon&&(p&&!this._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker(u){let p=u.target;if(!this._vertexValidation("remove",u))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=j(this._layer,this._layer.getLatLngs()));let _=this._layer.getLatLngs(),{indexPath:S,index:P,parentPath:F}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);if(!S)return;let K=S.length>1?(0,Bt.default)(_,F):_,Y=S.length>1?(0,Bt.default)(this._markers,F):this._markers,ge=F[F.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!ge&&(K.length<=2||this.isPolygon()&&K.length<=3)){this._flashLayer();return}K.splice(P,1),this._layer.setLatLngs(_),this.isPolygon()&&K.length<=2&&K.splice(0,K.length);let ve=!1;if(K.length<=1&&(K.splice(0,K.length),F.length>1&&S.length>1&&(_=ua(_)),this._layer.setLatLngs(_),this._initMarkers(),ve=!0),hi(_)||this._layer.remove(),_=ua(_),this._layer.setLatLngs(_),this._markers=ua(this._markers),!ve&&(Y=S.length>1?(0,Bt.default)(this._markers,F):this._markers,p._middleMarkerPrev&&(this._markerGroup.removeLayer(p._middleMarkerPrev),this._removeFromCache(p._middleMarkerPrev)),p._middleMarkerNext&&(this._markerGroup.removeLayer(p._middleMarkerNext),this._removeFromCache(p._middleMarkerNext)),this._markerGroup.removeLayer(p),this._removeFromCache(p),Y)){let Ve,je;if(this.isPolygon()?(Ve=(P+1)%Y.length,je=(P+(Y.length-1))%Y.length):(je=P-1<0?void 0:P-1,Ve=P+1>=Y.length?void 0:P+1),Ve!==je){let vt=Y[je],St=Y[Ve];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(vt,St)}Y.splice(P,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(p,S),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(u){let p=this._layer.getLatLngs(),_=u.getLatLng(),{indexPath:S,index:P,parentPath:F}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);(S.length>1?(0,Bt.default)(p,F):p).splice(P,1,_),this._layer.setLatLngs(p)},_getNeighborMarkers(u){let{indexPath:p,index:_,parentPath:S}=L.PM.Utils.findDeepMarkerIndex(this._markers,u),P=p.length>1?(0,Bt.default)(this._markers,S):this._markers,F=(_+1)%P.length,K=(_+(P.length-1))%P.length,Y=P[K],ge=P[F];return{prevMarker:Y,nextMarker:ge}},_checkMarkerAllowedToDrag(u){let{prevMarker:p,nextMarker:_}=this._getNeighborMarkers(u),S=L.polyline([p.getLatLng(),u.getLatLng()]),P=L.polyline([u.getLatLng(),_.getLatLng()]),F=Oi(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length,K=Oi(this._layer.toGeoJSON(15),P.toGeoJSON(15)).features.length;return u.getLatLng()===this._markers[0][0].getLatLng()?K+=1:u.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(F+=1),!(F<=2&&K<=2)},_onMarkerDragStart(u){let p=u.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",u))return;let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragStart(u,_),this.options.allowSelfIntersection||(this._coordsBeforeEdit=j(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(p):this._markerAllowedToDrag=null},_onMarkerDrag(u){let p=u.target;if(!this._vertexValidationDrag(p))return;let{indexPath:_,index:S,parentPath:P}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);if(!_)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(p);let F=_.length>1?(0,Bt.default)(this._markers,P):this._markers,K=(S+1)%F.length,Y=(S+(F.length-1))%F.length,ge=p.getLatLng(),ve=F[Y].getLatLng(),Ve=F[K].getLatLng();if(p._middleMarkerNext){let je=L.PM.Utils.calcMiddleLatLng(this._map,ge,Ve);p._middleMarkerNext.setLatLng(je)}if(p._middleMarkerPrev){let je=L.PM.Utils.calcMiddleLatLng(this._map,ge,ve);p._middleMarkerPrev.setLatLng(je)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(u,_),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(u){let p=u.target;if(!this._vertexValidationDragEnd(p))return;let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p),S=!this.options.allowSelfIntersection&&this.hasSelfIntersection();S&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(S=!1);let P=!this.options.allowSelfIntersection&&S;if(this._fireMarkerDragEnd(u,_,P),P){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(u,_);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(u){let p=u.target;if(p._dragging)return;let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireVertexClick(u,_)}}),dt.Polygon=dt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(u){let{prevMarker:p,nextMarker:_}=this._getNeighborMarkers(u),S=L.polyline([p.getLatLng(),u.getLatLng()]),P=L.polyline([u.getLatLng(),_.getLatLng()]),F=Oi(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length,K=Oi(this._layer.toGeoJSON(15),P.toGeoJSON(15)).features.length;return!(F<=2&&K<=2)}}),dt.Rectangle=dt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let u=this._map,p=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,u.addLayer(this._markerGroup),this._markers=[],this._markers[0]=p.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((_,S)=>{let P=this._cornerMarkers.find(F=>F._index===S);P&&P.setLatLng(_)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(u,p){let _=new L.Marker(u,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(_,"vertexPane"),_._origLatLng=u,_._index=p,_._pmTempLayer=!0,_.on("click",this._onVertexClick,this),this._markerGroup.addLayer(_),_},_addMarkerEvents(){this._markers[0].forEach(u=>{u.on("dragstart",this._onMarkerDragStart,this),u.on("drag",this._onMarkerDrag,this),u.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||u.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(u){if(!this._vertexValidation("move",u))return;let p=u.target,_=this._cornerMarkers;p._oppositeCornerLatLng=_.find(P=>P._index===(p._index+2)%4).getLatLng(),p._snapped=!1;let{indexPath:S}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragStart(u,S)},_onMarkerDrag(u){let p=u.target;if(!this._vertexValidationDrag(p)||p._index===void 0)return;this._adjustRectangleForMarkerMove(p);let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDrag(u,_),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(u){let p=u.target;if(!this._vertexValidationDragEnd(p))return;this._cornerMarkers.forEach(S=>{delete S._oppositeCornerLatLng});let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragEnd(u,_),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(u){L.extend(u._origLatLng,u._latlng);let p=L.PM.Utils._getRotatedRectangle(u.getLatLng(),u._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(p),this._adjustAllMarkers(u),this._layer.redraw()},_adjustAllMarkers(u){let p=this._layer.getLatLngs()[0];if(p&&p.length!==4&&p.length>0)p.forEach((_,S)=>{this._cornerMarkers[S].setLatLng(_)}),this._cornerMarkers.slice(p.length).forEach(_=>{_.setLatLng(p[0])});else if(!p||!p.length)console.error("The layer has no LatLngs");else{let _=p.findIndex(S=>u.getLatLng().equals(S));_>-1?(this._cornerMarkers[(u._index+1)%4].setLatLng(p[(_+1)%4]),this._cornerMarkers[(u._index+2)%4].setLatLng(p[(_+2)%4]),this._cornerMarkers[(u._index+3)%4].setLatLng(p[(_+3)%4])):this._cornerMarkers.forEach(S=>{S.setLatLng(p[S._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(La(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let u=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(u[0],u[2],this.getAngle(),this._map||this)}}),dt.CircleMarker=dt.extend({_shape:"CircleMarker",initialize(u){this._layer=u,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(u={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,u),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let u=this._map;this._helperLayers&&(this._helperLayers.removeFrom(u),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(u);let p=this._layer.getLatLng(),_=this._layer._radius,S=this._getLatLngOnCircle(p,_);this._centerMarker=this._createCenterMarker(p),this._outerMarker=this._createOuterMarker(S),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(u,p){let _=this._map.project(u),S=L.point(_.x+p,_.y);return this._map.unproject(S)},_createHintLine(u,p){let _=u.getLatLng(),S=p.getLatLng();this._hintline=L.polyline([_,S],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(u){let p=this._createMarker(u);return this.options.draggable?(L.DomUtil.addClass(p._icon,"leaflet-pm-draggable"),p.on("move",this._moveCircle,this)):p.dragging.disable(),p},_createOuterMarker(u){let p=this._createMarker(u);return p.on("drag",this._resizeCircle,this),p},_createMarker(u){let p=new L.Marker(u,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._origLatLng=u,p._pmTempLayer=!0,p.on("dragstart",this._onMarkerDragStart,this),p.on("drag",this._onMarkerDrag,this),p.on("dragend",this._onMarkerDragEnd,this),p.on("click",this._onVertexClick,this),this._helperLayers.addLayer(p),p},_moveCircle(u){if(u.target._cancelDragEventChain)return;let p=this._centerMarker.getLatLng();this._layer.setLatLng(p);let _=this._layer._radius,S=this._getLatLngOnCircle(p,_);this._outerMarker._latlng=S,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let u=this._layer.getLatLng(),p=this._layer._radius,_=this._getLatLngOnCircle(u,p);this._outerMarker.setLatLng(_),this._centerMarker.setLatLng(u),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),_=this._distanceCalculation(u,p);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(_),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng();this._hintline.setLatLngs([u,p])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(u){this._vertexValidation("move",u)&&this._fireMarkerDragStart(u)},_onMarkerDrag(u){let p=u.target;p instanceof L.Marker&&!this._vertexValidationDrag(p)||this._fireMarkerDrag(u)},_onMarkerDragEnd(u){this._extedingMarkerDragEnd();let p=u.target;this._vertexValidationDragEnd(p)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(u))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let u=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,u.off("pm:drag",this._handleSnapping,this),u.on("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.on("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this),u.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let u=this._layer;u.off("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let u=this._layer._map||this._map;if(u){let p=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),u,this._layer.getLatLng()),_=L.circle(this._layer.getLatLng(),this._layer.options);_.setRadius(p);let S=u&&u.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(_,200,!S).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(_,200,!S),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),_=this._distanceCalculation(u,p);return this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?p=ro(this._map,u,p,this._getMinDistanceInMeter(u)):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&(p=ro(this._map,u,p,this._getMaxDistanceInMeter(u))),p},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),_=this._distanceCalculation(u,p);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(u,p){return this._map.project(u).distanceTo(this._map.project(p))},_getMinDistanceInMeter(u){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,u)},_getMaxDistanceInMeter(u){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,u)},_onVertexClick(u){u.target._dragging||this._fireVertexClick(u,void 0)}}),dt.Circle=dt.CircleMarker.extend({_shape:"Circle",initialize(u){this._layer=u,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(u){L.PM.Edit.CircleMarker.prototype.enable.call(this,u||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let u=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(u,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let u=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!u).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!u),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(u,p){return this._map.distance(u,p)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(u){u.target._dragging||this._fireVertexClick(u,void 0)}}),dt.ImageOverlay=dt.extend({_shape:"ImageOverlay",initialize(u){this._layer=u,this._enabled=!1},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},enabled(){return this._enabled},enable(u={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,u),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let u=this._layer.getBounds(),p=u.getNorthWest(),_=u.getNorthEast(),S=u.getSouthEast(),P=u.getSouthWest();return[p,_,S,P]}}),dt.Text=dt.extend({_shape:"Text",initialize(u){this._layer=u,this._enabled=!1},enable(u){if(L.Util.setOptions(this,u),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let u=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),u.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let u=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,u.off("pm:drag",this._handleSnapping,this),u.on("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.on("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this),u.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let u=this._layer;u.off("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let u=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,p=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${u}px`,this.textArea.style.width=`${p}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(u){u.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(u={}){let p=this._hasFocus;this._hasFocus=u.type==="focus",!p!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(u){u&&(this.textArea.value=u),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let p=this.options.className.split(" ");this.textArea.classList.add(...p)}let u=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(u),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(u=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),u===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(u){u.preventDefault()}});var Vt=function(u,p,_,S,P,F){this._matrix=[u,p,_,S,P,F]};Vt.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Vt.prototype={transform(u){return this._transform(u.clone())},_transform(u){let p=this._matrix,{x:_,y:S}=u;return u.x=p[0]*_+p[1]*S+p[4],u.y=p[2]*_+p[3]*S+p[5],u},untransform(u){let p=this._matrix;return new L.Point((u.x/p[0]-p[4])/p[0],(u.y/p[2]-p[5])/p[2])},clone(){let u=this._matrix;return new L.PM.Matrix(u[0],u[1],u[2],u[3],u[4],u[5])},translate(u){if(u===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let p,_;return typeof u=="number"?(p=u,_=u):(p=u.x,_=u.y),this._add(1,0,0,1,p,_)},scale(u,p){if(u===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let _,S;return p=p||L.point(0,0),typeof u=="number"?(_=u,S=u):(_=u.x,S=u.y),this._add(_,0,0,S,p.x,p.y)._add(1,0,0,1,-p.x,-p.y)},rotate(u,p){let _=Math.cos(u),S=Math.sin(u);return p=p||new L.Point(0,0),this._add(_,S,-S,_,p.x,p.y)._add(1,0,0,1,-p.x,-p.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(u,p,_,S,P,F){let K=[[],[],[]],Y=this._matrix,ge=[[Y[0],Y[2],Y[4]],[Y[1],Y[3],Y[5]],[0,0,1]],ve=[[u,_,P],[p,S,F],[0,0,1]],Ve;u&&u instanceof L.PM.Matrix&&(Y=u._matrix,ve=[[Y[0],Y[2],Y[4]],[Y[1],Y[3],Y[5]],[0,0,1]]);for(let je=0;je<3;je+=1)for(let vt=0;vt<3;vt+=1){Ve=0;for(let St=0;St<3;St+=1)Ve+=ge[je][St]*ve[St][vt];K[je][vt]=Ve}return this._matrix=[K[0][0],K[1][0],K[0][1],K[1][1],K[0][2],K[1][2]],this}};var on=Vt,rn={calcMiddleLatLng(u,p,_){let S=u.project(p),P=u.project(_);return u.unproject(S._add(P)._divideBy(2))},findLayers(u){let p=[];return u.eachLayer(_=>{(_ instanceof L.Polyline||_ instanceof L.Marker||_ instanceof L.Circle||_ instanceof L.CircleMarker||_ instanceof L.ImageOverlay)&&p.push(_)}),p=p.filter(_=>!!_.pm),p=p.filter(_=>!_._pmTempLayer),p=p.filter(_=>!L.PM.optIn&&!_.options.pmIgnore||L.PM.optIn&&_.options.pmIgnore===!1),p},circleToPolygon(u,p=60,_=!0){let S=u.getLatLng(),P=u.getRadius(),F=Bi(S,P,p,0,_),K=[];for(let Y=0;Y<F.length;Y+=1){let ge=[F[Y].lat,F[Y].lng];K.push(ge)}return L.polygon(K,u.options)},disablePopup(u){u.getPopup()&&(u._tempPopupCopy=u.getPopup(),u.unbindPopup())},enablePopup(u){u._tempPopupCopy&&(u.bindPopup(u._tempPopupCopy),delete u._tempPopupCopy)},_fireEvent(u,p,_,S=!1){u.fire(p,_,S);let{groups:P}=this.getAllParentGroups(u);P.forEach(F=>{F.fire(p,_,S)})},getAllParentGroups(u){let p=[],_=[],S=P=>{for(let F in P._eventParents)if(p.indexOf(F)===-1){p.push(F);let K=P._eventParents[F];_.push(K),S(K)}};return!u._pmLastGroupFetch||!u._pmLastGroupFetch.time||new Date().getTime()-u._pmLastGroupFetch.time>1e3?(S(u),u._pmLastGroupFetch={time:new Date().getTime(),groups:_,groupIds:p},{groupIds:p,groups:_}):{groups:u._pmLastGroupFetch.groups,groupIds:u._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Bi,getTranslation:Kn,findDeepCoordIndex(u,p,_=!0){let S,P=K=>(Y,ge)=>{let ve=K.concat(ge);if(_){if(Y.lat&&Y.lat===p.lat&&Y.lng===p.lng)return S=ve,!0}else if(Y.lat&&L.latLng(Y).equals(p))return S=ve,!0;return Array.isArray(Y)&&Y.some(P(ve))};u.some(P([]));let F={};return S&&(F={indexPath:S,index:S[S.length-1],parentPath:S.slice(0,S.length-1)}),F},findDeepMarkerIndex(u,p){let _,S=F=>(K,Y)=>{let ge=F.concat(Y);return K._leaflet_id===p._leaflet_id?(_=ge,!0):Array.isArray(K)&&K.some(S(ge))};u.some(S([]));let P={};return _&&(P={indexPath:_,index:_[_.length-1],parentPath:_.slice(0,_.length-1)}),P},_getIndexFromSegment(u,p){if(p&&p.length===2){let _=this.findDeepCoordIndex(u,p[0]),S=this.findDeepCoordIndex(u,p[1]),P=Math.max(_.index,S.index);return(_.index===0||S.index===0)&&P!==1&&(P+=1),{indexA:_,indexB:S,newIndex:P,indexPath:_.indexPath,parentPath:_.parentPath}}return null},_getRotatedRectangle(u,p,_,S){let P=Ue(S,u),F=Ue(S,p),K=_*Math.PI/180,Y=Math.cos(K),ge=Math.sin(K),ve=(F.x-P.x)*Y+(F.y-P.y)*ge,Ve=(F.y-P.y)*Y-(F.x-P.x)*ge,je=ve*Y+P.x,vt=ve*ge+P.y,St=-Ve*ge+P.x,qt=Ve*Y+P.y,un=ot(S,P),vn=ot(S,{x:je,y:vt}),Zn=ot(S,F),He=ot(S,{x:St,y:qt});return[un,vn,Zn,He]},pxRadiusToMeterRadius(u,p,_){let S=p.project(_),P=L.point(S.x+u,S.y);return p.distance(p.unproject(P),_)}},Hn=rn;L.PM=L.PM||{version:qi.version,Map:pt,Toolbar:Cn,Draw:vr,Edit:dt,Utils:Hn,Matrix:on,activeLang:"en",optIn:!1,initialize(u){this.addInitHooks(u)},setOptIn(u){this.optIn=!!u},addInitHooks(){function u(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(u);function p(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(p);function _(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(_);function S(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(S);function P(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(P);function F(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(F);function K(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(K);function Y(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(Y);function ge(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(ge)},reInitLayer(u){u instanceof L.LayerGroup&&u.eachLayer(p=>{this.reInitLayer(p)}),u.pm||L.PM.optIn&&u.options.pmIgnore!==!1||u.options.pmIgnore||(u instanceof L.Map?u.pm=new L.PM.Map(u):u instanceof L.Marker?u.options.textMarker?(u.pm=new L.PM.Edit.Text(u),u.pm._initTextMarker(),u.pm._createTextMarker(!1)):u.pm=new L.PM.Edit.Marker(u):u instanceof L.Circle?u.pm=new L.PM.Edit.Circle(u):u instanceof L.CircleMarker?u.pm=new L.PM.Edit.CircleMarker(u):u instanceof L.Rectangle?u.pm=new L.PM.Edit.Rectangle(u):u instanceof L.Polygon?u.pm=new L.PM.Edit.Polygon(u):u instanceof L.Polyline?u.pm=new L.PM.Edit.Line(u):u instanceof L.LayerGroup?u.pm=new L.PM.Edit.LayerGroup(u):u instanceof L.ImageOverlay&&(u.pm=new L.PM.Edit.ImageOverlay(u)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(u){let p=this._map.mouseEventToLayerPoint(u),_,S;for(let P=this._drawFirst;P;P=P.next)_=P.layer,_.options.interactive&&_._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(_))&&(S=_);S&&(L.DomEvent.fakeStop(u),this._fireEvent([S],u))}}),L.PM.initialize()})()),jv}AA();const TA=()=>{console.log("Geoman initialized globally")},{Footer:RA}=qs;function BA(){return Ie.jsxs(RA,{style:{textAlign:"center"},children:[Ie.jsxs("p",{children:["Semaphore GIS Portal  2025 ",Ie.jsx("br",{}),"Designed & Developed by"," ",Ie.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"Geo-Spatial Technology and Services Division, Semaphore Computers PVT LTD."})]}),Ie.jsx("span",{children:"3, Gokul Baral Street, 1st Floor, Kolkata 700012"})]})}const{Sider:DA,Content:$A,Header:FA,Footer:VA}=qs,jA=b.memo(()=>{const{token:{colorBgContainer:e,borderRadiusLG:t}}=b1.useToken(),{portal_nm:n}=wx(),r=Cx(),i=Ko(),{sidebarCollapsed:l}=Dr(g=>g.map);b.useEffect(()=>{n&&i(Sx(n))},[n]),b.useEffect(()=>{document.title="GIS Dashboard"},[]),b.useEffect(()=>{TA()},[]);const h=[{key:"0",icon:Ot.createElement(UM),label:"Attributes",onClick:()=>{i(mf({state:!1})),i(gf({state:!0}))}},{key:"1",icon:Ot.createElement(PM),label:"Measure",onClick:()=>i(Uv())},{key:"2",icon:Ot.createElement(TM),label:"Legends",onClick:()=>i(Ex())},{key:"3",icon:Ot.createElement(OM),label:"Clear",onClick:()=>window.location.reload()},{key:"4",icon:Ot.createElement(BM),label:"Print",onClick:()=>{i(pf())}},{key:"5",icon:Ot.createElement($M),label:"Buffer",onClick:()=>{i(gf({state:!1})),i(mf({state:!0}))}}],c=g=>{i(lg())};return Ie.jsxs(qs,{className:"gis-layout",style:{minHeight:"100vh"},children:[Ie.jsx(DA,{style:{backgroundColor:"white"},width:400,breakpoint:"lg",collapsed:l,collapsedWidth:0,onCollapse:c,children:Ie.jsx(lx,{})}),Ie.jsxs(qs,{children:[Ie.jsx(FA,{style:{padding:"0 16px",background:e},children:Ie.jsxs(ku,{align:"middle",justify:"space-between",wrap:!1,style:{width:"100%"},children:[Ie.jsx(gs,{children:Ie.jsxs(_a,{align:"center",size:12,children:[Ie.jsx(sa,{title:"Back",children:Ie.jsx(ii,{type:"text",onClick:()=>{r(-1),i(kx())},icon:Ie.jsx(_u,{})})}),Ie.jsx(sa,{title:l?"Open sidebar":"Collapse sidebar",children:Ie.jsx(ii,{type:"text",onClick:()=>i(lg()),icon:l?Ie.jsx(ON,{}):Ie.jsx(MN,{})})}),Ie.jsx("div",{children:Ie.jsx(Bl,{mode:"horizontal",items:h,selectable:!1,style:{borderBottom:"none",background:"transparent"}})})]})}),Ie.jsx(gs,{children:Ie.jsx(_a,{align:"middle",children:Ie.jsx(e2,{icon:Ie.jsx(Y2,{})})})})]})}),Ie.jsx($A,{style:{margin:"24px 16px 0"},children:Ie.jsx("div",{style:{width:"100%",height:"100%",minHeight:360,background:e,borderRadius:t},children:Ie.jsx(cx,{})})}),Ie.jsx(BA,{})]})]})});jA.displayName="GisDashboard";export{jA as default};
