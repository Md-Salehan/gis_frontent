const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/index.es-BkRw9YiN.js","static/js/index-O77fvcH5.js","static/css/index-Bw1xn8Pf.css","static/js/UserOutlined-BgbQ9Czh.js"])))=>i.map(i=>d[i]);
import{r as b,R as Ot,g as ep,j as Ie,b as jv,e as $r,a as Ko,f as vx,h as Mc,i as gd,k as zv,l as yx,t as Hv,m as _x,_ as md,n as qv,o as ff,p as pf,q as ag,v as gf,w as bx,x as og,y as Pc,z as xx,u as wx,A as Cx,B as Sx,C as Ex,D as sg}from"./index-O77fvcH5.js";import{i as kx,u as Uv,P as Gv,a as Tl,b as tp,c as pu,d as Vv,e as Lx,r as Nx,D as Mx,M as Px,T as sa,f as ch,h as Ix,j as Ox,E as Ax,R as Wv,k as hh,l as Tx,s as Rx,m as Bx,n as Dx,o as $x,p as Fx,q as lg,t as jx,v as zx,w as Hx,x as qx,g as Ux,y as gu,z as Th,B as Gx,F as Kv,G as Xv,S as ks,H as Zv,I as Vx,J as ug,K as cg,L as Yv,N as Wx,O as dh,Q as Kx,U as Xx,V as Zx,W as Yx,C as fh,X as Jx,A as Qx}from"./index-DiOtrspc.js";import{m as zi,r as Pi,u as Qe,n as vs,f as bt,q as Wo,s as Nl,v as Ps,w as Jv,x as np,y as Rh,g as e2,h as hg,i as t2,a as Qv,b as Bh,d as Dh,z as Ba,A as En,D as Ti,c as bn,K as uc,E as ey,B as ii,F as ty,G as rp,_ as Wt,j as Lr,H as On,J as dg,L as _r,M as $h,N as ip,O as Ja,P as ny,Q as ry,S as ba,T as mu,C as Jr,U as Xo,o as Fh,V as ec,W as ap,X as cc,Y as ph,Z as jh,$ as Su,a0 as n2,a1 as r2,a2 as i2,p as Zo,t as Rl,a3 as Ls,a4 as a2,a5 as iy,a6 as Ml,a7 as ay,a8 as Oo,a9 as oy,aa as hc,ab as ps,l as $a,e as Pt,ac as ol,ad as Eu,ae as zh,af as sy,ag as o2,ah as Hh,ai as ul,aj as ns,ak as na,al as s2,am as l2,an as vd,ao as ly,ap as uy,aq as u2,ar as op,as as c2,at as h2,au as d2,av as f2,aw as p2,ax as g2,ay as m2,az as v2,aA as cy,aB as y2,aC as fg,aD as _2,aE as hy,aF as vu,aG as sp,aH as b2,aI as x2,aJ as w2,aK as C2,aL as dy,aM as Hs,aN as S2,aO as E2,aP as tc,aQ as k2,aR as qh,aS as fy,aT as py,aU as L2,aV as N2,aW as M2,aX as mf,aY as P2,aZ as I2,a_ as pg,a$ as O2,b0 as A2,b1 as T2,b2 as R2,b3 as gy,b4 as Uh,b5 as gg,b6 as B2,b7 as Ar,b8 as D2,b9 as Gh,ba as lp,bb as $2,bc as F2,bd as j2,be as z2,bf as H2,bg as up,bh as q2,bi as U2,bj as my,bk as G2,bl as V2,bm as W2,bn as mg,bo as K2,bp as X2,I as Wu,R as Z2}from"./UserOutlined-BgbQ9Czh.js";import{R as cp,a as vy,b as hp,S as _a,d as Y2,s as fs}from"./index-CjxAOAJs.js";const Ic=(e,t,n,r,i)=>({background:e,border:`${Qe(r.lineWidth)} ${r.lineType} ${t}`,[`${i}-icon`]:{color:n}}),J2=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:i,fontSize:l,fontSizeLG:h,lineHeight:c,borderRadiusLG:g,motionEaseInOutCirc:v,withDescriptionIconSize:y,colorText:w,colorTextHeading:k,withDescriptionPadding:x,defaultPadding:N}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",display:"flex",alignItems:"center",padding:N,wordWrap:"break-word",borderRadius:g,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:l,lineHeight:c},"&-message":{color:k},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${v}, opacity ${n} ${v},
        padding-top ${n} ${v}, padding-bottom ${n} ${v},
        margin-bottom ${n} ${v}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:x,[`${t}-icon`]:{marginInlineEnd:i,fontSize:y,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:k,fontSize:h},[`${t}-description`]:{display:"block",color:w}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Q2=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:l,colorWarningBorder:h,colorWarningBg:c,colorError:g,colorErrorBorder:v,colorErrorBg:y,colorInfo:w,colorInfoBorder:k,colorInfoBg:x}=e;return{[t]:{"&-success":Ic(i,r,n,e,t),"&-info":Ic(x,k,w,e,t),"&-warning":Ic(c,h,l,e,t),"&-error":Object.assign(Object.assign({},Ic(y,v,g,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},ew=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:i,fontSizeIcon:l,colorIcon:h,colorIconHover:c}=e;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:l,lineHeight:Qe(l),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:h,transition:`color ${r}`,"&:hover":{color:c}}},"&-close-text":{color:h,transition:`color ${r}`,"&:hover":{color:c}}}}},tw=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),nw=zi("Alert",e=>[J2(e),Q2(e),ew(e)],tw);var vg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const rw={success:hp,info:vy,error:np,warning:cp},iw=e=>{const{icon:t,prefixCls:n,type:r}=e,i=rw[r]||null;return t?Jv(t,b.createElement("span",{className:`${n}-icon`},t),()=>({className:bt(`${n}-icon`,t.props.className)})):b.createElement(i,{className:`${n}-icon`})},aw=e=>{const{isClosable:t,prefixCls:n,closeIcon:r,handleClose:i,ariaProps:l}=e,h=r===!0||r===void 0?b.createElement(Rh,null):r;return t?b.createElement("button",Object.assign({type:"button",onClick:i,className:`${n}-close-icon`,tabIndex:0},l),h):null},yy=b.forwardRef((e,t)=>{const{description:n,prefixCls:r,message:i,banner:l,className:h,rootClassName:c,style:g,onMouseEnter:v,onMouseLeave:y,onClick:w,afterClose:k,showIcon:x,closable:N,closeText:I,closeIcon:O,action:T,id:F}=e,R=vg(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[$,G]=b.useState(!1),Q=b.useRef(null);b.useImperativeHandle(t,()=>({nativeElement:Q.current}));const{getPrefixCls:ee,direction:Y,closable:q,closeIcon:oe,className:D,style:U}=vs("alert"),te=ee("alert",r),[V,J,ie]=nw(te),le=we=>{var ke;G(!0),(ke=e.onClose)===null||ke===void 0||ke.call(e,we)},ue=b.useMemo(()=>e.type!==void 0?e.type:l?"warning":"info",[e.type,l]),be=b.useMemo(()=>typeof N=="object"&&N.closeIcon||I?!0:typeof N=="boolean"?N:O!==!1&&O!==null&&O!==void 0?!0:!!q,[I,O,N,q]),Le=l&&x===void 0?!0:x,Re=bt(te,`${te}-${ue}`,{[`${te}-with-description`]:!!n,[`${te}-no-icon`]:!Le,[`${te}-banner`]:!!l,[`${te}-rtl`]:Y==="rtl"},D,h,c,ie,J),ne=Wo(R,{aria:!0,data:!0}),ce=b.useMemo(()=>typeof N=="object"&&N.closeIcon?N.closeIcon:I||(O!==void 0?O:typeof q=="object"&&q.closeIcon?q.closeIcon:oe),[O,N,I,oe]),me=b.useMemo(()=>{const we=N??q;if(typeof we=="object"){const{closeIcon:ke}=we;return vg(we,["closeIcon"])}return{}},[N,q]);return V(b.createElement(Nl,{visible:!$,motionName:`${te}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:we=>({maxHeight:we.offsetHeight}),onLeaveEnd:k},({className:we,style:ke},Be)=>b.createElement("div",Object.assign({id:F,ref:Ps(Q,Be),"data-show":!$,className:bt(Re,we),style:Object.assign(Object.assign(Object.assign({},U),g),ke),onMouseEnter:v,onMouseLeave:y,onClick:w,role:"alert"},ne),Le?b.createElement(iw,{description:n,icon:e.icon,prefixCls:te,type:ue}):null,b.createElement("div",{className:`${te}-content`},i?b.createElement("div",{className:`${te}-message`},i):null,n?b.createElement("div",{className:`${te}-description`},n):null),T?b.createElement("div",{className:`${te}-action`},T):null,b.createElement(aw,{isClosable:be,prefixCls:te,closeIcon:ce,handleClose:le,ariaProps:me}))))});function ow(e,t,n){return t=hg(t),e2(e,t2()?Reflect.construct(t,n||[],hg(e).constructor):t.apply(e,n))}let sw=(function(e){function t(){var n;return Dh(this,t),n=ow(this,t,arguments),n.state={error:void 0,info:{componentStack:""}},n}return Qv(t,e),Bh(t,[{key:"componentDidCatch",value:function(r,i){this.setState({error:r,info:i})}},{key:"render",value:function(){const{message:r,description:i,id:l,children:h}=this.props,{error:c,info:g}=this.state,v=g?.componentStack||null,y=typeof r>"u"?(c||"").toString():r,w=typeof i>"u"?v:i;return c?b.createElement(yy,{id:l,type:"error",message:y,description:b.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},w)}):h}}])})(b.Component);const ou=yy;ou.ErrorBoundary=sw;const yg=e=>typeof e=="object"&&e!=null&&e.nodeType===1,_g=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Oc=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return _g(n.overflowY,t)||_g(n.overflowX,t)||(r=>{const i=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},Ac=(e,t,n,r,i,l,h,c)=>l<e&&h>t||l>e&&h<t?0:l<=e&&c<=n||h>=t&&c>=n?l-e-r:h>t&&c<n||l<e&&c>n?h-t+i:0,lw=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},bg=(e,t)=>{var n,r,i,l;if(typeof document>"u")return[];const{scrollMode:h,block:c,inline:g,boundary:v,skipOverflowHiddenElements:y}=t,w=typeof v=="function"?v:ie=>ie!==v;if(!yg(e))throw new TypeError("Invalid target");const k=document.scrollingElement||document.documentElement,x=[];let N=e;for(;yg(N)&&w(N);){if(N=lw(N),N===k){x.push(N);break}N!=null&&N===document.body&&Oc(N)&&!Oc(document.documentElement)||N!=null&&Oc(N,y)&&x.push(N)}const I=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,O=(l=(i=window.visualViewport)==null?void 0:i.height)!=null?l:innerHeight,{scrollX:T,scrollY:F}=window,{height:R,width:$,top:G,right:Q,bottom:ee,left:Y}=e.getBoundingClientRect(),{top:q,right:oe,bottom:D,left:U}=(ie=>{const le=window.getComputedStyle(ie);return{top:parseFloat(le.scrollMarginTop)||0,right:parseFloat(le.scrollMarginRight)||0,bottom:parseFloat(le.scrollMarginBottom)||0,left:parseFloat(le.scrollMarginLeft)||0}})(e);let te=c==="start"||c==="nearest"?G-q:c==="end"?ee+D:G+R/2-q+D,V=g==="center"?Y+$/2-U+oe:g==="end"?Q+oe:Y-U;const J=[];for(let ie=0;ie<x.length;ie++){const le=x[ie],{height:ue,width:be,top:Le,right:Re,bottom:ne,left:ce}=le.getBoundingClientRect();if(h==="if-needed"&&G>=0&&Y>=0&&ee<=O&&Q<=I&&(le===k&&!Oc(le)||G>=Le&&ee<=ne&&Y>=ce&&Q<=Re))return J;const me=getComputedStyle(le),we=parseInt(me.borderLeftWidth,10),ke=parseInt(me.borderTopWidth,10),Be=parseInt(me.borderRightWidth,10),he=parseInt(me.borderBottomWidth,10);let qe=0,We=0;const Fe="offsetWidth"in le?le.offsetWidth-le.clientWidth-we-Be:0,de="offsetHeight"in le?le.offsetHeight-le.clientHeight-ke-he:0,it="offsetWidth"in le?le.offsetWidth===0?0:be/le.offsetWidth:0,ft="offsetHeight"in le?le.offsetHeight===0?0:ue/le.offsetHeight:0;if(k===le)qe=c==="start"?te:c==="end"?te-O:c==="nearest"?Ac(F,F+O,O,ke,he,F+te,F+te+R,R):te-O/2,We=g==="start"?V:g==="center"?V-I/2:g==="end"?V-I:Ac(T,T+I,I,we,Be,T+V,T+V+$,$),qe=Math.max(0,qe+F),We=Math.max(0,We+T);else{qe=c==="start"?te-Le-ke:c==="end"?te-ne+he+de:c==="nearest"?Ac(Le,ne,ue,ke,he+de,te,te+R,R):te-(Le+ue/2)+de/2,We=g==="start"?V-ce-we:g==="center"?V-(ce+be/2)+Fe/2:g==="end"?V-Re+Be+Fe:Ac(ce,Re,be,we,Be+Fe,V,V+$,$);const{scrollLeft:fe,scrollTop:tt}=le;qe=ft===0?0:Math.max(0,Math.min(tt+qe/ft,le.scrollHeight-ue/ft+de)),We=it===0?0:Math.max(0,Math.min(fe+We/it,le.scrollWidth-be/it+Fe)),te+=tt-qe,V+=fe-We}J.push({el:le,top:qe,left:We})}return J},uw=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function cw(e,t){if(!e.isConnected||!(i=>{let l=i;for(;l&&l.parentNode;){if(l.parentNode===document)return!0;l=l.parentNode instanceof ShadowRoot?l.parentNode.host:l.parentNode}return!1})(e))return;const n=(i=>{const l=window.getComputedStyle(i);return{top:parseFloat(l.scrollMarginTop)||0,right:parseFloat(l.scrollMarginRight)||0,bottom:parseFloat(l.scrollMarginBottom)||0,left:parseFloat(l.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(bg(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:l,left:h}of bg(e,uw(t))){const c=l-n.top+n.bottom,g=h-n.left+n.right;i.scroll({top:c,left:g,behavior:r})}}function vf(e){return e!=null&&e===e.window}const hw=e=>{var t,n;if(typeof window>"u")return 0;let r=0;return vf(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!vf(e)&&typeof r!="number"&&(r=(n=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function dw(e,t,n,r){const i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function fw(e,t={}){const{getContainer:n=()=>window,callback:r,duration:i=450}=t,l=n(),h=hw(l),c=Date.now(),g=()=>{const y=Date.now()-c,w=dw(y>i?i:y,h,e,i);vf(l)?l.scrollTo(window.pageXOffset,w):l instanceof Document||l.constructor.name==="HTMLDocument"?l.documentElement.scrollTop=w:l.scrollTop=w,y<i?Ba(g):typeof r=="function"&&r()};Ba(g)}function pw(){const[e,t]=b.useState([]),n=b.useCallback(r=>(t(i=>[].concat(En(i),[r])),()=>{t(i=>i.filter(l=>l!==r))}),[]);return[e,n]}var gw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},mw=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:gw}))},nc=b.forwardRef(mw);const dp=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),vw=new uc("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),yw=new uc("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),_w=(e,t=!1)=>{const{antCls:n}=e,r=`${n}-fade`,i=t?"&":"";return[kx(r,vw,yw,e.motionDurationMid,t),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},yd=e=>typeof e?.then=="function",_y=e=>{const{type:t,children:n,prefixCls:r,buttonProps:i,close:l,autoFocus:h,emitEvent:c,isSilent:g,quitOnNullishReturnValue:v,actionFn:y}=e,w=b.useRef(!1),k=b.useRef(null),[x,N]=ey(!1),I=(...F)=>{l?.apply(void 0,F)};b.useEffect(()=>{let F=null;return h&&(F=setTimeout(()=>{var R;(R=k.current)===null||R===void 0||R.focus({preventScroll:!0})})),()=>{F&&clearTimeout(F)}},[]);const O=F=>{yd(F)&&(N(!0),F.then((...R)=>{N(!1,!0),I.apply(void 0,R),w.current=!1},R=>{if(N(!1,!0),w.current=!1,!g?.())return Promise.reject(R)}))},T=F=>{if(w.current)return;if(w.current=!0,!y){I();return}let R;if(c){if(R=y(F),v&&!yd(R)){w.current=!1,I(F);return}}else if(y.length)R=y(l),w.current=!1;else if(R=y(),!yd(R)){I();return}O(R)};return b.createElement(ii,Object.assign({},ty(t),{onClick:T,loading:x,prefixCls:r},i,{ref:k}),n)},dc=Ot.createContext({}),{Provider:by}=dc,xg=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:l,close:h,onCancel:c,onConfirm:g}=b.useContext(dc);return i?Ot.createElement(_y,{isSilent:r,actionFn:c,close:(...v)=>{h?.apply(void 0,v),g?.(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${l}-btn`},n):null},wg=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:l,okType:h,onConfirm:c,onOk:g}=b.useContext(dc);return Ot.createElement(_y,{isSilent:n,type:h||"primary",actionFn:g,close:(...v)=>{t?.apply(void 0,v),c?.(!0)},autoFocus:e==="ok",buttonProps:r,prefixCls:`${i}-btn`},l)};var xy=b.createContext({});function Cg(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function Sg(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function bw(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=Sg(i),n.top+=Sg(i,!0),n}const xw=b.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var ww={width:0,height:0,overflow:"hidden",outline:"none"},Cw={outline:"none"},wy=Ot.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,l=e.title,h=e.ariaId,c=e.footer,g=e.closable,v=e.closeIcon,y=e.onClose,w=e.children,k=e.bodyStyle,x=e.bodyProps,N=e.modalRender,I=e.onMouseDown,O=e.onMouseUp,T=e.holderRef,F=e.visible,R=e.forceRender,$=e.width,G=e.height,Q=e.classNames,ee=e.styles,Y=Ot.useContext(xy),q=Y.panel,oe=rp(T,q),D=b.useRef(),U=b.useRef();Ot.useImperativeHandle(t,function(){return{focus:function(){var ne;(ne=D.current)===null||ne===void 0||ne.focus({preventScroll:!0})},changeActive:function(ne){var ce=document,me=ce.activeElement;ne&&me===U.current?D.current.focus({preventScroll:!0}):!ne&&me===D.current&&U.current.focus({preventScroll:!0})}}});var te={};$!==void 0&&(te.width=$),G!==void 0&&(te.height=G);var V=c?Ot.createElement("div",{className:bt("".concat(n,"-footer"),Q?.footer),style:Wt({},ee?.footer)},c):null,J=l?Ot.createElement("div",{className:bt("".concat(n,"-header"),Q?.header),style:Wt({},ee?.header)},Ot.createElement("div",{className:"".concat(n,"-title"),id:h},l)):null,ie=b.useMemo(function(){return Lr(g)==="object"&&g!==null?g:g?{closeIcon:v??Ot.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[g,v,n]),le=Wo(ie,!0),ue=Lr(g)==="object"&&g.disabled,be=g?Ot.createElement("button",bn({type:"button",onClick:y,"aria-label":"Close"},le,{className:"".concat(n,"-close"),disabled:ue}),ie.closeIcon):null,Le=Ot.createElement("div",{className:bt("".concat(n,"-content"),Q?.content),style:ee?.content},be,J,Ot.createElement("div",bn({className:bt("".concat(n,"-body"),Q?.body),style:Wt(Wt({},k),ee?.body)},x),w),V);return Ot.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":l?h:null,"aria-modal":"true",ref:oe,style:Wt(Wt({},i),te),className:bt(n,r),onMouseDown:I,onMouseUp:O},Ot.createElement("div",{ref:D,tabIndex:0,style:Cw},Ot.createElement(xw,{shouldUpdate:F||R},N?N(Le):Le)),Ot.createElement("div",{tabIndex:0,ref:U,style:ww}))}),Cy=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,i=e.style,l=e.className,h=e.visible,c=e.forceRender,g=e.destroyOnClose,v=e.motionName,y=e.ariaId,w=e.onVisibleChanged,k=e.mousePosition,x=b.useRef(),N=b.useState(),I=On(N,2),O=I[0],T=I[1],F={};O&&(F.transformOrigin=O);function R(){var $=bw(x.current);T(k&&(k.x||k.y)?"".concat(k.x-$.left,"px ").concat(k.y-$.top,"px"):"")}return b.createElement(Nl,{visible:h,onVisibleChanged:w,onAppearPrepare:R,onEnterPrepare:R,forceRender:c,motionName:v,removeOnLeave:g,ref:x},function($,G){var Q=$.className,ee=$.style;return b.createElement(wy,bn({},e,{ref:t,title:r,ariaId:y,prefixCls:n,holderRef:G,style:Wt(Wt(Wt({},ee),i),F),className:bt(l,Q)}))})});Cy.displayName="Content";var Sw=function(t){var n=t.prefixCls,r=t.style,i=t.visible,l=t.maskProps,h=t.motionName,c=t.className;return b.createElement(Nl,{key:"mask",visible:i,motionName:h,leavedClassName:"".concat(n,"-mask-hidden")},function(g,v){var y=g.className,w=g.style;return b.createElement("div",bn({ref:v,style:Wt(Wt({},w),r),className:bt("".concat(n,"-mask"),y,c)},l))})},Ew=function(t){var n=t.prefixCls,r=n===void 0?"rc-dialog":n,i=t.zIndex,l=t.visible,h=l===void 0?!1:l,c=t.keyboard,g=c===void 0?!0:c,v=t.focusTriggerAfterClose,y=v===void 0?!0:v,w=t.wrapStyle,k=t.wrapClassName,x=t.wrapProps,N=t.onClose,I=t.afterOpenChange,O=t.afterClose,T=t.transitionName,F=t.animation,R=t.closable,$=R===void 0?!0:R,G=t.mask,Q=G===void 0?!0:G,ee=t.maskTransitionName,Y=t.maskAnimation,q=t.maskClosable,oe=q===void 0?!0:q,D=t.maskStyle,U=t.maskProps,te=t.rootClassName,V=t.classNames,J=t.styles,ie=b.useRef(),le=b.useRef(),ue=b.useRef(),be=b.useState(h),Le=On(be,2),Re=Le[0],ne=Le[1],ce=Uv();function me(){dg(le.current,document.activeElement)||(ie.current=document.activeElement)}function we(){if(!dg(le.current,document.activeElement)){var fe;(fe=ue.current)===null||fe===void 0||fe.focus()}}function ke(fe){if(fe)we();else{if(ne(!1),Q&&ie.current&&y){try{ie.current.focus({preventScroll:!0})}catch{}ie.current=null}Re&&O?.()}I?.(fe)}function Be(fe){N?.(fe)}var he=b.useRef(!1),qe=b.useRef(),We=function(){clearTimeout(qe.current),he.current=!0},Fe=function(){qe.current=setTimeout(function(){he.current=!1})},de=null;oe&&(de=function(tt){he.current?he.current=!1:le.current===tt.target&&Be(tt)});function it(fe){if(g&&fe.keyCode===_r.ESC){fe.stopPropagation(),Be(fe);return}h&&fe.keyCode===_r.TAB&&ue.current.changeActive(!fe.shiftKey)}b.useEffect(function(){h&&(ne(!0),me())},[h]),b.useEffect(function(){return function(){clearTimeout(qe.current)}},[]);var ft=Wt(Wt(Wt({zIndex:i},w),J?.wrapper),{},{display:Re?null:"none"});return b.createElement("div",bn({className:bt("".concat(r,"-root"),te)},Wo(t,{data:!0})),b.createElement(Sw,{prefixCls:r,visible:Q&&h,motionName:Cg(r,ee,Y),style:Wt(Wt({zIndex:i},D),J?.mask),maskProps:U,className:V?.mask}),b.createElement("div",bn({tabIndex:-1,onKeyDown:it,className:bt("".concat(r,"-wrap"),k,V?.wrapper),ref:le,onClick:de,style:ft},x),b.createElement(Cy,bn({},t,{onMouseDown:We,onMouseUp:Fe,ref:ue,closable:$,ariaId:ce,prefixCls:r,visible:h&&Re,onClose:Be,onVisibleChanged:ke,motionName:Cg(r,T,F)}))))},Sy=function(t){var n=t.visible,r=t.getContainer,i=t.forceRender,l=t.destroyOnClose,h=l===void 0?!1:l,c=t.afterClose,g=t.panelRef,v=b.useState(n),y=On(v,2),w=y[0],k=y[1],x=b.useMemo(function(){return{panel:g}},[g]);return b.useEffect(function(){n&&k(!0)},[n]),!i&&h&&!w?null:b.createElement(xy.Provider,{value:x},b.createElement(Gv,{open:n||i||w,autoDestroy:!1,getContainer:r,autoLock:n||w},b.createElement(Ew,bn({},t,{destroyOnClose:h,afterClose:function(){c?.(),k(!1)}}))))};Sy.displayName="Dialog";function rc(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(r=>{n[r]!==void 0&&(t[r]=n[r])})}),t}function yu(e){if(!e)return;const{closable:t,closeIcon:n}=e;return{closable:t,closeIcon:n}}function Eg(e){const{closable:t,closeIcon:n}=e||{};return Ot.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(r=Object.assign(Object.assign({},r),t)),r},[t,n])}const kw={};function fp(e,t,n=kw){const r=Eg(e),i=Eg(t),[l]=Tl("global",$h.global),h=typeof r!="boolean"?!!r?.disabled:!1,c=Ot.useMemo(()=>Object.assign({closeIcon:Ot.createElement(Rh,null)},n),[n]),g=Ot.useMemo(()=>r===!1?!1:r?rc(c,i,r):i===!1?!1:i?rc(c,i):c.closable?c:!1,[r,i,c]);return Ot.useMemo(()=>{var v,y;if(g===!1)return[!1,null,h,{}];const{closeIconRender:w}=c,{closeIcon:k}=g;let x=k;const N=Wo(g,!0);return x!=null&&(w&&(x=w(k)),x=Ot.isValidElement(x)?Ot.cloneElement(x,Object.assign(Object.assign(Object.assign({},x.props),{"aria-label":(y=(v=x.props)===null||v===void 0?void 0:v["aria-label"])!==null&&y!==void 0?y:l.close}),N)):Ot.createElement("span",Object.assign({"aria-label":l.close},N),x)),[!0,x,h,N]},[g,c])}var Ey=function(t){if(ip()&&window.document.documentElement){var n=Array.isArray(t)?t:[t],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},Lw=function(t,n){if(!Ey(t))return!1;var r=document.createElement("div"),i=r.style[t];return r.style[t]=n,r.style[t]!==i};function yf(e,t){return!Array.isArray(e)&&t!==void 0?Lw(e,t):Ey(e)}const Nw=()=>ip()&&window.document.documentElement;function kg(){}const Mw=b.createContext({add:kg,remove:kg});function ky(e){const t=b.useContext(Mw),n=b.useRef(null);return Ja(i=>{if(i){const l=e?i.querySelector(e):i;t.add(l),n.current=l}else t.remove(n.current)})}const Lg=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=b.useContext(dc);return Ot.createElement(ii,Object.assign({onClick:n},e),t)},Ng=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:i}=b.useContext(dc);return Ot.createElement(ii,Object.assign({},ty(n),{loading:e,onClick:i},t),r)};function Ly(e,t){return Ot.createElement("span",{className:`${e}-close-x`},t||Ot.createElement(Rh,{className:`${e}-close-icon`}))}const Ny=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:i,onOk:l,onCancel:h,okButtonProps:c,cancelButtonProps:g,footer:v}=e,[y]=Tl("Modal",ry()),w=t||y?.okText,k=r||y?.cancelText,x={confirmLoading:i,okButtonProps:c,cancelButtonProps:g,okTextLocale:w,cancelTextLocale:k,okType:n,onOk:l,onCancel:h},N=Ot.useMemo(()=>x,En(Object.values(x)));let I;return typeof v=="function"||typeof v>"u"?(I=Ot.createElement(Ot.Fragment,null,Ot.createElement(Lg,null),Ot.createElement(Ng,null)),typeof v=="function"&&(I=v(I,{OkBtn:Ng,CancelBtn:Lg})),I=Ot.createElement(by,{value:N},I)):I=v,Ot.createElement(ny,{disabled:!1},I)},Pw=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Iw=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},Ow=(e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,l={};for(let h=i;h>=0;h--)h===0?(l[`${r}${t}-${h}`]={display:"none"},l[`${r}-push-${h}`]={insetInlineStart:"auto"},l[`${r}-pull-${h}`]={insetInlineEnd:"auto"},l[`${r}${t}-push-${h}`]={insetInlineStart:"auto"},l[`${r}${t}-pull-${h}`]={insetInlineEnd:"auto"},l[`${r}${t}-offset-${h}`]={marginInlineStart:0},l[`${r}${t}-order-${h}`]={order:0}):(l[`${r}${t}-${h}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${h/i*100}%`,maxWidth:`${h/i*100}%`}],l[`${r}${t}-push-${h}`]={insetInlineStart:`${h/i*100}%`},l[`${r}${t}-pull-${h}`]={insetInlineEnd:`${h/i*100}%`},l[`${r}${t}-offset-${h}`]={marginInlineStart:`${h/i*100}%`},l[`${r}${t}-order-${h}`]={order:h});return l[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},l},_f=(e,t)=>Ow(e,t),Aw=(e,t,n)=>({[`@media (min-width: ${Qe(t)})`]:Object.assign({},_f(e,n))}),Tw=()=>({}),Rw=()=>({}),Bw=zi("Grid",Pw,Tw),My=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),Dw=zi("Grid",e=>{const t=ba(e,{gridColumns:24}),n=My(t);return delete n.xs,[Iw(t),_f(t,""),_f(t,"-xs"),Object.keys(n).map(r=>Aw(t,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},Rw);function Mg(e){return{position:e,inset:0}}const $w=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Mg("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Mg("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:_w(e)}]},Fw=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${Qe(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},Pi(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Qe(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:Qe(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},mu(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${Qe(e.borderRadiusLG)} ${Qe(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Qe(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},jw=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},zw=e=>{const{componentCls:t}=e,n=My(e),r=Object.assign({},n);delete r.xs;const i=`--${t.replace(".","")}-`,l=Object.keys(r).map(h=>({[`@media (min-width: ${Qe(r[h])})`]:{width:`var(${i}${h}-width)`}}));return{[`${t}-root`]:{[t]:[].concat(En(Object.keys(n).map((h,c)=>{const g=Object.keys(n)[c-1];return g?{[`${i}${h}-width`]:`var(${i}${g}-width)`}:null})),[{width:`var(${i}xs-width)`}],En(l))}}},Py=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return ba(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Iy=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${Qe(e.paddingMD)} ${Qe(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${Qe(e.padding)} ${Qe(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${Qe(e.paddingXS)} ${Qe(e.padding)}`:0,footerBorderTop:e.wireframe?`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${Qe(e.borderRadiusLG)} ${Qe(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${Qe(e.padding*2)} ${Qe(e.padding*2)} ${Qe(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Oy=zi("Modal",e=>{const t=Py(e);return[Fw(t),jw(t),$w(t),tp(t,"zoom"),zw(t)]},Iy,{unitless:{titleLineHeight:!0}});var Hw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let bf;const qw=e=>{bf={x:e.pageX,y:e.pageY},setTimeout(()=>{bf=null},100)};Nw()&&document.documentElement.addEventListener("click",qw,!0);const Ay=e=>{const{prefixCls:t,className:n,rootClassName:r,open:i,wrapClassName:l,centered:h,getContainer:c,focusTriggerAfterClose:g=!0,style:v,visible:y,width:w=520,footer:k,classNames:x,styles:N,children:I,loading:O,confirmLoading:T,zIndex:F,mousePosition:R,onOk:$,onCancel:G,destroyOnHidden:Q,destroyOnClose:ee,panelRef:Y=null}=e,q=Hw(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef"]),{getPopupContainer:oe,getPrefixCls:D,direction:U,modal:te}=b.useContext(Jr),V=fe=>{T||G?.(fe)},J=fe=>{$?.(fe)},ie=D("modal",t),le=D(),ue=Xo(ie),[be,Le,Re]=Oy(ie,ue),ne=bt(l,{[`${ie}-centered`]:h??te?.centered,[`${ie}-wrap-rtl`]:U==="rtl"}),ce=k!==null&&!O?b.createElement(Ny,Object.assign({},e,{onOk:J,onCancel:V})):null,[me,we,ke,Be]=fp(yu(e),yu(te),{closable:!0,closeIcon:b.createElement(Rh,{className:`${ie}-close-icon`}),closeIconRender:fe=>Ly(ie,fe)}),he=ky(`.${ie}-content`),qe=Ps(Y,he),[We,Fe]=Fh("Modal",F),[de,it]=b.useMemo(()=>w&&typeof w=="object"?[void 0,w]:[w,void 0],[w]),ft=b.useMemo(()=>{const fe={};return it&&Object.keys(it).forEach(tt=>{const kt=it[tt];kt!==void 0&&(fe[`--${ie}-${tt}-width`]=typeof kt=="number"?`${kt}px`:kt)}),fe},[it]);return be(b.createElement(ec,{form:!0,space:!0},b.createElement(ap.Provider,{value:Fe},b.createElement(Sy,Object.assign({width:de},q,{zIndex:We,getContainer:c===void 0?oe:c,prefixCls:ie,rootClassName:bt(Le,r,Re,ue),footer:ce,visible:i??y,mousePosition:R??bf,onClose:V,closable:me&&Object.assign({disabled:ke,closeIcon:we},Be),closeIcon:we,focusTriggerAfterClose:g,transitionName:pu(le,"zoom",e.transitionName),maskTransitionName:pu(le,"fade",e.maskTransitionName),className:bt(Le,n,te?.className),style:Object.assign(Object.assign(Object.assign({},te?.style),v),ft),classNames:Object.assign(Object.assign(Object.assign({},te?.classNames),x),{wrapper:bt(ne,x?.wrapper)}),styles:Object.assign(Object.assign({},te?.styles),N),panelRef:qe,destroyOnClose:Q??ee}),O?b.createElement(Vv,{active:!0,title:!1,paragraph:{rows:4},className:`${ie}-body-skeleton`}):I))))},Uw=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:l,lineHeight:h,modalTitleHeight:c,fontHeight:g,confirmBodyPadding:v}=e,y=`${t}-confirm`;return{[y]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${y}-body-wrapper`]:Object.assign({},ph()),[`&${t} ${t}-body`]:{padding:v},[`${y}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(g).sub(i).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(c).sub(i).equal()).div(2).equal()}},[`${y}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Qe(e.marginSM)})`},[`${e.iconCls} + ${y}-paragraph`]:{maxWidth:`calc(100% - ${Qe(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${y}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${y}-content`]:{color:e.colorText,fontSize:l,lineHeight:h},[`${y}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${y}-error ${y}-body > ${e.iconCls}`]:{color:e.colorError},[`${y}-warning ${y}-body > ${e.iconCls},
        ${y}-confirm ${y}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${y}-info ${y}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${y}-success ${y}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Gw=cc(["Modal","confirm"],e=>{const t=Py(e);return Uw(t)},Iy,{order:-1e3});var Vw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ty(e){const{prefixCls:t,icon:n,okText:r,cancelText:i,confirmPrefixCls:l,type:h,okCancel:c,footer:g,locale:v}=e,y=Vw(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let w=n;if(!n&&n!==null)switch(h){case"info":w=b.createElement(vy,null);break;case"success":w=b.createElement(hp,null);break;case"error":w=b.createElement(np,null);break;default:w=b.createElement(cp,null)}const k=c??h==="confirm",x=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[N]=Tl("Modal"),I=v||N,O=r||(k?I?.okText:I?.justOkText),T=i||I?.cancelText,F=Object.assign({autoFocusButton:x,cancelTextLocale:T,okTextLocale:O,mergedOkCancel:k},y),R=b.useMemo(()=>F,En(Object.values(F))),$=b.createElement(b.Fragment,null,b.createElement(xg,null),b.createElement(wg,null)),G=e.title!==void 0&&e.title!==null,Q=`${l}-body`;return b.createElement("div",{className:`${l}-body-wrapper`},b.createElement("div",{className:bt(Q,{[`${Q}-has-title`]:G})},w,b.createElement("div",{className:`${l}-paragraph`},G&&b.createElement("span",{className:`${l}-title`},e.title),b.createElement("div",{className:`${l}-content`},e.content))),g===void 0||typeof g=="function"?b.createElement(by,{value:R},b.createElement("div",{className:`${l}-btns`},typeof g=="function"?g($,{OkBtn:wg,CancelBtn:xg}):$)):g,b.createElement(Gw,{prefixCls:t}))}const Ww=e=>{const{close:t,zIndex:n,maskStyle:r,direction:i,prefixCls:l,wrapClassName:h,rootPrefixCls:c,bodyStyle:g,closable:v=!1,onConfirm:y,styles:w}=e,k=`${l}-confirm`,x=e.width||416,N=e.style||{},I=e.mask===void 0?!0:e.mask,O=e.maskClosable===void 0?!1:e.maskClosable,T=bt(k,`${k}-${e.type}`,{[`${k}-rtl`]:i==="rtl"},e.className),[,F]=Su(),R=b.useMemo(()=>n!==void 0?n:F.zIndexPopupBase+n2,[n,F]);return b.createElement(Ay,Object.assign({},e,{className:T,wrapClassName:bt({[`${k}-centered`]:!!e.centered},h),onCancel:()=>{t?.({triggerCancel:!0}),y?.(!1)},title:"",footer:null,transitionName:pu(c||"","zoom",e.transitionName),maskTransitionName:pu(c||"","fade",e.maskTransitionName),mask:I,maskClosable:O,style:N,styles:Object.assign({body:g,mask:r},w),width:x,zIndex:R,closable:v}),b.createElement(Ty,Object.assign({},e,{confirmPrefixCls:k})))},Ry=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:i}=e;return b.createElement(jh,{prefixCls:t,iconPrefixCls:n,direction:r,theme:i},b.createElement(Ww,Object.assign({},e)))},Sl=[];let By="";function Dy(){return By}const Kw=e=>{var t,n;const{prefixCls:r,getContainer:i,direction:l}=e,h=ry(),c=b.useContext(Jr),g=Dy()||c.getPrefixCls(),v=r||`${g}-modal`;let y=i;return y===!1&&(y=void 0),Ot.createElement(Ry,Object.assign({},e,{rootPrefixCls:g,prefixCls:v,iconPrefixCls:c.iconPrefixCls,theme:c.theme,direction:l??c.direction,locale:(n=(t=c.locale)===null||t===void 0?void 0:t.Modal)!==null&&n!==void 0?n:h,getContainer:y}))};function fc(e){const t=r2(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:g,open:!0}),i,l;function h(...y){var w;if(y.some(N=>N?.triggerCancel)){var x;(w=e.onCancel)===null||w===void 0||(x=w).call.apply(x,[e,()=>{}].concat(En(y.slice(1))))}for(let N=0;N<Sl.length;N++)if(Sl[N]===g){Sl.splice(N,1);break}l()}function c(y){clearTimeout(i),i=setTimeout(()=>{const w=t.getPrefixCls(void 0,Dy()),k=t.getIconPrefixCls(),x=t.getTheme(),N=Ot.createElement(Kw,Object.assign({},y));l=i2()(Ot.createElement(jh,{prefixCls:w,iconPrefixCls:k,theme:x},t.holderRender?t.holderRender(N):N),n)})}function g(...y){r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),h.apply(this,y)}}),r.visible&&delete r.visible,c(r)}function v(y){typeof y=="function"?r=y(r):r=Object.assign(Object.assign({},r),y),c(r)}return c(r),Sl.push(g),{destroy:g,update:v}}function $y(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Fy(e){return Object.assign(Object.assign({},e),{type:"info"})}function jy(e){return Object.assign(Object.assign({},e),{type:"success"})}function zy(e){return Object.assign(Object.assign({},e),{type:"error"})}function Hy(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Xw({rootPrefixCls:e}){By=e}var Zw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yw=(e,t)=>{var n,{afterClose:r,config:i}=e,l=Zw(e,["afterClose","config"]);const[h,c]=b.useState(!0),[g,v]=b.useState(i),{direction:y,getPrefixCls:w}=b.useContext(Jr),k=w("modal"),x=w(),N=()=>{var F;r(),(F=g.afterClose)===null||F===void 0||F.call(g)},I=(...F)=>{var R;if(c(!1),F.some(Q=>Q?.triggerCancel)){var G;(R=g.onCancel)===null||R===void 0||(G=R).call.apply(G,[g,()=>{}].concat(En(F.slice(1))))}};b.useImperativeHandle(t,()=>({destroy:I,update:F=>{v(R=>{const $=typeof F=="function"?F(R):F;return Object.assign(Object.assign({},R),$)})}}));const O=(n=g.okCancel)!==null&&n!==void 0?n:g.type==="confirm",[T]=Tl("Modal",$h.Modal);return b.createElement(Ry,Object.assign({prefixCls:k,rootPrefixCls:x},g,{close:I,open:h,afterClose:N,okText:g.okText||(O?T?.okText:T?.justOkText),direction:g.direction||y,cancelText:g.cancelText||T?.cancelText},l))},Jw=b.forwardRef(Yw);let Pg=0;const Qw=b.memo(b.forwardRef((e,t)=>{const[n,r]=pw();return b.useImperativeHandle(t,()=>({patchElement:r}),[]),b.createElement(b.Fragment,null,n)}));function eC(){const e=b.useRef(null),[t,n]=b.useState([]);b.useEffect(()=>{t.length&&(En(t).forEach(h=>{h()}),n([]))},[t]);const r=b.useCallback(l=>function(c){var g;Pg+=1;const v=b.createRef();let y;const w=new Promise(O=>{y=O});let k=!1,x;const N=b.createElement(Jw,{key:`modal-${Pg}`,config:l(c),ref:v,afterClose:()=>{x?.()},isSilent:()=>k,onConfirm:O=>{y(O)}});return x=(g=e.current)===null||g===void 0?void 0:g.patchElement(N),x&&Sl.push(x),{destroy:()=>{function O(){var T;(T=v.current)===null||T===void 0||T.destroy()}v.current?O():n(T=>[].concat(En(T),[O]))},update:O=>{function T(){var F;(F=v.current)===null||F===void 0||F.update(O)}v.current?T():n(F=>[].concat(En(F),[T]))},then:O=>(k=!0,w.then(O))}},[]);return[b.useMemo(()=>({info:r(Fy),success:r(jy),error:r(zy),warning:r($y),confirm:r(Hy)}),[]),b.createElement(Qw,{key:"modal-holder",ref:e})]}var tC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},nC=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:tC}))},_u=b.forwardRef(nC);const rC=e=>typeof e!="object"&&typeof e!="function"||e===null;var iC={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},aC=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:iC}))},oC=b.forwardRef(aC);const qy=b.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),sC=e=>{const{antCls:t,componentCls:n,colorText:r,footerBg:i,headerHeight:l,headerPadding:h,headerColor:c,footerPadding:g,fontSize:v,bodyBg:y,headerBg:w}=e;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:y,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:l,padding:h,color:c,lineHeight:Qe(l),background:w,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:g,color:r,fontSize:v,background:i},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},Uy=e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:r,colorText:i,controlHeightSM:l,marginXXS:h,colorTextLightSolid:c,colorBgContainer:g}=e,v=r*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${v}px`,headerColor:i,footerPadding:`${l}px ${v}px`,footerBg:t,siderBg:"#001529",triggerHeight:r+h*2,triggerBg:"#002140",triggerColor:c,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:g,lightTriggerBg:g,lightTriggerColor:i}},Gy=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],Vy=zi("Layout",sC,Uy,{deprecatedTokens:Gy}),lC=e=>{const{componentCls:t,siderBg:n,motionDurationMid:r,motionDurationSlow:i,antCls:l,triggerHeight:h,triggerColor:c,triggerBg:g,headerHeight:v,zeroTriggerWidth:y,zeroTriggerHeight:w,borderRadiusLG:k,lightSiderBg:x,lightTriggerColor:N,lightTriggerBg:I,bodyBg:O}=e;return{[t]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:h},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${l}-menu${l}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:h,color:c,lineHeight:Qe(h),textAlign:"center",background:g,cursor:"pointer",transition:`all ${r}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:v,insetInlineEnd:e.calc(y).mul(-1).equal(),zIndex:1,width:y,height:w,color:c,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${Qe(k)} ${Qe(k)} 0`,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(y).mul(-1).equal(),borderRadius:`${Qe(k)} 0 0 ${Qe(k)}`}},"&-light":{background:x,[`${t}-trigger`]:{color:N,background:I},[`${t}-zero-width-trigger`]:{color:N,background:I,border:`1px solid ${O}`,borderInlineStart:0}}}}},uC=zi(["Layout","Sider"],lC,Uy,{deprecatedTokens:Gy});var cC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ig={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},hC=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),Vh=b.createContext({}),dC=(()=>{let e=0;return(t="")=>(e+=1,`${t}${e}`)})(),Wy=b.forwardRef((e,t)=>{const{prefixCls:n,className:r,trigger:i,children:l,defaultCollapsed:h=!1,theme:c="dark",style:g={},collapsible:v=!1,reverseArrow:y=!1,width:w=200,collapsedWidth:k=80,zeroWidthTriggerStyle:x,breakpoint:N,onCollapse:I,onBreakpoint:O}=e,T=cC(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:F}=b.useContext(qy),[R,$]=b.useState("collapsed"in e?e.collapsed:h),[G,Q]=b.useState(!1);b.useEffect(()=>{"collapsed"in e&&$(e.collapsed)},[e.collapsed]);const ee=(he,qe)=>{"collapsed"in e||$(he),I?.(he,qe)},{getPrefixCls:Y,direction:q}=b.useContext(Jr),oe=Y("layout-sider",n),[D,U,te]=uC(oe),V=b.useRef(null);V.current=he=>{Q(he.matches),O?.(he.matches),R!==he.matches&&ee(he.matches,"responsive")},b.useEffect(()=>{function he(We){var Fe;return(Fe=V.current)===null||Fe===void 0?void 0:Fe.call(V,We)}let qe;return typeof window?.matchMedia<"u"&&N&&N in Ig&&(qe=window.matchMedia(`screen and (max-width: ${Ig[N]})`),Lx(qe,he),he(qe)),()=>{Nx(qe,he)}},[N]),b.useEffect(()=>{const he=dC("ant-sider-");return F.addSider(he),()=>F.removeSider(he)},[]);const J=()=>{ee(!R,"clickTrigger")},ie=Zo(T,["collapsed"]),le=R?k:w,ue=hC(le)?`${le}px`:String(le),be=parseFloat(String(k||0))===0?b.createElement("span",{onClick:J,className:bt(`${oe}-zero-width-trigger`,`${oe}-zero-width-trigger-${y?"right":"left"}`),style:x},i||b.createElement(oC,null)):null,Le=q==="rtl"==!y,ce={expanded:Le?b.createElement(nc,null):b.createElement(_u,null),collapsed:Le?b.createElement(_u,null):b.createElement(nc,null)}[R?"collapsed":"expanded"],me=i!==null?be||b.createElement("div",{className:`${oe}-trigger`,onClick:J,style:{width:ue}},i||ce):null,we=Object.assign(Object.assign({},g),{flex:`0 0 ${ue}`,maxWidth:ue,minWidth:ue,width:ue}),ke=bt(oe,`${oe}-${c}`,{[`${oe}-collapsed`]:!!R,[`${oe}-has-trigger`]:v&&i!==null&&!be,[`${oe}-below`]:!!G,[`${oe}-zero-width`]:parseFloat(ue)===0},r,U,te),Be=b.useMemo(()=>({siderCollapsed:R}),[R]);return D(b.createElement(Vh.Provider,{value:Be},b.createElement("aside",Object.assign({className:ke},ie,{style:we,ref:t}),b.createElement("div",{className:`${oe}-children`},l),v||G&&be?me:null)))}),gh=b.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var fC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ky=e=>{const{prefixCls:t,className:n,dashed:r}=e,i=fC(e,["prefixCls","className","dashed"]),{getPrefixCls:l}=b.useContext(Jr),h=l("menu",t),c=bt({[`${h}-item-divider-dashed`]:!!r},n);return b.createElement(Mx,Object.assign({className:c},i))},Xy=e=>{var t;const{className:n,children:r,icon:i,title:l,danger:h,extra:c}=e,{prefixCls:g,firstLevel:v,direction:y,disableMenuItemTitleTooltip:w,inlineCollapsed:k}=b.useContext(gh),x=R=>{const $=r?.[0],G=b.createElement("span",{className:bt(`${g}-title-content`,{[`${g}-title-content-with-extra`]:!!c||c===0})},r);return(!i||b.isValidElement(r)&&r.type==="span")&&r&&R&&v&&typeof $=="string"?b.createElement("div",{className:`${g}-inline-collapsed-noicon`},$.charAt(0)):G},{siderCollapsed:N}=b.useContext(Vh);let I=l;typeof l>"u"?I=v?r:"":l===!1&&(I="");const O={title:I};!N&&!k&&(O.title=null,O.open=!1);const T=Rl(r).length;let F=b.createElement(Px,Object.assign({},Zo(e,["title","icon","danger"]),{className:bt({[`${g}-item-danger`]:h,[`${g}-item-only-child`]:(i?T+1:T)===1},n),title:typeof l=="string"?l:void 0}),Ls(i,{className:bt(b.isValidElement(i)?(t=i.props)===null||t===void 0?void 0:t.className:void 0,`${g}-item-icon`)}),x(k));return w||(F=b.createElement(sa,Object.assign({},O,{placement:y==="rtl"?"left":"right",classNames:{root:`${g}-inline-collapsed-tooltip`}}),F)),F};var pC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const mh=b.createContext(null),Zy=b.forwardRef((e,t)=>{const{children:n}=e,r=pC(e,["children"]),i=b.useContext(mh),l=b.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable,r.rootClassName]),h=a2(n),c=rp(t,h?iy(n):null);return b.createElement(mh.Provider,{value:l},b.createElement(ec,{space:!0},h?b.cloneElement(n,{ref:c}):n))}),gC=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:i,lineWidth:l,lineType:h,itemPaddingInline:c}=e;return{[`${t}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Qe(l)} ${h} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:c},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},mC=({componentCls:e,menuArrowOffset:t,calc:n})=>({[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Qe(n(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Qe(t)})`}}}}),Og=e=>Ml(e),Ag=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:i,subMenuItemSelectedColor:l,groupTitleColor:h,itemBg:c,subMenuItemBg:g,itemSelectedBg:v,activeBarHeight:y,activeBarWidth:w,activeBarBorderWidth:k,motionDurationSlow:x,motionEaseInOut:N,motionEaseOut:I,itemPaddingInline:O,motionDurationMid:T,itemHoverColor:F,lineType:R,colorSplit:$,itemDisabledColor:G,dangerItemColor:Q,dangerItemHoverColor:ee,dangerItemSelectedColor:Y,dangerItemActiveBg:q,dangerItemSelectedBg:oe,popupBg:D,itemHoverBg:U,itemActiveBg:te,menuSubMenuBg:V,horizontalItemSelectedColor:J,horizontalItemSelectedBg:ie,horizontalItemBorderRadius:le,horizontalItemHoverBg:ue}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:r,background:c,[`&${n}-root:focus-visible`]:Object.assign({},Og(e)),[`${n}-item`]:{"&-group-title, &-extra":{color:h}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:l},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},Og(e))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${G} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:F}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:U},"&:active":{backgroundColor:te}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:U},"&:active":{backgroundColor:te}}},[`${n}-item-danger`]:{color:Q,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:ee}},[`&${n}-item:active`]:{background:q}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:Y},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:v,[`&${n}-item-danger`]:{backgroundColor:oe}},[`&${n}-submenu > ${n}`]:{backgroundColor:V},[`&${n}-popup > ${n}`]:{backgroundColor:D},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:D},[`&${n}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:k,marginTop:e.calc(k).mul(-1).equal(),marginBottom:0,borderRadius:le,"&::after":{position:"absolute",insetInline:O,bottom:0,borderBottom:`${Qe(y)} solid transparent`,transition:`border-color ${x} ${N}`,content:'""'},"&:hover, &-active, &-open":{background:ue,"&::after":{borderBottomWidth:y,borderBottomColor:J}},"&-selected":{color:J,backgroundColor:ie,"&:hover":{backgroundColor:ie},"&::after":{borderBottomWidth:y,borderBottomColor:J}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${Qe(k)} ${R} ${$}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:g},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Qe(w)} solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${T} ${I}`,`opacity ${T} ${I}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:Y}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${T} ${N}`,`opacity ${T} ${N}`].join(",")}}}}}},Tg=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:l,marginXS:h,itemMarginBlock:c,itemWidth:g,itemPaddingInline:v}=e,y=e.calc(l).add(i).add(h).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:Qe(n),paddingInline:v,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:c,width:g},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:Qe(n)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:y}}},vC=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:i,dropdownWidth:l,controlHeightLG:h,motionEaseOut:c,paddingXL:g,itemMarginInline:v,fontSizeLG:y,motionDurationFast:w,motionDurationSlow:k,paddingXS:x,boxShadowSecondary:N,collapsedWidth:I,collapsedIconSize:O}=e,T={height:r,lineHeight:Qe(r),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Tg(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Tg(e)),{boxShadow:N})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:l,maxHeight:`calc(100vh - ${Qe(e.calc(h).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${k}`,`background ${k}`,`padding ${w} ${c}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:T,[`& ${t}-item-group-title`]:{paddingInlineStart:g}},[`${t}-item`]:T}},{[`${t}-inline-collapsed`]:{width:I,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:y,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Qe(e.calc(O).div(2).equal())} - ${Qe(v)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:O,lineHeight:Qe(r),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:Object.assign(Object.assign({},ay),{paddingInline:x})}}]},Rg=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:i,motionEaseOut:l,iconCls:h,iconSize:c,iconMarginInlineEnd:g}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${i}`].join(","),[`${t}-item-icon, ${h}`]:{minWidth:c,fontSize:c,transition:[`font-size ${r} ${l}`,`margin ${n} ${i}`,`color ${n}`].join(","),"+ span":{marginInlineStart:g,opacity:1,transition:[`opacity ${n} ${i}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},oy()),[`&${t}-item-only-child`]:{[`> ${h}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Bg=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:l,menuArrowOffset:h}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:l,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(l).mul(.6).equal(),height:e.calc(l).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Qe(e.calc(h).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Qe(h)})`}}}}},yC=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:l,motionEaseInOut:h,paddingXS:c,padding:g,colorSplit:v,lineWidth:y,zIndexPopup:w,borderRadiusLG:k,subMenuItemBorderRadius:x,menuArrowSize:N,menuArrowOffset:I,lineType:O,groupTitleLineHeight:T,groupTitleFontSize:F}=e;return[{"":{[n]:Object.assign(Object.assign({},ph()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),ph()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${Qe(c)} ${Qe(g)}`,fontSize:F,lineHeight:T,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${h}`,`background ${i} ${h}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${h}`,`background ${i} ${h}`,`padding ${l} ${h}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${h}`,`padding ${i} ${h}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:v,borderStyle:O,borderWidth:0,borderTopWidth:y,marginBlock:y,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Rg(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${Qe(e.calc(r).mul(2).equal())} ${Qe(g)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:w,borderRadius:k,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:k},Rg(e)),Bg(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:x},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${h}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Bg(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Qe(I)})`},"&::after":{transform:`rotate(45deg) translateX(${Qe(e.calc(I).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${Qe(e.calc(N).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Qe(e.calc(I).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Qe(I)})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},_C=e=>{var t,n,r;const{colorPrimary:i,colorError:l,colorTextDisabled:h,colorErrorBg:c,colorText:g,colorTextDescription:v,colorBgContainer:y,colorFillAlter:w,colorFillContent:k,lineWidth:x,lineWidthBold:N,controlItemBgActive:I,colorBgTextHover:O,controlHeightLG:T,lineHeight:F,colorBgElevated:R,marginXXS:$,padding:G,fontSize:Q,controlHeightSM:ee,fontSizeLG:Y,colorTextLightSolid:q,colorErrorHover:oe}=e,D=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,U=(n=e.activeBarBorderWidth)!==null&&n!==void 0?n:x,te=(r=e.itemMarginInline)!==null&&r!==void 0?r:e.marginXXS,V=new Oo(q).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:g,itemColor:g,colorItemTextHover:g,itemHoverColor:g,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:v,groupTitleColor:v,colorItemTextSelected:i,itemSelectedColor:i,subMenuItemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:y,itemBg:y,colorItemBgHover:O,itemHoverBg:O,colorItemBgActive:k,itemActiveBg:I,colorSubItemBg:w,subMenuItemBg:w,colorItemBgSelected:I,itemSelectedBg:I,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:D,colorActiveBarHeight:N,activeBarHeight:N,colorActiveBarBorderSize:x,activeBarBorderWidth:U,colorItemTextDisabled:h,itemDisabledColor:h,colorDangerItemText:l,dangerItemColor:l,colorDangerItemTextHover:l,dangerItemHoverColor:l,colorDangerItemTextSelected:l,dangerItemSelectedColor:l,colorDangerItemBgActive:c,dangerItemActiveBg:c,colorDangerItemBgSelected:c,dangerItemSelectedBg:c,itemMarginInline:te,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:T,groupTitleLineHeight:F,collapsedWidth:T*2,popupBg:R,itemMarginBlock:$,itemPaddingInline:G,horizontalLineHeight:`${T*1.15}px`,iconSize:Q,iconMarginInlineEnd:ee-Q,collapsedIconSize:Y,groupTitleFontSize:Q,darkItemDisabledColor:new Oo(q).setA(.25).toRgbString(),darkItemColor:V,darkDangerItemColor:l,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:q,darkItemSelectedBg:i,darkDangerItemSelectedBg:l,darkItemHoverBg:"transparent",darkGroupTitleColor:V,darkItemHoverColor:q,darkDangerItemHoverColor:oe,darkDangerItemSelectedColor:q,darkDangerItemActiveBg:l,itemWidth:D?`calc(100% + ${U}px)`:`calc(100% - ${te*2}px)`}},bC=(e,t=e,n=!0)=>zi("Menu",i=>{const{colorBgElevated:l,controlHeightLG:h,fontSize:c,darkItemColor:g,darkDangerItemColor:v,darkItemBg:y,darkSubMenuItemBg:w,darkItemSelectedColor:k,darkItemSelectedBg:x,darkDangerItemSelectedBg:N,darkItemHoverBg:I,darkGroupTitleColor:O,darkItemHoverColor:T,darkItemDisabledColor:F,darkDangerItemHoverColor:R,darkDangerItemSelectedColor:$,darkDangerItemActiveBg:G,popupBg:Q,darkPopupBg:ee}=i,Y=i.calc(c).div(7).mul(5).equal(),q=ba(i,{menuArrowSize:Y,menuHorizontalHeight:i.calc(h).mul(1.15).equal(),menuArrowOffset:i.calc(Y).mul(.25).equal(),menuSubMenuBg:l,calc:i.calc,popupBg:Q}),oe=ba(q,{itemColor:g,itemHoverColor:T,groupTitleColor:O,itemSelectedColor:k,subMenuItemSelectedColor:k,itemBg:y,popupBg:ee,subMenuItemBg:w,itemActiveBg:"transparent",itemSelectedBg:x,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:I,itemDisabledColor:F,dangerItemColor:v,dangerItemHoverColor:R,dangerItemSelectedColor:$,dangerItemActiveBg:G,dangerItemSelectedBg:N,menuSubMenuBg:w,horizontalItemSelectedColor:k,horizontalItemSelectedBg:x});return[yC(q),gC(q),vC(q),Ag(q,"light"),Ag(oe,"dark"),mC(q),dp(q),ch(q,"slide-up"),ch(q,"slide-down"),tp(q,"zoom-big")]},_C,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(e,t),Yy=e=>{var t;const{popupClassName:n,icon:r,title:i,theme:l}=e,h=b.useContext(gh),{prefixCls:c,inlineCollapsed:g,theme:v}=h,y=Ix();let w;if(!r)w=g&&!y.length&&i&&typeof i=="string"?b.createElement("div",{className:`${c}-inline-collapsed-noicon`},i.charAt(0)):b.createElement("span",{className:`${c}-title-content`},i);else{const N=b.isValidElement(i)&&i.type==="span";w=b.createElement(b.Fragment,null,Ls(r,{className:bt(b.isValidElement(r)?(t=r.props)===null||t===void 0?void 0:t.className:void 0,`${c}-item-icon`)}),N?i:b.createElement("span",{className:`${c}-title-content`},i))}const k=b.useMemo(()=>Object.assign(Object.assign({},h),{firstLevel:!1}),[h]),[x]=Fh("Menu");return b.createElement(gh.Provider,{value:k},b.createElement(Ox,Object.assign({},Zo(e,["icon"]),{title:w,popupClassName:bt(c,n,`${c}-${l||v}`),popupStyle:Object.assign({zIndex:x},e.popupStyle)})))};var xC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function _d(e){return e===null||e===!1}const wC={item:Xy,submenu:Yy,divider:Ky},CC=b.forwardRef((e,t)=>{var n;const r=b.useContext(mh),i=r||{},{getPrefixCls:l,getPopupContainer:h,direction:c,menu:g}=b.useContext(Jr),v=l(),{prefixCls:y,className:w,style:k,theme:x="light",expandIcon:N,_internalDisableMenuItemTitleTooltip:I,inlineCollapsed:O,siderCollapsed:T,rootClassName:F,mode:R,selectable:$,onClick:G,overflowedIndicatorPopupClassName:Q}=e,ee=xC(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),Y=Zo(ee,["collapsedWidth"]);(n=i.validator)===null||n===void 0||n.call(i,{mode:R});const q=Ja((...ne)=>{var ce;G?.apply(void 0,ne),(ce=i.onClick)===null||ce===void 0||ce.call(i)}),oe=i.mode||R,D=$??i.selectable,U=O??T,te={horizontal:{motionName:`${v}-slide-up`},inline:hh(v),other:{motionName:`${v}-zoom-big`}},V=l("menu",y||i.prefixCls),J=Xo(V),[ie,le,ue]=bC(V,J,!r),be=bt(`${V}-${x}`,g?.className,w),Le=b.useMemo(()=>{var ne,ce;if(typeof N=="function"||_d(N))return N||null;if(typeof i.expandIcon=="function"||_d(i.expandIcon))return i.expandIcon||null;if(typeof g?.expandIcon=="function"||_d(g?.expandIcon))return g?.expandIcon||null;const me=(ne=N??i?.expandIcon)!==null&&ne!==void 0?ne:g?.expandIcon;return Ls(me,{className:bt(`${V}-submenu-expand-icon`,b.isValidElement(me)?(ce=me.props)===null||ce===void 0?void 0:ce.className:void 0)})},[N,i?.expandIcon,g?.expandIcon,V]),Re=b.useMemo(()=>({prefixCls:V,inlineCollapsed:U||!1,direction:c,firstLevel:!0,theme:x,mode:oe,disableMenuItemTitleTooltip:I}),[V,U,c,I,x]);return ie(b.createElement(mh.Provider,{value:null},b.createElement(gh.Provider,{value:Re},b.createElement(Ax,Object.assign({getPopupContainer:h,overflowedIndicator:b.createElement(Wv,null),overflowedIndicatorPopupClassName:bt(V,`${V}-${x}`,Q),mode:oe,selectable:D,onClick:q},Y,{inlineCollapsed:U,style:Object.assign(Object.assign({},g?.style),k),className:be,prefixCls:V,direction:c,defaultMotions:te,expandIcon:Le,ref:t,rootClassName:bt(F,le,i.rootClassName,ue,J),_internalComponents:wC})))))}),Bl=b.forwardRef((e,t)=>{const n=b.useRef(null),r=b.useContext(Vh);return b.useImperativeHandle(t,()=>({menu:n.current,focus:i=>{var l;(l=n.current)===null||l===void 0||l.focus(i)}})),b.createElement(CC,Object.assign({ref:n},e,r))});Bl.Item=Xy;Bl.SubMenu=Yy;Bl.Divider=Ky;Bl.ItemGroup=Tx;const SC=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:i}=e,l=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${l}`]:{[`&${l}-danger:not(${l}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},EC=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,sizePopupArrow:l,antCls:h,iconCls:c,motionDurationMid:g,paddingBlock:v,fontSize:y,dropdownEdgeChildPadding:w,colorTextDisabled:k,fontSizeIcon:x,controlPaddingHorizontal:N,colorBgElevated:I}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(l).div(2).sub(i).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${h}-btn`]:{[`& > ${c}-down, & > ${h}-btn-icon > ${c}-down`]:{fontSize:x}},[`${t}-wrap`]:{position:"relative",[`${h}-btn > ${c}-down`]:{fontSize:x},[`${c}-down::before`]:{transition:`transform ${g}`}},[`${t}-wrap-open`]:{[`${c}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${h}-slide-down-enter${h}-slide-down-enter-active${t}-placement-bottomLeft,
          &${h}-slide-down-appear${h}-slide-down-appear-active${t}-placement-bottomLeft,
          &${h}-slide-down-enter${h}-slide-down-enter-active${t}-placement-bottom,
          &${h}-slide-down-appear${h}-slide-down-appear-active${t}-placement-bottom,
          &${h}-slide-down-enter${h}-slide-down-enter-active${t}-placement-bottomRight,
          &${h}-slide-down-appear${h}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:$x},[`&${h}-slide-up-enter${h}-slide-up-enter-active${t}-placement-topLeft,
          &${h}-slide-up-appear${h}-slide-up-appear-active${t}-placement-topLeft,
          &${h}-slide-up-enter${h}-slide-up-enter-active${t}-placement-top,
          &${h}-slide-up-appear${h}-slide-up-appear-active${t}-placement-top,
          &${h}-slide-up-enter${h}-slide-up-enter-active${t}-placement-topRight,
          &${h}-slide-up-appear${h}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Dx},[`&${h}-slide-down-leave${h}-slide-down-leave-active${t}-placement-bottomLeft,
          &${h}-slide-down-leave${h}-slide-down-leave-active${t}-placement-bottom,
          &${h}-slide-down-leave${h}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Bx},[`&${h}-slide-up-leave${h}-slide-up-leave-active${t}-placement-topLeft,
          &${h}-slide-up-leave${h}-slide-up-leave-active${t}-placement-top,
          &${h}-slide-up-leave${h}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Rx}}},Fx(e,I,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},Pi(e)),{[n]:Object.assign(Object.assign({padding:w,listStyleType:"none",backgroundColor:I,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},mu(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${Qe(v)} ${Qe(N)}`,color:e.colorTextDescription,transition:`all ${g}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:y,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${g}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${Qe(v)} ${Qe(N)}`,color:e.colorText,fontWeight:"normal",fontSize:y,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${g}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},mu(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:k,cursor:"not-allowed","&:hover":{color:k,backgroundColor:I,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${Qe(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:x,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${Qe(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(N).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:k,backgroundColor:I,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[ch(e,"slide-up"),ch(e,"slide-down"),lg(e,"move-up"),lg(e,"move-down"),tp(e,"zoom-big")]]},kC=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},jx({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),zx(e)),LC=zi("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:r,componentCls:i}=e,l=ba(e,{menuCls:`${i}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:r});return[EC(l),SC(l)]},kC,{resetStyle:!1}),Wh=e=>{var t;const{menu:n,arrow:r,prefixCls:i,children:l,trigger:h,disabled:c,dropdownRender:g,popupRender:v,getPopupContainer:y,overlayClassName:w,rootClassName:k,overlayStyle:x,open:N,onOpenChange:I,visible:O,onVisibleChange:T,mouseEnterDelay:F=.15,mouseLeaveDelay:R=.1,autoAdjustOverflow:$=!0,placement:G="",overlay:Q,transitionName:ee,destroyOnHidden:Y,destroyPopupOnHide:q}=e,{getPopupContainer:oe,getPrefixCls:D,direction:U,dropdown:te}=b.useContext(Jr),V=v||g;hc();const J=b.useMemo(()=>{const kt=D();return ee!==void 0?ee:G.includes("top")?`${kt}-slide-down`:`${kt}-slide-up`},[D,G,ee]),ie=b.useMemo(()=>G?G.includes("Center")?G.slice(0,G.indexOf("Center")):G:U==="rtl"?"bottomRight":"bottomLeft",[G,U]),le=D("dropdown",i),ue=Xo(le),[be,Le,Re]=LC(le,ue),[,ne]=Su(),ce=b.Children.only(rC(l)?b.createElement("span",null,l):l),me=Ls(ce,{className:bt(`${le}-trigger`,{[`${le}-rtl`]:U==="rtl"},ce.props.className),disabled:(t=ce.props.disabled)!==null&&t!==void 0?t:c}),we=c?[]:h,ke=!!we?.includes("contextMenu"),[Be,he]=ps(!1,{value:N??O}),qe=Ja(kt=>{I?.(kt,{source:"trigger"}),T?.(kt),he(kt)}),We=bt(w,k,Le,Re,ue,te?.className,{[`${le}-rtl`]:U==="rtl"}),Fe=Hx({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:$,offset:ne.marginXXS,arrowWidth:r?ne.sizePopupArrow:0,borderRadius:ne.borderRadius}),de=Ja(()=>{n?.selectable&&n?.multiple||(I?.(!1,{source:"menu"}),he(!1))}),it=()=>{let kt;return n?.items?kt=b.createElement(Bl,Object.assign({},n)):typeof Q=="function"?kt=Q():kt=Q,V&&(kt=V(kt)),kt=b.Children.only(typeof kt=="string"?b.createElement("span",null,kt):kt),b.createElement(Zy,{prefixCls:`${le}-menu`,rootClassName:bt(Re,ue),expandIcon:b.createElement("span",{className:`${le}-menu-submenu-arrow`},U==="rtl"?b.createElement(_u,{className:`${le}-menu-submenu-arrow-icon`}):b.createElement(nc,{className:`${le}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:de,validator:({mode:At})=>{}},kt)},[ft,fe]=Fh("Dropdown",x?.zIndex);let tt=b.createElement(qx,Object.assign({alignPoint:ke},Zo(e,["rootClassName"]),{mouseEnterDelay:F,mouseLeaveDelay:R,visible:Be,builtinPlacements:Fe,arrow:!!r,overlayClassName:We,prefixCls:le,getPopupContainer:y||oe,transitionName:J,trigger:we,overlay:it,placement:ie,onVisibleChange:qe,overlayStyle:Object.assign(Object.assign(Object.assign({},te?.style),x),{zIndex:ft}),autoDestroy:Y??q}),me);return ft&&(tt=b.createElement(ap.Provider,{value:fe},tt)),be(tt)},NC=Ux(Wh,"align",void 0,"dropdown",e=>e),MC=e=>b.createElement(NC,Object.assign({},e),b.createElement("span",null));Wh._InternalPanelDoNotUseOrYouWillBeFired=MC;const Jy=b.createContext(null),PC=Jy.Provider,Qy=b.createContext(null),IC=Qy.Provider;var OC=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],e_=b.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,i=e.className,l=e.style,h=e.checked,c=e.disabled,g=e.defaultChecked,v=g===void 0?!1:g,y=e.type,w=y===void 0?"checkbox":y,k=e.title,x=e.onChange,N=$a(e,OC),I=b.useRef(null),O=b.useRef(null),T=ps(v,{value:h}),F=On(T,2),R=F[0],$=F[1];b.useImperativeHandle(t,function(){return{focus:function(Y){var q;(q=I.current)===null||q===void 0||q.focus(Y)},blur:function(){var Y;(Y=I.current)===null||Y===void 0||Y.blur()},input:I.current,nativeElement:O.current}});var G=bt(r,i,Pt(Pt({},"".concat(r,"-checked"),R),"".concat(r,"-disabled"),c)),Q=function(Y){c||("checked"in e||$(Y.target.checked),x?.({target:Wt(Wt({},e),{},{type:w,checked:Y.target.checked}),stopPropagation:function(){Y.stopPropagation()},preventDefault:function(){Y.preventDefault()},nativeEvent:Y.nativeEvent}))};return b.createElement("span",{className:G,title:k,style:l,ref:O},b.createElement("input",bn({},N,{className:"".concat(r,"-input"),ref:I,onChange:Q,disabled:c,checked:!!R,type:w})),b.createElement("span",{className:"".concat(r,"-inner")}))});function t_(e){const t=Ot.useRef(null),n=()=>{Ba.cancel(t.current),t.current=null};return[()=>{n(),t.current=Ba(()=>{t.current=null})},l=>{t.current&&(l.stopPropagation(),n()),e?.(l)}]}const AC=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},Pi(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},TC=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:i,motionDurationSlow:l,motionDurationMid:h,motionEaseInOutCirc:c,colorBgContainer:g,colorBorder:v,lineWidth:y,colorBgContainerDisabled:w,colorTextDisabled:k,paddingXS:x,dotColorDisabled:N,lineType:I,radioColor:O,radioBgColor:T,calc:F}=e,R=`${t}-inner`,G=F(i).sub(F(4).mul(2)),Q=F(1).mul(i).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},Pi(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Qe(y)} ${I} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${R}`]:{borderColor:r},[`${t}-input:focus-visible + ${R}`]:Ml(e),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:Q,height:Q,marginBlockStart:F(1).mul(i).div(-2).equal({unit:!0}),marginInlineStart:F(1).mul(i).div(-2).equal({unit:!0}),backgroundColor:O,borderBlockStart:0,borderInlineStart:0,borderRadius:Q,transform:"scale(0)",opacity:0,transition:`all ${l} ${c}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:Q,height:Q,backgroundColor:g,borderColor:v,borderStyle:"solid",borderWidth:y,borderRadius:"50%",transition:`all ${h}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[R]:{borderColor:r,backgroundColor:T,"&::after":{transform:`scale(${e.calc(e.dotSize).div(i).equal()})`,opacity:1,transition:`all ${l} ${c}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[R]:{backgroundColor:w,borderColor:v,cursor:"not-allowed","&::after":{backgroundColor:N}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:k,cursor:"not-allowed"},[`&${t}-checked`]:{[R]:{"&::after":{transform:`scale(${F(G).div(i).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:x,paddingInlineEnd:x}})}},RC=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:i,lineType:l,colorBorder:h,motionDurationMid:c,buttonPaddingInline:g,fontSize:v,buttonBg:y,fontSizeLG:w,controlHeightLG:k,controlHeightSM:x,paddingXS:N,borderRadius:I,borderRadiusSM:O,borderRadiusLG:T,buttonCheckedBg:F,buttonSolidCheckedColor:R,colorTextDisabled:$,colorBgContainerDisabled:G,buttonCheckedBgDisabled:Q,buttonCheckedColorDisabled:ee,colorPrimary:Y,colorPrimaryHover:q,colorPrimaryActive:oe,buttonSolidCheckedBg:D,buttonSolidCheckedHoverBg:U,buttonSolidCheckedActiveBg:te,calc:V}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:g,paddingBlock:0,color:t,fontSize:v,lineHeight:Qe(V(n).sub(V(i).mul(2)).equal()),background:y,border:`${Qe(i)} ${l} ${h}`,borderBlockStartWidth:V(i).add(.02).equal(),borderInlineEndWidth:i,cursor:"pointer",transition:[`color ${c}`,`background ${c}`,`box-shadow ${c}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:last-child)":{marginInlineEnd:V(i).mul(-1).equal()},"&:first-child":{borderInlineStart:`${Qe(i)} ${l} ${h}`,borderStartStartRadius:I,borderEndStartRadius:I},"&:last-child":{borderStartEndRadius:I,borderEndEndRadius:I},"&:first-child:last-child":{borderRadius:I},[`${r}-group-large &`]:{height:k,fontSize:w,lineHeight:Qe(V(k).sub(V(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:T,borderEndStartRadius:T},"&:last-child":{borderStartEndRadius:T,borderEndEndRadius:T}},[`${r}-group-small &`]:{height:x,paddingInline:V(N).sub(i).equal(),paddingBlock:0,lineHeight:Qe(V(x).sub(V(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:O,borderEndStartRadius:O},"&:last-child":{borderStartEndRadius:O,borderEndEndRadius:O}},"&:hover":{position:"relative",color:Y},"&:has(:focus-visible)":Ml(e),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:Y,background:F,borderColor:Y,"&::before":{backgroundColor:Y},"&:first-child":{borderColor:Y},"&:hover":{color:q,borderColor:q,"&::before":{backgroundColor:q}},"&:active":{color:oe,borderColor:oe,"&::before":{backgroundColor:oe}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:R,background:D,borderColor:D,"&:hover":{color:R,background:U,borderColor:U},"&:active":{color:R,background:te,borderColor:te}},"&-disabled":{color:$,backgroundColor:G,borderColor:h,cursor:"not-allowed","&:first-child, &:hover":{color:$,backgroundColor:G,borderColor:h}},[`&-disabled${r}-button-wrapper-checked`]:{color:ee,backgroundColor:Q,borderColor:h,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},BC=e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:i,fontSizeLG:l,colorText:h,colorBgContainer:c,colorTextDisabled:g,controlItemBgActiveDisabled:v,colorTextLightSolid:y,colorPrimary:w,colorPrimaryHover:k,colorPrimaryActive:x,colorWhite:N}=e,I=4,O=l,T=t?O-I*2:O-(I+i)*2;return{radioSize:O,dotSize:T,dotColorDisabled:g,buttonSolidCheckedColor:y,buttonSolidCheckedBg:w,buttonSolidCheckedHoverBg:k,buttonSolidCheckedActiveBg:x,buttonBg:c,buttonCheckedBg:c,buttonColor:h,buttonCheckedBgDisabled:v,buttonCheckedColorDisabled:g,buttonPaddingInline:n-i,wrapperMarginInlineEnd:r,radioColor:t?w:N,radioBgColor:t?c:w}},n_=zi("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,r=`0 0 0 ${Qe(n)} ${t}`,l=ba(e,{radioFocusShadow:r,radioButtonFocusShadow:r});return[AC(l),TC(l),RC(l)]},BC,{unitless:{radioSize:!0,dotSize:!0}});var DC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $C=(e,t)=>{var n,r;const i=b.useContext(Jy),l=b.useContext(Qy),{getPrefixCls:h,direction:c,radio:g}=b.useContext(Jr),v=b.useRef(null),y=Ps(t,v),{isFormItemInput:w}=b.useContext(ol),k=ie=>{var le,ue;(le=e.onChange)===null||le===void 0||le.call(e,ie),(ue=i?.onChange)===null||ue===void 0||ue.call(i,ie)},{prefixCls:x,className:N,rootClassName:I,children:O,style:T,title:F}=e,R=DC(e,["prefixCls","className","rootClassName","children","style","title"]),$=h("radio",x),G=(i?.optionType||l)==="button",Q=G?`${$}-button`:$,ee=Xo($),[Y,q,oe]=n_($,ee),D=Object.assign({},R),U=b.useContext(Eu);i&&(D.name=i.name,D.onChange=k,D.checked=e.value===i.value,D.disabled=(n=D.disabled)!==null&&n!==void 0?n:i.disabled),D.disabled=(r=D.disabled)!==null&&r!==void 0?r:U;const te=bt(`${Q}-wrapper`,{[`${Q}-wrapper-checked`]:D.checked,[`${Q}-wrapper-disabled`]:D.disabled,[`${Q}-wrapper-rtl`]:c==="rtl",[`${Q}-wrapper-in-form-item`]:w,[`${Q}-wrapper-block`]:!!i?.block},g?.className,N,I,q,oe,ee),[V,J]=t_(D.onClick);return Y(b.createElement(zh,{component:"Radio",disabled:D.disabled},b.createElement("label",{className:te,style:Object.assign(Object.assign({},g?.style),T),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:F,onClick:V},b.createElement(e_,Object.assign({},D,{className:bt(D.className,{[sy]:!G}),type:"radio",prefixCls:Q,ref:y,onClick:J})),O!==void 0?b.createElement("span",{className:`${Q}-label`},O):null)))},vh=b.forwardRef($C),FC=["parentNode"],jC="form_item";function Ku(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function r_(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:FC.includes(n)?`${jC}_${n}`:n}function i_(e,t,n,r,i,l){let h=r;return l!==void 0?h=l:n.validating?h="validating":e.length?h="error":t.length?h="warning":(n.touched||i&&n.validated)&&(h="success"),h}var zC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function xf(e){return Ku(e).join("_")}function Dg(e,t){const n=t.getFieldInstance(e),r=Hh(n);if(r)return r;const i=r_(Ku(e),t.__INTERNAL__.name);if(i)return document.getElementById(i)}function a_(e){const[t]=o2(),n=b.useRef({}),r=b.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:i=>l=>{const h=xf(i);l?n.current[h]=l:delete n.current[h]}},scrollToField:(i,l={})=>{const{focus:h}=l,c=zC(l,["focus"]),g=Dg(i,r);g&&(cw(g,Object.assign({scrollMode:"if-needed",block:"nearest"},c)),h&&r.focusField(i))},focusField:i=>{var l,h;const c=r.getFieldInstance(i);typeof c?.focus=="function"?c.focus():(h=(l=Dg(i,r))===null||l===void 0?void 0:l.focus)===null||h===void 0||h.call(l)},getFieldInstance:i=>{const l=xf(i);return n.current[l]}}),[e,t]);return[r]}const HC=b.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=b.useContext(Jr),{name:i}=b.useContext(ol),l=Uv(xf(i)),{prefixCls:h,className:c,rootClassName:g,options:v,buttonStyle:y="outline",disabled:w,children:k,size:x,style:N,id:I,optionType:O,name:T=l,defaultValue:F,value:R,block:$=!1,onChange:G,onMouseEnter:Q,onMouseLeave:ee,onFocus:Y,onBlur:q}=e,[oe,D]=ps(F,{value:R}),U=b.useCallback(ce=>{const me=oe,we=ce.target.value;"value"in e||D(we),we!==me&&G?.(ce)},[oe,D,G]),te=n("radio",h),V=`${te}-group`,J=Xo(te),[ie,le,ue]=n_(te,J);let be=k;v&&v.length>0&&(be=v.map(ce=>typeof ce=="string"||typeof ce=="number"?b.createElement(vh,{key:ce.toString(),prefixCls:te,disabled:w,value:ce,checked:oe===ce},ce):b.createElement(vh,{key:`radio-group-value-options-${ce.value}`,prefixCls:te,disabled:ce.disabled||w,value:ce.value,checked:oe===ce.value,title:ce.title,style:ce.style,className:ce.className,id:ce.id,required:ce.required},ce.label)));const Le=ul(x),Re=bt(V,`${V}-${y}`,{[`${V}-${Le}`]:Le,[`${V}-rtl`]:r==="rtl",[`${V}-block`]:$},c,g,le,ue,J),ne=b.useMemo(()=>({onChange:U,value:oe,disabled:w,name:T,optionType:O,block:$}),[U,oe,w,T,O,$]);return ie(b.createElement("div",Object.assign({},Wo(e,{aria:!0,data:!0}),{className:Re,style:N,onMouseEnter:Q,onMouseLeave:ee,onFocus:Y,onBlur:q,id:I,ref:t}),b.createElement(PC,{value:ne},be)))}),qC=b.memo(HC);var UC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const GC=(e,t)=>{const{getPrefixCls:n}=b.useContext(Jr),{prefixCls:r}=e,i=UC(e,["prefixCls"]),l=n("radio",r);return b.createElement(IC,{value:"button"},b.createElement(vh,Object.assign({prefixCls:l},i,{type:"radio",ref:t})))},VC=b.forwardRef(GC),il=vh;il.Button=VC;il.Group=qC;il.__ANT_RADIO=!0;function Io(e,t){return e[t]}var WC=["children"];function o_(e,t){return"".concat(e,"-").concat(t)}function KC(e){return e&&e.type&&e.type.isTreeNode}function pc(e,t){return e??t}function bu(e){var t=e||{},n=t.title,r=t._title,i=t.key,l=t.children,h=n||"title";return{title:h,_title:r||[h],key:i||"key",children:l||"children"}}function s_(e){function t(n){var r=Rl(n);return r.map(function(i){if(!KC(i))return ns(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var l=i.key,h=i.props,c=h.children,g=$a(h,WC),v=Wt({key:l},g),y=t(c);return y.length&&(v.children=y),v}).filter(function(i){return i})}return t(e)}function bd(e,t,n){var r=bu(n),i=r._title,l=r.key,h=r.children,c=new Set(t===!0?[]:t),g=[];function v(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return y.map(function(k,x){for(var N=o_(w?w.pos:"0",x),I=pc(k[l],N),O,T=0;T<i.length;T+=1){var F=i[T];if(k[F]!==void 0){O=k[F];break}}var R=Object.assign(Zo(k,[].concat(En(i),[l,h])),{title:O,key:I,parent:w,pos:N,children:null,data:k,isStart:[].concat(En(w?w.isStart:[]),[x===0]),isEnd:[].concat(En(w?w.isEnd:[]),[x===y.length-1])});return g.push(R),t===!0||c.has(I)?R.children=v(k[h]||[],R):R.children=[],R})}return v(e),g}function XC(e,t,n){var r={};Lr(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var i=r,l=i.childrenPropName,h=i.externalGetKey,c=i.fieldNames,g=bu(c),v=g.key,y=g.children,w=l||y,k;h?typeof h=="string"?k=function(I){return I[h]}:typeof h=="function"&&(k=function(I){return h(I)}):k=function(I,O){return pc(I[v],O)};function x(N,I,O,T){var F=N?N[w]:e,R=N?o_(O.pos,I):"0",$=N?[].concat(En(T),[N]):[];if(N){var G=k(N,R),Q={node:N,index:I,pos:R,key:G,parentPos:O.node?O.pos:null,level:O.level+1,nodes:$};t(Q)}F&&F.forEach(function(ee,Y){x(ee,Y,{node:N,pos:R,level:O?O.level+1:-1},$)})}x(null)}function pp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,l=t.externalGetKey,h=t.childrenPropName,c=t.fieldNames,g=arguments.length>2?arguments[2]:void 0,v=l||g,y={},w={},k={posEntities:y,keyEntities:w};return n&&(k=n(k)||k),XC(e,function(x){var N=x.node,I=x.index,O=x.pos,T=x.key,F=x.parentPos,R=x.level,$=x.nodes,G={node:N,nodes:$,index:I,key:T,pos:O,level:R},Q=pc(T,O);y[O]=G,w[Q]=G,G.parent=y[F],G.parent&&(G.parent.children=G.parent.children||[],G.parent.children.push(G)),r&&r(G,k)},{externalGetKey:v,childrenPropName:h,fieldNames:c}),i&&i(k),k}function Xu(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,l=t.loadingKeys,h=t.checkedKeys,c=t.halfCheckedKeys,g=t.dragOverNodeKey,v=t.dropPosition,y=t.keyEntities,w=Io(y,e),k={eventKey:e,expanded:n.indexOf(e)!==-1,selected:r.indexOf(e)!==-1,loaded:i.indexOf(e)!==-1,loading:l.indexOf(e)!==-1,checked:h.indexOf(e)!==-1,halfChecked:c.indexOf(e)!==-1,pos:String(w?w.pos:""),dragOver:g===e&&v===0,dragOverGapTop:g===e&&v===-1,dragOverGapBottom:g===e&&v===1};return k}function oa(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,l=e.loaded,h=e.loading,c=e.halfChecked,g=e.dragOver,v=e.dragOverGapTop,y=e.dragOverGapBottom,w=e.pos,k=e.active,x=e.eventKey,N=Wt(Wt({},t),{},{expanded:n,selected:r,checked:i,loaded:l,loading:h,halfChecked:c,dragOver:g,dragOverGapTop:v,dragOverGapBottom:y,pos:w,active:k,key:x});return"props"in N||Object.defineProperty(N,"props",{get:function(){return ns(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),N}function l_(e,t){var n=new Set;return e.forEach(function(r){t.has(r)||n.add(r)}),n}function ZC(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!!(n||r)||i===!1}function YC(e,t,n,r){for(var i=new Set(e),l=new Set,h=0;h<=n;h+=1){var c=t.get(h)||new Set;c.forEach(function(w){var k=w.key,x=w.node,N=w.children,I=N===void 0?[]:N;i.has(k)&&!r(x)&&I.filter(function(O){return!r(O.node)}).forEach(function(O){i.add(O.key)})})}for(var g=new Set,v=n;v>=0;v-=1){var y=t.get(v)||new Set;y.forEach(function(w){var k=w.parent,x=w.node;if(!(r(x)||!w.parent||g.has(w.parent.key))){if(r(w.parent.node)){g.add(k.key);return}var N=!0,I=!1;(k.children||[]).filter(function(O){return!r(O.node)}).forEach(function(O){var T=O.key,F=i.has(T);N&&!F&&(N=!1),!I&&(F||l.has(T))&&(I=!0)}),N&&i.add(k.key),I&&l.add(k.key),g.add(k.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(l_(l,i))}}function JC(e,t,n,r,i){for(var l=new Set(e),h=new Set(t),c=0;c<=r;c+=1){var g=n.get(c)||new Set;g.forEach(function(k){var x=k.key,N=k.node,I=k.children,O=I===void 0?[]:I;!l.has(x)&&!h.has(x)&&!i(N)&&O.filter(function(T){return!i(T.node)}).forEach(function(T){l.delete(T.key)})})}h=new Set;for(var v=new Set,y=r;y>=0;y-=1){var w=n.get(y)||new Set;w.forEach(function(k){var x=k.parent,N=k.node;if(!(i(N)||!k.parent||v.has(k.parent.key))){if(i(k.parent.node)){v.add(x.key);return}var I=!0,O=!1;(x.children||[]).filter(function(T){return!i(T.node)}).forEach(function(T){var F=T.key,R=l.has(F);I&&!R&&(I=!1),!O&&(R||h.has(F))&&(O=!0)}),I||l.delete(x.key),O&&h.add(x.key),v.add(x.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(l_(h,l))}}function lu(e,t,n,r){var i=[],l;r?l=r:l=ZC;var h=new Set(e.filter(function(y){var w=!!Io(n,y);return w||i.push(y),w})),c=new Map,g=0;Object.keys(n).forEach(function(y){var w=n[y],k=w.level,x=c.get(k);x||(x=new Set,c.set(k,x)),x.add(w),g=Math.max(g,k)}),ns(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(y){return"'".concat(y,"'")}).join(", ")));var v;return t===!0?v=YC(h,c,g,l):v=JC(h,t.halfCheckedKeys,c,g,l),v}const QC=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Pi(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Pi(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Ml(e)},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${Qe(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function u_(e,t){const n=ba(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return QC(n)}const c_=zi("Checkbox",(e,{prefixCls:t})=>[u_(t,e)]),h_=Ot.createContext(null);var e4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const t4=(e,t)=>{var n;const{prefixCls:r,className:i,rootClassName:l,children:h,indeterminate:c=!1,style:g,onMouseEnter:v,onMouseLeave:y,skipGroup:w=!1,disabled:k}=e,x=e4(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:N,direction:I,checkbox:O}=b.useContext(Jr),T=b.useContext(h_),{isFormItemInput:F}=b.useContext(ol),R=b.useContext(Eu),$=(n=T?.disabled||k)!==null&&n!==void 0?n:R,G=b.useRef(x.value),Q=b.useRef(null),ee=Ps(t,Q);b.useEffect(()=>{T?.registerValue(x.value)},[]),b.useEffect(()=>{if(!w)return x.value!==G.current&&(T?.cancelValue(G.current),T?.registerValue(x.value),G.current=x.value),()=>T?.cancelValue(x.value)},[x.value]),b.useEffect(()=>{var ue;!((ue=Q.current)===null||ue===void 0)&&ue.input&&(Q.current.input.indeterminate=c)},[c]);const Y=N("checkbox",r),q=Xo(Y),[oe,D,U]=c_(Y,q),te=Object.assign({},x);T&&!w&&(te.onChange=(...ue)=>{x.onChange&&x.onChange.apply(x,ue),T.toggleOption&&T.toggleOption({label:h,value:x.value})},te.name=T.name,te.checked=T.value.includes(x.value));const V=bt(`${Y}-wrapper`,{[`${Y}-rtl`]:I==="rtl",[`${Y}-wrapper-checked`]:te.checked,[`${Y}-wrapper-disabled`]:$,[`${Y}-wrapper-in-form-item`]:F},O?.className,i,l,U,q,D),J=bt({[`${Y}-indeterminate`]:c},sy,D),[ie,le]=t_(te.onClick);return oe(b.createElement(zh,{component:"Checkbox",disabled:$},b.createElement("label",{className:V,style:Object.assign(Object.assign({},O?.style),g),onMouseEnter:v,onMouseLeave:y,onClick:ie},b.createElement(e_,Object.assign({},te,{onClick:le,prefixCls:Y,className:J,disabled:$,ref:ee})),h!=null&&b.createElement("span",{className:`${Y}-label`},h))))},d_=b.forwardRef(t4);var n4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const r4=b.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:l,className:h,rootClassName:c,style:g,onChange:v}=e,y=n4(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:w,direction:k}=b.useContext(Jr),[x,N]=b.useState(y.value||n||[]),[I,O]=b.useState([]);b.useEffect(()=>{"value"in y&&N(y.value||[])},[y.value]);const T=b.useMemo(()=>i.map(J=>typeof J=="string"||typeof J=="number"?{label:J,value:J}:J),[i]),F=J=>{O(ie=>ie.filter(le=>le!==J))},R=J=>{O(ie=>[].concat(En(ie),[J]))},$=J=>{const ie=x.indexOf(J.value),le=En(x);ie===-1?le.push(J.value):le.splice(ie,1),"value"in y||N(le),v?.(le.filter(ue=>I.includes(ue)).sort((ue,be)=>{const Le=T.findIndex(ne=>ne.value===ue),Re=T.findIndex(ne=>ne.value===be);return Le-Re}))},G=w("checkbox",l),Q=`${G}-group`,ee=Xo(G),[Y,q,oe]=c_(G,ee),D=Zo(y,["value","disabled"]),U=i.length?T.map(J=>b.createElement(d_,{prefixCls:G,key:J.value.toString(),disabled:"disabled"in J?J.disabled:y.disabled,value:J.value,checked:x.includes(J.value),onChange:J.onChange,className:bt(`${Q}-item`,J.className),style:J.style,title:J.title,id:J.id,required:J.required},J.label)):r,te=b.useMemo(()=>({toggleOption:$,value:x,disabled:y.disabled,name:y.name,registerValue:R,cancelValue:F}),[$,x,y.disabled,y.name,R,F]),V=bt(Q,{[`${Q}-rtl`]:k==="rtl"},h,c,oe,ee,q);return Y(b.createElement("div",Object.assign({className:V,style:g},D,{ref:t}),b.createElement(h_.Provider,{value:te},U)))}),Ns=d_;Ns.Group=r4;Ns.__ANT_CHECKBOX=!0;const f_=b.createContext({});var i4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function $g(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const a4=["xs","sm","md","lg","xl","xxl"],gs=b.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=b.useContext(Jr),{gutter:i,wrap:l}=b.useContext(f_),{prefixCls:h,span:c,order:g,offset:v,push:y,pull:w,className:k,children:x,flex:N,style:I}=e,O=i4(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),T=n("col",h),[F,R,$]=Dw(T),G={};let Q={};a4.forEach(q=>{let oe={};const D=e[q];typeof D=="number"?oe.span=D:typeof D=="object"&&(oe=D||{}),delete O[q],Q=Object.assign(Object.assign({},Q),{[`${T}-${q}-${oe.span}`]:oe.span!==void 0,[`${T}-${q}-order-${oe.order}`]:oe.order||oe.order===0,[`${T}-${q}-offset-${oe.offset}`]:oe.offset||oe.offset===0,[`${T}-${q}-push-${oe.push}`]:oe.push||oe.push===0,[`${T}-${q}-pull-${oe.pull}`]:oe.pull||oe.pull===0,[`${T}-rtl`]:r==="rtl"}),oe.flex&&(Q[`${T}-${q}-flex`]=!0,G[`--${T}-${q}-flex`]=$g(oe.flex))});const ee=bt(T,{[`${T}-${c}`]:c!==void 0,[`${T}-order-${g}`]:g,[`${T}-offset-${v}`]:v,[`${T}-push-${y}`]:y,[`${T}-pull-${w}`]:w},k,Q,R,$),Y={};if(i&&i[0]>0){const q=i[0]/2;Y.paddingLeft=q,Y.paddingRight=q}return N&&(Y.flex=$g(N),l===!1&&!Y.minWidth&&(Y.minWidth=0)),F(b.createElement("div",Object.assign({},O,{style:Object.assign(Object.assign(Object.assign({},Y),I),G),className:ee,ref:t}),x))});function o4(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],i=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((l,h)=>{if(typeof l=="object"&&l!==null)for(let c=0;c<gu.length;c++){const g=gu[c];if(i[g]&&l[g]!==void 0){n[h]=l[g];break}}else n[h]=l}),n}var s4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Fg(e,t){const[n,r]=b.useState(typeof e=="string"?e:""),i=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let l=0;l<gu.length;l++){const h=gu[l];if(!t||!t[h])continue;const c=e[h];if(c!==void 0){r(c);return}}};return b.useEffect(()=>{i()},[JSON.stringify(e),t]),n}const ku=b.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:l,style:h,children:c,gutter:g=0,wrap:v}=e,y=s4(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:w,direction:k}=b.useContext(Jr),x=Th(!0,null),N=Fg(i,x),I=Fg(r,x),O=w("row",n),[T,F,R]=Bw(O),$=o4(g,x),G=bt(O,{[`${O}-no-wrap`]:v===!1,[`${O}-${I}`]:I,[`${O}-${N}`]:N,[`${O}-rtl`]:k==="rtl"},l,F,R),Q={},ee=$[0]!=null&&$[0]>0?$[0]/-2:void 0;ee&&(Q.marginLeft=ee,Q.marginRight=ee);const[Y,q]=$;Q.rowGap=q;const oe=b.useMemo(()=>({gutter:[Y,q],wrap:v}),[Y,q,v]);return T(b.createElement(f_.Provider,{value:oe},b.createElement("div",Object.assign({},y,{className:G,style:Object.assign(Object.assign({},Q),h),ref:t}),c)))}),l4=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},u4=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:l,orientationMargin:h,verticalMarginInline:c}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{borderBlockStart:`${Qe(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:c,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${Qe(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${Qe(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${Qe(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${Qe(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${h} * 100%)`},"&::after":{width:`calc(100% - ${h} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${h} * 100%)`},"&::after":{width:`calc(${h} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:l},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${Qe(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${Qe(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},c4=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),h4=zi("Divider",e=>{const t=ba(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[u4(t),l4(t)]},c4,{unitless:{orientationMargin:!0}});var d4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const f4={small:"sm",middle:"md"},nl=e=>{const{getPrefixCls:t,direction:n,className:r,style:i}=vs("divider"),{prefixCls:l,type:h="horizontal",orientation:c="center",orientationMargin:g,className:v,rootClassName:y,children:w,dashed:k,variant:x="solid",plain:N,style:I,size:O}=e,T=d4(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),F=t("divider",l),[R,$,G]=h4(F),Q=ul(O),ee=f4[Q],Y=!!w,q=b.useMemo(()=>c==="left"?n==="rtl"?"end":"start":c==="right"?n==="rtl"?"start":"end":c,[n,c]),oe=q==="start"&&g!=null,D=q==="end"&&g!=null,U=bt(F,r,$,G,`${F}-${h}`,{[`${F}-with-text`]:Y,[`${F}-with-text-${q}`]:Y,[`${F}-dashed`]:!!k,[`${F}-${x}`]:x!=="solid",[`${F}-plain`]:!!N,[`${F}-rtl`]:n==="rtl",[`${F}-no-default-orientation-margin-start`]:oe,[`${F}-no-default-orientation-margin-end`]:D,[`${F}-${ee}`]:!!ee},v,y),te=b.useMemo(()=>typeof g=="number"?g:/^\d+$/.test(g)?Number(g):g,[g]),V={marginInlineStart:oe?te:void 0,marginInlineEnd:D?te:void 0};return R(b.createElement("div",Object.assign({className:U,style:Object.assign(Object.assign({},i),I)},T,{role:"separator"}),w&&h!=="vertical"&&b.createElement("span",{className:`${F}-inner-text`,style:V},w)))};var p4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},g4=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:p4}))},m4=b.forwardRef(g4);function wf(){return typeof BigInt=="function"}function p_(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function kl(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),l=i[0]||"0",h=i[1]||"0";l==="0"&&h==="0"&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:r,integerStr:l,decimalStr:h,fullStr:"".concat(c).concat(r)}}function gp(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function El(e){var t=String(e);if(gp(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&mp(t)?t.length-t.indexOf(".")-1:0}function Kh(e){var t=String(e);if(gp(e)){if(e>Number.MAX_SAFE_INTEGER)return String(wf()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(wf()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(El(t))}return kl(t).fullStr}function mp(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var v4=(function(){function e(t){if(Dh(this,e),Pt(this,"origin",""),Pt(this,"negative",void 0),Pt(this,"integer",void 0),Pt(this,"decimal",void 0),Pt(this,"decimalLen",void 0),Pt(this,"empty",void 0),Pt(this,"nan",void 0),p_(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(gp(n)&&(n=Number(n)),n=typeof n=="string"?n:Kh(n),mp(n)){var r=kl(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var l=i[1]||"0";this.decimal=BigInt(l),this.decimalLen=l.length}else this.nan=!0}return Bh(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var l=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),h=this.alignDecimal(l),c=n.alignDecimal(l),g=r(h,c).toString(),v=i(l),y=kl(g),w=y.negativeStr,k=y.trimStr,x="".concat(w).concat(k.padStart(v+1,"0"));return new e("".concat(x.slice(0,-v),".").concat(x.slice(-v)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(i,l){return i+l},function(i){return i})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(i,l){return i*l},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===n?.toString()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":kl("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e})(),y4=(function(){function e(t){if(Dh(this,e),Pt(this,"origin",""),Pt(this,"number",void 0),Pt(this,"empty",void 0),p_(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Bh(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var l=Math.max(El(this.number),El(r));return new e(i.toFixed(l))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var l=Math.max(El(this.number),El(r));return new e(i.toFixed(l))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===n?.toNumber()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Kh(this.number):this.origin}}]),e})();function ds(e){return wf()?new v4(e):new y4(e)}function Jc(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=kl(e),l=i.negativeStr,h=i.integerStr,c=i.decimalStr,g="".concat(t).concat(c),v="".concat(l).concat(h);if(n>=0){var y=Number(c[n]);if(y>=5&&!r){var w=ds(e).add("".concat(l,"0.").concat("0".repeat(n)).concat(10-y));return Jc(w.toString(),t,n,r)}return n===0?v:"".concat(v).concat(t).concat(c.padEnd(n,"0").slice(0,n))}return g===".0"?v:"".concat(v).concat(g)}function _4(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,i){if(t[i])return t[i];var l=r[i];return typeof l=="function"?l.bind(r):l}}):e}function b4(e,t){var n=b.useRef(null);function r(){try{var l=e.selectionStart,h=e.selectionEnd,c=e.value,g=c.substring(0,l),v=c.substring(h);n.current={start:l,end:h,value:c,beforeTxt:g,afterTxt:v}}catch{}}function i(){if(e&&n.current&&t)try{var l=e.value,h=n.current,c=h.beforeTxt,g=h.afterTxt,v=h.start,y=l.length;if(l.startsWith(c))y=c.length;else if(l.endsWith(g))y=l.length-n.current.afterTxt.length;else{var w=c[v-1],k=l.indexOf(w,v-1);k!==-1&&(y=k+1)}e.setSelectionRange(y,y)}catch(x){ns(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(x.message))}}return[r,i]}var x4=function(){var t=b.useState(!1),n=On(t,2),r=n[0],i=n[1];return na(function(){i(Gx())},[]),r},w4=200,C4=600;function S4(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,l=e.downDisabled,h=e.onStep,c=b.useRef(),g=b.useRef([]),v=b.useRef();v.current=h;var y=function(){clearTimeout(c.current)},w=function(R,$){R.preventDefault(),y(),v.current($);function G(){v.current($),c.current=setTimeout(G,w4)}c.current=setTimeout(G,C4)};b.useEffect(function(){return function(){y(),g.current.forEach(function(F){return Ba.cancel(F)})}},[]);var k=x4();if(k)return null;var x="".concat(t,"-handler"),N=bt(x,"".concat(x,"-up"),Pt({},"".concat(x,"-up-disabled"),i)),I=bt(x,"".concat(x,"-down"),Pt({},"".concat(x,"-down-disabled"),l)),O=function(){return g.current.push(Ba(y))},T={unselectable:"on",role:"button",onMouseUp:O,onMouseLeave:O};return b.createElement("div",{className:"".concat(x,"-wrap")},b.createElement("span",bn({},T,{onMouseDown:function(R){w(R,!0)},"aria-label":"Increase Value","aria-disabled":i,className:N}),n||b.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),b.createElement("span",bn({},T,{onMouseDown:function(R){w(R,!1)},"aria-label":"Decrease Value","aria-disabled":l,className:I}),r||b.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function jg(e){var t=typeof e=="number"?Kh(e):kl(e).fullStr,n=t.includes(".");return n?kl(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const E4=(function(){var e=b.useRef(0),t=function(){Ba.cancel(e.current)};return b.useEffect(function(){return t},[]),function(n){t(),e.current=Ba(function(){n()})}});var k4=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],L4=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],zg=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},Hg=function(t){var n=ds(t);return n.isInvalidate()?null:n},N4=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,l=e.min,h=e.max,c=e.step,g=c===void 0?1:c,v=e.defaultValue,y=e.value,w=e.disabled,k=e.readOnly,x=e.upHandler,N=e.downHandler,I=e.keyboard,O=e.changeOnWheel,T=O===void 0?!1:O,F=e.controls,R=F===void 0?!0:F;e.classNames;var $=e.stringMode,G=e.parser,Q=e.formatter,ee=e.precision,Y=e.decimalSeparator,q=e.onChange,oe=e.onInput,D=e.onPressEnter,U=e.onStep,te=e.changeOnBlur,V=te===void 0?!0:te,J=e.domRef,ie=$a(e,k4),le="".concat(n,"-input"),ue=b.useRef(null),be=b.useState(!1),Le=On(be,2),Re=Le[0],ne=Le[1],ce=b.useRef(!1),me=b.useRef(!1),we=b.useRef(!1),ke=b.useState(function(){return ds(y??v)}),Be=On(ke,2),he=Be[0],qe=Be[1];function We(Rt){y===void 0&&qe(Rt)}var Fe=b.useCallback(function(Rt,Gt){if(!Gt)return ee>=0?ee:Math.max(El(Rt),El(g))},[ee,g]),de=b.useCallback(function(Rt){var Gt=String(Rt);if(G)return G(Gt);var gn=Gt;return Y&&(gn=gn.replace(Y,".")),gn.replace(/[^\w.-]+/g,"")},[G,Y]),it=b.useRef(""),ft=b.useCallback(function(Rt,Gt){if(Q)return Q(Rt,{userTyping:Gt,input:String(it.current)});var gn=typeof Rt=="number"?Kh(Rt):Rt;if(!Gt){var An=Fe(gn,Gt);if(mp(gn)&&(Y||An>=0)){var Dn=Y||".";gn=Jc(gn,Dn,An)}}return gn},[Q,Fe,Y]),fe=b.useState(function(){var Rt=v??y;return he.isInvalidate()&&["string","number"].includes(Lr(Rt))?Number.isNaN(Rt)?"":Rt:ft(he.toString(),!1)}),tt=On(fe,2),kt=tt[0],At=tt[1];it.current=kt;function Xe(Rt,Gt){At(ft(Rt.isInvalidate()?Rt.toString(!1):Rt.toString(!Gt),Gt))}var Xt=b.useMemo(function(){return Hg(h)},[h,ee]),nt=b.useMemo(function(){return Hg(l)},[l,ee]),mt=b.useMemo(function(){return!Xt||!he||he.isInvalidate()?!1:Xt.lessEquals(he)},[Xt,he]),wt=b.useMemo(function(){return!nt||!he||he.isInvalidate()?!1:he.lessEquals(nt)},[nt,he]),Et=b4(ue.current,Re),Zt=On(Et,2),nn=Zt[0],dn=Zt[1],Dt=function(Gt){return Xt&&!Gt.lessEquals(Xt)?Xt:nt&&!nt.lessEquals(Gt)?nt:null},Jt=function(Gt){return!Dt(Gt)},Ft=function(Gt,gn){var An=Gt,Dn=Jt(An)||An.isEmpty();if(!An.isEmpty()&&!gn&&(An=Dt(An)||An,Dn=!0),!k&&!w&&Dn){var Kt=An.toString(),dr=Fe(Kt,gn);return dr>=0&&(An=ds(Jc(Kt,".",dr)),Jt(An)||(An=ds(Jc(Kt,".",dr,!0)))),An.equals(he)||(We(An),q?.(An.isEmpty()?null:zg($,An)),y===void 0&&Xe(An,gn)),An}return he},ht=E4(),Mt=function Rt(Gt){if(nn(),it.current=Gt,At(Gt),!me.current){var gn=de(Gt),An=ds(gn);An.isNaN()||Ft(An,!0)}oe?.(Gt),ht(function(){var Dn=Gt;G||(Dn=Gt.replace(//g,".")),Dn!==Gt&&Rt(Dn)})},tn=function(){me.current=!0},fn=function(){me.current=!1,Mt(ue.current.value)},Tt=function(Gt){Mt(Gt.target.value)},zt=function(Gt){var gn;if(!(Gt&&mt||!Gt&&wt)){ce.current=!1;var An=ds(we.current?jg(g):g);Gt||(An=An.negate());var Dn=(he||ds(0)).add(An.toString()),Kt=Ft(Dn,!1);U?.(zg($,Kt),{offset:we.current?jg(g):g,type:Gt?"up":"down"}),(gn=ue.current)===null||gn===void 0||gn.focus()}},jt=function(Gt){var gn=ds(de(kt)),An;gn.isNaN()?An=Ft(he,Gt):An=Ft(gn,Gt),y!==void 0?Xe(he,!1):An.isNaN()||Xe(An,!1)},ln=function(){ce.current=!0},an=function(Gt){var gn=Gt.key,An=Gt.shiftKey;ce.current=!0,we.current=An,gn==="Enter"&&(me.current||(ce.current=!1),jt(!1),D?.(Gt)),I!==!1&&!me.current&&["Up","ArrowUp","Down","ArrowDown"].includes(gn)&&(zt(gn==="Up"||gn==="ArrowUp"),Gt.preventDefault())},hn=function(){ce.current=!1,we.current=!1};b.useEffect(function(){if(T&&Re){var Rt=function(An){zt(An.deltaY<0),An.preventDefault()},Gt=ue.current;if(Gt)return Gt.addEventListener("wheel",Rt,{passive:!1}),function(){return Gt.removeEventListener("wheel",Rt)}}});var Bn=function(){V&&jt(!1),ne(!1),ce.current=!1};return vd(function(){he.isInvalidate()||Xe(he,!1)},[ee,Q]),vd(function(){var Rt=ds(y);qe(Rt);var Gt=ds(de(kt));(!Rt.equals(Gt)||!ce.current||Q)&&Xe(Rt,ce.current)},[y]),vd(function(){Q&&dn()},[kt]),b.createElement("div",{ref:J,className:bt(n,r,Pt(Pt(Pt(Pt(Pt({},"".concat(n,"-focused"),Re),"".concat(n,"-disabled"),w),"".concat(n,"-readonly"),k),"".concat(n,"-not-a-number"),he.isNaN()),"".concat(n,"-out-of-range"),!he.isInvalidate()&&!Jt(he))),style:i,onFocus:function(){ne(!0)},onBlur:Bn,onKeyDown:an,onKeyUp:hn,onCompositionStart:tn,onCompositionEnd:fn,onBeforeInput:ln},R&&b.createElement(S4,{prefixCls:n,upNode:x,downNode:N,upDisabled:mt,downDisabled:wt,onStep:zt}),b.createElement("div",{className:"".concat(le,"-wrap")},b.createElement("input",bn({autoComplete:"off",role:"spinbutton","aria-valuemin":l,"aria-valuemax":h,"aria-valuenow":he.isInvalidate()?null:he.toString(),step:g},ie,{ref:Ps(ue,t),className:le,value:kt,onChange:Tt,disabled:w,readOnly:k}))))}),M4=b.forwardRef(function(e,t){var n=e.disabled,r=e.style,i=e.prefixCls,l=i===void 0?"rc-input-number":i,h=e.value,c=e.prefix,g=e.suffix,v=e.addonBefore,y=e.addonAfter,w=e.className,k=e.classNames,x=$a(e,L4),N=b.useRef(null),I=b.useRef(null),O=b.useRef(null),T=function(R){O.current&&l2(O.current,R)};return b.useImperativeHandle(t,function(){return _4(O.current,{focus:T,nativeElement:N.current.nativeElement||I.current})}),b.createElement(s2,{className:w,triggerFocus:T,prefixCls:l,value:h,disabled:n,style:r,prefix:c,suffix:g,addonAfter:y,addonBefore:v,classNames:k,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:N},b.createElement(N4,bn({prefixCls:l,disabled:n,ref:O,domRef:I,className:k?.input},x)))});const P4=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto",r=e.controlHeightSM-e.lineWidth*2;return Object.assign(Object.assign({},ly(e)),{controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Oo(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0,handleVisibleWidth:n===!0?r:0})},qg=({componentCls:e,borderRadiusSM:t,borderRadiusLG:n},r)=>{const i=r==="lg"?n:t;return{[`&-${r}`]:{[`${e}-handler-wrap`]:{borderStartEndRadius:i,borderEndEndRadius:i},[`${e}-handler-up`]:{borderStartEndRadius:i},[`${e}-handler-down`]:{borderEndEndRadius:i}}}},I4=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:i,inputFontSizeSM:l,inputFontSizeLG:h,controlHeightLG:c,controlHeightSM:g,colorError:v,paddingInlineSM:y,paddingBlockSM:w,paddingBlockLG:k,paddingInlineLG:x,colorIcon:N,motionDurationMid:I,handleHoverColor:O,handleOpacity:T,paddingInline:F,paddingBlock:R,handleBg:$,handleActiveBg:G,colorTextDisabled:Q,borderRadiusSM:ee,borderRadiusLG:Y,controlWidth:q,handleBorderColor:oe,filledHandleBg:D,lineHeightLG:U,calc:te}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),op(e)),{display:"inline-block",width:q,margin:0,padding:0,borderRadius:i}),c2(e,{[`${t}-handler-wrap`]:{background:$,[`${t}-handler-down`]:{borderBlockStart:`${Qe(n)} ${r} ${oe}`}}})),h2(e,{[`${t}-handler-wrap`]:{background:D,[`${t}-handler-down`]:{borderBlockStart:`${Qe(n)} ${r} ${oe}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:$}}})),d2(e,{[`${t}-handler-wrap`]:{background:$,[`${t}-handler-down`]:{borderBlockStart:`${Qe(n)} ${r} ${oe}`}}})),f2(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:h,lineHeight:U,borderRadius:Y,[`input${t}-input`]:{height:te(c).sub(te(n).mul(2)).equal(),padding:`${Qe(k)} ${Qe(x)}`}},"&-sm":{padding:0,fontSize:l,borderRadius:ee,[`input${t}-input`]:{height:te(g).sub(te(n).mul(2)).equal(),padding:`${Qe(w)} ${Qe(y)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:v}}},"&-group":Object.assign(Object.assign(Object.assign({},Pi(e)),g2(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:Y,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:ee}}},m2(e)),v2(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),{width:"100%",padding:`${Qe(R)} ${Qe(F)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${I} linear`,appearance:"textfield",fontSize:"inherit"}),p2(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:T,height:"100%",borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${I}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:N,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Qe(n)} ${r} ${oe}`,transition:`all ${I} linear`,"&:active":{background:G},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:O}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},oy()),{color:N,transition:`all ${I} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderEndEndRadius:i}},qg(e,"lg")),qg(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:Q}})}]},O4=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:l,borderRadiusLG:h,borderRadiusSM:c,paddingInlineLG:g,paddingInlineSM:v,paddingBlockLG:y,paddingBlockSM:w,motionDurationMid:k}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${Qe(n)} 0`}},op(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:l,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:h,paddingInlineStart:g,[`input${t}-input`]:{padding:`${Qe(y)} 0`}},"&-sm":{borderRadius:c,paddingInlineStart:v,[`input${t}-input`]:{padding:`${Qe(w)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:i,transition:`margin ${k}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}}),[`${t}-underlined`]:{borderRadius:0}}},A4=zi("InputNumber",e=>{const t=ba(e,uy(e));return[I4(t),O4(t),u2(t)]},P4,{unitless:{handleOpacity:!0},resetFont:!1});var T4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const g_=b.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=b.useContext(Jr),i=b.useRef(null);b.useImperativeHandle(t,()=>i.current);const{className:l,rootClassName:h,size:c,disabled:g,prefixCls:v,addonBefore:y,addonAfter:w,prefix:k,suffix:x,bordered:N,readOnly:I,status:O,controls:T,variant:F}=e,R=T4(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),$=n("input-number",v),G=Xo($),[Q,ee,Y]=A4($,G),{compactSize:q,compactItemClassnames:oe}=cy($,r);let D=b.createElement(m4,{className:`${$}-handler-up-inner`}),U=b.createElement(Kv,{className:`${$}-handler-down-inner`});const te=typeof T=="boolean"?T:void 0;typeof T=="object"&&(D=typeof T.upIcon>"u"?D:b.createElement("span",{className:`${$}-handler-up-inner`},T.upIcon),U=typeof T.downIcon>"u"?U:b.createElement("span",{className:`${$}-handler-down-inner`},T.downIcon));const{hasFeedback:V,status:J,isFormItemInput:ie,feedbackIcon:le}=b.useContext(ol),ue=_2(J,O),be=ul(he=>{var qe;return(qe=c??q)!==null&&qe!==void 0?qe:he}),Le=b.useContext(Eu),Re=g??Le,[ne,ce]=y2("inputNumber",F,N),me=V&&b.createElement(b.Fragment,null,le),we=bt({[`${$}-lg`]:be==="large",[`${$}-sm`]:be==="small",[`${$}-rtl`]:r==="rtl",[`${$}-in-form-item`]:ie},ee),ke=`${$}-group`,Be=b.createElement(M4,Object.assign({ref:i,disabled:Re,className:bt(Y,G,l,h,oe),upHandler:D,downHandler:U,prefixCls:$,readOnly:I,controls:te,prefix:k,suffix:me||x,addonBefore:y&&b.createElement(ec,{form:!0,space:!0},y),addonAfter:w&&b.createElement(ec,{form:!0,space:!0},w),classNames:{input:we,variant:bt({[`${$}-${ne}`]:ce},fg($,ue,V)),affixWrapper:bt({[`${$}-affix-wrapper-sm`]:be==="small",[`${$}-affix-wrapper-lg`]:be==="large",[`${$}-affix-wrapper-rtl`]:r==="rtl",[`${$}-affix-wrapper-without-controls`]:T===!1||Re||I},ee),wrapper:bt({[`${ke}-rtl`]:r==="rtl"},ee),groupWrapper:bt({[`${$}-group-wrapper-sm`]:be==="small",[`${$}-group-wrapper-lg`]:be==="large",[`${$}-group-wrapper-rtl`]:r==="rtl",[`${$}-group-wrapper-${ne}`]:ce},fg(`${$}-group-wrapper`,ue,V),ee)}},R));return Q(Be)}),m_=g_,R4=e=>b.createElement(jh,{theme:{components:{InputNumber:{handleVisible:!0}}}},b.createElement(g_,Object.assign({},e)));m_._InternalPanelDoNotUseOrYouWillBeFired=R4;function Cf(e,t,n){return(e-t)/(n-t)}function vp(e,t,n,r){var i=Cf(t,n,r),l={};switch(e){case"rtl":l.right="".concat(i*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(i*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(i*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(i*100,"%"),l.transform="translateX(-50%)";break}return l}function xl(e,t){return Array.isArray(e)?e[t]:e}var Dl=b.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),B4=b.createContext({}),D4=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Ug=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,i=e.valueIndex,l=e.onStartMove,h=e.onDelete,c=e.style,g=e.render,v=e.dragging,y=e.draggingDelete,w=e.onOffsetChange,k=e.onChangeComplete,x=e.onFocus,N=e.onMouseEnter,I=$a(e,D4),O=b.useContext(Dl),T=O.min,F=O.max,R=O.direction,$=O.disabled,G=O.keyboard,Q=O.range,ee=O.tabIndex,Y=O.ariaLabelForHandle,q=O.ariaLabelledByForHandle,oe=O.ariaRequired,D=O.ariaValueTextFormatterForHandle,U=O.styles,te=O.classNames,V="".concat(n,"-handle"),J=function(we){$||l(we,i)},ie=function(we){x?.(we,i)},le=function(we){N(we,i)},ue=function(we){if(!$&&G){var ke=null;switch(we.which||we.keyCode){case _r.LEFT:ke=R==="ltr"||R==="btt"?-1:1;break;case _r.RIGHT:ke=R==="ltr"||R==="btt"?1:-1;break;case _r.UP:ke=R!=="ttb"?1:-1;break;case _r.DOWN:ke=R!=="ttb"?-1:1;break;case _r.HOME:ke="min";break;case _r.END:ke="max";break;case _r.PAGE_UP:ke=2;break;case _r.PAGE_DOWN:ke=-2;break;case _r.BACKSPACE:case _r.DELETE:h?.(i);break}ke!==null&&(we.preventDefault(),w(ke,i))}},be=function(we){switch(we.which||we.keyCode){case _r.LEFT:case _r.RIGHT:case _r.UP:case _r.DOWN:case _r.HOME:case _r.END:case _r.PAGE_UP:case _r.PAGE_DOWN:k?.();break}},Le=vp(R,r,T,F),Re={};if(i!==null){var ne;Re={tabIndex:$?null:xl(ee,i),role:"slider","aria-valuemin":T,"aria-valuemax":F,"aria-valuenow":r,"aria-disabled":$,"aria-label":xl(Y,i),"aria-labelledby":xl(q,i),"aria-required":xl(oe,i),"aria-valuetext":(ne=xl(D,i))===null||ne===void 0?void 0:ne(r),"aria-orientation":R==="ltr"||R==="rtl"?"horizontal":"vertical",onMouseDown:J,onTouchStart:J,onFocus:ie,onMouseEnter:le,onKeyDown:ue,onKeyUp:be}}var ce=b.createElement("div",bn({ref:t,className:bt(V,Pt(Pt(Pt({},"".concat(V,"-").concat(i+1),i!==null&&Q),"".concat(V,"-dragging"),v),"".concat(V,"-dragging-delete"),y),te.handle),style:Wt(Wt(Wt({},Le),c),U.handle)},Re,I));return g&&(ce=g(ce,{index:i,prefixCls:n,value:r,dragging:v,draggingDelete:y})),ce}),$4=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],F4=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.onStartMove,l=e.onOffsetChange,h=e.values,c=e.handleRender,g=e.activeHandleRender,v=e.draggingIndex,y=e.draggingDelete,w=e.onFocus,k=$a(e,$4),x=b.useRef({}),N=b.useState(!1),I=On(N,2),O=I[0],T=I[1],F=b.useState(-1),R=On(F,2),$=R[0],G=R[1],Q=function(D){G(D),T(!0)},ee=function(D,U){Q(U),w?.(D)},Y=function(D,U){Q(U)};b.useImperativeHandle(t,function(){return{focus:function(D){var U;(U=x.current[D])===null||U===void 0||U.focus()},hideHelp:function(){hy.flushSync(function(){T(!1)})}}});var q=Wt({prefixCls:n,onStartMove:i,onOffsetChange:l,render:c,onFocus:ee,onMouseEnter:Y},k);return b.createElement(b.Fragment,null,h.map(function(oe,D){var U=v===D;return b.createElement(Ug,bn({ref:function(V){V?x.current[D]=V:delete x.current[D]},dragging:U,draggingDelete:U&&y,style:xl(r,D),key:D,value:oe,valueIndex:D},q))}),g&&O&&b.createElement(Ug,bn({key:"a11y"},q,{value:h[$],valueIndex:null,dragging:v!==-1,draggingDelete:y,render:g,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),j4=function(t){var n=t.prefixCls,r=t.style,i=t.children,l=t.value,h=t.onClick,c=b.useContext(Dl),g=c.min,v=c.max,y=c.direction,w=c.includedStart,k=c.includedEnd,x=c.included,N="".concat(n,"-text"),I=vp(y,l,g,v);return b.createElement("span",{className:bt(N,Pt({},"".concat(N,"-active"),x&&w<=l&&l<=k)),style:Wt(Wt({},I),r),onMouseDown:function(T){T.stopPropagation()},onClick:function(){h(l)}},i)},z4=function(t){var n=t.prefixCls,r=t.marks,i=t.onClick,l="".concat(n,"-mark");return r.length?b.createElement("div",{className:l},r.map(function(h){var c=h.value,g=h.style,v=h.label;return b.createElement(j4,{key:c,prefixCls:l,style:g,value:c,onClick:i},v)})):null},H4=function(t){var n=t.prefixCls,r=t.value,i=t.style,l=t.activeStyle,h=b.useContext(Dl),c=h.min,g=h.max,v=h.direction,y=h.included,w=h.includedStart,k=h.includedEnd,x="".concat(n,"-dot"),N=y&&w<=r&&r<=k,I=Wt(Wt({},vp(v,r,c,g)),typeof i=="function"?i(r):i);return N&&(I=Wt(Wt({},I),typeof l=="function"?l(r):l)),b.createElement("span",{className:bt(x,Pt({},"".concat(x,"-active"),N)),style:I})},q4=function(t){var n=t.prefixCls,r=t.marks,i=t.dots,l=t.style,h=t.activeStyle,c=b.useContext(Dl),g=c.min,v=c.max,y=c.step,w=b.useMemo(function(){var k=new Set;if(r.forEach(function(N){k.add(N.value)}),i&&y!==null)for(var x=g;x<=v;)k.add(x),x+=y;return Array.from(k)},[g,v,y,i,r]);return b.createElement("div",{className:"".concat(n,"-step")},w.map(function(k){return b.createElement(H4,{prefixCls:n,key:k,value:k,style:l,activeStyle:h})}))},Gg=function(t){var n=t.prefixCls,r=t.style,i=t.start,l=t.end,h=t.index,c=t.onStartMove,g=t.replaceCls,v=b.useContext(Dl),y=v.direction,w=v.min,k=v.max,x=v.disabled,N=v.range,I=v.classNames,O="".concat(n,"-track"),T=Cf(i,w,k),F=Cf(l,w,k),R=function(ee){!x&&c&&c(ee,-1)},$={};switch(y){case"rtl":$.right="".concat(T*100,"%"),$.width="".concat(F*100-T*100,"%");break;case"btt":$.bottom="".concat(T*100,"%"),$.height="".concat(F*100-T*100,"%");break;case"ttb":$.top="".concat(T*100,"%"),$.height="".concat(F*100-T*100,"%");break;default:$.left="".concat(T*100,"%"),$.width="".concat(F*100-T*100,"%")}var G=g||bt(O,Pt(Pt({},"".concat(O,"-").concat(h+1),h!==null&&N),"".concat(n,"-track-draggable"),c),I.track);return b.createElement("div",{className:G,style:Wt(Wt({},$),r),onMouseDown:R,onTouchStart:R})},U4=function(t){var n=t.prefixCls,r=t.style,i=t.values,l=t.startPoint,h=t.onStartMove,c=b.useContext(Dl),g=c.included,v=c.range,y=c.min,w=c.styles,k=c.classNames,x=b.useMemo(function(){if(!v){if(i.length===0)return[];var I=l??y,O=i[0];return[{start:Math.min(I,O),end:Math.max(I,O)}]}for(var T=[],F=0;F<i.length-1;F+=1)T.push({start:i[F],end:i[F+1]});return T},[i,v,l,y]);if(!g)return null;var N=x!=null&&x.length&&(k.tracks||w.tracks)?b.createElement(Gg,{index:null,prefixCls:n,start:x[0].start,end:x[x.length-1].end,replaceCls:bt(k.tracks,"".concat(n,"-tracks")),style:w.tracks}):null;return b.createElement(b.Fragment,null,N,x.map(function(I,O){var T=I.start,F=I.end;return b.createElement(Gg,{index:O,prefixCls:n,style:Wt(Wt({},xl(r,O)),w.track),start:T,end:F,key:O,onStartMove:h})}))},G4=130;function Vg(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function V4(e,t,n,r,i,l,h,c,g,v,y){var w=b.useState(null),k=On(w,2),x=k[0],N=k[1],I=b.useState(-1),O=On(I,2),T=O[0],F=O[1],R=b.useState(!1),$=On(R,2),G=$[0],Q=$[1],ee=b.useState(n),Y=On(ee,2),q=Y[0],oe=Y[1],D=b.useState(n),U=On(D,2),te=U[0],V=U[1],J=b.useRef(null),ie=b.useRef(null),le=b.useRef(null),ue=b.useContext(B4),be=ue.onDragStart,Le=ue.onDragChange;na(function(){T===-1&&oe(n)},[n,T]),b.useEffect(function(){return function(){document.removeEventListener("mousemove",J.current),document.removeEventListener("mouseup",ie.current),le.current&&(le.current.removeEventListener("touchmove",J.current),le.current.removeEventListener("touchend",ie.current))}},[]);var Re=function(ke,Be,he){Be!==void 0&&N(Be),oe(ke);var qe=ke;he&&(qe=ke.filter(function(We,Fe){return Fe!==T})),h(qe),Le&&Le({rawValues:ke,deleteIndex:he?T:-1,draggingIndex:T,draggingValue:Be})},ne=Ja(function(we,ke,Be){if(we===-1){var he=te[0],qe=te[te.length-1],We=r-he,Fe=i-qe,de=ke*(i-r);de=Math.max(de,We),de=Math.min(de,Fe);var it=l(he+de);de=it-he;var ft=te.map(function(At){return At+de});Re(ft)}else{var fe=(i-r)*ke,tt=En(q);tt[we]=te[we];var kt=g(tt,fe,we,"dist");Re(kt.values,kt.value,Be)}}),ce=function(ke,Be,he){ke.stopPropagation();var qe=he||n,We=qe[Be];F(Be),N(We),V(qe),oe(qe),Q(!1);var Fe=Vg(ke),de=Fe.pageX,it=Fe.pageY,ft=!1;be&&be({rawValues:qe,draggingIndex:Be,draggingValue:We});var fe=function(At){At.preventDefault();var Xe=Vg(At),Xt=Xe.pageX,nt=Xe.pageY,mt=Xt-de,wt=nt-it,Et=e.current.getBoundingClientRect(),Zt=Et.width,nn=Et.height,dn,Dt;switch(t){case"btt":dn=-wt/nn,Dt=mt;break;case"ttb":dn=wt/nn,Dt=mt;break;case"rtl":dn=-mt/Zt,Dt=wt;break;default:dn=mt/Zt,Dt=wt}ft=v?Math.abs(Dt)>G4&&y<q.length:!1,Q(ft),ne(Be,dn,ft)},tt=function kt(At){At.preventDefault(),document.removeEventListener("mouseup",kt),document.removeEventListener("mousemove",fe),le.current&&(le.current.removeEventListener("touchmove",J.current),le.current.removeEventListener("touchend",ie.current)),J.current=null,ie.current=null,le.current=null,c(ft),F(-1),Q(!1)};document.addEventListener("mouseup",tt),document.addEventListener("mousemove",fe),ke.currentTarget.addEventListener("touchend",tt),ke.currentTarget.addEventListener("touchmove",fe),J.current=fe,ie.current=tt,le.current=ke.currentTarget},me=b.useMemo(function(){var we=En(n).sort(function(We,Fe){return We-Fe}),ke=En(q).sort(function(We,Fe){return We-Fe}),Be={};ke.forEach(function(We){Be[We]=(Be[We]||0)+1}),we.forEach(function(We){Be[We]=(Be[We]||0)-1});var he=v?1:0,qe=Object.values(Be).reduce(function(We,Fe){return We+Math.abs(Fe)},0);return qe<=he?q:n},[n,q,v]);return[T,x,G,me,ce]}function W4(e,t,n,r,i,l){var h=b.useCallback(function(x){return Math.max(e,Math.min(t,x))},[e,t]),c=b.useCallback(function(x){if(n!==null){var N=e+Math.round((h(x)-e)/n)*n,I=function(R){return(String(R).split(".")[1]||"").length},O=Math.max(I(n),I(t),I(e)),T=Number(N.toFixed(O));return e<=T&&T<=t?T:null}return null},[n,e,t,h]),g=b.useCallback(function(x){var N=h(x),I=r.map(function(F){return F.value});n!==null&&I.push(c(x)),I.push(e,t);var O=I[0],T=t-e;return I.forEach(function(F){var R=Math.abs(N-F);R<=T&&(O=F,T=R)}),O},[e,t,r,n,h,c]),v=function x(N,I,O){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof I=="number"){var F,R=N[O],$=R+I,G=[];r.forEach(function(oe){G.push(oe.value)}),G.push(e,t),G.push(c(R));var Q=I>0?1:-1;T==="unit"?G.push(c(R+Q*n)):G.push(c($)),G=G.filter(function(oe){return oe!==null}).filter(function(oe){return I<0?oe<=R:oe>=R}),T==="unit"&&(G=G.filter(function(oe){return oe!==R}));var ee=T==="unit"?R:$;F=G[0];var Y=Math.abs(F-ee);if(G.forEach(function(oe){var D=Math.abs(oe-ee);D<Y&&(F=oe,Y=D)}),F===void 0)return I<0?e:t;if(T==="dist")return F;if(Math.abs(I)>1){var q=En(N);return q[O]=F,x(q,I-Q,O,T)}return F}else{if(I==="min")return e;if(I==="max")return t}},y=function(N,I,O){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",F=N[O],R=v(N,I,O,T);return{value:R,changed:R!==F}},w=function(N){return l===null&&N===0||typeof l=="number"&&N<l},k=function(N,I,O){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",F=N.map(g),R=F[O],$=v(F,I,O,T);if(F[O]=$,i===!1){var G=l||0;O>0&&F[O-1]!==R&&(F[O]=Math.max(F[O],F[O-1]+G)),O<F.length-1&&F[O+1]!==R&&(F[O]=Math.min(F[O],F[O+1]-G))}else if(typeof l=="number"||l===null){for(var Q=O+1;Q<F.length;Q+=1)for(var ee=!0;w(F[Q]-F[Q-1])&&ee;){var Y=y(F,1,Q);F[Q]=Y.value,ee=Y.changed}for(var q=O;q>0;q-=1)for(var oe=!0;w(F[q]-F[q-1])&&oe;){var D=y(F,-1,q-1);F[q-1]=D.value,oe=D.changed}for(var U=F.length-1;U>0;U-=1)for(var te=!0;w(F[U]-F[U-1])&&te;){var V=y(F,-1,U-1);F[U-1]=V.value,te=V.changed}for(var J=0;J<F.length-1;J+=1)for(var ie=!0;w(F[J+1]-F[J])&&ie;){var le=y(F,1,J+1);F[J+1]=le.value,ie=le.changed}}return{value:F[O],values:F}};return[g,k]}function K4(e){return b.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,i=e.maxCount;return[!0,t,!t&&n,r||0,i]},[e])}var X4=b.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,i=e.className,l=e.style,h=e.classNames,c=e.styles,g=e.id,v=e.disabled,y=v===void 0?!1:v,w=e.keyboard,k=w===void 0?!0:w,x=e.autoFocus,N=e.onFocus,I=e.onBlur,O=e.min,T=O===void 0?0:O,F=e.max,R=F===void 0?100:F,$=e.step,G=$===void 0?1:$,Q=e.value,ee=e.defaultValue,Y=e.range,q=e.count,oe=e.onChange,D=e.onBeforeChange,U=e.onAfterChange,te=e.onChangeComplete,V=e.allowCross,J=V===void 0?!0:V,ie=e.pushable,le=ie===void 0?!1:ie,ue=e.reverse,be=e.vertical,Le=e.included,Re=Le===void 0?!0:Le,ne=e.startPoint,ce=e.trackStyle,me=e.handleStyle,we=e.railStyle,ke=e.dotStyle,Be=e.activeDotStyle,he=e.marks,qe=e.dots,We=e.handleRender,Fe=e.activeHandleRender,de=e.track,it=e.tabIndex,ft=it===void 0?0:it,fe=e.ariaLabelForHandle,tt=e.ariaLabelledByForHandle,kt=e.ariaRequired,At=e.ariaValueTextFormatterForHandle,Xe=b.useRef(null),Xt=b.useRef(null),nt=b.useMemo(function(){return be?ue?"ttb":"btt":ue?"rtl":"ltr"},[ue,be]),mt=K4(Y),wt=On(mt,5),Et=wt[0],Zt=wt[1],nn=wt[2],dn=wt[3],Dt=wt[4],Jt=b.useMemo(function(){return isFinite(T)?T:0},[T]),Ft=b.useMemo(function(){return isFinite(R)?R:100},[R]),ht=b.useMemo(function(){return G!==null&&G<=0?1:G},[G]),Mt=b.useMemo(function(){return typeof le=="boolean"?le?ht:!1:le>=0?le:!1},[le,ht]),tn=b.useMemo(function(){return Object.keys(he||{}).map(function(Jn){var xn=he[Jn],rr={value:Number(Jn)};return xn&&Lr(xn)==="object"&&!b.isValidElement(xn)&&("label"in xn||"style"in xn)?(rr.style=xn.style,rr.label=xn.label):rr.label=xn,rr}).filter(function(Jn){var xn=Jn.label;return xn||typeof xn=="number"}).sort(function(Jn,xn){return Jn.value-xn.value})},[he]),fn=W4(Jt,Ft,ht,tn,J,Mt),Tt=On(fn,2),zt=Tt[0],jt=Tt[1],ln=ps(ee,{value:Q}),an=On(ln,2),hn=an[0],Bn=an[1],Rt=b.useMemo(function(){var Jn=hn==null?[]:Array.isArray(hn)?hn:[hn],xn=On(Jn,1),rr=xn[0],pr=rr===void 0?Jt:rr,gr=hn===null?[]:[pr];if(Et){if(gr=En(Jn),q||hn===void 0){var _i=q>=0?q+1:2;for(gr=gr.slice(0,_i);gr.length<_i;){var Sn;gr.push((Sn=gr[gr.length-1])!==null&&Sn!==void 0?Sn:Jt)}}gr.sort(function(kn,Zn){return kn-Zn})}return gr.forEach(function(kn,Zn){gr[Zn]=zt(kn)}),gr},[hn,Et,Jt,q,zt]),Gt=function(xn){return Et?xn:xn[0]},gn=Ja(function(Jn){var xn=En(Jn).sort(function(rr,pr){return rr-pr});oe&&!vu(xn,Rt,!0)&&oe(Gt(xn)),Bn(xn)}),An=Ja(function(Jn){Jn&&Xe.current.hideHelp();var xn=Gt(Rt);U?.(xn),ns(!U,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),te?.(xn)}),Dn=function(xn){if(!(y||!Zt||Rt.length<=dn)){var rr=En(Rt);rr.splice(xn,1),D?.(Gt(rr)),gn(rr);var pr=Math.max(0,xn-1);Xe.current.hideHelp(),Xe.current.focus(pr)}},Kt=V4(Xt,nt,Rt,Jt,Ft,zt,gn,An,jt,Zt,dn),dr=On(Kt,5),mn=dr[0],br=dr[1],Un=dr[2],ur=dr[3],Tr=dr[4],zn=function(xn,rr){if(!y){var pr=En(Rt),gr=0,_i=0,Sn=Ft-Jt;Rt.forEach(function(Fn,xr){var xa=Math.abs(xn-Fn);xa<=Sn&&(Sn=xa,gr=xr),Fn<xn&&(_i=xr)});var kn=gr;Zt&&Sn!==0&&(!Dt||Rt.length<Dt)?(pr.splice(_i+1,0,xn),kn=_i+1):pr[gr]=xn,Et&&!Rt.length&&q===void 0&&pr.push(xn);var Zn=Gt(pr);if(D?.(Zn),gn(pr),rr){var Gr,Dr;(Gr=document.activeElement)===null||Gr===void 0||(Dr=Gr.blur)===null||Dr===void 0||Dr.call(Gr),Xe.current.focus(kn),Tr(rr,kn,pr)}else U?.(Zn),ns(!U,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),te?.(Zn)}},cn=function(xn){xn.preventDefault();var rr=Xt.current.getBoundingClientRect(),pr=rr.width,gr=rr.height,_i=rr.left,Sn=rr.top,kn=rr.bottom,Zn=rr.right,Gr=xn.clientX,Dr=xn.clientY,Fn;switch(nt){case"btt":Fn=(kn-Dr)/gr;break;case"ttb":Fn=(Dr-Sn)/gr;break;case"rtl":Fn=(Zn-Gr)/pr;break;default:Fn=(Gr-_i)/pr}var xr=Jt+Fn*(Ft-Jt);zn(zt(xr),xn)},Pr=b.useState(null),Ri=On(Pr,2),Nn=Ri[0],Gn=Ri[1],wn=function(xn,rr){if(!y){var pr=jt(Rt,xn,rr);D?.(Gt(Rt)),gn(pr.values),Gn(pr.value)}};b.useEffect(function(){if(Nn!==null){var Jn=Rt.indexOf(Nn);Jn>=0&&Xe.current.focus(Jn)}Gn(null)},[Nn]);var nr=b.useMemo(function(){return nn&&ht===null?!1:nn},[nn,ht]),sr=Ja(function(Jn,xn){Tr(Jn,xn),D?.(Gt(Rt))}),fr=mn!==-1;b.useEffect(function(){if(!fr){var Jn=Rt.lastIndexOf(br);Xe.current.focus(Jn)}},[fr]);var wr=b.useMemo(function(){return En(ur).sort(function(Jn,xn){return Jn-xn})},[ur]),Nr=b.useMemo(function(){return Et?[wr[0],wr[wr.length-1]]:[Jt,wr[0]]},[wr,Et,Jt]),Si=On(Nr,2),yi=Si[0],mr=Si[1];b.useImperativeHandle(t,function(){return{focus:function(){Xe.current.focus(0)},blur:function(){var xn,rr=document,pr=rr.activeElement;(xn=Xt.current)!==null&&xn!==void 0&&xn.contains(pr)&&pr?.blur()}}}),b.useEffect(function(){x&&Xe.current.focus(0)},[]);var Hi=b.useMemo(function(){return{min:Jt,max:Ft,direction:nt,disabled:y,keyboard:k,step:ht,included:Re,includedStart:yi,includedEnd:mr,range:Et,tabIndex:ft,ariaLabelForHandle:fe,ariaLabelledByForHandle:tt,ariaRequired:kt,ariaValueTextFormatterForHandle:At,styles:c||{},classNames:h||{}}},[Jt,Ft,nt,y,k,ht,Re,yi,mr,Et,ft,fe,tt,kt,At,c,h]);return b.createElement(Dl.Provider,{value:Hi},b.createElement("div",{ref:Xt,className:bt(r,i,Pt(Pt(Pt(Pt({},"".concat(r,"-disabled"),y),"".concat(r,"-vertical"),be),"".concat(r,"-horizontal"),!be),"".concat(r,"-with-marks"),tn.length)),style:l,onMouseDown:cn,id:g},b.createElement("div",{className:bt("".concat(r,"-rail"),h?.rail),style:Wt(Wt({},we),c?.rail)}),de!==!1&&b.createElement(U4,{prefixCls:r,style:ce,values:Rt,startPoint:ne,onStartMove:nr?sr:void 0}),b.createElement(q4,{prefixCls:r,marks:tn,dots:qe,style:ke,activeStyle:Be}),b.createElement(F4,{ref:Xe,prefixCls:r,style:me,values:ur,draggingIndex:mn,draggingDelete:Un,onStartMove:sr,onOffsetChange:wn,onFocus:N,onBlur:I,handleRender:We,activeHandleRender:Fe,onChangeComplete:An,onDelete:Zt?Dn:void 0}),b.createElement(z4,{prefixCls:r,marks:tn,onClick:zn})))});const Z4=b.createContext({}),Wg=b.forwardRef((e,t)=>{const{open:n,draggingDelete:r,value:i}=e,l=b.useRef(null),h=n&&!r,c=b.useRef(null);function g(){Ba.cancel(c.current),c.current=null}function v(){c.current=Ba(()=>{var y;(y=l.current)===null||y===void 0||y.forceAlign(),c.current=null})}return b.useEffect(()=>(h?v():g(),g),[h,e.title,i]),b.createElement(sa,Object.assign({ref:Ps(l,t)},e,{open:h}))}),Y4=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:i,marginFull:l,marginPart:h,colorFillContentHover:c,handleColorDisabled:g,calc:v,handleSize:y,handleSizeHover:w,handleActiveColor:k,handleActiveOutlineColor:x,handleLineWidth:N,handleLineWidthHover:I,motionDurationMid:O}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative",height:r,margin:`${Qe(h)} ${Qe(l)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${Qe(l)} ${Qe(h)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${O}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${O}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:c},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${Qe(N)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:y,height:y,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:v(N).mul(-1).equal(),insetBlockStart:v(N).mul(-1).equal(),width:v(y).add(v(N).mul(2)).equal(),height:v(y).add(v(N).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:y,height:y,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${Qe(N)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${O},
            inset-block-start ${O},
            width ${O},
            height ${O},
            box-shadow ${O},
            outline ${O}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:v(w).sub(y).div(2).add(I).mul(-1).equal(),insetBlockStart:v(w).sub(y).div(2).add(I).mul(-1).equal(),width:v(w).add(v(I).mul(2)).equal(),height:v(w).add(v(I).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${Qe(I)} ${k}`,outline:`6px solid ${x}`,width:w,height:w,insetInlineStart:e.calc(y).sub(w).div(2).equal(),insetBlockStart:e.calc(y).sub(w).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:i,height:i,backgroundColor:e.colorBgElevated,border:`${Qe(N)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:y,height:y,boxShadow:`0 0 0 ${Qe(N)} ${g}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},v_=(e,t)=>{const{componentCls:n,railSize:r,handleSize:i,dotSize:l,marginFull:h,calc:c}=e,g=t?"paddingBlock":"paddingInline",v=t?"width":"height",y=t?"height":"width",w=t?"insetBlockStart":"insetInlineStart",k=t?"top":"insetInlineStart",x=c(r).mul(3).sub(i).div(2).equal(),N=c(i).sub(r).div(2).equal(),I=t?{borderWidth:`${Qe(N)} 0`,transform:`translateY(${Qe(c(N).mul(-1).equal())})`}:{borderWidth:`0 ${Qe(N)}`,transform:`translateX(${Qe(e.calc(N).mul(-1).equal())})`};return{[g]:r,[y]:c(r).mul(3).equal(),[`${n}-rail`]:{[v]:"100%",[y]:r},[`${n}-track,${n}-tracks`]:{[y]:r},[`${n}-track-draggable`]:Object.assign({},I),[`${n}-handle`]:{[w]:x},[`${n}-mark`]:{insetInlineStart:0,top:0,[k]:c(r).mul(3).add(t?0:h).equal(),[v]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[k]:r,[v]:"100%",[y]:r},[`${n}-dot`]:{position:"absolute",[w]:c(r).sub(l).div(2).equal()}}},J4=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},v_(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Q4=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},v_(e,!1)),{height:"100%"})}},e5=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,i=e.lineWidth+1,l=e.lineWidth+1*1.5,h=e.colorPrimary,c=new Oo(h).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:i,handleLineWidthHover:l,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:h,handleActiveOutlineColor:c,handleColorDisabled:new Oo(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},t5=zi("Slider",e=>{const t=ba(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Y4(t),J4(t),Q4(t)]},e5);function xd(){const[e,t]=b.useState(!1),n=b.useRef(null),r=()=>{Ba.cancel(n.current)},i=l=>{r(),l?t(l):n.current=Ba(()=>{t(l)})};return b.useEffect(()=>r,[]),[e,i]}var n5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function r5(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const Kg=Ot.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:i,rootClassName:l,style:h,disabled:c,tooltipPrefixCls:g,tipFormatter:v,tooltipVisible:y,getTooltipPopupContainer:w,tooltipPlacement:k,tooltip:x={},onChangeComplete:N,classNames:I,styles:O}=e,T=n5(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:F}=e,{getPrefixCls:R,direction:$,className:G,style:Q,classNames:ee,styles:Y,getPopupContainer:q}=vs("slider"),oe=Ot.useContext(Eu),D=c??oe,{handleRender:U,direction:te}=Ot.useContext(Z4),J=(te||$)==="rtl",[ie,le]=xd(),[ue,be]=xd(),Le=Object.assign({},x),{open:Re,placement:ne,getPopupContainer:ce,prefixCls:me,formatter:we}=Le,ke=Re??y,Be=(ie||ue)&&ke!==!1,he=r5(we,v),[qe,We]=xd(),Fe=Et=>{N?.(Et),We(!1)},de=(Et,Zt)=>Et||(Zt?J?"left":"right":"top"),it=R("slider",n),[ft,fe,tt]=t5(it),kt=bt(i,G,ee.root,I?.root,l,{[`${it}-rtl`]:J,[`${it}-lock`]:qe},fe,tt);J&&!T.vertical&&(T.reverse=!T.reverse),Ot.useEffect(()=>{const Et=()=>{Ba(()=>{be(!1)},1)};return document.addEventListener("mouseup",Et),()=>{document.removeEventListener("mouseup",Et)}},[]);const At=r&&!ke,Xe=U||((Et,Zt)=>{const{index:nn}=Zt,dn=Et.props;function Dt(Mt,tn,fn){var Tt,zt,jt,ln;fn&&((zt=(Tt=T)[Mt])===null||zt===void 0||zt.call(Tt,tn)),(ln=(jt=dn)[Mt])===null||ln===void 0||ln.call(jt,tn)}const Jt=Object.assign(Object.assign({},dn),{onMouseEnter:Mt=>{le(!0),Dt("onMouseEnter",Mt)},onMouseLeave:Mt=>{le(!1),Dt("onMouseLeave",Mt)},onMouseDown:Mt=>{be(!0),We(!0),Dt("onMouseDown",Mt)},onFocus:Mt=>{var tn;be(!0),(tn=T.onFocus)===null||tn===void 0||tn.call(T,Mt),Dt("onFocus",Mt,!0)},onBlur:Mt=>{var tn;be(!1),(tn=T.onBlur)===null||tn===void 0||tn.call(T,Mt),Dt("onBlur",Mt,!0)}}),Ft=Ot.cloneElement(Et,Jt),ht=(!!ke||Be)&&he!==null;return At?Ft:Ot.createElement(Wg,Object.assign({},Le,{prefixCls:R("tooltip",me??g),title:he?he(Zt.value):"",value:Zt.value,open:ht,placement:de(ne??k,F),key:nn,classNames:{root:`${it}-tooltip`},getPopupContainer:ce||w||q}),Ft)}),Xt=At?(Et,Zt)=>{const nn=Ot.cloneElement(Et,{style:Object.assign(Object.assign({},Et.props.style),{visibility:"hidden"})});return Ot.createElement(Wg,Object.assign({},Le,{prefixCls:R("tooltip",me??g),title:he?he(Zt.value):"",open:he!==null&&Be,placement:de(ne??k,F),key:"tooltip",classNames:{root:`${it}-tooltip`},getPopupContainer:ce||w||q,draggingDelete:Zt.draggingDelete}),nn)}:void 0,nt=Object.assign(Object.assign(Object.assign(Object.assign({},Y.root),Q),O?.root),h),mt=Object.assign(Object.assign({},Y.tracks),O?.tracks),wt=bt(ee.tracks,I?.tracks);return ft(Ot.createElement(X4,Object.assign({},T,{classNames:Object.assign({handle:bt(ee.handle,I?.handle),rail:bt(ee.rail,I?.rail),track:bt(ee.track,I?.track)},wt?{tracks:wt}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},Y.handle),O?.handle),rail:Object.assign(Object.assign({},Y.rail),O?.rail),track:Object.assign(Object.assign({},Y.track),O?.track)},Object.keys(mt).length?{tracks:mt}:{}),step:T.step,range:r,className:kt,style:nt,disabled:D,ref:t,prefixCls:it,handleRender:Xe,activeHandleRender:Xt,onChangeComplete:Fe})))});var Xg=b.createContext(null),y_=b.createContext({}),i5=["prefixCls","className","containerRef"],a5=function(t){var n=t.prefixCls,r=t.className,i=t.containerRef,l=$a(t,i5),h=b.useContext(y_),c=h.panel,g=rp(c,i);return b.createElement("div",bn({className:bt("".concat(n,"-content"),r),role:"dialog",ref:g},Wo(t,{aria:!0}),{"aria-modal":"true"},l))};function Zg(e){return typeof e=="string"&&String(Number(e))===e?(ns(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Yg={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function o5(e,t){var n,r,i,l=e.prefixCls,h=e.open,c=e.placement,g=e.inline,v=e.push,y=e.forceRender,w=e.autoFocus,k=e.keyboard,x=e.classNames,N=e.rootClassName,I=e.rootStyle,O=e.zIndex,T=e.className,F=e.id,R=e.style,$=e.motion,G=e.width,Q=e.height,ee=e.children,Y=e.mask,q=e.maskClosable,oe=e.maskMotion,D=e.maskClassName,U=e.maskStyle,te=e.afterOpenChange,V=e.onClose,J=e.onMouseEnter,ie=e.onMouseOver,le=e.onMouseLeave,ue=e.onClick,be=e.onKeyDown,Le=e.onKeyUp,Re=e.styles,ne=e.drawerRender,ce=b.useRef(),me=b.useRef(),we=b.useRef();b.useImperativeHandle(t,function(){return ce.current});var ke=function(mt){var wt=mt.keyCode,Et=mt.shiftKey;switch(wt){case _r.TAB:{if(wt===_r.TAB){if(!Et&&document.activeElement===we.current){var Zt;(Zt=me.current)===null||Zt===void 0||Zt.focus({preventScroll:!0})}else if(Et&&document.activeElement===me.current){var nn;(nn=we.current)===null||nn===void 0||nn.focus({preventScroll:!0})}}break}case _r.ESC:{V&&k&&(mt.stopPropagation(),V(mt));break}}};b.useEffect(function(){if(h&&w){var nt;(nt=ce.current)===null||nt===void 0||nt.focus({preventScroll:!0})}},[h]);var Be=b.useState(!1),he=On(Be,2),qe=he[0],We=he[1],Fe=b.useContext(Xg),de;typeof v=="boolean"?de=v?{}:{distance:0}:de=v||{};var it=(n=(r=(i=de)===null||i===void 0?void 0:i.distance)!==null&&r!==void 0?r:Fe?.pushDistance)!==null&&n!==void 0?n:180,ft=b.useMemo(function(){return{pushDistance:it,push:function(){We(!0)},pull:function(){We(!1)}}},[it]);b.useEffect(function(){if(h){var nt;Fe==null||(nt=Fe.push)===null||nt===void 0||nt.call(Fe)}else{var mt;Fe==null||(mt=Fe.pull)===null||mt===void 0||mt.call(Fe)}},[h]),b.useEffect(function(){return function(){var nt;Fe==null||(nt=Fe.pull)===null||nt===void 0||nt.call(Fe)}},[]);var fe=b.createElement(Nl,bn({key:"mask"},oe,{visible:Y&&h}),function(nt,mt){var wt=nt.className,Et=nt.style;return b.createElement("div",{className:bt("".concat(l,"-mask"),wt,x?.mask,D),style:Wt(Wt(Wt({},Et),U),Re?.mask),onClick:q&&h?V:void 0,ref:mt})}),tt=typeof $=="function"?$(c):$,kt={};if(qe&&it)switch(c){case"top":kt.transform="translateY(".concat(it,"px)");break;case"bottom":kt.transform="translateY(".concat(-it,"px)");break;case"left":kt.transform="translateX(".concat(it,"px)");break;default:kt.transform="translateX(".concat(-it,"px)");break}c==="left"||c==="right"?kt.width=Zg(G):kt.height=Zg(Q);var At={onMouseEnter:J,onMouseOver:ie,onMouseLeave:le,onClick:ue,onKeyDown:be,onKeyUp:Le},Xe=b.createElement(Nl,bn({key:"panel"},tt,{visible:h,forceRender:y,onVisibleChanged:function(mt){te?.(mt)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(nt,mt){var wt=nt.className,Et=nt.style,Zt=b.createElement(a5,bn({id:F,containerRef:mt,prefixCls:l,className:bt(T,x?.content),style:Wt(Wt({},R),Re?.content)},Wo(e,{aria:!0}),At),ee);return b.createElement("div",bn({className:bt("".concat(l,"-content-wrapper"),x?.wrapper,wt),style:Wt(Wt(Wt({},kt),Et),Re?.wrapper)},Wo(e,{data:!0})),ne?ne(Zt):Zt)}),Xt=Wt({},I);return O&&(Xt.zIndex=O),b.createElement(Xg.Provider,{value:ft},b.createElement("div",{className:bt(l,"".concat(l,"-").concat(c),N,Pt(Pt({},"".concat(l,"-open"),h),"".concat(l,"-inline"),g)),style:Xt,tabIndex:-1,ref:ce,onKeyDown:ke},fe,b.createElement("div",{tabIndex:0,ref:me,style:Yg,"aria-hidden":"true","data-sentinel":"start"}),Xe,b.createElement("div",{tabIndex:0,ref:we,style:Yg,"aria-hidden":"true","data-sentinel":"end"})))}var s5=b.forwardRef(o5),l5=function(t){var n=t.open,r=n===void 0?!1:n,i=t.prefixCls,l=i===void 0?"rc-drawer":i,h=t.placement,c=h===void 0?"right":h,g=t.autoFocus,v=g===void 0?!0:g,y=t.keyboard,w=y===void 0?!0:y,k=t.width,x=k===void 0?378:k,N=t.mask,I=N===void 0?!0:N,O=t.maskClosable,T=O===void 0?!0:O,F=t.getContainer,R=t.forceRender,$=t.afterOpenChange,G=t.destroyOnClose,Q=t.onMouseEnter,ee=t.onMouseOver,Y=t.onMouseLeave,q=t.onClick,oe=t.onKeyDown,D=t.onKeyUp,U=t.panelRef,te=b.useState(!1),V=On(te,2),J=V[0],ie=V[1],le=b.useState(!1),ue=On(le,2),be=ue[0],Le=ue[1];na(function(){Le(!0)},[]);var Re=be?r:!1,ne=b.useRef(),ce=b.useRef();na(function(){Re&&(ce.current=document.activeElement)},[Re]);var me=function(qe){var We;if(ie(qe),$?.(qe),!qe&&ce.current&&!((We=ne.current)!==null&&We!==void 0&&We.contains(ce.current))){var Fe;(Fe=ce.current)===null||Fe===void 0||Fe.focus({preventScroll:!0})}},we=b.useMemo(function(){return{panel:U}},[U]);if(!R&&!J&&!Re&&G)return null;var ke={onMouseEnter:Q,onMouseOver:ee,onMouseLeave:Y,onClick:q,onKeyDown:oe,onKeyUp:D},Be=Wt(Wt({},t),{},{open:Re,prefixCls:l,placement:c,autoFocus:v,keyboard:w,width:x,mask:I,maskClosable:T,inline:F===!1,afterOpenChange:me,ref:ne},ke);return b.createElement(y_.Provider,{value:we},b.createElement(Gv,{open:Re||R||J,autoDestroy:!1,getContainer:F,autoLock:I&&(Re||J)},b.createElement(s5,Be)))};const __=e=>{var t,n;const{prefixCls:r,title:i,footer:l,extra:h,loading:c,onClose:g,headerStyle:v,bodyStyle:y,footerStyle:w,children:k,classNames:x,styles:N}=e,I=vs("drawer"),O=b.useCallback(G=>b.createElement("button",{type:"button",onClick:g,className:`${r}-close`},G),[g]),[T,F]=fp(yu(e),yu(I),{closable:!0,closeIconRender:O}),R=b.useMemo(()=>{var G,Q;return!i&&!T?null:b.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(G=I.styles)===null||G===void 0?void 0:G.header),v),N?.header),className:bt(`${r}-header`,{[`${r}-header-close-only`]:T&&!i&&!h},(Q=I.classNames)===null||Q===void 0?void 0:Q.header,x?.header)},b.createElement("div",{className:`${r}-header-title`},F,i&&b.createElement("div",{className:`${r}-title`},i)),h&&b.createElement("div",{className:`${r}-extra`},h))},[T,F,h,v,r,i]),$=b.useMemo(()=>{var G,Q;if(!l)return null;const ee=`${r}-footer`;return b.createElement("div",{className:bt(ee,(G=I.classNames)===null||G===void 0?void 0:G.footer,x?.footer),style:Object.assign(Object.assign(Object.assign({},(Q=I.styles)===null||Q===void 0?void 0:Q.footer),w),N?.footer)},l)},[l,w,r]);return b.createElement(b.Fragment,null,R,b.createElement("div",{className:bt(`${r}-body`,x?.body,(t=I.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(n=I.styles)===null||n===void 0?void 0:n.body),y),N?.body)},c?b.createElement(Vv,{active:!0,title:!1,paragraph:{rows:5},className:`${r}-body-skeleton`}):k),$)},u5=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},b_=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),x_=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},b_({opacity:e},{opacity:1})),c5=(e,t)=>[x_(.7,t),b_({transform:u5(e)},{transform:"none"})],h5=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[t]:{[`${t}-mask-motion`]:x_(0,n),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((r,i)=>Object.assign(Object.assign({},r),{[`&-${i}`]:c5(i,n)}),{})}}},d5=e=>{const{borderRadiusSM:t,componentCls:n,zIndexPopup:r,colorBgMask:i,colorBgElevated:l,motionDurationSlow:h,motionDurationMid:c,paddingXS:g,padding:v,paddingLG:y,fontSizeLG:w,lineHeightLG:k,lineWidth:x,lineType:N,colorSplit:I,marginXS:O,colorIcon:T,colorIconHover:F,colorBgTextHover:R,colorBgTextActive:$,colorText:G,fontWeightStrong:Q,footerPaddingBlock:ee,footerPaddingInline:Y,calc:q}=e,oe=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:G,"&-pure":{position:"relative",background:l,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:r,background:i,pointerEvents:"auto"},[oe]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${h}`,"&-hidden":{display:"none"}},[`&-left > ${oe}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${oe}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${oe}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${oe}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:l,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Qe(v)} ${Qe(y)}`,fontSize:w,lineHeight:k,borderBottom:`${Qe(x)} ${N} ${I}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:q(w).add(g).equal(),height:q(w).add(g).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:O,color:T,fontWeight:Q,fontSize:w,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${c}`,textRendering:"auto","&:hover":{color:F,backgroundColor:R,textDecoration:"none"},"&:active":{backgroundColor:$}},mu(e)),[`${n}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:w,lineHeight:k},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:y,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${Qe(ee)} ${Qe(Y)}`,borderTop:`${Qe(x)} ${N} ${I}`},"&-rtl":{direction:"rtl"}}}},f5=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),w_=zi("Drawer",e=>{const t=ba(e,{});return[d5(t),h5(t)]},f5);var C_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const p5={distance:180},S_=e=>{const{rootClassName:t,width:n,height:r,size:i="default",mask:l=!0,push:h=p5,open:c,afterOpenChange:g,onClose:v,prefixCls:y,getContainer:w,panelRef:k=null,style:x,className:N,visible:I,afterVisibleChange:O,maskStyle:T,drawerStyle:F,contentWrapperStyle:R,destroyOnClose:$,destroyOnHidden:G}=e,Q=C_(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","panelRef","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:ee,getPrefixCls:Y,direction:q,className:oe,style:D,classNames:U,styles:te}=vs("drawer"),V=Y("drawer",y),[J,ie,le]=w_(V),ue=w===void 0&&ee?()=>ee(document.body):w,be=bt({"no-mask":!l,[`${V}-rtl`]:q==="rtl"},t,ie,le),Le=b.useMemo(()=>n??(i==="large"?736:378),[n,i]),Re=b.useMemo(()=>r??(i==="large"?736:378),[r,i]),ne={motionName:pu(V,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ce=We=>({motionName:pu(V,`panel-motion-${We}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),me=ky(),we=Ps(k,me),[ke,Be]=Fh("Drawer",Q.zIndex),{classNames:he={},styles:qe={}}=Q;return J(b.createElement(ec,{form:!0,space:!0},b.createElement(ap.Provider,{value:Be},b.createElement(l5,Object.assign({prefixCls:V,onClose:v,maskMotion:ne,motion:ce},Q,{classNames:{mask:bt(he.mask,U.mask),content:bt(he.content,U.content),wrapper:bt(he.wrapper,U.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},qe.mask),T),te.mask),content:Object.assign(Object.assign(Object.assign({},qe.content),F),te.content),wrapper:Object.assign(Object.assign(Object.assign({},qe.wrapper),R),te.wrapper)},open:c??I,mask:l,push:h,width:Le,height:Re,style:Object.assign(Object.assign({},D),x),className:bt(oe,N),rootClassName:be,getContainer:ue,afterOpenChange:g??O,panelRef:we,zIndex:ke,destroyOnClose:G??$}),b.createElement(__,Object.assign({prefixCls:V},Q,{onClose:v}))))))},g5=e=>{const{prefixCls:t,style:n,className:r,placement:i="right"}=e,l=C_(e,["prefixCls","style","className","placement"]),{getPrefixCls:h}=b.useContext(Jr),c=h("drawer",t),[g,v,y]=w_(c),w=bt(c,`${c}-pure`,`${c}-${i}`,v,y,r);return g(b.createElement("div",{className:w,style:n},b.createElement(__,Object.assign({prefixCls:c},l))))};S_._InternalPanelDoNotUseOrYouWillBeFired=g5;var m5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const E_=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=b.useContext(Jr),{prefixCls:i,type:l="default",danger:h,disabled:c,loading:g,onClick:v,htmlType:y,children:w,className:k,menu:x,arrow:N,autoFocus:I,overlay:O,trigger:T,align:F,open:R,onOpenChange:$,placement:G,getPopupContainer:Q,href:ee,icon:Y=b.createElement(Wv,null),title:q,buttonsRender:oe=Fe=>Fe,mouseEnterDelay:D,mouseLeaveDelay:U,overlayClassName:te,overlayStyle:V,destroyOnHidden:J,destroyPopupOnHide:ie,dropdownRender:le,popupRender:ue}=e,be=m5(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),Le=n("dropdown",i),Re=`${Le}-button`,ce={menu:x,arrow:N,autoFocus:I,align:F,disabled:c,trigger:c?[]:T,onOpenChange:$,getPopupContainer:Q||t,mouseEnterDelay:D,mouseLeaveDelay:U,overlayClassName:te,overlayStyle:V,destroyOnHidden:J,popupRender:ue||le},{compactSize:me,compactItemClassnames:we}=cy(Le,r),ke=bt(Re,we,k);"destroyPopupOnHide"in e&&(ce.destroyPopupOnHide=ie),"overlay"in e&&(ce.overlay=O),"open"in e&&(ce.open=R),"placement"in e?ce.placement=G:ce.placement=r==="rtl"?"bottomLeft":"bottomRight";const Be=b.createElement(ii,{type:l,danger:h,disabled:c,loading:g,onClick:v,htmlType:y,href:ee,title:q},w),he=b.createElement(ii,{type:l,danger:h,icon:Y}),[qe,We]=oe([Be,he]);return b.createElement(_a.Compact,Object.assign({className:ke,size:me,block:!0},be),qe,b.createElement(Wh,Object.assign({},ce),We))};E_.__ANT_BUTTON=!0;const yp=Wh;yp.Button=E_;function v5(e){return e==null?null:typeof e=="object"&&!b.isValidElement(e)?e:{title:e}}function yh(e){const[t,n]=b.useState(e);return b.useEffect(()=>{const r=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(r)}},[e]),t}const y5=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},
                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},
                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},_5=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Qe(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),Jg=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},b5=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},Pi(e)),_5(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},Jg(e,e.controlHeightSM)),"&-large":Object.assign({},Jg(e,e.controlHeightLG))})}},x5=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:i,labelRequiredMarkColor:l,labelColor:h,labelFontSize:c,labelHeight:g,labelColonMarginInlineStart:v,labelColonMarginInlineEnd:y,itemMarginBottom:w}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{marginBottom:w,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:g,color:h,fontSize:c,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:l,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:v,marginInlineEnd:y},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${i}-switch:only-child, > ${i}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:Xv,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},wl=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),w5=e=>{const{antCls:t,formItemCls:n}=e;return{[`${n}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}},[`${t}-col-24${n}-label,
        ${t}-col-xl-24${n}-label`]:wl(e)}}},C5=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[`${n}-inline`]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},S5=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:wl(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},E5=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${n}-vertical`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:wl(e)},[`@media (max-width: ${Qe(e.screenXSMax)})`]:[S5(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:wl(e)}}}],[`@media (max-width: ${Qe(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:wl(e)}}},[`@media (max-width: ${Qe(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:wl(e)}}},[`@media (max-width: ${Qe(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:wl(e)}}}}},k5=e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),k_=(e,t)=>ba(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),_p=zi("Form",(e,{rootPrefixCls:t})=>{const n=k_(e,t);return[b5(n),x5(n),y5(n),w5(n),C5(n),E5(n),dp(n),Xv]},k5,{order:-1e3}),Qg=[];function wd(e,t,n,r=0){return{key:typeof e=="string"?e:`${t}-${r}`,error:e,errorStatus:n}}const L_=({help:e,helpStatus:t,errors:n=Qg,warnings:r=Qg,className:i,fieldId:l,onVisibleChanged:h})=>{const{prefixCls:c}=b.useContext(sp),g=`${c}-item-explain`,v=Xo(c),[y,w,k]=_p(c,v),x=b.useMemo(()=>hh(c),[c]),N=yh(n),I=yh(r),O=b.useMemo(()=>e!=null?[wd(e,"help",t)]:[].concat(En(N.map((R,$)=>wd(R,"error","error",$))),En(I.map((R,$)=>wd(R,"warning","warning",$)))),[e,t,N,I]),T=b.useMemo(()=>{const R={};return O.forEach(({key:$})=>{R[$]=(R[$]||0)+1}),O.map(($,G)=>Object.assign(Object.assign({},$),{key:R[$.key]>1?`${$.key}-fallback-${G}`:$.key}))},[O]),F={};return l&&(F.id=`${l}_help`),y(b.createElement(Nl,{motionDeadline:x.motionDeadline,motionName:`${c}-show-help`,visible:!!T.length,onVisibleChanged:h},R=>{const{className:$,style:G}=R;return b.createElement("div",Object.assign({},F,{className:bt(g,$,k,v,i,w),style:G}),b.createElement(b2,Object.assign({keys:T},hh(c),{motionName:`${c}-show-help-item`,component:!1}),Q=>{const{key:ee,error:Y,errorStatus:q,className:oe,style:D}=Q;return b.createElement("div",{key:ee,className:bt(oe,{[`${g}-${q}`]:q}),style:D},Y)}))}))};var L5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const N5=(e,t)=>{const n=b.useContext(Eu),{getPrefixCls:r,direction:i,requiredMark:l,colon:h,scrollToFirstError:c,className:g,style:v}=vs("form"),{prefixCls:y,className:w,rootClassName:k,size:x,disabled:N=n,form:I,colon:O,labelAlign:T,labelWrap:F,labelCol:R,wrapperCol:$,hideRequiredMark:G,layout:Q="horizontal",scrollToFirstError:ee,requiredMark:Y,onFinishFailed:q,name:oe,style:D,feedbackIcons:U,variant:te}=e,V=L5(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),J=ul(x),ie=b.useContext(x2),le=b.useMemo(()=>Y!==void 0?Y:G?!1:l!==void 0?l:!0,[G,Y,l]),ue=O??h,be=r("form",y),Le=Xo(be),[Re,ne,ce]=_p(be,Le),me=bt(be,`${be}-${Q}`,{[`${be}-hide-required-mark`]:le===!1,[`${be}-rtl`]:i==="rtl",[`${be}-${J}`]:J},ce,Le,ne,g,w,k),[we]=a_(I),{__INTERNAL__:ke}=we;ke.name=oe;const Be=b.useMemo(()=>({name:oe,labelAlign:T,labelCol:R,labelWrap:F,wrapperCol:$,layout:Q,colon:ue,requiredMark:le,itemRef:ke.itemRef,form:we,feedbackIcons:U}),[oe,T,R,$,Q,ue,le,we,U]),he=b.useRef(null);b.useImperativeHandle(t,()=>{var Fe;return Object.assign(Object.assign({},we),{nativeElement:(Fe=he.current)===null||Fe===void 0?void 0:Fe.nativeElement})});const qe=(Fe,de)=>{if(Fe){let it={block:"nearest"};typeof Fe=="object"&&(it=Object.assign(Object.assign({},it),Fe)),we.scrollToField(de,it)}},We=Fe=>{if(q?.(Fe),Fe.errorFields.length){const de=Fe.errorFields[0].name;if(ee!==void 0){qe(ee,de);return}c!==void 0&&qe(c,de)}};return Re(b.createElement(w2.Provider,{value:te},b.createElement(ny,{disabled:N},b.createElement(C2.Provider,{value:J},b.createElement(dy,{validateMessages:ie},b.createElement(Hs.Provider,{value:Be},b.createElement(S2,{status:!0},b.createElement(E2,Object.assign({id:oe},V,{name:oe,onFinishFailed:We,form:we,ref:he,style:Object.assign(Object.assign({},v),D),className:me})))))))))},M5=b.forwardRef(N5);function P5(e){if(typeof e=="function")return e;const t=Rl(e);return t.length<=1?t[0]:t}const N_=()=>{const{status:e,errors:t=[],warnings:n=[]}=b.useContext(ol);return{status:e,errors:t,warnings:n}};N_.Context=ol;function I5(e){const[t,n]=b.useState(e),r=b.useRef(null),i=b.useRef([]),l=b.useRef(!1);b.useEffect(()=>(l.current=!1,()=>{l.current=!0,Ba.cancel(r.current),r.current=null}),[]);function h(c){l.current||(r.current===null&&(i.current=[],r.current=Ba(()=>{r.current=null,n(g=>{let v=g;return i.current.forEach(y=>{v=y(v)}),v})})),i.current.push(c))}return[t,h]}function O5(){const{itemRef:e}=b.useContext(Hs),t=b.useRef({});function n(r,i){const l=i&&typeof i=="object"&&iy(i),h=r.join("_");return(t.current.name!==h||t.current.originRef!==l)&&(t.current.name=h,t.current.originRef=l,t.current.ref=Ps(e(r),l)),t.current.ref}return n}const A5=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},T5=cc(["Form","item-item"],(e,{rootPrefixCls:t})=>{const n=k_(e,t);return A5(n)});var R5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const B5=24,D5=e=>{const{prefixCls:t,status:n,labelCol:r,wrapperCol:i,children:l,errors:h,warnings:c,_internalItemRender:g,extra:v,help:y,fieldId:w,marginBottom:k,onErrorVisibleChanged:x,label:N}=e,I=`${t}-item`,O=b.useContext(Hs),T=b.useMemo(()=>{let V=Object.assign({},i||O.wrapperCol||{});return N===null&&!r&&!i&&O.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(ie=>{const le=ie?[ie]:[],ue=tc(O.labelCol,le),be=typeof ue=="object"?ue:{},Le=tc(V,le),Re=typeof Le=="object"?Le:{};"span"in be&&!("offset"in Re)&&be.span<B5&&(V=k2(V,[].concat(le,["offset"]),be.span))}),V},[i,O]),F=bt(`${I}-control`,T.className),R=b.useMemo(()=>{const{labelCol:V,wrapperCol:J}=O;return R5(O,["labelCol","wrapperCol"])},[O]),$=b.useRef(null),[G,Q]=b.useState(0);na(()=>{v&&$.current?Q($.current.clientHeight):Q(0)},[v]);const ee=b.createElement("div",{className:`${I}-control-input`},b.createElement("div",{className:`${I}-control-input-content`},l)),Y=b.useMemo(()=>({prefixCls:t,status:n}),[t,n]),q=k!==null||h.length||c.length?b.createElement(sp.Provider,{value:Y},b.createElement(L_,{fieldId:w,errors:h,warnings:c,help:y,helpStatus:n,className:`${I}-explain-connected`,onVisibleChanged:x})):null,oe={};w&&(oe.id=`${w}_extra`);const D=v?b.createElement("div",Object.assign({},oe,{className:`${I}-extra`,ref:$}),v):null,U=q||D?b.createElement("div",{className:`${I}-additional`,style:k?{minHeight:k+G}:{}},q,D):null,te=g&&g.mark==="pro_table_render"&&g.render?g.render(e,{input:ee,errorList:q,extra:D}):b.createElement(b.Fragment,null,ee,U);return b.createElement(Hs.Provider,{value:R},b.createElement(gs,Object.assign({},T,{className:F}),te),b.createElement(T5,{prefixCls:t}))};var $5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},F5=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:$5}))},j5=b.forwardRef(F5),z5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const H5=({prefixCls:e,label:t,htmlFor:n,labelCol:r,labelAlign:i,colon:l,required:h,requiredMark:c,tooltip:g,vertical:v})=>{var y;const[w]=Tl("Form"),{labelAlign:k,labelCol:x,labelWrap:N,colon:I}=b.useContext(Hs);if(!t)return null;const O=r||x||{},T=i||k,F=`${e}-item-label`,R=bt(F,T==="left"&&`${F}-left`,O.className,{[`${F}-wrap`]:!!N});let $=t;const G=l===!0||I!==!1&&l!==!1;G&&!v&&typeof t=="string"&&t.trim()&&($=t.replace(/[:|]\s*$/,""));const ee=v5(g);if(ee){const{icon:te=b.createElement(j5,null)}=ee,V=z5(ee,["icon"]),J=b.createElement(sa,Object.assign({},V),b.cloneElement(te,{className:`${e}-item-tooltip`,title:"",onClick:ie=>{ie.preventDefault()},tabIndex:null}));$=b.createElement(b.Fragment,null,$,J)}const Y=c==="optional",q=typeof c=="function",oe=c===!1;q?$=c($,{required:!!h}):Y&&!h&&($=b.createElement(b.Fragment,null,$,b.createElement("span",{className:`${e}-item-optional`,title:""},w?.optional||((y=$h.Form)===null||y===void 0?void 0:y.optional))));let D;oe?D="hidden":(Y||q)&&(D="optional");const U=bt({[`${e}-item-required`]:h,[`${e}-item-required-mark-${D}`]:D,[`${e}-item-no-colon`]:!G});return b.createElement(gs,Object.assign({},O,{className:R}),b.createElement("label",{htmlFor:n,className:U,title:typeof t=="string"?t:""},$))},q5={success:hp,warning:cp,error:np,validating:qh};function M_({children:e,errors:t,warnings:n,hasFeedback:r,validateStatus:i,prefixCls:l,meta:h,noStyle:c,name:g}){const v=`${l}-item`,{feedbackIcons:y}=b.useContext(Hs),w=i_(t,n,h,null,!!r,i),{isFormItemInput:k,status:x,hasFeedback:N,feedbackIcon:I,name:O}=b.useContext(ol),T=b.useMemo(()=>{var F;let R;if(r){const G=r!==!0&&r.icons||y,Q=w&&((F=G?.({status:w,errors:t,warnings:n}))===null||F===void 0?void 0:F[w]),ee=w&&q5[w];R=Q!==!1&&ee?b.createElement("span",{className:bt(`${v}-feedback-icon`,`${v}-feedback-icon-${w}`)},Q||b.createElement(ee,null)):null}const $={status:w||"",errors:t,warnings:n,hasFeedback:!!r,feedbackIcon:R,isFormItemInput:!0,name:g};return c&&($.status=(w??x)||"",$.isFormItemInput=k,$.hasFeedback=!!(r??N),$.feedbackIcon=r!==void 0?$.feedbackIcon:I,$.name=g??O),$},[w,r,c,k,x]);return b.createElement(ol.Provider,{value:T},e)}var U5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function G5(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:l,errors:h,warnings:c,validateStatus:g,meta:v,hasFeedback:y,hidden:w,children:k,fieldId:x,required:N,isRequired:I,onSubItemMetaChange:O,layout:T,name:F}=e,R=U5(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),$=`${t}-item`,{requiredMark:G,layout:Q}=b.useContext(Hs),ee=T||Q,Y=ee==="vertical",q=b.useRef(null),oe=yh(h),D=yh(c),U=l!=null,te=!!(U||h.length||c.length),V=!!q.current&&fy(q.current),[J,ie]=b.useState(null);na(()=>{if(te&&q.current){const Re=getComputedStyle(q.current);ie(parseInt(Re.marginBottom,10))}},[te,V]);const le=Re=>{Re||ie(null)},be=((Re=!1)=>{const ne=Re?oe:v.errors,ce=Re?D:v.warnings;return i_(ne,ce,v,"",!!y,g)})(),Le=bt($,n,r,{[`${$}-with-help`]:U||oe.length||D.length,[`${$}-has-feedback`]:be&&y,[`${$}-has-success`]:be==="success",[`${$}-has-warning`]:be==="warning",[`${$}-has-error`]:be==="error",[`${$}-is-validating`]:be==="validating",[`${$}-hidden`]:w,[`${$}-${ee}`]:ee});return b.createElement("div",{className:Le,style:i,ref:q},b.createElement(ku,Object.assign({className:`${$}-row`},Zo(R,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),b.createElement(H5,Object.assign({htmlFor:x},e,{requiredMark:G,required:N??I,prefixCls:t,vertical:Y})),b.createElement(D5,Object.assign({},e,v,{errors:oe,warnings:D,prefixCls:t,status:be,help:l,marginBottom:J,onErrorVisibleChanged:le}),b.createElement(py.Provider,{value:O},b.createElement(M_,{prefixCls:t,meta:v,errors:v.errors,warnings:v.warnings,hasFeedback:y,validateStatus:be,name:F},k)))),!!J&&b.createElement("div",{className:`${$}-margin-offset`,style:{marginBottom:-J}}))}const V5="__SPLIT__";function W5(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>{const l=e[i],h=t[i];return l===h||typeof l=="function"||typeof h=="function"})}const K5=b.memo(({children:e})=>e,(e,t)=>W5(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((n,r)=>n===t.childProps[r]));function em(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function X5(e){const{name:t,noStyle:n,className:r,dependencies:i,prefixCls:l,shouldUpdate:h,rules:c,children:g,required:v,label:y,messageVariables:w,trigger:k="onChange",validateTrigger:x,hidden:N,help:I,layout:O}=e,{getPrefixCls:T}=b.useContext(Jr),{name:F}=b.useContext(Hs),R=P5(g),$=typeof R=="function",G=b.useContext(py),{validateTrigger:Q}=b.useContext(L2),ee=x!==void 0?x:Q,Y=t!=null,q=T("form",l),oe=Xo(q),[D,U,te]=_p(q,oe);hc();const V=b.useContext(N2),J=b.useRef(null),[ie,le]=I5({}),[ue,be]=ey(()=>em()),Le=Be=>{const he=V?.getKey(Be.name);if(be(Be.destroy?em():Be,!0),n&&I!==!1&&G){let qe=Be.name;if(Be.destroy)qe=J.current||qe;else if(he!==void 0){const[We,Fe]=he;qe=[We].concat(En(Fe)),J.current=qe}G(Be,qe)}},Re=(Be,he)=>{le(qe=>{const We=Object.assign({},qe),de=[].concat(En(Be.name.slice(0,-1)),En(he)).join(V5);return Be.destroy?delete We[de]:We[de]=Be,We})},[ne,ce]=b.useMemo(()=>{const Be=En(ue.errors),he=En(ue.warnings);return Object.values(ie).forEach(qe=>{Be.push.apply(Be,En(qe.errors||[])),he.push.apply(he,En(qe.warnings||[]))}),[Be,he]},[ie,ue.errors,ue.warnings]),me=O5();function we(Be,he,qe){return n&&!N?b.createElement(M_,{prefixCls:q,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:ue,errors:ne,warnings:ce,noStyle:!0,name:t},Be):b.createElement(G5,Object.assign({key:"row"},e,{className:bt(r,te,oe,U),prefixCls:q,fieldId:he,isRequired:qe,errors:ne,warnings:ce,meta:ue,onSubItemMetaChange:Re,layout:O,name:t}),Be)}if(!Y&&!$&&!i)return D(we(R));let ke={};return typeof y=="string"?ke.label=y:t&&(ke.label=String(t)),w&&(ke=Object.assign(Object.assign({},ke),w)),D(b.createElement(M2,Object.assign({},e,{messageVariables:ke,trigger:k,validateTrigger:ee,onMetaChange:Le}),(Be,he,qe)=>{const We=Ku(t).length&&he?he.name:[],Fe=r_(We,F),de=v!==void 0?v:!!c?.some(fe=>{if(fe&&typeof fe=="object"&&fe.required&&!fe.warningOnly)return!0;if(typeof fe=="function"){const tt=fe(qe);return tt?.required&&!tt?.warningOnly}return!1}),it=Object.assign({},Be);let ft=null;if(Array.isArray(R)&&Y)ft=R;else if(!($&&(!(h||i)||Y))){if(!(i&&!$&&!Y))if(b.isValidElement(R)){const fe=Object.assign(Object.assign({},R.props),it);if(fe.id||(fe.id=Fe),I||ne.length>0||ce.length>0||e.extra){const At=[];(I||ne.length>0)&&At.push(`${Fe}_help`),e.extra&&At.push(`${Fe}_extra`),fe["aria-describedby"]=At.join(" ")}ne.length>0&&(fe["aria-invalid"]="true"),de&&(fe["aria-required"]="true"),mf(R)&&(fe.ref=me(We,R)),new Set([].concat(En(Ku(k)),En(Ku(ee)))).forEach(At=>{fe[At]=(...Xe)=>{var Xt,nt,mt,wt,Et;(mt=it[At])===null||mt===void 0||(Xt=mt).call.apply(Xt,[it].concat(Xe)),(Et=(wt=R.props)[At])===null||Et===void 0||(nt=Et).call.apply(nt,[wt].concat(Xe))}});const kt=[fe["aria-required"],fe["aria-invalid"],fe["aria-describedby"]];ft=b.createElement(K5,{control:it,update:R,childProps:kt},Ls(R,fe))}else $&&(h||i)&&!Y?ft=R(qe):ft=R}return we(ft,Fe,de)}))}const P_=X5;P_.useStatus=N_;var Z5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Y5=e=>{var{prefixCls:t,children:n}=e,r=Z5(e,["prefixCls","children"]);const{getPrefixCls:i}=b.useContext(Jr),l=i("form",t),h=b.useMemo(()=>({prefixCls:l,status:"error"}),[l]);return b.createElement(P2,Object.assign({},r),(c,g,v)=>b.createElement(sp.Provider,{value:h},n(c.map(y=>Object.assign(Object.assign({},y),{fieldKey:y.key})),g,{errors:v.errors,warnings:v.warnings})))};function J5(){const{form:e}=b.useContext(Hs);return e}const Ya=M5;Ya.Item=P_;Ya.List=Y5;Ya.ErrorList=L_;Ya.useForm=a_;Ya.useFormInstance=J5;Ya.useWatch=I2;Ya.Provider=dy;Ya.create=()=>{};function tm(e,t,n,r){var i=pg.unstable_batchedUpdates?function(h){pg.unstable_batchedUpdates(n,h)}:n;return e!=null&&e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,r)}}}function Q5(e,t,n){return typeof n=="boolean"?n:e.length?!0:Rl(t).some(i=>i.type===Wy)}var I_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Xh({suffixCls:e,tagName:t,displayName:n}){return r=>b.forwardRef((l,h)=>b.createElement(r,Object.assign({ref:h,suffixCls:e,tagName:t},l)))}const bp=b.forwardRef((e,t)=>{const{prefixCls:n,suffixCls:r,className:i,tagName:l}=e,h=I_(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:c}=b.useContext(Jr),g=c("layout",n),[v,y,w]=Vy(g),k=r?`${g}-${r}`:g;return v(b.createElement(l,Object.assign({className:bt(n||k,i,y,w),ref:t},h)))}),eS=b.forwardRef((e,t)=>{const{direction:n}=b.useContext(Jr),[r,i]=b.useState([]),{prefixCls:l,className:h,rootClassName:c,children:g,hasSider:v,tagName:y,style:w}=e,k=I_(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),x=Zo(k,["suffixCls"]),{getPrefixCls:N,className:I,style:O}=vs("layout"),T=N("layout",l),F=Q5(r,g,v),[R,$,G]=Vy(T),Q=bt(T,{[`${T}-has-sider`]:F,[`${T}-rtl`]:n==="rtl"},I,h,c,$,G),ee=b.useMemo(()=>({siderHook:{addSider:Y=>{i(q=>[].concat(En(q),[Y]))},removeSider:Y=>{i(q=>q.filter(oe=>oe!==Y))}}}),[]);return R(b.createElement(qy.Provider,{value:ee},b.createElement(y,Object.assign({ref:t,className:Q,style:Object.assign(Object.assign({},O),w)},x),g)))}),tS=Xh({tagName:"div",displayName:"Layout"})(eS),nS=Xh({suffixCls:"header",tagName:"header",displayName:"Header"})(bp),rS=Xh({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(bp),iS=Xh({suffixCls:"content",tagName:"main",displayName:"Content"})(bp),qs=tS;qs.Header=nS;qs.Footer=rS;qs.Content=iS;qs.Sider=Wy;qs._InternalSiderContext=Vh;var aS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},oS=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:aS}))},nm=b.forwardRef(oS),sS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},lS=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:sS}))},rm=b.forwardRef(lS),uS={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""},cS=[10,20,50,100],hS=function(t){var n=t.pageSizeOptions,r=n===void 0?cS:n,i=t.locale,l=t.changeSize,h=t.pageSize,c=t.goButton,g=t.quickGo,v=t.rootPrefixCls,y=t.disabled,w=t.buildOptionText,k=t.showSizeChanger,x=t.sizeChangerRender,N=Ot.useState(""),I=On(N,2),O=I[0],T=I[1],F=function(){return!O||Number.isNaN(O)?void 0:Number(O)},R=typeof w=="function"?w:function(U){return"".concat(U," ").concat(i.items_per_page)},$=function(te){T(te.target.value)},G=function(te){c||O===""||(T(""),!(te.relatedTarget&&(te.relatedTarget.className.indexOf("".concat(v,"-item-link"))>=0||te.relatedTarget.className.indexOf("".concat(v,"-item"))>=0))&&g?.(F()))},Q=function(te){O!==""&&(te.keyCode===_r.ENTER||te.type==="click")&&(T(""),g?.(F()))},ee=function(){return r.some(function(te){return te.toString()===h.toString()})?r:r.concat([h]).sort(function(te,V){var J=Number.isNaN(Number(te))?0:Number(te),ie=Number.isNaN(Number(V))?0:Number(V);return J-ie})},Y="".concat(v,"-options");if(!k&&!g)return null;var q=null,oe=null,D=null;return k&&x&&(q=x({disabled:y,size:h,onSizeChange:function(te){l?.(Number(te))},"aria-label":i.page_size,className:"".concat(Y,"-size-changer"),options:ee().map(function(U){return{label:R(U),value:U}})})),g&&(c&&(D=typeof c=="boolean"?Ot.createElement("button",{type:"button",onClick:Q,onKeyUp:Q,disabled:y,className:"".concat(Y,"-quick-jumper-button")},i.jump_to_confirm):Ot.createElement("span",{onClick:Q,onKeyUp:Q},c)),oe=Ot.createElement("div",{className:"".concat(Y,"-quick-jumper")},i.jump_to,Ot.createElement("input",{disabled:y,type:"text",value:O,onChange:$,onKeyUp:Q,onBlur:G,"aria-label":i.page}),i.page,D)),Ot.createElement("li",{className:Y},q,oe)},Fu=function(t){var n=t.rootPrefixCls,r=t.page,i=t.active,l=t.className,h=t.showTitle,c=t.onClick,g=t.onKeyPress,v=t.itemRender,y="".concat(n,"-item"),w=bt(y,"".concat(y,"-").concat(r),Pt(Pt({},"".concat(y,"-active"),i),"".concat(y,"-disabled"),!r),l),k=function(){c(r)},x=function(O){g(O,c,r)},N=v(r,"page",Ot.createElement("a",{rel:"nofollow"},r));return N?Ot.createElement("li",{title:h?String(r):null,className:w,onClick:k,onKeyDown:x,tabIndex:0},N):null},dS=function(t,n,r){return r};function im(){}function am(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function yl(e,t,n){var r=typeof e>"u"?t:e;return Math.floor((n-1)/r)+1}var fS=function(t){var n=t.prefixCls,r=n===void 0?"rc-pagination":n,i=t.selectPrefixCls,l=i===void 0?"rc-select":i,h=t.className,c=t.current,g=t.defaultCurrent,v=g===void 0?1:g,y=t.total,w=y===void 0?0:y,k=t.pageSize,x=t.defaultPageSize,N=x===void 0?10:x,I=t.onChange,O=I===void 0?im:I,T=t.hideOnSinglePage,F=t.align,R=t.showPrevNextJumpers,$=R===void 0?!0:R,G=t.showQuickJumper,Q=t.showLessItems,ee=t.showTitle,Y=ee===void 0?!0:ee,q=t.onShowSizeChange,oe=q===void 0?im:q,D=t.locale,U=D===void 0?uS:D,te=t.style,V=t.totalBoundaryShowSizeChanger,J=V===void 0?50:V,ie=t.disabled,le=t.simple,ue=t.showTotal,be=t.showSizeChanger,Le=be===void 0?w>J:be,Re=t.sizeChangerRender,ne=t.pageSizeOptions,ce=t.itemRender,me=ce===void 0?dS:ce,we=t.jumpPrevIcon,ke=t.jumpNextIcon,Be=t.prevIcon,he=t.nextIcon,qe=Ot.useRef(null),We=ps(10,{value:k,defaultValue:N}),Fe=On(We,2),de=Fe[0],it=Fe[1],ft=ps(1,{value:c,defaultValue:v,postState:function(kn){return Math.max(1,Math.min(kn,yl(void 0,de,w)))}}),fe=On(ft,2),tt=fe[0],kt=fe[1],At=Ot.useState(tt),Xe=On(At,2),Xt=Xe[0],nt=Xe[1];b.useEffect(function(){nt(tt)},[tt]);var mt=Math.max(1,tt-(Q?3:5)),wt=Math.min(yl(void 0,de,w),tt+(Q?3:5));function Et(Sn,kn){var Zn=Sn||Ot.createElement("button",{type:"button","aria-label":kn,className:"".concat(r,"-item-link")});return typeof Sn=="function"&&(Zn=Ot.createElement(Sn,Wt({},t))),Zn}function Zt(Sn){var kn=Sn.target.value,Zn=yl(void 0,de,w),Gr;return kn===""?Gr=kn:Number.isNaN(Number(kn))?Gr=Xt:kn>=Zn?Gr=Zn:Gr=Number(kn),Gr}function nn(Sn){return am(Sn)&&Sn!==tt&&am(w)&&w>0}var dn=w>de?G:!1;function Dt(Sn){(Sn.keyCode===_r.UP||Sn.keyCode===_r.DOWN)&&Sn.preventDefault()}function Jt(Sn){var kn=Zt(Sn);switch(kn!==Xt&&nt(kn),Sn.keyCode){case _r.ENTER:Mt(kn);break;case _r.UP:Mt(kn-1);break;case _r.DOWN:Mt(kn+1);break}}function Ft(Sn){Mt(Zt(Sn))}function ht(Sn){var kn=yl(Sn,de,w),Zn=tt>kn&&kn!==0?kn:tt;it(Sn),nt(Zn),oe?.(tt,Sn),kt(Zn),O?.(Zn,Sn)}function Mt(Sn){if(nn(Sn)&&!ie){var kn=yl(void 0,de,w),Zn=Sn;return Sn>kn?Zn=kn:Sn<1&&(Zn=1),Zn!==Xt&&nt(Zn),kt(Zn),O?.(Zn,de),Zn}return tt}var tn=tt>1,fn=tt<yl(void 0,de,w);function Tt(){tn&&Mt(tt-1)}function zt(){fn&&Mt(tt+1)}function jt(){Mt(mt)}function ln(){Mt(wt)}function an(Sn,kn){if(Sn.key==="Enter"||Sn.charCode===_r.ENTER||Sn.keyCode===_r.ENTER){for(var Zn=arguments.length,Gr=new Array(Zn>2?Zn-2:0),Dr=2;Dr<Zn;Dr++)Gr[Dr-2]=arguments[Dr];kn.apply(void 0,Gr)}}function hn(Sn){an(Sn,Tt)}function Bn(Sn){an(Sn,zt)}function Rt(Sn){an(Sn,jt)}function Gt(Sn){an(Sn,ln)}function gn(Sn){var kn=me(Sn,"prev",Et(Be,"prev page"));return Ot.isValidElement(kn)?Ot.cloneElement(kn,{disabled:!tn}):kn}function An(Sn){var kn=me(Sn,"next",Et(he,"next page"));return Ot.isValidElement(kn)?Ot.cloneElement(kn,{disabled:!fn}):kn}function Dn(Sn){(Sn.type==="click"||Sn.keyCode===_r.ENTER)&&Mt(Xt)}var Kt=null,dr=Wo(t,{aria:!0,data:!0}),mn=ue&&Ot.createElement("li",{className:"".concat(r,"-total-text")},ue(w,[w===0?0:(tt-1)*de+1,tt*de>w?w:tt*de])),br=null,Un=yl(void 0,de,w);if(T&&w<=de)return null;var ur=[],Tr={rootPrefixCls:r,onClick:Mt,onKeyPress:an,showTitle:Y,itemRender:me,page:-1},zn=tt-1>0?tt-1:0,cn=tt+1<Un?tt+1:Un,Pr=G&&G.goButton,Ri=Lr(le)==="object"?le.readOnly:!le,Nn=Pr,Gn=null;le&&(Pr&&(typeof Pr=="boolean"?Nn=Ot.createElement("button",{type:"button",onClick:Dn,onKeyUp:Dn},U.jump_to_confirm):Nn=Ot.createElement("span",{onClick:Dn,onKeyUp:Dn},Pr),Nn=Ot.createElement("li",{title:Y?"".concat(U.jump_to).concat(tt,"/").concat(Un):null,className:"".concat(r,"-simple-pager")},Nn)),Gn=Ot.createElement("li",{title:Y?"".concat(tt,"/").concat(Un):null,className:"".concat(r,"-simple-pager")},Ri?Xt:Ot.createElement("input",{type:"text","aria-label":U.jump_to,value:Xt,disabled:ie,onKeyDown:Dt,onKeyUp:Jt,onChange:Jt,onBlur:Ft,size:3}),Ot.createElement("span",{className:"".concat(r,"-slash")},"/"),Un));var wn=Q?1:2;if(Un<=3+wn*2){Un||ur.push(Ot.createElement(Fu,bn({},Tr,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var nr=1;nr<=Un;nr+=1)ur.push(Ot.createElement(Fu,bn({},Tr,{key:nr,page:nr,active:tt===nr})))}else{var sr=Q?U.prev_3:U.prev_5,fr=Q?U.next_3:U.next_5,wr=me(mt,"jump-prev",Et(we,"prev page")),Nr=me(wt,"jump-next",Et(ke,"next page"));$&&(Kt=wr?Ot.createElement("li",{title:Y?sr:null,key:"prev",onClick:jt,tabIndex:0,onKeyDown:Rt,className:bt("".concat(r,"-jump-prev"),Pt({},"".concat(r,"-jump-prev-custom-icon"),!!we))},wr):null,br=Nr?Ot.createElement("li",{title:Y?fr:null,key:"next",onClick:ln,tabIndex:0,onKeyDown:Gt,className:bt("".concat(r,"-jump-next"),Pt({},"".concat(r,"-jump-next-custom-icon"),!!ke))},Nr):null);var Si=Math.max(1,tt-wn),yi=Math.min(tt+wn,Un);tt-1<=wn&&(yi=1+wn*2),Un-tt<=wn&&(Si=Un-wn*2);for(var mr=Si;mr<=yi;mr+=1)ur.push(Ot.createElement(Fu,bn({},Tr,{key:mr,page:mr,active:tt===mr})));if(tt-1>=wn*2&&tt!==3&&(ur[0]=Ot.cloneElement(ur[0],{className:bt("".concat(r,"-item-after-jump-prev"),ur[0].props.className)}),ur.unshift(Kt)),Un-tt>=wn*2&&tt!==Un-2){var Hi=ur[ur.length-1];ur[ur.length-1]=Ot.cloneElement(Hi,{className:bt("".concat(r,"-item-before-jump-next"),Hi.props.className)}),ur.push(br)}Si!==1&&ur.unshift(Ot.createElement(Fu,bn({},Tr,{key:1,page:1}))),yi!==Un&&ur.push(Ot.createElement(Fu,bn({},Tr,{key:Un,page:Un})))}var Jn=gn(zn);if(Jn){var xn=!tn||!Un;Jn=Ot.createElement("li",{title:Y?U.prev_page:null,onClick:Tt,tabIndex:xn?null:0,onKeyDown:hn,className:bt("".concat(r,"-prev"),Pt({},"".concat(r,"-disabled"),xn)),"aria-disabled":xn},Jn)}var rr=An(cn);if(rr){var pr,gr;le?(pr=!fn,gr=tn?0:null):(pr=!fn||!Un,gr=pr?null:0),rr=Ot.createElement("li",{title:Y?U.next_page:null,onClick:zt,tabIndex:gr,onKeyDown:Bn,className:bt("".concat(r,"-next"),Pt({},"".concat(r,"-disabled"),pr)),"aria-disabled":pr},rr)}var _i=bt(r,h,Pt(Pt(Pt(Pt(Pt({},"".concat(r,"-start"),F==="start"),"".concat(r,"-center"),F==="center"),"".concat(r,"-end"),F==="end"),"".concat(r,"-simple"),le),"".concat(r,"-disabled"),ie));return Ot.createElement("ul",bn({className:_i,style:te,ref:qe},dr),mn,Jn,le?Gn:ur,rr,Ot.createElement(hS,{locale:U,rootPrefixCls:r,disabled:ie,selectPrefixCls:l,changeSize:ht,pageSize:de,pageSizeOptions:ne,quickGo:dn?Mt:null,goButton:Nn,showSizeChanger:Le,sizeChangerRender:Re}))};const pS=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}}}},gS=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Qe(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Qe(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:Qe(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM),input:Object.assign(Object.assign({},T2(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},mS=e=>{const{componentCls:t}=e;return{[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{height:e.itemSize,lineHeight:Qe(e.itemSize),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSize,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSize,lineHeight:Qe(e.itemSize)}}},[`${t}-simple-pager`]:{display:"inline-flex",alignItems:"center",height:e.itemSize,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",width:e.quickJumperInputWidth,padding:`0 ${Qe(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${Qe(e.inputOutlineOffset)} 0 ${Qe(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}},[`&${t}-disabled`]:{[`${t}-prev, ${t}-next`]:{[`${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}},[`&${t}-mini`]:{[`${t}-prev, ${t}-next`]:{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM),[`${t}-item-link`]:{height:e.itemSizeSM,"&::after":{height:e.itemSizeSM,lineHeight:Qe(e.itemSizeSM)}}},[`${t}-simple-pager`]:{height:e.itemSizeSM,input:{width:e.paginationMiniQuickJumperInputWidth}}}}}},vS=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:Qe(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Qe(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:Qe(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},op(e)),O2(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},A2(e)),width:e.quickJumperInputWidth,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},yS=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:Qe(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${Qe(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Qe(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},_S=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:Qe(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),yS(e)),vS(e)),mS(e)),gS(e)),pS(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},bS=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},mu(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},Ml(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Ml(e)}}}},O_=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},ly(e)),A_=e=>ba(e,{inputOutlineOffset:0,quickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.25).equal(),paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},uy(e)),xS=zi("Pagination",e=>{const t=A_(e);return[_S(t),bS(t)]},O_),wS=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},CS=cc(["Pagination","bordered"],e=>{const t=A_(e);return wS(t)},O_);function om(e){return b.useMemo(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var SS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const T_=e=>{const{align:t,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:l,style:h,size:c,locale:g,responsive:v,showSizeChanger:y,selectComponentClass:w,pageSizeOptions:k}=e,x=SS(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:N}=Th(v),[,I]=Su(),{getPrefixCls:O,direction:T,showSizeChanger:F,className:R,style:$}=vs("pagination"),G=O("pagination",n),[Q,ee,Y]=xS(G),q=ul(c),oe=q==="small"||!!(N&&!q&&v),[D]=Tl("Pagination",R2),U=Object.assign(Object.assign({},D),g),[te,V]=om(y),[J,ie]=om(F),le=te??J,ue=V??ie,be=w||ks,Le=b.useMemo(()=>k?k.map(ke=>Number(ke)):void 0,[k]),Re=ke=>{var Be;const{disabled:he,size:qe,onSizeChange:We,"aria-label":Fe,className:de,options:it}=ke,{className:ft,onChange:fe}=ue||{},tt=(Be=it.find(kt=>String(kt.value)===String(qe)))===null||Be===void 0?void 0:Be.value;return b.createElement(be,Object.assign({disabled:he,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:kt=>kt.parentNode,"aria-label":Fe,options:it},ue,{value:tt,onChange:(kt,At)=>{We?.(kt),fe?.(kt,At)},size:oe?"small":"middle",className:bt(de,ft)}))},ne=b.useMemo(()=>{const ke=b.createElement("span",{className:`${G}-item-ellipsis`},""),Be=b.createElement("button",{className:`${G}-item-link`,type:"button",tabIndex:-1},T==="rtl"?b.createElement(nc,null):b.createElement(_u,null)),he=b.createElement("button",{className:`${G}-item-link`,type:"button",tabIndex:-1},T==="rtl"?b.createElement(_u,null):b.createElement(nc,null)),qe=b.createElement("a",{className:`${G}-item-link`},b.createElement("div",{className:`${G}-item-container`},T==="rtl"?b.createElement(rm,{className:`${G}-item-link-icon`}):b.createElement(nm,{className:`${G}-item-link-icon`}),ke)),We=b.createElement("a",{className:`${G}-item-link`},b.createElement("div",{className:`${G}-item-container`},T==="rtl"?b.createElement(nm,{className:`${G}-item-link-icon`}):b.createElement(rm,{className:`${G}-item-link-icon`}),ke));return{prevIcon:Be,nextIcon:he,jumpPrevIcon:qe,jumpNextIcon:We}},[T,G]),ce=O("select",r),me=bt({[`${G}-${t}`]:!!t,[`${G}-mini`]:oe,[`${G}-rtl`]:T==="rtl",[`${G}-bordered`]:I.wireframe},R,i,l,ee,Y),we=Object.assign(Object.assign({},$),h);return Q(b.createElement(b.Fragment,null,I.wireframe&&b.createElement(CS,{prefixCls:G}),b.createElement(fS,Object.assign({},ne,x,{style:we,prefixCls:G,selectPrefixCls:ce,className:me,locale:U,pageSizeOptions:Le,showSizeChanger:le,sizeChangerRender:Re}))))},_h=100,R_=_h/5,B_=_h/2-R_/2,Cd=B_*2*Math.PI,sm=50,lm=e=>{const{dotClassName:t,style:n,hasCircleCls:r}=e;return b.createElement("circle",{className:bt(`${t}-circle`,{[`${t}-circle-bg`]:r}),r:B_,cx:sm,cy:sm,strokeWidth:R_,style:n})},ES=({percent:e,prefixCls:t})=>{const n=`${t}-dot`,r=`${n}-holder`,i=`${r}-hidden`,[l,h]=b.useState(!1);na(()=>{e!==0&&h(!0)},[e!==0]);const c=Math.max(Math.min(e,100),0);if(!l)return null;const g={strokeDashoffset:`${Cd/4}`,strokeDasharray:`${Cd*c/100} ${Cd*(100-c)/100}`};return b.createElement("span",{className:bt(r,`${n}-progress`,c<=0&&i)},b.createElement("svg",{viewBox:`0 0 ${_h} ${_h}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c},b.createElement(lm,{dotClassName:n,hasCircleCls:!0}),b.createElement(lm,{dotClassName:n,style:g})))};function kS(e){const{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,i=`${r}-holder`,l=`${i}-hidden`;return b.createElement(b.Fragment,null,b.createElement("span",{className:bt(i,n>0&&l)},b.createElement("span",{className:bt(r,`${t}-dot-spin`)},[1,2,3,4].map(h=>b.createElement("i",{className:`${t}-dot-item`,key:h})))),b.createElement(ES,{prefixCls:t,percent:n}))}function LS(e){var t;const{prefixCls:n,indicator:r,percent:i}=e,l=`${n}-dot`;return r&&b.isValidElement(r)?Ls(r,{className:bt((t=r.props)===null||t===void 0?void 0:t.className,l),percent:i}):b.createElement(kS,{prefixCls:n,percent:i})}const NS=new uc("antSpinMove",{to:{opacity:1}}),MS=new uc("antRotate",{to:{transform:"rotate(405deg)"}}),PS=e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:NS,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:MS,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},IS=e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:n}},OS=zi("Spin",e=>{const t=ba(e,{spinDotDefault:e.colorTextDescription});return PS(t)},IS),AS=200,um=[[30,.05],[70,.03],[96,.01]];function TS(e,t){const[n,r]=b.useState(0),i=b.useRef(null),l=t==="auto";return b.useEffect(()=>(l&&e&&(r(0),i.current=setInterval(()=>{r(h=>{const c=100-h;for(let g=0;g<um.length;g+=1){const[v,y]=um[g];if(h<=v)return h+c*y}return h})},AS)),()=>{clearInterval(i.current)}),[l,e]),l?n:t}var RS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let D_;function BS(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const $l=e=>{var t;const{prefixCls:n,spinning:r=!0,delay:i=0,className:l,rootClassName:h,size:c="default",tip:g,wrapperClassName:v,style:y,children:w,fullscreen:k=!1,indicator:x,percent:N}=e,I=RS(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:O,direction:T,className:F,style:R,indicator:$}=vs("spin"),G=O("spin",n),[Q,ee,Y]=OS(G),[q,oe]=b.useState(()=>r&&!BS(r,i)),D=TS(q,N);b.useEffect(()=>{if(r){const ue=Y2(i,()=>{oe(!0)});return ue(),()=>{var be;(be=ue?.cancel)===null||be===void 0||be.call(ue)}}oe(!1)},[i,r]);const U=b.useMemo(()=>typeof w<"u"&&!k,[w,k]),te=bt(G,F,{[`${G}-sm`]:c==="small",[`${G}-lg`]:c==="large",[`${G}-spinning`]:q,[`${G}-show-text`]:!!g,[`${G}-rtl`]:T==="rtl"},l,!k&&h,ee,Y),V=bt(`${G}-container`,{[`${G}-blur`]:q}),J=(t=x??$)!==null&&t!==void 0?t:D_,ie=Object.assign(Object.assign({},R),y),le=b.createElement("div",Object.assign({},I,{style:ie,className:te,"aria-live":"polite","aria-busy":q}),b.createElement(LS,{prefixCls:G,indicator:J,percent:D}),g&&(U||k)?b.createElement("div",{className:`${G}-text`},g):null);return Q(U?b.createElement("div",Object.assign({},I,{className:bt(`${G}-nested-loading`,v,ee,Y)}),q&&b.createElement("div",{key:"loading"},le),b.createElement("div",{className:V,key:"container"},w)):k?b.createElement("div",{className:bt(`${G}-fullscreen`,{[`${G}-fullscreen-show`]:q},h,ee,Y)},le):le)};$l.setDefaultIndicator=e=>{D_=e};const xp=Ot.createContext({});xp.Consumer;var $_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const DS=e=>{var{prefixCls:t,className:n,avatar:r,title:i,description:l}=e,h=$_(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:c}=b.useContext(Jr),g=c("list",t),v=bt(`${g}-item-meta`,n),y=Ot.createElement("div",{className:`${g}-item-meta-content`},i&&Ot.createElement("h4",{className:`${g}-item-meta-title`},i),l&&Ot.createElement("div",{className:`${g}-item-meta-description`},l));return Ot.createElement("div",Object.assign({},h,{className:v}),r&&Ot.createElement("div",{className:`${g}-item-meta-avatar`},r),(i||l)&&y)},$S=Ot.forwardRef((e,t)=>{const{prefixCls:n,children:r,actions:i,extra:l,styles:h,className:c,classNames:g,colStyle:v}=e,y=$_(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:w,itemLayout:k}=b.useContext(xp),{getPrefixCls:x,list:N}=b.useContext(Jr),I=ee=>{var Y,q;return bt((q=(Y=N?.item)===null||Y===void 0?void 0:Y.classNames)===null||q===void 0?void 0:q[ee],g?.[ee])},O=ee=>{var Y,q;return Object.assign(Object.assign({},(q=(Y=N?.item)===null||Y===void 0?void 0:Y.styles)===null||q===void 0?void 0:q[ee]),h?.[ee])},T=()=>{let ee=!1;return b.Children.forEach(r,Y=>{typeof Y=="string"&&(ee=!0)}),ee&&b.Children.count(r)>1},F=()=>k==="vertical"?!!l:!T(),R=x("list",n),$=i&&i.length>0&&Ot.createElement("ul",{className:bt(`${R}-item-action`,I("actions")),key:"actions",style:O("actions")},i.map((ee,Y)=>Ot.createElement("li",{key:`${R}-item-action-${Y}`},ee,Y!==i.length-1&&Ot.createElement("em",{className:`${R}-item-action-split`})))),G=w?"div":"li",Q=Ot.createElement(G,Object.assign({},y,w?{}:{ref:t},{className:bt(`${R}-item`,{[`${R}-item-no-flex`]:!F()},c)}),k==="vertical"&&l?[Ot.createElement("div",{className:`${R}-item-main`,key:"content"},r,$),Ot.createElement("div",{className:bt(`${R}-item-extra`,I("extra")),key:"extra",style:O("extra")},l)]:[r,$,Ls(l,{key:"extra"})]);return w?Ot.createElement(gs,{ref:t,flex:1,style:v},Q):Q}),F_=$S;F_.Meta=DS;const FS=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:l,itemPaddingLG:h,marginLG:c,borderRadiusLG:g}=e;return{[t]:{border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:g,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${Qe(i)} ${Qe(c)}`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:l}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:h}}}},jS=e=>{const{componentCls:t,screenSM:n,screenMD:r,marginLG:i,marginSM:l,margin:h}=e;return{[`@media screen and (max-width:${r}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:l}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${Qe(h)}`}}}}}},zS=e=>{const{componentCls:t,antCls:n,controlHeight:r,minHeight:i,paddingSM:l,marginLG:h,padding:c,itemPadding:g,colorPrimary:v,itemPaddingSM:y,itemPaddingLG:w,paddingXS:k,margin:x,colorText:N,colorTextDescription:I,motionDurationSlow:O,lineWidth:T,headerBg:F,footerBg:R,emptyTextPadding:$,metaMarginBottom:G,avatarMarginRight:Q,titleMarginBottom:ee,descriptionFontSize:Y}=e;return{[t]:Object.assign(Object.assign({},Pi(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:F},[`${t}-footer`]:{background:R},[`${t}-header, ${t}-footer`]:{paddingBlock:l},[`${t}-pagination`]:{marginBlockStart:h,[`${n}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:i,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g,color:N,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:Q},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:N},[`${t}-item-meta-title`]:{margin:`0 0 ${Qe(e.marginXXS)} 0`,color:N,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:N,transition:`all ${O}`,"&:hover":{color:v}}},[`${t}-item-meta-description`]:{color:I,fontSize:Y,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${Qe(k)}`,color:I,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:T,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${Qe(c)} 0`,color:I,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:$,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:x,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:h},[`${t}-item-meta`]:{marginBlockEnd:G,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:ee,color:N,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:c,marginInlineStart:"auto","> li":{padding:`0 ${Qe(c)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:w},[`${t}-sm ${t}-item`]:{padding:y},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},HS=e=>({contentWidth:220,itemPadding:`${Qe(e.paddingContentVertical)} 0`,itemPaddingSM:`${Qe(e.paddingContentVerticalSM)} ${Qe(e.paddingContentHorizontal)}`,itemPaddingLG:`${Qe(e.paddingContentVerticalLG)} ${Qe(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),qS=zi("List",e=>{const t=ba(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[zS(t),FS(t),jS(t)]},HS);var US=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function GS(e,t){const{pagination:n=!1,prefixCls:r,bordered:i=!1,split:l=!0,className:h,rootClassName:c,style:g,children:v,itemLayout:y,loadMore:w,grid:k,dataSource:x=[],size:N,header:I,footer:O,loading:T=!1,rowKey:F,renderItem:R,locale:$}=e,G=US(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),Q=n&&typeof n=="object"?n:{},[ee,Y]=b.useState(Q.defaultCurrent||1),[q,oe]=b.useState(Q.defaultPageSize||10),{getPrefixCls:D,direction:U,className:te,style:V}=vs("list"),{renderEmpty:J}=b.useContext(Jr),ie={current:1,total:0,position:"bottom"},le=mt=>(wt,Et)=>{var Zt;Y(wt),oe(Et),n&&((Zt=n?.[mt])===null||Zt===void 0||Zt.call(n,wt,Et))},ue=le("onChange"),be=le("onShowSizeChange"),Le=(mt,wt)=>{if(!R)return null;let Et;return typeof F=="function"?Et=F(mt):F?Et=mt[F]:Et=mt.key,Et||(Et=`list-item-${wt}`),b.createElement(b.Fragment,{key:Et},R(mt,wt))},Re=!!(w||n||O),ne=D("list",r),[ce,me,we]=qS(ne);let ke=T;typeof ke=="boolean"&&(ke={spinning:ke});const Be=!!ke?.spinning,he=ul(N);let qe="";switch(he){case"large":qe="lg";break;case"small":qe="sm";break}const We=bt(ne,{[`${ne}-vertical`]:y==="vertical",[`${ne}-${qe}`]:qe,[`${ne}-split`]:l,[`${ne}-bordered`]:i,[`${ne}-loading`]:Be,[`${ne}-grid`]:!!k,[`${ne}-something-after-last-item`]:Re,[`${ne}-rtl`]:U==="rtl"},te,h,c,me,we),Fe=rc(ie,{total:x.length,current:ee,pageSize:q},n||{}),de=Math.ceil(Fe.total/Fe.pageSize);Fe.current=Math.min(Fe.current,de);const it=n&&b.createElement("div",{className:bt(`${ne}-pagination`)},b.createElement(T_,Object.assign({align:"end"},Fe,{onChange:ue,onShowSizeChange:be})));let ft=En(x);n&&x.length>(Fe.current-1)*Fe.pageSize&&(ft=En(x).splice((Fe.current-1)*Fe.pageSize,Fe.pageSize));const fe=Object.keys(k||{}).some(mt=>["xs","sm","md","lg","xl","xxl"].includes(mt)),tt=Th(fe),kt=b.useMemo(()=>{for(let mt=0;mt<gu.length;mt+=1){const wt=gu[mt];if(tt[wt])return wt}},[tt]),At=b.useMemo(()=>{if(!k)return;const mt=kt&&k[kt]?k[kt]:k.column;if(mt)return{width:`${100/mt}%`,maxWidth:`${100/mt}%`}},[JSON.stringify(k),kt]);let Xe=Be&&b.createElement("div",{style:{minHeight:53}});if(ft.length>0){const mt=ft.map(Le);Xe=k?b.createElement(ku,{gutter:k.gutter},b.Children.map(mt,wt=>b.createElement("div",{key:wt?.key,style:At},wt))):b.createElement("ul",{className:`${ne}-items`},mt)}else!v&&!Be&&(Xe=b.createElement("div",{className:`${ne}-empty-text`},$?.emptyText||J?.("List")||b.createElement(Zv,{componentName:"List"})));const Xt=Fe.position,nt=b.useMemo(()=>({grid:k,itemLayout:y}),[JSON.stringify(k),y]);return ce(b.createElement(xp.Provider,{value:nt},b.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},V),g),className:We},G),(Xt==="top"||Xt==="both")&&it,I&&b.createElement("div",{className:`${ne}-header`},I),b.createElement($l,Object.assign({},ke),Xe,v),O&&b.createElement("div",{className:`${ne}-footer`},O),w||(Xt==="bottom"||Xt==="both")&&it)))}const VS=b.forwardRef(GS),ic=VS;ic.Item=F_;const WS=(e,t=!1)=>t&&e==null?[]:Array.isArray(e)?e:[e];var KS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const XS=e=>{const{prefixCls:t,className:n,closeIcon:r,closable:i,type:l,title:h,children:c,footer:g}=e,v=KS(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:y}=b.useContext(Jr),w=y(),k=t||y("modal"),x=Xo(w),[N,I,O]=Oy(k,x),T=`${k}-confirm`;let F={};return l?F={closable:i??!1,title:"",footer:"",children:b.createElement(Ty,Object.assign({},e,{prefixCls:k,confirmPrefixCls:T,rootPrefixCls:w,content:c}))}:F={closable:i??!0,title:h,footer:g!==null&&b.createElement(Ny,Object.assign({},e)),children:c},N(b.createElement(wy,Object.assign({prefixCls:k,className:bt(I,`${k}-pure-panel`,l&&T,l&&`${T}-${l}`,n,O,x)},v,{closeIcon:Ly(k,r),closable:i},F)))},ZS=Vx(XS);function j_(e){return fc($y(e))}const is=Ay;is.useModal=eC;is.info=function(t){return fc(Fy(t))};is.success=function(t){return fc(jy(t))};is.error=function(t){return fc(zy(t))};is.warning=j_;is.warn=j_;is.confirm=function(t){return fc(Hy(t))};is.destroyAll=function(){for(;Sl.length;){const t=Sl.pop();t&&t()}};is.config=Xw;is._InternalPanelDoNotUseOrYouWillBeFired=ZS;var YS=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],z_=b.forwardRef(function(e,t){var n,r=e.prefixCls,i=r===void 0?"rc-switch":r,l=e.className,h=e.checked,c=e.defaultChecked,g=e.disabled,v=e.loadingIcon,y=e.checkedChildren,w=e.unCheckedChildren,k=e.onClick,x=e.onChange,N=e.onKeyDown,I=$a(e,YS),O=ps(!1,{value:h,defaultValue:c}),T=On(O,2),F=T[0],R=T[1];function $(Y,q){var oe=F;return g||(oe=Y,R(oe),x?.(oe,q)),oe}function G(Y){Y.which===_r.LEFT?$(!1,Y):Y.which===_r.RIGHT&&$(!0,Y),N?.(Y)}function Q(Y){var q=$(!F,Y);k?.(q,Y)}var ee=bt(i,l,(n={},Pt(n,"".concat(i,"-checked"),F),Pt(n,"".concat(i,"-disabled"),g),n));return b.createElement("button",bn({},I,{type:"button",role:"switch","aria-checked":F,disabled:g,className:ee,ref:t,onKeyDown:G,onClick:Q}),v,b.createElement("span",{className:"".concat(i,"-inner")},b.createElement("span",{className:"".concat(i,"-inner-checked")},y),b.createElement("span",{className:"".concat(i,"-inner-unchecked")},w)))});z_.displayName="Switch";const JS=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:i,innerMinMarginSM:l,innerMaxMarginSM:h,handleSizeSM:c,calc:g}=e,v=`${t}-inner`,y=Qe(g(c).add(g(r).mul(2)).equal()),w=Qe(g(h).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:i,height:n,lineHeight:Qe(n),[`${t}-inner`]:{paddingInlineStart:h,paddingInlineEnd:l,[`${v}-checked, ${v}-unchecked`]:{minHeight:n},[`${v}-checked`]:{marginInlineStart:`calc(-100% + ${y} - ${w})`,marginInlineEnd:`calc(100% - ${y} + ${w})`},[`${v}-unchecked`]:{marginTop:g(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:c,height:c},[`${t}-loading-icon`]:{top:g(g(c).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:l,paddingInlineEnd:h,[`${v}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${v}-unchecked`]:{marginInlineStart:`calc(100% - ${y} + ${w})`,marginInlineEnd:`calc(-100% + ${y} - ${w})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${Qe(g(c).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${v}`]:{[`${v}-unchecked`]:{marginInlineStart:g(e.marginXXS).div(2).equal(),marginInlineEnd:g(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${v}`]:{[`${v}-checked`]:{marginInlineStart:g(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:g(e.marginXXS).div(2).equal()}}}}}}},QS=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},e3=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:i,handleSize:l,calc:h}=e,c=`${t}-handle`;return{[t]:{[c]:{position:"absolute",top:n,insetInlineStart:n,width:l,height:l,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:h(l).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${c}`]:{insetInlineStart:`calc(100% - ${Qe(h(l).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${c}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${c}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},t3=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:i,innerMaxMargin:l,handleSize:h,calc:c}=e,g=`${t}-inner`,v=Qe(c(h).add(c(r).mul(2)).equal()),y=Qe(c(l).mul(2).equal());return{[t]:{[g]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:l,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${g}-checked, ${g}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${g}-checked`]:{marginInlineStart:`calc(-100% + ${v} - ${y})`,marginInlineEnd:`calc(100% - ${v} + ${y})`},[`${g}-unchecked`]:{marginTop:c(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${g}`]:{paddingInlineStart:i,paddingInlineEnd:l,[`${g}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${g}-unchecked`]:{marginInlineStart:`calc(100% - ${v} + ${y})`,marginInlineEnd:`calc(-100% + ${v} - ${y})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${g}`]:{[`${g}-unchecked`]:{marginInlineStart:c(r).mul(2).equal(),marginInlineEnd:c(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${g}`]:{[`${g}-checked`]:{marginInlineStart:c(r).mul(-1).mul(2).equal(),marginInlineEnd:c(r).mul(2).equal()}}}}}},n3=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Pi(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:Qe(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),mu(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},r3=e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:i}=e,l=t*n,h=r/2,c=2,g=l-c*2,v=h-c*2;return{trackHeight:l,trackHeightSM:h,trackMinWidth:g*2+c*4,trackMinWidthSM:v*2+c*2,trackPadding:c,handleBg:i,handleSize:g,handleSizeSM:v,handleShadow:`0 2px 4px 0 ${new Oo("#00230b").setA(.2).toRgbString()}`,innerMinMargin:g/2,innerMaxMargin:g+c+c*2,innerMinMarginSM:v/2,innerMaxMarginSM:v+c+c*2}},i3=zi("Switch",e=>{const t=ba(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[n3(t),t3(t),e3(t),QS(t),JS(t)]},r3);var a3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const o3=b.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:i,loading:l,className:h,rootClassName:c,style:g,checked:v,value:y,defaultChecked:w,defaultValue:k,onChange:x}=e,N=a3(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[I,O]=ps(!1,{value:v??y,defaultValue:w??k}),{getPrefixCls:T,direction:F,switch:R}=b.useContext(Jr),$=b.useContext(Eu),G=(i??$)||l,Q=T("switch",n),ee=b.createElement("div",{className:`${Q}-handle`},l&&b.createElement(qh,{className:`${Q}-loading-icon`})),[Y,q,oe]=i3(Q),D=ul(r),U=bt(R?.className,{[`${Q}-small`]:D==="small",[`${Q}-loading`]:l,[`${Q}-rtl`]:F==="rtl"},h,c,q,oe),te=Object.assign(Object.assign({},R?.style),g),V=(...J)=>{O(J[0]),x?.apply(void 0,J)};return Y(b.createElement(zh,{component:"Switch",disabled:G},b.createElement(z_,Object.assign({},N,{checked:I,onChange:V,prefixCls:Q,className:U,style:te,disabled:G,ref:t,loadingIcon:ee}))))}),H_=o3;H_.__ANT_SWITCH=!0;var tl={},gc="rc-table-internal-hook";function wp(e){var t=b.createContext(void 0),n=function(i){var l=i.value,h=i.children,c=b.useRef(l);c.current=l;var g=b.useState(function(){return{getValue:function(){return c.current},listeners:new Set}}),v=On(g,1),y=v[0];return na(function(){hy.unstable_batchedUpdates(function(){y.listeners.forEach(function(w){w(l)})})},[l]),b.createElement(t.Provider,{value:y},h)};return{Context:t,Provider:n,defaultValue:e}}function Da(e,t){var n=Ja(typeof t=="function"?t:function(w){if(t===void 0)return w;if(!Array.isArray(t))return w[t];var k={};return t.forEach(function(x){k[x]=w[x]}),k}),r=b.useContext(e?.Context),i=r||{},l=i.listeners,h=i.getValue,c=b.useRef();c.current=n(r?h():e?.defaultValue);var g=b.useState({}),v=On(g,2),y=v[1];return na(function(){if(!r)return;function w(k){var x=n(k);vu(c.current,x,!0)||y({})}return l.add(w),function(){l.delete(w)}},[r]),c.current}function s3(){var e=b.createContext(null);function t(){return b.useContext(e)}function n(i,l){var h=mf(i),c=function(v,y){var w=h?{ref:y}:{},k=b.useRef(0),x=b.useRef(v),N=t();return N!==null?b.createElement(i,bn({},v,w)):((!l||l(x.current,v))&&(k.current+=1),x.current=v,b.createElement(e.Provider,{value:k.current},b.createElement(i,bn({},v,w))))};return h?b.forwardRef(c):c}function r(i,l){var h=mf(i),c=function(v,y){var w=h?{ref:y}:{};return t(),b.createElement(i,bn({},v,w))};return h?b.memo(b.forwardRef(c),l):b.memo(c,l)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:t}}var Cp=s3(),q_=Cp.makeImmutable,Lu=Cp.responseImmutable,l3=Cp.useImmutableMark,mo=wp(),U_=b.createContext({renderWithProps:!1}),u3="RC_TABLE_KEY";function c3(e){return e==null?[]:Array.isArray(e)?e:[e]}function Zh(e){var t=[],n={};return e.forEach(function(r){for(var i=r||{},l=i.key,h=i.dataIndex,c=l||c3(h).join("-")||u3;n[c];)c="".concat(c,"_next");n[c]=!0,t.push(c)}),t}function Sf(e){return e!=null}function h3(e){return typeof e=="number"&&!Number.isNaN(e)}function d3(e){return e&&Lr(e)==="object"&&!Array.isArray(e)&&!b.isValidElement(e)}function f3(e,t,n,r,i,l){var h=b.useContext(U_),c=l3(),g=gy(function(){if(Sf(r))return[r];var v=t==null||t===""?[]:Array.isArray(t)?t:[t],y=tc(e,v),w=y,k=void 0;if(i){var x=i(y,e,n);d3(x)?(w=x.children,k=x.props,h.renderWithProps=!0):w=x}return[w,k]},[c,e,r,t,i,n],function(v,y){if(l){var w=On(v,2),k=w[1],x=On(y,2),N=x[1];return l(N,k)}return h.renderWithProps?!0:!vu(v,y,!0)});return g}function p3(e,t,n,r){var i=e+t-1;return e<=r&&i>=n}function g3(e,t){return Da(mo,function(n){var r=p3(e,t||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var m3=function(t){var n=t.ellipsis,r=t.rowType,i=t.children,l,h=n===!0?{showTitle:!0}:n;return h&&(h.showTitle||r==="header")&&(typeof i=="string"||typeof i=="number"?l=i.toString():b.isValidElement(i)&&typeof i.props.children=="string"&&(l=i.props.children)),l};function v3(e){var t,n,r,i,l,h,c,g,v=e.component,y=e.children,w=e.ellipsis,k=e.scope,x=e.prefixCls,N=e.className,I=e.align,O=e.record,T=e.render,F=e.dataIndex,R=e.renderIndex,$=e.shouldCellUpdate,G=e.index,Q=e.rowType,ee=e.colSpan,Y=e.rowSpan,q=e.fixLeft,oe=e.fixRight,D=e.firstFixLeft,U=e.lastFixLeft,te=e.firstFixRight,V=e.lastFixRight,J=e.appendNode,ie=e.additionalProps,le=ie===void 0?{}:ie,ue=e.isSticky,be="".concat(x,"-cell"),Le=Da(mo,["supportSticky","allColumnsFixedLeft","rowHoverable"]),Re=Le.supportSticky,ne=Le.allColumnsFixedLeft,ce=Le.rowHoverable,me=f3(O,F,R,y,T,$),we=On(me,2),ke=we[0],Be=we[1],he={},qe=typeof q=="number"&&Re,We=typeof oe=="number"&&Re;qe&&(he.position="sticky",he.left=q),We&&(he.position="sticky",he.right=oe);var Fe=(t=(n=(r=Be?.colSpan)!==null&&r!==void 0?r:le.colSpan)!==null&&n!==void 0?n:ee)!==null&&t!==void 0?t:1,de=(i=(l=(h=Be?.rowSpan)!==null&&h!==void 0?h:le.rowSpan)!==null&&l!==void 0?l:Y)!==null&&i!==void 0?i:1,it=g3(G,de),ft=On(it,2),fe=ft[0],tt=ft[1],kt=Ja(function(Et){var Zt;O&&tt(G,G+de-1),le==null||(Zt=le.onMouseEnter)===null||Zt===void 0||Zt.call(le,Et)}),At=Ja(function(Et){var Zt;O&&tt(-1,-1),le==null||(Zt=le.onMouseLeave)===null||Zt===void 0||Zt.call(le,Et)});if(Fe===0||de===0)return null;var Xe=(c=le.title)!==null&&c!==void 0?c:m3({rowType:Q,ellipsis:w,children:ke}),Xt=bt(be,N,(g={},Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(g,"".concat(be,"-fix-left"),qe&&Re),"".concat(be,"-fix-left-first"),D&&Re),"".concat(be,"-fix-left-last"),U&&Re),"".concat(be,"-fix-left-all"),U&&ne&&Re),"".concat(be,"-fix-right"),We&&Re),"".concat(be,"-fix-right-first"),te&&Re),"".concat(be,"-fix-right-last"),V&&Re),"".concat(be,"-ellipsis"),w),"".concat(be,"-with-append"),J),"".concat(be,"-fix-sticky"),(qe||We)&&ue&&Re),Pt(g,"".concat(be,"-row-hover"),!Be&&fe)),le.className,Be?.className),nt={};I&&(nt.textAlign=I);var mt=Wt(Wt(Wt(Wt({},Be?.style),he),nt),le.style),wt=ke;return Lr(wt)==="object"&&!Array.isArray(wt)&&!b.isValidElement(wt)&&(wt=null),w&&(U||te)&&(wt=b.createElement("span",{className:"".concat(be,"-content")},wt)),b.createElement(v,bn({},Be,le,{className:Xt,style:mt,title:Xe,scope:k,onMouseEnter:ce?kt:void 0,onMouseLeave:ce?At:void 0,colSpan:Fe!==1?Fe:null,rowSpan:de!==1?de:null}),J,wt)}const Nu=b.memo(v3);function Sp(e,t,n,r,i){var l=n[e]||{},h=n[t]||{},c,g;l.fixed==="left"?c=r.left[i==="rtl"?t:e]:h.fixed==="right"&&(g=r.right[i==="rtl"?e:t]);var v=!1,y=!1,w=!1,k=!1,x=n[t+1],N=n[e-1],I=x&&!x.fixed||N&&!N.fixed||n.every(function($){return $.fixed==="left"});if(i==="rtl"){if(c!==void 0){var O=N&&N.fixed==="left";k=!O&&I}else if(g!==void 0){var T=x&&x.fixed==="right";w=!T&&I}}else if(c!==void 0){var F=x&&x.fixed==="left";v=!F&&I}else if(g!==void 0){var R=N&&N.fixed==="right";y=!R&&I}return{fixLeft:c,fixRight:g,lastFixLeft:v,firstFixRight:y,lastFixRight:w,firstFixLeft:k,isSticky:r.isSticky}}var G_=b.createContext({});function y3(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,l=i===void 0?1:i,h=e.rowSpan,c=e.align,g=Da(mo,["prefixCls","direction"]),v=g.prefixCls,y=g.direction,w=b.useContext(G_),k=w.scrollColumnIndex,x=w.stickyOffsets,N=w.flattenColumns,I=n+l-1,O=I+1===k?l+1:l,T=Sp(n,n+O-1,N,x,y);return b.createElement(Nu,bn({className:t,index:n,component:"td",prefixCls:v,record:null,dataIndex:null,align:c,colSpan:O,rowSpan:h,render:function(){return r}},T))}var _3=["children"];function b3(e){var t=e.children,n=$a(e,_3);return b.createElement("tr",n,t)}function Yh(e){var t=e.children;return t}Yh.Row=b3;Yh.Cell=y3;function x3(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=Da(mo,"prefixCls"),l=r.length-1,h=r[l],c=b.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:h!=null&&h.scrollbar?l:null}},[h,r,l,n]);return b.createElement(G_.Provider,{value:c},b.createElement("tfoot",{className:"".concat(i,"-summary")},t))}const Tc=Lu(x3);var V_=Yh;function w3(e){return null}function C3(e){return null}function W_(e,t,n,r,i,l,h){var c=l(t,h);e.push({record:t,indent:n,index:h,rowKey:c});var g=i?.has(c);if(t&&Array.isArray(t[r])&&g)for(var v=0;v<t[r].length;v+=1)W_(e,t[r][v],n+1,r,i,l,v)}function K_(e,t,n,r){var i=b.useMemo(function(){if(n!=null&&n.size){for(var l=[],h=0;h<e?.length;h+=1){var c=e[h];W_(l,c,0,t,n,r,h)}return l}return e?.map(function(g,v){return{record:g,indent:0,index:v,rowKey:r(g,v)}})},[e,t,n,r]);return i}function X_(e,t,n,r){var i=Da(mo,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),l=i.flattenColumns,h=i.expandableType,c=i.expandedKeys,g=i.childrenColumnName,v=i.onTriggerExpand,y=i.rowExpandable,w=i.onRow,k=i.expandRowByClick,x=i.rowClassName,N=h==="nest",I=h==="row"&&(!y||y(e)),O=I||N,T=c&&c.has(t),F=g&&e&&e[g],R=Ja(v),$=w?.(e,n),G=$?.onClick,Q=function(oe){k&&O&&v(e,oe);for(var D=arguments.length,U=new Array(D>1?D-1:0),te=1;te<D;te++)U[te-1]=arguments[te];G?.apply(void 0,[oe].concat(U))},ee;typeof x=="string"?ee=x:typeof x=="function"&&(ee=x(e,n,r));var Y=Zh(l);return Wt(Wt({},i),{},{columnsKey:Y,nestExpandable:N,expanded:T,hasNestChildren:F,record:e,onTriggerExpand:R,rowSupportExpand:I,expandable:O,rowProps:Wt(Wt({},$),{},{className:bt(ee,$?.className),onClick:Q})})}function Z_(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,l=e.className,h=e.expanded,c=e.colSpan,g=e.isEmpty,v=e.stickyOffset,y=v===void 0?0:v,w=Da(mo,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),k=w.scrollbarSize,x=w.fixHeader,N=w.fixColumn,I=w.componentWidth,O=w.horizonScroll,T=n;return(g?O&&I:N)&&(T=b.createElement("div",{style:{width:I-y-(x&&!g?k:0),position:"sticky",left:y,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},T)),b.createElement(r,{className:l,style:{display:h?null:"none"}},b.createElement(Nu,{component:i,prefixCls:t,colSpan:c},T))}function S3(e){var t=e.prefixCls,n=e.record,r=e.onExpand,i=e.expanded,l=e.expandable,h="".concat(t,"-row-expand-icon");if(!l)return b.createElement("span",{className:bt(h,"".concat(t,"-row-spaced"))});var c=function(v){r(n,v),v.stopPropagation()};return b.createElement("span",{className:bt(h,Pt(Pt({},"".concat(t,"-row-expanded"),i),"".concat(t,"-row-collapsed"),!i)),onClick:c})}function E3(e,t,n){var r=[];function i(l){(l||[]).forEach(function(h,c){r.push(t(h,c)),i(h[n])})}return i(e),r}function Y_(e,t,n,r){return typeof e=="string"?e:typeof e=="function"?e(t,n,r):""}function J_(e,t,n,r,i){var l,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,g=e.record,v=e.prefixCls,y=e.columnsKey,w=e.fixedInfoList,k=e.expandIconColumnIndex,x=e.nestExpandable,N=e.indentSize,I=e.expandIcon,O=e.expanded,T=e.hasNestChildren,F=e.onTriggerExpand,R=e.expandable,$=e.expandedKeys,G=y[n],Q=w[n],ee;n===(k||0)&&x&&(ee=b.createElement(b.Fragment,null,b.createElement("span",{style:{paddingLeft:"".concat(N*r,"px")},className:"".concat(v,"-row-indent indent-level-").concat(r)}),I({prefixCls:v,expanded:O,expandable:T,record:g,onExpand:F})));var Y=((l=t.onCell)===null||l===void 0?void 0:l.call(t,g,i))||{};if(c){var q=Y.rowSpan,oe=q===void 0?1:q;if(R&&oe&&n<c){for(var D=oe,U=i;U<i+oe;U+=1){var te=h[U];$.has(te)&&(D+=1)}Y.rowSpan=D}}return{key:G,fixedInfo:Q,appendCellNode:ee,additionalCellProps:Y}}function k3(e){var t=e.className,n=e.style,r=e.record,i=e.index,l=e.renderIndex,h=e.rowKey,c=e.rowKeys,g=e.indent,v=g===void 0?0:g,y=e.rowComponent,w=e.cellComponent,k=e.scopeCellComponent,x=e.expandedRowInfo,N=X_(r,h,i,v),I=N.prefixCls,O=N.flattenColumns,T=N.expandedRowClassName,F=N.expandedRowRender,R=N.rowProps,$=N.expanded,G=N.rowSupportExpand,Q=b.useRef(!1);Q.current||(Q.current=$);var ee=Y_(T,r,i,v),Y=b.createElement(y,bn({},R,{"data-row-key":h,className:bt(t,"".concat(I,"-row"),"".concat(I,"-row-level-").concat(v),R?.className,Pt({},ee,v>=1)),style:Wt(Wt({},n),R?.style)}),O.map(function(D,U){var te=D.render,V=D.dataIndex,J=D.className,ie=J_(N,D,U,v,i,c,x?.offset),le=ie.key,ue=ie.fixedInfo,be=ie.appendCellNode,Le=ie.additionalCellProps;return b.createElement(Nu,bn({className:J,ellipsis:D.ellipsis,align:D.align,scope:D.rowScope,component:D.rowScope?k:w,prefixCls:I,key:le,record:r,index:i,renderIndex:l,dataIndex:V,render:te,shouldCellUpdate:D.shouldCellUpdate},ue,{appendNode:be,additionalProps:Le}))})),q;if(G&&(Q.current||$)){var oe=F(r,i,v+1,$);q=b.createElement(Z_,{expanded:$,className:bt("".concat(I,"-expanded-row"),"".concat(I,"-expanded-row-level-").concat(v+1),ee),prefixCls:I,component:y,cellComponent:w,colSpan:x?x.colSpan:O.length,stickyOffset:x?.sticky,isEmpty:!1},oe)}return b.createElement(b.Fragment,null,Y,q)}const L3=Lu(k3);function N3(e){var t=e.columnKey,n=e.onColumnResize,r=e.column,i=b.useRef();return na(function(){i.current&&n(t,i.current.offsetWidth)},[]),b.createElement(Uh,{data:t},b.createElement("td",{ref:i,style:{paddingTop:0,paddingBottom:0,borderTop:0,borderBottom:0,height:0}},b.createElement("div",{style:{height:0,overflow:"hidden",fontWeight:"bold"}},r?.title||"")))}function M3(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,i=e.columns,l=b.useRef(null),h=Da(mo,["measureRowRender"]),c=h.measureRowRender,g=b.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0},ref:l},b.createElement(Uh.Collection,{onBatchResize:function(y){fy(l.current)&&y.forEach(function(w){var k=w.data,x=w.size;r(k,x.offsetWidth)})}},n.map(function(v){var y=i.find(function(w){return w.key===v});return b.createElement(N3,{key:v,columnKey:v,onColumnResize:r,column:y})})));return c?c(g):g}function P3(e){var t=e.data,n=e.measureColumnWidth,r=Da(mo,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),i=r.prefixCls,l=r.getComponent,h=r.onColumnResize,c=r.flattenColumns,g=r.getRowKey,v=r.expandedKeys,y=r.childrenColumnName,w=r.emptyNode,k=r.expandedRowOffset,x=k===void 0?0:k,N=r.colWidths,I=K_(t,y,v,g),O=b.useMemo(function(){return I.map(function(q){return q.rowKey})},[I]),T=b.useRef({renderWithProps:!1}),F=b.useMemo(function(){for(var q=c.length-x,oe=0,D=0;D<x;D+=1)oe+=N[D]||0;return{offset:x,colSpan:q,sticky:oe}},[c.length,x,N]),R=l(["body","wrapper"],"tbody"),$=l(["body","row"],"tr"),G=l(["body","cell"],"td"),Q=l(["body","cell"],"th"),ee;t.length?ee=I.map(function(q,oe){var D=q.record,U=q.indent,te=q.index,V=q.rowKey;return b.createElement(L3,{key:V,rowKey:V,rowKeys:O,record:D,index:oe,renderIndex:te,rowComponent:$,cellComponent:G,scopeCellComponent:Q,indent:U,expandedRowInfo:F})}):ee=b.createElement(Z_,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:$,cellComponent:G,colSpan:c.length,isEmpty:!0},w);var Y=Zh(c);return b.createElement(U_.Provider,{value:T.current},b.createElement(R,{className:"".concat(i,"-tbody")},n&&b.createElement(M3,{prefixCls:i,columnsKey:Y,onColumnResize:h,columns:c}),ee))}const I3=Lu(P3);var O3=["expandable"],Zu="RC_TABLE_INTERNAL_COL_DEFINE";function A3(e){var t=e.expandable,n=$a(e,O3),r;return"expandable"in e?r=Wt(Wt({},n),t):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var T3=["columnType"];function Q_(e){for(var t=e.colWidths,n=e.columns,r=e.columCount,i=Da(mo,["tableLayout"]),l=i.tableLayout,h=[],c=r||n.length,g=!1,v=c-1;v>=0;v-=1){var y=t[v],w=n&&n[v],k=void 0,x=void 0;if(w&&(k=w[Zu],l==="auto"&&(x=w.minWidth)),y||x||k||g){var N=k||{};N.columnType;var I=$a(N,T3);h.unshift(b.createElement("col",bn({key:v,style:{width:y,minWidth:x}},I))),g=!0}}return h.length>0?b.createElement("colgroup",null,h):null}var R3=["className","noData","columns","flattenColumns","colWidths","colGroup","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","scrollX","tableLayout","onScroll","children"];function B3(e,t){return b.useMemo(function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(i!==void 0)n[r]=i;else return null}return n},[e.join("_"),t])}var D3=b.forwardRef(function(e,t){var n=e.className,r=e.noData,i=e.columns,l=e.flattenColumns,h=e.colWidths,c=e.colGroup,g=e.columCount,v=e.stickyOffsets,y=e.direction,w=e.fixHeader,k=e.stickyTopOffset,x=e.stickyBottomOffset,N=e.stickyClassName,I=e.scrollX,O=e.tableLayout,T=O===void 0?"fixed":O,F=e.onScroll,R=e.children,$=$a(e,R3),G=Da(mo,["prefixCls","scrollbarSize","isSticky","getComponent"]),Q=G.prefixCls,ee=G.scrollbarSize,Y=G.isSticky,q=G.getComponent,oe=q(["header","table"],"table"),D=Y&&!w?0:ee,U=b.useRef(null),te=b.useCallback(function(Re){gg(t,Re),gg(U,Re)},[]);b.useEffect(function(){function Re(ce){var me=ce,we=me.currentTarget,ke=me.deltaX;ke&&(F({currentTarget:we,scrollLeft:we.scrollLeft+ke}),ce.preventDefault())}var ne=U.current;return ne?.addEventListener("wheel",Re,{passive:!1}),function(){ne?.removeEventListener("wheel",Re)}},[]);var V=l[l.length-1],J={fixed:V?V.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(Q,"-cell-scrollbar")}}},ie=b.useMemo(function(){return D?[].concat(En(i),[J]):i},[D,i]),le=b.useMemo(function(){return D?[].concat(En(l),[J]):l},[D,l]),ue=b.useMemo(function(){var Re=v.right,ne=v.left;return Wt(Wt({},v),{},{left:y==="rtl"?[].concat(En(ne.map(function(ce){return ce+D})),[0]):ne,right:y==="rtl"?Re:[].concat(En(Re.map(function(ce){return ce+D})),[0]),isSticky:Y})},[D,v,Y]),be=B3(h,g),Le=b.useMemo(function(){var Re=!be||!be.length||be.every(function(ne){return!ne});return r||Re},[r,be]);return b.createElement("div",{style:Wt({overflow:"hidden"},Y?{top:k,bottom:x}:{}),ref:te,className:bt(n,Pt({},N,!!N))},b.createElement(oe,{style:{tableLayout:T,minWidth:"100%",width:I}},Le?c:b.createElement(Q_,{colWidths:[].concat(En(be),[D]),columCount:g+1,columns:le}),R(Wt(Wt({},$),{},{stickyOffsets:ue,columns:ie,flattenColumns:le}))))});const cm=b.memo(D3);var $3=function(t){var n=t.cells,r=t.stickyOffsets,i=t.flattenColumns,l=t.rowComponent,h=t.cellComponent,c=t.onHeaderRow,g=t.index,v=Da(mo,["prefixCls","direction"]),y=v.prefixCls,w=v.direction,k;c&&(k=c(n.map(function(N){return N.column}),g));var x=Zh(n.map(function(N){return N.column}));return b.createElement(l,k,n.map(function(N,I){var O=N.column,T=Sp(N.colStart,N.colEnd,i,r,w),F;return O&&O.onHeaderCell&&(F=N.column.onHeaderCell(O)),b.createElement(Nu,bn({},N,{scope:O.title?N.colSpan>1?"colgroup":"col":null,ellipsis:O.ellipsis,align:O.align,component:h,prefixCls:y,key:x[I]},T,{additionalProps:F,rowType:"header"}))}))};function F3(e){var t=[];function n(h,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[g]=t[g]||[];var v=c,y=h.filter(Boolean).map(function(w){var k={key:w.key,className:w.className||"",children:w.title,column:w,colStart:v},x=1,N=w.children;return N&&N.length>0&&(x=n(N,v,g+1).reduce(function(I,O){return I+O},0),k.hasSubColumns=!0),"colSpan"in w&&(x=w.colSpan),"rowSpan"in w&&(k.rowSpan=w.rowSpan),k.colSpan=x,k.colEnd=k.colStart+x-1,t[g].push(k),v+=x,x});return y}n(e,0);for(var r=t.length,i=function(c){t[c].forEach(function(g){!("rowSpan"in g)&&!g.hasSubColumns&&(g.rowSpan=r-c)})},l=0;l<r;l+=1)i(l);return t}var j3=function(t){var n=t.stickyOffsets,r=t.columns,i=t.flattenColumns,l=t.onHeaderRow,h=Da(mo,["prefixCls","getComponent"]),c=h.prefixCls,g=h.getComponent,v=b.useMemo(function(){return F3(r)},[r]),y=g(["header","wrapper"],"thead"),w=g(["header","row"],"tr"),k=g(["header","cell"],"th");return b.createElement(y,{className:"".concat(c,"-thead")},v.map(function(x,N){var I=b.createElement($3,{key:N,flattenColumns:i,cells:x,stickyOffsets:n,rowComponent:w,cellComponent:k,onHeaderRow:l,index:N});return I}))};const hm=Lu(j3);function dm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function z3(e,t,n){return b.useMemo(function(){if(t&&t>0){var r=0,i=0;e.forEach(function(k){var x=dm(t,k.width);x?r+=x:i+=1});var l=Math.max(t,n),h=Math.max(l-r,i),c=i,g=h/i,v=0,y=e.map(function(k){var x=Wt({},k),N=dm(t,x.width);if(N)x.width=N;else{var I=Math.floor(g);x.width=c===1?h:I,h-=I,c-=1}return v+=x.width,x});if(v<l){var w=l/v;h=l,y.forEach(function(k,x){var N=Math.floor(k.width*w);k.width=x===y.length-1?h:N,h-=N})}return[y,Math.max(v,l)]}return[e,t]},[e,t,n])}var H3=["children"],q3=["fixed"];function Ep(e){return Rl(e).filter(function(t){return b.isValidElement(t)}).map(function(t){var n=t.key,r=t.props,i=r.children,l=$a(r,H3),h=Wt({key:n},l);return i&&(h.children=Ep(i)),h})}function e1(e){return e.filter(function(t){return t&&Lr(t)==="object"&&!t.hidden}).map(function(t){var n=t.children;return n&&n.length>0?Wt(Wt({},t),{},{children:e1(n)}):t})}function Ef(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(n){return n&&Lr(n)==="object"}).reduce(function(n,r,i){var l=r.fixed,h=l===!0?"left":l,c="".concat(t,"-").concat(i),g=r.children;return g&&g.length>0?[].concat(En(n),En(Ef(g,c).map(function(v){var y;return Wt(Wt({},v),{},{fixed:(y=v.fixed)!==null&&y!==void 0?y:h})}))):[].concat(En(n),[Wt(Wt({key:c},r),{},{fixed:h})])},[])}function U3(e){return e.map(function(t){var n=t.fixed,r=$a(t,q3),i=n;return n==="left"?i="right":n==="right"&&(i="left"),Wt({fixed:i},r)})}function G3(e,t){var n=e.prefixCls,r=e.columns,i=e.children,l=e.expandable,h=e.expandedKeys,c=e.columnTitle,g=e.getRowKey,v=e.onTriggerExpand,y=e.expandIcon,w=e.rowExpandable,k=e.expandIconColumnIndex,x=e.expandedRowOffset,N=x===void 0?0:x,I=e.direction,O=e.expandRowByClick,T=e.columnWidth,F=e.fixed,R=e.scrollWidth,$=e.clientWidth,G=b.useMemo(function(){var V=r||Ep(i)||[];return e1(V.slice())},[r,i]),Q=b.useMemo(function(){if(l){var V=G.slice();if(!V.includes(tl)){var J=k||0,ie=J===0&&F==="right"?G.length:J;ie>=0&&V.splice(ie,0,tl)}var le=V.indexOf(tl);V=V.filter(function(Re,ne){return Re!==tl||ne===le});var ue=G[le],be;F?be=F:be=ue?ue.fixed:null;var Le=Pt(Pt(Pt(Pt(Pt(Pt({},Zu,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",c),"fixed",be),"className","".concat(n,"-row-expand-icon-cell")),"width",T),"render",function(ne,ce,me){var we=g(ce,me),ke=h.has(we),Be=w?w(ce):!0,he=y({prefixCls:n,expanded:ke,expandable:Be,record:ce,onExpand:v});return O?b.createElement("span",{onClick:function(We){return We.stopPropagation()}},he):he});return V.map(function(Re,ne){var ce=Re===tl?Le:Re;return ne<N?Wt(Wt({},ce),{},{fixed:ce.fixed||"left"}):ce})}return G.filter(function(Re){return Re!==tl})},[l,G,g,h,y,I,N]),ee=b.useMemo(function(){var V=Q;return t&&(V=t(V)),V.length||(V=[{render:function(){return null}}]),V},[t,Q,I]),Y=b.useMemo(function(){return I==="rtl"?U3(Ef(ee)):Ef(ee)},[ee,I,R]),q=b.useMemo(function(){for(var V=-1,J=Y.length-1;J>=0;J-=1){var ie=Y[J].fixed;if(ie==="left"||ie===!0){V=J;break}}if(V>=0)for(var le=0;le<=V;le+=1){var ue=Y[le].fixed;if(ue!=="left"&&ue!==!0)return!0}var be=Y.findIndex(function(ne){var ce=ne.fixed;return ce==="right"});if(be>=0)for(var Le=be;Le<Y.length;Le+=1){var Re=Y[Le].fixed;if(Re!=="right")return!0}return!1},[Y]),oe=z3(Y,R,$),D=On(oe,2),U=D[0],te=D[1];return[ee,U,te,q]}function V3(e,t,n){var r=A3(e),i=r.expandIcon,l=r.expandedRowKeys,h=r.defaultExpandedRowKeys,c=r.defaultExpandAllRows,g=r.expandedRowRender,v=r.onExpand,y=r.onExpandedRowsChange,w=r.childrenColumnName,k=i||S3,x=w||"children",N=b.useMemo(function(){return g?"row":e.expandable&&e.internalHooks===gc&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(G){return G&&Lr(G)==="object"&&G[x]})?"nest":!1},[!!g,t]),I=b.useState(function(){return h||(c?E3(t,n,x):[])}),O=On(I,2),T=O[0],F=O[1],R=b.useMemo(function(){return new Set(l||T||[])},[l,T]),$=b.useCallback(function(G){var Q=n(G,t.indexOf(G)),ee,Y=R.has(Q);Y?(R.delete(Q),ee=En(R)):ee=[].concat(En(R),[Q]),F(ee),v&&v(!Y,G),y&&y(ee)},[n,R,t,v,y]);return[r,N,R,k,x,$]}function W3(e,t,n){var r=e.map(function(i,l){return Sp(l,l,e,t,n)});return gy(function(){return r},[r],function(i,l){return!vu(i,l)})}function K3(e){var t=b.useRef(e),n=b.useState({}),r=On(n,2),i=r[1],l=b.useRef(null),h=b.useRef([]);function c(g){h.current.push(g);var v=Promise.resolve();l.current=v,v.then(function(){if(l.current===v){var y=h.current,w=t.current;h.current=[],y.forEach(function(k){t.current=k(t.current)}),l.current=null,w!==t.current&&i({})}})}return b.useEffect(function(){return function(){l.current=null}},[]),[t.current,c]}function X3(e){var t=b.useRef(null),n=b.useRef();function r(){window.clearTimeout(n.current)}function i(h){t.current=h,r(),n.current=window.setTimeout(function(){t.current=null,n.current=void 0},100)}function l(){return t.current}return b.useEffect(function(){return r},[]),[i,l]}function Z3(){var e=b.useState(-1),t=On(e,2),n=t[0],r=t[1],i=b.useState(-1),l=On(i,2),h=l[0],c=l[1],g=b.useCallback(function(v,y){r(v),c(y)},[]);return[n,h,g]}var fm=ip()?window:null;function Y3(e,t){var n=Lr(e)==="object"?e:{},r=n.offsetHeader,i=r===void 0?0:r,l=n.offsetSummary,h=l===void 0?0:l,c=n.offsetScroll,g=c===void 0?0:c,v=n.getContainer,y=v===void 0?function(){return fm}:v,w=y()||fm,k=!!e;return b.useMemo(function(){return{isSticky:k,stickyClassName:k?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:h,offsetScroll:g,container:w}},[k,g,i,h,t,w])}function J3(e,t,n){var r=b.useMemo(function(){var i=t.length,l=function(v,y,w){for(var k=[],x=0,N=v;N!==y;N+=w)k.push(x),t[N].fixed&&(x+=e[N]||0);return k},h=l(0,i,1),c=l(i-1,-1,-1).reverse();return n==="rtl"?{left:c,right:h}:{left:h,right:c}},[e,t,n]);return r}function pm(e){var t=e.className,n=e.children;return b.createElement("div",{className:t},n)}function gm(e){var t=Hh(e),n=t.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var Q3=function(t,n){var r,i,l=t.scrollBodyRef,h=t.onScroll,c=t.offsetScroll,g=t.container,v=t.direction,y=Da(mo,"prefixCls"),w=((r=l.current)===null||r===void 0?void 0:r.scrollWidth)||0,k=((i=l.current)===null||i===void 0?void 0:i.clientWidth)||0,x=w&&k*(k/w),N=b.useRef(),I=K3({scrollLeft:0,isHiddenScrollBar:!0}),O=On(I,2),T=O[0],F=O[1],R=b.useRef({delta:0,x:0}),$=b.useState(!1),G=On($,2),Q=G[0],ee=G[1],Y=b.useRef(null);b.useEffect(function(){return function(){Ba.cancel(Y.current)}},[]);var q=function(){ee(!1)},oe=function(J){J.persist(),R.current.delta=J.pageX-T.scrollLeft,R.current.x=0,ee(!0),J.preventDefault()},D=function(J){var ie,le=J||((ie=window)===null||ie===void 0?void 0:ie.event),ue=le.buttons;if(!Q||ue===0){Q&&ee(!1);return}var be=R.current.x+J.pageX-R.current.x-R.current.delta,Le=v==="rtl";be=Math.max(Le?x-k:0,Math.min(Le?0:k-x,be));var Re=!Le||Math.abs(be)+Math.abs(x)<k;Re&&(h({scrollLeft:be/k*(w+2)}),R.current.x=J.pageX)},U=function(){Ba.cancel(Y.current),Y.current=Ba(function(){if(l.current){var J=gm(l.current).top,ie=J+l.current.offsetHeight,le=g===window?document.documentElement.scrollTop+window.innerHeight:gm(g).top+g.clientHeight;F(function(ue){return Wt(Wt({},ue),{},{isHiddenScrollBar:ie-ug()<=le||J>=le-c})})}})},te=function(J){F(function(ie){return Wt(Wt({},ie),{},{scrollLeft:w?J/w*k:0})})};return b.useImperativeHandle(n,function(){return{setScrollLeft:te,checkScrollBarVisible:U}}),b.useEffect(function(){var V=tm(document.body,"mouseup",q,!1),J=tm(document.body,"mousemove",D,!1);return U(),function(){V.remove(),J.remove()}},[x,Q]),b.useEffect(function(){if(l.current){for(var V=[],J=Hh(l.current);J;)V.push(J),J=J.parentElement;return V.forEach(function(ie){return ie.addEventListener("scroll",U,!1)}),window.addEventListener("resize",U,!1),window.addEventListener("scroll",U,!1),g.addEventListener("scroll",U,!1),function(){V.forEach(function(ie){return ie.removeEventListener("scroll",U)}),window.removeEventListener("resize",U),window.removeEventListener("scroll",U),g.removeEventListener("scroll",U)}}},[g]),b.useEffect(function(){T.isHiddenScrollBar||F(function(V){var J=l.current;return J?Wt(Wt({},V),{},{scrollLeft:J.scrollLeft/J.scrollWidth*J.clientWidth}):V})},[T.isHiddenScrollBar]),w<=k||!x||T.isHiddenScrollBar?null:b.createElement("div",{style:{height:ug(),width:k,bottom:c},className:"".concat(y,"-sticky-scroll")},b.createElement("div",{onMouseDown:oe,ref:N,className:bt("".concat(y,"-sticky-scroll-bar"),Pt({},"".concat(y,"-sticky-scroll-bar-active"),Q)),style:{width:"".concat(x,"px"),transform:"translate3d(".concat(T.scrollLeft,"px, 0, 0)")}}))};const eE=b.forwardRef(Q3);var t1="rc-table",tE=[],nE={};function rE(){return"No Data"}function iE(e,t){var n=Wt({rowKey:"key",prefixCls:t1,emptyText:rE},e),r=n.prefixCls,i=n.className,l=n.rowClassName,h=n.style,c=n.data,g=n.rowKey,v=n.scroll,y=n.tableLayout,w=n.direction,k=n.title,x=n.footer,N=n.summary,I=n.caption,O=n.id,T=n.showHeader,F=n.components,R=n.emptyText,$=n.onRow,G=n.onHeaderRow,Q=n.measureRowRender,ee=n.onScroll,Y=n.internalHooks,q=n.transformColumns,oe=n.internalRefs,D=n.tailor,U=n.getContainerWidth,te=n.sticky,V=n.rowHoverable,J=V===void 0?!0:V,ie=c||tE,le=!!ie.length,ue=Y===gc,be=b.useCallback(function(Qn,er){return tc(F,Qn)||er},[F]),Le=b.useMemo(function(){return typeof g=="function"?g:function(Qn){var er=Qn&&Qn[g];return er}},[g]),Re=be(["body"]),ne=Z3(),ce=On(ne,3),me=ce[0],we=ce[1],ke=ce[2],Be=V3(n,ie,Le),he=On(Be,6),qe=he[0],We=he[1],Fe=he[2],de=he[3],it=he[4],ft=he[5],fe=v?.x,tt=b.useState(0),kt=On(tt,2),At=kt[0],Xe=kt[1],Xt=G3(Wt(Wt(Wt({},n),qe),{},{expandable:!!qe.expandedRowRender,columnTitle:qe.columnTitle,expandedKeys:Fe,getRowKey:Le,onTriggerExpand:ft,expandIcon:de,expandIconColumnIndex:qe.expandIconColumnIndex,direction:w,scrollWidth:ue&&D&&typeof fe=="number"?fe:null,clientWidth:At}),ue?q:null),nt=On(Xt,4),mt=nt[0],wt=nt[1],Et=nt[2],Zt=nt[3],nn=Et??fe,dn=b.useMemo(function(){return{columns:mt,flattenColumns:wt}},[mt,wt]),Dt=b.useRef(),Jt=b.useRef(),Ft=b.useRef(),ht=b.useRef();b.useImperativeHandle(t,function(){return{nativeElement:Dt.current,scrollTo:function(er){var Wn;if(Ft.current instanceof HTMLElement){var oi=er.index,Rr=er.top,Zi=er.key;if(h3(Rr)){var Wr;(Wr=Ft.current)===null||Wr===void 0||Wr.scrollTo({top:Rr})}else{var ei,Ca=Zi??Le(ie[oi]);(ei=Ft.current.querySelector('[data-row-key="'.concat(Ca,'"]')))===null||ei===void 0||ei.scrollIntoView()}}else(Wn=Ft.current)!==null&&Wn!==void 0&&Wn.scrollTo&&Ft.current.scrollTo(er)}}});var Mt=b.useRef(),tn=b.useState(!1),fn=On(tn,2),Tt=fn[0],zt=fn[1],jt=b.useState(!1),ln=On(jt,2),an=ln[0],hn=ln[1],Bn=b.useState(new Map),Rt=On(Bn,2),Gt=Rt[0],gn=Rt[1],An=Zh(wt),Dn=An.map(function(Qn){return Gt.get(Qn)}),Kt=b.useMemo(function(){return Dn},[Dn.join("_")]),dr=J3(Kt,wt,w),mn=v&&Sf(v.y),br=v&&Sf(nn)||!!qe.fixed,Un=br&&wt.some(function(Qn){var er=Qn.fixed;return er}),ur=b.useRef(),Tr=Y3(te,r),zn=Tr.isSticky,cn=Tr.offsetHeader,Pr=Tr.offsetSummary,Ri=Tr.offsetScroll,Nn=Tr.stickyClassName,Gn=Tr.container,wn=b.useMemo(function(){return N?.(ie)},[N,ie]),nr=(mn||zn)&&b.isValidElement(wn)&&wn.type===Yh&&wn.props.fixed,sr,fr,wr;mn&&(fr={overflowY:le?"scroll":"auto",maxHeight:v.y}),br&&(sr={overflowX:"auto"},mn||(fr={overflowY:"hidden"}),wr={width:nn===!0?"auto":nn,minWidth:"100%"});var Nr=b.useCallback(function(Qn,er){gn(function(Wn){if(Wn.get(Qn)!==er){var oi=new Map(Wn);return oi.set(Qn,er),oi}return Wn})},[]),Si=X3(),yi=On(Si,2),mr=yi[0],Hi=yi[1];function Jn(Qn,er){er&&(typeof er=="function"?er(Qn):er.scrollLeft!==Qn&&(er.scrollLeft=Qn,er.scrollLeft!==Qn&&setTimeout(function(){er.scrollLeft=Qn},0)))}var xn=Ja(function(Qn){var er=Qn.currentTarget,Wn=Qn.scrollLeft,oi=w==="rtl",Rr=typeof Wn=="number"?Wn:er.scrollLeft,Zi=er||nE;if(!Hi()||Hi()===Zi){var Wr;mr(Zi),Jn(Rr,Jt.current),Jn(Rr,Ft.current),Jn(Rr,Mt.current),Jn(Rr,(Wr=ur.current)===null||Wr===void 0?void 0:Wr.setScrollLeft)}var ei=er||Jt.current;if(ei){var Ca=ue&&D&&typeof nn=="number"?nn:ei.scrollWidth,sn=ei.clientWidth;if(Ca===sn){zt(!1),hn(!1);return}oi?(zt(-Rr<Ca-sn),hn(-Rr>0)):(zt(Rr>0),hn(Rr<Ca-sn))}}),rr=Ja(function(Qn){xn(Qn),ee?.(Qn)}),pr=function(){if(br&&Ft.current){var er;xn({currentTarget:Hh(Ft.current),scrollLeft:(er=Ft.current)===null||er===void 0?void 0:er.scrollLeft})}else zt(!1),hn(!1)},gr=function(er){var Wn,oi=er.width;(Wn=ur.current)===null||Wn===void 0||Wn.checkScrollBarVisible();var Rr=Dt.current?Dt.current.offsetWidth:oi;ue&&U&&Dt.current&&(Rr=U(Dt.current,Rr)||Rr),Rr!==At&&(pr(),Xe(Rr))},_i=b.useRef(!1);b.useEffect(function(){_i.current&&pr()},[br,c,mt.length]),b.useEffect(function(){_i.current=!0},[]);var Sn=b.useState(0),kn=On(Sn,2),Zn=kn[0],Gr=kn[1],Dr=b.useState(!0),Fn=On(Dr,2),xr=Fn[0],xa=Fn[1];na(function(){(!D||!ue)&&(Ft.current instanceof Element?Gr(cg(Ft.current).width):Gr(cg(ht.current).width)),xa(yf("position","sticky"))},[]),b.useEffect(function(){ue&&oe&&(oe.body.current=Ft.current)});var Vr=b.useCallback(function(Qn){return b.createElement(b.Fragment,null,b.createElement(hm,Qn),nr==="top"&&b.createElement(Tc,Qn,wn))},[nr,wn]),la=b.useCallback(function(Qn){return b.createElement(Tc,Qn,wn)},[wn]),qi=be(["table"],"table"),jn=b.useMemo(function(){return y||(Un?nn==="max-content"?"auto":"fixed":mn||zn||wt.some(function(Qn){var er=Qn.ellipsis;return er})?"fixed":"auto")},[mn,Un,wt,y,zn]),Cr,ai={colWidths:Kt,columCount:wt.length,stickyOffsets:dr,onHeaderRow:G,fixHeader:mn,scroll:v},Qr=b.useMemo(function(){return le?null:typeof R=="function"?R():R},[le,R]),Hr=b.createElement(I3,{data:ie,measureColumnWidth:mn||br||zn}),vo=b.createElement(Q_,{colWidths:wt.map(function(Qn){var er=Qn.width;return er}),columns:wt}),yo=I!=null?b.createElement("caption",{className:"".concat(r,"-caption")},I):void 0,Fa=Wo(n,{data:!0}),Or=Wo(n,{aria:!0});if(mn||zn){var Wi;typeof Re=="function"?(Wi=Re(ie,{scrollbarSize:Zn,ref:Ft,onScroll:xn}),ai.colWidths=wt.map(function(Qn,er){var Wn=Qn.width,oi=er===wt.length-1?Wn-Zn:Wn;return typeof oi=="number"&&!Number.isNaN(oi)?oi:0})):Wi=b.createElement("div",{style:Wt(Wt({},sr),fr),onScroll:rr,ref:Ft,className:bt("".concat(r,"-body"))},b.createElement(qi,bn({style:Wt(Wt({},wr),{},{tableLayout:jn})},Or),yo,vo,Hr,!nr&&wn&&b.createElement(Tc,{stickyOffsets:dr,flattenColumns:wt},wn)));var Ki=Wt(Wt(Wt({noData:!ie.length},ai),dn),{},{direction:w,stickyClassName:Nn,scrollX:nn,tableLayout:jn,onScroll:xn});Cr=b.createElement(b.Fragment,null,T!==!1&&b.createElement(cm,bn({},Ki,{stickyTopOffset:cn,className:"".concat(r,"-header"),ref:Jt,colGroup:vo}),Vr),Wi,nr&&nr!=="top"&&b.createElement(cm,bn({},Ki,{stickyBottomOffset:Pr,className:"".concat(r,"-summary"),ref:Mt,colGroup:vo}),la),zn&&Ft.current&&Ft.current instanceof Element&&b.createElement(eE,{ref:ur,offsetScroll:Ri,scrollBodyRef:Ft,onScroll:xn,container:Gn,direction:w}))}else Cr=b.createElement("div",{style:Wt(Wt({},sr),fr),className:bt("".concat(r,"-content")),onScroll:xn,ref:Ft},b.createElement(qi,bn({style:Wt(Wt({},wr),{},{tableLayout:jn})},Or),yo,vo,T!==!1&&b.createElement(hm,bn({},ai,dn)),Hr,wn&&b.createElement(Tc,{stickyOffsets:dr,flattenColumns:wt},wn)));var Xi=b.createElement("div",bn({className:bt(r,i,Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt({},"".concat(r,"-rtl"),w==="rtl"),"".concat(r,"-ping-left"),Tt),"".concat(r,"-ping-right"),an),"".concat(r,"-layout-fixed"),y==="fixed"),"".concat(r,"-fixed-header"),mn),"".concat(r,"-fixed-column"),Un),"".concat(r,"-fixed-column-gapped"),Un&&Zt),"".concat(r,"-scroll-horizontal"),br),"".concat(r,"-has-fix-left"),wt[0]&&wt[0].fixed),"".concat(r,"-has-fix-right"),wt[wt.length-1]&&wt[wt.length-1].fixed==="right")),style:h,id:O,ref:Dt},Fa),k&&b.createElement(pm,{className:"".concat(r,"-title")},k(ie)),b.createElement("div",{ref:ht,className:"".concat(r,"-container")},Cr),x&&b.createElement(pm,{className:"".concat(r,"-footer")},x(ie)));br&&(Xi=b.createElement(Uh,{onResize:gr},Xi));var wa=W3(wt,dr,w),ja=b.useMemo(function(){return{scrollX:nn,prefixCls:r,getComponent:be,scrollbarSize:Zn,direction:w,fixedInfoList:wa,isSticky:zn,supportSticky:xr,componentWidth:At,fixHeader:mn,fixColumn:Un,horizonScroll:br,tableLayout:jn,rowClassName:l,expandedRowClassName:qe.expandedRowClassName,expandIcon:de,expandableType:We,expandRowByClick:qe.expandRowByClick,expandedRowRender:qe.expandedRowRender,expandedRowOffset:qe.expandedRowOffset,onTriggerExpand:ft,expandIconColumnIndex:qe.expandIconColumnIndex,indentSize:qe.indentSize,allColumnsFixedLeft:wt.every(function(Qn){return Qn.fixed==="left"}),emptyNode:Qr,columns:mt,flattenColumns:wt,onColumnResize:Nr,colWidths:Kt,hoverStartRow:me,hoverEndRow:we,onHover:ke,rowExpandable:qe.rowExpandable,onRow:$,getRowKey:Le,expandedKeys:Fe,childrenColumnName:it,rowHoverable:J,measureRowRender:Q}},[nn,r,be,Zn,w,wa,zn,xr,At,mn,Un,br,jn,l,qe.expandedRowClassName,de,We,qe.expandRowByClick,qe.expandedRowRender,qe.expandedRowOffset,ft,qe.expandIconColumnIndex,qe.indentSize,Qr,mt,wt,Nr,Kt,me,we,ke,qe.rowExpandable,$,Le,Fe,it,J,Q]);return b.createElement(mo.Provider,{value:ja},Xi)}var aE=b.forwardRef(iE);function n1(e){return q_(aE,e)}var Mu=n1();Mu.EXPAND_COLUMN=tl;Mu.INTERNAL_HOOKS=gc;Mu.Column=w3;Mu.ColumnGroup=C3;Mu.Summary=V_;var kp=wp(null),r1=wp(null);function oE(e,t,n){var r=t||1;return n[e+r]-(n[e]||0)}function sE(e){var t=e.rowInfo,n=e.column,r=e.colIndex,i=e.indent,l=e.index,h=e.component,c=e.renderIndex,g=e.record,v=e.style,y=e.className,w=e.inverse,k=e.getHeight,x=n.render,N=n.dataIndex,I=n.className,O=n.width,T=Da(r1,["columnsOffset"]),F=T.columnsOffset,R=J_(t,n,r,i,l),$=R.key,G=R.fixedInfo,Q=R.appendCellNode,ee=R.additionalCellProps,Y=ee.style,q=ee.colSpan,oe=q===void 0?1:q,D=ee.rowSpan,U=D===void 0?1:D,te=r-1,V=oE(te,oe,F),J=oe>1?O-V:0,ie=Wt(Wt(Wt({},Y),v),{},{flex:"0 0 ".concat(V,"px"),width:"".concat(V,"px"),marginRight:J,pointerEvents:"auto"}),le=b.useMemo(function(){return w?U<=1:oe===0||U===0||U>1},[U,oe,w]);le?ie.visibility="hidden":w&&(ie.height=k?.(U));var ue=le?function(){return null}:x,be={};return(U===0||oe===0)&&(be.rowSpan=1,be.colSpan=1),b.createElement(Nu,bn({className:bt(I,y),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:h,prefixCls:t.prefixCls,key:$,record:g,index:l,renderIndex:c,dataIndex:N,render:ue,shouldCellUpdate:n.shouldCellUpdate},G,{appendNode:Q,additionalProps:Wt(Wt({},ee),{},{style:ie},be)}))}var lE=["data","index","className","rowKey","style","extra","getHeight"],uE=b.forwardRef(function(e,t){var n=e.data,r=e.index,i=e.className,l=e.rowKey,h=e.style,c=e.extra,g=e.getHeight,v=$a(e,lE),y=n.record,w=n.indent,k=n.index,x=Da(mo,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),N=x.scrollX,I=x.flattenColumns,O=x.prefixCls,T=x.fixColumn,F=x.componentWidth,R=Da(kp,["getComponent"]),$=R.getComponent,G=X_(y,l,r,w),Q=$(["body","row"],"div"),ee=$(["body","cell"],"div"),Y=G.rowSupportExpand,q=G.expanded,oe=G.rowProps,D=G.expandedRowRender,U=G.expandedRowClassName,te;if(Y&&q){var V=D(y,r,w+1,q),J=Y_(U,y,r,w),ie={};T&&(ie={style:Pt({},"--virtual-width","".concat(F,"px"))});var le="".concat(O,"-expanded-row-cell");te=b.createElement(Q,{className:bt("".concat(O,"-expanded-row"),"".concat(O,"-expanded-row-level-").concat(w+1),J)},b.createElement(Nu,{component:ee,prefixCls:O,className:bt(le,Pt({},"".concat(le,"-fixed"),T)),additionalProps:ie},V))}var ue=Wt(Wt({},h),{},{width:N});c&&(ue.position="absolute",ue.pointerEvents="none");var be=b.createElement(Q,bn({},oe,v,{"data-row-key":l,ref:Y?null:t,className:bt(i,"".concat(O,"-row"),oe?.className,Pt({},"".concat(O,"-row-extra"),c)),style:Wt(Wt({},ue),oe?.style)}),I.map(function(Le,Re){return b.createElement(sE,{key:Re,component:ee,rowInfo:G,column:Le,colIndex:Re,indent:w,index:r,renderIndex:k,record:y,inverse:c,getHeight:g})}));return Y?b.createElement("div",{ref:t},be,te):be}),mm=Lu(uE),cE=b.forwardRef(function(e,t){var n=e.data,r=e.onScroll,i=Da(mo,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),l=i.flattenColumns,h=i.onColumnResize,c=i.getRowKey,g=i.expandedKeys,v=i.prefixCls,y=i.childrenColumnName,w=i.scrollX,k=i.direction,x=Da(kp),N=x.sticky,I=x.scrollY,O=x.listItemHeight,T=x.getComponent,F=x.onScroll,R=b.useRef(),$=K_(n,y,g,c),G=b.useMemo(function(){var te=0;return l.map(function(V){var J=V.width,ie=V.minWidth,le=V.key,ue=Math.max(J||0,ie||0);return te+=ue,[le,ue,te]})},[l]),Q=b.useMemo(function(){return G.map(function(te){return te[2]})},[G]);b.useEffect(function(){G.forEach(function(te){var V=On(te,2),J=V[0],ie=V[1];h(J,ie)})},[G]),b.useImperativeHandle(t,function(){var te,V={scrollTo:function(ie){var le;(le=R.current)===null||le===void 0||le.scrollTo(ie)},nativeElement:(te=R.current)===null||te===void 0?void 0:te.nativeElement};return Object.defineProperty(V,"scrollLeft",{get:function(){var ie;return((ie=R.current)===null||ie===void 0?void 0:ie.getScrollInfo().x)||0},set:function(ie){var le;(le=R.current)===null||le===void 0||le.scrollTo({left:ie})}}),Object.defineProperty(V,"scrollTop",{get:function(){var ie;return((ie=R.current)===null||ie===void 0?void 0:ie.getScrollInfo().y)||0},set:function(ie){var le;(le=R.current)===null||le===void 0||le.scrollTo({top:ie})}}),V});var ee=function(V,J){var ie,le=(ie=$[J])===null||ie===void 0?void 0:ie.record,ue=V.onCell;if(ue){var be,Le=ue(le,J);return(be=Le?.rowSpan)!==null&&be!==void 0?be:1}return 1},Y=function(V){var J=V.start,ie=V.end,le=V.getSize,ue=V.offsetY;if(ie<0)return null;for(var be=l.filter(function(Fe){return ee(Fe,J)===0}),Le=J,Re=function(de){if(be=be.filter(function(it){return ee(it,de)===0}),!be.length)return Le=de,1},ne=J;ne>=0&&!Re(ne);ne-=1);for(var ce=l.filter(function(Fe){return ee(Fe,ie)!==1}),me=ie,we=function(de){if(ce=ce.filter(function(it){return ee(it,de)!==1}),!ce.length)return me=Math.max(de-1,ie),1},ke=ie;ke<$.length&&!we(ke);ke+=1);for(var Be=[],he=function(de){var it=$[de];if(!it)return 1;l.some(function(ft){return ee(ft,de)>1})&&Be.push(de)},qe=Le;qe<=me;qe+=1)he(qe);var We=Be.map(function(Fe){var de=$[Fe],it=c(de.record,Fe),ft=function(kt){var At=Fe+kt-1,Xe=c($[At].record,At),Xt=le(it,Xe);return Xt.bottom-Xt.top},fe=le(it);return b.createElement(mm,{key:Fe,data:de,rowKey:it,index:Fe,style:{top:-ue+fe.top},extra:!0,getHeight:ft})});return We},q=b.useMemo(function(){return{columnsOffset:Q}},[Q]),oe="".concat(v,"-tbody"),D=T(["body","wrapper"]),U={};return N&&(U.position="sticky",U.bottom=0,Lr(N)==="object"&&N.offsetScroll&&(U.bottom=N.offsetScroll)),b.createElement(r1.Provider,{value:q},b.createElement(Yv,{fullHeight:!1,ref:R,prefixCls:"".concat(oe,"-virtual"),styles:{horizontalScrollBar:U},className:oe,height:I,itemHeight:O||24,data:$,itemKey:function(V){return c(V.record)},component:D,scrollWidth:w,direction:k,onVirtualScroll:function(V){var J,ie=V.x;r({currentTarget:(J=R.current)===null||J===void 0?void 0:J.nativeElement,scrollLeft:ie})},onScroll:F,extraRender:Y},function(te,V,J){var ie=c(te.record,V);return b.createElement(mm,{data:te,rowKey:ie,index:V,style:J.style})}))}),hE=Lu(cE),dE=function(t,n){var r=n.ref,i=n.onScroll;return b.createElement(hE,{ref:r,data:t,onScroll:i})};function fE(e,t){var n=e.data,r=e.columns,i=e.scroll,l=e.sticky,h=e.prefixCls,c=h===void 0?t1:h,g=e.className,v=e.listItemHeight,y=e.components,w=e.onScroll,k=i||{},x=k.x,N=k.y;typeof x!="number"&&(x=1),typeof N!="number"&&(N=500);var I=Ja(function(F,R){return tc(y,F)||R}),O=Ja(w),T=b.useMemo(function(){return{sticky:l,scrollY:N,listItemHeight:v,getComponent:I,onScroll:O}},[l,N,v,I,O]);return b.createElement(kp.Provider,{value:T},b.createElement(Mu,bn({},e,{className:bt(g,"".concat(c,"-virtual")),scroll:Wt(Wt({},i),{},{x}),components:Wt(Wt({},y),{},{body:n!=null&&n.length?dE:void 0}),columns:r,internalHooks:gc,tailor:!0,ref:t})))}var pE=b.forwardRef(fE);function i1(e){return q_(pE,e)}i1();const gE=e=>null,mE=e=>null;var Lp=b.createContext(null),vE=b.createContext({}),yE=function(t){for(var n=t.prefixCls,r=t.level,i=t.isStart,l=t.isEnd,h="".concat(n,"-indent-unit"),c=[],g=0;g<r;g+=1)c.push(b.createElement("span",{key:g,className:bt(h,Pt(Pt({},"".concat(h,"-start"),i[g]),"".concat(h,"-end"),l[g]))}));return b.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},c)};const _E=b.memo(yE);var bE=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],vm="open",ym="close",xE="---",ac=function(t){var n,r,i,l=t.eventKey,h=t.className,c=t.style,g=t.dragOver,v=t.dragOverGapTop,y=t.dragOverGapBottom,w=t.isLeaf,k=t.isStart,x=t.isEnd,N=t.expanded,I=t.selected,O=t.checked,T=t.halfChecked,F=t.loading,R=t.domRef,$=t.active,G=t.data,Q=t.onMouseMove,ee=t.selectable,Y=$a(t,bE),q=Ot.useContext(Lp),oe=Ot.useContext(vE),D=Ot.useRef(null),U=Ot.useState(!1),te=On(U,2),V=te[0],J=te[1],ie=!!(q.disabled||t.disabled||(n=oe.nodeDisabled)!==null&&n!==void 0&&n.call(oe,G)),le=Ot.useMemo(function(){return!q.checkable||t.checkable===!1?!1:q.checkable},[q.checkable,t.checkable]),ue=function(Mt){ie||q.onNodeSelect(Mt,oa(t))},be=function(Mt){ie||!le||t.disableCheckbox||q.onNodeCheck(Mt,oa(t),!O)},Le=Ot.useMemo(function(){return typeof ee=="boolean"?ee:q.selectable},[ee,q.selectable]),Re=function(Mt){q.onNodeClick(Mt,oa(t)),Le?ue(Mt):be(Mt)},ne=function(Mt){q.onNodeDoubleClick(Mt,oa(t))},ce=function(Mt){q.onNodeMouseEnter(Mt,oa(t))},me=function(Mt){q.onNodeMouseLeave(Mt,oa(t))},we=function(Mt){q.onNodeContextMenu(Mt,oa(t))},ke=Ot.useMemo(function(){return!!(q.draggable&&(!q.draggable.nodeDraggable||q.draggable.nodeDraggable(G)))},[q.draggable,G]),Be=function(Mt){Mt.stopPropagation(),J(!0),q.onNodeDragStart(Mt,t);try{Mt.dataTransfer.setData("text/plain","")}catch{}},he=function(Mt){Mt.preventDefault(),Mt.stopPropagation(),q.onNodeDragEnter(Mt,t)},qe=function(Mt){Mt.preventDefault(),Mt.stopPropagation(),q.onNodeDragOver(Mt,t)},We=function(Mt){Mt.stopPropagation(),q.onNodeDragLeave(Mt,t)},Fe=function(Mt){Mt.stopPropagation(),J(!1),q.onNodeDragEnd(Mt,t)},de=function(Mt){Mt.preventDefault(),Mt.stopPropagation(),J(!1),q.onNodeDrop(Mt,t)},it=function(Mt){F||q.onNodeExpand(Mt,oa(t))},ft=Ot.useMemo(function(){var ht=Io(q.keyEntities,l)||{},Mt=ht.children;return!!(Mt||[]).length},[q.keyEntities,l]),fe=Ot.useMemo(function(){return w===!1?!1:w||!q.loadData&&!ft||q.loadData&&t.loaded&&!ft},[w,q.loadData,ft,t.loaded]);Ot.useEffect(function(){F||typeof q.loadData=="function"&&N&&!fe&&!t.loaded&&q.onNodeLoad(oa(t))},[F,q.loadData,q.onNodeLoad,N,fe,t]);var tt=Ot.useMemo(function(){var ht;return(ht=q.draggable)!==null&&ht!==void 0&&ht.icon?Ot.createElement("span",{className:"".concat(q.prefixCls,"-draggable-icon")},q.draggable.icon):null},[q.draggable]),kt=function(Mt){var tn=t.switcherIcon||q.switcherIcon;return typeof tn=="function"?tn(Wt(Wt({},t),{},{isLeaf:Mt})):tn},At=function(){if(fe){var Mt=kt(!0);return Mt!==!1?Ot.createElement("span",{className:bt("".concat(q.prefixCls,"-switcher"),"".concat(q.prefixCls,"-switcher-noop"))},Mt):null}var tn=kt(!1);return tn!==!1?Ot.createElement("span",{onClick:it,className:bt("".concat(q.prefixCls,"-switcher"),"".concat(q.prefixCls,"-switcher_").concat(N?vm:ym))},tn):null},Xe=Ot.useMemo(function(){if(!le)return null;var ht=typeof le!="boolean"?le:null;return Ot.createElement("span",{className:bt("".concat(q.prefixCls,"-checkbox"),Pt(Pt(Pt({},"".concat(q.prefixCls,"-checkbox-checked"),O),"".concat(q.prefixCls,"-checkbox-indeterminate"),!O&&T),"".concat(q.prefixCls,"-checkbox-disabled"),ie||t.disableCheckbox)),onClick:be,role:"checkbox","aria-checked":T?"mixed":O,"aria-disabled":ie||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},ht)},[le,O,T,ie,t.disableCheckbox,t.title]),Xt=Ot.useMemo(function(){return fe?null:N?vm:ym},[fe,N]),nt=Ot.useMemo(function(){return Ot.createElement("span",{className:bt("".concat(q.prefixCls,"-iconEle"),"".concat(q.prefixCls,"-icon__").concat(Xt||"docu"),Pt({},"".concat(q.prefixCls,"-icon_loading"),F))})},[q.prefixCls,Xt,F]),mt=Ot.useMemo(function(){var ht=!!q.draggable,Mt=!t.disabled&&ht&&q.dragOverNodeKey===l;return Mt?q.dropIndicatorRender({dropPosition:q.dropPosition,dropLevelOffset:q.dropLevelOffset,indent:q.indent,prefixCls:q.prefixCls,direction:q.direction}):null},[q.dropPosition,q.dropLevelOffset,q.indent,q.prefixCls,q.direction,q.draggable,q.dragOverNodeKey,q.dropIndicatorRender]),wt=Ot.useMemo(function(){var ht=t.title,Mt=ht===void 0?xE:ht,tn="".concat(q.prefixCls,"-node-content-wrapper"),fn;if(q.showIcon){var Tt=t.icon||q.icon;fn=Tt?Ot.createElement("span",{className:bt("".concat(q.prefixCls,"-iconEle"),"".concat(q.prefixCls,"-icon__customize"))},typeof Tt=="function"?Tt(t):Tt):nt}else q.loadData&&F&&(fn=nt);var zt;return typeof Mt=="function"?zt=Mt(G):q.titleRender?zt=q.titleRender(G):zt=Mt,Ot.createElement("span",{ref:D,title:typeof Mt=="string"?Mt:"",className:bt(tn,"".concat(tn,"-").concat(Xt||"normal"),Pt({},"".concat(q.prefixCls,"-node-selected"),!ie&&(I||V))),onMouseEnter:ce,onMouseLeave:me,onContextMenu:we,onClick:Re,onDoubleClick:ne},fn,Ot.createElement("span",{className:"".concat(q.prefixCls,"-title")},zt),mt)},[q.prefixCls,q.showIcon,t,q.icon,nt,q.titleRender,G,Xt,ce,me,we,Re,ne]),Et=Wo(Y,{aria:!0,data:!0}),Zt=Io(q.keyEntities,l)||{},nn=Zt.level,dn=x[x.length-1],Dt=!ie&&ke,Jt=q.draggingNodeKey===l,Ft=ee!==void 0?{"aria-selected":!!ee}:void 0;return Ot.createElement("div",bn({ref:R,role:"treeitem","aria-expanded":w?void 0:N,className:bt(h,"".concat(q.prefixCls,"-treenode"),(i={},Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(Pt(i,"".concat(q.prefixCls,"-treenode-disabled"),ie),"".concat(q.prefixCls,"-treenode-switcher-").concat(N?"open":"close"),!w),"".concat(q.prefixCls,"-treenode-checkbox-checked"),O),"".concat(q.prefixCls,"-treenode-checkbox-indeterminate"),T),"".concat(q.prefixCls,"-treenode-selected"),I),"".concat(q.prefixCls,"-treenode-loading"),F),"".concat(q.prefixCls,"-treenode-active"),$),"".concat(q.prefixCls,"-treenode-leaf-last"),dn),"".concat(q.prefixCls,"-treenode-draggable"),ke),"dragging",Jt),Pt(Pt(Pt(Pt(Pt(Pt(Pt(i,"drop-target",q.dropTargetKey===l),"drop-container",q.dropContainerKey===l),"drag-over",!ie&&g),"drag-over-gap-top",!ie&&v),"drag-over-gap-bottom",!ie&&y),"filter-node",(r=q.filterTreeNode)===null||r===void 0?void 0:r.call(q,oa(t))),"".concat(q.prefixCls,"-treenode-leaf"),fe))),style:c,draggable:Dt,onDragStart:Dt?Be:void 0,onDragEnter:ke?he:void 0,onDragOver:ke?qe:void 0,onDragLeave:ke?We:void 0,onDrop:ke?de:void 0,onDragEnd:ke?Fe:void 0,onMouseMove:Q},Ft,Et),Ot.createElement(_E,{prefixCls:q.prefixCls,level:nn,isStart:k,isEnd:x}),tt,At(),Xe,wt)};ac.isTreeNode=1;function ws(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function Fs(e,t){var n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function Np(e){return e.split("-")}function wE(e,t){var n=[],r=Io(t,e);function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(h){var c=h.key,g=h.children;n.push(c),i(g)})}return i(r.children),n}function CE(e){if(e.parent){var t=Np(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function SE(e){var t=Np(e.pos);return Number(t[t.length-1])===0}function _m(e,t,n,r,i,l,h,c,g,v){var y,w=e.clientX,k=e.clientY,x=e.target.getBoundingClientRect(),N=x.top,I=x.height,O=(v==="rtl"?-1:1)*((i?.x||0)-w),T=(O-12)/r,F=g.filter(function(ie){var le;return(le=c[ie])===null||le===void 0||(le=le.children)===null||le===void 0?void 0:le.length}),R=Io(c,n.eventKey);if(k<N+I/2){var $=h.findIndex(function(ie){return ie.key===R.key}),G=$<=0?0:$-1,Q=h[G].key;R=Io(c,Q)}var ee=R.key,Y=R,q=R.key,oe=0,D=0;if(!F.includes(ee))for(var U=0;U<T&&CE(R);U+=1)R=R.parent,D+=1;var te=t.data,V=R.node,J=!0;return SE(R)&&R.level===0&&k<N+I/2&&l({dragNode:te,dropNode:V,dropPosition:-1})&&R.key===n.eventKey?oe=-1:(Y.children||[]).length&&F.includes(q)?l({dragNode:te,dropNode:V,dropPosition:0})?oe=0:J=!1:D===0?T>-1.5?l({dragNode:te,dropNode:V,dropPosition:1})?oe=1:J=!1:l({dragNode:te,dropNode:V,dropPosition:0})?oe=0:l({dragNode:te,dropNode:V,dropPosition:1})?oe=1:J=!1:l({dragNode:te,dropNode:V,dropPosition:1})?oe=1:J=!1,{dropPosition:oe,dropLevelOffset:D,dropTargetKey:R.key,dropTargetPos:R.pos,dragOverNodeKey:q,dropContainerKey:oe===0?null:((y=R.parent)===null||y===void 0?void 0:y.key)||null,dropAllowed:J}}function bm(e,t){if(e){var n=t.multiple;return n?e.slice():e.length?[e[0]]:e}}function Sd(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(Lr(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return ns(!1,"`checkedKeys` is not an array or an object"),null;return t}function kf(e,t){var n=new Set;function r(i){if(!n.has(i)){var l=Io(t,i);if(l){n.add(i);var h=l.parent,c=l.node;c.disabled||h&&r(h.key)}}}return(e||[]).forEach(function(i){r(i)}),En(n)}function EE(e){const[t,n]=b.useState(null);return[b.useCallback((l,h,c)=>{const g=t??l,v=Math.min(g||0,l),y=Math.max(g||0,l),w=h.slice(v,y+1).map(N=>e(N)),k=w.some(N=>!c.has(N)),x=[];return w.forEach(N=>{k?(c.has(N)||x.push(N),c.add(N)):(c.delete(N),x.push(N))}),n(k?y:null),x},[t]),l=>{n(l)}]}const el={},Lf="SELECT_ALL",Nf="SELECT_INVERT",Mf="SELECT_NONE",xm=[],a1=(e,t,n=[])=>((t||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&e in r&&a1(e,r[e],n)}),n),kE=(e,t)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:i,getCheckboxProps:l,getTitleCheckboxProps:h,onChange:c,onSelect:g,onSelectAll:v,onSelectInvert:y,onSelectNone:w,onSelectMultiple:k,columnWidth:x,type:N,selections:I,fixed:O,renderCell:T,hideSelectAll:F,checkStrictly:R=!0}=t||{},{prefixCls:$,data:G,pageData:Q,getRecordByKey:ee,getRowKey:Y,expandType:q,childrenColumnName:oe,locale:D,getPopupContainer:U}=e,te=hc(),[V,J]=EE(de=>de),[ie,le]=ps(r||i||xm,{value:r}),ue=b.useRef(new Map),be=b.useCallback(de=>{if(n){const it=new Map;de.forEach(ft=>{let fe=ee(ft);!fe&&ue.current.has(ft)&&(fe=ue.current.get(ft)),it.set(ft,fe)}),ue.current=it}},[ee,n]);b.useEffect(()=>{be(ie)},[ie]);const Le=b.useMemo(()=>a1(oe,Q),[oe,Q]),{keyEntities:Re}=b.useMemo(()=>{if(R)return{keyEntities:null};let de=G;if(n){const it=new Set(Le.map((fe,tt)=>Y(fe,tt))),ft=Array.from(ue.current).reduce((fe,[tt,kt])=>it.has(tt)?fe:fe.concat(kt),[]);de=[].concat(En(de),En(ft))}return pp(de,{externalGetKey:Y,childrenPropName:oe})},[G,Y,R,oe,n,Le]),ne=b.useMemo(()=>{const de=new Map;return Le.forEach((it,ft)=>{const fe=Y(it,ft),tt=(l?l(it):null)||{};de.set(fe,tt)}),de},[Le,Y,l]),ce=b.useCallback(de=>{const it=Y(de);let ft;return ne.has(it)?ft=ne.get(Y(de)):ft=l?l(de):void 0,!!ft?.disabled},[ne,Y]),[me,we]=b.useMemo(()=>{if(R)return[ie||[],[]];const{checkedKeys:de,halfCheckedKeys:it}=lu(ie,!0,Re,ce);return[de||[],it]},[ie,R,Re,ce]),ke=b.useMemo(()=>{const de=N==="radio"?me.slice(0,1):me;return new Set(de)},[me,N]),Be=b.useMemo(()=>N==="radio"?new Set:new Set(we),[we,N]);b.useEffect(()=>{t||le(xm)},[!!t]);const he=b.useCallback((de,it)=>{let ft,fe;be(de),n?(ft=de,fe=de.map(tt=>ue.current.get(tt))):(ft=[],fe=[],de.forEach(tt=>{const kt=ee(tt);kt!==void 0&&(ft.push(tt),fe.push(kt))})),le(ft),c?.(ft,fe,{type:it})},[le,ee,c,n]),qe=b.useCallback((de,it,ft,fe)=>{if(g){const tt=ft.map(kt=>ee(kt));g(ee(de),it,tt,fe)}he(ft,"single")},[g,ee,he]),We=b.useMemo(()=>!I||F?null:(I===!0?[Lf,Nf,Mf]:I).map(it=>it===Lf?{key:"all",text:D.selectionAll,onSelect(){he(G.map((ft,fe)=>Y(ft,fe)).filter(ft=>{const fe=ne.get(ft);return!fe?.disabled||ke.has(ft)}),"all")}}:it===Nf?{key:"invert",text:D.selectInvert,onSelect(){const ft=new Set(ke);Q.forEach((tt,kt)=>{const At=Y(tt,kt),Xe=ne.get(At);Xe?.disabled||(ft.has(At)?ft.delete(At):ft.add(At))});const fe=Array.from(ft);y&&(te.deprecated(!1,"onSelectInvert","onChange"),y(fe)),he(fe,"invert")}}:it===Mf?{key:"none",text:D.selectNone,onSelect(){w?.(),he(Array.from(ke).filter(ft=>{const fe=ne.get(ft);return fe?.disabled}),"none")}}:it).map(it=>Object.assign(Object.assign({},it),{onSelect:(...ft)=>{var fe,tt;(tt=it.onSelect)===null||tt===void 0||(fe=tt).call.apply(fe,[it].concat(ft)),J(null)}})),[I,ke,Q,Y,y,he]);return[b.useCallback(de=>{var it;if(!t)return de.filter(ht=>ht!==el);let ft=En(de);const fe=new Set(ke),tt=Le.map(Y).filter(ht=>!ne.get(ht).disabled),kt=tt.every(ht=>fe.has(ht)),At=tt.some(ht=>fe.has(ht)),Xe=()=>{const ht=[];kt?tt.forEach(tn=>{fe.delete(tn),ht.push(tn)}):tt.forEach(tn=>{fe.has(tn)||(fe.add(tn),ht.push(tn))});const Mt=Array.from(fe);v?.(!kt,Mt.map(tn=>ee(tn)),ht.map(tn=>ee(tn))),he(Mt,"all"),J(null)};let Xt,nt;if(N!=="radio"){let ht;if(We){const an={getPopupContainer:U,items:We.map((hn,Bn)=>{const{key:Rt,text:Gt,onSelect:gn}=hn;return{key:Rt??Bn,onClick:()=>{gn?.(tt)},label:Gt}})};ht=b.createElement("div",{className:`${$}-selection-extra`},b.createElement(yp,{menu:an,getPopupContainer:U},b.createElement("span",null,b.createElement(Kv,null))))}const Mt=Le.map((an,hn)=>{const Bn=Y(an,hn),Rt=ne.get(Bn)||{};return Object.assign({checked:fe.has(Bn)},Rt)}).filter(({disabled:an})=>an),tn=!!Mt.length&&Mt.length===Le.length,fn=tn&&Mt.every(({checked:an})=>an),Tt=tn&&Mt.some(({checked:an})=>an),zt=h?.()||{},{onChange:jt,disabled:ln}=zt;nt=b.createElement(Ns,Object.assign({"aria-label":ht?"Custom selection":"Select all"},zt,{checked:tn?fn:!!Le.length&&kt,indeterminate:tn?!fn&&Tt:!kt&&At,onChange:an=>{Xe(),jt?.(an)},disabled:ln??(Le.length===0||tn),skipGroup:!0})),Xt=!F&&b.createElement("div",{className:`${$}-selection`},nt,ht)}let mt;N==="radio"?mt=(ht,Mt,tn)=>{const fn=Y(Mt,tn),Tt=fe.has(fn),zt=ne.get(fn);return{node:b.createElement(il,Object.assign({},zt,{checked:Tt,onClick:jt=>{var ln;jt.stopPropagation(),(ln=zt?.onClick)===null||ln===void 0||ln.call(zt,jt)},onChange:jt=>{var ln;fe.has(fn)||qe(fn,!0,[fn],jt.nativeEvent),(ln=zt?.onChange)===null||ln===void 0||ln.call(zt,jt)}})),checked:Tt}}:mt=(ht,Mt,tn)=>{var fn;const Tt=Y(Mt,tn),zt=fe.has(Tt),jt=Be.has(Tt),ln=ne.get(Tt);let an;return q==="nest"?an=jt:an=(fn=ln?.indeterminate)!==null&&fn!==void 0?fn:jt,{node:b.createElement(Ns,Object.assign({},ln,{indeterminate:an,checked:zt,skipGroup:!0,onClick:hn=>{var Bn;hn.stopPropagation(),(Bn=ln?.onClick)===null||Bn===void 0||Bn.call(ln,hn)},onChange:hn=>{var Bn;const{nativeEvent:Rt}=hn,{shiftKey:Gt}=Rt,gn=tt.findIndex(Dn=>Dn===Tt),An=me.some(Dn=>tt.includes(Dn));if(Gt&&R&&An){const Dn=V(gn,tt,fe),Kt=Array.from(fe);k?.(!zt,Kt.map(dr=>ee(dr)),Dn.map(dr=>ee(dr))),he(Kt,"multiple")}else{const Dn=me;if(R){const Kt=zt?ws(Dn,Tt):Fs(Dn,Tt);qe(Tt,!zt,Kt,Rt)}else{const Kt=lu([].concat(En(Dn),[Tt]),!0,Re,ce),{checkedKeys:dr,halfCheckedKeys:mn}=Kt;let br=dr;if(zt){const Un=new Set(dr);Un.delete(Tt),br=lu(Array.from(Un),{halfCheckedKeys:mn},Re,ce).checkedKeys}qe(Tt,!zt,br,Rt)}}J(zt?null:gn),(Bn=ln?.onChange)===null||Bn===void 0||Bn.call(ln,hn)}})),checked:zt}};const wt=(ht,Mt,tn)=>{const{node:fn,checked:Tt}=mt(ht,Mt,tn);return T?T(Tt,Mt,tn,fn):fn};if(!ft.includes(el))if(ft.findIndex(ht=>{var Mt;return((Mt=ht[Zu])===null||Mt===void 0?void 0:Mt.columnType)==="EXPAND_COLUMN"})===0){const[ht,...Mt]=ft;ft=[ht,el].concat(En(Mt))}else ft=[el].concat(En(ft));const Et=ft.indexOf(el);ft=ft.filter((ht,Mt)=>ht!==el||Mt===Et);const Zt=ft[Et-1],nn=ft[Et+1];let dn=O;dn===void 0&&(nn?.fixed!==void 0?dn=nn.fixed:Zt?.fixed!==void 0&&(dn=Zt.fixed)),dn&&Zt&&((it=Zt[Zu])===null||it===void 0?void 0:it.columnType)==="EXPAND_COLUMN"&&Zt.fixed===void 0&&(Zt.fixed=dn);const Dt=bt(`${$}-selection-col`,{[`${$}-selection-col-with-dropdown`]:I&&N==="checkbox"}),Jt=()=>t?.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(nt):t.columnTitle:Xt,Ft={fixed:dn,width:x,className:`${$}-selection-column`,title:Jt(),render:wt,onCell:t.onCell,align:t.align,[Zu]:{className:Dt}};return ft.map(ht=>ht===el?Ft:ht)},[Y,Le,t,me,ke,Be,x,We,q,ne,k,qe,ce]),ke]};function LE(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(n=>{if(!(n in e._antProxy)){const r=e[n];e._antProxy[n]=r,e[n]=t[n]}}),e}function NE(e,t){return b.useImperativeHandle(e,()=>{const n=t(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(i,l){return n[l]?n[l]:Reflect.get(i,l)}}):LE(r,n)})}function ME(e){return t=>{const{prefixCls:n,onExpand:r,record:i,expanded:l,expandable:h}=t,c=`${n}-row-expand-icon`;return b.createElement("button",{type:"button",onClick:g=>{r(i,g),g.stopPropagation()},className:bt(c,{[`${c}-spaced`]:!h,[`${c}-expanded`]:h&&l,[`${c}-collapsed`]:h&&!l}),"aria-label":l?e.collapse:e.expand,"aria-expanded":l})}}function PE(e){return(n,r)=>{const i=n.querySelector(`.${e}-container`);let l=r;if(i){const h=getComputedStyle(i),c=parseInt(h.borderLeftWidth,10),g=parseInt(h.borderRightWidth,10);l=r-c-g}return l}}const sl=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function Pu(e,t){return t?`${t}-${e}`:`${e}`}const Jh=(e,t)=>typeof e=="function"?e(t):e,IE=(e,t)=>{const n=Jh(e,t);return Object.prototype.toString.call(n)==="[object Object]"?"":n};var OE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},AE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:OE}))},TE=b.forwardRef(AE);function RE(e){const t=b.useRef(e),n=Wx();return[()=>t.current,r=>{t.current=r,n()}]}var BE=function(t){var n=t.dropPosition,r=t.dropLevelOffset,i=t.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:l.top=0,l.left=-r*i;break;case 1:l.bottom=0,l.left=-r*i;break;case 0:l.bottom=0,l.left=i;break}return Ot.createElement("div",{style:l})};function o1(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function DE(e,t){var n=b.useState(!1),r=On(n,2),i=r[0],l=r[1];na(function(){if(i)return e(),function(){t()}},[i]),na(function(){return l(!0),function(){l(!1)}},[])}var $E=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],FE=b.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.motion,l=e.motionNodes,h=e.motionType,c=e.onMotionStart,g=e.onMotionEnd,v=e.active,y=e.treeNodeRequiredProps,w=$a(e,$E),k=b.useState(!0),x=On(k,2),N=x[0],I=x[1],O=b.useContext(Lp),T=O.prefixCls,F=l&&h!=="hide";na(function(){l&&F!==N&&I(F)},[l]);var R=function(){l&&c()},$=b.useRef(!1),G=function(){l&&!$.current&&($.current=!0,g())};DE(R,G);var Q=function(Y){F===Y&&G()};return l?b.createElement(Nl,bn({ref:t,visible:N},i,{motionAppear:h==="show",onVisibleChanged:Q}),function(ee,Y){var q=ee.className,oe=ee.style;return b.createElement("div",{ref:Y,className:bt("".concat(T,"-treenode-motion"),q),style:oe},l.map(function(D){var U=Object.assign({},(o1(D.data),D.data)),te=D.title,V=D.key,J=D.isStart,ie=D.isEnd;delete U.children;var le=Xu(V,y);return b.createElement(ac,bn({},U,le,{title:te,active:v,data:D.data,key:V,isStart:J,isEnd:ie}))}))}):b.createElement(ac,bn({domRef:t,className:n,style:r},w,{active:v}))});function jE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.length,r=t.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function i(l,h){var c=new Map;l.forEach(function(v){c.set(v,!0)});var g=h.filter(function(v){return!c.has(v)});return g.length===1?g[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}function wm(e,t,n){var r=e.findIndex(function(c){return c.key===n}),i=e[r+1],l=t.findIndex(function(c){return c.key===n});if(i){var h=t.findIndex(function(c){return c.key===i.key});return t.slice(l+1,h)}return t.slice(l+1)}var zE=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Cm={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},HE=function(){},Pl="RC_TREE_MOTION_".concat(Math.random()),Pf={key:Pl},s1={key:Pl,level:0,index:0,pos:"0",node:Pf,nodes:[Pf]},Sm={parent:null,children:[],pos:s1.pos,data:Pf,title:null,key:Pl,isStart:[],isEnd:[]};function Em(e,t,n,r){return t===!1||!n?e:e.slice(0,Math.ceil(n/r)+1)}function km(e){var t=e.key,n=e.pos;return pc(t,n)}function qE(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}var UE=b.forwardRef(function(e,t){var n=e.prefixCls,r=e.data;e.selectable,e.checkable;var i=e.expandedKeys,l=e.selectedKeys,h=e.checkedKeys,c=e.loadedKeys,g=e.loadingKeys,v=e.halfCheckedKeys,y=e.keyEntities,w=e.disabled,k=e.dragging,x=e.dragOverNodeKey,N=e.dropPosition,I=e.motion,O=e.height,T=e.itemHeight,F=e.virtual,R=e.scrollWidth,$=e.focusable,G=e.activeItem,Q=e.focused,ee=e.tabIndex,Y=e.onKeyDown,q=e.onFocus,oe=e.onBlur,D=e.onActiveChange,U=e.onListChangeStart,te=e.onListChangeEnd,V=$a(e,zE),J=b.useRef(null),ie=b.useRef(null);b.useImperativeHandle(t,function(){return{scrollTo:function(mt){J.current.scrollTo(mt)},getIndentWidth:function(){return ie.current.offsetWidth}}});var le=b.useState(i),ue=On(le,2),be=ue[0],Le=ue[1],Re=b.useState(r),ne=On(Re,2),ce=ne[0],me=ne[1],we=b.useState(r),ke=On(we,2),Be=ke[0],he=ke[1],qe=b.useState([]),We=On(qe,2),Fe=We[0],de=We[1],it=b.useState(null),ft=On(it,2),fe=ft[0],tt=ft[1],kt=b.useRef(r);kt.current=r;function At(){var nt=kt.current;me(nt),he(nt),de([]),tt(null),te()}na(function(){Le(i);var nt=jE(be,i);if(nt.key!==null)if(nt.add){var mt=ce.findIndex(function(Dt){var Jt=Dt.key;return Jt===nt.key}),wt=Em(wm(ce,r,nt.key),F,O,T),Et=ce.slice();Et.splice(mt+1,0,Sm),he(Et),de(wt),tt("show")}else{var Zt=r.findIndex(function(Dt){var Jt=Dt.key;return Jt===nt.key}),nn=Em(wm(r,ce,nt.key),F,O,T),dn=r.slice();dn.splice(Zt+1,0,Sm),he(dn),de(nn),tt("hide")}else ce!==r&&(me(r),he(r))},[i,r]),b.useEffect(function(){k||At()},[k]);var Xe=I?Be:r,Xt={expandedKeys:i,selectedKeys:l,loadedKeys:c,loadingKeys:g,checkedKeys:h,halfCheckedKeys:v,dragOverNodeKey:x,dropPosition:N,keyEntities:y};return b.createElement(b.Fragment,null,Q&&G&&b.createElement("span",{style:Cm,"aria-live":"assertive"},qE(G)),b.createElement("div",null,b.createElement("input",{style:Cm,disabled:$===!1||w,tabIndex:$!==!1?ee:null,onKeyDown:Y,onFocus:q,onBlur:oe,value:"",onChange:HE,"aria-label":"for screen reader"})),b.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},b.createElement("div",{className:"".concat(n,"-indent")},b.createElement("div",{ref:ie,className:"".concat(n,"-indent-unit")}))),b.createElement(Yv,bn({},V,{data:Xe,itemKey:km,height:O,fullHeight:!1,virtual:F,itemHeight:T,scrollWidth:R,prefixCls:"".concat(n,"-list"),ref:J,role:"tree",onVisibleChange:function(mt){mt.every(function(wt){return km(wt)!==Pl})&&At()}}),function(nt){var mt=nt.pos,wt=Object.assign({},(o1(nt.data),nt.data)),Et=nt.title,Zt=nt.key,nn=nt.isStart,dn=nt.isEnd,Dt=pc(Zt,mt);delete wt.key,delete wt.children;var Jt=Xu(Dt,Xt);return b.createElement(FE,bn({},wt,Jt,{title:Et,active:!!G&&Zt===G.key,pos:mt,data:nt.data,isStart:nn,isEnd:dn,motion:I,motionNodes:Zt===Pl?Fe:null,motionType:fe,onMotionStart:U,onMotionEnd:At,treeNodeRequiredProps:Xt,onMouseMove:function(){D(null)}}))}))}),GE=10,Mp=(function(e){Qv(n,e);var t=B2(n);function n(){var r;Dh(this,n);for(var i=arguments.length,l=new Array(i),h=0;h<i;h++)l[h]=arguments[h];return r=t.call.apply(t,[this].concat(l)),Pt(Ar(r),"destroyed",!1),Pt(Ar(r),"delayedDragEnterLogic",void 0),Pt(Ar(r),"loadingRetryTimes",{}),Pt(Ar(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:bu()}),Pt(Ar(r),"dragStartMousePosition",null),Pt(Ar(r),"dragNodeProps",null),Pt(Ar(r),"currentMouseOverDroppableNodeKey",null),Pt(Ar(r),"listRef",b.createRef()),Pt(Ar(r),"onNodeDragStart",function(c,g){var v=r.state,y=v.expandedKeys,w=v.keyEntities,k=r.props.onDragStart,x=g.eventKey;r.dragNodeProps=g,r.dragStartMousePosition={x:c.clientX,y:c.clientY};var N=ws(y,x);r.setState({draggingNodeKey:x,dragChildrenKeys:wE(x,w),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(N),window.addEventListener("dragend",r.onWindowDragEnd),k?.({event:c,node:oa(g)})}),Pt(Ar(r),"onNodeDragEnter",function(c,g){var v=r.state,y=v.expandedKeys,w=v.keyEntities,k=v.dragChildrenKeys,x=v.flattenNodes,N=v.indent,I=r.props,O=I.onDragEnter,T=I.onExpand,F=I.allowDrop,R=I.direction,$=g.pos,G=g.eventKey;if(r.currentMouseOverDroppableNodeKey!==G&&(r.currentMouseOverDroppableNodeKey=G),!r.dragNodeProps){r.resetDragState();return}var Q=_m(c,r.dragNodeProps,g,N,r.dragStartMousePosition,F,x,w,y,R),ee=Q.dropPosition,Y=Q.dropLevelOffset,q=Q.dropTargetKey,oe=Q.dropContainerKey,D=Q.dropTargetPos,U=Q.dropAllowed,te=Q.dragOverNodeKey;if(k.includes(q)||!U){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(V){clearTimeout(r.delayedDragEnterLogic[V])}),r.dragNodeProps.eventKey!==g.eventKey&&(c.persist(),r.delayedDragEnterLogic[$]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var V=En(y),J=Io(w,g.eventKey);J&&(J.children||[]).length&&(V=Fs(y,g.eventKey)),r.props.hasOwnProperty("expandedKeys")||r.setExpandedKeys(V),T?.(V,{node:oa(g),expanded:!0,nativeEvent:c.nativeEvent})}},800)),r.dragNodeProps.eventKey===q&&Y===0){r.resetDragState();return}r.setState({dragOverNodeKey:te,dropPosition:ee,dropLevelOffset:Y,dropTargetKey:q,dropContainerKey:oe,dropTargetPos:D,dropAllowed:U}),O?.({event:c,node:oa(g),expandedKeys:y})}),Pt(Ar(r),"onNodeDragOver",function(c,g){var v=r.state,y=v.dragChildrenKeys,w=v.flattenNodes,k=v.keyEntities,x=v.expandedKeys,N=v.indent,I=r.props,O=I.onDragOver,T=I.allowDrop,F=I.direction;if(r.dragNodeProps){var R=_m(c,r.dragNodeProps,g,N,r.dragStartMousePosition,T,w,k,x,F),$=R.dropPosition,G=R.dropLevelOffset,Q=R.dropTargetKey,ee=R.dropContainerKey,Y=R.dropTargetPos,q=R.dropAllowed,oe=R.dragOverNodeKey;y.includes(Q)||!q||(r.dragNodeProps.eventKey===Q&&G===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():$===r.state.dropPosition&&G===r.state.dropLevelOffset&&Q===r.state.dropTargetKey&&ee===r.state.dropContainerKey&&Y===r.state.dropTargetPos&&q===r.state.dropAllowed&&oe===r.state.dragOverNodeKey||r.setState({dropPosition:$,dropLevelOffset:G,dropTargetKey:Q,dropContainerKey:ee,dropTargetPos:Y,dropAllowed:q,dragOverNodeKey:oe}),O?.({event:c,node:oa(g)}))}}),Pt(Ar(r),"onNodeDragLeave",function(c,g){r.currentMouseOverDroppableNodeKey===g.eventKey&&!c.currentTarget.contains(c.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var v=r.props.onDragLeave;v?.({event:c,node:oa(g)})}),Pt(Ar(r),"onWindowDragEnd",function(c){r.onNodeDragEnd(c,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),Pt(Ar(r),"onNodeDragEnd",function(c,g){var v=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),v?.({event:c,node:oa(g)}),r.dragNodeProps=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),Pt(Ar(r),"onNodeDrop",function(c,g){var v,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=r.state,k=w.dragChildrenKeys,x=w.dropPosition,N=w.dropTargetKey,I=w.dropTargetPos,O=w.dropAllowed;if(O){var T=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),N!==null){var F=Wt(Wt({},Xu(N,r.getTreeNodeRequiredProps())),{},{active:((v=r.getActiveItem())===null||v===void 0?void 0:v.key)===N,data:Io(r.state.keyEntities,N).node}),R=k.includes(N);ns(!R,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var $=Np(I),G={event:c,node:oa(F),dragNode:r.dragNodeProps?oa(r.dragNodeProps):null,dragNodesKeys:[r.dragNodeProps.eventKey].concat(k),dropToGap:x!==0,dropPosition:x+Number($[$.length-1])};y||T?.(G),r.dragNodeProps=null}}}),Pt(Ar(r),"cleanDragState",function(){var c=r.state.draggingNodeKey;c!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),Pt(Ar(r),"triggerExpandActionExpand",function(c,g){var v=r.state,y=v.expandedKeys,w=v.flattenNodes,k=g.expanded,x=g.key,N=g.isLeaf;if(!(N||c.shiftKey||c.metaKey||c.ctrlKey)){var I=w.filter(function(T){return T.key===x})[0],O=oa(Wt(Wt({},Xu(x,r.getTreeNodeRequiredProps())),{},{data:I.data}));r.setExpandedKeys(k?ws(y,x):Fs(y,x)),r.onNodeExpand(c,O)}}),Pt(Ar(r),"onNodeClick",function(c,g){var v=r.props,y=v.onClick,w=v.expandAction;w==="click"&&r.triggerExpandActionExpand(c,g),y?.(c,g)}),Pt(Ar(r),"onNodeDoubleClick",function(c,g){var v=r.props,y=v.onDoubleClick,w=v.expandAction;w==="doubleClick"&&r.triggerExpandActionExpand(c,g),y?.(c,g)}),Pt(Ar(r),"onNodeSelect",function(c,g){var v=r.state.selectedKeys,y=r.state,w=y.keyEntities,k=y.fieldNames,x=r.props,N=x.onSelect,I=x.multiple,O=g.selected,T=g[k.key],F=!O;F?I?v=Fs(v,T):v=[T]:v=ws(v,T);var R=v.map(function($){var G=Io(w,$);return G?G.node:null}).filter(Boolean);r.setUncontrolledState({selectedKeys:v}),N?.(v,{event:"select",selected:F,node:g,selectedNodes:R,nativeEvent:c.nativeEvent})}),Pt(Ar(r),"onNodeCheck",function(c,g,v){var y=r.state,w=y.keyEntities,k=y.checkedKeys,x=y.halfCheckedKeys,N=r.props,I=N.checkStrictly,O=N.onCheck,T=g.key,F,R={event:"check",node:g,checked:v,nativeEvent:c.nativeEvent};if(I){var $=v?Fs(k,T):ws(k,T),G=ws(x,T);F={checked:$,halfChecked:G},R.checkedNodes=$.map(function(D){return Io(w,D)}).filter(Boolean).map(function(D){return D.node}),r.setUncontrolledState({checkedKeys:$})}else{var Q=lu([].concat(En(k),[T]),!0,w),ee=Q.checkedKeys,Y=Q.halfCheckedKeys;if(!v){var q=new Set(ee);q.delete(T);var oe=lu(Array.from(q),{halfCheckedKeys:Y},w);ee=oe.checkedKeys,Y=oe.halfCheckedKeys}F=ee,R.checkedNodes=[],R.checkedNodesPositions=[],R.halfCheckedKeys=Y,ee.forEach(function(D){var U=Io(w,D);if(U){var te=U.node,V=U.pos;R.checkedNodes.push(te),R.checkedNodesPositions.push({node:te,pos:V})}}),r.setUncontrolledState({checkedKeys:ee},!1,{halfCheckedKeys:Y})}O?.(F,R)}),Pt(Ar(r),"onNodeLoad",function(c){var g,v=c.key,y=r.state.keyEntities,w=Io(y,v);if(!(w!=null&&(g=w.children)!==null&&g!==void 0&&g.length)){var k=new Promise(function(x,N){r.setState(function(I){var O=I.loadedKeys,T=O===void 0?[]:O,F=I.loadingKeys,R=F===void 0?[]:F,$=r.props,G=$.loadData,Q=$.onLoad;if(!G||T.includes(v)||R.includes(v))return null;var ee=G(c);return ee.then(function(){var Y=r.state.loadedKeys,q=Fs(Y,v);Q?.(q,{event:"load",node:c}),r.setUncontrolledState({loadedKeys:q}),r.setState(function(oe){return{loadingKeys:ws(oe.loadingKeys,v)}}),x()}).catch(function(Y){if(r.setState(function(oe){return{loadingKeys:ws(oe.loadingKeys,v)}}),r.loadingRetryTimes[v]=(r.loadingRetryTimes[v]||0)+1,r.loadingRetryTimes[v]>=GE){var q=r.state.loadedKeys;ns(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:Fs(q,v)}),x()}N(Y)}),{loadingKeys:Fs(R,v)}})});return k.catch(function(){}),k}}),Pt(Ar(r),"onNodeMouseEnter",function(c,g){var v=r.props.onMouseEnter;v?.({event:c,node:g})}),Pt(Ar(r),"onNodeMouseLeave",function(c,g){var v=r.props.onMouseLeave;v?.({event:c,node:g})}),Pt(Ar(r),"onNodeContextMenu",function(c,g){var v=r.props.onRightClick;v&&(c.preventDefault(),v({event:c,node:g}))}),Pt(Ar(r),"onFocus",function(){var c=r.props.onFocus;r.setState({focused:!0});for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];c?.apply(void 0,v)}),Pt(Ar(r),"onBlur",function(){var c=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];c?.apply(void 0,v)}),Pt(Ar(r),"getTreeNodeRequiredProps",function(){var c=r.state,g=c.expandedKeys,v=c.selectedKeys,y=c.loadedKeys,w=c.loadingKeys,k=c.checkedKeys,x=c.halfCheckedKeys,N=c.dragOverNodeKey,I=c.dropPosition,O=c.keyEntities;return{expandedKeys:g||[],selectedKeys:v||[],loadedKeys:y||[],loadingKeys:w||[],checkedKeys:k||[],halfCheckedKeys:x||[],dragOverNodeKey:N,dropPosition:I,keyEntities:O}}),Pt(Ar(r),"setExpandedKeys",function(c){var g=r.state,v=g.treeData,y=g.fieldNames,w=bd(v,c,y);r.setUncontrolledState({expandedKeys:c,flattenNodes:w},!0)}),Pt(Ar(r),"onNodeExpand",function(c,g){var v=r.state.expandedKeys,y=r.state,w=y.listChanging,k=y.fieldNames,x=r.props,N=x.onExpand,I=x.loadData,O=g.expanded,T=g[k.key];if(!w){var F=v.includes(T),R=!O;if(ns(O&&F||!O&&!F,"Expand state not sync with index check"),v=R?Fs(v,T):ws(v,T),r.setExpandedKeys(v),N?.(v,{node:g,expanded:R,nativeEvent:c.nativeEvent}),R&&I){var $=r.onNodeLoad(g);$&&$.then(function(){var G=bd(r.state.treeData,v,k);r.setUncontrolledState({flattenNodes:G})}).catch(function(){var G=r.state.expandedKeys,Q=ws(G,T);r.setExpandedKeys(Q)})}}}),Pt(Ar(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),Pt(Ar(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),Pt(Ar(r),"onActiveChange",function(c){var g=r.state.activeKey,v=r.props,y=v.onActiveChange,w=v.itemScrollOffset,k=w===void 0?0:w;g!==c&&(r.setState({activeKey:c}),c!==null&&r.scrollTo({key:c,offset:k}),y?.(c))}),Pt(Ar(r),"getActiveItem",function(){var c=r.state,g=c.activeKey,v=c.flattenNodes;return g===null?null:v.find(function(y){var w=y.key;return w===g})||null}),Pt(Ar(r),"offsetActiveKey",function(c){var g=r.state,v=g.flattenNodes,y=g.activeKey,w=v.findIndex(function(N){var I=N.key;return I===y});w===-1&&c<0&&(w=v.length),w=(w+c+v.length)%v.length;var k=v[w];if(k){var x=k.key;r.onActiveChange(x)}else r.onActiveChange(null)}),Pt(Ar(r),"onKeyDown",function(c){var g=r.state,v=g.activeKey,y=g.expandedKeys,w=g.checkedKeys,k=g.fieldNames,x=r.props,N=x.onKeyDown,I=x.checkable,O=x.selectable;switch(c.which){case _r.UP:{r.offsetActiveKey(-1),c.preventDefault();break}case _r.DOWN:{r.offsetActiveKey(1),c.preventDefault();break}}var T=r.getActiveItem();if(T&&T.data){var F=r.getTreeNodeRequiredProps(),R=T.data.isLeaf===!1||!!(T.data[k.children]||[]).length,$=oa(Wt(Wt({},Xu(v,F)),{},{data:T.data,active:!0}));switch(c.which){case _r.LEFT:{R&&y.includes(v)?r.onNodeExpand({},$):T.parent&&r.onActiveChange(T.parent.key),c.preventDefault();break}case _r.RIGHT:{R&&!y.includes(v)?r.onNodeExpand({},$):T.children&&T.children.length&&r.onActiveChange(T.children[0].key),c.preventDefault();break}case _r.ENTER:case _r.SPACE:{I&&!$.disabled&&$.checkable!==!1&&!$.disableCheckbox?r.onNodeCheck({},$,!w.includes(v)):!I&&O&&!$.disabled&&$.selectable!==!1&&r.onNodeSelect({},$);break}}}N?.(c)}),Pt(Ar(r),"setUncontrolledState",function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var y=!1,w=!0,k={};Object.keys(c).forEach(function(x){if(r.props.hasOwnProperty(x)){w=!1;return}y=!0,k[x]=c[x]}),y&&(!g||w)&&r.setState(Wt(Wt({},k),v))}}),Pt(Ar(r),"scrollTo",function(c){r.listRef.current.scrollTo(c)}),r}return Bh(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,l=i.activeKey,h=i.itemScrollOffset,c=h===void 0?0:h;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:c}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,l=i.focused,h=i.flattenNodes,c=i.keyEntities,g=i.draggingNodeKey,v=i.activeKey,y=i.dropLevelOffset,w=i.dropContainerKey,k=i.dropTargetKey,x=i.dropPosition,N=i.dragOverNodeKey,I=i.indent,O=this.props,T=O.prefixCls,F=O.className,R=O.style,$=O.showLine,G=O.focusable,Q=O.tabIndex,ee=Q===void 0?0:Q,Y=O.selectable,q=O.showIcon,oe=O.icon,D=O.switcherIcon,U=O.draggable,te=O.checkable,V=O.checkStrictly,J=O.disabled,ie=O.motion,le=O.loadData,ue=O.filterTreeNode,be=O.height,Le=O.itemHeight,Re=O.scrollWidth,ne=O.virtual,ce=O.titleRender,me=O.dropIndicatorRender,we=O.onContextMenu,ke=O.onScroll,Be=O.direction,he=O.rootClassName,qe=O.rootStyle,We=Wo(this.props,{aria:!0,data:!0}),Fe;U&&(Lr(U)==="object"?Fe=U:typeof U=="function"?Fe={nodeDraggable:U}:Fe={});var de={prefixCls:T,selectable:Y,showIcon:q,icon:oe,switcherIcon:D,draggable:Fe,draggingNodeKey:g,checkable:te,checkStrictly:V,disabled:J,keyEntities:c,dropLevelOffset:y,dropContainerKey:w,dropTargetKey:k,dropPosition:x,dragOverNodeKey:N,indent:I,direction:Be,dropIndicatorRender:me,loadData:le,filterTreeNode:ue,titleRender:ce,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return b.createElement(Lp.Provider,{value:de},b.createElement("div",{className:bt(T,F,he,Pt(Pt(Pt({},"".concat(T,"-show-line"),$),"".concat(T,"-focused"),l),"".concat(T,"-active-focused"),v!==null)),style:qe},b.createElement(UE,bn({ref:this.listRef,prefixCls:T,style:R,data:h,disabled:J,selectable:Y,checkable:!!te,motion:ie,dragging:g!==null,height:be,itemHeight:Le,virtual:ne,focusable:G,focused:l,tabIndex:ee,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:we,onScroll:ke,scrollWidth:Re},this.getTreeNodeRequiredProps(),We))))}}],[{key:"getDerivedStateFromProps",value:function(i,l){var h=l.prevProps,c={prevProps:i};function g(ee){return!h&&i.hasOwnProperty(ee)||h&&h[ee]!==i[ee]}var v,y=l.fieldNames;if(g("fieldNames")&&(y=bu(i.fieldNames),c.fieldNames=y),g("treeData")?v=i.treeData:g("children")&&(ns(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),v=s_(i.children)),v){c.treeData=v;var w=pp(v,{fieldNames:y});c.keyEntities=Wt(Pt({},Pl,s1),w.keyEntities)}var k=c.keyEntities||l.keyEntities;if(g("expandedKeys")||h&&g("autoExpandParent"))c.expandedKeys=i.autoExpandParent||!h&&i.defaultExpandParent?kf(i.expandedKeys,k):i.expandedKeys;else if(!h&&i.defaultExpandAll){var x=Wt({},k);delete x[Pl];var N=[];Object.keys(x).forEach(function(ee){var Y=x[ee];Y.children&&Y.children.length&&N.push(Y.key)}),c.expandedKeys=N}else!h&&i.defaultExpandedKeys&&(c.expandedKeys=i.autoExpandParent||i.defaultExpandParent?kf(i.defaultExpandedKeys,k):i.defaultExpandedKeys);if(c.expandedKeys||delete c.expandedKeys,v||c.expandedKeys){var I=bd(v||l.treeData,c.expandedKeys||l.expandedKeys,y);c.flattenNodes=I}if(i.selectable&&(g("selectedKeys")?c.selectedKeys=bm(i.selectedKeys,i):!h&&i.defaultSelectedKeys&&(c.selectedKeys=bm(i.defaultSelectedKeys,i))),i.checkable){var O;if(g("checkedKeys")?O=Sd(i.checkedKeys)||{}:!h&&i.defaultCheckedKeys?O=Sd(i.defaultCheckedKeys)||{}:v&&(O=Sd(i.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),O){var T=O,F=T.checkedKeys,R=F===void 0?[]:F,$=T.halfCheckedKeys,G=$===void 0?[]:$;if(!i.checkStrictly){var Q=lu(R,!0,k);R=Q.checkedKeys,G=Q.halfCheckedKeys}c.checkedKeys=R,c.halfCheckedKeys=G}}return g("loadedKeys")&&(c.loadedKeys=i.loadedKeys),c}}]),n})(b.Component);Pt(Mp,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:BE,allowDrop:function(){return!0},expandAction:!1});Pt(Mp,"TreeNode",ac);var VE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},WE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:VE}))},l1=b.forwardRef(WE),KE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},XE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:KE}))},ZE=b.forwardRef(XE),YE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},JE=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:YE}))},QE=b.forwardRef(JE),ek={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},tk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:ek}))},nk=b.forwardRef(tk);const rk=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:n,directoryNodeSelectedColor:r,motionDurationMid:i,borderRadius:l,controlItemBgHover:h})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`&:has(${e}-drop-indicator)`]:{position:"relative"},[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${i}`,content:'""',borderRadius:l},"&:hover:before":{background:h}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{background:n,borderRadius:l,[`${e}-switcher, ${e}-draggable-icon`]:{color:r},[`${e}-node-content-wrapper`]:{color:r,background:"transparent","&, &:hover":{color:r},"&:before, &:hover:before":{background:n}}}}}),ik=new uc("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),ak=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),ok=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Qe(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),sk=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:i,titleHeight:l,indentSize:h,nodeSelectedBg:c,nodeHoverBg:g,colorTextQuaternary:v,controlItemBgActiveDisabled:y}=t;return{[n]:Object.assign(Object.assign({},Pi(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Ml(t),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:ik,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:Qe(l),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:y},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:l,textAlign:"center",visibility:"visible",color:v},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:h}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(l).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},ak(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:l,height:l,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(l).div(2).equal()).mul(.8).equal(),height:t.calc(l).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:l,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},ok(e,t)),{"&:hover":{backgroundColor:g},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:c},[`${n}-iconEle`]:{display:"inline-block",width:l,height:l,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Qe(t.calc(l).div(2).equal())} !important`}})}},lk=(e,t,n=!0)=>{const r=`.${e}`,i=`${r}-treenode`,l=t.calc(t.paddingXS).div(2).equal(),h=ba(t,{treeCls:r,treeNodeCls:i,treeNodePadding:l});return[sk(e,h),n&&rk(h)].filter(Boolean)},uk=e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:r}=e,i=t;return{titleHeight:i,indentSize:i,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:r,nodeSelectedColor:e.colorText}},ck=e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},uk(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})},hk=zi("Tree",(e,{prefixCls:t})=>[{[e.componentCls]:u_(`${t}-checkbox`,e)},lk(t,e),dp(e)],ck),Lm=4;function dk(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:i,direction:l="ltr"}=e,h=l==="ltr"?"left":"right",c=l==="ltr"?"right":"left",g={[h]:-n*i+Lm,[c]:0};switch(t){case-1:g.top=-3;break;case 1:g.bottom=-3;break;default:g.bottom=-3,g[h]=i+Lm;break}return Ot.createElement("div",{style:g,className:`${r}-drop-indicator`})}var fk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},pk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:fk}))},gk=b.forwardRef(pk),mk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},vk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:mk}))},yk=b.forwardRef(vk),_k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},bk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:_k}))},xk=b.forwardRef(bk);const wk=e=>{var t,n;const{prefixCls:r,switcherIcon:i,treeNodeProps:l,showLine:h,switcherLoadingIcon:c}=e,{isLeaf:g,expanded:v,loading:y}=l;if(y)return b.isValidElement(c)?c:b.createElement(qh,{className:`${r}-switcher-loading-icon`});let w;if(h&&typeof h=="object"&&(w=h.showLeafIcon),g){if(!h)return null;if(typeof w!="boolean"&&w){const N=typeof w=="function"?w(l):w,I=`${r}-switcher-line-custom-icon`;return b.isValidElement(N)?Ls(N,{className:bt((t=N.props)===null||t===void 0?void 0:t.className,I)}):N}return w?b.createElement(l1,{className:`${r}-switcher-line-icon`}):b.createElement("span",{className:`${r}-switcher-leaf-line`})}const k=`${r}-switcher-icon`,x=typeof i=="function"?i(l):i;return b.isValidElement(x)?Ls(x,{className:bt((n=x.props)===null||n===void 0?void 0:n.className,k)}):x!==void 0?x:h?v?b.createElement(yk,{className:`${r}-switcher-line-icon`}):b.createElement(xk,{className:`${r}-switcher-line-icon`}):b.createElement(gk,{className:k})},u1=Ot.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,virtual:l,tree:h}=Ot.useContext(Jr),{prefixCls:c,className:g,showIcon:v=!1,showLine:y,switcherIcon:w,switcherLoadingIcon:k,blockNode:x=!1,children:N,checkable:I=!1,selectable:O=!0,draggable:T,motion:F,style:R}=e,$=r("tree",c),G=r(),Q=F??Object.assign(Object.assign({},hh(G)),{motionAppear:!1}),ee=Object.assign(Object.assign({},e),{checkable:I,selectable:O,showIcon:v,motion:Q,blockNode:x,showLine:!!y,dropIndicatorRender:dk}),[Y,q,oe]=hk($),[,D]=Su(),U=D.paddingXS/2+(((n=D.Tree)===null||n===void 0?void 0:n.titleHeight)||D.controlHeightSM),te=Ot.useMemo(()=>{if(!T)return!1;let J={};switch(typeof T){case"function":J.nodeDraggable=T;break;case"object":J=Object.assign({},T);break}return J.icon!==!1&&(J.icon=J.icon||Ot.createElement(nk,null)),J},[T]),V=J=>Ot.createElement(wk,{prefixCls:$,switcherIcon:w,switcherLoadingIcon:k,treeNodeProps:J,showLine:y});return Y(Ot.createElement(Mp,Object.assign({itemHeight:U,ref:t,virtual:l},ee,{style:Object.assign(Object.assign({},h?.style),R),prefixCls:$,className:bt({[`${$}-icon-hide`]:!v,[`${$}-block-node`]:x,[`${$}-unselectable`]:!O,[`${$}-rtl`]:i==="rtl"},h?.className,g,q,oe),direction:i,checkable:I&&Ot.createElement("span",{className:`${$}-checkbox-inner`}),selectable:O,switcherIcon:V,draggable:te}),N))}),Nm=0,Ed=1,Mm=2;function Pp(e,t,n){const{key:r,children:i}=n;function l(h){const c=h[r],g=h[i];t(c,h)!==!1&&Pp(g||[],t,n)}e.forEach(l)}function Ck({treeData:e,expandedKeys:t,startKey:n,endKey:r,fieldNames:i}){const l=[];let h=Nm;if(n&&n===r)return[n];if(!n||!r)return[];function c(g){return g===n||g===r}return Pp(e,g=>{if(h===Mm)return!1;if(c(g)){if(l.push(g),h===Nm)h=Ed;else if(h===Ed)return h=Mm,!1}else h===Ed&&l.push(g);return t.includes(g)},bu(i)),l}function kd(e,t,n){const r=En(t),i=[];return Pp(e,(l,h)=>{const c=r.indexOf(l);return c!==-1&&(i.push(h),r.splice(c,1)),!!r.length},bu(n)),i}var Pm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Sk(e){const{isLeaf:t,expanded:n}=e;return t?b.createElement(l1,null):n?b.createElement(ZE,null):b.createElement(QE,null)}function Im({treeData:e,children:t}){return e||s_(t)}const Ek=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:i}=e,l=Pm(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const h=b.useRef(null),c=b.useRef(null),g=()=>{const{keyEntities:Y}=pp(Im(l));let q;return n?q=Object.keys(Y):r?q=kf(l.expandedKeys||i||[],Y):q=l.expandedKeys||i||[],q},[v,y]=b.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[w,k]=b.useState(()=>g());b.useEffect(()=>{"selectedKeys"in l&&y(l.selectedKeys)},[l.selectedKeys]),b.useEffect(()=>{"expandedKeys"in l&&k(l.expandedKeys)},[l.expandedKeys]);const x=(Y,q)=>{var oe;return"expandedKeys"in l||k(Y),(oe=l.onExpand)===null||oe===void 0?void 0:oe.call(l,Y,q)},N=(Y,q)=>{var oe;const{multiple:D,fieldNames:U}=l,{node:te,nativeEvent:V}=q,{key:J=""}=te,ie=Im(l),le=Object.assign(Object.assign({},q),{selected:!0}),ue=V?.ctrlKey||V?.metaKey,be=V?.shiftKey;let Le;D&&ue?(Le=Y,h.current=J,c.current=Le,le.selectedNodes=kd(ie,Le,U)):D&&be?(Le=Array.from(new Set([].concat(En(c.current||[]),En(Ck({treeData:ie,expandedKeys:w,startKey:J,endKey:h.current,fieldNames:U}))))),le.selectedNodes=kd(ie,Le,U)):(Le=[J],h.current=J,c.current=Le,le.selectedNodes=kd(ie,Le,U)),(oe=l.onSelect)===null||oe===void 0||oe.call(l,Le,le),"selectedKeys"in l||y(Le)},{getPrefixCls:I,direction:O}=b.useContext(Jr),{prefixCls:T,className:F,showIcon:R=!0,expandAction:$="click"}=l,G=Pm(l,["prefixCls","className","showIcon","expandAction"]),Q=I("tree",T),ee=bt(`${Q}-directory`,{[`${Q}-directory-rtl`]:O==="rtl"},F);return b.createElement(u1,Object.assign({icon:Sk,ref:t,blockNode:!0},G,{showIcon:R,expandAction:$,prefixCls:Q,className:ee,expandedKeys:w,selectedKeys:v,onSelect:N,onExpand:x}))},kk=b.forwardRef(Ek),Ip=u1;Ip.DirectoryTree=kk;Ip.TreeNode=ac;const Om=e=>{const{value:t,filterSearch:n,tablePrefixCls:r,locale:i,onChange:l}=e;return n?b.createElement("div",{className:`${r}-filter-dropdown-search`},b.createElement(D2,{prefix:b.createElement(Gh,null),placeholder:i.filterSearchPlaceholder,onChange:l,value:t,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},Lk=e=>{const{keyCode:t}=e;t===_r.ENTER&&e.stopPropagation()},Nk=b.forwardRef((e,t)=>b.createElement("div",{className:e.className,onClick:n=>n.stopPropagation(),onKeyDown:Lk,ref:t},e.children));function uu(e){let t=[];return(e||[]).forEach(({value:n,children:r})=>{t.push(n),r&&(t=[].concat(En(t),En(uu(r))))}),t}function Mk(e){return e.some(({children:t})=>t)}function c1(e,t){return typeof t=="string"||typeof t=="number"?t?.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function h1({filters:e,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:i,filterSearch:l}){return e.map((h,c)=>{const g=String(h.value);if(h.children)return{key:g||c,label:h.text,popupClassName:`${t}-dropdown-submenu`,children:h1({filters:h.children,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:i,filterSearch:l})};const v=r?Ns:il,y={key:h.value!==void 0?g:c,label:b.createElement(b.Fragment,null,b.createElement(v,{checked:n.includes(g)}),b.createElement("span",null,h.text))};return i.trim()?typeof l=="function"?l(i,h)?y:null:c1(i,h.text)?y:null:y})}function Ld(e){return e||[]}const Pk=e=>{var t,n,r,i;const{tablePrefixCls:l,prefixCls:h,column:c,dropdownPrefixCls:g,columnKey:v,filterOnClose:y,filterMultiple:w,filterMode:k="menu",filterSearch:x=!1,filterState:N,triggerFilter:I,locale:O,children:T,getPopupContainer:F,rootClassName:R}=e,{filterResetToDefaultFilteredValue:$,defaultFilteredValue:G,filterDropdownProps:Q={},filterDropdownOpen:ee,filterDropdownVisible:Y,onFilterDropdownVisibleChange:q,onFilterDropdownOpenChange:oe}=c,[D,U]=b.useState(!1),te=!!(N&&(!((t=N.filteredKeys)===null||t===void 0)&&t.length||N.forceFiltered)),V=nt=>{var mt;U(nt),(mt=Q.onOpenChange)===null||mt===void 0||mt.call(Q,nt),oe?.(nt),q?.(nt)},J=(i=(r=(n=Q.open)!==null&&n!==void 0?n:ee)!==null&&r!==void 0?r:Y)!==null&&i!==void 0?i:D,ie=N?.filteredKeys,[le,ue]=RE(Ld(ie)),be=({selectedKeys:nt})=>{ue(nt)},Le=(nt,{node:mt,checked:wt})=>{be(w?{selectedKeys:nt}:{selectedKeys:wt&&mt.key?[mt.key]:[]})};b.useEffect(()=>{D&&be({selectedKeys:Ld(ie)})},[ie]);const[Re,ne]=b.useState([]),ce=nt=>{ne(nt)},[me,we]=b.useState(""),ke=nt=>{const{value:mt}=nt.target;we(mt)};b.useEffect(()=>{D||we("")},[D]);const Be=nt=>{const mt=nt?.length?nt:null;if(mt===null&&(!N||!N.filteredKeys)||vu(mt,N?.filteredKeys,!0))return null;I({column:c,key:v,filteredKeys:mt})},he=()=>{V(!1),Be(le())},qe=({confirm:nt,closeDropdown:mt}={confirm:!1,closeDropdown:!1})=>{nt&&Be([]),mt&&V(!1),we(""),ue($?(G||[]).map(wt=>String(wt)):[])},We=({closeDropdown:nt}={closeDropdown:!0})=>{nt&&V(!1),Be(le())},Fe=(nt,mt)=>{mt.source==="trigger"&&(nt&&ie!==void 0&&ue(Ld(ie)),V(nt),!nt&&!c.filterDropdown&&y&&he())},de=bt({[`${g}-menu-without-submenu`]:!Mk(c.filters||[])}),it=nt=>{if(nt.target.checked){const mt=uu(c?.filters).map(wt=>String(wt));ue(mt)}else ue([])},ft=({filters:nt})=>(nt||[]).map((mt,wt)=>{const Et=String(mt.value),Zt={title:mt.text,key:mt.value!==void 0?Et:String(wt)};return mt.children&&(Zt.children=ft({filters:mt.children})),Zt}),fe=nt=>{var mt;return Object.assign(Object.assign({},nt),{text:nt.title,value:nt.key,children:((mt=nt.children)===null||mt===void 0?void 0:mt.map(wt=>fe(wt)))||[]})};let tt;const{direction:kt,renderEmpty:At}=b.useContext(Jr);if(typeof c.filterDropdown=="function")tt=c.filterDropdown({prefixCls:`${g}-custom`,setSelectedKeys:nt=>be({selectedKeys:nt}),selectedKeys:le(),confirm:We,clearFilters:qe,filters:c.filters,visible:J,close:()=>{V(!1)}});else if(c.filterDropdown)tt=c.filterDropdown;else{const nt=le()||[],mt=()=>{var Et,Zt;const nn=(Et=At?.("Table.filter"))!==null&&Et!==void 0?Et:b.createElement(dh,{image:dh.PRESENTED_IMAGE_SIMPLE,description:O.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((c.filters||[]).length===0)return nn;if(k==="tree")return b.createElement(b.Fragment,null,b.createElement(Om,{filterSearch:x,value:me,onChange:ke,tablePrefixCls:l,locale:O}),b.createElement("div",{className:`${l}-filter-dropdown-tree`},w?b.createElement(Ns,{checked:nt.length===uu(c.filters).length,indeterminate:nt.length>0&&nt.length<uu(c.filters).length,className:`${l}-filter-dropdown-checkall`,onChange:it},(Zt=O?.filterCheckall)!==null&&Zt!==void 0?Zt:O?.filterCheckAll):null,b.createElement(Ip,{checkable:!0,selectable:!1,blockNode:!0,multiple:w,checkStrictly:!w,className:`${g}-menu`,onCheck:Le,checkedKeys:nt,selectedKeys:nt,showIcon:!1,treeData:ft({filters:c.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:me.trim()?Jt=>typeof x=="function"?x(me,fe(Jt)):c1(me,Jt.title):void 0})));const dn=h1({filters:c.filters||[],filterSearch:x,prefixCls:h,filteredKeys:le(),filterMultiple:w,searchValue:me}),Dt=dn.every(Jt=>Jt===null);return b.createElement(b.Fragment,null,b.createElement(Om,{filterSearch:x,value:me,onChange:ke,tablePrefixCls:l,locale:O}),Dt?nn:b.createElement(Bl,{selectable:!0,multiple:w,prefixCls:`${g}-menu`,className:de,onSelect:be,onDeselect:be,selectedKeys:nt,getPopupContainer:F,openKeys:Re,onOpenChange:ce,items:dn}))},wt=()=>$?vu((G||[]).map(Et=>String(Et)),nt,!0):nt.length===0;tt=b.createElement(b.Fragment,null,mt(),b.createElement("div",{className:`${h}-dropdown-btns`},b.createElement(ii,{type:"link",size:"small",disabled:wt(),onClick:()=>qe()},O.filterReset),b.createElement(ii,{type:"primary",size:"small",onClick:he},O.filterConfirm)))}c.filterDropdown&&(tt=b.createElement(Zy,{selectable:void 0},tt)),tt=b.createElement(Nk,{className:`${h}-dropdown`},tt);const Xt=rc({trigger:["click"],placement:kt==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let nt;return typeof c.filterIcon=="function"?nt=c.filterIcon(te):c.filterIcon?nt=c.filterIcon:nt=b.createElement(TE,null),b.createElement("span",{role:"button",tabIndex:-1,className:bt(`${h}-trigger`,{active:te}),onClick:mt=>{mt.stopPropagation()}},nt)})(),getPopupContainer:F},Object.assign(Object.assign({},Q),{rootClassName:bt(R,Q.rootClassName),open:J,onOpenChange:Fe,popupRender:()=>typeof Q?.dropdownRender=="function"?Q.dropdownRender(tt):tt}));return b.createElement("div",{className:`${h}-column`},b.createElement("span",{className:`${l}-column-title`},T),b.createElement(yp,Object.assign({},Xt)))},If=(e,t,n)=>{let r=[];return(e||[]).forEach((i,l)=>{var h;const c=Pu(l,n),g=i.filterDropdown!==void 0;if(i.filters||g||"onFilter"in i)if("filteredValue"in i){let v=i.filteredValue;g||(v=(h=v?.map(String))!==null&&h!==void 0?h:v),r.push({column:i,key:sl(i,c),filteredKeys:v,forceFiltered:i.filtered})}else r.push({column:i,key:sl(i,c),filteredKeys:t&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(En(r),En(If(i.children,t,c))))}),r};function d1(e,t,n,r,i,l,h,c,g){return n.map((v,y)=>{const w=Pu(y,c),{filterOnClose:k=!0,filterMultiple:x=!0,filterMode:N,filterSearch:I}=v;let O=v;if(O.filters||O.filterDropdown){const T=sl(O,w),F=r.find(({key:R})=>T===R);O=Object.assign(Object.assign({},O),{title:R=>b.createElement(Pk,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:O,columnKey:T,filterState:F,filterOnClose:k,filterMultiple:x,filterMode:N,filterSearch:I,triggerFilter:l,locale:i,getPopupContainer:h,rootClassName:g},Jh(v.title,R))})}return"children"in O&&(O=Object.assign(Object.assign({},O),{children:d1(e,t,O.children,r,i,l,h,w,g)})),O})}const Am=e=>{const t={};return e.forEach(({key:n,filteredKeys:r,column:i})=>{const l=n,{filters:h,filterDropdown:c}=i;if(c)t[l]=r||null;else if(Array.isArray(r)){const g=uu(h);t[l]=g.filter(v=>r.includes(String(v)))}else t[l]=null}),t},Of=(e,t,n)=>t.reduce((i,l)=>{const{column:{onFilter:h,filters:c},filteredKeys:g}=l;return h&&g&&g.length?i.map(v=>Object.assign({},v)).filter(v=>g.some(y=>{const w=uu(c),k=w.findIndex(N=>String(N)===String(y)),x=k!==-1?w[k]:y;return v[n]&&(v[n]=Of(v[n],t,n)),h(x,v)})):i},e),f1=e=>e.flatMap(t=>"children"in t?[t].concat(En(f1(t.children||[]))):[t]),Ik=e=>{const{prefixCls:t,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:i,getPopupContainer:l,locale:h,rootClassName:c}=e;hc();const g=b.useMemo(()=>f1(r||[]),[r]),[v,y]=b.useState(()=>If(g,!0)),w=b.useMemo(()=>{const I=If(g,!1);if(I.length===0)return I;let O=!0;if(I.forEach(({filteredKeys:T})=>{T!==void 0&&(O=!1)}),O){const T=(g||[]).map((F,R)=>sl(F,Pu(R)));return v.filter(({key:F})=>T.includes(F)).map(F=>{const R=g[T.findIndex($=>$===F.key)];return Object.assign(Object.assign({},F),{column:Object.assign(Object.assign({},F.column),R),forceFiltered:R.filtered})})}return I},[g,v]),k=b.useMemo(()=>Am(w),[w]),x=I=>{const O=w.filter(({key:T})=>T!==I.key);O.push(I),y(O),i(Am(O),O)};return[I=>d1(t,n,I,w,h,x,l,void 0,c),w,k]},Ok=(e,t,n)=>{const r=b.useRef({});function i(l){var h;if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){let g=function(v){v.forEach((y,w)=>{const k=n(y,w);c.set(k,y),y&&typeof y=="object"&&t in y&&g(y[t]||[])})};const c=new Map;g(e),r.current={data:e,childrenColumnName:t,kvMap:c,getRowKey:n}}return(h=r.current.kvMap)===null||h===void 0?void 0:h.get(l)}return[i]};var Ak=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const p1=10;function Tk(e,t){const n={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(i=>{const l=e[i];typeof l!="function"&&(n[i]=l)}),n}function Rk(e,t,n){const r=n&&typeof n=="object"?n:{},{total:i=0}=r,l=Ak(r,["total"]),[h,c]=b.useState(()=>({current:"defaultCurrent"in l?l.defaultCurrent:1,pageSize:"defaultPageSize"in l?l.defaultPageSize:p1})),g=rc(h,l,{total:i>0?i:e}),v=Math.ceil((i||e)/g.pageSize);g.current>v&&(g.current=v||1);const y=(k,x)=>{c({current:k??1,pageSize:x||g.pageSize})},w=(k,x)=>{var N;n&&((N=n.onChange)===null||N===void 0||N.call(n,k,x)),y(k,x),t(k,x||g?.pageSize)};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},g),{onChange:w}),y]}var Bk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},Dk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:Bk}))},$k=b.forwardRef(Dk),Fk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},jk=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:Fk}))},zk=b.forwardRef(jk);const Qc="ascend",Nd="descend",bh=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,Tm=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,Hk=(e,t)=>t?e[e.indexOf(t)+1]:e[0],Af=(e,t,n)=>{let r=[];const i=(l,h)=>{r.push({column:l,key:sl(l,h),multiplePriority:bh(l),sortOrder:l.sortOrder})};return(e||[]).forEach((l,h)=>{const c=Pu(h,n);l.children?("sortOrder"in l&&i(l,c),r=[].concat(En(r),En(Af(l.children,t,c)))):l.sorter&&("sortOrder"in l?i(l,c):t&&l.defaultSortOrder&&r.push({column:l,key:sl(l,c),multiplePriority:bh(l),sortOrder:l.defaultSortOrder}))}),r},g1=(e,t,n,r,i,l,h,c)=>(t||[]).map((v,y)=>{const w=Pu(y,c);let k=v;if(k.sorter){const x=k.sortDirections||i,N=k.showSorterTooltip===void 0?h:k.showSorterTooltip,I=sl(k,w),O=n.find(({key:q})=>q===I),T=O?O.sortOrder:null,F=Hk(x,T);let R;if(v.sortIcon)R=v.sortIcon({sortOrder:T});else{const q=x.includes(Qc)&&b.createElement(zk,{className:bt(`${e}-column-sorter-up`,{active:T===Qc})}),oe=x.includes(Nd)&&b.createElement($k,{className:bt(`${e}-column-sorter-down`,{active:T===Nd})});R=b.createElement("span",{className:bt(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(q&&oe)})},b.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},q,oe))}const{cancelSort:$,triggerAsc:G,triggerDesc:Q}=l||{};let ee=$;F===Nd?ee=Q:F===Qc&&(ee=G);const Y=typeof N=="object"?Object.assign({title:ee},N):{title:ee};k=Object.assign(Object.assign({},k),{className:bt(k.className,{[`${e}-column-sort`]:T}),title:q=>{const oe=`${e}-column-sorters`,D=b.createElement("span",{className:`${e}-column-title`},Jh(v.title,q)),U=b.createElement("div",{className:oe},D,R);return N?typeof N!="boolean"&&N?.target==="sorter-icon"?b.createElement("div",{className:`${oe} ${e}-column-sorters-tooltip-target-sorter`},D,b.createElement(sa,Object.assign({},Y),R)):b.createElement(sa,Object.assign({},Y),U):U},onHeaderCell:q=>{var oe;const D=((oe=v.onHeaderCell)===null||oe===void 0?void 0:oe.call(v,q))||{},U=D.onClick,te=D.onKeyDown;D.onClick=ie=>{r({column:v,key:I,sortOrder:F,multiplePriority:bh(v)}),U?.(ie)},D.onKeyDown=ie=>{ie.keyCode===_r.ENTER&&(r({column:v,key:I,sortOrder:F,multiplePriority:bh(v)}),te?.(ie))};const V=IE(v.title,{}),J=V?.toString();return T&&(D["aria-sort"]=T==="ascend"?"ascending":"descending"),D["aria-label"]=J||"",D.className=bt(D.className,`${e}-column-has-sorters`),D.tabIndex=0,v.ellipsis&&(D.title=(V??"").toString()),D}})}return"children"in k&&(k=Object.assign(Object.assign({},k),{children:g1(e,k.children,n,r,i,l,h,w)})),k}),Rm=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},Bm=e=>{const t=e.filter(({sortOrder:n})=>n).map(Rm);if(t.length===0&&e.length){const n=e.length-1;return Object.assign(Object.assign({},Rm(e[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},Tf=(e,t,n)=>{const r=t.slice().sort((h,c)=>c.multiplePriority-h.multiplePriority),i=e.slice(),l=r.filter(({column:{sorter:h},sortOrder:c})=>Tm(h)&&c);return l.length?i.sort((h,c)=>{for(let g=0;g<l.length;g+=1){const v=l[g],{column:{sorter:y},sortOrder:w}=v,k=Tm(y);if(k&&w){const x=k(h,c,w);if(x!==0)return w===Qc?x:-x}}return 0}).map(h=>{const c=h[n];return c?Object.assign(Object.assign({},h),{[n]:Tf(c,t,n)}):h}):i},qk=e=>{const{prefixCls:t,mergedColumns:n,sortDirections:r,tableLocale:i,showSorterTooltip:l,onSorterChange:h}=e,[c,g]=b.useState(()=>Af(n,!0)),v=(I,O)=>{const T=[];return I.forEach((F,R)=>{const $=Pu(R,O);if(T.push(sl(F,$)),Array.isArray(F.children)){const G=v(F.children,$);T.push.apply(T,En(G))}}),T},y=b.useMemo(()=>{let I=!0;const O=Af(n,!1);if(!O.length){const $=v(n);return c.filter(({key:G})=>$.includes(G))}const T=[];function F($){I?T.push($):T.push(Object.assign(Object.assign({},$),{sortOrder:null}))}let R=null;return O.forEach($=>{R===null?(F($),$.sortOrder&&($.multiplePriority===!1?I=!1:R=!0)):(R&&$.multiplePriority!==!1||(I=!1),F($))}),T},[n,c]),w=b.useMemo(()=>{var I,O;const T=y.map(({column:F,sortOrder:R})=>({column:F,order:R}));return{sortColumns:T,sortColumn:(I=T[0])===null||I===void 0?void 0:I.column,sortOrder:(O=T[0])===null||O===void 0?void 0:O.order}},[y]),k=I=>{let O;I.multiplePriority===!1||!y.length||y[0].multiplePriority===!1?O=[I]:O=[].concat(En(y.filter(({key:T})=>T!==I.key)),[I]),g(O),h(Bm(O),O)};return[I=>g1(t,I,y,k,r,i,l),y,w,()=>Bm(y)]},m1=(e,t)=>e.map(r=>{const i=Object.assign({},r);return i.title=Jh(r.title,t),"children"in i&&(i.children=m1(i.children,t)),i}),Uk=e=>[b.useCallback(n=>m1(n,e),[e])],Gk=n1((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),Vk=i1((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),Wk=e=>{const{componentCls:t,lineWidth:n,lineType:r,tableBorderColor:i,tableHeaderBg:l,tablePaddingVertical:h,tablePaddingHorizontal:c,calc:g}=e,v=`${Qe(n)} ${r} ${i}`,y=(w,k,x)=>({[`&${t}-${w}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Qe(g(k).mul(-1).equal())}
              ${Qe(g(g(x).add(n)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:v,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:v,borderTop:v,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:v},"> thead":{"> tr:not(:last-child) > th":{borderBottom:v},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:v}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Qe(g(h).mul(-1).equal())} ${Qe(g(g(c).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:v,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},y("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),y("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:v,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${Qe(n)} 0 ${Qe(n)} ${l}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:v}}}},Kk=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},ay),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Xk=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},Zk=e=>{const{componentCls:t,antCls:n,motionDurationSlow:r,lineWidth:i,paddingXS:l,lineType:h,tableBorderColor:c,tableExpandIconBg:g,tableExpandColumnWidth:v,borderRadius:y,tablePaddingVertical:w,tablePaddingHorizontal:k,tableExpandedRowBg:x,paddingXXS:N,expandIconMarginTop:I,expandIconSize:O,expandIconHalfInner:T,expandIconScale:F,calc:R}=e,$=`${Qe(i)} ${h} ${c}`,G=R(N).sub(i).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:v},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},lp(e)),{position:"relative",float:"left",width:O,height:O,color:"inherit",lineHeight:Qe(O),background:g,border:$,borderRadius:y,transform:`scale(${F})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:T,insetInlineEnd:G,insetInlineStart:G,height:i},"&::after":{top:G,bottom:G,insetInlineStart:T,width:i,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:I,marginInlineEnd:l},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:x}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${Qe(R(w).mul(-1).equal())} ${Qe(R(k).mul(-1).equal())}`,padding:`${Qe(w)} ${Qe(k)}`}}}},Yk=e=>{const{componentCls:t,antCls:n,iconCls:r,tableFilterDropdownWidth:i,tableFilterDropdownSearchWidth:l,paddingXXS:h,paddingXS:c,colorText:g,lineWidth:v,lineType:y,tableBorderColor:w,headerIconColor:k,fontSizeSM:x,tablePaddingHorizontal:N,borderRadius:I,motionDurationSlow:O,colorIcon:T,colorPrimary:F,tableHeaderFilterActiveBg:R,colorTextDisabled:$,tableFilterDropdownBg:G,tableFilterDropdownHeight:Q,controlItemBgHover:ee,controlItemBgActive:Y,boxShadowSecondary:q,filterDropdownMenuBg:oe,calc:D}=e,U=`${n}-dropdown`,te=`${t}-filter-dropdown`,V=`${n}-tree`,J=`${Qe(v)} ${y} ${w}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:D(h).mul(-1).equal(),marginInline:`${Qe(h)} ${Qe(D(N).div(2).mul(-1).equal())}`,padding:`0 ${Qe(h)}`,color:k,fontSize:x,borderRadius:I,cursor:"pointer",transition:`all ${O}`,"&:hover":{color:T,background:R},"&.active":{color:F}}}},{[`${n}-dropdown`]:{[te]:Object.assign(Object.assign({},Pi(e)),{minWidth:i,backgroundColor:G,borderRadius:I,boxShadow:q,overflow:"hidden",[`${U}-menu`]:{maxHeight:Q,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:oe,"&:empty::after":{display:"block",padding:`${Qe(c)} 0`,color:$,fontSize:x,textAlign:"center",content:'"Not Found"'}},[`${te}-tree`]:{paddingBlock:`${Qe(c)} 0`,paddingInline:c,[V]:{padding:0},[`${V}-treenode ${V}-node-content-wrapper:hover`]:{backgroundColor:ee},[`${V}-treenode-checkbox-checked ${V}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:Y}}},[`${te}-search`]:{padding:c,borderBottom:J,"&-input":{input:{minWidth:l},[r]:{color:$}}},[`${te}-checkall`]:{width:"100%",marginBottom:h,marginInlineStart:h},[`${te}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${Qe(D(c).sub(v).equal())} ${Qe(c)}`,overflow:"hidden",borderTop:J}})}},{[`${n}-dropdown ${te}, ${te}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:c,color:g},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},Jk=e=>{const{componentCls:t,lineWidth:n,colorSplit:r,motionDurationSlow:i,zIndexTableFixed:l,tableBg:h,zIndexTableSticky:c,calc:g}=e,v=r;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:l,background:h},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:g(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none",willChange:"transform"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:g(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:g(c).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${v}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${v}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${v}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${v}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},Qk=e=>{const{componentCls:t,antCls:n,margin:r}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${n}-pagination`]:{margin:`${Qe(r)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},eL=e=>{const{componentCls:t,tableRadius:n}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${Qe(n)} ${Qe(n)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${Qe(n)} ${Qe(n)}`}}}}},tL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},nL=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSizeIcon:i,padding:l,paddingXS:h,headerIconColor:c,headerIconHoverColor:g,tableSelectionColumnWidth:v,tableSelectedRowBg:y,tableSelectedRowHoverBg:w,tableRowHoverBg:k,tablePaddingHorizontal:x,calc:N}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:v,[`&${t}-selection-col-with-dropdown`]:{width:N(v).add(i).add(N(l).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:N(v).add(N(h).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:N(v).add(i).add(N(l).div(4)).add(N(h).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:N(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:Qe(N(x).div(4).equal()),[r]:{color:c,fontSize:i,verticalAlign:"baseline","&:hover":{color:g}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:y,"&-row-hover":{background:w}}},[`> ${t}-cell-row-hover`]:{background:k}}}}}},rL=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:r}=e,i=(l,h,c,g)=>({[`${t}${t}-${l}`]:{fontSize:g,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${Qe(h)} ${Qe(c)}`},[`${t}-filter-trigger`]:{marginInlineEnd:Qe(r(c).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${Qe(r(h).mul(-1).equal())} ${Qe(r(c).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:Qe(r(h).mul(-1).equal()),marginInline:`${Qe(r(n).sub(c).equal())} ${Qe(r(c).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:Qe(r(c).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},i("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),i("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},iL=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:r,headerIconColor:i,headerIconHoverColor:l}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:n,color:i,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:l}}}},aL=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:i,tableScrollThumbSize:l,tableScrollBg:h,zIndexTableSticky:c,stickyScrollBarBorderRadius:g,lineWidth:v,lineType:y,tableBorderColor:w}=e,k=`${Qe(v)} ${y} ${w}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:c,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${Qe(l)} !important`,zIndex:c,display:"flex",alignItems:"center",background:h,borderTop:k,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:l,backgroundColor:r,borderRadius:g,transition:`all ${e.motionDurationSlow}, transform 0s`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:i}}}}}}},Dm=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:r,calc:i}=e,l=`${Qe(n)} ${e.lineType} ${r}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:l}}},[`div${t}-summary`]:{boxShadow:`0 ${Qe(i(n).mul(-1).equal())} 0 ${r}`}}}},oL=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:r,lineType:i,tableBorderColor:l,calc:h}=e,c=`${Qe(r)} ${i} ${l}`,g=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:c,transition:`background ${n}`},[`${t}-expanded-row`]:{[`${g}${g}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${Qe(r)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:c,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:c,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:h(r).mul(-1).equal(),borderInlineStart:c}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:c,borderBottom:c}}}}}},sL=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:i,tableExpandColumnWidth:l,lineWidth:h,lineType:c,tableBorderColor:g,tableFontSize:v,tableBg:y,tableRadius:w,tableHeaderTextColor:k,motionDurationMid:x,tableHeaderBg:N,tableHeaderCellSplitColor:I,tableFooterTextColor:O,tableFooterBg:T,calc:F}=e,R=`${Qe(h)} ${c} ${g}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%","--rc-virtual-list-scrollbar-bg":e.tableScrollBg},ph()),{[t]:Object.assign(Object.assign({},Pi(e)),{fontSize:v,background:y,borderRadius:`${Qe(w)} ${Qe(w)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${Qe(w)} ${Qe(w)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${Qe(r)} ${Qe(i)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${Qe(r)} ${Qe(i)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:k,fontWeight:n,textAlign:"start",background:N,borderBottom:R,transition:`background ${x} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:I,transform:"translateY(-50%)",transition:`background-color ${x}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${x}, border-color ${x}`,borderBottom:R,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:Qe(F(r).mul(-1).equal()),marginInline:`${Qe(F(l).sub(i).equal())}
                ${Qe(F(i).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:k,fontWeight:n,textAlign:"start",background:N,borderBottom:R,transition:`background ${x} ease`}}},[`${t}-footer`]:{padding:`${Qe(r)} ${Qe(i)}`,color:O,background:T}})}},lL=e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:i,colorFillContent:l,controlItemBgActive:h,controlItemBgActiveHover:c,padding:g,paddingSM:v,paddingXS:y,colorBorderSecondary:w,borderRadiusLG:k,controlHeight:x,colorTextPlaceholder:N,fontSize:I,fontSizeSM:O,lineHeight:T,lineWidth:F,colorIcon:R,colorIconHover:$,opacityLoading:G,controlInteractiveSize:Q}=e,ee=new Oo(i).onBackground(n).toHexString(),Y=new Oo(l).onBackground(n).toHexString(),q=new Oo(t).onBackground(n).toHexString(),oe=new Oo(R),D=new Oo($),U=Q/2-F,te=U*2+F*3;return{headerBg:q,headerColor:r,headerSortActiveBg:ee,headerSortHoverBg:Y,bodySortBg:q,rowHoverBg:q,rowSelectedBg:h,rowSelectedHoverBg:c,rowExpandedBg:t,cellPaddingBlock:g,cellPaddingInline:g,cellPaddingBlockMD:v,cellPaddingInlineMD:y,cellPaddingBlockSM:y,cellPaddingInlineSM:y,borderColor:w,headerBorderRadius:k,footerBg:q,footerColor:r,cellFontSize:I,cellFontSizeMD:I,cellFontSizeSM:I,headerSplitColor:w,fixedHeaderSortActiveBg:ee,headerFilterHoverBg:l,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:x,stickyScrollBarBg:N,stickyScrollBarBorderRadius:100,expandIconMarginTop:(I*T-F*3)/2-Math.ceil((O*1.4-F*3)/2),headerIconColor:oe.clone().setA(oe.a*G).toRgbString(),headerIconHoverColor:D.clone().setA(D.a*G).toRgbString(),expandIconHalfInner:U,expandIconSize:te,expandIconScale:Q/te}},$m=2,uL=zi("Table",e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:r,controlInteractiveSize:i,headerBg:l,headerColor:h,headerSortActiveBg:c,headerSortHoverBg:g,bodySortBg:v,rowHoverBg:y,rowSelectedBg:w,rowSelectedHoverBg:k,rowExpandedBg:x,cellPaddingBlock:N,cellPaddingInline:I,cellPaddingBlockMD:O,cellPaddingInlineMD:T,cellPaddingBlockSM:F,cellPaddingInlineSM:R,borderColor:$,footerBg:G,footerColor:Q,headerBorderRadius:ee,cellFontSize:Y,cellFontSizeMD:q,cellFontSizeSM:oe,headerSplitColor:D,fixedHeaderSortActiveBg:U,headerFilterHoverBg:te,filterDropdownBg:V,expandIconBg:J,selectionColumnWidth:ie,stickyScrollBarBg:le,calc:ue}=e,be=ba(e,{tableFontSize:Y,tableBg:r,tableRadius:ee,tablePaddingVertical:N,tablePaddingHorizontal:I,tablePaddingVerticalMiddle:O,tablePaddingHorizontalMiddle:T,tablePaddingVerticalSmall:F,tablePaddingHorizontalSmall:R,tableBorderColor:$,tableHeaderTextColor:h,tableHeaderBg:l,tableFooterTextColor:Q,tableFooterBg:G,tableHeaderCellSplitColor:D,tableHeaderSortBg:c,tableHeaderSortHoverBg:g,tableBodySortBg:v,tableFixedHeaderSortActiveBg:U,tableHeaderFilterActiveBg:te,tableFilterDropdownBg:V,tableRowHoverBg:y,tableSelectedRowBg:w,tableSelectedRowHoverBg:k,zIndexTableFixed:$m,zIndexTableSticky:ue($m).add(1).equal({unit:!1}),tableFontSizeMiddle:q,tableFontSizeSmall:oe,tableSelectionColumnWidth:ie,tableExpandIconBg:J,tableExpandColumnWidth:ue(i).add(ue(e.padding).mul(2)).equal(),tableExpandedRowBg:x,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:le,tableScrollThumbBgHover:t,tableScrollBg:n});return[sL(be),Qk(be),Dm(be),iL(be),Yk(be),Wk(be),eL(be),Zk(be),Dm(be),Xk(be),nL(be),Jk(be),aL(be),Kk(be),rL(be),tL(be),oL(be)]},lL,{unitless:{expandIconScale:!0}}),Fm=[],cL=(e,t)=>{var n,r;const{prefixCls:i,className:l,rootClassName:h,style:c,size:g,bordered:v,dropdownPrefixCls:y,dataSource:w,pagination:k,rowSelection:x,rowKey:N="key",rowClassName:I,columns:O,children:T,childrenColumnName:F,onChange:R,getPopupContainer:$,loading:G,expandIcon:Q,expandable:ee,expandedRowRender:Y,expandIconColumnIndex:q,indentSize:oe,scroll:D,sortDirections:U,locale:te,showSorterTooltip:V={target:"full-header"},virtual:J}=e;hc();const ie=b.useMemo(()=>O||Ep(T),[O,T]),le=b.useMemo(()=>ie.some(Nn=>Nn.responsive),[ie]),ue=Th(le),be=b.useMemo(()=>{const Nn=new Set(Object.keys(ue).filter(Gn=>ue[Gn]));return ie.filter(Gn=>!Gn.responsive||Gn.responsive.some(wn=>Nn.has(wn)))},[ie,ue]),Le=Zo(e,["className","style","columns"]),{locale:Re=$h,direction:ne,table:ce,renderEmpty:me,getPrefixCls:we,getPopupContainer:ke}=b.useContext(Jr),Be=ul(g),he=Object.assign(Object.assign({},Re.Table),te),qe=w||Fm,We=we("table",i),Fe=we("dropdown",y),[,de]=Su(),it=Xo(We),[ft,fe,tt]=uL(We,it),kt=Object.assign(Object.assign({childrenColumnName:F,expandIconColumnIndex:q},ee),{expandIcon:(n=ee?.expandIcon)!==null&&n!==void 0?n:(r=ce?.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:At="children"}=kt,Xe=b.useMemo(()=>qe.some(Nn=>Nn?.[At])?"nest":Y||ee?.expandedRowRender?"row":null,[qe]),Xt={body:b.useRef(null)},nt=PE(We),mt=b.useRef(null),wt=b.useRef(null);NE(t,()=>Object.assign(Object.assign({},wt.current),{nativeElement:mt.current}));const Et=b.useMemo(()=>typeof N=="function"?N:Nn=>Nn?.[N],[N]),[Zt]=Ok(qe,At,Et),nn={},dn=(Nn,Gn,wn=!1)=>{var nr,sr,fr,wr;const Nr=Object.assign(Object.assign({},nn),Nn);wn&&((nr=nn.resetPagination)===null||nr===void 0||nr.call(nn),!((sr=Nr.pagination)===null||sr===void 0)&&sr.current&&(Nr.pagination.current=1),k&&((fr=k.onChange)===null||fr===void 0||fr.call(k,1,(wr=Nr.pagination)===null||wr===void 0?void 0:wr.pageSize))),D&&D.scrollToFirstRowOnChange!==!1&&Xt.body.current&&fw(0,{getContainer:()=>Xt.body.current}),R?.(Nr.pagination,Nr.filters,Nr.sorter,{currentDataSource:Of(Tf(qe,Nr.sorterStates,At),Nr.filterStates,At),action:Gn})},Dt=(Nn,Gn)=>{dn({sorter:Nn,sorterStates:Gn},"sort",!1)},[Jt,Ft,ht,Mt]=qk({prefixCls:We,mergedColumns:be,onSorterChange:Dt,sortDirections:U||["ascend","descend"],tableLocale:he,showSorterTooltip:V}),tn=b.useMemo(()=>Tf(qe,Ft,At),[qe,Ft]);nn.sorter=Mt(),nn.sorterStates=Ft;const fn=(Nn,Gn)=>{dn({filters:Nn,filterStates:Gn},"filter",!0)},[Tt,zt,jt]=Ik({prefixCls:We,locale:he,dropdownPrefixCls:Fe,mergedColumns:be,onFilterChange:fn,getPopupContainer:$||ke,rootClassName:bt(h,it)}),ln=Of(tn,zt,At);nn.filters=jt,nn.filterStates=zt;const an=b.useMemo(()=>{const Nn={};return Object.keys(jt).forEach(Gn=>{jt[Gn]!==null&&(Nn[Gn]=jt[Gn])}),Object.assign(Object.assign({},ht),{filters:Nn})},[ht,jt]),[hn]=Uk(an),Bn=(Nn,Gn)=>{dn({pagination:Object.assign(Object.assign({},nn.pagination),{current:Nn,pageSize:Gn})},"paginate")},[Rt,Gt]=Rk(ln.length,Bn,k);nn.pagination=k===!1?{}:Tk(Rt,k),nn.resetPagination=Gt;const gn=b.useMemo(()=>{if(k===!1||!Rt.pageSize)return ln;const{current:Nn=1,total:Gn,pageSize:wn=p1}=Rt;return ln.length<Gn?ln.length>wn?ln.slice((Nn-1)*wn,Nn*wn):ln:ln.slice((Nn-1)*wn,Nn*wn)},[!!k,ln,Rt?.current,Rt?.pageSize,Rt?.total]),[An,Dn]=kE({prefixCls:We,data:ln,pageData:gn,getRowKey:Et,getRecordByKey:Zt,expandType:Xe,childrenColumnName:At,locale:he,getPopupContainer:$||ke},x),Kt=(Nn,Gn,wn)=>{let nr;return typeof I=="function"?nr=bt(I(Nn,Gn,wn)):nr=bt(I),bt({[`${We}-row-selected`]:Dn.has(Et(Nn,Gn))},nr)};kt.__PARENT_RENDER_ICON__=kt.expandIcon,kt.expandIcon=kt.expandIcon||Q||ME(he),Xe==="nest"&&kt.expandIconColumnIndex===void 0?kt.expandIconColumnIndex=x?1:0:kt.expandIconColumnIndex>0&&x&&(kt.expandIconColumnIndex-=1),typeof kt.indentSize!="number"&&(kt.indentSize=typeof oe=="number"?oe:15);const dr=b.useCallback(Nn=>hn(An(Tt(Jt(Nn)))),[Jt,Tt,An]);let mn,br;if(k!==!1&&Rt?.total){let Nn;Rt.size?Nn=Rt.size:Nn=Be==="small"||Be==="middle"?"small":void 0;const Gn=sr=>b.createElement(T_,Object.assign({},Rt,{className:bt(`${We}-pagination ${We}-pagination-${sr}`,Rt.className),size:Nn})),wn=ne==="rtl"?"left":"right",{position:nr}=Rt;if(nr!==null&&Array.isArray(nr)){const sr=nr.find(Nr=>Nr.includes("top")),fr=nr.find(Nr=>Nr.includes("bottom")),wr=nr.every(Nr=>`${Nr}`=="none");!sr&&!fr&&!wr&&(br=Gn(wn)),sr&&(mn=Gn(sr.toLowerCase().replace("top",""))),fr&&(br=Gn(fr.toLowerCase().replace("bottom","")))}else br=Gn(wn)}let Un;typeof G=="boolean"?Un={spinning:G}:typeof G=="object"&&(Un=Object.assign({spinning:!0},G));const ur=bt(tt,it,`${We}-wrapper`,ce?.className,{[`${We}-wrapper-rtl`]:ne==="rtl"},l,h,fe),Tr=Object.assign(Object.assign({},ce?.style),c),zn=b.useMemo(()=>Un?.spinning&&qe===Fm?null:typeof te?.emptyText<"u"?te.emptyText:me?.("Table")||b.createElement(Zv,{componentName:"Table"}),[Un?.spinning,qe,te?.emptyText,me]),cn=J?Vk:Gk,Pr={},Ri=b.useMemo(()=>{const{fontSize:Nn,lineHeight:Gn,lineWidth:wn,padding:nr,paddingXS:sr,paddingSM:fr}=de,wr=Math.floor(Nn*Gn);switch(Be){case"middle":return fr*2+wr+wn;case"small":return sr*2+wr+wn;default:return nr*2+wr+wn}},[de,Be]);return J&&(Pr.listItemHeight=Ri),ft(b.createElement("div",{ref:mt,className:ur,style:Tr},b.createElement($l,Object.assign({spinning:!1},Un),mn,b.createElement(cn,Object.assign({},Pr,Le,{ref:wt,columns:be,direction:ne,expandable:kt,prefixCls:We,className:bt({[`${We}-middle`]:Be==="middle",[`${We}-small`]:Be==="small",[`${We}-bordered`]:v,[`${We}-empty`]:qe.length===0},tt,it,fe),data:gn,rowKey:Et,rowClassName:Kt,emptyText:zn,internalHooks:gc,internalRefs:Xt,transformColumns:dr,getContainerWidth:nt,measureRowRender:Nn=>b.createElement(jh,{getPopupContainer:Gn=>Gn},Nn)})),br)))},hL=b.forwardRef(cL),dL=(e,t)=>{const n=b.useRef(0);return n.current+=1,b.createElement(hL,Object.assign({},e,{ref:t,_renderTimes:n.current}))},Us=b.forwardRef(dL);Us.SELECTION_COLUMN=el;Us.EXPAND_COLUMN=tl;Us.SELECTION_ALL=Lf;Us.SELECTION_INVERT=Nf;Us.SELECTION_NONE=Mf;Us.Column=gE;Us.ColumnGroup=mE;Us.Summary=V_;const fL=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:i,calc:l}=e,h=l(r).sub(n).equal(),c=l(t).sub(n).equal();return{[i]:Object.assign(Object.assign({},Pi(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:h,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${Qe(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${i}-close-icon`]:{marginInlineStart:c,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:h}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Op=e=>{const{lineWidth:t,fontSizeIcon:n,calc:r}=e,i=e.fontSizeSM;return ba(e,{tagFontSize:i,tagLineHeight:Qe(r(e.lineHeightSM).mul(i).equal()),tagIconSize:r(n).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},Ap=e=>({defaultBg:new Oo(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),v1=zi("Tag",e=>{const t=Op(e);return fL(t)},Ap);var pL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gL=b.forwardRef((e,t)=>{const{prefixCls:n,style:r,className:i,checked:l,children:h,icon:c,onChange:g,onClick:v}=e,y=pL(e,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:w,tag:k}=b.useContext(Jr),x=R=>{g?.(!l),v?.(R)},N=w("tag",n),[I,O,T]=v1(N),F=bt(N,`${N}-checkable`,{[`${N}-checkable-checked`]:l},k?.className,i,O,T);return I(b.createElement("span",Object.assign({},y,{ref:t,style:Object.assign(Object.assign({},r),k?.style),className:F,onClick:x}),c,b.createElement("span",null,h)))}),mL=e=>Kx(e,(t,{textColor:n,lightBorderColor:r,lightColor:i,darkColor:l})=>({[`${e.componentCls}${e.componentCls}-${t}`]:{color:n,background:i,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}})),vL=cc(["Tag","preset"],e=>{const t=Op(e);return mL(t)},Ap);function yL(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Rc=(e,t,n)=>{const r=yL(n);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},_L=cc(["Tag","status"],e=>{const t=Op(e);return[Rc(t,"success","Success"),Rc(t,"processing","Info"),Rc(t,"error","Error"),Rc(t,"warning","Warning")]},Ap);var bL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const xL=b.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:l,children:h,icon:c,color:g,onClose:v,bordered:y=!0,visible:w}=e,k=bL(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:x,direction:N,tag:I}=b.useContext(Jr),[O,T]=b.useState(!0),F=Zo(k,["closeIcon","closable"]);b.useEffect(()=>{w!==void 0&&T(w)},[w]);const R=Xx(g),$=Zx(g),G=R||$,Q=Object.assign(Object.assign({backgroundColor:g&&!G?g:void 0},I?.style),l),ee=x("tag",n),[Y,q,oe]=v1(ee),D=bt(ee,I?.className,{[`${ee}-${g}`]:G,[`${ee}-has-color`]:g&&!G,[`${ee}-hidden`]:!O,[`${ee}-rtl`]:N==="rtl",[`${ee}-borderless`]:!y},r,i,q,oe),U=ue=>{ue.stopPropagation(),v?.(ue),!ue.defaultPrevented&&T(!1)},[,te]=fp(yu(e),yu(I),{closable:!1,closeIconRender:ue=>{const be=b.createElement("span",{className:`${ee}-close-icon`,onClick:U},ue);return Jv(ue,be,Le=>({onClick:Re=>{var ne;(ne=Le?.onClick)===null||ne===void 0||ne.call(Le,Re),U(Re)},className:bt(Le?.className,`${ee}-close-icon`)}))}}),V=typeof k.onClick=="function"||h&&h.type==="a",J=c||null,ie=J?b.createElement(b.Fragment,null,J,h&&b.createElement("span",null,h)):h,le=b.createElement("span",Object.assign({},F,{ref:t,className:D,style:Q}),ie,te,R&&b.createElement(vL,{key:"preset",prefixCls:ee}),$&&b.createElement(_L,{key:"status",prefixCls:ee}));return Y(V?b.createElement(zh,{component:"Tag"},le):le)}),y1=xL;y1.CheckableTag=gL;const wL=e=>{const t=e?.algorithm?$2(e.algorithm):F2,n=Object.assign(Object.assign({},j2),e?.token);return z2(n,{override:e?.token},t,H2)};function CL(e){const{sizeUnit:t,sizeStep:n}=e,r=n-2;return{sizeXXL:t*(r+10),sizeXL:t*(r+6),sizeLG:t*(r+2),sizeMD:t*(r+2),sizeMS:t*(r+1),size:t*r,sizeSM:t*r,sizeXS:t*(r-1),sizeXXS:t*(r-1)}}const SL=(e,t)=>{const n=t??up(e),r=n.fontSizeSM,i=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),CL(t??e)),q2(r)),{controlHeight:i}),U2(Object.assign(Object.assign({},n),{controlHeight:i})))},es=(e,t)=>new Oo(e).setA(t).toRgbString(),Jl=(e,t)=>new Oo(e).lighten(t).toHexString(),EL=e=>{const t=my(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},kL=(e,t)=>{const n=e||"#000",r=t||"#fff";return{colorBgBase:n,colorTextBase:r,colorText:es(r,.85),colorTextSecondary:es(r,.65),colorTextTertiary:es(r,.45),colorTextQuaternary:es(r,.25),colorFill:es(r,.18),colorFillSecondary:es(r,.12),colorFillTertiary:es(r,.08),colorFillQuaternary:es(r,.04),colorBgSolid:es(r,.95),colorBgSolidHover:es(r,1),colorBgSolidActive:es(r,.9),colorBgElevated:Jl(n,12),colorBgContainer:Jl(n,8),colorBgLayout:Jl(n,0),colorBgSpotlight:Jl(n,26),colorBgBlur:es(r,.04),colorBorder:Jl(n,26),colorBorderSecondary:Jl(n,19)}},LL=(e,t)=>{const n=Object.keys(G2).map(l=>{const h=my(e[l],{theme:"dark"});return Array.from({length:10},()=>1).reduce((c,g,v)=>(c[`${l}-${v+1}`]=h[v],c[`${l}${v+1}`]=h[v],c),{})}).reduce((l,h)=>(l=Object.assign(Object.assign({},l),h),l),{}),r=t??up(e),i=V2(e,{generateColorPalettes:EL,generateNeutralColorPalettes:kL});return Object.assign(Object.assign(Object.assign(Object.assign({},r),n),i),{colorPrimaryBg:i.colorPrimaryBorder,colorPrimaryBgHover:i.colorPrimaryBorderHover})};function NL(){const[e,t,n]=Su();return{theme:e,token:t,hashId:n}}const _1={defaultSeed:mg.token,useToken:NL,defaultAlgorithm:up,darkAlgorithm:LL,compactAlgorithm:SL,getDesignToken:wL,defaultConfig:mg,_internalContext:W2};var ML={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},PL=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:ML}))},IL=b.forwardRef(PL),OL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},AL=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:OL}))},TL=b.forwardRef(AL);const RL=(e,t,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:l}=r;return{marginBottom:i,color:n,fontWeight:l,fontSize:e,lineHeight:t}},BL=e=>{const t=[1,2,3,4,5],n={};return t.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=RL(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),n},DL=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},lp(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},$L=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:K2[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),FL=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),insetBlockStart:e.calc(r).div(-2).add(1).equal(),marginBottom:e.calc(r).div(2).sub(2).equal()},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},jL=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),zL=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),HL=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},BL(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),$L(e)),DL(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},lp(e)),{marginInlineStart:e.marginXXS})}),FL(e)),jL(e)),zL()),{"&-rtl":{direction:"rtl"}})}},qL=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),b1=zi("Typography",HL,qL),UL=e=>{const{prefixCls:t,"aria-label":n,className:r,style:i,direction:l,maxLength:h,autoSize:c=!0,value:g,onSave:v,onCancel:y,onEnd:w,component:k,enterIcon:x=b.createElement(TL,null)}=e,N=b.useRef(null),I=b.useRef(!1),O=b.useRef(null),[T,F]=b.useState(g);b.useEffect(()=>{F(g)},[g]),b.useEffect(()=>{var V;if(!((V=N.current)===null||V===void 0)&&V.resizableTextArea){const{textArea:J}=N.current.resizableTextArea;J.focus();const{length:ie}=J.value;J.setSelectionRange(ie,ie)}},[]);const R=({target:V})=>{F(V.value.replace(/[\n\r]/g,""))},$=()=>{I.current=!0},G=()=>{I.current=!1},Q=({keyCode:V})=>{I.current||(O.current=V)},ee=()=>{v(T.trim())},Y=({keyCode:V,ctrlKey:J,altKey:ie,metaKey:le,shiftKey:ue})=>{O.current!==V||I.current||J||ie||le||ue||(V===_r.ENTER?(ee(),w?.()):V===_r.ESC&&y())},q=()=>{ee()},[oe,D,U]=b1(t),te=bt(t,`${t}-edit-content`,{[`${t}-rtl`]:l==="rtl",[`${t}-${k}`]:!!k},r,D,U);return oe(b.createElement("div",{className:te,style:i},b.createElement(X2,{ref:N,maxLength:h,value:T,onChange:R,onKeyDown:Q,onKeyUp:Y,onCompositionStart:$,onCompositionEnd:G,onBlur:q,"aria-label":n,rows:1,autoSize:c}),x!==null?Ls(x,{className:`${t}-edit-content-confirm`}):null))};var Md,jm;function GL(){return jm||(jm=1,Md=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}}),Md}var Pd,zm;function VL(){if(zm)return Pd;zm=1;var e=GL(),t={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function r(l){var h=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return l.replace(/#{\s*key\s*}/g,h)}function i(l,h){var c,g,v,y,w,k,x=!1;h||(h={}),c=h.debug||!1;try{v=e(),y=document.createRange(),w=document.getSelection(),k=document.createElement("span"),k.textContent=l,k.ariaHidden="true",k.style.all="unset",k.style.position="fixed",k.style.top=0,k.style.clip="rect(0, 0, 0, 0)",k.style.whiteSpace="pre",k.style.webkitUserSelect="text",k.style.MozUserSelect="text",k.style.msUserSelect="text",k.style.userSelect="text",k.addEventListener("copy",function(I){if(I.stopPropagation(),h.format)if(I.preventDefault(),typeof I.clipboardData>"u"){c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var O=t[h.format]||t.default;window.clipboardData.setData(O,l)}else I.clipboardData.clearData(),I.clipboardData.setData(h.format,l);h.onCopy&&(I.preventDefault(),h.onCopy(I.clipboardData))}),document.body.appendChild(k),y.selectNodeContents(k),w.addRange(y);var N=document.execCommand("copy");if(!N)throw new Error("copy command was unsuccessful");x=!0}catch(I){c&&console.error("unable to copy using execCommand: ",I),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(h.format||"text",l),h.onCopy&&h.onCopy(window.clipboardData),x=!0}catch(O){c&&console.error("unable to copy using clipboardData: ",O),c&&console.error("falling back to prompt"),g=r("message"in h?h.message:n),window.prompt(g,l)}}finally{w&&(typeof w.removeRange=="function"?w.removeRange(y):w.removeAllRanges()),k&&document.body.removeChild(k),v()}return x}return Pd=i,Pd}var WL=VL();const KL=ep(WL);var XL=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function c(y){try{v(r.next(y))}catch(w){h(w)}}function g(y){try{v(r.throw(y))}catch(w){h(w)}}function v(y){y.done?l(y.value):i(y.value).then(c,g)}v((r=r.apply(e,t||[])).next())})};const ZL=({copyConfig:e,children:t})=>{const[n,r]=b.useState(!1),[i,l]=b.useState(!1),h=b.useRef(null),c=()=>{h.current&&clearTimeout(h.current)},g={};e.format&&(g.format=e.format),b.useEffect(()=>c,[]);const v=Ja(y=>XL(void 0,void 0,void 0,function*(){var w;y?.preventDefault(),y?.stopPropagation(),l(!0);try{const k=typeof e.text=="function"?yield e.text():e.text;KL(k||WS(t,!0).join("")||"",g),l(!1),r(!0),c(),h.current=setTimeout(()=>{r(!1)},3e3),(w=e.onCopy)===null||w===void 0||w.call(e,y)}catch(k){throw l(!1),k}}));return{copied:n,copyLoading:i,onClick:v}};function Id(e,t){return b.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&typeof e=="object"?e:null)]},[e])}const YL=e=>{const t=b.useRef(void 0);return b.useEffect(()=>{t.current=e}),t.current},JL=(e,t,n)=>b.useMemo(()=>e===!0?{title:t??n}:b.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??n},e):{title:e},[e,t,n]);var QL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const x1=b.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:l,setContentRef:h,children:c,direction:g,style:v}=e,y=QL(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:w,direction:k,className:x,style:N}=vs("typography"),I=g??k,O=h?Ps(t,h):t,T=w("typography",n),[F,R,$]=b1(T),G=bt(T,x,{[`${T}-rtl`]:I==="rtl"},i,l,R,$),Q=Object.assign(Object.assign({},N),v);return F(b.createElement(r,Object.assign({className:G,style:Q,ref:O},y),c))});var eN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},tN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:eN}))},nN=b.forwardRef(tN);function Hm(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Od(e,t,n){return e===!0||e===void 0?t:e||n&&t}function rN(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const Tp=e=>["string","number"].includes(typeof e),iN=({prefixCls:e,copied:t,locale:n,iconOnly:r,tooltips:i,icon:l,tabIndex:h,onCopy:c,loading:g})=>{const v=Hm(i),y=Hm(l),{copied:w,copy:k}=n??{},x=t?w:k,N=Od(v[t?1:0],x),I=typeof N=="string"?N:x;return b.createElement(sa,{title:N},b.createElement("button",{type:"button",className:bt(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:r}),onClick:c,"aria-label":I,tabIndex:h},t?Od(y[1],b.createElement(Yx,null),!0):Od(y[0],g?b.createElement(qh,null):b.createElement(nN,null),!0)))},Bc=b.forwardRef(({style:e,children:t},n)=>{const r=b.useRef(null);return b.useImperativeHandle(n,()=>({isExceed:()=>{const i=r.current;return i.scrollHeight>i.clientHeight},getHeight:()=>r.current.clientHeight})),b.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},e)},t)}),aN=e=>e.reduce((t,n)=>t+(Tp(n)?String(n).length:1),0);function qm(e,t){let n=0;const r=[];for(let i=0;i<e.length;i+=1){if(n===t)return r;const l=e[i],c=Tp(l)?String(l).length:1,g=n+c;if(g>t){const v=t-n;return r.push(String(l).slice(0,v)),r}r.push(l),n=g}return e}const Ad=0,Td=1,Rd=2,Bd=3,Um=4,Dc={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function oN(e){const{enableMeasure:t,width:n,text:r,children:i,rows:l,expanded:h,miscDeps:c,onEllipsis:g}=e,v=b.useMemo(()=>Rl(r),[r]),y=b.useMemo(()=>aN(v),[r]),w=b.useMemo(()=>i(v,!1),[r]),[k,x]=b.useState(null),N=b.useRef(null),I=b.useRef(null),O=b.useRef(null),T=b.useRef(null),F=b.useRef(null),[R,$]=b.useState(!1),[G,Q]=b.useState(Ad),[ee,Y]=b.useState(0),[q,oe]=b.useState(null);na(()=>{Q(t&&n&&y?Td:Ad)},[n,r,l,t,v]),na(()=>{var V,J,ie,le;if(G===Td){Q(Rd);const ue=I.current&&getComputedStyle(I.current).whiteSpace;oe(ue)}else if(G===Rd){const ue=!!(!((V=O.current)===null||V===void 0)&&V.isExceed());Q(ue?Bd:Um),x(ue?[0,y]:null),$(ue);const be=((J=O.current)===null||J===void 0?void 0:J.getHeight())||0,Le=l===1?0:((ie=T.current)===null||ie===void 0?void 0:ie.getHeight())||0,Re=((le=F.current)===null||le===void 0?void 0:le.getHeight())||0,ne=Math.max(be,Le+Re);Y(ne+1),g(ue)}},[G]);const D=k?Math.ceil((k[0]+k[1])/2):0;na(()=>{var V;const[J,ie]=k||[0,0];if(J!==ie){const ue=(((V=N.current)===null||V===void 0?void 0:V.getHeight())||0)>ee;let be=D;ie-J===1&&(be=ue?J:ie),x(ue?[J,be]:[be,ie])}},[k,D]);const U=b.useMemo(()=>{if(!t)return i(v,!1);if(G!==Bd||!k||k[0]!==k[1]){const V=i(v,!1);return[Um,Ad].includes(G)?V:b.createElement("span",{style:Object.assign(Object.assign({},Dc),{WebkitLineClamp:l})},V)}return i(h?v:qm(v,k[0]),R)},[h,G,k,v].concat(En(c))),te={width:n,margin:0,padding:0,whiteSpace:q==="nowrap"?"normal":"inherit"};return b.createElement(b.Fragment,null,U,G===Rd&&b.createElement(b.Fragment,null,b.createElement(Bc,{style:Object.assign(Object.assign(Object.assign({},te),Dc),{WebkitLineClamp:l}),ref:O},w),b.createElement(Bc,{style:Object.assign(Object.assign(Object.assign({},te),Dc),{WebkitLineClamp:l-1}),ref:T},w),b.createElement(Bc,{style:Object.assign(Object.assign(Object.assign({},te),Dc),{WebkitLineClamp:1}),ref:F},i([],!0))),G===Bd&&k&&k[0]!==k[1]&&b.createElement(Bc,{style:Object.assign(Object.assign({},te),{top:400}),ref:N},i(qm(v,D),!0)),G===Td&&b.createElement("span",{style:{whiteSpace:"inherit"},ref:I}))}const sN=({enableEllipsis:e,isEllipsis:t,children:n,tooltipProps:r})=>!r?.title||!e?n:b.createElement(sa,Object.assign({open:t?void 0:!1},r),n);var lN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function uN({mark:e,code:t,underline:n,delete:r,strong:i,keyboard:l,italic:h},c){let g=c;function v(y,w){w&&(g=b.createElement(y,{},g))}return v("strong",i),v("u",n),v("del",r),v("code",t),v("mark",e),v("kbd",l),v("i",h),g}const cN="...",Gm=["delete","mark","code","underline","strong","keyboard","italic"],Qh=b.forwardRef((e,t)=>{var n;const{prefixCls:r,className:i,style:l,type:h,disabled:c,children:g,ellipsis:v,editable:y,copyable:w,component:k,title:x}=e,N=lN(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:I,direction:O}=b.useContext(Jr),[T]=Tl("Text"),F=b.useRef(null),R=b.useRef(null),$=I("typography",r),G=Zo(N,Gm),[Q,ee]=Id(y),[Y,q]=ps(!1,{value:ee.editing}),{triggerType:oe=["icon"]}=ee,D=zt=>{var jt;zt&&((jt=ee.onStart)===null||jt===void 0||jt.call(ee)),q(zt)},U=YL(Y);na(()=>{var zt;!Y&&U&&((zt=R.current)===null||zt===void 0||zt.focus())},[Y]);const te=zt=>{zt?.preventDefault(),D(!0)},V=zt=>{var jt;(jt=ee.onChange)===null||jt===void 0||jt.call(ee,zt),D(!1)},J=()=>{var zt;(zt=ee.onCancel)===null||zt===void 0||zt.call(ee),D(!1)},[ie,le]=Id(w),{copied:ue,copyLoading:be,onClick:Le}=ZL({copyConfig:le,children:g}),[Re,ne]=b.useState(!1),[ce,me]=b.useState(!1),[we,ke]=b.useState(!1),[Be,he]=b.useState(!1),[qe,We]=b.useState(!0),[Fe,de]=Id(v,{expandable:!1,symbol:zt=>zt?T?.collapse:T?.expand}),[it,ft]=ps(de.defaultExpanded||!1,{value:de.expanded}),fe=Fe&&(!it||de.expandable==="collapsible"),{rows:tt=1}=de,kt=b.useMemo(()=>fe&&(de.suffix!==void 0||de.onEllipsis||de.expandable||Q||ie),[fe,de,Q,ie]);na(()=>{Fe&&!kt&&(ne(yf("webkitLineClamp")),me(yf("textOverflow")))},[kt,Fe]);const[At,Xe]=b.useState(fe),Xt=b.useMemo(()=>kt?!1:tt===1?ce:Re,[kt,ce,Re]);na(()=>{Xe(Xt&&fe)},[Xt,fe]);const nt=fe&&(At?Be:we),mt=fe&&tt===1&&At,wt=fe&&tt>1&&At,Et=(zt,jt)=>{var ln;ft(jt.expanded),(ln=de.onExpand)===null||ln===void 0||ln.call(de,zt,jt)},[Zt,nn]=b.useState(0),dn=({offsetWidth:zt})=>{nn(zt)},Dt=zt=>{var jt;ke(zt),we!==zt&&((jt=de.onEllipsis)===null||jt===void 0||jt.call(de,zt))};b.useEffect(()=>{const zt=F.current;if(Fe&&At&&zt){const jt=rN(zt);Be!==jt&&he(jt)}},[Fe,At,g,wt,qe,Zt]),b.useEffect(()=>{const zt=F.current;if(typeof IntersectionObserver>"u"||!zt||!At||!fe)return;const jt=new IntersectionObserver(()=>{We(!!zt.offsetParent)});return jt.observe(zt),()=>{jt.disconnect()}},[At,fe]);const Jt=JL(de.tooltip,ee.text,g),Ft=b.useMemo(()=>{if(!(!Fe||At))return[ee.text,g,x,Jt.title].find(Tp)},[Fe,At,x,Jt.title,nt]);if(Y)return b.createElement(UL,{value:(n=ee.text)!==null&&n!==void 0?n:typeof g=="string"?g:"",onSave:V,onCancel:J,onEnd:ee.onEnd,prefixCls:$,className:i,style:l,direction:O,component:k,maxLength:ee.maxLength,autoSize:ee.autoSize,enterIcon:ee.enterIcon});const ht=()=>{const{expandable:zt,symbol:jt}=de;return zt?b.createElement("button",{type:"button",key:"expand",className:`${$}-${it?"collapse":"expand"}`,onClick:ln=>Et(ln,{expanded:!it}),"aria-label":it?T.collapse:T?.expand},typeof jt=="function"?jt(it):jt):null},Mt=()=>{if(!Q)return;const{icon:zt,tooltip:jt,tabIndex:ln}=ee,an=Rl(jt)[0]||T?.edit,hn=typeof an=="string"?an:"";return oe.includes("icon")?b.createElement(sa,{key:"edit",title:jt===!1?"":an},b.createElement("button",{type:"button",ref:R,className:`${$}-edit`,onClick:te,"aria-label":hn,tabIndex:ln},zt||b.createElement(IL,{role:"button"}))):null},tn=()=>ie?b.createElement(iN,Object.assign({key:"copy"},le,{prefixCls:$,copied:ue,locale:T,onCopy:Le,loading:be,iconOnly:g==null})):null,fn=zt=>[zt&&ht(),Mt(),tn()],Tt=zt=>[zt&&!it&&b.createElement("span",{"aria-hidden":!0,key:"ellipsis"},cN),de.suffix,fn(zt)];return b.createElement(Uh,{onResize:dn,disabled:!fe},zt=>b.createElement(sN,{tooltipProps:Jt,enableEllipsis:fe,isEllipsis:nt},b.createElement(x1,Object.assign({className:bt({[`${$}-${h}`]:h,[`${$}-disabled`]:c,[`${$}-ellipsis`]:Fe,[`${$}-ellipsis-single-line`]:mt,[`${$}-ellipsis-multiple-line`]:wt},i),prefixCls:r,style:Object.assign(Object.assign({},l),{WebkitLineClamp:wt?tt:void 0}),component:k,ref:Ps(zt,F,t),direction:O,onClick:oe.includes("text")?te:void 0,"aria-label":Ft?.toString(),title:x},G),b.createElement(oN,{enableMeasure:fe&&!At,text:g,rows:tt,width:Zt,onEllipsis:Dt,expanded:it,miscDeps:[ue,it,be,Q,ie,T].concat(En(Gm.map(jt=>e[jt])))},(jt,ln)=>uN(e,b.createElement(b.Fragment,null,jt.length>0&&ln&&!it&&Ft?b.createElement("span",{key:"show-content","aria-hidden":!0},jt):jt,Tt(ln)))))))});var hN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const dN=b.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,i=hN(e,["ellipsis","rel"]);const l=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete l.navigate,b.createElement(Qh,Object.assign({},l,{ref:t,ellipsis:!!n,component:"a"}))}),fN=b.forwardRef((e,t)=>b.createElement(Qh,Object.assign({ref:t},e,{component:"div"})));var pN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gN=(e,t)=>{var{ellipsis:n}=e,r=pN(e,["ellipsis"]);const i=b.useMemo(()=>n&&typeof n=="object"?Zo(n,["expandable","rows"]):n,[n]);return b.createElement(Qh,Object.assign({ref:t},r,{ellipsis:i,component:"span"}))},mN=b.forwardRef(gN);var vN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const yN=[1,2,3,4,5],_N=b.forwardRef((e,t)=>{const{level:n=1}=e,r=vN(e,["level"]),i=yN.includes(n)?`h${n}`:"h1";return b.createElement(Qh,Object.assign({ref:t},r,{component:i}))}),Fl=x1;Fl.Text=mN;Fl.Link=dN;Fl.Title=_N;Fl.Paragraph=fN;var bN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},xN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:bN}))},wN=b.forwardRef(xN),CN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},SN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:CN}))},EN=b.forwardRef(SN),kN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},LN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:kN}))},NN=b.forwardRef(LN),MN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},PN=function(t,n){return b.createElement(Ti,bn({},t,{ref:n,icon:MN}))},IN=b.forwardRef(PN);const w1=b.memo(({portalDetails:e})=>Ie.jsxs("div",{className:"top-location-card",children:[Ie.jsx("div",{className:"loc-icon",children:Ie.jsx("img",{src:e?.portal_logo_img_url,alt:"Location Logo",loading:"lazy"})}),Ie.jsxs("div",{className:"loc-text",children:[Ie.jsx("div",{className:"loc-title",children:e?.portal_nm}),Ie.jsx("div",{className:"loc-sub",children:e?.portal_desc})]})]}));w1.displayName="TopLocationCard";const{Option:Vm}=ks,ON=b.memo(({filters:e,setFilters:t})=>{const n=b.useCallback((R,$)=>{t(G=>({...G,[R]:$}))},[t]),{measureBy:r,areaSubdivision:i,excludePostal:l,ageRange:h,residentsOnly:c,gender:g,income:v}=e,y=b.useCallback(R=>n("measureBy",R),[n]),w=b.useCallback(R=>n("areaSubdivision",R),[n]),k=b.useCallback(R=>n("ageRange",R),[n]),x=b.useCallback(R=>n("residentsOnly",R.target.value==="residents"),[n]),N=b.useCallback(R=>n("gender",R),[n]),I=b.useCallback(R=>n("income",R),[n]),O=b.useCallback(R=>{n("excludePostal",l.filter($=>$!==R))},[l,n]),T=b.useMemo(()=>l.map(R=>Ie.jsx(y1,{closable:!0,onClose:()=>O(R),children:R},R)),[l,O]),F=b.useMemo(()=>["all","male","female"].map(R=>Ie.jsx(ii,{type:g===R?"primary":"default",onClick:()=>N(R),children:R.charAt(0).toUpperCase()+R.slice(1)},R)),[g,N]);return Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs("div",{className:"measure-row",children:[Ie.jsx("div",{className:"measure-label",children:"Measured at"}),Ie.jsxs(_a,{children:[Ie.jsx(ii,{size:"small",type:r==="visits"?"primary":"default",onClick:()=>y("visits"),children:"Visits"}),Ie.jsx(ii,{size:"small",type:r==="visitors"?"primary":"default",onClick:()=>y("visitors"),children:"Visitors"})]})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Area subdivisions"}),Ie.jsxs(ks,{value:i,onChange:w,style:{width:"100%"},children:[Ie.jsx(Vm,{value:"postal",children:"Postal codes"}),Ie.jsx(Vm,{value:"district",children:"Districts"})]})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Exclude postal codes"}),Ie.jsx(Wu,{prefix:Ie.jsx(Gh,{}),placeholder:"Postal code number"}),Ie.jsx("div",{className:"tag-row",children:T})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Age group"}),Ie.jsx(Kg,{range:!0,min:0,max:100,value:h,onChange:k})]}),Ie.jsxs("div",{className:"field small-row",children:[Ie.jsx("label",{children:"Consider POI visitors"}),Ie.jsxs(il.Group,{value:c?"residents":"all",onChange:x,children:[Ie.jsx(il,{value:"residents",children:"Residents"}),Ie.jsx(il,{value:"all",children:"All"})]}),Ie.jsx(sa,{title:"Inclusion of locals, guests, workers",children:Ie.jsx("span",{className:"info-dot",children:"i"})})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Gender"}),Ie.jsx(_a,{children:F})]}),Ie.jsxs("div",{className:"field",children:[Ie.jsx("label",{children:"Household income"}),Ie.jsx(Kg,{range:!0,min:0,max:1e4,value:v,onChange:I})]}),Ie.jsxs("div",{className:"controls-actions",children:[Ie.jsx(ii,{type:"primary",children:"Apply"}),Ie.jsx(ii,{children:"Clear"})]})]})});ON.displayName="FiltersPanel";const AN=jv.injectEndpoints({endpoints:e=>({getLayers:e.mutation({query:t=>({url:"layers/list/",method:"POST",body:{portal_id:t}}),transformResponse:t=>t,invalidatesTags:["Layer"]}),getLayerObjects:e.mutation({query:({layerId:t,portalId:n})=>({url:"object/layer-object/",method:"POST",body:{layer_id:t,portal_id:n}}),transformResponse:t=>t,invalidatesTags:(t,n,r)=>[{type:"Layer",id:r}]})}),overrideExisting:!1}),{useGetLayersMutation:TN,useGetLayerObjectsMutation:RN}=AN;function BN(e,t){const n=b.useRef(t);b.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const DN=1;function $N(e){return Object.freeze({__version:DN,map:e})}function Rp(e,t){return Object.freeze({...e,...t})}const ed=b.createContext(null);function mc(){const e=b.use(ed);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function C1(e){function t(n,r){const{instance:i,context:l}=e(n).current;b.useImperativeHandle(r,()=>i);const{children:h}=n;return h==null?null:Ot.createElement(ed,{value:l},h)}return b.forwardRef(t)}function S1(e){function t(n,r){const{instance:i}=e(n).current;return b.useImperativeHandle(r,()=>i),null}return b.forwardRef(t)}function E1(e){return function(n){const r=mc(),i=e(n,r),{instance:l}=i.current,h=b.useRef(n.position),{position:c}=n;return b.useEffect(function(){return l.addTo(r.map),function(){l.remove()}},[r.map,l]),b.useEffect(function(){c!=null&&c!==h.current&&(l.setPosition(c),h.current=c)},[l,c]),i}}function k1(e,t){const n=b.useRef(void 0);b.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Bp(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var qu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var FN=qu.exports,Wm;function L1(){return Wm||(Wm=1,(function(e,t){(function(n,r){r(t)})(FN,(function(n){var r="1.9.4";function i(s){var m,M,H,ae;for(M=1,H=arguments.length;M<H;M++){ae=arguments[M];for(m in ae)s[m]=ae[m]}return s}var l=Object.create||(function(){function s(){}return function(m){return s.prototype=m,new s}})();function h(s,m){var M=Array.prototype.slice;if(s.bind)return s.bind.apply(s,M.call(arguments,1));var H=M.call(arguments,2);return function(){return s.apply(m,H.length?H.concat(M.call(arguments)):arguments)}}var c=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function v(s,m,M){var H,ae,Ce,Ye;return Ye=function(){H=!1,ae&&(Ce.apply(M,ae),ae=!1)},Ce=function(){H?ae=arguments:(s.apply(M,arguments),setTimeout(Ye,m),H=!0)},Ce}function y(s,m,M){var H=m[1],ae=m[0],Ce=H-ae;return s===H&&M?s:((s-ae)%Ce+Ce)%Ce+ae}function w(){return!1}function k(s,m){if(m===!1)return s;var M=Math.pow(10,m===void 0?6:m);return Math.round(s*M)/M}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function N(s){return x(s).split(/\s+/)}function I(s,m){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var M in m)s.options[M]=m[M];return s.options}function O(s,m,M){var H=[];for(var ae in s)H.push(encodeURIComponent(M?ae.toUpperCase():ae)+"="+encodeURIComponent(s[ae]));return(!m||m.indexOf("?")===-1?"?":"&")+H.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function F(s,m){return s.replace(T,function(M,H){var ae=m[H];if(ae===void 0)throw new Error("No value provided for variable "+M);return typeof ae=="function"&&(ae=ae(m)),ae})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function $(s,m){for(var M=0;M<s.length;M++)if(s[M]===m)return M;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var ee=0;function Y(s){var m=+new Date,M=Math.max(0,16-(m-ee));return ee=m+M,window.setTimeout(s,M)}var q=window.requestAnimationFrame||Q("RequestAnimationFrame")||Y,oe=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function D(s,m,M){if(M&&q===Y)s.call(m);else return q.call(window,h(s,m))}function U(s){s&&oe.call(window,s)}var te={__proto__:null,extend:i,create:l,bind:h,get lastId(){return c},stamp:g,throttle:v,wrapNum:y,falseFn:w,formatNum:k,trim:x,splitWords:N,setOptions:I,getParamString:O,template:F,isArray:R,indexOf:$,emptyImageUrl:G,requestFn:q,cancelFn:oe,requestAnimFrame:D,cancelAnimFrame:U};function V(){}V.extend=function(s){var m=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},M=m.__super__=this.prototype,H=l(M);H.constructor=m,m.prototype=H;for(var ae in this)Object.prototype.hasOwnProperty.call(this,ae)&&ae!=="prototype"&&ae!=="__super__"&&(m[ae]=this[ae]);return s.statics&&i(m,s.statics),s.includes&&(J(s.includes),i.apply(null,[H].concat(s.includes))),i(H,s),delete H.statics,delete H.includes,H.options&&(H.options=M.options?l(M.options):{},i(H.options,s.options)),H._initHooks=[],H.callInitHooks=function(){if(!this._initHooksCalled){M.callInitHooks&&M.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ce=0,Ye=H._initHooks.length;Ce<Ye;Ce++)H._initHooks[Ce].call(this)}},m},V.include=function(s){var m=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=m,this.mergeOptions(s.options)),this},V.mergeOptions=function(s){return i(this.prototype.options,s),this},V.addInitHook=function(s){var m=Array.prototype.slice.call(arguments,1),M=typeof s=="function"?s:function(){this[s].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(M),this};function J(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var m=0;m<s.length;m++)s[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ie={on:function(s,m,M){if(typeof s=="object")for(var H in s)this._on(H,s[H],m);else{s=N(s);for(var ae=0,Ce=s.length;ae<Ce;ae++)this._on(s[ae],m,M)}return this},off:function(s,m,M){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var H in s)this._off(H,s[H],m);else{s=N(s);for(var ae=arguments.length===1,Ce=0,Ye=s.length;Ce<Ye;Ce++)ae?this._off(s[Ce]):this._off(s[Ce],m,M)}return this},_on:function(s,m,M,H){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(s,m,M)===!1){M===this&&(M=void 0);var ae={fn:m,ctx:M};H&&(ae.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(ae)}},_off:function(s,m,M){var H,ae,Ce;if(this._events&&(H=this._events[s],!!H)){if(arguments.length===1){if(this._firingCount)for(ae=0,Ce=H.length;ae<Ce;ae++)H[ae].fn=w;delete this._events[s];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Ye=this._listens(s,m,M);if(Ye!==!1){var xt=H[Ye];this._firingCount&&(xt.fn=w,this._events[s]=H=H.slice()),H.splice(Ye,1)}}},fire:function(s,m,M){if(!this.listens(s,M))return this;var H=i({},m,{type:s,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var ae=this._events[s];if(ae){this._firingCount=this._firingCount+1||1;for(var Ce=0,Ye=ae.length;Ce<Ye;Ce++){var xt=ae[Ce],It=xt.fn;xt.once&&this.off(s,It,xt.ctx),It.call(xt.ctx||this,H)}this._firingCount--}}return M&&this._propagateEvent(H),this},listens:function(s,m,M,H){typeof s!="string"&&console.warn('"string" type argument expected');var ae=m;typeof m!="function"&&(H=!!m,ae=void 0,M=void 0);var Ce=this._events&&this._events[s];if(Ce&&Ce.length&&this._listens(s,ae,M)!==!1)return!0;if(H){for(var Ye in this._eventParents)if(this._eventParents[Ye].listens(s,m,M,H))return!0}return!1},_listens:function(s,m,M){if(!this._events)return!1;var H=this._events[s]||[];if(!m)return!!H.length;M===this&&(M=void 0);for(var ae=0,Ce=H.length;ae<Ce;ae++)if(H[ae].fn===m&&H[ae].ctx===M)return ae;return!1},once:function(s,m,M){if(typeof s=="object")for(var H in s)this._on(H,s[H],m,!0);else{s=N(s);for(var ae=0,Ce=s.length;ae<Ce;ae++)this._on(s[ae],m,M,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var m in this._eventParents)this._eventParents[m].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};ie.addEventListener=ie.on,ie.removeEventListener=ie.clearAllEventListeners=ie.off,ie.addOneTimeEventListener=ie.once,ie.fireEvent=ie.fire,ie.hasEventListeners=ie.listens;var le=V.extend(ie);function ue(s,m,M){this.x=M?Math.round(s):s,this.y=M?Math.round(m):m}var be=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ue.prototype={clone:function(){return new ue(this.x,this.y)},add:function(s){return this.clone()._add(Le(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Le(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ue(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ue(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=be(this.x),this.y=be(this.y),this},distanceTo:function(s){s=Le(s);var m=s.x-this.x,M=s.y-this.y;return Math.sqrt(m*m+M*M)},equals:function(s){return s=Le(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Le(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function Le(s,m,M){return s instanceof ue?s:R(s)?new ue(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ue(s.x,s.y):new ue(s,m,M)}function Re(s,m){if(s)for(var M=m?[s,m]:s,H=0,ae=M.length;H<ae;H++)this.extend(M[H])}Re.prototype={extend:function(s){var m,M;if(!s)return this;if(s instanceof ue||typeof s[0]=="number"||"x"in s)m=M=Le(s);else if(s=ne(s),m=s.min,M=s.max,!m||!M)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=M.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(M.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(M.y,this.max.y)),this},getCenter:function(s){return Le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Le(this.min.x,this.max.y)},getTopRight:function(){return Le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var m,M;return typeof s[0]=="number"||s instanceof ue?s=Le(s):s=ne(s),s instanceof Re?(m=s.min,M=s.max):m=M=s,m.x>=this.min.x&&M.x<=this.max.x&&m.y>=this.min.y&&M.y<=this.max.y},intersects:function(s){s=ne(s);var m=this.min,M=this.max,H=s.min,ae=s.max,Ce=ae.x>=m.x&&H.x<=M.x,Ye=ae.y>=m.y&&H.y<=M.y;return Ce&&Ye},overlaps:function(s){s=ne(s);var m=this.min,M=this.max,H=s.min,ae=s.max,Ce=ae.x>m.x&&H.x<M.x,Ye=ae.y>m.y&&H.y<M.y;return Ce&&Ye},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var m=this.min,M=this.max,H=Math.abs(m.x-M.x)*s,ae=Math.abs(m.y-M.y)*s;return ne(Le(m.x-H,m.y-ae),Le(M.x+H,M.y+ae))},equals:function(s){return s?(s=ne(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ne(s,m){return!s||s instanceof Re?s:new Re(s,m)}function ce(s,m){if(s)for(var M=m?[s,m]:s,H=0,ae=M.length;H<ae;H++)this.extend(M[H])}ce.prototype={extend:function(s){var m=this._southWest,M=this._northEast,H,ae;if(s instanceof we)H=s,ae=s;else if(s instanceof ce){if(H=s._southWest,ae=s._northEast,!H||!ae)return this}else return s?this.extend(ke(s)||me(s)):this;return!m&&!M?(this._southWest=new we(H.lat,H.lng),this._northEast=new we(ae.lat,ae.lng)):(m.lat=Math.min(H.lat,m.lat),m.lng=Math.min(H.lng,m.lng),M.lat=Math.max(ae.lat,M.lat),M.lng=Math.max(ae.lng,M.lng)),this},pad:function(s){var m=this._southWest,M=this._northEast,H=Math.abs(m.lat-M.lat)*s,ae=Math.abs(m.lng-M.lng)*s;return new ce(new we(m.lat-H,m.lng-ae),new we(M.lat+H,M.lng+ae))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof we||"lat"in s?s=ke(s):s=me(s);var m=this._southWest,M=this._northEast,H,ae;return s instanceof ce?(H=s.getSouthWest(),ae=s.getNorthEast()):H=ae=s,H.lat>=m.lat&&ae.lat<=M.lat&&H.lng>=m.lng&&ae.lng<=M.lng},intersects:function(s){s=me(s);var m=this._southWest,M=this._northEast,H=s.getSouthWest(),ae=s.getNorthEast(),Ce=ae.lat>=m.lat&&H.lat<=M.lat,Ye=ae.lng>=m.lng&&H.lng<=M.lng;return Ce&&Ye},overlaps:function(s){s=me(s);var m=this._southWest,M=this._northEast,H=s.getSouthWest(),ae=s.getNorthEast(),Ce=ae.lat>m.lat&&H.lat<M.lat,Ye=ae.lng>m.lng&&H.lng<M.lng;return Ce&&Ye},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,m){return s?(s=me(s),this._southWest.equals(s.getSouthWest(),m)&&this._northEast.equals(s.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(s,m){return s instanceof ce?s:new ce(s,m)}function we(s,m,M){if(isNaN(s)||isNaN(m))throw new Error("Invalid LatLng object: ("+s+", "+m+")");this.lat=+s,this.lng=+m,M!==void 0&&(this.alt=+M)}we.prototype={equals:function(s,m){if(!s)return!1;s=ke(s);var M=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return M<=(m===void 0?1e-9:m)},toString:function(s){return"LatLng("+k(this.lat,s)+", "+k(this.lng,s)+")"},distanceTo:function(s){return he.distance(this,ke(s))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(s){var m=180*s/40075017,M=m/Math.cos(Math.PI/180*this.lat);return me([this.lat-m,this.lng-M],[this.lat+m,this.lng+M])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function ke(s,m,M){return s instanceof we?s:R(s)&&typeof s[0]!="object"?s.length===3?new we(s[0],s[1],s[2]):s.length===2?new we(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new we(s.lat,"lng"in s?s.lng:s.lon,s.alt):m===void 0?null:new we(s,m,M)}var Be={latLngToPoint:function(s,m){var M=this.projection.project(s),H=this.scale(m);return this.transformation._transform(M,H)},pointToLatLng:function(s,m){var M=this.scale(m),H=this.transformation.untransform(s,M);return this.projection.unproject(H)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var m=this.projection.bounds,M=this.scale(s),H=this.transformation.transform(m.min,M),ae=this.transformation.transform(m.max,M);return new Re(H,ae)},infinite:!1,wrapLatLng:function(s){var m=this.wrapLng?y(s.lng,this.wrapLng,!0):s.lng,M=this.wrapLat?y(s.lat,this.wrapLat,!0):s.lat,H=s.alt;return new we(M,m,H)},wrapLatLngBounds:function(s){var m=s.getCenter(),M=this.wrapLatLng(m),H=m.lat-M.lat,ae=m.lng-M.lng;if(H===0&&ae===0)return s;var Ce=s.getSouthWest(),Ye=s.getNorthEast(),xt=new we(Ce.lat-H,Ce.lng-ae),It=new we(Ye.lat-H,Ye.lng-ae);return new ce(xt,It)}},he=i({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(s,m){var M=Math.PI/180,H=s.lat*M,ae=m.lat*M,Ce=Math.sin((m.lat-s.lat)*M/2),Ye=Math.sin((m.lng-s.lng)*M/2),xt=Ce*Ce+Math.cos(H)*Math.cos(ae)*Ye*Ye,It=2*Math.atan2(Math.sqrt(xt),Math.sqrt(1-xt));return this.R*It}}),qe=6378137,We={R:qe,MAX_LATITUDE:85.0511287798,project:function(s){var m=Math.PI/180,M=this.MAX_LATITUDE,H=Math.max(Math.min(M,s.lat),-M),ae=Math.sin(H*m);return new ue(this.R*s.lng*m,this.R*Math.log((1+ae)/(1-ae))/2)},unproject:function(s){var m=180/Math.PI;return new we((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*m,s.x*m/this.R)},bounds:(function(){var s=qe*Math.PI;return new Re([-s,-s],[s,s])})()};function Fe(s,m,M,H){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=m,this._c=M,this._d=H}Fe.prototype={transform:function(s,m){return this._transform(s.clone(),m)},_transform:function(s,m){return m=m||1,s.x=m*(this._a*s.x+this._b),s.y=m*(this._c*s.y+this._d),s},untransform:function(s,m){return m=m||1,new ue((s.x/m-this._b)/this._a,(s.y/m-this._d)/this._c)}};function de(s,m,M,H){return new Fe(s,m,M,H)}var it=i({},he,{code:"EPSG:3857",projection:We,transformation:(function(){var s=.5/(Math.PI*We.R);return de(s,.5,-s,.5)})()}),ft=i({},it,{code:"EPSG:900913"});function fe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function tt(s,m){var M="",H,ae,Ce,Ye,xt,It;for(H=0,Ce=s.length;H<Ce;H++){for(xt=s[H],ae=0,Ye=xt.length;ae<Ye;ae++)It=xt[ae],M+=(ae?"L":"M")+It.x+" "+It.y;M+=m?cn.svg?"z":"x":""}return M||"M0 0"}var kt=document.documentElement.style,At="ActiveXObject"in window,Xe=At&&!document.addEventListener,Xt="msLaunchUri"in navigator&&!("documentMode"in document),nt=zn("webkit"),mt=zn("android"),wt=zn("android 2")||zn("android 3"),Et=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zt=mt&&zn("Google")&&Et<537&&!("AudioNode"in window),nn=!!window.opera,dn=!Xt&&zn("chrome"),Dt=zn("gecko")&&!nt&&!nn&&!At,Jt=!dn&&zn("safari"),Ft=zn("phantom"),ht="OTransition"in kt,Mt=navigator.platform.indexOf("Win")===0,tn=At&&"transition"in kt,fn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!wt,Tt="MozPerspective"in kt,zt=!window.L_DISABLE_3D&&(tn||fn||Tt)&&!ht&&!Ft,jt=typeof orientation<"u"||zn("mobile"),ln=jt&&nt,an=jt&&fn,hn=!window.PointerEvent&&window.MSPointerEvent,Bn=!!(window.PointerEvent||hn),Rt="ontouchstart"in window||!!window.TouchEvent,Gt=!window.L_NO_TOUCH&&(Rt||Bn),gn=jt&&nn,An=jt&&Dt,Dn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kt=(function(){var s=!1;try{var m=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,m),window.removeEventListener("testPassiveEventSupport",w,m)}catch{}return s})(),dr=(function(){return!!document.createElement("canvas").getContext})(),mn=!!(document.createElementNS&&fe("svg").createSVGRect),br=!!mn&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Un=!mn&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var m=s.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),ur=navigator.platform.indexOf("Mac")===0,Tr=navigator.platform.indexOf("Linux")===0;function zn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var cn={ie:At,ielt9:Xe,edge:Xt,webkit:nt,android:mt,android23:wt,androidStock:Zt,opera:nn,chrome:dn,gecko:Dt,safari:Jt,phantom:Ft,opera12:ht,win:Mt,ie3d:tn,webkit3d:fn,gecko3d:Tt,any3d:zt,mobile:jt,mobileWebkit:ln,mobileWebkit3d:an,msPointer:hn,pointer:Bn,touch:Gt,touchNative:Rt,mobileOpera:gn,mobileGecko:An,retina:Dn,passiveEvents:Kt,canvas:dr,svg:mn,vml:Un,inlineSvg:br,mac:ur,linux:Tr},Pr=cn.msPointer?"MSPointerDown":"pointerdown",Ri=cn.msPointer?"MSPointerMove":"pointermove",Nn=cn.msPointer?"MSPointerUp":"pointerup",Gn=cn.msPointer?"MSPointerCancel":"pointercancel",wn={touchstart:Pr,touchmove:Ri,touchend:Nn,touchcancel:Gn},nr={touchstart:xn,touchmove:Jn,touchend:Jn,touchcancel:Jn},sr={},fr=!1;function wr(s,m,M){return m==="touchstart"&&Hi(),nr[m]?(M=nr[m].bind(this,M),s.addEventListener(wn[m],M,!1),M):(console.warn("wrong event specified:",m),w)}function Nr(s,m,M){if(!wn[m]){console.warn("wrong event specified:",m);return}s.removeEventListener(wn[m],M,!1)}function Si(s){sr[s.pointerId]=s}function yi(s){sr[s.pointerId]&&(sr[s.pointerId]=s)}function mr(s){delete sr[s.pointerId]}function Hi(){fr||(document.addEventListener(Pr,Si,!0),document.addEventListener(Ri,yi,!0),document.addEventListener(Nn,mr,!0),document.addEventListener(Gn,mr,!0),fr=!0)}function Jn(s,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var M in sr)m.touches.push(sr[M]);m.changedTouches=[m],s(m)}}function xn(s,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Kr(m),Jn(s,m)}function rr(s){var m={},M,H;for(H in s)M=s[H],m[H]=M&&M.bind?M.bind(s):M;return s=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var pr=200;function gr(s,m){s.addEventListener("dblclick",m);var M=0,H;function ae(Ce){if(Ce.detail!==1){H=Ce.detail;return}if(!(Ce.pointerType==="mouse"||Ce.sourceCapabilities&&!Ce.sourceCapabilities.firesTouchEvents)){var Ye=si(Ce);if(!(Ye.some(function(It){return It instanceof HTMLLabelElement&&It.attributes.for})&&!Ye.some(function(It){return It instanceof HTMLInputElement||It instanceof HTMLSelectElement}))){var xt=Date.now();xt-M<=pr?(H++,H===2&&m(rr(Ce))):H=1,M=xt}}}return s.addEventListener("click",ae),{dblclick:m,simDblclick:ae}}function _i(s,m){s.removeEventListener("dblclick",m.dblclick),s.removeEventListener("click",m.simDblclick)}var Sn=yo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kn=yo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zn=kn==="webkitTransition"||kn==="OTransition"?kn+"End":"transitionend";function Gr(s){return typeof s=="string"?document.getElementById(s):s}function Dr(s,m){var M=s.style[m]||s.currentStyle&&s.currentStyle[m];if((!M||M==="auto")&&document.defaultView){var H=document.defaultView.getComputedStyle(s,null);M=H?H[m]:null}return M==="auto"?null:M}function Fn(s,m,M){var H=document.createElement(s);return H.className=m||"",M&&M.appendChild(H),H}function xr(s){var m=s.parentNode;m&&m.removeChild(s)}function xa(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Vr(s){var m=s.parentNode;m&&m.lastChild!==s&&m.appendChild(s)}function la(s){var m=s.parentNode;m&&m.firstChild!==s&&m.insertBefore(s,m.firstChild)}function qi(s,m){if(s.classList!==void 0)return s.classList.contains(m);var M=Qr(s);return M.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(M)}function jn(s,m){if(s.classList!==void 0)for(var M=N(m),H=0,ae=M.length;H<ae;H++)s.classList.add(M[H]);else if(!qi(s,m)){var Ce=Qr(s);ai(s,(Ce?Ce+" ":"")+m)}}function Cr(s,m){s.classList!==void 0?s.classList.remove(m):ai(s,x((" "+Qr(s)+" ").replace(" "+m+" "," ")))}function ai(s,m){s.className.baseVal===void 0?s.className=m:s.className.baseVal=m}function Qr(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Hr(s,m){"opacity"in s.style?s.style.opacity=m:"filter"in s.style&&vo(s,m)}function vo(s,m){var M=!1,H="DXImageTransform.Microsoft.Alpha";try{M=s.filters.item(H)}catch{if(m===1)return}m=Math.round(m*100),M?(M.Enabled=m!==100,M.Opacity=m):s.style.filter+=" progid:"+H+"(opacity="+m+")"}function yo(s){for(var m=document.documentElement.style,M=0;M<s.length;M++)if(s[M]in m)return s[M];return!1}function Fa(s,m,M){var H=m||new ue(0,0);s.style[Sn]=(cn.ie3d?"translate("+H.x+"px,"+H.y+"px)":"translate3d("+H.x+"px,"+H.y+"px,0)")+(M?" scale("+M+")":"")}function Or(s,m){s._leaflet_pos=m,cn.any3d?Fa(s,m):(s.style.left=m.x+"px",s.style.top=m.y+"px")}function Wi(s){return s._leaflet_pos||new ue(0,0)}var Ki,Xi,wa;if("onselectstart"in document)Ki=function(){sn(window,"selectstart",Kr)},Xi=function(){Fr(window,"selectstart",Kr)};else{var ja=yo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ki=function(){if(ja){var s=document.documentElement.style;wa=s[ja],s[ja]="none"}},Xi=function(){ja&&(document.documentElement.style[ja]=wa,wa=void 0)}}function Qn(){sn(window,"dragstart",Kr)}function er(){Fr(window,"dragstart",Kr)}var Wn,oi;function Rr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Zi(),Wn=s,oi=s.style.outlineStyle,s.style.outlineStyle="none",sn(window,"keydown",Zi))}function Zi(){Wn&&(Wn.style.outlineStyle=oi,Wn=void 0,oi=void 0,Fr(window,"keydown",Zi))}function Wr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function ei(s){var m=s.getBoundingClientRect();return{x:m.width/s.offsetWidth||1,y:m.height/s.offsetHeight||1,boundingClientRect:m}}var Ca={__proto__:null,TRANSFORM:Sn,TRANSITION:kn,TRANSITION_END:Zn,get:Gr,getStyle:Dr,create:Fn,remove:xr,empty:xa,toFront:Vr,toBack:la,hasClass:qi,addClass:jn,removeClass:Cr,setClass:ai,getClass:Qr,setOpacity:Hr,testProp:yo,setTransform:Fa,setPosition:Or,getPosition:Wi,get disableTextSelection(){return Ki},get enableTextSelection(){return Xi},disableImageDrag:Qn,enableImageDrag:er,preventOutline:Rr,restoreOutline:Zi,getSizedParentNode:Wr,getScale:ei};function sn(s,m,M,H){if(m&&typeof m=="object")for(var ae in m)Ea(s,ae,m[ae],M);else{m=N(m);for(var Ce=0,Ye=m.length;Ce<Ye;Ce++)Ea(s,m[Ce],M,H)}return this}var Sa="_leaflet_events";function Fr(s,m,M,H){if(arguments.length===1)Ro(s),delete s[Sa];else if(m&&typeof m=="object")for(var ae in m)cr(s,ae,m[ae],M);else if(m=N(m),arguments.length===2)Ro(s,function(xt){return $(m,xt)!==-1});else for(var Ce=0,Ye=m.length;Ce<Ye;Ce++)cr(s,m[Ce],M,H);return this}function Ro(s,m){for(var M in s[Sa]){var H=M.split(/\d/)[0];(!m||m(H))&&cr(s,H,null,null,M)}}var za={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ea(s,m,M,H){var ae=m+g(M)+(H?"_"+g(H):"");if(s[Sa]&&s[Sa][ae])return this;var Ce=function(xt){return M.call(H||s,xt||window.event)},Ye=Ce;!cn.touchNative&&cn.pointer&&m.indexOf("touch")===0?Ce=wr(s,m,Ce):cn.touch&&m==="dblclick"?Ce=gr(s,Ce):"addEventListener"in s?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?s.addEventListener(za[m]||m,Ce,cn.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(Ce=function(xt){xt=xt||window.event,$o(s,xt)&&Ye(xt)},s.addEventListener(za[m],Ce,!1)):s.addEventListener(m,Ye,!1):s.attachEvent("on"+m,Ce),s[Sa]=s[Sa]||{},s[Sa][ae]=Ce}function cr(s,m,M,H,ae){ae=ae||m+g(M)+(H?"_"+g(H):"");var Ce=s[Sa]&&s[Sa][ae];if(!Ce)return this;!cn.touchNative&&cn.pointer&&m.indexOf("touch")===0?Nr(s,m,Ce):cn.touch&&m==="dblclick"?_i(s,Ce):"removeEventListener"in s?s.removeEventListener(za[m]||m,Ce,!1):s.detachEvent("on"+m,Ce),s[Sa][ae]=null}function Ii(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Qa(s){return Ea(s,"wheel",Ii),this}function eo(s){return sn(s,"mousedown touchstart dblclick contextmenu",Ii),s._leaflet_disable_click=!0,this}function Kr(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function to(s){return Kr(s),Ii(s),this}function si(s){if(s.composedPath)return s.composedPath();for(var m=[],M=s.target;M;)m.push(M),M=M.parentNode;return m}function os(s,m){if(!m)return new ue(s.clientX,s.clientY);var M=ei(m),H=M.boundingClientRect;return new ue((s.clientX-H.left)/M.x-m.clientLeft,(s.clientY-H.top)/M.y-m.clientTop)}var Bo=cn.linux&&cn.chrome?window.devicePixelRatio:cn.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Do(s){return cn.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Bo:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function $o(s,m){var M=m.relatedTarget;if(!M)return!0;try{for(;M&&M!==s;)M=M.parentNode}catch{return!1}return M!==s}var ka={__proto__:null,on:sn,off:Fr,stopPropagation:Ii,disableScrollPropagation:Qa,disableClickPropagation:eo,preventDefault:Kr,stop:to,getPropagationPath:si,getMousePosition:os,getWheelDelta:Do,isExternalTarget:$o,addListener:sn,removeListener:Fr},Fo=le.extend({run:function(s,m,M,H){this.stop(),this._el=s,this._inProgress=!0,this._duration=M||.25,this._easeOutPower=1/Math.max(H||.5,.2),this._startPos=Wi(s),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(s){var m=+new Date-this._startTime,M=this._duration*1e3;m<M?this._runFrame(this._easeOut(m/M),s):(this._runFrame(1),this._complete())},_runFrame:function(s,m){var M=this._startPos.add(this._offset.multiplyBy(s));m&&M._round(),Or(this._el,M),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Yn=le.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,m){m=I(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(ke(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kn&&cn.any3d&&!cn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),sn(this._proxy,Zn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,m,M){if(m=m===void 0?this._zoom:this._limitZoom(m),s=this._limitCenter(ke(s),m,this.options.maxBounds),M=M||{},this._stop(),this._loaded&&!M.reset&&M!==!0){M.animate!==void 0&&(M.zoom=i({animate:M.animate},M.zoom),M.pan=i({animate:M.animate,duration:M.duration},M.pan));var H=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,m,M.zoom):this._tryAnimatedPan(s,M.pan);if(H)return clearTimeout(this._sizeTimer),this}return this._resetView(s,m,M.pan&&M.pan.noMoveStart),this},setZoom:function(s,m){return this._loaded?this.setView(this.getCenter(),s,{zoom:m}):(this._zoom=s,this)},zoomIn:function(s,m){return s=s||(cn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,m)},zoomOut:function(s,m){return s=s||(cn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,m)},setZoomAround:function(s,m,M){var H=this.getZoomScale(m),ae=this.getSize().divideBy(2),Ce=s instanceof ue?s:this.latLngToContainerPoint(s),Ye=Ce.subtract(ae).multiplyBy(1-1/H),xt=this.containerPointToLatLng(ae.add(Ye));return this.setView(xt,m,{zoom:M})},_getBoundsCenterZoom:function(s,m){m=m||{},s=s.getBounds?s.getBounds():me(s);var M=Le(m.paddingTopLeft||m.padding||[0,0]),H=Le(m.paddingBottomRight||m.padding||[0,0]),ae=this.getBoundsZoom(s,!1,M.add(H));if(ae=typeof m.maxZoom=="number"?Math.min(m.maxZoom,ae):ae,ae===1/0)return{center:s.getCenter(),zoom:ae};var Ce=H.subtract(M).divideBy(2),Ye=this.project(s.getSouthWest(),ae),xt=this.project(s.getNorthEast(),ae),It=this.unproject(Ye.add(xt).divideBy(2).add(Ce),ae);return{center:It,zoom:ae}},fitBounds:function(s,m){if(s=me(s),!s.isValid())throw new Error("Bounds are not valid.");var M=this._getBoundsCenterZoom(s,m);return this.setView(M.center,M.zoom,m)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,m){return this.setView(s,this._zoom,{pan:m})},panBy:function(s,m){if(s=Le(s).round(),m=m||{},!s.x&&!s.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){jn(this._mapPane,"leaflet-pan-anim");var M=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,M,m.duration||.25,m.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,m,M){if(M=M||{},M.animate===!1||!cn.any3d)return this.setView(s,m,M);this._stop();var H=this.project(this.getCenter()),ae=this.project(s),Ce=this.getSize(),Ye=this._zoom;s=ke(s),m=m===void 0?Ye:m;var xt=Math.max(Ce.x,Ce.y),It=xt*this.getZoomScale(Ye,m),en=ae.distanceTo(H)||1,_n=1.42,Vn=_n*_n;function kr(ni){var aa=ni?-1:1,Tu=ni?It:xt,No=It*It-xt*xt+aa*Vn*Vn*en*en,ql=2*Tu*Vn*en,cs=No/ql,Vs=Math.sqrt(cs*cs+1)-cs,Ul=Vs<1e-9?-18:Math.log(Vs);return Ul}function va(ni){return(Math.exp(ni)-Math.exp(-ni))/2}function $i(ni){return(Math.exp(ni)+Math.exp(-ni))/2}function Aa(ni){return va(ni)/$i(ni)}var wi=kr(0);function Lo(ni){return xt*($i(wi)/$i(wi+_n*ni))}function dl(ni){return xt*($i(wi)*Aa(wi+_n*ni)-va(wi))/Vn}function Co(ni){return 1-Math.pow(1-ni,1.5)}var uo=Date.now(),Xa=(kr(1)-wi)/_n,Au=M.duration?1e3*M.duration:1e3*Xa*.8;function fl(){var ni=(Date.now()-uo)/Au,aa=Co(ni)*Xa;ni<=1?(this._flyToFrame=D(fl,this),this._move(this.unproject(H.add(ae.subtract(H).multiplyBy(dl(aa)/en)),Ye),this.getScaleZoom(xt/Lo(aa),Ye),{flyTo:!0})):this._move(s,m)._moveEnd(!0)}return this._moveStart(!0,M.noMoveStart),fl.call(this),this},flyToBounds:function(s,m){var M=this._getBoundsCenterZoom(s,m);return this.flyTo(M.center,M.zoom,m)},setMaxBounds:function(s){return s=me(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var m=this.options.minZoom;return this.options.minZoom=s,this._loaded&&m!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var m=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&m!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,m){this._enforcingBounds=!0;var M=this.getCenter(),H=this._limitCenter(M,this._zoom,me(s));return M.equals(H)||this.panTo(H,m),this._enforcingBounds=!1,this},panInside:function(s,m){m=m||{};var M=Le(m.paddingTopLeft||m.padding||[0,0]),H=Le(m.paddingBottomRight||m.padding||[0,0]),ae=this.project(this.getCenter()),Ce=this.project(s),Ye=this.getPixelBounds(),xt=ne([Ye.min.add(M),Ye.max.subtract(H)]),It=xt.getSize();if(!xt.contains(Ce)){this._enforcingBounds=!0;var en=Ce.subtract(xt.getCenter()),_n=xt.extend(Ce).getSize().subtract(It);ae.x+=en.x<0?-_n.x:_n.x,ae.y+=en.y<0?-_n.y:_n.y,this.panTo(this.unproject(ae),m),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var M=this.getSize(),H=m.divideBy(2).round(),ae=M.divideBy(2).round(),Ce=H.subtract(ae);return!Ce.x&&!Ce.y?this:(s.animate&&s.pan?this.panBy(Ce):(s.pan&&this._rawPanBy(Ce),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:M}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=h(this._handleGeolocationResponse,this),M=h(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,M,s):navigator.geolocation.getCurrentPosition(m,M,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var m=s.code,M=s.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+M+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var m=s.coords.latitude,M=s.coords.longitude,H=new we(m,M),ae=H.toBounds(s.coords.accuracy*2),Ce=this._locateOptions;if(Ce.setView){var Ye=this.getBoundsZoom(ae);this.setView(H,Ce.maxZoom?Math.min(Ye,Ce.maxZoom):Ye)}var xt={latlng:H,bounds:ae,timestamp:s.timestamp};for(var It in s.coords)typeof s.coords[It]=="number"&&(xt[It]=s.coords[It]);this.fire("locationfound",xt)}},addHandler:function(s,m){if(!m)return this;var M=this[s]=new m(this);return this._handlers.push(M),this.options[s]&&M.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)xr(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,m){var M="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),H=Fn("div",M,m||this._mapPane);return s&&(this._panes[s]=H),H},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),m=this.unproject(s.getBottomLeft()),M=this.unproject(s.getTopRight());return new ce(m,M)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,m,M){s=me(s),M=Le(M||[0,0]);var H=this.getZoom()||0,ae=this.getMinZoom(),Ce=this.getMaxZoom(),Ye=s.getNorthWest(),xt=s.getSouthEast(),It=this.getSize().subtract(M),en=ne(this.project(xt,H),this.project(Ye,H)).getSize(),_n=cn.any3d?this.options.zoomSnap:1,Vn=It.x/en.x,kr=It.y/en.y,va=m?Math.max(Vn,kr):Math.min(Vn,kr);return H=this.getScaleZoom(va,H),_n&&(H=Math.round(H/(_n/100))*(_n/100),H=m?Math.ceil(H/_n)*_n:Math.floor(H/_n)*_n),Math.max(ae,Math.min(Ce,H))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ue(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,m){var M=this._getTopLeftPoint(s,m);return new Re(M,M.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,m){var M=this.options.crs;return m=m===void 0?this._zoom:m,M.scale(s)/M.scale(m)},getScaleZoom:function(s,m){var M=this.options.crs;m=m===void 0?this._zoom:m;var H=M.zoom(s*M.scale(m));return isNaN(H)?1/0:H},project:function(s,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(ke(s),m)},unproject:function(s,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Le(s),m)},layerPointToLatLng:function(s){var m=Le(s).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(s){var m=this.project(ke(s))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ke(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(me(s))},distance:function(s,m){return this.options.crs.distance(ke(s),ke(m))},containerPointToLayerPoint:function(s){return Le(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Le(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var m=this.containerPointToLayerPoint(Le(s));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ke(s)))},mouseEventToContainerPoint:function(s){return os(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var m=this._container=Gr(s);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");sn(m,"scroll",this._onScroll,this),this._containerId=g(m)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&cn.any3d,jn(s,"leaflet-container"+(cn.touch?" leaflet-touch":"")+(cn.retina?" leaflet-retina":"")+(cn.ielt9?" leaflet-oldie":"")+(cn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Dr(s,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Or(this._mapPane,new ue(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(jn(s.markerPane,"leaflet-zoom-hide"),jn(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,m,M){Or(this._mapPane,new ue(0,0));var H=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var ae=this._zoom!==m;this._moveStart(ae,M)._move(s,m)._moveEnd(ae),this.fire("viewreset"),H&&this.fire("load")},_moveStart:function(s,m){return s&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(s,m,M,H){m===void 0&&(m=this._zoom);var ae=this._zoom!==m;return this._zoom=m,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),H?M&&M.pinch&&this.fire("zoom",M):((ae||M&&M.pinch)&&this.fire("zoom",M),this.fire("move",M)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Or(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var m=s?Fr:sn;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),cn.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,m){for(var M=[],H,ae=m==="mouseout"||m==="mouseover",Ce=s.target||s.srcElement,Ye=!1;Ce;){if(H=this._targets[g(Ce)],H&&(m==="click"||m==="preclick")&&this._draggableMoved(H)){Ye=!0;break}if(H&&H.listens(m,!0)&&(ae&&!$o(Ce,s)||(M.push(H),ae))||Ce===this._container)break;Ce=Ce.parentNode}return!M.length&&!Ye&&!ae&&this.listens(m,!0)&&(M=[this]),M},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var m=s.target||s.srcElement;if(!(!this._loaded||m._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(m))){var M=s.type;M==="mousedown"&&Rr(m),this._fireDOMEvent(s,M)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,m,M){if(s.type==="click"){var H=i({},s);H.type="preclick",this._fireDOMEvent(H,H.type,M)}var ae=this._findEventTargets(s,m);if(M){for(var Ce=[],Ye=0;Ye<M.length;Ye++)M[Ye].listens(m,!0)&&Ce.push(M[Ye]);ae=Ce.concat(ae)}if(ae.length){m==="contextmenu"&&Kr(s);var xt=ae[0],It={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var en=xt.getLatLng&&(!xt._radius||xt._radius<=10);It.containerPoint=en?this.latLngToContainerPoint(xt.getLatLng()):this.mouseEventToContainerPoint(s),It.layerPoint=this.containerPointToLayerPoint(It.containerPoint),It.latlng=en?xt.getLatLng():this.layerPointToLatLng(It.layerPoint)}for(Ye=0;Ye<ae.length;Ye++)if(ae[Ye].fire(m,It,!0),It.originalEvent._stopped||ae[Ye].options.bubblingMouseEvents===!1&&$(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,m=this._handlers.length;s<m;s++)this._handlers[s].disable()},whenReady:function(s,m){return this._loaded?s.call(m||this,{target:this}):this.on("load",s,m),this},_getMapPanePos:function(){return Wi(this._mapPane)||new ue(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,m){var M=s&&m!==void 0?this._getNewPixelOrigin(s,m):this.getPixelOrigin();return M.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,m){var M=this.getSize()._divideBy(2);return this.project(s,m)._subtract(M)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,m,M){var H=this._getNewPixelOrigin(M,m);return this.project(s,m)._subtract(H)},_latLngBoundsToNewLayerBounds:function(s,m,M){var H=this._getNewPixelOrigin(M,m);return ne([this.project(s.getSouthWest(),m)._subtract(H),this.project(s.getNorthWest(),m)._subtract(H),this.project(s.getSouthEast(),m)._subtract(H),this.project(s.getNorthEast(),m)._subtract(H)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,m,M){if(!M)return s;var H=this.project(s,m),ae=this.getSize().divideBy(2),Ce=new Re(H.subtract(ae),H.add(ae)),Ye=this._getBoundsOffset(Ce,M,m);return Math.abs(Ye.x)<=1&&Math.abs(Ye.y)<=1?s:this.unproject(H.add(Ye),m)},_limitOffset:function(s,m){if(!m)return s;var M=this.getPixelBounds(),H=new Re(M.min.add(s),M.max.add(s));return s.add(this._getBoundsOffset(H,m))},_getBoundsOffset:function(s,m,M){var H=ne(this.project(m.getNorthEast(),M),this.project(m.getSouthWest(),M)),ae=H.min.subtract(s.min),Ce=H.max.subtract(s.max),Ye=this._rebound(ae.x,-Ce.x),xt=this._rebound(ae.y,-Ce.y);return new ue(Ye,xt)},_rebound:function(s,m){return s+m>0?Math.round(s-m)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(m))},_limitZoom:function(s){var m=this.getMinZoom(),M=this.getMaxZoom(),H=cn.any3d?this.options.zoomSnap:1;return H&&(s=Math.round(s/H)*H),Math.max(m,Math.min(M,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,m){var M=this._getCenterOffset(s)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(M)?!1:(this.panBy(M,m),!0)},_createAnimProxy:function(){var s=this._proxy=Fn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(m){var M=Sn,H=this._proxy.style[M];Fa(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),H===this._proxy.style[M]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),m=this.getZoom();Fa(this._proxy,this.project(s,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,m,M){if(this._animatingZoom)return!0;if(M=M||{},!this._zoomAnimated||M.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var H=this.getZoomScale(m),ae=this._getCenterOffset(s)._divideBy(1-1/H);return M.animate!==!0&&!this.getSize().contains(ae)?!1:(D(function(){this._moveStart(!0,M.noMoveStart||!1)._animateZoom(s,m,!0)},this),!0)},_animateZoom:function(s,m,M,H){this._mapPane&&(M&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=m,jn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:m,noUpdate:H}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _o(s,m){return new Yn(s,m)}var Kn=V.extend({options:{position:"topright"},initialize:function(s){I(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var m=this._map;return m&&m.removeControl(this),this.options.position=s,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var m=this._container=this.onAdd(s),M=this.getPosition(),H=s._controlCorners[M];return jn(m,"leaflet-control"),M.indexOf("bottom")!==-1?H.insertBefore(m,H.firstChild):H.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),hi=function(s){return new Kn(s)};Yn.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},m="leaflet-",M=this._controlContainer=Fn("div",m+"control-container",this._container);function H(ae,Ce){var Ye=m+ae+" "+m+Ce;s[ae+Ce]=Fn("div",Ye,M)}H("top","left"),H("top","right"),H("bottom","left"),H("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)xr(this._controlCorners[s]);xr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ua=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,m,M,H){return M<H?-1:H<M?1:0}},initialize:function(s,m,M){I(this,M),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var H in s)this._addLayer(s[H],H);for(H in m)this._addLayer(m[H],H,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Kn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,m){return this._addLayer(s,m),this._map?this._update():this},addOverlay:function(s,m){return this._addLayer(s,m,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var m=this._getLayer(g(s));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){jn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(jn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Cr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",m=this._container=Fn("div",s),M=this.options.collapsed;m.setAttribute("aria-haspopup",!0),eo(m),Qa(m);var H=this._section=Fn("section",s+"-list");M&&(this._map.on("click",this.collapse,this),sn(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ae=this._layersLink=Fn("a",s+"-toggle",m);ae.href="#",ae.title="Layers",ae.setAttribute("role","button"),sn(ae,{keydown:function(Ce){Ce.keyCode===13&&this._expandSafely()},click:function(Ce){Kr(Ce),this._expandSafely()}},this),M||this.expand(),this._baseLayersList=Fn("div",s+"-base",H),this._separator=Fn("div",s+"-separator",H),this._overlaysList=Fn("div",s+"-overlays",H),m.appendChild(H)},_getLayer:function(s){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&g(this._layers[m].layer)===s)return this._layers[m]},_addLayer:function(s,m,M){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:m,overlay:M}),this.options.sortLayers&&this._layers.sort(h(function(H,ae){return this.options.sortFunction(H.layer,ae.layer,H.name,ae.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xa(this._baseLayersList),xa(this._overlaysList),this._layerControlInputs=[];var s,m,M,H,ae=0;for(M=0;M<this._layers.length;M++)H=this._layers[M],this._addItem(H),m=m||H.overlay,s=s||!H.overlay,ae+=H.overlay?0:1;return this.options.hideSingleBase&&(s=s&&ae>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=m&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var m=this._getLayer(g(s.target)),M=m.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;M&&this._map.fire(M,m)},_createRadioElement:function(s,m){var M='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(m?' checked="checked"':"")+"/>",H=document.createElement("div");return H.innerHTML=M,H.firstChild},_addItem:function(s){var m=document.createElement("label"),M=this._map.hasLayer(s.layer),H;s.overlay?(H=document.createElement("input"),H.type="checkbox",H.className="leaflet-control-layers-selector",H.defaultChecked=M):H=this._createRadioElement("leaflet-base-layers_"+g(this),M),this._layerControlInputs.push(H),H.layerId=g(s.layer),sn(H,"click",this._onInputClick,this);var ae=document.createElement("span");ae.innerHTML=" "+s.name;var Ce=document.createElement("span");m.appendChild(Ce),Ce.appendChild(H),Ce.appendChild(ae);var Ye=s.overlay?this._overlaysList:this._baseLayersList;return Ye.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,m,M,H=[],ae=[];this._handlingClick=!0;for(var Ce=s.length-1;Ce>=0;Ce--)m=s[Ce],M=this._getLayer(m.layerId).layer,m.checked?H.push(M):m.checked||ae.push(M);for(Ce=0;Ce<ae.length;Ce++)this._map.hasLayer(ae[Ce])&&this._map.removeLayer(ae[Ce]);for(Ce=0;Ce<H.length;Ce++)this._map.hasLayer(H[Ce])||this._map.addLayer(H[Ce]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,m,M,H=this._map.getZoom(),ae=s.length-1;ae>=0;ae--)m=s[ae],M=this._getLayer(m.layerId).layer,m.disabled=M.options.minZoom!==void 0&&H<M.options.minZoom||M.options.maxZoom!==void 0&&H>M.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,sn(s,"click",Kr),this.expand();var m=this;setTimeout(function(){Fr(s,"click",Kr),m._preventClick=!1})}}),bs=function(s,m,M){return new ua(s,m,M)},Bi=Kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var m="leaflet-control-zoom",M=Fn("div",m+" leaflet-bar"),H=this.options;return this._zoomInButton=this._createButton(H.zoomInText,H.zoomInTitle,m+"-in",M,this._zoomIn),this._zoomOutButton=this._createButton(H.zoomOutText,H.zoomOutTitle,m+"-out",M,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),M},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,m,M,H,ae){var Ce=Fn("a",M,H);return Ce.innerHTML=s,Ce.href="#",Ce.title=m,Ce.setAttribute("role","button"),Ce.setAttribute("aria-label",m),eo(Ce),sn(Ce,"click",to),sn(Ce,"click",ae,this),sn(Ce,"click",this._refocusOnMap,this),Ce},_updateDisabled:function(){var s=this._map,m="leaflet-disabled";Cr(this._zoomInButton,m),Cr(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(jn(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(jn(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yn.mergeOptions({zoomControl:!0}),Yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Bi,this.addControl(this.zoomControl))});var no=function(s){return new Bi(s)},La=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var m="leaflet-control-scale",M=Fn("div",m),H=this.options;return this._addScales(H,m+"-line",M),s.on(H.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),M},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,m,M){s.metric&&(this._mScale=Fn("div",m,M)),s.imperial&&(this._iScale=Fn("div",m,M))},_update:function(){var s=this._map,m=s.getSize().y/2,M=s.distance(s.containerPointToLatLng([0,m]),s.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(M)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var m=this._getRoundNum(s),M=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,M,m/s)},_updateImperial:function(s){var m=s*3.2808399,M,H,ae;m>5280?(M=m/5280,H=this._getRoundNum(M),this._updateScale(this._iScale,H+" mi",H/M)):(ae=this._getRoundNum(m),this._updateScale(this._iScale,ae+" ft",ae/m))},_updateScale:function(s,m,M){s.style.width=Math.round(this.options.maxWidth*M)+"px",s.innerHTML=m},_getRoundNum:function(s){var m=Math.pow(10,(Math.floor(s)+"").length-1),M=s/m;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:1,m*M}}),ro=function(s){return new La(s)},ca='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',z=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(cn.inlineSvg?ca+" ":"")+"Leaflet</a>"},initialize:function(s){I(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Fn("div","leaflet-control-attribution"),eo(this._container);for(var m in s._layers)s._layers[m].getAttribution&&this.addAttribution(s._layers[m].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var m in this._attributions)this._attributions[m]&&s.push(m);var M=[];this.options.prefix&&M.push(this.options.prefix),s.length&&M.push(s.join(", ")),this._container.innerHTML=M.join(' <span aria-hidden="true">|</span> ')}}});Yn.mergeOptions({attributionControl:!0}),Yn.addInitHook(function(){this.options.attributionControl&&new z().addTo(this)});var ye=function(s){return new z(s)};Kn.Layers=ua,Kn.Zoom=Bi,Kn.Scale=La,Kn.Attribution=z,hi.layers=bs,hi.zoom=no,hi.scale=ro,hi.attribution=ye;var ze=V.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ze.addTo=function(s,m){return s.addHandler(m,this),this};var et={Events:ie},pt=cn.touch?"touchstart mousedown":"mousedown",$t=le.extend({options:{clickTolerance:3},initialize:function(s,m,M,H){I(this,H),this._element=s,this._dragStartTarget=m||s,this._preventOutline=M},enable:function(){this._enabled||(sn(this._dragStartTarget,pt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($t._dragging===this&&this.finishDrag(!0),Fr(this._dragStartTarget,pt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!qi(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){$t._dragging===this&&this.finishDrag();return}if(!($t._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&($t._dragging=this,this._preventOutline&&Rr(this._element),Qn(),Ki(),!this._moving)){this.fire("down");var m=s.touches?s.touches[0]:s,M=Wr(this._element);this._startPoint=new ue(m.clientX,m.clientY),this._startPos=Wi(this._element),this._parentScale=ei(M);var H=s.type==="mousedown";sn(document,H?"mousemove":"touchmove",this._onMove,this),sn(document,H?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var m=s.touches&&s.touches.length===1?s.touches[0]:s,M=new ue(m.clientX,m.clientY)._subtract(this._startPoint);!M.x&&!M.y||Math.abs(M.x)+Math.abs(M.y)<this.options.clickTolerance||(M.x/=this._parentScale.x,M.y/=this._parentScale.y,Kr(s),this._moved||(this.fire("dragstart"),this._moved=!0,jn(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),jn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(M),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Or(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Cr(document.body,"leaflet-dragging"),this._lastTarget&&(Cr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fr(document,"mousemove touchmove",this._onMove,this),Fr(document,"mouseup touchend touchcancel",this._onUp,this),er(),Xi();var m=this._moved&&this._moving;this._moving=!1,$t._dragging=!1,m&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Qt(s,m,M){var H,ae=[1,4,2,8],Ce,Ye,xt,It,en,_n,Vn,kr;for(Ce=0,_n=s.length;Ce<_n;Ce++)s[Ce]._code=Er(s[Ce],m);for(xt=0;xt<4;xt++){for(Vn=ae[xt],H=[],Ce=0,_n=s.length,Ye=_n-1;Ce<_n;Ye=Ce++)It=s[Ce],en=s[Ye],It._code&Vn?en._code&Vn||(kr=Di(en,It,Vn,m,M),kr._code=Er(kr,m),H.push(kr)):(en._code&Vn&&(kr=Di(en,It,Vn,m,M),kr._code=Er(kr,m),H.push(kr)),H.push(It));s=H}return s}function Mn(s,m){var M,H,ae,Ce,Ye,xt,It,en,_n;if(!s||s.length===0)throw new Error("latlngs not passed");bi(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Vn=ke([0,0]),kr=me(s),va=kr.getNorthWest().distanceTo(kr.getSouthWest())*kr.getNorthEast().distanceTo(kr.getNorthWest());va<1700&&(Vn=Cn(s));var $i=s.length,Aa=[];for(M=0;M<$i;M++){var wi=ke(s[M]);Aa.push(m.project(ke([wi.lat-Vn.lat,wi.lng-Vn.lng])))}for(xt=It=en=0,M=0,H=$i-1;M<$i;H=M++)ae=Aa[M],Ce=Aa[H],Ye=ae.y*Ce.x-Ce.y*ae.x,It+=(ae.x+Ce.x)*Ye,en+=(ae.y+Ce.y)*Ye,xt+=Ye*3;xt===0?_n=Aa[0]:_n=[It/xt,en/xt];var Lo=m.unproject(Le(_n));return ke([Lo.lat+Vn.lat,Lo.lng+Vn.lng])}function Cn(s){for(var m=0,M=0,H=0,ae=0;ae<s.length;ae++){var Ce=ke(s[ae]);m+=Ce.lat,M+=Ce.lng,H++}return ke([m/H,M/H])}var Tn={__proto__:null,clipPolygon:Qt,polygonCenter:Mn,centroid:Cn};function ir(s,m){if(!m||!s.length)return s.slice();var M=m*m;return s=di(s,M),s=vr(s,M),s}function Sr(s,m,M){return Math.sqrt(bo(s,m,M,!0))}function li(s,m,M){return bo(s,m,M)}function vr(s,m){var M=s.length,H=typeof Uint8Array<"u"?Uint8Array:Array,ae=new H(M);ae[0]=ae[M-1]=1,ar(s,ae,m,0,M-1);var Ce,Ye=[];for(Ce=0;Ce<M;Ce++)ae[Ce]&&Ye.push(s[Ce]);return Ye}function ar(s,m,M,H,ae){var Ce=0,Ye,xt,It;for(xt=H+1;xt<=ae-1;xt++)It=bo(s[xt],s[H],s[ae],!0),It>Ce&&(Ye=xt,Ce=It);Ce>M&&(m[Ye]=1,ar(s,m,M,H,Ye),ar(s,m,M,Ye,ae))}function di(s,m){for(var M=[s[0]],H=1,ae=0,Ce=s.length;H<Ce;H++)ha(s[H],s[ae])>m&&(M.push(s[H]),ae=H);return ae<Ce-1&&M.push(s[Ce-1]),M}var Xr;function Ir(s,m,M,H,ae){var Ce=H?Xr:Er(s,M),Ye=Er(m,M),xt,It,en;for(Xr=Ye;;){if(!(Ce|Ye))return[s,m];if(Ce&Ye)return!1;xt=Ce||Ye,It=Di(s,m,xt,M,ae),en=Er(It,M),xt===Ce?(s=It,Ce=en):(m=It,Ye=en)}}function Di(s,m,M,H,ae){var Ce=m.x-s.x,Ye=m.y-s.y,xt=H.min,It=H.max,en,_n;return M&8?(en=s.x+Ce*(It.y-s.y)/Ye,_n=It.y):M&4?(en=s.x+Ce*(xt.y-s.y)/Ye,_n=xt.y):M&2?(en=It.x,_n=s.y+Ye*(It.x-s.x)/Ce):M&1&&(en=xt.x,_n=s.y+Ye*(xt.x-s.x)/Ce),new ue(en,_n,ae)}function Er(s,m){var M=0;return s.x<m.min.x?M|=1:s.x>m.max.x&&(M|=2),s.y<m.min.y?M|=4:s.y>m.max.y&&(M|=8),M}function ha(s,m){var M=m.x-s.x,H=m.y-s.y;return M*M+H*H}function bo(s,m,M,H){var ae=m.x,Ce=m.y,Ye=M.x-ae,xt=M.y-Ce,It=Ye*Ye+xt*xt,en;return It>0&&(en=((s.x-ae)*Ye+(s.y-Ce)*xt)/It,en>1?(ae=M.x,Ce=M.y):en>0&&(ae+=Ye*en,Ce+=xt*en)),Ye=s.x-ae,xt=s.y-Ce,H?Ye*Ye+xt*xt:new ue(ae,Ce)}function bi(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function xi(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bi(s)}function io(s,m){var M,H,ae,Ce,Ye,xt,It,en;if(!s||s.length===0)throw new Error("latlngs not passed");bi(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _n=ke([0,0]),Vn=me(s),kr=Vn.getNorthWest().distanceTo(Vn.getSouthWest())*Vn.getNorthEast().distanceTo(Vn.getNorthWest());kr<1700&&(_n=Cn(s));var va=s.length,$i=[];for(M=0;M<va;M++){var Aa=ke(s[M]);$i.push(m.project(ke([Aa.lat-_n.lat,Aa.lng-_n.lng])))}for(M=0,H=0;M<va-1;M++)H+=$i[M].distanceTo($i[M+1])/2;if(H===0)en=$i[0];else for(M=0,Ce=0;M<va-1;M++)if(Ye=$i[M],xt=$i[M+1],ae=Ye.distanceTo(xt),Ce+=ae,Ce>H){It=(Ce-H)/ae,en=[xt.x-It*(xt.x-Ye.x),xt.y-It*(xt.y-Ye.y)];break}var wi=m.unproject(Le(en));return ke([wi.lat+_n.lat,wi.lng+_n.lng])}var Na={__proto__:null,simplify:ir,pointToSegmentDistance:Sr,closestPointOnSegment:li,clipSegment:Ir,_getEdgeIntersection:Di,_getBitCode:Er,_sqClosestPointOnSegment:bo,isFlat:bi,_flat:xi,polylineCenter:io},ao={project:function(s){return new ue(s.lng,s.lat)},unproject:function(s){return new we(s.y,s.x)},bounds:new Re([-180,-90],[180,90])},qr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var m=Math.PI/180,M=this.R,H=s.lat*m,ae=this.R_MINOR/M,Ce=Math.sqrt(1-ae*ae),Ye=Ce*Math.sin(H),xt=Math.tan(Math.PI/4-H/2)/Math.pow((1-Ye)/(1+Ye),Ce/2);return H=-M*Math.log(Math.max(xt,1e-10)),new ue(s.lng*m*M,H)},unproject:function(s){for(var m=180/Math.PI,M=this.R,H=this.R_MINOR/M,ae=Math.sqrt(1-H*H),Ce=Math.exp(-s.y/M),Ye=Math.PI/2-2*Math.atan(Ce),xt=0,It=.1,en;xt<15&&Math.abs(It)>1e-7;xt++)en=ae*Math.sin(Ye),en=Math.pow((1-en)/(1+en),ae/2),It=Math.PI/2-2*Math.atan(Ce*en)-Ye,Ye+=It;return new we(Ye*m,s.x*m/M)}},Ui={__proto__:null,LonLat:ao,Mercator:qr,SphericalMercator:We},oo=i({},he,{code:"EPSG:3395",projection:qr,transformation:(function(){var s=.5/(Math.PI*qr.R);return de(s,.5,-s,.5)})()}),jo=i({},he,{code:"EPSG:4326",projection:ao,transformation:de(1/180,1,-1/180,.5)}),zo=i({},Be,{projection:ao,transformation:de(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,m){var M=m.lng-s.lng,H=m.lat-s.lat;return Math.sqrt(M*M+H*H)},infinite:!0});Be.Earth=he,Be.EPSG3395=oo,Be.EPSG3857=it,Be.EPSG900913=ft,Be.EPSG4326=jo,Be.Simple=zo;var jr=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var m=s.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var M=this.getEvents();m.on(M,this),this.once("remove",function(){m.off(M,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Yn.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var m=g(s);return this._layers[m]?this:(this._layers[m]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var m=g(s);return this._layers[m]?(this._loaded&&s.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,m){for(var M in this._layers)s.call(m,this._layers[M]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var m=0,M=s.length;m<M;m++)this.addLayer(s[m])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var m=g(s);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,m=-1/0,M=this._getZoomSpan();for(var H in this._zoomBoundLayers){var ae=this._zoomBoundLayers[H].options;s=ae.minZoom===void 0?s:Math.min(s,ae.minZoom),m=ae.maxZoom===void 0?m:Math.max(m,ae.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=s===1/0?void 0:s,M!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ra=jr.extend({initialize:function(s,m){I(this,m),this._layers={};var M,H;if(s)for(M=0,H=s.length;M<H;M++)this.addLayer(s[M])},addLayer:function(s){var m=this.getLayerId(s);return this._layers[m]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var m=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(s){var m=typeof s=="number"?s:this.getLayerId(s);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var m=Array.prototype.slice.call(arguments,1),M,H;for(M in this._layers)H=this._layers[M],H[s]&&H[s].apply(H,m);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,m){for(var M in this._layers)s.call(m,this._layers[M]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Ho=function(s,m){return new ra(s,m)},ia=ra.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ra.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ra.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ce;for(var m in this._layers){var M=this._layers[m];s.extend(M.getBounds?M.getBounds():M.getLatLng())}return s}}),da=function(s,m){return new ia(s,m)},Ma=V.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){I(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,m){var M=this._getIconUrl(s);if(!M){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var H=this._createImg(M,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(H,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(H.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),H},_setIconStyles:function(s,m){var M=this.options,H=M[m+"Size"];typeof H=="number"&&(H=[H,H]);var ae=Le(H),Ce=Le(m==="shadow"&&M.shadowAnchor||M.iconAnchor||ae&&ae.divideBy(2,!0));s.className="leaflet-marker-"+m+" "+(M.className||""),Ce&&(s.style.marginLeft=-Ce.x+"px",s.style.marginTop=-Ce.y+"px"),ae&&(s.style.width=ae.x+"px",s.style.height=ae.y+"px")},_createImg:function(s,m){return m=m||document.createElement("img"),m.src=s,m},_getIconUrl:function(s){return cn.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ss(s){return new Ma(s)}var xo=Ma.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof xo.imagePath!="string"&&(xo.imagePath=this._detectIconPath()),(this.options.imagePath||xo.imagePath)+Ma.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var m=function(M,H,ae){var Ce=H.exec(M);return Ce&&Ce[ae]};return s=m(s,/^url\((['"])?(.+)\1\)$/,2),s&&m(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Fn("div","leaflet-default-icon-path",document.body),m=Dr(s,"background-image")||Dr(s,"backgroundImage");if(document.body.removeChild(s),m=this._stripUrl(m),m)return m;var M=document.querySelector('link[href$="leaflet.css"]');return M?M.href.substring(0,M.href.length-11-1):""}}),Ha=ze.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new $t(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),jn(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var m=this._marker,M=m._map,H=this._marker.options.autoPanSpeed,ae=this._marker.options.autoPanPadding,Ce=Wi(m._icon),Ye=M.getPixelBounds(),xt=M.getPixelOrigin(),It=ne(Ye.min._subtract(xt).add(ae),Ye.max._subtract(xt).subtract(ae));if(!It.contains(Ce)){var en=Le((Math.max(It.max.x,Ce.x)-It.max.x)/(Ye.max.x-It.max.x)-(Math.min(It.min.x,Ce.x)-It.min.x)/(Ye.min.x-It.min.x),(Math.max(It.max.y,Ce.y)-It.max.y)/(Ye.max.y-It.max.y)-(Math.min(It.min.y,Ce.y)-It.min.y)/(Ye.min.y-It.min.y)).multiplyBy(H);M.panBy(en,{animate:!1}),this._draggable._newPos._add(en),this._draggable._startPos._add(en),Or(m._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=D(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,s)))},_onDrag:function(s){var m=this._marker,M=m._shadow,H=Wi(m._icon),ae=m._map.layerPointToLatLng(H);M&&Or(M,H),m._latlng=ae,s.latlng=ae,s.oldLatLng=this._oldLatLng,m.fire("move",s).fire("drag",s)},_onDragEnd:function(s){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),so=jr.extend({options:{icon:new xo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,m){I(this,m),this._latlng=ke(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var m=this._latlng;return this._latlng=ke(s),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),M=s.icon.createIcon(this._icon),H=!1;M!==this._icon&&(this._icon&&this._removeIcon(),H=!0,s.title&&(M.title=s.title),M.tagName==="IMG"&&(M.alt=s.alt||"")),jn(M,m),s.keyboard&&(M.tabIndex="0",M.setAttribute("role","button")),this._icon=M,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sn(M,"focus",this._panOnFocus,this);var ae=s.icon.createShadow(this._shadow),Ce=!1;ae!==this._shadow&&(this._removeShadow(),Ce=!0),ae&&(jn(ae,m),ae.alt=""),this._shadow=ae,s.opacity<1&&this._updateOpacity(),H&&this.getPane().appendChild(this._icon),this._initInteraction(),ae&&Ce&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fr(this._icon,"focus",this._panOnFocus,this),xr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xr(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Or(this._icon,s),this._shadow&&Or(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var m=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(jn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ha)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ha(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Hr(this._icon,s),this._shadow&&Hr(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var m=this.options.icon.options,M=m.iconSize?Le(m.iconSize):Le(0,0),H=m.iconAnchor?Le(m.iconAnchor):Le(0,0);s.panInside(this._latlng,{paddingTopLeft:H,paddingBottomRight:M.subtract(H)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fa(s,m){return new so(s,m)}var gi=jr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return I(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oi=gi.extend({options:{fill:!0,radius:10},initialize:function(s,m){I(this,m),this._latlng=ke(s),this._radius=this.options.radius},setLatLng:function(s){var m=this._latlng;return this._latlng=ke(s),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var m=s&&s.radius||this._radius;return gi.prototype.setStyle.call(this,s),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,m=this._radiusY||s,M=this._clickTolerance(),H=[s+M,m+M];this._pxBounds=new Re(this._point.subtract(H),this._point.add(H))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qa(s,m){return new Oi(s,m)}var Ua=Oi.extend({initialize:function(s,m,M){if(typeof m=="number"&&(m=i({},M,{radius:m})),I(this,m),this._latlng=ke(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:gi.prototype.setStyle,_project:function(){var s=this._latlng.lng,m=this._latlng.lat,M=this._map,H=M.options.crs;if(H.distance===he.distance){var ae=Math.PI/180,Ce=this._mRadius/he.R/ae,Ye=M.project([m+Ce,s]),xt=M.project([m-Ce,s]),It=Ye.add(xt).divideBy(2),en=M.unproject(It).lat,_n=Math.acos((Math.cos(Ce*ae)-Math.sin(m*ae)*Math.sin(en*ae))/(Math.cos(m*ae)*Math.cos(en*ae)))/ae;(isNaN(_n)||_n===0)&&(_n=Ce/Math.cos(Math.PI/180*m)),this._point=It.subtract(M.getPixelOrigin()),this._radius=isNaN(_n)?0:It.x-M.project([en,s-_n]).x,this._radiusY=It.y-Ye.y}else{var Vn=H.unproject(H.project(this._latlng).subtract([this._mRadius,0]));this._point=M.latLngToLayerPoint(this._latlng),this._radius=this._point.x-M.latLngToLayerPoint(Vn).x}this._updateBounds()}});function Ga(s,m,M){return new Ua(s,m,M)}var Yi=gi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,m){I(this,m),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var m=1/0,M=null,H=bo,ae,Ce,Ye=0,xt=this._parts.length;Ye<xt;Ye++)for(var It=this._parts[Ye],en=1,_n=It.length;en<_n;en++){ae=It[en-1],Ce=It[en];var Vn=H(s,ae,Ce,!0);Vn<m&&(m=Vn,M=H(s,ae,Ce))}return M&&(M.distance=Math.sqrt(m)),M},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return io(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,m){return m=m||this._defaultShape(),s=ke(s),m.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return bi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var m=[],M=bi(s),H=0,ae=s.length;H<ae;H++)M?(m[H]=ke(s[H]),this._bounds.extend(m[H])):m[H]=this._convertLatLngs(s[H]);return m},_project:function(){var s=new Re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),m=new ue(s,s);this._rawPxBounds&&(this._pxBounds=new Re([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(s,m,M){var H=s[0]instanceof we,ae=s.length,Ce,Ye;if(H){for(Ye=[],Ce=0;Ce<ae;Ce++)Ye[Ce]=this._map.latLngToLayerPoint(s[Ce]),M.extend(Ye[Ce]);m.push(Ye)}else for(Ce=0;Ce<ae;Ce++)this._projectLatlngs(s[Ce],m,M)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,M,H,ae,Ce,Ye,xt,It;for(M=0,ae=0,Ce=this._rings.length;M<Ce;M++)for(It=this._rings[M],H=0,Ye=It.length;H<Ye-1;H++)xt=Ir(It[H],It[H+1],s,H,!0),xt&&(m[ae]=m[ae]||[],m[ae].push(xt[0]),(xt[1]!==It[H+1]||H===Ye-2)&&(m[ae].push(xt[1]),ae++))}},_simplifyPoints:function(){for(var s=this._parts,m=this.options.smoothFactor,M=0,H=s.length;M<H;M++)s[M]=ir(s[M],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,m){var M,H,ae,Ce,Ye,xt,It=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(M=0,Ce=this._parts.length;M<Ce;M++)for(xt=this._parts[M],H=0,Ye=xt.length,ae=Ye-1;H<Ye;ae=H++)if(!(!m&&H===0)&&Sr(s,xt[ae],xt[H])<=It)return!0;return!1}});function ui(s,m){return new Yi(s,m)}Yi._flat=xi;var Va=Yi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var m=Yi.prototype._convertLatLngs.call(this,s),M=m.length;return M>=2&&m[0]instanceof we&&m[0].equals(m[M-1])&&m.pop(),m},_setLatLngs:function(s){Yi.prototype._setLatLngs.call(this,s),bi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,m=this.options.weight,M=new ue(m,m);if(s=new Re(s.min.subtract(M),s.max.add(M)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var H=0,ae=this._rings.length,Ce;H<ae;H++)Ce=Qt(this._rings[H],s,!0),Ce.length&&this._parts.push(Ce)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var m=!1,M,H,ae,Ce,Ye,xt,It,en;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(Ce=0,It=this._parts.length;Ce<It;Ce++)for(M=this._parts[Ce],Ye=0,en=M.length,xt=en-1;Ye<en;xt=Ye++)H=M[Ye],ae=M[xt],H.y>s.y!=ae.y>s.y&&s.x<(ae.x-H.x)*(s.y-H.y)/(ae.y-H.y)+H.x&&(m=!m);return m||Yi.prototype._containsPoint.call(this,s,!0)}});function Ji(s,m){return new Va(s,m)}var Ei=ia.extend({initialize:function(s,m){I(this,m),this._layers={},s&&this.addData(s)},addData:function(s){var m=R(s)?s:s.features,M,H,ae;if(m){for(M=0,H=m.length;M<H;M++)ae=m[M],(ae.geometries||ae.geometry||ae.features||ae.coordinates)&&this.addData(ae);return this}var Ce=this.options;if(Ce.filter&&!Ce.filter(s))return this;var Ye=So(s,Ce);return Ye?(Ye.feature=f(s),Ye.defaultOptions=Ye.options,this.resetStyle(Ye),Ce.onEachFeature&&Ce.onEachFeature(s,Ye),this.addLayer(Ye)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(m){this._setLayerStyle(m,s)},this)},_setLayerStyle:function(s,m){s.setStyle&&(typeof m=="function"&&(m=m(s.feature)),s.setStyle(m))}});function So(s,m){var M=s.type==="Feature"?s.geometry:s,H=M?M.coordinates:null,ae=[],Ce=m&&m.pointToLayer,Ye=m&&m.coordsToLatLng||pa,xt,It,en,_n;if(!H&&!M)return null;switch(M.type){case"Point":return xt=Ye(H),Yo(Ce,s,xt,m);case"MultiPoint":for(en=0,_n=H.length;en<_n;en++)xt=Ye(H[en]),ae.push(Yo(Ce,s,xt,m));return new ia(ae);case"LineString":case"MultiLineString":return It=Eo(H,M.type==="LineString"?0:1,Ye),new Yi(It,m);case"Polygon":case"MultiPolygon":return It=Eo(H,M.type==="Polygon"?1:2,Ye),new Va(It,m);case"GeometryCollection":for(en=0,_n=M.geometries.length;en<_n;en++){var Vn=So({geometry:M.geometries[en],type:"Feature",properties:s.properties},m);Vn&&ae.push(Vn)}return new ia(ae);case"FeatureCollection":for(en=0,_n=M.features.length;en<_n;en++){var kr=So(M.features[en],m);kr&&ae.push(kr)}return new ia(ae);default:throw new Error("Invalid GeoJSON object.")}}function Yo(s,m,M,H){return s?s(m,M):new so(M,H&&H.markersInheritOptions&&H)}function pa(s){return new we(s[1],s[0],s[2])}function Eo(s,m,M){for(var H=[],ae=0,Ce=s.length,Ye;ae<Ce;ae++)Ye=m?Eo(s[ae],m-1,M):(M||pa)(s[ae]),H.push(Ye);return H}function Pa(s,m){return s=ke(s),s.alt!==void 0?[k(s.lng,m),k(s.lat,m),k(s.alt,m)]:[k(s.lng,m),k(s.lat,m)]}function fi(s,m,M,H){for(var ae=[],Ce=0,Ye=s.length;Ce<Ye;Ce++)ae.push(m?fi(s[Ce],bi(s[Ce])?0:m-1,M,H):Pa(s[Ce],H));return!m&&M&&ae.length>0&&ae.push(ae[0].slice()),ae}function pi(s,m){return s.feature?i({},s.feature,{geometry:m}):f(m)}function f(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var a={toGeoJSON:function(s){return pi(this,{type:"Point",coordinates:Pa(this.getLatLng(),s)})}};so.include(a),Ua.include(a),Oi.include(a),Yi.include({toGeoJSON:function(s){var m=!bi(this._latlngs),M=fi(this._latlngs,m?1:0,!1,s);return pi(this,{type:(m?"Multi":"")+"LineString",coordinates:M})}}),Va.include({toGeoJSON:function(s){var m=!bi(this._latlngs),M=m&&!bi(this._latlngs[0]),H=fi(this._latlngs,M?2:m?1:0,!0,s);return m||(H=[H]),pi(this,{type:(M?"Multi":"")+"Polygon",coordinates:H})}}),ra.include({toMultiPoint:function(s){var m=[];return this.eachLayer(function(M){m.push(M.toGeoJSON(s).geometry.coordinates)}),pi(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(s){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(s);var M=m==="GeometryCollection",H=[];return this.eachLayer(function(ae){if(ae.toGeoJSON){var Ce=ae.toGeoJSON(s);if(M)H.push(Ce.geometry);else{var Ye=f(Ce);Ye.type==="FeatureCollection"?H.push.apply(H,Ye.features):H.push(Ye)}}}),M?pi(this,{geometries:H,type:"GeometryCollection"}):{type:"FeatureCollection",features:H}}});function o(s,m){return new Ei(s,m)}var d=o,C=jr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,m,M){this._url=s,this._bounds=me(m),I(this,M)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(jn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Vr(this._image),this},bringToBack:function(){return this._map&&la(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=me(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",m=this._image=s?this._url:Fn("img");if(jn(m,"leaflet-image-layer"),this._zoomAnimated&&jn(m,"leaflet-zoom-animated"),this.options.className&&jn(m,this.options.className),m.onselectstart=w,m.onmousemove=w,m.onload=h(this.fire,this,"load"),m.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(s){var m=this._map.getZoomScale(s.zoom),M=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Fa(this._image,M,m)},_reset:function(){var s=this._image,m=new Re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),M=m.getSize();Or(s,m.min),s.style.width=M.x+"px",s.style.height=M.y+"px"},_updateOpacity:function(){Hr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),B=function(s,m,M){return new C(s,m,M)},K=C.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",m=this._image=s?this._url:Fn("video");if(jn(m,"leaflet-image-layer"),this._zoomAnimated&&jn(m,"leaflet-zoom-animated"),this.options.className&&jn(m,this.options.className),m.onselectstart=w,m.onmousemove=w,m.onloadeddata=h(this.fire,this,"load"),s){for(var M=m.getElementsByTagName("source"),H=[],ae=0;ae<M.length;ae++)H.push(M[ae].src);this._url=M.length>0?H:[m.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var Ce=0;Ce<this._url.length;Ce++){var Ye=Fn("source");Ye.src=this._url[Ce],m.appendChild(Ye)}}});function se(s,m,M){return new K(s,m,M)}var xe=C.extend({_initImage:function(){var s=this._image=this._url;jn(s,"leaflet-image-layer"),this._zoomAnimated&&jn(s,"leaflet-zoom-animated"),this.options.className&&jn(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function $e(s,m,M){return new xe(s,m,M)}var st=jr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,m){s&&(s instanceof we||R(s))?(this._latlng=ke(s),I(this,m)):(I(this,s),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Hr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Hr(this._container,1),this.bringToFront(),this.options.interactive&&(jn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Hr(this._container,0),this._removeTimeout=setTimeout(h(xr,void 0,this._container),200)):xr(this._container),this.options.interactive&&(Cr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ke(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vr(this._container),this},bringToBack:function(){return this._map&&la(this._container),this},_prepareOpen:function(s){var m=this._source;if(!m._map)return!1;if(m instanceof ia){m=null;var M=this._source._layers;for(var H in M)if(M[H]._map){m=M[H];break}if(!m)return!1;this._source=m}if(!s)if(m.getCenter)s=m.getCenter();else if(m.getLatLng)s=m.getLatLng();else if(m.getBounds)s=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")s.innerHTML=m;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),m=Le(this.options.offset),M=this._getAnchor();this._zoomAnimated?Or(this._container,s.add(M)):m=m.add(s).add(M);var H=this._containerBottom=-m.y,ae=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=H+"px",this._container.style.left=ae+"px"}},_getAnchor:function(){return[0,0]}});Yn.include({_initOverlay:function(s,m,M,H){var ae=m;return ae instanceof s||(ae=new s(H).setContent(m)),M&&ae.setLatLng(M),ae}}),jr.include({_initOverlay:function(s,m,M,H){var ae=M;return ae instanceof s?(I(ae,H),ae._source=this):(ae=m&&!H?m:new s(H,this),ae.setContent(M)),ae}});var _t=st.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,st.prototype.openOn.call(this,s)},onAdd:function(s){st.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gi||this._source.on("preclick",Ii))},onRemove:function(s){st.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gi||this._source.off("preclick",Ii))},getEvents:function(){var s=st.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",m=this._container=Fn("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),M=this._wrapper=Fn("div",s+"-content-wrapper",m);if(this._contentNode=Fn("div",s+"-content",M),eo(m),Qa(this._contentNode),sn(m,"contextmenu",Ii),this._tipContainer=Fn("div",s+"-tip-container",m),this._tip=Fn("div",s+"-tip",this._tipContainer),this.options.closeButton){var H=this._closeButton=Fn("a",s+"-close-button",m);H.setAttribute("role","button"),H.setAttribute("aria-label","Close popup"),H.href="#close",H.innerHTML='<span aria-hidden="true">&#215;</span>',sn(H,"click",function(ae){Kr(ae),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,m=s.style;m.width="",m.whiteSpace="nowrap";var M=s.offsetWidth;M=Math.min(M,this.options.maxWidth),M=Math.max(M,this.options.minWidth),m.width=M+1+"px",m.whiteSpace="",m.height="";var H=s.offsetHeight,ae=this.options.maxHeight,Ce="leaflet-popup-scrolled";ae&&H>ae?(m.height=ae+"px",jn(s,Ce)):Cr(s,Ce),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var m=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),M=this._getAnchor();Or(this._container,m.add(M))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,m=parseInt(Dr(this._container,"marginBottom"),10)||0,M=this._container.offsetHeight+m,H=this._containerWidth,ae=new ue(this._containerLeft,-M-this._containerBottom);ae._add(Wi(this._container));var Ce=s.layerPointToContainerPoint(ae),Ye=Le(this.options.autoPanPadding),xt=Le(this.options.autoPanPaddingTopLeft||Ye),It=Le(this.options.autoPanPaddingBottomRight||Ye),en=s.getSize(),_n=0,Vn=0;Ce.x+H+It.x>en.x&&(_n=Ce.x+H-en.x+It.x),Ce.x-_n-xt.x<0&&(_n=Ce.x-xt.x),Ce.y+M+It.y>en.y&&(Vn=Ce.y+M-en.y+It.y),Ce.y-Vn-xt.y<0&&(Vn=Ce.y-xt.y),(_n||Vn)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([_n,Vn]))}},_getAnchor:function(){return Le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yt=function(s,m){return new _t(s,m)};Yn.mergeOptions({closePopupOnClick:!0}),Yn.include({openPopup:function(s,m,M){return this._initOverlay(_t,s,m,M).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),jr.include({bindPopup:function(s,m){return this._popup=this._initOverlay(_t,this._popup,s,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ia||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){to(s);var m=s.layer||s.target;if(this._popup._source===m&&!(m instanceof gi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=m,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var pn=st.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){st.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){st.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=st.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",m=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fn("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var m,M,H=this._map,ae=this._container,Ce=H.latLngToContainerPoint(H.getCenter()),Ye=H.layerPointToContainerPoint(s),xt=this.options.direction,It=ae.offsetWidth,en=ae.offsetHeight,_n=Le(this.options.offset),Vn=this._getAnchor();xt==="top"?(m=It/2,M=en):xt==="bottom"?(m=It/2,M=0):xt==="center"?(m=It/2,M=en/2):xt==="right"?(m=0,M=en/2):xt==="left"?(m=It,M=en/2):Ye.x<Ce.x?(xt="right",m=0,M=en/2):(xt="left",m=It+(_n.x+Vn.x)*2,M=en/2),s=s.subtract(Le(m,M,!0)).add(_n).add(Vn),Cr(ae,"leaflet-tooltip-right"),Cr(ae,"leaflet-tooltip-left"),Cr(ae,"leaflet-tooltip-top"),Cr(ae,"leaflet-tooltip-bottom"),jn(ae,"leaflet-tooltip-"+xt),Or(ae,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Hr(this._container,s)},_animateZoom:function(s){var m=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(m)},_getAnchor:function(){return Le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pn=function(s,m){return new pn(s,m)};Yn.include({openTooltip:function(s,m,M){return this._initOverlay(pn,s,m,M).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),jr.include({bindTooltip:function(s,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pn,this._tooltip,s,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var m=s?"off":"on",M={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?M.add=this._openTooltip:(M.mouseover=this._openTooltip,M.mouseout=this.closeTooltip,M.click=this._openTooltip,this._map?this._addFocusListeners():M.add=this._addFocusListeners),this._tooltip.options.sticky&&(M.mousemove=this._moveTooltip),this[m](M),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ia||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var m=typeof s.getElement=="function"&&s.getElement();m&&(sn(m,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),sn(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var m=typeof s.getElement=="function"&&s.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var m=s.latlng,M,H;this._tooltip.options.sticky&&s.originalEvent&&(M=this._map.mouseEventToContainerPoint(s.originalEvent),H=this._map.containerPointToLayerPoint(M),m=this._map.layerPointToLatLng(H)),this._tooltip.setLatLng(m)}});var $n=Ma.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var m=s&&s.tagName==="DIV"?s:document.createElement("div"),M=this.options;if(M.html instanceof Element?(xa(m),m.appendChild(M.html)):m.innerHTML=M.html!==!1?M.html:"",M.bgPos){var H=Le(M.bgPos);m.style.backgroundPosition=-H.x+"px "+-H.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Mr(s){return new $n(s)}Ma.Default=xo;var hr=jr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:cn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){I(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),xr(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(la(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ue?s:new ue(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var m=this.getPane().children,M=-s(-1/0,1/0),H=0,ae=m.length,Ce;H<ae;H++)Ce=m[H].style.zIndex,m[H]!==this._container&&Ce&&(M=s(M,+Ce));isFinite(M)&&(this.options.zIndex=M+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!cn.ielt9){Hr(this._container,this.options.opacity);var s=+new Date,m=!1,M=!1;for(var H in this._tiles){var ae=this._tiles[H];if(!(!ae.current||!ae.loaded)){var Ce=Math.min(1,(s-ae.loaded)/200);Hr(ae.el,Ce),Ce<1?m=!0:(ae.active?M=!0:this._onOpaqueTile(ae),ae.active=!0)}}M&&!this._noPrune&&this._pruneTiles(),m&&(U(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Fn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,m=this.options.maxZoom;if(s!==void 0){for(var M in this._levels)M=Number(M),this._levels[M].el.children.length||M===s?(this._levels[M].el.style.zIndex=m-Math.abs(s-M),this._onUpdateLevel(M)):(xr(this._levels[M].el),this._removeTilesAtZoom(M),this._onRemoveLevel(M),delete this._levels[M]);var H=this._levels[s],ae=this._map;return H||(H=this._levels[s]={},H.el=Fn("div","leaflet-tile-container leaflet-zoom-animated",this._container),H.el.style.zIndex=m,H.origin=ae.project(ae.unproject(ae.getPixelOrigin()),s).round(),H.zoom=s,this._setZoomTransform(H,ae.getCenter(),ae.getZoom()),w(H.el.offsetWidth),this._onCreateLevel(H)),this._level=H,H}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,m,M=this._map.getZoom();if(M>this.options.maxZoom||M<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)m=this._tiles[s],m.retain=m.current;for(s in this._tiles)if(m=this._tiles[s],m.current&&!m.active){var H=m.coords;this._retainParent(H.x,H.y,H.z,H.z-5)||this._retainChildren(H.x,H.y,H.z,H.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var m in this._tiles)this._tiles[m].coords.z===s&&this._removeTile(m)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)xr(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,m,M,H){var ae=Math.floor(s/2),Ce=Math.floor(m/2),Ye=M-1,xt=new ue(+ae,+Ce);xt.z=+Ye;var It=this._tileCoordsToKey(xt),en=this._tiles[It];return en&&en.active?(en.retain=!0,!0):(en&&en.loaded&&(en.retain=!0),Ye>H?this._retainParent(ae,Ce,Ye,H):!1)},_retainChildren:function(s,m,M,H){for(var ae=2*s;ae<2*s+2;ae++)for(var Ce=2*m;Ce<2*m+2;Ce++){var Ye=new ue(ae,Ce);Ye.z=M+1;var xt=this._tileCoordsToKey(Ye),It=this._tiles[xt];if(It&&It.active){It.retain=!0;continue}else It&&It.loaded&&(It.retain=!0);M+1<H&&this._retainChildren(ae,Ce,M+1,H)}},_resetView:function(s){var m=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var m=this.options;return m.minNativeZoom!==void 0&&s<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<s?m.maxNativeZoom:s},_setView:function(s,m,M,H){var ae=Math.round(m);this.options.maxZoom!==void 0&&ae>this.options.maxZoom||this.options.minZoom!==void 0&&ae<this.options.minZoom?ae=void 0:ae=this._clampZoom(ae);var Ce=this.options.updateWhenZooming&&ae!==this._tileZoom;(!H||Ce)&&(this._tileZoom=ae,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ae!==void 0&&this._update(s),M||this._pruneTiles(),this._noPrune=!!M),this._setZoomTransforms(s,m)},_setZoomTransforms:function(s,m){for(var M in this._levels)this._setZoomTransform(this._levels[M],s,m)},_setZoomTransform:function(s,m,M){var H=this._map.getZoomScale(M,s.zoom),ae=s.origin.multiplyBy(H).subtract(this._map._getNewPixelOrigin(m,M)).round();cn.any3d?Fa(s.el,ae,H):Or(s.el,ae)},_resetGrid:function(){var s=this._map,m=s.options.crs,M=this._tileSize=this.getTileSize(),H=this._tileZoom,ae=this._map.getPixelWorldBounds(this._tileZoom);ae&&(this._globalTileRange=this._pxBoundsToTileRange(ae)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,m.wrapLng[0]],H).x/M.x),Math.ceil(s.project([0,m.wrapLng[1]],H).x/M.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([m.wrapLat[0],0],H).y/M.x),Math.ceil(s.project([m.wrapLat[1],0],H).y/M.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var m=this._map,M=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),H=m.getZoomScale(M,this._tileZoom),ae=m.project(s,this._tileZoom).floor(),Ce=m.getSize().divideBy(H*2);return new Re(ae.subtract(Ce),ae.add(Ce))},_update:function(s){var m=this._map;if(m){var M=this._clampZoom(m.getZoom());if(s===void 0&&(s=m.getCenter()),this._tileZoom!==void 0){var H=this._getTiledPixelBounds(s),ae=this._pxBoundsToTileRange(H),Ce=ae.getCenter(),Ye=[],xt=this.options.keepBuffer,It=new Re(ae.getBottomLeft().subtract([xt,-xt]),ae.getTopRight().add([xt,-xt]));if(!(isFinite(ae.min.x)&&isFinite(ae.min.y)&&isFinite(ae.max.x)&&isFinite(ae.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var en in this._tiles){var _n=this._tiles[en].coords;(_n.z!==this._tileZoom||!It.contains(new ue(_n.x,_n.y)))&&(this._tiles[en].current=!1)}if(Math.abs(M-this._tileZoom)>1){this._setView(s,M);return}for(var Vn=ae.min.y;Vn<=ae.max.y;Vn++)for(var kr=ae.min.x;kr<=ae.max.x;kr++){var va=new ue(kr,Vn);if(va.z=this._tileZoom,!!this._isValidTile(va)){var $i=this._tiles[this._tileCoordsToKey(va)];$i?$i.current=!0:Ye.push(va)}}if(Ye.sort(function(wi,Lo){return wi.distanceTo(Ce)-Lo.distanceTo(Ce)}),Ye.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Aa=document.createDocumentFragment();for(kr=0;kr<Ye.length;kr++)this._addTile(Ye[kr],Aa);this._level.el.appendChild(Aa)}}}},_isValidTile:function(s){var m=this._map.options.crs;if(!m.infinite){var M=this._globalTileRange;if(!m.wrapLng&&(s.x<M.min.x||s.x>M.max.x)||!m.wrapLat&&(s.y<M.min.y||s.y>M.max.y))return!1}if(!this.options.bounds)return!0;var H=this._tileCoordsToBounds(s);return me(this.options.bounds).overlaps(H)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var m=this._map,M=this.getTileSize(),H=s.scaleBy(M),ae=H.add(M),Ce=m.unproject(H,s.z),Ye=m.unproject(ae,s.z);return[Ce,Ye]},_tileCoordsToBounds:function(s){var m=this._tileCoordsToNwSe(s),M=new ce(m[0],m[1]);return this.options.noWrap||(M=this._map.wrapLatLngBounds(M)),M},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var m=s.split(":"),M=new ue(+m[0],+m[1]);return M.z=+m[2],M},_removeTile:function(s){var m=this._tiles[s];m&&(xr(m.el),delete this._tiles[s],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){jn(s,"leaflet-tile");var m=this.getTileSize();s.style.width=m.x+"px",s.style.height=m.y+"px",s.onselectstart=w,s.onmousemove=w,cn.ielt9&&this.options.opacity<1&&Hr(s,this.options.opacity)},_addTile:function(s,m){var M=this._getTilePos(s),H=this._tileCoordsToKey(s),ae=this.createTile(this._wrapCoords(s),h(this._tileReady,this,s));this._initTile(ae),this.createTile.length<2&&D(h(this._tileReady,this,s,null,ae)),Or(ae,M),this._tiles[H]={el:ae,coords:s,current:!0},m.appendChild(ae),this.fire("tileloadstart",{tile:ae,coords:s})},_tileReady:function(s,m,M){m&&this.fire("tileerror",{error:m,tile:M,coords:s});var H=this._tileCoordsToKey(s);M=this._tiles[H],M&&(M.loaded=+new Date,this._map._fadeAnimated?(Hr(M.el,0),U(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(M.active=!0,this._pruneTiles()),m||(jn(M.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:M.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),cn.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var m=new ue(this._wrapX?y(s.x,this._wrapX):s.x,this._wrapY?y(s.y,this._wrapY):s.y);return m.z=s.z,m},_pxBoundsToTileRange:function(s){var m=this.getTileSize();return new Re(s.min.unscaleBy(m).floor(),s.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ur(s){return new hr(s)}var ti=hr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,m){this._url=s,m=I(this,m),m.detectRetina&&cn.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,m){return this._url===s&&m===void 0&&(m=!0),this._url=s,m||this.redraw(),this},createTile:function(s,m){var M=document.createElement("img");return sn(M,"load",h(this._tileOnLoad,this,m,M)),sn(M,"error",h(this._tileOnError,this,m,M)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(M.referrerPolicy=this.options.referrerPolicy),M.alt="",M.src=this.getTileUrl(s),M},getTileUrl:function(s){var m={r:cn.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var M=this._globalTileRange.max.y-s.y;this.options.tms&&(m.y=M),m["-y"]=M}return F(this._url,i(m,this.options))},_tileOnLoad:function(s,m){cn.ielt9?setTimeout(h(s,this,null,m),0):s(null,m)},_tileOnError:function(s,m,M){var H=this.options.errorTileUrl;H&&m.getAttribute("src")!==H&&(m.src=H),s(M,m)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,m=this.options.maxZoom,M=this.options.zoomReverse,H=this.options.zoomOffset;return M&&(s=m-s),s+H},_getSubdomain:function(s){var m=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var s,m;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(m=this._tiles[s].el,m.onload=w,m.onerror=w,!m.complete)){m.src=G;var M=this._tiles[s].coords;xr(m),delete this._tiles[s],this.fire("tileabort",{tile:m,coords:M})}},_removeTile:function(s){var m=this._tiles[s];if(m)return m.el.setAttribute("src",G),hr.prototype._removeTile.call(this,s)},_tileReady:function(s,m,M){if(!(!this._map||M&&M.getAttribute("src")===G))return hr.prototype._tileReady.call(this,s,m,M)}});function ki(s,m){return new ti(s,m)}var Wa=ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,m){this._url=s;var M=i({},this.defaultWmsParams);for(var H in m)H in this.options||(M[H]=m[H]);m=I(this,m);var ae=m.detectRetina&&cn.retina?2:1,Ce=this.getTileSize();M.width=Ce.x*ae,M.height=Ce.y*ae,this.wmsParams=M},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,ti.prototype.onAdd.call(this,s)},getTileUrl:function(s){var m=this._tileCoordsToNwSe(s),M=this._crs,H=ne(M.project(m[0]),M.project(m[1])),ae=H.min,Ce=H.max,Ye=(this._wmsVersion>=1.3&&this._crs===jo?[ae.y,ae.x,Ce.y,Ce.x]:[ae.x,ae.y,Ce.x,Ce.y]).join(","),xt=ti.prototype.getTileUrl.call(this,s);return xt+O(this.wmsParams,xt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ye},setParams:function(s,m){return i(this.wmsParams,s),m||this.redraw(),this}});function Jo(s,m){return new Wa(s,m)}ti.WMS=Wa,ki.wms=Jo;var Ka=jr.extend({options:{padding:.1},initialize:function(s){I(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),jn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,m){var M=this._map.getZoomScale(m,this._zoom),H=this._map.getSize().multiplyBy(.5+this.options.padding),ae=this._map.project(this._center,m),Ce=H.multiplyBy(-M).add(ae).subtract(this._map._getNewPixelOrigin(s,m));cn.any3d?Fa(this._container,Ce,M):Or(this._container,Ce)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,m=this._map.getSize(),M=this._map.containerPointToLayerPoint(m.multiplyBy(-s)).round();this._bounds=new Re(M,M.add(m.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ls=Ka.extend({options:{tolerance:0},getEvents:function(){var s=Ka.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ka.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");sn(s,"mousemove",this._onMouseMove,this),sn(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),sn(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,xr(this._container),Fr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var m in this._layers)s=this._layers[m],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ka.prototype._update.call(this);var s=this._bounds,m=this._container,M=s.getSize(),H=cn.retina?2:1;Or(m,s.min),m.width=H*M.x,m.height=H*M.y,m.style.width=M.x+"px",m.style.height=M.y+"px",cn.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ka.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var m=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var m=s._order,M=m.next,H=m.prev;M?M.prev=H:this._drawLast=H,H?H.next=M:this._drawFirst=M,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var m=s.options.dashArray.split(/[, ]+/),M=[],H,ae;for(ae=0;ae<m.length;ae++){if(H=Number(m[ae]),isNaN(H))return;M.push(H)}s.options._dashArray=M}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var m=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Re,this._redrawBounds.extend(s._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(s._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var m=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,m=this._redrawBounds;if(this._ctx.save(),m){var M=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,M.x,M.y),this._ctx.clip()}this._drawing=!0;for(var H=this._drawFirst;H;H=H.next)s=H.layer,(!m||s._pxBounds&&s._pxBounds.intersects(m))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,m){if(this._drawing){var M,H,ae,Ce,Ye=s._parts,xt=Ye.length,It=this._ctx;if(xt){for(It.beginPath(),M=0;M<xt;M++){for(H=0,ae=Ye[M].length;H<ae;H++)Ce=Ye[M][H],It[H?"lineTo":"moveTo"](Ce.x,Ce.y);m&&It.closePath()}this._fillStroke(It,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var m=s._point,M=this._ctx,H=Math.max(Math.round(s._radius),1),ae=(Math.max(Math.round(s._radiusY),1)||H)/H;ae!==1&&(M.save(),M.scale(1,ae)),M.beginPath(),M.arc(m.x,m.y/ae,H,0,Math.PI*2,!1),ae!==1&&M.restore(),this._fillStroke(M,s)}},_fillStroke:function(s,m){var M=m.options;M.fill&&(s.globalAlpha=M.fillOpacity,s.fillStyle=M.fillColor||M.color,s.fill(M.fillRule||"evenodd")),M.stroke&&M.weight!==0&&(s.setLineDash&&s.setLineDash(m.options&&m.options._dashArray||[]),s.globalAlpha=M.opacity,s.lineWidth=M.weight,s.strokeStyle=M.color,s.lineCap=M.lineCap,s.lineJoin=M.lineJoin,s.stroke())},_onClick:function(s){for(var m=this._map.mouseEventToLayerPoint(s),M,H,ae=this._drawFirst;ae;ae=ae.next)M=ae.layer,M.options.interactive&&M._containsPoint(m)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(M))&&(H=M);this._fireEvent(H?[H]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,m)}},_handleMouseOut:function(s){var m=this._hoveredLayer;m&&(Cr(this._container,"leaflet-interactive"),this._fireEvent([m],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,m){if(!this._mouseHoverThrottled){for(var M,H,ae=this._drawFirst;ae;ae=ae.next)M=ae.layer,M.options.interactive&&M._containsPoint(m)&&(H=M);H!==this._hoveredLayer&&(this._handleMouseOut(s),H&&(jn(this._container,"leaflet-interactive"),this._fireEvent([H],s,"mouseover"),this._hoveredLayer=H)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,m,M){this._map._fireDOMEvent(m,M||m.type,s)},_bringToFront:function(s){var m=s._order;if(m){var M=m.next,H=m.prev;if(M)M.prev=H;else return;H?H.next=M:M&&(this._drawFirst=M),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(s)}},_bringToBack:function(s){var m=s._order;if(m){var M=m.next,H=m.prev;if(H)H.next=M;else return;M?M.prev=H:H&&(this._drawLast=H),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(s)}}});function Qo(s){return cn.canvas?new ls(s):null}var qo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Os={_initContainer:function(){this._container=Fn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ka.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var m=s._container=qo("shape");jn(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",s._path=qo("path"),m.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var m=s._container;this._container.appendChild(m),s.options.interactive&&s.addInteractiveTarget(m)},_removePath:function(s){var m=s._container;xr(m),s.removeInteractiveTarget(m),delete this._layers[g(s)]},_updateStyle:function(s){var m=s._stroke,M=s._fill,H=s.options,ae=s._container;ae.stroked=!!H.stroke,ae.filled=!!H.fill,H.stroke?(m||(m=s._stroke=qo("stroke")),ae.appendChild(m),m.weight=H.weight+"px",m.color=H.color,m.opacity=H.opacity,H.dashArray?m.dashStyle=R(H.dashArray)?H.dashArray.join(" "):H.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=H.lineCap.replace("butt","flat"),m.joinstyle=H.lineJoin):m&&(ae.removeChild(m),s._stroke=null),H.fill?(M||(M=s._fill=qo("fill")),ae.appendChild(M),M.color=H.fillColor||H.color,M.opacity=H.fillOpacity):M&&(ae.removeChild(M),s._fill=null)},_updateCircle:function(s){var m=s._point.round(),M=Math.round(s._radius),H=Math.round(s._radiusY||M);this._setPath(s,s._empty()?"M0 0":"AL "+m.x+","+m.y+" "+M+","+H+" 0,"+65535*360)},_setPath:function(s,m){s._path.v=m},_bringToFront:function(s){Vr(s._container)},_bringToBack:function(s){la(s._container)}},wo=cn.vml?qo:fe,mi=Ka.extend({_initContainer:function(){this._container=wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xr(this._container),Fr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ka.prototype._update.call(this);var s=this._bounds,m=s.getSize(),M=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,M.setAttribute("width",m.x),M.setAttribute("height",m.y)),Or(M,s.min),M.setAttribute("viewBox",[s.min.x,s.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(s){var m=s._path=wo("path");s.options.className&&jn(m,s.options.className),s.options.interactive&&jn(m,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){xr(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var m=s._path,M=s.options;m&&(M.stroke?(m.setAttribute("stroke",M.color),m.setAttribute("stroke-opacity",M.opacity),m.setAttribute("stroke-width",M.weight),m.setAttribute("stroke-linecap",M.lineCap),m.setAttribute("stroke-linejoin",M.lineJoin),M.dashArray?m.setAttribute("stroke-dasharray",M.dashArray):m.removeAttribute("stroke-dasharray"),M.dashOffset?m.setAttribute("stroke-dashoffset",M.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),M.fill?(m.setAttribute("fill",M.fillColor||M.color),m.setAttribute("fill-opacity",M.fillOpacity),m.setAttribute("fill-rule",M.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(s,m){this._setPath(s,tt(s._parts,m))},_updateCircle:function(s){var m=s._point,M=Math.max(Math.round(s._radius),1),H=Math.max(Math.round(s._radiusY),1)||M,ae="a"+M+","+H+" 0 1,0 ",Ce=s._empty()?"M0 0":"M"+(m.x-M)+","+m.y+ae+M*2+",0 "+ae+-M*2+",0 ";this._setPath(s,Ce)},_setPath:function(s,m){s._path.setAttribute("d",m)},_bringToFront:function(s){Vr(s._path)},_bringToBack:function(s){la(s._path)}});cn.vml&&mi.include(Os);function zr(s){return cn.svg||cn.vml?new mi(s):null}Yn.include({getRenderer:function(s){var m=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var m=this._paneRenderers[s];return m===void 0&&(m=this._createRenderer({pane:s}),this._paneRenderers[s]=m),m},_createRenderer:function(s){return this.options.preferCanvas&&Qo(s)||zr(s)}});var Ia=Va.extend({initialize:function(s,m){Va.prototype.initialize.call(this,this._boundsToLatLngs(s),m)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=me(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Oa(s,m){return new Ia(s,m)}mi.create=wo,mi.pointsToPath=tt,Ei.geometryToLayer=So,Ei.coordsToLatLng=pa,Ei.coordsToLatLngs=Eo,Ei.latLngToCoords=Pa,Ei.latLngsToCoords=fi,Ei.getFeature=pi,Ei.asFeature=f,Yn.mergeOptions({boxZoom:!0});var tr=ze.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){sn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ki(),Qn(),this._startPoint=this._map.mouseEventToContainerPoint(s),sn(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Fn("div","leaflet-zoom-box",this._container),jn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var m=new Re(this._point,this._startPoint),M=m.getSize();Or(this._box,m.min),this._box.style.width=M.x+"px",this._box.style.height=M.y+"px"},_finish:function(){this._moved&&(xr(this._box),Cr(this._container,"leaflet-crosshair")),Xi(),er(),Fr(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var m=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yn.addInitHook("addHandler","boxZoom",tr),Yn.mergeOptions({doubleClickZoom:!0});var As=ze.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var m=this._map,M=m.getZoom(),H=m.options.zoomDelta,ae=s.originalEvent.shiftKey?M-H:M+H;m.options.doubleClickZoom==="center"?m.setZoom(ae):m.setZoomAround(s.containerPoint,ae)}});Yn.addInitHook("addHandler","doubleClickZoom",As),Yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var us=ze.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new $t(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}jn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cr(this._map._container,"leaflet-grab"),Cr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=me(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var m=this._lastTime=+new Date,M=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(M),this._times.push(m),this._prunePositions(m)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,m){return s-(s-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;s.x<m.min.x&&(s.x=this._viscousLimit(s.x,m.min.x)),s.y<m.min.y&&(s.y=this._viscousLimit(s.y,m.min.y)),s.x>m.max.x&&(s.x=this._viscousLimit(s.x,m.max.x)),s.y>m.max.y&&(s.y=this._viscousLimit(s.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,m=Math.round(s/2),M=this._initialWorldOffset,H=this._draggable._newPos.x,ae=(H-m+M)%s+m-M,Ce=(H+m+M)%s-m-M,Ye=Math.abs(ae+M)<Math.abs(Ce+M)?ae:Ce;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ye},_onDragEnd:function(s){var m=this._map,M=m.options,H=!M.inertia||s.noInertia||this._times.length<2;if(m.fire("dragend",s),H)m.fire("moveend");else{this._prunePositions(+new Date);var ae=this._lastPos.subtract(this._positions[0]),Ce=(this._lastTime-this._times[0])/1e3,Ye=M.easeLinearity,xt=ae.multiplyBy(Ye/Ce),It=xt.distanceTo([0,0]),en=Math.min(M.inertiaMaxSpeed,It),_n=xt.multiplyBy(en/It),Vn=en/(M.inertiaDeceleration*Ye),kr=_n.multiplyBy(-Vn/2).round();!kr.x&&!kr.y?m.fire("moveend"):(kr=m._limitOffset(kr,m.options.maxBounds),D(function(){m.panBy(kr,{duration:Vn,easeLinearity:Ye,noMoveStart:!0,animate:!0})}))}}});Yn.addInitHook("addHandler","dragging",us),Yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lo=ze.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),sn(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,m=document.documentElement,M=s.scrollTop||m.scrollTop,H=s.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(H,M)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var m=this._panKeys={},M=this.keyCodes,H,ae;for(H=0,ae=M.left.length;H<ae;H++)m[M.left[H]]=[-1*s,0];for(H=0,ae=M.right.length;H<ae;H++)m[M.right[H]]=[s,0];for(H=0,ae=M.down.length;H<ae;H++)m[M.down[H]]=[0,s];for(H=0,ae=M.up.length;H<ae;H++)m[M.up[H]]=[0,-1*s]},_setZoomDelta:function(s){var m=this._zoomKeys={},M=this.keyCodes,H,ae;for(H=0,ae=M.zoomIn.length;H<ae;H++)m[M.zoomIn[H]]=s;for(H=0,ae=M.zoomOut.length;H<ae;H++)m[M.zoomOut[H]]=-s},_addHooks:function(){sn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var m=s.keyCode,M=this._map,H;if(m in this._panKeys){if(!M._panAnim||!M._panAnim._inProgress)if(H=this._panKeys[m],s.shiftKey&&(H=Le(H).multiplyBy(3)),M.options.maxBounds&&(H=M._limitOffset(Le(H),M.options.maxBounds)),M.options.worldCopyJump){var ae=M.wrapLatLng(M.unproject(M.project(M.getCenter()).add(H)));M.panTo(ae)}else M.panBy(H)}else if(m in this._zoomKeys)M.setZoom(M.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&M._popup&&M._popup.options.closeOnEscapeKey)M.closePopup();else return;to(s)}}});Yn.addInitHook("addHandler","keyboard",lo),Yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Li=ze.extend({addHooks:function(){sn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var m=Do(s),M=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var H=Math.max(M-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),H),to(s)},_performZoom:function(){var s=this._map,m=s.getZoom(),M=this._map.options.zoomSnap||0;s._stop();var H=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ae=4*Math.log(2/(1+Math.exp(-Math.abs(H))))/Math.LN2,Ce=M?Math.ceil(ae/M)*M:ae,Ye=s._limitZoom(m+(this._delta>0?Ce:-Ce))-m;this._delta=0,this._startTime=null,Ye&&(s.options.scrollWheelZoom==="center"?s.setZoom(m+Ye):s.setZoomAround(this._lastMousePos,m+Ye))}});Yn.addInitHook("addHandler","scrollWheelZoom",Li);var hl=600;Yn.mergeOptions({tapHold:cn.touchNative&&cn.safari&&cn.mobile,tapTolerance:15});var ga=ze.extend({addHooks:function(){sn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var m=s.touches[0];this._startPos=this._newPos=new ue(m.clientX,m.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(sn(document,"touchend",Kr),sn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),hl),sn(document,"touchend touchcancel contextmenu",this._cancel,this),sn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Fr(document,"touchend",Kr),Fr(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Fr(document,"touchend touchcancel contextmenu",this._cancel,this),Fr(document,"touchmove",this._onMove,this)},_onMove:function(s){var m=s.touches[0];this._newPos=new ue(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,m){var M=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});M._simulated=!0,m.target.dispatchEvent(M)}});Yn.addInitHook("addHandler","tapHold",ga),Yn.mergeOptions({touchZoom:cn.touch,bounceAtZoomLimits:!0});var ma=ze.extend({addHooks:function(){jn(this._map._container,"leaflet-touch-zoom"),sn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cr(this._map._container,"leaflet-touch-zoom"),Fr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var m=this._map;if(!(!s.touches||s.touches.length!==2||m._animatingZoom||this._zooming)){var M=m.mouseEventToContainerPoint(s.touches[0]),H=m.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(M.add(H)._divideBy(2))),this._startDist=M.distanceTo(H),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),sn(document,"touchmove",this._onTouchMove,this),sn(document,"touchend touchcancel",this._onTouchEnd,this),Kr(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var m=this._map,M=m.mouseEventToContainerPoint(s.touches[0]),H=m.mouseEventToContainerPoint(s.touches[1]),ae=M.distanceTo(H)/this._startDist;if(this._zoom=m.getScaleZoom(ae,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&ae<1||this._zoom>m.getMaxZoom()&&ae>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,ae===1)return}else{var Ce=M._add(H)._divideBy(2)._subtract(this._centerPoint);if(ae===1&&Ce.x===0&&Ce.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(Ce),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var Ye=h(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(Ye,this,!0),Kr(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Fr(document,"touchmove",this._onTouchMove,this),Fr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yn.addInitHook("addHandler","touchZoom",ma),Yn.BoxZoom=tr,Yn.DoubleClickZoom=As,Yn.Drag=us,Yn.Keyboard=lo,Yn.ScrollWheelZoom=Li,Yn.TapHold=ga,Yn.TouchZoom=ma,n.Bounds=Re,n.Browser=cn,n.CRS=Be,n.Canvas=ls,n.Circle=Ua,n.CircleMarker=Oi,n.Class=V,n.Control=Kn,n.DivIcon=$n,n.DivOverlay=st,n.DomEvent=ka,n.DomUtil=Ca,n.Draggable=$t,n.Evented=le,n.FeatureGroup=ia,n.GeoJSON=Ei,n.GridLayer=hr,n.Handler=ze,n.Icon=Ma,n.ImageOverlay=C,n.LatLng=we,n.LatLngBounds=ce,n.Layer=jr,n.LayerGroup=ra,n.LineUtil=Na,n.Map=Yn,n.Marker=so,n.Mixin=et,n.Path=gi,n.Point=ue,n.PolyUtil=Tn,n.Polygon=Va,n.Polyline=Yi,n.Popup=_t,n.PosAnimation=Fo,n.Projection=Ui,n.Rectangle=Ia,n.Renderer=Ka,n.SVG=mi,n.SVGOverlay=xe,n.TileLayer=ti,n.Tooltip=pn,n.Transformation=Fe,n.Util=te,n.VideoOverlay=K,n.bind=h,n.bounds=ne,n.canvas=Qo,n.circle=Ga,n.circleMarker=qa,n.control=hi,n.divIcon=Mr,n.extend=i,n.featureGroup=da,n.geoJSON=o,n.geoJson=d,n.gridLayer=Ur,n.icon=ss,n.imageOverlay=B,n.latLng=ke,n.latLngBounds=me,n.layerGroup=Ho,n.map=_o,n.marker=fa,n.point=Le,n.polygon=Ji,n.polyline=ui,n.popup=Yt,n.rectangle=Oa,n.setOptions=I,n.stamp=g,n.svg=zr,n.svgOverlay=$e,n.tileLayer=ki,n.tooltip=Pn,n.transformation=de,n.version=r,n.videoOverlay=se;var ko=window.L;n.noConflict=function(){return window.L=ko,this},window.L=n}))})(qu,qu.exports)),qu.exports}var jl=L1();const ci=ep(jl);function td(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function nd(e,t){return t==null?function(r,i){const l=b.useRef(void 0);return l.current||(l.current=e(r,i)),l}:function(r,i){const l=b.useRef(void 0);l.current||(l.current=e(r,i));const h=b.useRef(r),{instance:c}=l.current;return b.useEffect(function(){h.current!==r&&(t(c,r,h.current),h.current=r)},[c,r,t]),l}}function N1(e,t){b.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function jN(e){return function(n){const r=mc(),i=e(Bp(n,r),r);return BN(r.map,n.attribution),k1(i.current,n.eventHandlers),N1(i.current,r),i}}function zN(e,t){const n=b.useRef(void 0);b.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function HN(e){return function(n){const r=mc(),i=e(Bp(n,r),r);return k1(i.current,n.eventHandlers),N1(i.current,r),zN(i.current,n),i}}function M1(e){function t(i,l){return td(e(i),l)}const n=nd(t),r=E1(n);return S1(r)}function qN(e,t){const n=nd(e,t),r=HN(n);return C1(r)}function UN(e,t){const n=nd(e,t),r=jN(n);return S1(r)}function GN(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function as(){return mc().map}const xh=qN(function({data:t,...n},r){const i=new jl.GeoJSON(t,n);return td(i,Rp(r,{overlayContainer:i}))},function(t,n,r){n.style!==r.style&&(n.style==null?t.resetStyle():t.setStyle(n.style))}),VN=nd(function({children:t,...n},r){const i=new jl.Control.Layers(void 0,void 0,n);return td(i,Rp(r,{layersControl:i}))},function(t,n,r){n.collapsed!==r.collapsed&&(n.collapsed===!0?t.collapse():t.expand())}),WN=E1(VN),Dp=C1(WN);function P1(e){return function(n){const r=mc(),i=b.useRef(n),[l,h]=b.useState(null),{layersControl:c,map:g}=r,v=b.useCallback(k=>{c!=null&&(i.current.checked&&g.addLayer(k),e(c,k,i.current.name),h(k))},[e,c,g]),y=b.useCallback(k=>{c?.removeLayer(k),h(null)},[c]),w=b.useMemo(()=>Rp(r,{layerContainer:{addLayer:v,removeLayer:y}}),[r,v,y]);return b.useEffect(()=>{l!==null&&i.current!==n&&(n.checked===!0&&(i.current.checked==null||i.current.checked===!1)?g.addLayer(l):i.current.checked===!0&&(n.checked==null||n.checked===!1)&&g.removeLayer(l),i.current=n)}),n.children?Ot.createElement(ed,{value:w},n.children):null}}Dp.BaseLayer=P1(function(t,n,r){t.addBaseLayer(n,r)});Dp.Overlay=P1(function(t,n,r){t.addOverlay(n,r)});function KN({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:l,placeholder:h,style:c,whenReady:g,zoom:v,...y},w){const[k]=b.useState({className:i,id:l,style:c}),[x,N]=b.useState(null),I=b.useRef(void 0);b.useImperativeHandle(w,()=>x?.map??null,[x]);const O=b.useCallback(F=>{if(F!==null&&!I.current){const R=new jl.Map(F,y);I.current=R,n!=null&&v!=null?R.setView(n,v):e!=null&&R.fitBounds(e,t),g!=null&&R.whenReady(g),N($N(R))}},[]);b.useEffect(()=>()=>{x?.map.remove()},[x]);const T=x?Ot.createElement(ed,{value:x},r):h??null;return Ot.createElement("div",{...k,ref:O},T)}const I1=b.forwardRef(KN),O1=M1(function(t){return new jl.Control.Scale(t)}),XN=UN(function({url:t,...n},r){const i=new jl.TileLayer(t,Bp(n,r));return td(i,r)},function(t,n,r){GN(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),ZN=M1(function(t){return new jl.Control.Zoom(t)}),go={color:"#000000",weight:1,opacity:1,fillOpacity:1,fillColor:"transparent",markerFillColor:"#000000",radius:3},YN={color:"#ff0000",weight:3,opacity:.8,fillColor:"#ff0000",fillOpacity:.6},JN={radius:10,color:"#ff0000",weight:2,opacity:.9,fillColor:"#ff0000",fillOpacity:.6},QN={color:"#ffbf00",weight:2,opacity:.9,fillColor:"#ffbf00",fillOpacity:.6},eM={radius:8,color:"#ffbf00",weight:2,opacity:.9,fillColor:"##ffbf00",fillOpacity:.6},tM={maxWidth:450,maxHeight:400,className:"custom-popup",autoPan:!0,autoPanPadding:[50,50],autoPanPaddingTopLeft:[50,50],autoPanPaddingBottomRight:[50,50]},zs={OVERLAY_BASE:400,SELECTED_FEATURES:1e4},Dd={POLYGON:"G",LINE:"L",POINT:"P"},wh={weightIncrease:1,fillOpacityIncrease:.2},nM={fillOpacity:0},rM=e=>{if(!e)return"";const t=e.lat?.toFixed(6)||"N/A",n=e.lng?.toFixed(6)||"N/A";return`
    <div style="padding:16px;border-bottom:1px solid #e5e7eb;background:#f8fafc;">
      <div style="display:flex;align-items:center;margin-bottom:8px;">
        <svg style="width:16px;height:16px;margin-right:8px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
        <h3 style="margin:0;font-size:14px;font-weight:600;color:#1e293b;">Coordinates</h3>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;font-size:12px;">
        <div>
          <span style="font-weight:500;color:#64748b;">Latitude:</span>
          <div style="color:#1e293b;font-weight:600;margin-top:2px;">${t}</div>
        </div>
        <div>
          <span style="font-weight:500;color:#64748b;">Longitude:</span>
          <div style="color:#1e293b;font-weight:600;margin-top:2px;">${n}</div>
        </div>
      </div>
    </div>
  `},iM=(e={})=>{const t=Object.entries(e||{}),n=t.filter(([v])=>String(v).toLowerCase().endsWith("_img_url")),r=t.filter(([v])=>!String(v).toLowerCase().endsWith("_img_url")),i=v=>String(v).replace(/_img_url$/i,"").replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()).trim(),l=v=>!v&&v!==0?[]:Array.isArray(v)?v.map(String).map(y=>y.trim()).filter(Boolean):typeof v=="string"?v.includes(",")?v.split(",").map(y=>y.trim()).filter(Boolean):[v.trim()]:[String(v)],h=n.map(([v,y])=>l(y).filter(k=>{try{return k.startsWith("data:")||k.startsWith("//")||new URL(k),!0}catch{return!1}}).map(k=>({url:k,key:i(v)}))).flat();if(r.length===0&&h.length===0)return`
      <div style="padding:16px;">
        <div style="display:flex;align-items:center;margin-bottom:12px;">
          <svg style="width:16px;height:16px;margin-right:8px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
          <h3 style="margin:0;font-size:14px;font-weight:600;color:#1e293b;">Properties</h3>
        </div>
        <div style="text-align:center;padding:20px;color:#64748b;font-size:12px;">
          No properties available
        </div>
      </div>
    `;let c="";if(h.length>0)if(h.length>1){const v=h.map((y,w)=>`
          <a href="${y.url}" target="_blank" rel="noopener noreferrer" aria-label="${y.key} ${w+1}" style="flex:0 0 auto;border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(15,23,42,0.08);margin-right:8px;scroll-snap-align:start;">
            <img loading="lazy" src="${y.url}" alt="${y.key} ${w+1}" style="display:block;height:120px;width:auto;max-width:220px;object-fit:cover;border:0;">
          </a>
        `).join("");c=`
        <div style="padding:12px 16px;border-bottom:1px solid #e5e7eb;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
            <div style="display:flex;align-items:center;gap:8px;">
              <svg style="width:14px;height:14px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <h4 style="margin:0;font-size:13px;font-weight:600;color:#1e293b;">Images</h4>
            </div>
            <div style="font-size:12px;color:#64748b;">${h.length} image${h.length>1?"s":""}</div>
          </div>
          <div style="display:flex;overflow-x:auto;gap:8px;padding-bottom:8px;-webkit-overflow-scrolling:touch;scroll-snap-type:x mandatory;">
            ${v}
          </div>
        </div>
      `}else{const v=h[0];c=`
        <div style="padding:12px 16px;border-bottom:1px solid #e5e7eb;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
            <div style="display:flex;align-items:center;gap:8px;">
              <svg style="width:14px;height:14px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <h4 style="margin:0;font-size:13px;font-weight:600;color:#1e293b;">${v.key}</h4>
            </div>
          </div>
          <div style="display:flex;align-items:flex-start;">
            <a href="${v.url}" target="_blank" rel="noopener noreferrer" style="display:inline-block;border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(15,23,42,0.08);">
              <img loading="lazy" src="${v.url}" alt="${v.key}" style="display:block;height:160px;max-width:100%;width:auto;object-fit:cover;border:0;">
            </a>
          </div>
        </div>
      `}const g=r.map(([v,y],w)=>{const k=y!=null?String(y):"",x=w%2===0?"#f8fafc":"#ffffff",N=i(v),O=typeof y=="string"&&/^(https?:\/\/|\/\/|data:)/i.test(y.trim())?`<a href="${String(y).trim()}" target="_blank" rel="noopener noreferrer" style="color:#2563eb;text-decoration:underline;">${String(y)}</a>`:k;return`
        <tr style="background-color:${x};">
          <td style="font-weight:600;padding:10px 12px;border-bottom:1px solid #e5e7eb;color:#1f2937;font-size:12px;width:40%;">${N}</td>
          <td style="padding:10px 12px;border-bottom:1px solid #e5e7eb;color:#4b5563;font-size:12px;word-break:break-word;width:60%;">${O}</td>
        </tr>
      `}).join("");return`
    <div style="padding:0 0 0 0;">
      <div style="display:flex;align-items:center;padding:16px;border-bottom:1px solid #e5e7eb;">
        <svg style="width:16px;height:16px;margin-right:8px;color:#3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
        </svg>
        <h3 style="margin:0;font-size:14px;font-weight:600;color:#1e293b;">Properties</h3>
      </div>

      ${c}

      ${r.length>0?`
        <div style="padding:16px;">
          <div>
            <table style="width:100%;border-collapse:collapse;font-family:'Segoe UI',Arial,sans-serif;font-size:12px;">
              <tbody>${g}</tbody>
            </table>
          </div>
          ${r.length<Object.keys(e).length?`<div style="text-align:center;padding:8px;color:#64748b;font-size:11px;border-top:1px solid #e5e7eb;margin-top:8px;">
              +${Object.keys(e).length-r.length} more properties
            </div>`:""}
        </div>
      `:""}
    </div>
  `},aM=(e={},t=null,n="")=>`
    <div style="width:380px;max-height:400px;background:#ffffff;border-radius:8px;box-shadow:0 10px 25px rgba(0,0,0,0.15);overflow:hidden;border:1px solid #e2e8f0;display:flex;flex-direction:column;">
      <div style="background:linear-gradient(135deg,#3b82f6,#1d4ed8);padding:16px;flex:0 0 auto;">
        <h2 style="margin:0;font-size:16px;font-weight:700;color:white;display:flex;align-items:center;gap:8px;">
          <svg style="width:18px;height:18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          Feature Details
        </h2>
      </div>

      <!-- unified scrollable content block: coordinates, images, properties are inside this element -->
      <div style="flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;">
        ${(n==="point"||n==="P")&&t?rM(t):""}
        ${iM(e)}
      </div>
    </div>
  `,A1=(e,t={},n="",r=null,i="")=>{if(t&&Object.keys(t).length>0){const l=aM(t,r,i);e.bindPopup(l,{...tM,className:"enhanced-tooltip"})}},T1=b.memo(({layerId:e,geoJsonData:t,metaData:n})=>{const r=as(),i=$r(R=>R.map.layerOrder),l=$r(R=>R.map.viewport.zoom),h=b.useMemo(()=>{const R=n?.style||{},$=n?.portal_layer_map||{};let G=0,Q=0;if(R.label_offset_xy)try{const ee=JSON.parse(R.label_offset_xy);Array.isArray(ee)&&ee.length>=2&&(G=Number(ee[0])*-1||0,Q=Number(ee[1])||0)}catch{console.warn("Failed to parse label_offset_xy:",R.label_offset_xy)}return{fontType:R.label_font_typ||"Arial",fontSize:Number(R.label_font_size)||12,textColor:R.label_color||"#000000",bgColor:R.label_bg_color||"transparent",bgStrokeWidth:Number(R.label_bg_stroke_width)||0,zoomLevel:Number($?.label_view_zoom_level)||0,offsetX:G,offsetY:Q,enabled:R.label_font_size!==void 0&&R.label_font_size!==null}},[n?.style]),c=b.useMemo(()=>i.includes(e),[i,e]);b.useMemo(()=>l>=h.zoomLevel,[l,h.zoomLevel]);const g=b.useCallback(R=>{if(!R)return null;switch(R.type.toLowerCase()){case"point":return R.coordinates;case"linestring":return v(R.coordinates);case"polygon":return y(R.coordinates[0]);case"multipoint":return w(R.coordinates);case"multilinestring":return k(R.coordinates);case"multipolygon":return x(R.coordinates);default:return null}},[]),v=b.useCallback(R=>{if(!R||R.length===0)return null;const $=Math.floor(R.length/2);return R[$]},[]),y=b.useCallback(R=>{if(!R||R.length===0)return null;let $=0,G=0,Q=0;for(let ee=0;ee<R.length-1;ee++){const[Y,q]=R[ee],[oe,D]=R[ee+1],U=Y*D-oe*q;$+=U,G+=(Y+oe)*U,Q+=(q+D)*U}return $===0?R[0]:[G/(3*$),Q/(3*$)]},[]),w=b.useCallback(R=>{if(!R||R.length===0)return null;const $=R.reduce((Q,ee)=>Q+ee[0],0),G=R.reduce((Q,ee)=>Q+ee[1],0);return[$/R.length,G/R.length]},[]),k=b.useCallback(R=>!R||R.length===0?null:v(R[0]),[v]),x=b.useCallback(R=>!R||R.length===0?null:y(R[0][0]),[y]),N=b.useCallback(R=>{if(!R)return null;const $=n?.portal_layer_map?.label_text_col_nm||null;return $&&R[$]?R[$]:null},[n.portal_layer_map]),I=(R,$)=>{const G=`
      <div class="label-text" style="
        font-family: ${$.fontType}, sans-serif;
        font-size: ${$.fontSize}px;
        color: ${$.textColor};
        background-color: ${$.bgColor};
        border: ${$.bgStrokeWidth}px solid ${$.textColor};
        padding: 4px 8px;
        border-radius: 4px;
        white-space: nowrap;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        font-weight: 600;
      ">
        ${R}
      </div>
    `;return ci.divIcon({html:G,className:"feature-label-icon",iconSize:null,iconAnchor:[$.offsetX,$.offsetY]})},O=b.useRef([]);b.useEffect(()=>{if(F(),!r||!t||!c||!h.enabled)return;T();const R=()=>{const G=r.getZoom()>=h.zoomLevel;O.current.forEach(Q=>Q.setOpacity(G?1:0))};return r.on("zoomend",R),()=>{r.off("zoomend",R),F()}},[r,t,c,h,g,N]);const T=b.useCallback(()=>{F(),!(!t.features||t.features.length===0)&&t.features.forEach(R=>{try{const $=g(R.geometry);if(!$)return;const G=N(R.properties);if(!G)return;const[Q,ee]=$,Y=ci.latLng(ee,Q),q=I(G,h),oe=ci.marker(Y,{icon:q,interactive:!1,zIndexOffset:1e3});oe.addTo(r),O.current.push(oe);const D=r.getZoom?.()??l;oe.setOpacity(D>=h.zoomLevel?1:0)}catch($){console.warn("Error creating label for feature:",$)}})},[t,g,N,h,r]);b.useCallback(()=>{const $=r.getZoom()>=h.zoomLevel;O.current.forEach(G=>{G.setOpacity($?1:0)})},[r,h.zoomLevel]);const F=b.useCallback(()=>{O.current.forEach(R=>{try{r.removeLayer(R)}catch{}}),O.current=[]},[r]);return null});T1.displayName="LabelLayer";const $p=b.memo(({layerId:e,geoJsonData:t,metaData:n,pane:r})=>{const i=Ko(),l=$r(x=>x.map.viewport),h=as(),c=$r(x=>x.ui.isPrintModalOpen),g=b.useMemo(()=>{const x=`__canvas_renderer_for_${r}`;return h[x]||(h[x]=ci.canvas({padding:.5,pane:r,tolerance:0})),h[x]},[h,r]),v=b.useMemo(()=>{const x=`__svg_renderer_for_${r}`;return h[x]||(h[x]=ci.svg({pane:r})),h[x]},[h,r]),y=b.useCallback(x=>{const N=n?.style||{},I={color:N.stroke_color||go.color,weight:N.stroke_width||go.weight,opacity:N.stroke_opacity||go.opacity,fillOpacity:N.fill_opacity||go.fillOpacity,fillColor:N.fill_color||go.fillColor};switch(N.geom_typ){case Dd.POLYGON:return I;case Dd.LINE:return{...I,...nM};case Dd.POINT:return{radius:N.marker_size||go.radius,color:N.stroke_color||go.color,fillColor:N.fill_color||go.markerFillColor,fillOpacity:N.fill_opacity||go.fillOpacity,weight:N.stroke_width||go.weight};default:return go}},[]),w=b.useCallback((x,N)=>{if(x.properties){const I="Tooltip",O=x.geometry?.type?.toLowerCase();let T=null;if(O==="point"&&x.geometry?.coordinates){const[F,R]=x.geometry.coordinates;T=ci.latLng(R,F)}A1(N,{...x.properties},I,T,O)}c?(N.off("mouseover"),N.off("mouseout"),N.off("click")):(N.on("mouseover",I=>{const O=y(x);I.target.setStyle({...O,weight:O.weight+wh.weightIncrease,fillOpacity:(O.fillOpacity||0)+wh.fillOpacityIncrease})}),N.on("mouseout",I=>{I.target.setStyle(y(x))}))},[i,y,l.zoom,c]),k=b.useCallback((x,N)=>{const I=n?.style||{},O=I.marker_fa_icon_name,T=I.marker_img_url,F=Math.max(8,Number(I.marker_size)||18)*(c?1.2:1),R=I.marker_color||"#2c3e50";if(T){const $=ci.icon({iconUrl:T,iconSize:[F,F],iconAnchor:[F/2,F/2],className:c?"print-marker-icon":""});return ci.marker(N,{icon:$})}if(O){const $=`<i class="${O}" style="font-size:${F}px;color:${R};line-height:1;${c?"filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.3));":""}"></i>`,G=ci.divIcon({className:`fa-icon-marker ${c?"print-marker":""}`,html:$,iconSize:[F,F],iconAnchor:[Math.round(F/2),Math.round(F/2)]});return ci.marker(N,{icon:G})}return ci.circleMarker(N,{...y(x),radius:Math.max(4,(I.marker_size||8)*(c?1.2:1))})},[y,n,c]);return Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(xh,{data:t,style:y,pointToLayer:k,onEachFeature:w,pane:r,renderer:c?v:g,interactive:!c},`${e}-${c?"print":"normal"}`),Ie.jsx(T1,{layerId:e,geoJsonData:t,metaData:n})]})});$p.displayName="GeoJsonLayerWrapper";const oM=jv.injectEndpoints({endpoints:e=>({getLegend:e.mutation({query:t=>({url:"legend/",method:"POST",body:t})})}),overrideExisting:!1}),{useGetLegendMutation:sM}=oM;function R1({iconInfo:e}){let t=e?.geom_typ,n="unknown-layer-icon",r={backgroundColor:e?.fill_color||go.fillColor,borderColor:e?.stroke_color||go.color};const i=e?.marker_img_url;if(i)return Ie.jsx("div",{className:"layer-icon",style:{},children:Ie.jsx("img",{src:i,alt:"marker",style:{width:"16px",height:"16px",objectFit:"contain"}})});const l=e?.marker_fa_icon_name;if(l){const g={fontSize:"16px",color:e?.fill_color||go.color,lineHeight:1};return Ie.jsx("div",{className:"layer-icon",style:{},children:Ie.jsx("i",{className:l,style:g,"aria-hidden":"true"})})}return t==="G"?n="polygon-icon":t==="P"?(n="point-icon",r={...r,backgroundColor:e?.stroke_color||go.markerFillColor}):t==="L"&&(n="line-icon",r={backgroundColor:e?.stroke_color||go.color,borderColor:"transparent"}),Ie.jsx("div",{className:n,style:r})}const B1=({visible:e})=>{const t=$r(v=>v.map.geoJsonLayers),n=$r(v=>v.map.portalId),[r,{isLoading:i}]=sM(),[l,h]=b.useState(null),[c,g]=b.useState(null);return b.useEffect(()=>{let v=!0;async function y(){g(null),h(null);const w=Object.keys(t||{});if(w.length!==0)try{const x=await r({portal_id:n,layer_ids:w}).unwrap();v&&h(x?.data||null)}catch(k){v&&g(k?.data||k?.message||"Failed to load legend")}}return e&&y(),()=>{v=!1}},[e,t,r]),e?Ie.jsxs(fh,{className:"map-legend",style:{position:"absolute",bottom:"20px",right:"20px",zIndex:1e3,backgroundColor:"white",maxWidth:"320px",maxHeight:"400px",overflowY:"auto"},size:"small",title:"Legend",children:[i&&Ie.jsx("div",{style:{textAlign:"center",padding:12},children:Ie.jsx($l,{})}),c&&Ie.jsx(ou,{type:"error",message:"Error",description:typeof c=="string"?c:JSON.stringify(c),showIcon:!0}),Object.entries(t||{}).length===0&&Ie.jsx("div",{children:"No layer selected"}),!i&&!c&&l&&l.length===0&&Ie.jsx("div",{children:"No legend items found"}),!i&&!c&&l&&l.map(v=>Ie.jsx("div",{style:{marginBottom:"12px"},children:Array.isArray(v.symbols)&&v.symbols.map((y,w)=>Ie.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:6},children:[Ie.jsx(R1,{iconInfo:{...y.style,geom_typ:y.geom_type}}),Ie.jsx("div",{children:Ie.jsx("div",{style:{fontSize:11,color:"#888"},children:y.label||""})})]},w))},v.layerId))]}):null},lM={color:"#ff0000",weight:2,opacity:1,fillColor:"#ff0000",fillOpacity:.25},Fp=b.memo(({layerId:e,geoJsonData:t,metaData:n,pane:r})=>{const i=Ko(),l=$r(x=>x.map.viewport),h=as(),c=$r(x=>x.ui.isPrintModalOpen),g=b.useMemo(()=>{const x=`__canvas_renderer_for_${r}`;return h[x]||(h[x]=ci.canvas({padding:.5,pane:r})),h[x]},[h,r]),v=b.useMemo(()=>{const x=`__svg_renderer_for_${r}`;return h[x]||(h[x]=ci.svg({pane:r})),h[x]},[h,r]),y=b.useCallback(()=>lM,[]),w=b.useCallback((x,N)=>{N.on("mouseover",I=>{const O=y(x);I.target.setStyle({...O,weight:(O.weight||2)+wh.weightIncrease,fillOpacity:(O.fillOpacity||0)+wh.fillOpacityIncrease})}),N.on("mouseout",I=>{I.target.setStyle(y(x))})},[i,y,l.zoom]),k=b.useCallback((x,N)=>ci.circleMarker(N,{radius:8,color:"#ff0000",fillColor:"#ff0000",fillOpacity:.35,weight:2}),[]);return Ie.jsx(xh,{data:t,style:y,pointToLayer:k,onEachFeature:w,pane:r,renderer:c?v:g},e)});Fp.displayName="BufferGeoJsonLayer";const Km={openstreetmap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; OpenStreetMap contributors",maxZoom:19},google_satellite:{url:"http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],maxZoom:20},esri_satellite:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri",maxZoom:20},stadia_alidade_satellite:{url:"https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.jpg",attribution:'&copy; CNES, Distribution Airbus DS,  Airbus DS,  PlanetObserver (Contains Copernicus Data) | &copy; <a href="https://www.stadiamaps.com/">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:20},stadia_alidade_dark:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}};function D1(e){const t=$r(i=>i.map?.activeBasemap)||"openstreetmap",n=t==="streets"?"openstreetmap":t,r={...Km[n]||Km.openstreetmap};return Ie.jsx(XN,{...r,updateWhenIdle:!1,updateWhenZooming:!1,...e},n)}const uM=[{key:"openstreetmap",label:"OSM",title:"OpenStreetMap"},{key:"google_satellite",label:"Google",title:"Google Satellite"},{key:"esri_satellite",label:"ESRI",title:"ESRI Satellite"},{key:"stadia_alidade_satellite",label:"Stadia Sat",title:"Stadia Alidade Satellite"},{key:"stadia_alidade_dark",label:"Stadia Dark",title:"Stadia Alidade Dark"}];function cM(){const e=Ko(),t=$r(n=>n.map?.activeBasemap)||"openstreetmap";return Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(D1,{}),Ie.jsx("div",{style:{position:"absolute",top:8,right:8,zIndex:1200,display:"flex",flexDirection:"column",gap:6,padding:6,borderRadius:6,background:"rgba(255,255,255,0.9)",boxShadow:"0 1px 6px rgba(0,0,0,0.15)",textAlign:"start"},children:uM.map(n=>Ie.jsx(sa,{title:n.title,children:Ie.jsx(ii,{size:"small",type:n.key===t?"primary":"default",onClick:()=>e(vx(n.key)),style:{display:"flex",alignItems:"center",justifyContent:"start"},children:n.label})},n.key))})]})}const Xm={padding:[10,10],maxZoom:16,duration:.7};function hM({csvDownloader:e=!0,clearDataOnTabChange:t=!0,clearDataOnClose:n=!0,defaultSelectAll:r=!1}){const i=Ko(),l=as(),[h,c]=b.useState(null),[g,v]=b.useState({}),[y,w]=b.useState([]),[k,x]=b.useState(!1),N=$r(J=>J.map.geoJsonLayers),I=b.useCallback(J=>{const ie=J.split("-"),le=ie[ie.length-1];return Number(le)},[]),O=b.useCallback((J,ie)=>{const le=N[J]?.geoJsonData?.features||[],ue=I(ie);return le[ue]||null},[N,I]),T=b.useCallback(J=>!J||Object.keys(J).length===0?[]:Object.keys(J).map(ie=>({title:ie.charAt(0).toUpperCase()+ie.slice(1),dataIndex:ie,key:ie,sorter:(le,ue)=>typeof le[ie]=="number"&&typeof ue[ie]=="number"?le[ie]-ue[ie]:String(le[ie]??"").localeCompare(String(ue[ie]??""))})),[]),F=b.useCallback((J,ie)=>!J||J.length===0?[]:J.map((le,ue)=>({key:`${ie}-${ue}`,featureIndex:ue,...le.properties})),[]),R=b.useRef(""),$=b.useCallback((J,ie)=>{const le=N[ie]?.geoJsonData.features[J.featureIndex];if(le&&ie+J.featureIndex!==R.current){if(i(Mc({feature:[le],metaData:{...N[ie]?.metaData,selectedKeys:[J.key]}})),l)try{const be=ci.geoJSON(le).getBounds();be&&be.isValid&&be.isValid()&&l.flyToBounds(be,Xm)}catch(ue){console.error("Error fitting bounds:",ue)}v({[ie]:[J.key]}),R.current=ie+J.featureIndex}else i(Mc({feature:[],metaData:null})),v({}),R.current=""},[i,N,l]),G=b.useCallback((J,ie,le)=>{w(ue=>{const be=new Set(ue[J]?Array.from(ue[J]):[]);return le?be.add(ie):be.delete(ie),{...ue,[J]:be}})},[]),Q=b.useCallback((J,ie)=>{const le=N[J];if(!le?.geoJsonData?.features)return;const ue=le.geoJsonData.features.map((be,Le)=>`${J}-${Le}`);w(be=>{const Le={...be};return ie?Le[J]=new Set(ue):Le[J]=new Set,Le})},[N]),ee=b.useCallback(J=>{const le=N[J]?.geoJsonData?.features||[],ue=y[J]?.size||0;return ue===0?!1:ue===le.length?!0:"indeterminate"},[N,y]),Y=b.useCallback(()=>{if(l&&!(!y||Object.keys(y).length===0))try{let J=null;Object.entries(y).forEach(([ie,le])=>{const ue=N[ie]?.geoJsonData?.features||[];Array.from(le||[]).forEach(be=>{const Le=I(be),Re=ue[Le];if(Re)try{const ce=ci.geoJSON(Re).getBounds();ce?.isValid?.()&&(J?J.extend(ce):J=ce)}catch(ne){console.error(`Error processing feature at ${Le}:`,ne)}})}),J?.isValid?.()&&l.flyToBounds(J,Xm)}catch(J){console.error("Error fitting to multi-selected bounds:",J)}},[l,y,N,I]);b.useEffect(()=>{const J=[];Object.entries(y).forEach(([ie,le])=>{const ue=N[ie]?.geoJsonData?.features||[],be=N[ie]?.metaData||{};Array.from(le||[]).forEach(Le=>{const Re=I(Le),ne=ue[Re];ne&&J.push({layerId:ie,feature:ne,metaData:be})})}),i(gd(J)),J.length>0&&Y()},[y,N,i,Y,I]);const q=b.useCallback(()=>{const J=[];if(Object.entries(y).forEach(([me,we])=>{Array.from(we||[]).forEach(ke=>{const Be=O(me,ke);if(Be){let he=null,qe=null,We=!1;if(Be.geometry?.type==="Point"&&Be.geometry?.coordinates){const[Fe,de]=Be.geometry.coordinates;qe=Fe,he=de,We=!0}J.push({layerId:me,properties:Be.properties||{},latitude:he,longitude:qe,isPoint:We})}})}),J.length===0){fs.info("No features selected for download");return}const ie=J.some(me=>me.isPoint),le=new Set(["layerId"]);ie&&(le.add("latitude"),le.add("longitude")),J.forEach(me=>{Object.keys(me.properties).forEach(we=>le.add(we))});const ue=Array.from(le),be=me=>me==null?"":`"${String(me).replace(/"/g,'""')}"`,Le=[ue.join(",")];J.forEach(me=>{const we=ue.map(ke=>be(ke==="layerId"?me.layerId:ke==="latitude"?me.latitude:ke==="longitude"?me.longitude:me.properties[ke]));Le.push(we.join(","))});const Re=new Blob([Le.join(`\r
`)],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(Re),ce=document.createElement("a");ce.href=ne,ce.download=`features_${new Date().toISOString().replace(/[:.]/g,"-")}.csv`,document.body.appendChild(ce),ce.click(),ce.remove(),URL.revokeObjectURL(ne)},[y,O]),oe=b.useCallback((J,ie)=>{const le=y[ie]?.has(J.key);return g[ie]?.includes(J.key)?"#ffece6ff":le?"#fff7cc":"white"},[y,g]),D=b.useMemo(()=>Object.entries(N||{}).filter(([J,ie])=>ie?.geoJsonData?.features),[N]);b.useEffect(()=>{if(!r||!h||!k)return;const J=N[h];if(!J?.geoJsonData?.features)return;const le=J.geoJsonData.features.map((ue,be)=>`${h}-${be}`);w(ue=>{const be={...ue};return be[h]=new Set(le),be})},[h,r,N,k]);const U=b.useMemo(()=>D.map(([J,ie])=>{const le=ie?.metaData?.layer?.layer_nm||J,ue={title:"Find",key:`${J}-action`,width:80,fixed:"left",render:(ce,me)=>{const we=g[J]?.includes(me.key);return Ie.jsx(sa,{title:we?"View feature on map (currently selected)":"View feature on map",children:Ie.jsx(ii,{type:we?"primary":"default",icon:Ie.jsx(Gh,{}),size:"small",onClick:()=>$(me,J)})})}},be={title:Ie.jsx(sa,{title:"Select all / Unselect all rows in this tab",children:Ie.jsx(Ns,{checked:ee(J)===!0,indeterminate:ee(J)==="indeterminate",onChange:ce=>Q(J,ce.target.checked),children:"Select"})}),key:`${J}-select`,width:80,fixed:"left",render:(ce,me)=>{const we=y[J]?.has(me.key)||!1;return Ie.jsx(Ns,{checked:we,onChange:ke=>{G(J,me.key,ke.target.checked)}})}},Le=T(ie?.geoJsonData?.features[0]?.properties),Re=[be,ue,...Le],ne=h===J?Ie.jsx(Us,{rowKey:"key",columns:Re,dataSource:F(ie?.geoJsonData?.features,J),scroll:{x:!0,y:600},size:"small",pagination:{pageSize:5},onRow:ce=>({style:{cursor:"pointer",backgroundColor:oe(ce,J)}})}):null;return{key:J,label:le,children:ne}}),[D,h,g,T,F,$,y,G,oe,ee,Q]);b.useEffect(()=>{!h&&U.length>0&&c(U[0].key),h&&!k&&x(!0)},[U,h]);const te=b.useCallback(J=>{c(J),t&&(v({}),w({}),i(zv()),i(Mc({feature:[],metaData:null})),i(gd([])))},[i,t]),V=b.useCallback(()=>{v({}),w({}),i(Mc({feature:[],metaData:null})),i(gd([]))},[i]);return b.useEffect(()=>()=>{n&&V()},[n,V]),Ie.jsxs(Ie.Fragment,{children:[e&&Ie.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:Ie.jsx(ii,{type:"primary",icon:Ie.jsx(wN,{}),onClick:q,children:"Download CSV"})}),U.length===0?Ie.jsx("div",{children:"No active layers with attributes to display"}):Ie.jsx(Jx,{type:"card",items:U,onChange:te,activeKey:h,destroyOnHidden:!0,animated:!1})]})}const $1=b.memo(hM);function dM(){return Ie.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:Ie.jsx("rect",{x:"4",y:"11",width:"16",height:"2",rx:"1",fill:"currentColor"})})}function fM(){return Ie.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:Ie.jsx("rect",{x:"5",y:"5",width:"14",height:"14",rx:"1.5",stroke:"currentColor",strokeWidth:"1.6",fill:"none"})})}function pM(){return Ie.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:Ie.jsx("path",{d:"M6 6L18 18M6 18L18 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function gM(){return Ie.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[Ie.jsx("rect",{x:"9",y:"3",width:"14",height:"14",rx:"1.2",stroke:"currentColor",strokeWidth:"1.6",fill:"none",fillOpacity:"1"}),Ie.jsx("rect",{x:"5",y:"7",width:"14",height:"14",rx:"1.2",stroke:"currentColor",strokeWidth:"1.6",fill:"white",fillOpacity:"1"})]})}function jp({title:e,placement:t="right",height:n,open:r,onClose:i,styles:l=null,children:h,mask:c=!0,width:g=400,afterOpenChange:v,maximized:y=!1,minimized:w=!1}){const{token:{colorPrimary:k,colorBorder:x,fontSizeLG:N}}=_1.useToken(),[I,O]=b.useState(!1),[T,F]=b.useState(!1),R=b.useRef({width:g,height:n}),$=t==="top"||t==="bottom",G=$?void 0:I?56:T?"100%":g,Q=$?I?56:T?"100vh":n:void 0,ee={mask:{backgroundColor:"transparent",backdropFilter:"none"},content:{},header:{borderBottom:`1px solid ${k}`,padding:0},body:{fontSize:N},footer:{borderTop:`1px solid ${x}`}},Y={...l??ee,body:{...l?.body??ee.body,display:I?"none":void 0,fontSize:N},header:{...l?.header??ee.header,padding:0,borderBottom:`1px solid ${k}`},mask:{...l?.mask??ee.mask,backgroundColor:c?void 0:"transparent"}},q=()=>{I?O(!1):(R.current={width:G==="100%"?g:G,height:Q==="100vh"?n:Q},O(!0),F(!1))},oe=()=>{T?F(!1):(R.current={width:g,height:n},F(!0),O(!1))},D=Ie.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"8px 12px",gap:8},children:[Ie.jsx("div",{style:{fontWeight:600,color:k,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e}),Ie.jsxs(_a,{size:"small",align:"center",children:[w&&Ie.jsx(sa,{title:I?"Restore":"Minimize",children:Ie.jsx(ii,{type:"text",onClick:q,size:"small","aria-label":I?"Restore":"Minimize",style:{color:"inherit",padding:6},children:Ie.jsx(dM,{})})}),y&&Ie.jsx(sa,{title:T?"Restore size":"Maximize",children:Ie.jsx(ii,{type:"text",onClick:oe,size:"small","aria-label":T?"Restore size":"Maximize",style:{color:"inherit",padding:6},children:T?Ie.jsx(gM,{}):Ie.jsx(fM,{})})}),Ie.jsx(sa,{title:"Close",children:Ie.jsx(ii,{type:"text",onClick:()=>{F(!1),O(!1),i&&i()},size:"small","aria-label":"Close",style:{color:"inherit",padding:6},children:Ie.jsx(pM,{})})})]})]});return Ie.jsx(S_,{title:D,placement:t,onClose:()=>{F(!1),O(!1),i&&i()},open:r,width:G,height:Q,styles:Y,mask:c,afterOpenChange:v,children:h})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zm=e=>{const t=vM(e);return t.charAt(0).toUpperCase()+t.slice(1)},F1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),yM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:h,...c},g)=>b.createElement("svg",{ref:g,..._M,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:F1("lucide",i),...!l&&!yM(c)&&{"aria-hidden":"true"},...c},[...h.map(([v,y])=>b.createElement(v,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=(e,t)=>{const n=b.forwardRef(({className:r,...i},l)=>b.createElement(bM,{ref:l,iconNode:t,className:F1(`lucide-${mM(Zm(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Zm(e),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m12.99 6.74 1.93 3.44",key:"iwagvd"}],["path",{d:"M19.136 12a10 10 0 0 1-14.271 0",key:"ppmlo4"}],["path",{d:"m21 21-2.16-3.84",key:"vylbct"}],["path",{d:"m3 21 8.02-14.26",key:"1ssaw4"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}]],wM=Gs("drafting-compass",xM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],SM=Gs("eraser",CM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kM=Gs("info",EM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],NM=Gs("printer",LM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"M12 9v11",key:"1fnkrn"}],["path",{d:"M2 9h13a2 2 0 0 1 2 2v9",key:"11z3ex"}]],PM=Gs("proportions",MM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],OM=Gs("ruler",IM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],TM=Gs("square",AM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],BM=Gs("table-properties",RM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ym=Gs("x",DM),$M=()=>{const e=as(),t=$r(D=>D.map.measure),[n,r]=b.useState(!1),[i,l]=b.useState(null),h=b.useRef(null),c=b.useRef(!0),g=b.useRef(null),v=b.useRef(null),y=b.useRef(null),w=b.useRef(null),k=b.useRef(null),x=b.useRef([]);b.useEffect(()=>(c.current=!0,()=>{c.current=!1}),[]);const N=b.useCallback(D=>D.length<2?0:D.reduce((U,te,V,J)=>V>0?U+e.distance(J[V-1],te):U,0),[e]),I=b.useCallback((D,U)=>{switch(U){case"km":return D/1e3;case"mi":return D/1609.34;default:return D}},[]),O=b.useCallback((D,U)=>{const te=Math.round(D*100)/100;switch(U){case"km":return{value:te,unit:"km",full:`${te} km`,rawValue:D};case"mi":return{value:te,unit:"mi",full:`${te} miles`,rawValue:D};default:return{value:te,unit:"m",full:`${te} meters`,rawValue:D}}},[]),T=b.useCallback(D=>{try{const U=ci.circleMarker(D,{radius:5,color:"#3388ff",weight:2,fillColor:"#fff",fillOpacity:1,className:"measure-vertex-marker",pane:"markerPane"});return U.addTo(e),U}catch{return null}},[e]),F=b.useCallback(D=>{const U=T(D);U&&x.current.push(U)},[T]),R=b.useCallback(()=>{try{(x.current||[]).forEach(D=>{D&&e.hasLayer(D)&&e.removeLayer(D)})}catch{}x.current=[]},[e]),$=b.useCallback((D,U)=>{if(U.length>1){const te=N(U),V=I(te,t?.unit||"km"),J=O(V,t?.unit||"km"),ie=U[U.length-1];D.getTooltip()?D.setTooltipContent(J.full):D.bindTooltip(J.full,{permanent:!0,direction:"center",className:"measure-tooltip"}),D.openTooltip(ie),c.current&&l(J)}},[N,O,I,t?.unit]),G=b.useCallback(()=>{h.current&&h.current.setStyle({dashArray:null,color:"#1890ff"})},[]),Q=b.useCallback((D=!1)=>{if(g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}if(D&&h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null,R()}else G();try{e.getContainer().style.cursor=""}catch{}},[e,G,R]),ee=b.useCallback(D=>{if(D.key==="Escape"){if(h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}Q(!0),c.current&&(r(!1),l(null))}},[e,Q]),Y=b.useCallback(()=>{Q(!1),c.current&&r(!1)},[Q]),q=b.useCallback(()=>{Q(!0),c.current&&(l(null),r(!1))},[Q]),oe=b.useCallback(()=>{if(!c.current)return;if(r(!0),l(null),g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}R();const D={color:"#3388ff",weight:3,dashArray:"5, 10"},U=new ci.Polyline([],D);U.addTo(e),h.current=U;const te=le=>{if(!(!h.current||!e.hasLayer(h.current)||!c.current))try{const ue=le.latlng;h.current.addLatLng(ue),F(ue);const be=h.current.getLatLngs();if($(h.current,be),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}}catch(ue){console.warn("Error handling click during measurement:",ue)}},V=le=>{if(!(!h.current||!e.hasLayer(h.current)||!c.current))try{const ue=le.latlng,be=h.current.getLatLngs()||[];if(be.length>0){const Re=[be[be.length-1],ue];k.current?k.current.setLatLngs(Re):k.current=ci.polyline(Re,{color:"#3388ff",weight:3,dashArray:"5,10",interactive:!1,pane:h.current.options.pane}).addTo(e)}}catch{}},J=le=>{if(!h.current||!e.hasLayer(h.current)||!c.current)return le.originalEvent?.stopPropagation(),!1;try{const ue=h.current.getLatLngs();if(ue.length>0){const be=ue[ue.length-1];if(F(be),ue.length>1){if($(h.current,ue),G(),g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}try{e.getContainer().style.cursor=""}catch{}c.current&&r(!1)}}return le.originalEvent?.stopPropagation(),!1}catch(ue){console.warn("Error handling double click during measurement:",ue)}};g.current=te,v.current=J,w.current=V,y.current=ee,e.on("click",te),e.on("dblclick",J),e.on("mousemove",V),document.addEventListener("keydown",ee);try{e.getContainer().style.cursor="crosshair"}catch{}return()=>{if(g.current&&(e.off("click",g.current),g.current=null),v.current&&(e.off("dblclick",v.current),v.current=null),w.current&&(e.off("mousemove",w.current),w.current=null),y.current&&(document.removeEventListener("keydown",y.current),y.current=null),k.current&&e.hasLayer(k.current)){try{e.removeLayer(k.current)}catch{}k.current=null}try{e.getContainer().style.cursor=""}catch{}}},[e,O,$,ee,F,G,R,T]);return b.useEffect(()=>{let D;return n&&t?.type==="line"&&(D=oe()),()=>{D?.()}},[n,t?.type]),b.useEffect(()=>{try{const D=h.current;if(!D||!e?.hasLayer(D))return;const U=D.getLatLngs?D.getLatLngs():[];U&&U.length>1?$(D,U):U&&U.length===1&&(c.current&&l(null),D.getTooltip&&D.getTooltip()&&D.unbindTooltip())}catch{}},[t?.unit,e,$]),b.useEffect(()=>()=>{c.current=!1,Q(!0)},[Q]),{startMeasuring:()=>r(!0),stopMeasuring:Y,clearAllMeasurements:q,isMeasuring:n,measurementResult:i}},Jm=6378137,$d=e=>e*Math.PI/180,FM=e=>{if(!e||e.length<3)return 0;const t=e.map(r=>({lat:r.lat,lng:r.lng}));let n=0;for(let r=0,i=t.length;r<i;r++){const l=t[r],h=t[(r+1)%i];n+=$d(h.lng-l.lng)*(2+Math.sin($d(l.lat))+Math.sin($d(h.lat)))}return n=n*Jm*Jm/2,Math.abs(n)},jM=(e,t)=>{switch(t){case"km2":return e/1e6;case"ha":return e/1e4;case"ac":return e/4046.8564224;default:return e}},zM=(e,t)=>{const n=jM(e,t),r=Math.round(n*100)/100;switch(t){case"km2":return{value:r,unit:"km",full:`${r} km`,rawValue:n};case"ha":return{value:r,unit:"ha",full:`${r} ha`,rawValue:n};case"ac":return{value:r,unit:"ac",full:`${r} acres`,rawValue:n};default:return{value:Math.round(e*100)/100,unit:"m",full:`${Math.round(e*100)/100} m`,rawValue:e}}},HM=()=>{const e=as(),t=$r(Y=>Y.map.measure),[n,r]=b.useState(!1),[i,l]=b.useState(null),h=b.useRef(null),c=b.useRef(null),g=b.useRef([]),v=b.useRef(!0),y=b.useRef(null),w=b.useRef(null),k=b.useRef(null),x=b.useRef(null);b.useEffect(()=>(v.current=!0,()=>{v.current=!1}),[]);const N=b.useCallback(Y=>{try{const q=ci.circleMarker(Y,{radius:5,color:"#3388ff",weight:2,fillColor:"#fff",fillOpacity:1,className:"measure-vertex-marker",pane:"markerPane"});return q.addTo(e),q}catch{return null}},[e]),I=b.useCallback(Y=>{const q=N(Y);q&&g.current.push(q)},[N]),O=b.useCallback(()=>{try{(g.current||[]).forEach(Y=>{Y&&e.hasLayer(Y)&&e.removeLayer(Y)})}catch{}g.current=[]},[e]),T=b.useCallback((Y,q)=>{if(!q||q.length<3){v.current&&l(null),Y.getTooltip&&Y.getTooltip()&&Y.unbindTooltip();return}const oe=FM(q),D=zM(oe,t?.unit||"m2"),U=ci.polygon(q).getBounds().getCenter();Y.getTooltip()?Y.setTooltipContent(D.full):Y.bindTooltip(D.full,{permanent:!0,direction:"center",className:"measure-tooltip"}),Y.openTooltip(U),v.current&&l(D)},[t?.unit]),F=b.useCallback(()=>{h.current&&h.current.setStyle({dashArray:null,color:"#1890ff",fillOpacity:.2})},[]),R=b.useCallback((Y=!1)=>{if(y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}if(Y&&h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null,O()}else F();try{e.getContainer().style.cursor=""}catch{}},[e,F,O]),$=b.useCallback(Y=>{if(Y.key==="Escape"){if(h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}R(!0),v.current&&(r(!1),l(null))}},[e,R]),G=b.useCallback(()=>{R(!1),v.current&&r(!1)},[R]),Q=b.useCallback(()=>{R(!0),v.current&&(r(!1),l(null))},[R]),ee=b.useCallback(()=>{if(!v.current)return;if(r(!0),l(null),y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),h.current&&e.hasLayer(h.current)){try{e.removeLayer(h.current)}catch{}h.current=null}O();const Y={color:"#3388ff",weight:3,dashArray:"5,10",fillOpacity:.1},q=ci.polygon([],Y).addTo(e);h.current=q;const oe=V=>{if(!(!h.current||!e.hasLayer(h.current)||!v.current))try{const J=V.latlng;h.current.addLatLng(J),I(J);const ie=h.current.getLatLngs()[0]||h.current.getLatLngs(),le=Array.isArray(ie[0])?ie[0]:ie;if(T(h.current,le),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}}catch{}},D=V=>{if(!(!h.current||!e.hasLayer(h.current)||!v.current))try{const J=V.latlng,ie=h.current.getLatLngs()[0]||h.current.getLatLngs(),le=Array.isArray(ie[0])?ie[0]:ie;if(le.length>0){const ue=le[le.length-1],be=[...le,J];c.current?c.current.setLatLngs([be]):c.current=ci.polygon(be,{color:"#3388ff",weight:3,dashArray:"5,10",interactive:!1,pane:h.current.options.pane,fillOpacity:.05}).addTo(e)}}catch{}},U=V=>{if(!h.current||!e.hasLayer(h.current)||!v.current)return V.originalEvent?.stopPropagation(),!1;try{const J=h.current.getLatLngs()[0]||h.current.getLatLngs(),ie=Array.isArray(J[0])?J[0]:J;if(ie.length>=3){if(I(ie[ie.length-1]),T(h.current,ie),F(),y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}try{e.getContainer().style.cursor=""}catch{}v.current&&r(!1)}return V.originalEvent?.stopPropagation(),!1}catch{}};y.current=oe,w.current=U,k.current=D,x.current=$,e.on("click",oe),e.on("dblclick",U),e.on("mousemove",D),document.addEventListener("keydown",$);try{e.getContainer().style.cursor="crosshair"}catch{}return()=>{if(y.current&&(e.off("click",y.current),y.current=null),w.current&&(e.off("dblclick",w.current),w.current=null),k.current&&(e.off("mousemove",k.current),k.current=null),x.current&&(document.removeEventListener("keydown",x.current),x.current=null),c.current&&e.hasLayer(c.current)){try{e.removeLayer(c.current)}catch{}c.current=null}try{e.getContainer().style.cursor=""}catch{}}},[e,O,T,$,I,F]);return b.useEffect(()=>{let Y;return n&&t?.type==="area"&&(Y=ee()),()=>{Y?.()}},[n,t?.type]),b.useEffect(()=>{try{const Y=h.current;if(!Y||!e?.hasLayer(Y))return;const q=Y.getLatLngs()[0]||Y.getLatLngs(),oe=Array.isArray(q[0])?q[0]:q;oe&&oe.length>=3?T(Y,oe):oe&&oe.length<3&&(v.current&&l(null),Y.getTooltip&&Y.getTooltip()&&Y.unbindTooltip())}catch{}},[t?.unit,e,T]),b.useEffect(()=>()=>{v.current=!1,R(!0)},[R]),{startMeasuring:()=>r(!0),stopMeasuring:G,clearAllMeasurements:Q,isMeasuring:n,measurementResult:i}},qM=(e,t=300)=>{const[n,r]=b.useState(e);return b.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>clearTimeout(i)},[e,t]),n},{Text:Rs}=Fl,{Option:_l}=ks,UM=()=>{const e=Ko(),t=$r(x=>x.ui.isMeasureOpen),n=$r(x=>x.map.measure),r=$M(),i=HM(),l=n?.type==="area"?i:r,h=()=>{r.stopMeasuring(),i.stopMeasuring(),e(Hv())},c=x=>{r.stopMeasuring(),i.stopMeasuring(),e(_x(x))},g=()=>{n?.type==="line"?r.isMeasuring?r.stopMeasuring():r.startMeasuring():n?.type==="area"&&(i.isMeasuring?i.stopMeasuring():i.startMeasuring())},v=()=>{r.clearAllMeasurements(),i.clearAllMeasurements()},y=()=>n?.type==="area"?Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(_l,{value:"m2",children:"m"}),Ie.jsx(_l,{value:"km2",children:"km"}),Ie.jsx(_l,{value:"ha",children:"hectares (ha)"}),Ie.jsx(_l,{value:"ac",children:"acres (ac)"})]}):Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(_l,{value:"m",children:"meters (m)"}),Ie.jsx(_l,{value:"km",children:"kilometers (km)"}),Ie.jsx(_l,{value:"mi",children:"miles (mi)"})]}),w=l?.isMeasuring,k=l?.measurementResult;return Ie.jsx(jp,{title:"Measure",placement:"left",onClose:h,open:t,width:300,destroyOnClose:!1,mask:!1,children:Ie.jsxs(_a,{direction:"vertical",size:"middle",style:{width:"100%"},children:[Ie.jsx(Rs,{strong:!0,children:"Mode"}),Ie.jsxs(_a,{children:[Ie.jsx(sa,{title:"Line (measure length)",children:Ie.jsx(ii,{type:n?.type==="line"?"primary":"default",icon:Ie.jsx(OM,{size:16}),onClick:()=>c("line"),children:"Line"})}),Ie.jsx(sa,{title:"Area (measure polygon)",children:Ie.jsx(ii,{type:n?.type==="area"?"primary":"default",icon:Ie.jsx(TM,{size:16}),onClick:()=>c("area"),children:"Area"})})]}),Ie.jsx(nl,{}),Ie.jsx(Rs,{strong:!0,children:"Units"}),Ie.jsx(ks,{value:n?.unit||(n?.type==="area"?"m2":"km"),onChange:x=>e(yx(x)),style:{width:"100%"},children:y()}),Ie.jsx(nl,{}),n?.type==="line"&&Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsx(ii,{type:w?"primary":"default",onClick:g,style:{width:"100%"},children:w?"Stop Measuring":"Start Line Measurement"}),k&&Ie.jsx(ou,{message:`Distance: ${k.full}`,type:"info",showIcon:!0}),(w||k)&&Ie.jsx(ii,{icon:Ie.jsx(Ym,{size:14}),onClick:v,danger:!0,style:{width:"100%"},children:"Clear Measurements"})]}),w&&Ie.jsx(ou,{message:"Measurement Instructions",description:Ie.jsxs(_a,{direction:"vertical",size:"small",children:[Ie.jsx(Rs,{children:" Click on map to add points"}),Ie.jsx(Rs,{children:" Double-click to finish"}),Ie.jsx(Rs,{children:" Press ESC to cancel"})]}),type:"info",showIcon:!0})]}),n?.type==="area"&&Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsx(ii,{type:w?"primary":"default",onClick:g,style:{width:"100%"},children:w?"Stop Measuring":"Start Area Measurement"}),k&&Ie.jsx(ou,{message:`Area: ${k.full}`,type:"info",showIcon:!0}),(w||k)&&Ie.jsx(ii,{icon:Ie.jsx(Ym,{size:14}),onClick:v,danger:!0,style:{width:"100%"},children:"Clear Measurements"})]}),w&&Ie.jsx(ou,{message:"Measurement Instructions",description:Ie.jsxs(_a,{direction:"vertical",size:"small",children:[Ie.jsx(Rs,{children:" Click on map to add polygon vertices"}),Ie.jsx(Rs,{children:" Double-click to finish (needs at least 3 points)"}),Ie.jsx(Rs,{children:" Press ESC to cancel"})]}),type:"info",showIcon:!0})]}),Ie.jsx(nl,{}),Ie.jsx(Rs,{type:"secondary",style:{fontSize:"12px"},children:"The measurement mode and unit are stored in the Redux store. Hook your drawing/measurement logic to these settings (map slice: map.measure)."})]})})};function GM(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const VM=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function al(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Ql=null;function j1(e={}){return Ql||(e.includeStyleProperties?(Ql=e.includeStyleProperties,Ql):(Ql=al(window.getComputedStyle(document.documentElement)),Ql))}function Ch(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function WM(e){const t=Ch(e,"border-left-width"),n=Ch(e,"border-right-width");return e.clientWidth+t+n}function KM(e){const t=Ch(e,"border-top-width"),n=Ch(e,"border-bottom-width");return e.clientHeight+t+n}function z1(e,t={}){const n=t.width||WM(e),r=t.height||KM(e);return{width:n,height:r}}function XM(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Uo=16384;function ZM(e){(e.width>Uo||e.height>Uo)&&(e.width>Uo&&e.height>Uo?e.width>e.height?(e.height*=Uo/e.width,e.width=Uo):(e.width*=Uo/e.height,e.height=Uo):e.width>Uo?(e.height*=Uo/e.width,e.width=Uo):(e.width*=Uo/e.height,e.height=Uo))}function Sh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function YM(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function JM(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),l=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),i.appendChild(l),l.appendChild(e),YM(i)}const Ao=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ao(n,t)};function QM(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function eP(e,t){return j1(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function tP(e,t,n,r){const i=`.${e}:${t}`,l=n.cssText?QM(n):eP(n,r);return document.createTextNode(`${i}{${l}}`)}function Qm(e,t,n,r){const i=window.getComputedStyle(e,n),l=i.getPropertyValue("content");if(l===""||l==="none")return;const h=VM();try{t.className=`${t.className} ${h}`}catch{return}const c=document.createElement("style");c.appendChild(tP(h,n,i,r)),t.appendChild(c)}function nP(e,t,n){Qm(e,t,":before",n),Qm(e,t,":after",n)}const e0="application/font-woff",t0="image/jpeg",rP={woff:e0,woff2:e0,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:t0,jpeg:t0,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function iP(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function zp(e){const t=iP(e).toLowerCase();return rP[t]||""}function aP(e){return e.split(/,/)[1]}function Rf(e){return e.search(/^(data:)/)!==-1}function oP(e,t){return`data:${t};base64,${e}`}async function H1(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((l,h)=>{const c=new FileReader;c.onerror=h,c.onloadend=()=>{try{l(n({res:r,result:c.result}))}catch(g){h(g)}},c.readAsDataURL(i)})}const Fd={};function sP(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Hp(e,t,n){const r=sP(e,t,n.includeQueryParams);if(Fd[r]!=null)return Fd[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const l=await H1(e,n.fetchRequestInit,({res:h,result:c})=>(t||(t=h.headers.get("Content-Type")||""),aP(c)));i=oP(l,t)}catch(l){i=n.imagePlaceholder||"";let h=`Failed to fetch resource: ${e}`;l&&(h=typeof l=="string"?l:l.message),h&&console.warn(h)}return Fd[r]=i,i}async function lP(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Sh(t)}async function uP(e,t){if(e.currentSrc){const l=document.createElement("canvas"),h=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,h?.drawImage(e,0,0,l.width,l.height);const c=l.toDataURL();return Sh(c)}const n=e.poster,r=zp(n),i=await Hp(n,r,t);return Sh(i)}async function cP(e,t){var n;try{if(!((n=e?.contentDocument)===null||n===void 0)&&n.body)return await rd(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function hP(e,t){return Ao(e,HTMLCanvasElement)?lP(e):Ao(e,HTMLVideoElement)?uP(e,t):Ao(e,HTMLIFrameElement)?cP(e,t):e.cloneNode(q1(e))}const dP=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",q1=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function fP(e,t,n){var r,i;if(q1(t))return t;let l=[];return dP(e)&&e.assignedNodes?l=al(e.assignedNodes()):Ao(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?l=al(e.contentDocument.body.childNodes):l=al(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),l.length===0||Ao(e,HTMLVideoElement)||await l.reduce((h,c)=>h.then(()=>rd(c,n)).then(g=>{g&&t.appendChild(g)}),Promise.resolve()),t}function pP(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):j1(n).forEach(l=>{let h=i.getPropertyValue(l);l==="font-size"&&h.endsWith("px")&&(h=`${Math.floor(parseFloat(h.substring(0,h.length-2)))-.1}px`),Ao(e,HTMLIFrameElement)&&l==="display"&&h==="inline"&&(h="block"),l==="d"&&t.getAttribute("d")&&(h=`path(${t.getAttribute("d")})`),r.setProperty(l,h,i.getPropertyPriority(l))})}function gP(e,t){Ao(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ao(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function mP(e,t){if(Ao(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function vP(e,t,n){return Ao(t,Element)&&(pP(e,t,n),nP(e,t,n),gP(e,t),mP(e,t)),t}async function yP(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let l=0;l<n.length;l++){const c=n[l].getAttribute("xlink:href");if(c){const g=e.querySelector(c),v=document.querySelector(c);!g&&v&&!r[c]&&(r[c]=await rd(v,t,!0))}}const i=Object.values(r);if(i.length){const l="http://www.w3.org/1999/xhtml",h=document.createElementNS(l,"svg");h.setAttribute("xmlns",l),h.style.position="absolute",h.style.width="0",h.style.height="0",h.style.overflow="hidden",h.style.display="none";const c=document.createElementNS(l,"defs");h.appendChild(c);for(let g=0;g<i.length;g++)c.appendChild(i[g]);e.appendChild(h)}return e}async function rd(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>hP(r,t)).then(r=>fP(e,r,t)).then(r=>vP(e,r,t)).then(r=>yP(r,t))}const U1=/url\((['"]?)([^'"]+?)\1\)/g,_P=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,bP=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function xP(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function wP(e){const t=[];return e.replace(U1,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Rf(n))}async function CP(e,t,n,r,i){try{const l=n?GM(t,n):t,h=zp(t);let c;return i||(c=await Hp(l,h,r)),e.replace(xP(t),`$1${c}$3`)}catch{}return e}function SP(e,{preferredFontFormat:t}){return t?e.replace(bP,n=>{for(;;){const[r,,i]=_P.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function G1(e){return e.search(U1)!==-1}async function V1(e,t,n){if(!G1(e))return e;const r=SP(e,n);return wP(r).reduce((l,h)=>l.then(c=>CP(c,h,t,n)),Promise.resolve(r))}async function eu(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const l=await V1(i,null,n);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function EP(e,t){await eu("background",e,t)||await eu("background-image",e,t),await eu("mask",e,t)||await eu("-webkit-mask",e,t)||await eu("mask-image",e,t)||await eu("-webkit-mask-image",e,t)}async function kP(e,t){const n=Ao(e,HTMLImageElement);if(!(n&&!Rf(e.src))&&!(Ao(e,SVGImageElement)&&!Rf(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await Hp(r,zp(r),t);await new Promise((l,h)=>{e.onload=l,e.onerror=t.onImageErrorHandler?(...g)=>{try{l(t.onImageErrorHandler(...g))}catch(v){h(v)}}:h;const c=e;c.decode&&(c.decode=l),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function LP(e,t){const r=al(e.childNodes).map(i=>W1(i,t));await Promise.all(r).then(()=>e)}async function W1(e,t){Ao(e,Element)&&(await EP(e,t),await kP(e,t),await LP(e,t))}function NP(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const n0={};async function r0(e){let t=n0[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},n0[e]=t,t}async function i0(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,l=(n.match(/url\([^)]+\)/g)||[]).map(async h=>{let c=h.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),H1(c,t.fetchRequestInit,({result:g})=>(n=n.replace(h,`url(${g})`),[h,g]))});return Promise.all(l).then(()=>n)}function a0(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const g=i.exec(r);if(g===null)break;t.push(g[0])}r=r.replace(i,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,h="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(h,"gi");for(;;){let g=l.exec(r);if(g===null){if(g=c.exec(r),g===null)break;l.lastIndex=c.lastIndex}else c.lastIndex=l.lastIndex;t.push(g[0])}return t}async function MP(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach((l,h)=>{if(l.type===CSSRule.IMPORT_RULE){let c=h+1;const g=l.href,v=r0(g).then(y=>i0(y,t)).then(y=>a0(y).forEach(w=>{try{i.insertRule(w,w.startsWith("@import")?c+=1:i.cssRules.length)}catch(k){console.error("Error inserting rule from remote css",{rule:w,error:k})}})).catch(y=>{console.error("Error loading remote css",y.toString())});r.push(v)}})}catch(l){const h=e.find(c=>c.href==null)||document.styleSheets[0];i.href!=null&&r.push(r0(i.href).then(c=>i0(c,t)).then(c=>a0(c).forEach(g=>{h.insertRule(g,h.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",l)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach(l=>{n.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${i.href}`,l)}}),n))}function PP(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>G1(t.style.getPropertyValue("src")))}async function IP(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=al(e.ownerDocument.styleSheets),r=await MP(n,t);return PP(r)}function K1(e){return e.trim().replace(/["']/g,"")}function OP(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(l=>{t.add(K1(l))}),Array.from(r.children).forEach(l=>{l instanceof HTMLElement&&n(l)})}return n(e),t}async function AP(e,t){const n=await IP(e,t),r=OP(e);return(await Promise.all(n.filter(l=>r.has(K1(l.style.fontFamily))).map(l=>{const h=l.parentStyleSheet?l.parentStyleSheet.href:null;return V1(l.cssText,h,t)}))).join(`
`)}async function TP(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await AP(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function RP(e,t={}){const{width:n,height:r}=z1(e,t),i=await rd(e,t,!0);return await TP(i,t),await W1(i,t),NP(i,t),await JM(i,n,r)}async function BP(e,t={}){const{width:n,height:r}=z1(e,t),i=await RP(e,t),l=await Sh(i),h=document.createElement("canvas"),c=h.getContext("2d"),g=t.pixelRatio||XM(),v=t.canvasWidth||n,y=t.canvasHeight||r;return h.width=v*g,h.height=y*g,t.skipAutoScale||ZM(h),h.style.width=`${v}`,h.style.height=`${y}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,h.width,h.height)),c.drawImage(l,0,0,h.width,h.height),h}async function DP(e,t={}){return(await BP(e,t)).toDataURL()}var ms=Uint8Array,Vo=Uint16Array,qp=Int32Array,Up=new ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gp=new ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o0=new ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X1=function(e,t){for(var n=new Vo(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new qp(n[30]),r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)i[l]=l-n[r]<<5|r;return{b:n,r:i}},Z1=X1(Up,2),$P=Z1.b,Bf=Z1.r;$P[28]=258,Bf[258]=28;var FP=X1(Gp,0),s0=FP.r,Df=new Vo(32768);for(var Mi=0;Mi<32768;++Mi){var Ys=(Mi&43690)>>1|(Mi&21845)<<1;Ys=(Ys&52428)>>2|(Ys&13107)<<2,Ys=(Ys&61680)>>4|(Ys&3855)<<4,Df[Mi]=((Ys&65280)>>8|(Ys&255)<<8)>>1}var Yu=(function(e,t,n){for(var r=e.length,i=0,l=new Vo(t);i<r;++i)e[i]&&++l[e[i]-1];var h=new Vo(t);for(i=1;i<t;++i)h[i]=h[i-1]+l[i-1]<<1;var c;if(n){c=new Vo(1<<t);var g=15-t;for(i=0;i<r;++i)if(e[i])for(var v=i<<4|e[i],y=t-e[i],w=h[e[i]-1]++<<y,k=w|(1<<y)-1;w<=k;++w)c[Df[w]>>g]=v}else for(c=new Vo(r),i=0;i<r;++i)e[i]&&(c[i]=Df[h[e[i]-1]++]>>15-e[i]);return c}),Il=new ms(288);for(var Mi=0;Mi<144;++Mi)Il[Mi]=8;for(var Mi=144;Mi<256;++Mi)Il[Mi]=9;for(var Mi=256;Mi<280;++Mi)Il[Mi]=7;for(var Mi=280;Mi<288;++Mi)Il[Mi]=8;var Eh=new ms(32);for(var Mi=0;Mi<32;++Mi)Eh[Mi]=5;var jP=Yu(Il,9,0),zP=Yu(Eh,5,0),Y1=function(e){return(e+7)/8|0},HP=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ms(e.subarray(t,n))},Bs=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ju=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},jd=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,l=n.slice();if(!i)return{t:Q1,l:0};if(i==1){var h=new ms(n[0].s+1);return h[n[0].s]=1,{t:h,l:1}}n.sort(function(G,Q){return G.f-Q.f}),n.push({s:-1,f:25001});var c=n[0],g=n[1],v=0,y=1,w=2;for(n[0]={s:-1,f:c.f+g.f,l:c,r:g};y!=i-1;)c=n[n[v].f<n[w].f?v++:w++],g=n[v!=y&&n[v].f<n[w].f?v++:w++],n[y++]={s:-1,f:c.f+g.f,l:c,r:g};for(var k=l[0].s,r=1;r<i;++r)l[r].s>k&&(k=l[r].s);var x=new Vo(k+1),N=$f(n[y-1],x,0);if(N>t){var r=0,I=0,O=N-t,T=1<<O;for(l.sort(function(Q,ee){return x[ee.s]-x[Q.s]||Q.f-ee.f});r<i;++r){var F=l[r].s;if(x[F]>t)I+=T-(1<<N-x[F]),x[F]=t;else break}for(I>>=O;I>0;){var R=l[r].s;x[R]<t?I-=1<<t-x[R]++-1:++r}for(;r>=0&&I;--r){var $=l[r].s;x[$]==t&&(--x[$],++I)}N=t}return{t:new ms(x),l:N}},$f=function(e,t,n){return e.s==-1?Math.max($f(e.l,t,n+1),$f(e.r,t,n+1)):t[e.s]=n},l0=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vo(++t),r=0,i=e[0],l=1,h=function(g){n[r++]=g},c=1;c<=t;++c)if(e[c]==i&&c!=t)++l;else{if(!i&&l>2){for(;l>138;l-=138)h(32754);l>2&&(h(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(h(i),--l;l>6;l-=6)h(8304);l>2&&(h(l-3<<5|8208),l=0)}for(;l--;)h(i);l=1,i=e[c]}return{c:n.subarray(0,r),n:t}},zu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},J1=function(e,t,n){var r=n.length,i=Y1(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var l=0;l<r;++l)e[i+l+4]=n[l];return(i+4+r)*8},u0=function(e,t,n,r,i,l,h,c,g,v,y){Bs(t,y++,n),++i[256];for(var w=jd(i,15),k=w.t,x=w.l,N=jd(l,15),I=N.t,O=N.l,T=l0(k),F=T.c,R=T.n,$=l0(I),G=$.c,Q=$.n,ee=new Vo(19),Y=0;Y<F.length;++Y)++ee[F[Y]&31];for(var Y=0;Y<G.length;++Y)++ee[G[Y]&31];for(var q=jd(ee,7),oe=q.t,D=q.l,U=19;U>4&&!oe[o0[U-1]];--U);var te=v+5<<3,V=zu(i,Il)+zu(l,Eh)+h,J=zu(i,k)+zu(l,I)+h+14+3*U+zu(ee,oe)+2*ee[16]+3*ee[17]+7*ee[18];if(g>=0&&te<=V&&te<=J)return J1(t,y,e.subarray(g,g+v));var ie,le,ue,be;if(Bs(t,y,1+(J<V)),y+=2,J<V){ie=Yu(k,x,0),le=k,ue=Yu(I,O,0),be=I;var Le=Yu(oe,D,0);Bs(t,y,R-257),Bs(t,y+5,Q-1),Bs(t,y+10,U-4),y+=14;for(var Y=0;Y<U;++Y)Bs(t,y+3*Y,oe[o0[Y]]);y+=3*U;for(var Re=[F,G],ne=0;ne<2;++ne)for(var ce=Re[ne],Y=0;Y<ce.length;++Y){var me=ce[Y]&31;Bs(t,y,Le[me]),y+=oe[me],me>15&&(Bs(t,y,ce[Y]>>5&127),y+=ce[Y]>>12)}}else ie=jP,le=Il,ue=zP,be=Eh;for(var Y=0;Y<c;++Y){var we=r[Y];if(we>255){var me=we>>18&31;ju(t,y,ie[me+257]),y+=le[me+257],me>7&&(Bs(t,y,we>>23&31),y+=Up[me]);var ke=we&31;ju(t,y,ue[ke]),y+=be[ke],ke>3&&(ju(t,y,we>>5&8191),y+=Gp[ke])}else ju(t,y,ie[we]),y+=le[we]}return ju(t,y,ie[256]),y+le[256]},qP=new qp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Q1=new ms(0),UP=function(e,t,n,r,i,l){var h=l.z||e.length,c=new ms(r+h+5*(1+Math.ceil(h/7e3))+i),g=c.subarray(r,c.length-i),v=l.l,y=(l.r||0)&7;if(t){y&&(g[0]=l.r>>3);for(var w=qP[t-1],k=w>>13,x=w&8191,N=(1<<n)-1,I=l.p||new Vo(32768),O=l.h||new Vo(N+1),T=Math.ceil(n/3),F=2*T,R=function(ft){return(e[ft]^e[ft+1]<<T^e[ft+2]<<F)&N},$=new qp(25e3),G=new Vo(288),Q=new Vo(32),ee=0,Y=0,q=l.i||0,oe=0,D=l.w||0,U=0;q+2<h;++q){var te=R(q),V=q&32767,J=O[te];if(I[V]=J,O[te]=V,D<=q){var ie=h-q;if((ee>7e3||oe>24576)&&(ie>423||!v)){y=u0(e,g,0,$,G,Q,Y,oe,U,q-U,y),oe=ee=Y=0,U=q;for(var le=0;le<286;++le)G[le]=0;for(var le=0;le<30;++le)Q[le]=0}var ue=2,be=0,Le=x,Re=V-J&32767;if(ie>2&&te==R(q-Re))for(var ne=Math.min(k,ie)-1,ce=Math.min(32767,q),me=Math.min(258,ie);Re<=ce&&--Le&&V!=J;){if(e[q+ue]==e[q+ue-Re]){for(var we=0;we<me&&e[q+we]==e[q+we-Re];++we);if(we>ue){if(ue=we,be=Re,we>ne)break;for(var ke=Math.min(Re,we-2),Be=0,le=0;le<ke;++le){var he=q-Re+le&32767,qe=I[he],We=he-qe&32767;We>Be&&(Be=We,J=he)}}}V=J,J=I[V],Re+=V-J&32767}if(be){$[oe++]=268435456|Bf[ue]<<18|s0[be];var Fe=Bf[ue]&31,de=s0[be]&31;Y+=Up[Fe]+Gp[de],++G[257+Fe],++Q[de],D=q+ue,++ee}else $[oe++]=e[q],++G[e[q]]}}for(q=Math.max(q,D);q<h;++q)$[oe++]=e[q],++G[e[q]];y=u0(e,g,v,$,G,Q,Y,oe,U,q-U,y),v||(l.r=y&7|g[y/8|0]<<3,y-=7,l.h=O,l.p=I,l.i=q,l.w=D)}else{for(var q=l.w||0;q<h+v;q+=65535){var it=q+65535;it>=h&&(g[y/8|0]=v,it=h),y=J1(g,y+1,e.subarray(q,it))}l.i=h}return HP(c,0,r+Y1(y)+i)},eb=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,l=n.length|0,h=0;h!=l;){for(var c=Math.min(h+2655,l);h<c;++h)i+=r+=n[h];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},GP=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),h=new ms(l.length+e.length);h.set(l),h.set(e,l.length),e=h,i.w=l.length}return UP(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},tb=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},VP=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=eb();i.p(t.dictionary),tb(e,2,i.d())}};function Ff(e,t){t||(t={});var n=eb();n.p(e);var r=GP(e,t,t.dictionary?6:2,4);return VP(r,t),tb(r,r.length-4,n.d()),r}var WP=typeof TextDecoder<"u"&&new TextDecoder,KP=0;try{WP.decode(Q1,{stream:!0}),KP=1}catch{}function c0(e,t="utf8"){return new TextDecoder(t).decode(e)}const XP=new TextEncoder;function ZP(e){return XP.encode(e)}const YP=1024*8,JP=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),zd={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Vp{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=YP,n={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,l=t.byteLength-i;let h=i;(ArrayBuffer.isView(t)||t instanceof Vp)&&(t.byteLength!==t.buffer.byteLength&&(h=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=t,this.length=l,this.byteLength=l,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,l),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=zd[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+r);if(this.littleEndian===JP&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const g=new zd[n](c.buffer);return this.offset+=r,g.reverse(),g}const h=new zd[n](l);return this.offset+=r,h}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return c0(this.readBytes(t))}decodeText(t=1,n="utf8"){return c0(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(ZP(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Iu(e){let t=e.length;for(;--t>=0;)e[t]=0}const QP=3,eI=258,nb=29,tI=256,nI=tI+1+nb,rb=30,rI=512,iI=new Array((nI+2)*2);Iu(iI);const aI=new Array(rb*2);Iu(aI);const oI=new Array(rI);Iu(oI);const sI=new Array(eI-QP+1);Iu(sI);const lI=new Array(nb);Iu(lI);const uI=new Array(rb);Iu(uI);const cI=(e,t,n,r)=>{let i=e&65535|0,l=e>>>16&65535|0,h=0;for(;n!==0;){h=n>2e3?2e3:n,n-=h;do i=i+t[r++]|0,l=l+i|0;while(--h);i%=65521,l%=65521}return i|l<<16|0};var jf=cI;const hI=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},dI=new Uint32Array(hI()),fI=(e,t,n,r)=>{const i=dI,l=r+n;e^=-1;for(let h=r;h<l;h++)e=e>>>8^i[(e^t[h])&255];return e^-1};var xs=fI,zf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ib={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pI=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var gI=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)pI(n,r)&&(e[r]=n[r])}}return e},mI=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,l=e.length;r<l;r++){let h=e[r];n.set(h,i),i+=h.length}return n},ab={assign:gI,flattenChunks:mI};let ob=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ob=!1}const oc=new Uint8Array(256);for(let e=0;e<256;e++)oc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;oc[254]=oc[254]=1;var vI=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,l,h=e.length,c=0;for(i=0;i<h;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<h&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(c),l=0,i=0;l<c;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<h&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[l++]=n:n<2048?(t[l++]=192|n>>>6,t[l++]=128|n&63):n<65536?(t[l++]=224|n>>>12,t[l++]=128|n>>>6&63,t[l++]=128|n&63):(t[l++]=240|n>>>18,t[l++]=128|n>>>12&63,t[l++]=128|n>>>6&63,t[l++]=128|n&63);return t};const yI=(e,t)=>{if(t<65534&&e.subarray&&ob)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var _I=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const l=new Array(n*2);for(i=0,r=0;r<n;){let h=e[r++];if(h<128){l[i++]=h;continue}let c=oc[h];if(c>4){l[i++]=65533,r+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&r<n;)h=h<<6|e[r++]&63,c--;if(c>1){l[i++]=65533;continue}h<65536?l[i++]=h:(h-=65536,l[i++]=55296|h>>10&1023,l[i++]=56320|h&1023)}return yI(l,i)},bI=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+oc[e[n]]>t?n:t},Hf={string2buf:vI,buf2string:_I,utf8border:bI};function xI(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wI=xI;const $c=16209,CI=16191;var SI=function(t,n){let r,i,l,h,c,g,v,y,w,k,x,N,I,O,T,F,R,$,G,Q,ee,Y,q,oe;const D=t.state;r=t.next_in,q=t.input,i=r+(t.avail_in-5),l=t.next_out,oe=t.output,h=l-(n-t.avail_out),c=l+(t.avail_out-257),g=D.dmax,v=D.wsize,y=D.whave,w=D.wnext,k=D.window,x=D.hold,N=D.bits,I=D.lencode,O=D.distcode,T=(1<<D.lenbits)-1,F=(1<<D.distbits)-1;e:do{N<15&&(x+=q[r++]<<N,N+=8,x+=q[r++]<<N,N+=8),R=I[x&T];t:for(;;){if($=R>>>24,x>>>=$,N-=$,$=R>>>16&255,$===0)oe[l++]=R&65535;else if($&16){G=R&65535,$&=15,$&&(N<$&&(x+=q[r++]<<N,N+=8),G+=x&(1<<$)-1,x>>>=$,N-=$),N<15&&(x+=q[r++]<<N,N+=8,x+=q[r++]<<N,N+=8),R=O[x&F];n:for(;;){if($=R>>>24,x>>>=$,N-=$,$=R>>>16&255,$&16){if(Q=R&65535,$&=15,N<$&&(x+=q[r++]<<N,N+=8,N<$&&(x+=q[r++]<<N,N+=8)),Q+=x&(1<<$)-1,Q>g){t.msg="invalid distance too far back",D.mode=$c;break e}if(x>>>=$,N-=$,$=l-h,Q>$){if($=Q-$,$>y&&D.sane){t.msg="invalid distance too far back",D.mode=$c;break e}if(ee=0,Y=k,w===0){if(ee+=v-$,$<G){G-=$;do oe[l++]=k[ee++];while(--$);ee=l-Q,Y=oe}}else if(w<$){if(ee+=v+w-$,$-=w,$<G){G-=$;do oe[l++]=k[ee++];while(--$);if(ee=0,w<G){$=w,G-=$;do oe[l++]=k[ee++];while(--$);ee=l-Q,Y=oe}}}else if(ee+=w-$,$<G){G-=$;do oe[l++]=k[ee++];while(--$);ee=l-Q,Y=oe}for(;G>2;)oe[l++]=Y[ee++],oe[l++]=Y[ee++],oe[l++]=Y[ee++],G-=3;G&&(oe[l++]=Y[ee++],G>1&&(oe[l++]=Y[ee++]))}else{ee=l-Q;do oe[l++]=oe[ee++],oe[l++]=oe[ee++],oe[l++]=oe[ee++],G-=3;while(G>2);G&&(oe[l++]=oe[ee++],G>1&&(oe[l++]=oe[ee++]))}}else if(($&64)===0){R=O[(R&65535)+(x&(1<<$)-1)];continue n}else{t.msg="invalid distance code",D.mode=$c;break e}break}}else if(($&64)===0){R=I[(R&65535)+(x&(1<<$)-1)];continue t}else if($&32){D.mode=CI;break e}else{t.msg="invalid literal/length code",D.mode=$c;break e}break}}while(r<i&&l<c);G=N>>3,r-=G,N-=G<<3,x&=(1<<N)-1,t.next_in=r,t.next_out=l,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=l<c?257+(c-l):257-(l-c),D.hold=x,D.bits=N};const tu=15,h0=852,d0=592,f0=0,Hd=1,p0=2,EI=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kI=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LI=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NI=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),MI=(e,t,n,r,i,l,h,c)=>{const g=c.bits;let v=0,y=0,w=0,k=0,x=0,N=0,I=0,O=0,T=0,F=0,R,$,G,Q,ee,Y=null,q;const oe=new Uint16Array(tu+1),D=new Uint16Array(tu+1);let U=null,te,V,J;for(v=0;v<=tu;v++)oe[v]=0;for(y=0;y<r;y++)oe[t[n+y]]++;for(x=g,k=tu;k>=1&&oe[k]===0;k--);if(x>k&&(x=k),k===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<k&&oe[w]===0;w++);for(x<w&&(x=w),O=1,v=1;v<=tu;v++)if(O<<=1,O-=oe[v],O<0)return-1;if(O>0&&(e===f0||k!==1))return-1;for(D[1]=0,v=1;v<tu;v++)D[v+1]=D[v]+oe[v];for(y=0;y<r;y++)t[n+y]!==0&&(h[D[t[n+y]]++]=y);if(e===f0?(Y=U=h,q=20):e===Hd?(Y=EI,U=kI,q=257):(Y=LI,U=NI,q=0),F=0,y=0,v=w,ee=l,N=x,I=0,G=-1,T=1<<x,Q=T-1,e===Hd&&T>h0||e===p0&&T>d0)return 1;for(;;){te=v-I,h[y]+1<q?(V=0,J=h[y]):h[y]>=q?(V=U[h[y]-q],J=Y[h[y]-q]):(V=96,J=0),R=1<<v-I,$=1<<N,w=$;do $-=R,i[ee+(F>>I)+$]=te<<24|V<<16|J|0;while($!==0);for(R=1<<v-1;F&R;)R>>=1;if(R!==0?(F&=R-1,F+=R):F=0,y++,--oe[v]===0){if(v===k)break;v=t[n+h[y]]}if(v>x&&(F&Q)!==G){for(I===0&&(I=x),ee+=w,N=v-I,O=1<<N;N+I<k&&(O-=oe[N+I],!(O<=0));)N++,O<<=1;if(T+=1<<N,e===Hd&&T>h0||e===p0&&T>d0)return 1;G=F&Q,i[G]=x<<24|N<<16|ee-l|0}}return F!==0&&(i[ee+F]=v-I<<24|64<<16|0),c.bits=x,0};var Ju=MI;const PI=0,sb=1,lb=2,{Z_FINISH:g0,Z_BLOCK:II,Z_TREES:Fc,Z_OK:Ol,Z_STREAM_END:OI,Z_NEED_DICT:AI,Z_STREAM_ERROR:rs,Z_DATA_ERROR:ub,Z_MEM_ERROR:cb,Z_BUF_ERROR:TI,Z_DEFLATED:m0}=ib,id=16180,v0=16181,y0=16182,_0=16183,b0=16184,x0=16185,w0=16186,C0=16187,S0=16188,E0=16189,kh=16190,Ds=16191,qd=16192,k0=16193,Ud=16194,L0=16195,N0=16196,M0=16197,P0=16198,jc=16199,zc=16200,I0=16201,O0=16202,A0=16203,T0=16204,R0=16205,Gd=16206,B0=16207,D0=16208,Ai=16209,hb=16210,db=16211,RI=852,BI=592,DI=15,$I=DI,$0=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function FI(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zl=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<id||t.mode>db?1:0},fb=e=>{if(zl(e))return rs;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=id,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(RI),t.distcode=t.distdyn=new Int32Array(BI),t.sane=1,t.back=-1,Ol},pb=e=>{if(zl(e))return rs;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,fb(e)},gb=(e,t)=>{let n;if(zl(e))return rs;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?rs:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,pb(e))},mb=(e,t)=>{if(!e)return rs;const n=new FI;e.state=n,n.strm=e,n.window=null,n.mode=id;const r=gb(e,t);return r!==Ol&&(e.state=null),r},jI=e=>mb(e,$I);let F0=!0,Vd,Wd;const zI=e=>{if(F0){Vd=new Int32Array(512),Wd=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ju(sb,e.lens,0,288,Vd,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ju(lb,e.lens,0,32,Wd,0,e.work,{bits:5}),F0=!1}e.lencode=Vd,e.lenbits=9,e.distcode=Wd,e.distbits=5},vb=(e,t,n,r)=>{let i;const l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(t.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>r&&(i=r),l.window.set(t.subarray(n-r,n-r+i),l.wnext),r-=i,r?(l.window.set(t.subarray(n-r,n),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},HI=(e,t)=>{let n,r,i,l,h,c,g,v,y,w,k,x,N,I,O=0,T,F,R,$,G,Q,ee,Y;const q=new Uint8Array(4);let oe,D;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zl(e)||!e.output||!e.input&&e.avail_in!==0)return rs;n=e.state,n.mode===Ds&&(n.mode=qd),h=e.next_out,i=e.output,g=e.avail_out,l=e.next_in,r=e.input,c=e.avail_in,v=n.hold,y=n.bits,w=c,k=g,Y=Ol;e:for(;;)switch(n.mode){case id:if(n.wrap===0){n.mode=qd;break}for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.wrap&2&&v===35615){n.wbits===0&&(n.wbits=15),n.check=0,q[0]=v&255,q[1]=v>>>8&255,n.check=xs(n.check,q,2,0),v=0,y=0,n.mode=v0;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((v&255)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=Ai;break}if((v&15)!==m0){e.msg="unknown compression method",n.mode=Ai;break}if(v>>>=4,y-=4,ee=(v&15)+8,n.wbits===0&&(n.wbits=ee),ee>15||ee>n.wbits){e.msg="invalid window size",n.mode=Ai;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=v&512?E0:Ds,v=0,y=0;break;case v0:for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.flags=v,(n.flags&255)!==m0){e.msg="unknown compression method",n.mode=Ai;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ai;break}n.head&&(n.head.text=v>>8&1),n.flags&512&&n.wrap&4&&(q[0]=v&255,q[1]=v>>>8&255,n.check=xs(n.check,q,2,0)),v=0,y=0,n.mode=y0;case y0:for(;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.head&&(n.head.time=v),n.flags&512&&n.wrap&4&&(q[0]=v&255,q[1]=v>>>8&255,q[2]=v>>>16&255,q[3]=v>>>24&255,n.check=xs(n.check,q,4,0)),v=0,y=0,n.mode=_0;case _0:for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.head&&(n.head.xflags=v&255,n.head.os=v>>8),n.flags&512&&n.wrap&4&&(q[0]=v&255,q[1]=v>>>8&255,n.check=xs(n.check,q,2,0)),v=0,y=0,n.mode=b0;case b0:if(n.flags&1024){for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.length=v,n.head&&(n.head.extra_len=v),n.flags&512&&n.wrap&4&&(q[0]=v&255,q[1]=v>>>8&255,n.check=xs(n.check,q,2,0)),v=0,y=0}else n.head&&(n.head.extra=null);n.mode=x0;case x0:if(n.flags&1024&&(x=n.length,x>c&&(x=c),x&&(n.head&&(ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(l,l+x),ee)),n.flags&512&&n.wrap&4&&(n.check=xs(n.check,r,x,l)),c-=x,l+=x,n.length-=x),n.length))break e;n.length=0,n.mode=w0;case w0:if(n.flags&2048){if(c===0)break e;x=0;do ee=r[l+x++],n.head&&ee&&n.length<65536&&(n.head.name+=String.fromCharCode(ee));while(ee&&x<c);if(n.flags&512&&n.wrap&4&&(n.check=xs(n.check,r,x,l)),c-=x,l+=x,ee)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=C0;case C0:if(n.flags&4096){if(c===0)break e;x=0;do ee=r[l+x++],n.head&&ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(ee));while(ee&&x<c);if(n.flags&512&&n.wrap&4&&(n.check=xs(n.check,r,x,l)),c-=x,l+=x,ee)break e}else n.head&&(n.head.comment=null);n.mode=S0;case S0:if(n.flags&512){for(;y<16;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.wrap&4&&v!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ai;break}v=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ds;break;case E0:for(;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}e.adler=n.check=$0(v),v=0,y=0,n.mode=kh;case kh:if(n.havedict===0)return e.next_out=h,e.avail_out=g,e.next_in=l,e.avail_in=c,n.hold=v,n.bits=y,AI;e.adler=n.check=1,n.mode=Ds;case Ds:if(t===II||t===Fc)break e;case qd:if(n.last){v>>>=y&7,y-=y&7,n.mode=Gd;break}for(;y<3;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}switch(n.last=v&1,v>>>=1,y-=1,v&3){case 0:n.mode=k0;break;case 1:if(zI(n),n.mode=jc,t===Fc){v>>>=2,y-=2;break e}break;case 2:n.mode=N0;break;case 3:e.msg="invalid block type",n.mode=Ai}v>>>=2,y-=2;break;case k0:for(v>>>=y&7,y-=y&7;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if((v&65535)!==(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ai;break}if(n.length=v&65535,v=0,y=0,n.mode=Ud,t===Fc)break e;case Ud:n.mode=L0;case L0:if(x=n.length,x){if(x>c&&(x=c),x>g&&(x=g),x===0)break e;i.set(r.subarray(l,l+x),h),c-=x,l+=x,g-=x,h+=x,n.length-=x;break}n.mode=Ds;break;case N0:for(;y<14;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.nlen=(v&31)+257,v>>>=5,y-=5,n.ndist=(v&31)+1,v>>>=5,y-=5,n.ncode=(v&15)+4,v>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ai;break}n.have=0,n.mode=M0;case M0:for(;n.have<n.ncode;){for(;y<3;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.lens[U[n.have++]]=v&7,v>>>=3,y-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,oe={bits:n.lenbits},Y=Ju(PI,n.lens,0,19,n.lencode,0,n.work,oe),n.lenbits=oe.bits,Y){e.msg="invalid code lengths set",n.mode=Ai;break}n.have=0,n.mode=P0;case P0:for(;n.have<n.nlen+n.ndist;){for(;O=n.lencode[v&(1<<n.lenbits)-1],T=O>>>24,F=O>>>16&255,R=O&65535,!(T<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(R<16)v>>>=T,y-=T,n.lens[n.have++]=R;else{if(R===16){for(D=T+2;y<D;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(v>>>=T,y-=T,n.have===0){e.msg="invalid bit length repeat",n.mode=Ai;break}ee=n.lens[n.have-1],x=3+(v&3),v>>>=2,y-=2}else if(R===17){for(D=T+3;y<D;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=T,y-=T,ee=0,x=3+(v&7),v>>>=3,y-=3}else{for(D=T+7;y<D;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=T,y-=T,ee=0,x=11+(v&127),v>>>=7,y-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ai;break}for(;x--;)n.lens[n.have++]=ee}}if(n.mode===Ai)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ai;break}if(n.lenbits=9,oe={bits:n.lenbits},Y=Ju(sb,n.lens,0,n.nlen,n.lencode,0,n.work,oe),n.lenbits=oe.bits,Y){e.msg="invalid literal/lengths set",n.mode=Ai;break}if(n.distbits=6,n.distcode=n.distdyn,oe={bits:n.distbits},Y=Ju(lb,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,oe),n.distbits=oe.bits,Y){e.msg="invalid distances set",n.mode=Ai;break}if(n.mode=jc,t===Fc)break e;case jc:n.mode=zc;case zc:if(c>=6&&g>=258){e.next_out=h,e.avail_out=g,e.next_in=l,e.avail_in=c,n.hold=v,n.bits=y,SI(e,k),h=e.next_out,i=e.output,g=e.avail_out,l=e.next_in,r=e.input,c=e.avail_in,v=n.hold,y=n.bits,n.mode===Ds&&(n.back=-1);break}for(n.back=0;O=n.lencode[v&(1<<n.lenbits)-1],T=O>>>24,F=O>>>16&255,R=O&65535,!(T<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(F&&(F&240)===0){for($=T,G=F,Q=R;O=n.lencode[Q+((v&(1<<$+G)-1)>>$)],T=O>>>24,F=O>>>16&255,R=O&65535,!($+T<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=$,y-=$,n.back+=$}if(v>>>=T,y-=T,n.back+=T,n.length=R,F===0){n.mode=R0;break}if(F&32){n.back=-1,n.mode=Ds;break}if(F&64){e.msg="invalid literal/length code",n.mode=Ai;break}n.extra=F&15,n.mode=I0;case I0:if(n.extra){for(D=n.extra;y<D;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=O0;case O0:for(;O=n.distcode[v&(1<<n.distbits)-1],T=O>>>24,F=O>>>16&255,R=O&65535,!(T<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if((F&240)===0){for($=T,G=F,Q=R;O=n.distcode[Q+((v&(1<<$+G)-1)>>$)],T=O>>>24,F=O>>>16&255,R=O&65535,!($+T<=y);){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}v>>>=$,y-=$,n.back+=$}if(v>>>=T,y-=T,n.back+=T,F&64){e.msg="invalid distance code",n.mode=Ai;break}n.offset=R,n.extra=F&15,n.mode=A0;case A0:if(n.extra){for(D=n.extra;y<D;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ai;break}n.mode=T0;case T0:if(g===0)break e;if(x=k-g,n.offset>x){if(x=n.offset-x,x>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ai;break}x>n.wnext?(x-=n.wnext,N=n.wsize-x):N=n.wnext-x,x>n.length&&(x=n.length),I=n.window}else I=i,N=h-n.offset,x=n.length;x>g&&(x=g),g-=x,n.length-=x;do i[h++]=I[N++];while(--x);n.length===0&&(n.mode=zc);break;case R0:if(g===0)break e;i[h++]=n.length,g--,n.mode=zc;break;case Gd:if(n.wrap){for(;y<32;){if(c===0)break e;c--,v|=r[l++]<<y,y+=8}if(k-=g,e.total_out+=k,n.total+=k,n.wrap&4&&k&&(e.adler=n.check=n.flags?xs(n.check,i,k,h-k):jf(n.check,i,k,h-k)),k=g,n.wrap&4&&(n.flags?v:$0(v))!==n.check){e.msg="incorrect data check",n.mode=Ai;break}v=0,y=0}n.mode=B0;case B0:if(n.wrap&&n.flags){for(;y<32;){if(c===0)break e;c--,v+=r[l++]<<y,y+=8}if(n.wrap&4&&v!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ai;break}v=0,y=0}n.mode=D0;case D0:Y=OI;break e;case Ai:Y=ub;break e;case hb:return cb;case db:default:return rs}return e.next_out=h,e.avail_out=g,e.next_in=l,e.avail_in=c,n.hold=v,n.bits=y,(n.wsize||k!==e.avail_out&&n.mode<Ai&&(n.mode<Gd||t!==g0))&&vb(e,e.output,e.next_out,k-e.avail_out),w-=e.avail_in,k-=e.avail_out,e.total_in+=w,e.total_out+=k,n.total+=k,n.wrap&4&&k&&(e.adler=n.check=n.flags?xs(n.check,i,k,e.next_out-k):jf(n.check,i,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ds?128:0)+(n.mode===jc||n.mode===Ud?256:0),(w===0&&k===0||t===g0)&&Y===Ol&&(Y=TI),Y},qI=e=>{if(zl(e))return rs;let t=e.state;return t.window&&(t.window=null),e.state=null,Ol},UI=(e,t)=>{if(zl(e))return rs;const n=e.state;return(n.wrap&2)===0?rs:(n.head=t,t.done=!1,Ol)},GI=(e,t)=>{const n=t.length;let r,i,l;return zl(e)||(r=e.state,r.wrap!==0&&r.mode!==kh)?rs:r.mode===kh&&(i=1,i=jf(i,t,n,0),i!==r.check)?ub:(l=vb(e,t,n,n),l?(r.mode=hb,cb):(r.havedict=1,Ol))};var VI=pb,WI=gb,KI=fb,XI=jI,ZI=mb,YI=HI,JI=qI,QI=UI,eO=GI,tO="pako inflate (from Nodeca project)",js={inflateReset:VI,inflateReset2:WI,inflateResetKeep:KI,inflateInit:XI,inflateInit2:ZI,inflate:YI,inflateEnd:JI,inflateGetHeader:QI,inflateSetDictionary:eO,inflateInfo:tO};function nO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rO=nO;const yb=Object.prototype.toString,{Z_NO_FLUSH:iO,Z_FINISH:aO,Z_OK:sc,Z_STREAM_END:Kd,Z_NEED_DICT:Xd,Z_STREAM_ERROR:oO,Z_DATA_ERROR:j0,Z_MEM_ERROR:sO}=ib;function vc(e){this.options=ab.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wI,this.strm.avail_out=0;let n=js.inflateInit2(this.strm,t.windowBits);if(n!==sc)throw new Error(zf[n]);if(this.header=new rO,js.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Hf.string2buf(t.dictionary):yb.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=js.inflateSetDictionary(this.strm,t.dictionary),n!==sc)))throw new Error(zf[n])}vc.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let l,h,c;if(this.ended)return!1;for(t===~~t?h=t:h=t===!0?aO:iO,yb.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),l=js.inflate(n,h),l===Xd&&i&&(l=js.inflateSetDictionary(n,i),l===sc?l=js.inflate(n,h):l===j0&&(l=Xd));n.avail_in>0&&l===Kd&&n.state.wrap>0&&e[n.next_in]!==0;)js.inflateReset(n),l=js.inflate(n,h);switch(l){case oO:case j0:case Xd:case sO:return this.onEnd(l),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||l===Kd))if(this.options.to==="string"){let g=Hf.utf8border(n.output,n.next_out),v=n.next_out-g,y=Hf.buf2string(n.output,g);n.next_out=v,n.avail_out=r-v,v&&n.output.set(n.output.subarray(g,g+v),0),this.onData(y)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===sc&&c===0)){if(l===Kd)return l=js.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};vc.prototype.onData=function(e){this.chunks.push(e)};vc.prototype.onEnd=function(e){e===sc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ab.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lO(e,t){const n=new vc(t);if(n.push(e),n.err)throw n.msg||zf[n.err];return n.result}var uO=vc,cO=lO,hO={Inflate:uO,inflate:cO};const{Inflate:dO,inflate:fO}=hO;var z0=dO,pO=fO;const _b=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;_b[e]=t}const H0=4294967295;function gO(e,t,n){let r=e;for(let i=0;i<n;i++)r=_b[(r^t[i])&255]^r>>>8;return r}function mO(e,t){return(gO(H0,e,t)^H0)>>>0}function q0(e,t,n){const r=e.readUint32(),i=mO(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function bb(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function xb(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function wb(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Cb(e,t,n,r,i){let l=0;if(n.length===0){for(;l<i;l++)t[l]=e[l];for(;l<r;l++)t[l]=e[l]+(t[l-i]>>1)&255}else{for(;l<i;l++)t[l]=e[l]+(n[l]>>1)&255;for(;l<r;l++)t[l]=e[l]+(t[l-i]+n[l]>>1)&255}}function Sb(e,t,n,r,i){let l=0;if(n.length===0){for(;l<i;l++)t[l]=e[l];for(;l<r;l++)t[l]=e[l]+t[l-i]&255}else{for(;l<i;l++)t[l]=e[l]+n[l]&255;for(;l<r;l++)t[l]=e[l]+vO(t[l-i],n[l],n[l-i])&255}}function vO(e,t,n){const r=e+t-n,i=Math.abs(r-e),l=Math.abs(r-t),h=Math.abs(r-n);return i<=l&&i<=h?e:l<=h?t:n}function yO(e,t,n,r,i,l){switch(e){case 0:bb(t,n,i);break;case 1:xb(t,n,i,l);break;case 2:wb(t,n,r,i);break;case 3:Cb(t,n,r,i,l);break;case 4:Sb(t,n,r,i,l);break;default:throw new Error(`Unsupported filter: ${e}`)}}const _O=new Uint16Array([255]),bO=new Uint8Array(_O.buffer),xO=bO[0]===255;function wO(e){const{data:t,width:n,height:r,channels:i,depth:l}=e,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(l/8)*i,g=new Uint8Array(r*n*c);let v=0;for(let y=0;y<7;y++){const w=h[y],k=Math.ceil((n-w.x)/w.xStep),x=Math.ceil((r-w.y)/w.yStep);if(k<=0||x<=0)continue;const N=k*c,I=new Uint8Array(N);for(let O=0;O<x;O++){const T=t[v++],F=t.subarray(v,v+N);v+=N;const R=new Uint8Array(N);yO(T,F,R,I,N,c),I.set(R);for(let $=0;$<k;$++){const G=w.x+$*w.xStep,Q=w.y+O*w.yStep;if(!(G>=n||Q>=r))for(let ee=0;ee<c;ee++)g[(Q*n+G)*c+ee]=R[$*c+ee]}}}if(l===16){const y=new Uint16Array(g.buffer);if(xO)for(let w=0;w<y.length;w++)y[w]=CO(y[w]);return y}else return g}function CO(e){return(e&255)<<8|e>>8&255}const SO=new Uint16Array([255]),EO=new Uint8Array(SO.buffer),kO=EO[0]===255,LO=new Uint8Array(0);function U0(e){const{data:t,width:n,height:r,channels:i,depth:l}=e,h=Math.ceil(l/8)*i,c=Math.ceil(l/8*i*n),g=new Uint8Array(r*c);let v=LO,y=0,w,k;for(let x=0;x<r;x++){switch(w=t.subarray(y+1,y+1+c),k=g.subarray(x*c,(x+1)*c),t[y]){case 0:bb(w,k,c);break;case 1:xb(w,k,c,h);break;case 2:wb(w,k,v,c);break;case 3:Cb(w,k,v,c,h);break;case 4:Sb(w,k,v,c,h);break;default:throw new Error(`Unsupported filter: ${t[y]}`)}v=k,y+=c+1}if(l===16){const x=new Uint16Array(g.buffer);if(kO)for(let N=0;N<x.length;N++)x[N]=NO(x[N]);return x}else return g}function NO(e){return(e&255)<<8|e>>8&255}const eh=Uint8Array.of(137,80,78,71,13,10,26,10);function G0(e){if(!MO(e.readBytes(eh.length)))throw new Error("wrong PNG signature")}function MO(e){if(e.length<eh.length)return!1;for(let t=0;t<eh.length;t++)if(e[t]!==eh[t])return!1;return!0}const PO="tEXt",IO=0,Eb=new TextDecoder("latin1");function OO(e){if(TO(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const AO=/^[\u0000-\u00FF]*$/;function TO(e){if(!AO.test(e))throw new Error("invalid latin1 text")}function RO(e,t,n){const r=kb(t);e[r]=BO(t,n-r.length-1)}function kb(e){for(e.mark();e.readByte()!==IO;);const t=e.offset;e.reset();const n=Eb.decode(e.readBytes(t-e.offset-1));return e.skip(1),OO(n),n}function BO(e,t){return Eb.decode(e.readBytes(t))}const Go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zd={UNKNOWN:-1,DEFLATE:0},V0={UNKNOWN:-1,ADAPTIVE:0},Yd={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Hc={NONE:0,BACKGROUND:1,PREVIOUS:2},Jd={SOURCE:0,OVER:1};class DO extends Vp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new z0,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zd.UNKNOWN,this._filterMethod=V0.UNKNOWN,this._interlaceMethod=Yd.UNKNOWN,this._colorType=Go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(G0(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(G0(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case PO:RO(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?q0(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?q0(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=$O(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Go.GREYSCALE:r=1;break;case Go.TRUECOLOUR:r=3;break;case Go.INDEXED_COLOUR:r=1;break;case Go.GREYSCALE_ALPHA:r=2;break;case Go.TRUECOLOUR_ALPHA:r=4;break;case Go.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zd.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Go.GREYSCALE:case Go.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Go.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Go.UNKNOWN:case Go.GREYSCALE_ALPHA:case Go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=kb(this),r=this.readUint8();if(r!==Zd.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:pO(i)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=U0({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,r){switch(t.disposeOp){case Hc.NONE:break;case Hc.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const h=(i*t.width+l)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[h+c]=0}break;case Hc.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const r=1<<this._png.depth,i=(l,h)=>{const c=((l+n.yOffset)*this._png.width+n.xOffset+h)*this._png.channels,g=(l*n.width+h)*this._png.channels;return{index:c,frameIndex:g}};switch(n.blendOp){case Jd.SOURCE:for(let l=0;l<n.height;l++)for(let h=0;h<n.width;h++){const{index:c,frameIndex:g}=i(l,h);for(let v=0;v<this._png.channels;v++)t.data[c+v]=n.data[g+v]}break;case Jd.OVER:for(let l=0;l<n.height;l++)for(let h=0;h<n.width;h++){const{index:c,frameIndex:g}=i(l,h);for(let v=0;v<this._png.channels;v++){const y=n.data[g+this._png.channels-1]/r,w=v%(this._png.channels-1)===0?1:n.data[g+v],k=Math.floor(y*w+(1-y)*t.data[c+v]);t.data[c+v]+=k}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==V0.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Yd.NO_INTERLACE)this._png.data=U0({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Yd.ADAM7)this._png.data=wO({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Hc.NONE,blendOp:Jd.SOURCE,data:t}),this._inflator=new z0,this._writingDataChunks=!1}}function $O(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var W0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(W0||(W0={}));function FO(e,t){return new DO(e,t).decode()}var lr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Qd(){lr.console&&typeof lr.console.log=="function"&&lr.console.log.apply(lr.console,arguments)}var vi={log:Qd,warn:function(e){lr.console&&(typeof lr.console.warn=="function"?lr.console.warn.apply(lr.console,arguments):Qd.call(null,arguments))},error:function(e){lr.console&&(typeof lr.console.error=="function"?lr.console.error.apply(lr.console,arguments):Qd(e))}};function ef(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){bl(r.response,t,n)},r.onerror=function(){vi.error("could not download file")},r.send()}function K0(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var bl=lr.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==lr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=lr.URL||lr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?K0(i.href)?ef(e,t,n):qc(i,i.target="_blank"):qc(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){qc(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(K0(e))ef(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){qc(r)})}else navigator.msSaveOrOpenBlob((function(i,l){return l===void 0?l={autoBom:!1}:Lr(l)!=="object"&&(vi.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return ef(e,t,n);var i=e.type==="application/octet-stream",l=/constructor/i.test(lr.HTMLElement)||lr.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||i&&l)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=h?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(e)}else{var g=lr.URL||lr.webkitURL,v=g.createObjectURL(e);r?r.location=v:location.href=v,r=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Lb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,l=n[r].process,h=i.exec(e);h&&(t=l(h),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),g=this.g.toString(16),v=this.b.toString(16);return c.length==1&&(c="0"+c),g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),"#"+c+g+v}}var th=lr.atob.bind(lr),X0=lr.btoa.bind(lr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function tf(e,t){var n=e[0],r=e[1],i=e[2],l=e[3];n=co(n,r,i,l,t[0],7,-680876936),l=co(l,n,r,i,t[1],12,-389564586),i=co(i,l,n,r,t[2],17,606105819),r=co(r,i,l,n,t[3],22,-1044525330),n=co(n,r,i,l,t[4],7,-176418897),l=co(l,n,r,i,t[5],12,1200080426),i=co(i,l,n,r,t[6],17,-1473231341),r=co(r,i,l,n,t[7],22,-45705983),n=co(n,r,i,l,t[8],7,1770035416),l=co(l,n,r,i,t[9],12,-1958414417),i=co(i,l,n,r,t[10],17,-42063),r=co(r,i,l,n,t[11],22,-1990404162),n=co(n,r,i,l,t[12],7,1804603682),l=co(l,n,r,i,t[13],12,-40341101),i=co(i,l,n,r,t[14],17,-1502002290),n=ho(n,r=co(r,i,l,n,t[15],22,1236535329),i,l,t[1],5,-165796510),l=ho(l,n,r,i,t[6],9,-1069501632),i=ho(i,l,n,r,t[11],14,643717713),r=ho(r,i,l,n,t[0],20,-373897302),n=ho(n,r,i,l,t[5],5,-701558691),l=ho(l,n,r,i,t[10],9,38016083),i=ho(i,l,n,r,t[15],14,-660478335),r=ho(r,i,l,n,t[4],20,-405537848),n=ho(n,r,i,l,t[9],5,568446438),l=ho(l,n,r,i,t[14],9,-1019803690),i=ho(i,l,n,r,t[3],14,-187363961),r=ho(r,i,l,n,t[8],20,1163531501),n=ho(n,r,i,l,t[13],5,-1444681467),l=ho(l,n,r,i,t[2],9,-51403784),i=ho(i,l,n,r,t[7],14,1735328473),n=fo(n,r=ho(r,i,l,n,t[12],20,-1926607734),i,l,t[5],4,-378558),l=fo(l,n,r,i,t[8],11,-2022574463),i=fo(i,l,n,r,t[11],16,1839030562),r=fo(r,i,l,n,t[14],23,-35309556),n=fo(n,r,i,l,t[1],4,-1530992060),l=fo(l,n,r,i,t[4],11,1272893353),i=fo(i,l,n,r,t[7],16,-155497632),r=fo(r,i,l,n,t[10],23,-1094730640),n=fo(n,r,i,l,t[13],4,681279174),l=fo(l,n,r,i,t[0],11,-358537222),i=fo(i,l,n,r,t[3],16,-722521979),r=fo(r,i,l,n,t[6],23,76029189),n=fo(n,r,i,l,t[9],4,-640364487),l=fo(l,n,r,i,t[12],11,-421815835),i=fo(i,l,n,r,t[15],16,530742520),n=po(n,r=fo(r,i,l,n,t[2],23,-995338651),i,l,t[0],6,-198630844),l=po(l,n,r,i,t[7],10,1126891415),i=po(i,l,n,r,t[14],15,-1416354905),r=po(r,i,l,n,t[5],21,-57434055),n=po(n,r,i,l,t[12],6,1700485571),l=po(l,n,r,i,t[3],10,-1894986606),i=po(i,l,n,r,t[10],15,-1051523),r=po(r,i,l,n,t[1],21,-2054922799),n=po(n,r,i,l,t[8],6,1873313359),l=po(l,n,r,i,t[15],10,-30611744),i=po(i,l,n,r,t[6],15,-1560198380),r=po(r,i,l,n,t[13],21,1309151649),n=po(n,r,i,l,t[4],6,-145523070),l=po(l,n,r,i,t[11],10,-1120210379),i=po(i,l,n,r,t[2],15,718787259),r=po(r,i,l,n,t[9],21,-343485551),e[0]=rl(n,e[0]),e[1]=rl(r,e[1]),e[2]=rl(i,e[2]),e[3]=rl(l,e[3])}function ad(e,t,n,r,i,l){return t=rl(rl(t,e),rl(r,l)),rl(t<<i|t>>>32-i,n)}function co(e,t,n,r,i,l,h){return ad(t&n|~t&r,e,t,i,l,h)}function ho(e,t,n,r,i,l,h){return ad(t&r|n&~r,e,t,i,l,h)}function fo(e,t,n,r,i,l,h){return ad(t^n^r,e,t,i,l,h)}function po(e,t,n,r,i,l,h){return ad(n^(t|~r),e,t,i,l,h)}function Nb(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)tf(r,jO(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(tf(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,tf(r,i),r}function jO(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Z0="0123456789abcdef".split("");function zO(e){for(var t="",n=0;n<4;n++)t+=Z0[e>>8*n+4&15]+Z0[e>>8*n&15];return t}function HO(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function qf(e){return Nb(e).map(HO).join("")}var qO=(function(e){for(var t=0;t<e.length;t++)e[t]=zO(e[t]);return e.join("")})(Nb("hello"))!="5d41402abc4b2a76b9719d911017c592";function rl(e,t){if(qO){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Uf(e,t){var n,r,i,l;if(e!==n){for(var h=(i=e,l=1+(256/e.length|0),new Array(l+1).join(i)),c=[],g=0;g<256;g++)c[g]=g;var v=0;for(g=0;g<256;g++){var y=c[g];v=(v+y+h.charCodeAt(g))%256,c[g]=c[v],c[v]=y}n=e,r=c}else c=r;var w=t.length,k=0,x=0,N="";for(g=0;g<w;g++)x=(x+(y=c[k=(k+1)%256]))%256,c[k]=c[x],c[x]=y,h=c[(c[k]+c[x])%256],N+=String.fromCharCode(t.charCodeAt(g)^h);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Y0={print:4,modify:8,copy:16,"annot-forms":32};function iu(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(c){if(Y0.perm!==void 0)throw new Error("Invalid permission: "+c);i+=Y0[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),h=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,h),this.P=-(1+(255^i)),this.encryptionKey=qf(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Uf(this.encryptionKey,this.padding)}function au(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function J0(e){if(Lr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var l=Math.random().toString(35);return t[n][l]=[r,!!i],l},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var l in t[n]){var h=t[n][l];try{h[0].apply(e,r)}catch(c){lr.console&&vi.error("jsPDF PubSub Error",c.message,c)}h[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Lh(e){if(!(this instanceof Lh))return new Lh(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Mb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Cl(e,t,n,r,i){if(!(this instanceof Cl))return new Cl(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Mb.call(this,r,i)}function su(e,t,n,r,i){if(!(this instanceof su))return new su(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Mb.call(this,r,i)}function qn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],l=arguments[3],h=[],c=1,g=16,v="S",y=null;Lr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,l=e.compress||e.compressPdf||l,(y=e.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(g=e.floatPrecision),v=e.defaultPathOperation||"S"),h=e.filters||(l===!0?["FlateEncode"]:h),r=r||"mm",n=(""+(n||"P")).toLowerCase();var w=e.putOnlyUsedFonts||!1,k={},x={internal:{},__private__:{}};x.__private__.PubSub=J0;var N="1.3",I=x.__private__.getPdfVersion=function(){return N};x.__private__.setPdfVersion=function(z){N=z};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return O};var T=x.__private__.getPageFormat=function(z){return O[z]};i=i||"a4";var F="compat",R="advanced",$=F;function G(){this.saveGraphicsState(),fe(new mn(Ft,0,0,-Ft,0,ro()*Ft).toString()+" cm"),this.setFontSize(this.getFontSize()/Ft),v="n",$=R}function Q(){this.restoreGraphicsState(),v="S",$=F}var ee=x.__private__.combineFontStyleAndFontWeight=function(z,ye){if(z=="bold"&&ye=="normal"||z=="bold"&&ye==400||z=="normal"&&ye=="italic"||z=="bold"&&ye=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ye&&(z=ye==400||ye==="normal"?z==="italic"?"italic":"normal":ye!=700&&ye!=="bold"||z!=="normal"?(ye==700?"bold":ye)+""+z:"bold"),z};x.advancedAPI=function(z){var ye=$===F;return ye&&G.call(this),typeof z!="function"||(z(this),ye&&Q.call(this)),this},x.compatAPI=function(z){var ye=$===R;return ye&&Q.call(this),typeof z!="function"||(z(this),ye&&G.call(this)),this},x.isAdvancedAPI=function(){return $===R};var Y,q=function(z){if($!==R)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=x.roundToPrecision=x.__private__.roundToPrecision=function(z,ye){var ze=t||ye;if(isNaN(z)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(ze).replace(/0+$/,"")};Y=x.hpf=x.__private__.hpf=typeof g=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(z,g)}:g==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(z,16)};var D=x.f2=x.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return oe(z,2)},U=x.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return oe(z,3)},te=x.scale=x.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return $===F?z*Ft:$===R?z:void 0},V=function(z){return te((function(ye){return $===F?ro()-ye:$===R?ye:void 0})(z))};x.__private__.setPrecision=x.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(t=parseInt(z,10))};var J,ie="00000000000000000000000000000000",le=x.__private__.getFileId=function(){return ie},ue=x.__private__.setFileId=function(z){return ie=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Qr=new iu(y.userPermissions,y.userPassword,y.ownerPassword,ie)),ie};x.setFileId=function(z){return ue(z),this},x.getFileId=function(){return le()};var be=x.__private__.convertDateToPDFDate=function(z){var ye=z.getTimezoneOffset(),ze=ye<0?"+":"-",et=Math.floor(Math.abs(ye/60)),pt=Math.abs(ye%60),$t=[ze,me(et),"'",me(pt),"'"].join("");return["D:",z.getFullYear(),me(z.getMonth()+1),me(z.getDate()),me(z.getHours()),me(z.getMinutes()),me(z.getSeconds()),$t].join("")},Le=x.__private__.convertPDFDateToDate=function(z){var ye=parseInt(z.substr(2,4),10),ze=parseInt(z.substr(6,2),10)-1,et=parseInt(z.substr(8,2),10),pt=parseInt(z.substr(10,2),10),$t=parseInt(z.substr(12,2),10),Qt=parseInt(z.substr(14,2),10);return new Date(ye,ze,et,pt,$t,Qt,0)},Re=x.__private__.setCreationDate=function(z){var ye;if(z===void 0&&(z=new Date),z instanceof Date)ye=be(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ye=z}return J=ye},ne=x.__private__.getCreationDate=function(z){var ye=J;return z==="jsDate"&&(ye=Le(J)),ye};x.setCreationDate=function(z){return Re(z),this},x.getCreationDate=function(z){return ne(z)};var ce,me=x.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},we=x.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},ke=0,Be=[],he=[],qe=0,We=[],Fe=[],de=!1,it=he;x.__private__.setCustomOutputDestination=function(z){de=!0,it=z};var ft=function(z){de||(it=z)};x.__private__.resetCustomOutputDestination=function(){de=!1,it=he};var fe=x.__private__.out=function(z){return z=z.toString(),qe+=z.length+1,it.push(z),it},tt=x.__private__.write=function(z){return fe(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},kt=x.__private__.getArrayBuffer=function(z){for(var ye=z.length,ze=new ArrayBuffer(ye),et=new Uint8Array(ze);ye--;)et[ye]=z.charCodeAt(ye);return ze},At=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return At};var Xe=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(z){return Xe=$===R?z/Ft:z,this};var Xt,nt=x.__private__.getFontSize=x.getFontSize=function(){return $===F?Xe:Xe*Ft},mt=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(z){return mt=z,this},x.__private__.getR2L=x.getR2L=function(){return mt};var wt,Et=x.__private__.setZoomMode=function(z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))Xt=z;else if(isNaN(z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');Xt=z}else Xt=parseInt(z,10)};x.__private__.getZoomMode=function(){return Xt};var Zt,nn=x.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');wt=z};x.__private__.getPageMode=function(){return wt};var dn=x.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');Zt=z};x.__private__.getLayoutMode=function(){return Zt},x.__private__.setDisplayMode=x.setDisplayMode=function(z,ye,ze){return Et(z),dn(ye),nn(ze),this};var Dt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(z){if(Object.keys(Dt).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dt[z]},x.__private__.getDocumentProperties=function(){return Dt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(z){for(var ye in Dt)Dt.hasOwnProperty(ye)&&z[ye]&&(Dt[ye]=z[ye]);return this},x.__private__.setDocumentProperty=function(z,ye){if(Object.keys(Dt).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dt[z]=ye};var Jt,Ft,ht,Mt,tn,fn={},Tt={},zt=[],jt={},ln={},an={},hn={},Bn=null,Rt=0,Gt=[],gn=new J0(x),An=e.hotfixes||[],Dn={},Kt={},dr=[],mn=function z(ye,ze,et,pt,$t,Qt){if(!(this instanceof z))return new z(ye,ze,et,pt,$t,Qt);isNaN(ye)&&(ye=1),isNaN(ze)&&(ze=0),isNaN(et)&&(et=0),isNaN(pt)&&(pt=1),isNaN($t)&&($t=0),isNaN(Qt)&&(Qt=0),this._matrix=[ye,ze,et,pt,$t,Qt]};Object.defineProperty(mn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(mn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(mn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(mn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(mn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(mn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(mn.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(mn.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(mn.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(mn.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(mn.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(mn.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(mn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mn.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Y).join(z)},mn.prototype.multiply=function(z){var ye=z.sx*this.sx+z.shy*this.shx,ze=z.sx*this.shy+z.shy*this.sy,et=z.shx*this.sx+z.sy*this.shx,pt=z.shx*this.shy+z.sy*this.sy,$t=z.tx*this.sx+z.ty*this.shx+this.tx,Qt=z.tx*this.shy+z.ty*this.sy+this.ty;return new mn(ye,ze,et,pt,$t,Qt)},mn.prototype.decompose=function(){var z=this.sx,ye=this.shy,ze=this.shx,et=this.sy,pt=this.tx,$t=this.ty,Qt=Math.sqrt(z*z+ye*ye),Mn=(z/=Qt)*ze+(ye/=Qt)*et;ze-=z*Mn,et-=ye*Mn;var Cn=Math.sqrt(ze*ze+et*et);return Mn/=Cn,z*(et/=Cn)<ye*(ze/=Cn)&&(z=-z,ye=-ye,Mn=-Mn,Qt=-Qt),{scale:new mn(Qt,0,0,Cn,0,0),translate:new mn(1,0,0,1,pt,$t),rotate:new mn(z,ye,-ye,z,0,0),skew:new mn(1,0,Mn,1,0,0)}},mn.prototype.toString=function(z){return this.join(" ")},mn.prototype.inversed=function(){var z=this.sx,ye=this.shy,ze=this.shx,et=this.sy,pt=this.tx,$t=this.ty,Qt=1/(z*et-ye*ze),Mn=et*Qt,Cn=-ye*Qt,Tn=-ze*Qt,ir=z*Qt;return new mn(Mn,Cn,Tn,ir,-Mn*pt-Tn*$t,-Cn*pt-ir*$t)},mn.prototype.applyToPoint=function(z){var ye=z.x*this.sx+z.y*this.shx+this.tx,ze=z.x*this.shy+z.y*this.sy+this.ty;return new ka(ye,ze)},mn.prototype.applyToRectangle=function(z){var ye=this.applyToPoint(z),ze=this.applyToPoint(new ka(z.x+z.w,z.y+z.h));return new Fo(ye.x,ye.y,ze.x-ye.x,ze.y-ye.y)},mn.prototype.clone=function(){var z=this.sx,ye=this.shy,ze=this.shx,et=this.sy,pt=this.tx,$t=this.ty;return new mn(z,ye,ze,et,pt,$t)},x.Matrix=mn;var br=x.matrixMult=function(z,ye){return ye.multiply(z)},Un=new mn(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Un;var ur=function(z,ye){if(!ln[z]){var ze=(ye instanceof Cl?"Sh":"P")+(Object.keys(jt).length+1).toString(10);ye.id=ze,ln[z]=ze,jt[ze]=ye,gn.publish("addPattern",ye)}};x.ShadingPattern=Cl,x.TilingPattern=su,x.addShadingPattern=function(z,ye){return q("addShadingPattern()"),ur(z,ye),this},x.beginTilingPattern=function(z){q("beginTilingPattern()"),_o(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},x.endTilingPattern=function(z,ye){q("endTilingPattern()"),ye.stream=Fe[ce].join(`
`),ur(z,ye),gn.publish("endTilingPattern",ye),dr.pop().restore()};var Tr,zn=x.__private__.newObject=function(){var z=cn();return Pr(z,!0),z},cn=x.__private__.newObjectDeferred=function(){return ke++,Be[ke]=function(){return qe},ke},Pr=function(z,ye){return ye=typeof ye=="boolean"&&ye,Be[z]=qe,ye&&fe(z+" 0 obj"),z},Ri=x.__private__.newAdditionalObject=function(){var z={objId:cn(),content:""};return We.push(z),z},Nn=cn(),Gn=cn(),wn=x.__private__.decodeColorString=function(z){var ye=z.split(" ");if(ye.length!==2||ye[1]!=="g"&&ye[1]!=="G")ye.length!==5||ye[4]!=="k"&&ye[4]!=="K"||(ye=[(1-ye[0])*(1-ye[3]),(1-ye[1])*(1-ye[3]),(1-ye[2])*(1-ye[3]),"r"]);else{var ze=parseFloat(ye[0]);ye=[ze,ze,ze,"r"]}for(var et="#",pt=0;pt<3;pt++)et+=("0"+Math.floor(255*parseFloat(ye[pt])).toString(16)).slice(-2);return et},nr=x.__private__.encodeColorString=function(z){var ye;typeof z=="string"&&(z={ch1:z});var ze=z.ch1,et=z.ch2,pt=z.ch3,$t=z.ch4,Qt=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var Mn=new Lb(ze);if(Mn.ok)ze=Mn.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var Cn=parseInt(ze.substr(1),16);ze=Cn>>16&255,et=Cn>>8&255,pt=255&Cn}if(et===void 0||$t===void 0&&ze===et&&et===pt)ye=typeof ze=="string"?ze+" "+Qt[0]:z.precision===2?D(ze/255)+" "+Qt[0]:U(ze/255)+" "+Qt[0];else if($t===void 0||Lr($t)==="object"){if($t&&!isNaN($t.a)&&$t.a===0)return["1.","1.","1.",Qt[1]].join(" ");ye=typeof ze=="string"?[ze,et,pt,Qt[1]].join(" "):z.precision===2?[D(ze/255),D(et/255),D(pt/255),Qt[1]].join(" "):[U(ze/255),U(et/255),U(pt/255),Qt[1]].join(" ")}else ye=typeof ze=="string"?[ze,et,pt,$t,Qt[2]].join(" "):z.precision===2?[D(ze),D(et),D(pt),D($t),Qt[2]].join(" "):[U(ze),U(et),U(pt),U($t),Qt[2]].join(" ");return ye},sr=x.__private__.getFilters=function(){return h},fr=x.__private__.putStream=function(z){var ye=(z=z||{}).data||"",ze=z.filters||sr(),et=z.alreadyAppliedFilters||[],pt=z.addLength1||!1,$t=ye.length,Qt=z.objectId,Mn=function(di){return di};if(y!==null&&Qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(Mn=Qr.encryptor(Qt,0));var Cn={};ze===!0&&(ze=["FlateEncode"]);var Tn=z.additionalKeyValues||[],ir=(Cn=qn.API.processDataByFilters!==void 0?qn.API.processDataByFilters(ye,ze):{data:ye,reverseChain:[]}).reverseChain+(Array.isArray(et)?et.join(" "):et.toString());if(Cn.data.length!==0&&(Tn.push({key:"Length",value:Cn.data.length}),pt===!0&&Tn.push({key:"Length1",value:$t})),ir.length!=0)if(ir.split("/").length-1==1)Tn.push({key:"Filter",value:ir});else{Tn.push({key:"Filter",value:"["+ir+"]"});for(var Sr=0;Sr<Tn.length;Sr+=1)if(Tn[Sr].key==="DecodeParms"){for(var li=[],vr=0;vr<Cn.reverseChain.split("/").length-1;vr+=1)li.push("null");li.push(Tn[Sr].value),Tn[Sr].value="["+li.join(" ")+"]"}}fe("<<");for(var ar=0;ar<Tn.length;ar++)fe("/"+Tn[ar].key+" "+Tn[ar].value);fe(">>"),Cn.data.length!==0&&(fe("stream"),fe(Mn(Cn.data)),fe("endstream"))},wr=x.__private__.putPage=function(z){var ye=z.number,ze=z.data,et=z.objId,pt=z.contentsObjId;Pr(et,!0),fe("<</Type /Page"),fe("/Parent "+z.rootDictionaryObjId+" 0 R"),fe("/Resources "+z.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(Y(z.mediaBox.bottomLeftX))+" "+parseFloat(Y(z.mediaBox.bottomLeftY))+" "+Y(z.mediaBox.topRightX)+" "+Y(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&fe("/CropBox ["+Y(z.cropBox.bottomLeftX)+" "+Y(z.cropBox.bottomLeftY)+" "+Y(z.cropBox.topRightX)+" "+Y(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&fe("/BleedBox ["+Y(z.bleedBox.bottomLeftX)+" "+Y(z.bleedBox.bottomLeftY)+" "+Y(z.bleedBox.topRightX)+" "+Y(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&fe("/TrimBox ["+Y(z.trimBox.bottomLeftX)+" "+Y(z.trimBox.bottomLeftY)+" "+Y(z.trimBox.topRightX)+" "+Y(z.trimBox.topRightY)+"]"),z.artBox!==null&&fe("/ArtBox ["+Y(z.artBox.bottomLeftX)+" "+Y(z.artBox.bottomLeftY)+" "+Y(z.artBox.topRightX)+" "+Y(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&fe("/UserUnit "+z.userUnit),gn.publish("putPage",{objId:et,pageContext:Gt[ye],pageNumber:ye,page:ze}),fe("/Contents "+pt+" 0 R"),fe(">>"),fe("endobj");var $t=ze.join(`
`);return $===R&&($t+=`
Q`),Pr(pt,!0),fr({data:$t,filters:sr(),objectId:pt}),fe("endobj"),et},Nr=x.__private__.putPages=function(){var z,ye,ze=[];for(z=1;z<=Rt;z++)Gt[z].objId=cn(),Gt[z].contentsObjId=cn();for(z=1;z<=Rt;z++)ze.push(wr({number:z,data:Fe[z],objId:Gt[z].objId,contentsObjId:Gt[z].contentsObjId,mediaBox:Gt[z].mediaBox,cropBox:Gt[z].cropBox,bleedBox:Gt[z].bleedBox,trimBox:Gt[z].trimBox,artBox:Gt[z].artBox,userUnit:Gt[z].userUnit,rootDictionaryObjId:Nn,resourceDictionaryObjId:Gn}));Pr(Nn,!0),fe("<</Type /Pages");var et="/Kids [";for(ye=0;ye<Rt;ye++)et+=ze[ye]+" 0 R ";fe(et+"]"),fe("/Count "+Rt),fe(">>"),fe("endobj"),gn.publish("postPutPages")},Si=function(z){gn.publish("putFont",{font:z,out:fe,newObject:zn,putStream:fr}),z.isAlreadyPutted!==!0&&(z.objectNumber=zn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+au(z.postScriptName)),fe("/Subtype /Type1"),typeof z.encoding=="string"&&fe("/Encoding /"+z.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},yi=function(z){z.objectNumber=zn();var ye=[];ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Form"}),ye.push({key:"BBox",value:"["+[Y(z.x),Y(z.y),Y(z.x+z.width),Y(z.y+z.height)].join(" ")+"]"}),ye.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var ze=z.pages[1].join(`
`);fr({data:ze,additionalKeyValues:ye,objectId:z.objectNumber}),fe("endobj")},mr=function(z,ye){ye||(ye=21);var ze=zn(),et=(function(Qt,Mn){var Cn,Tn=[],ir=1/(Mn-1);for(Cn=0;Cn<1;Cn+=ir)Tn.push(Cn);if(Tn.push(1),Qt[0].offset!=0){var Sr={offset:0,color:Qt[0].color};Qt.unshift(Sr)}if(Qt[Qt.length-1].offset!=1){var li={offset:1,color:Qt[Qt.length-1].color};Qt.push(li)}for(var vr="",ar=0,di=0;di<Tn.length;di++){for(Cn=Tn[di];Cn>Qt[ar+1].offset;)ar++;var Xr=Qt[ar].offset,Ir=(Cn-Xr)/(Qt[ar+1].offset-Xr),Di=Qt[ar].color,Er=Qt[ar+1].color;vr+=we(Math.round((1-Ir)*Di[0]+Ir*Er[0]).toString(16))+we(Math.round((1-Ir)*Di[1]+Ir*Er[1]).toString(16))+we(Math.round((1-Ir)*Di[2]+Ir*Er[2]).toString(16))}return vr.trim()})(z.colors,ye),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+ye+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fr({data:et,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),fe("endobj"),z.objectNumber=zn(),fe("<< /ShadingType "+z.type),fe("/ColorSpace /DeviceRGB");var $t="/Coords ["+Y(parseFloat(z.coords[0]))+" "+Y(parseFloat(z.coords[1]))+" ";z.type===2?$t+=Y(parseFloat(z.coords[2]))+" "+Y(parseFloat(z.coords[3])):$t+=Y(parseFloat(z.coords[2]))+" "+Y(parseFloat(z.coords[3]))+" "+Y(parseFloat(z.coords[4]))+" "+Y(parseFloat(z.coords[5])),fe($t+="]"),z.matrix&&fe("/Matrix ["+z.matrix.toString()+"]"),fe("/Function "+ze+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Hi=function(z,ye){var ze=cn(),et=zn();ye.push({resourcesOid:ze,objectOid:et}),z.objectNumber=et;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+z.boundingBox.map(Y).join(" ")+"]"}),pt.push({key:"XStep",value:Y(z.xStep)}),pt.push({key:"YStep",value:Y(z.yStep)}),pt.push({key:"Resources",value:ze+" 0 R"}),z.matrix&&pt.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),fr({data:z.stream,additionalKeyValues:pt,objectId:z.objectNumber}),fe("endobj")},Jn=function(z){for(var ye in z.objectNumber=zn(),fe("<<"),z)switch(ye){case"opacity":fe("/ca "+D(z[ye]));break;case"stroke-opacity":fe("/CA "+D(z[ye]))}fe(">>"),fe("endobj")},xn=function(z){Pr(z.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ye in fe("/Font <<"),fn)fn.hasOwnProperty(ye)&&(w===!1||w===!0&&k.hasOwnProperty(ye))&&fe("/"+ye+" "+fn[ye].objectNumber+" 0 R");fe(">>")})(),(function(){if(Object.keys(jt).length>0){for(var ye in fe("/Shading <<"),jt)jt.hasOwnProperty(ye)&&jt[ye]instanceof Cl&&jt[ye].objectNumber>=0&&fe("/"+ye+" "+jt[ye].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),fe(">>")}})(),(function(ye){if(Object.keys(jt).length>0){for(var ze in fe("/Pattern <<"),jt)jt.hasOwnProperty(ze)&&jt[ze]instanceof x.TilingPattern&&jt[ze].objectNumber>=0&&jt[ze].objectNumber<ye&&fe("/"+ze+" "+jt[ze].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),fe(">>")}})(z.objectOid),(function(){if(Object.keys(an).length>0){var ye;for(ye in fe("/ExtGState <<"),an)an.hasOwnProperty(ye)&&an[ye].objectNumber>=0&&fe("/"+ye+" "+an[ye].objectNumber+" 0 R");gn.publish("putGStateDict"),fe(">>")}})(),(function(){for(var ye in fe("/XObject <<"),Dn)Dn.hasOwnProperty(ye)&&Dn[ye].objectNumber>=0&&fe("/"+ye+" "+Dn[ye].objectNumber+" 0 R");gn.publish("putXobjectDict"),fe(">>")})(),fe(">>"),fe("endobj")},rr=function(z){Tt[z.fontName]=Tt[z.fontName]||{},Tt[z.fontName][z.fontStyle]=z.id},pr=function(z,ye,ze,et,pt){var $t={id:"F"+(Object.keys(fn).length+1).toString(10),postScriptName:z,fontName:ye,fontStyle:ze,encoding:et,isStandardFont:pt||!1,metadata:{}};return gn.publish("addFont",{font:$t,instance:this}),fn[$t.id]=$t,rr($t),$t.id},gr=x.__private__.pdfEscape=x.pdfEscape=function(z,ye){return(function(ze,et){var pt,$t,Qt,Mn,Cn,Tn,ir,Sr,li;if(Qt=(et=et||{}).sourceEncoding||"Unicode",Cn=et.outputEncoding,(et.autoencode||Cn)&&fn[Jt].metadata&&fn[Jt].metadata[Qt]&&fn[Jt].metadata[Qt].encoding&&(Mn=fn[Jt].metadata[Qt].encoding,!Cn&&fn[Jt].encoding&&(Cn=fn[Jt].encoding),!Cn&&Mn.codePages&&(Cn=Mn.codePages[0]),typeof Cn=="string"&&(Cn=Mn[Cn]),Cn)){for(ir=!1,Tn=[],pt=0,$t=ze.length;pt<$t;pt++)(Sr=Cn[ze.charCodeAt(pt)])?Tn.push(String.fromCharCode(Sr)):Tn.push(ze[pt]),Tn[pt].charCodeAt(0)>>8&&(ir=!0);ze=Tn.join("")}for(pt=ze.length;ir===void 0&&pt!==0;)ze.charCodeAt(pt-1)>>8&&(ir=!0),pt--;if(!ir)return ze;for(Tn=et.noBOM?[]:[254,255],pt=0,$t=ze.length;pt<$t;pt++){if((li=(Sr=ze.charCodeAt(pt))>>8)>>8)throw new Error("Character at position "+pt+" of string '"+ze+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tn.push(li),Tn.push(Sr-(li<<8))}return String.fromCharCode.apply(void 0,Tn)})(z,ye).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_i=x.__private__.beginPage=function(z){Fe[++Rt]=[],Gt[Rt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Zn(Rt),ft(Fe[ce])},Sn=function(z,ye){var ze,et,pt;switch(n=ye||n,typeof z=="string"&&(ze=T(z.toLowerCase()),Array.isArray(ze)&&(et=ze[0],pt=ze[1])),Array.isArray(z)&&(et=z[0]*Ft,pt=z[1]*Ft),isNaN(et)&&(et=i[0],pt=i[1]),(et>14400||pt>14400)&&(vi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),et=Math.min(14400,et),pt=Math.min(14400,pt)),i=[et,pt],n.substr(0,1)){case"l":pt>et&&(i=[pt,et]);break;case"p":et>pt&&(i=[pt,et])}_i(i),sn(ei),fe(Qa),Bo!==0&&fe(Bo+" J"),Do!==0&&fe(Do+" j"),gn.publish("addPage",{pageNumber:Rt})},kn=function(z){z>0&&z<=Rt&&(Fe.splice(z,1),Gt.splice(z,1),Rt--,ce>Rt&&(ce=Rt),this.setPage(ce))},Zn=function(z){z>0&&z<=Rt&&(ce=z)},Gr=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Fe.length-1},Dr=function(z,ye,ze){var et,pt=void 0;return ze=ze||{},z=z!==void 0?z:fn[Jt].fontName,ye=ye!==void 0?ye:fn[Jt].fontStyle,et=z.toLowerCase(),Tt[et]!==void 0&&Tt[et][ye]!==void 0?pt=Tt[et][ye]:Tt[z]!==void 0&&Tt[z][ye]!==void 0?pt=Tt[z][ye]:ze.disableWarning===!1&&vi.warn("Unable to look up font label for font '"+z+"', '"+ye+"'. Refer to getFontList() for available fonts."),pt||ze.noFallback||(pt=Tt.times[ye])==null&&(pt=Tt.times.normal),pt},Fn=x.__private__.putInfo=function(){var z=zn(),ye=function(et){return et};for(var ze in y!==null&&(ye=Qr.encryptor(z,0)),fe("<<"),fe("/Producer ("+gr(ye("jsPDF "+qn.version))+")"),Dt)Dt.hasOwnProperty(ze)&&Dt[ze]&&fe("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+gr(ye(Dt[ze]))+")");fe("/CreationDate ("+gr(ye(J))+")"),fe(">>"),fe("endobj")},xr=x.__private__.putCatalog=function(z){var ye=(z=z||{}).rootDictionaryObjId||Nn;switch(zn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+ye+" 0 R"),Xt||(Xt="fullwidth"),Xt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+Xt;ze.substr(ze.length-1)==="%"&&(Xt=parseInt(Xt)/100),typeof Xt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+D(Xt)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}wt&&fe("/PageMode /"+wt),gn.publish("putCatalog"),fe(">>"),fe("endobj")},xa=x.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ke+1)),fe("/Root "+ke+" 0 R"),fe("/Info "+(ke-1)+" 0 R"),y!==null&&fe("/Encrypt "+Qr.oid+" 0 R"),fe("/ID [ <"+ie+"> <"+ie+"> ]"),fe(">>")},Vr=x.__private__.putHeader=function(){fe("%PDF-"+N),fe("%")},la=x.__private__.putXRef=function(){var z="0000000000";fe("xref"),fe("0 "+(ke+1)),fe("0000000000 65535 f ");for(var ye=1;ye<=ke;ye++)typeof Be[ye]=="function"?fe((z+Be[ye]()).slice(-10)+" 00000 n "):Be[ye]!==void 0?fe((z+Be[ye]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},qi=x.__private__.buildDocument=function(){var z;ke=0,qe=0,he=[],Be=[],We=[],Nn=cn(),Gn=cn(),ft(he),gn.publish("buildDocument"),Vr(),Nr(),(function(){gn.publish("putAdditionalObjects");for(var ze=0;ze<We.length;ze++){var et=We[ze];Pr(et.objId,!0),fe(et.content),fe("endobj")}gn.publish("postPutAdditionalObjects")})(),z=[],(function(){for(var ze in fn)fn.hasOwnProperty(ze)&&(w===!1||w===!0&&k.hasOwnProperty(ze))&&Si(fn[ze])})(),(function(){var ze;for(ze in an)an.hasOwnProperty(ze)&&Jn(an[ze])})(),(function(){for(var ze in Dn)Dn.hasOwnProperty(ze)&&yi(Dn[ze])})(),(function(ze){var et;for(et in jt)jt.hasOwnProperty(et)&&(jt[et]instanceof Cl?mr(jt[et]):jt[et]instanceof su&&Hi(jt[et],ze))})(z),gn.publish("putResources"),z.forEach(xn),xn({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources"),y!==null&&(Qr.oid=zn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Qr.v),fe("/R "+Qr.r),fe("/U <"+Qr.toHexString(Qr.U)+">"),fe("/O <"+Qr.toHexString(Qr.O)+">"),fe("/P "+Qr.P),fe(">>"),fe("endobj")),Fn(),xr();var ye=qe;return la(),xa(),fe("startxref"),fe(""+ye),fe("%%EOF"),ft(Fe[ce]),he.join(`
`)},jn=x.__private__.getBlob=function(z){return new Blob([kt(z)],{type:"application/pdf"})},Cr=x.output=x.__private__.output=(Tr=function(z,ye){switch(typeof(ye=ye||{})=="string"?ye={filename:ye}:ye.filename=ye.filename||"generated.pdf",z){case void 0:return qi();case"save":x.save(ye.filename);break;case"arraybuffer":return kt(qi());case"blob":return jn(qi());case"bloburi":case"bloburl":if(lr.URL!==void 0&&typeof lr.URL.createObjectURL=="function")return lr.URL&&lr.URL.createObjectURL(jn(qi()))||void 0;vi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",et=qi();try{ze=X0(et)}catch{ze=X0(unescape(encodeURIComponent(et)))}return"data:application/pdf;filename="+ye.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ye.pdfObjectUrl&&(pt=ye.pdfObjectUrl,$t="");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+$t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ye)+");<\/script></body></html>",Mn=lr.open();return Mn!==null&&Mn.document.write(Qt),Mn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var Cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ye.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ye.filename+'" width="500px" height="400px" /></body></html>',Tn=lr.open();if(Tn!==null){Tn.document.write(Cn);var ir=this;Tn.document.documentElement.querySelector("#pdfViewer").onload=function(){Tn.document.title=ye.filename,Tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ir.output("bloburl"))}}return Tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ye)+'"></iframe></body></html>',li=lr.open();if(li!==null&&(li.document.write(Sr),li.document.title=ye.filename),li||typeof safari>"u")return li;break;case"datauri":case"dataurl":return lr.document.location.href=this.output("datauristring",ye);default:return null}},Tr.foo=function(){try{return Tr.apply(this,arguments)}catch(ze){var z=ze.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var ye="Error in function "+z.split(`
`)[0].split("<")[0]+": "+ze.message;if(!lr.console)throw new Error(ye);lr.console.error(ye,ze),lr.alert&&alert(ye)}},Tr.foo.bar=Tr,Tr.foo),ai=function(z){return Array.isArray(An)===!0&&An.indexOf(z)>-1};switch(r){case"pt":Ft=1;break;case"mm":Ft=72/25.4;break;case"cm":Ft=72/2.54;break;case"in":Ft=72;break;case"px":Ft=ai("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ft=12;break;case"ex":Ft=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ft=r}var Qr=null;Re(),ue();var Hr=x.__private__.getPageInfo=x.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[z].objId,pageNumber:z,pageContext:Gt[z]}},vo=x.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ye in Gt)if(Gt[ye].objId===z)break;return Hr(ye)},yo=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Gt[ce].objId,pageNumber:ce,pageContext:Gt[ce]}};x.addPage=function(){return Sn.apply(this,arguments),this},x.setPage=function(){return Zn.apply(this,arguments),ft.call(this,Fe[ce]),this},x.insertPage=function(z){return this.addPage(),this.movePage(ce,z),this},x.movePage=function(z,ye){var ze,et;if(z>ye){ze=Fe[z],et=Gt[z];for(var pt=z;pt>ye;pt--)Fe[pt]=Fe[pt-1],Gt[pt]=Gt[pt-1];Fe[ye]=ze,Gt[ye]=et,this.setPage(ye)}else if(z<ye){ze=Fe[z],et=Gt[z];for(var $t=z;$t<ye;$t++)Fe[$t]=Fe[$t+1],Gt[$t]=Gt[$t+1];Fe[ye]=ze,Gt[ye]=et,this.setPage(ye)}return this},x.deletePage=function(){return kn.apply(this,arguments),this},x.__private__.text=x.text=function(z,ye,ze,et,pt){var $t,Qt,Mn,Cn,Tn,ir,Sr,li,vr,ar=(et=et||{}).scope||this;if(typeof z=="number"&&typeof ye=="number"&&(typeof ze=="string"||Array.isArray(ze))){var di=ze;ze=ye,ye=z,z=di}if(arguments[3]instanceof mn==0?(Mn=arguments[4],Cn=arguments[5],Lr(Sr=arguments[3])==="object"&&Sr!==null||(typeof Mn=="string"&&(Cn=Mn,Mn=null),typeof Sr=="string"&&(Cn=Sr,Sr=null),typeof Sr=="number"&&(Mn=Sr,Sr=null),et={flags:Sr,angle:Mn,align:Cn})):(q("The transform parameter of text() with a Matrix value"),vr=pt),isNaN(ye)||isNaN(ze)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return ar;var Xr,Ir="",Di=typeof et.lineHeightFactor=="number"?et.lineHeightFactor:Wr,Er=ar.internal.scaleFactor;function ha(B){return B=B.split("	").join(Array(et.TabLen||9).join(" ")),gr(B,Sr)}function bo(B){for(var K,se=B.concat(),xe=[],$e=se.length;$e--;)typeof(K=se.shift())=="string"?xe.push(K):Array.isArray(B)&&(K.length===1||K[1]===void 0&&K[2]===void 0)?xe.push(K[0]):xe.push([K[0],K[1],K[2]]);return xe}function bi(B,K){var se;if(typeof B=="string")se=K(B)[0];else if(Array.isArray(B)){for(var xe,$e,st=B.concat(),_t=[],Yt=st.length;Yt--;)typeof(xe=st.shift())=="string"?_t.push(K(xe)[0]):Array.isArray(xe)&&typeof xe[0]=="string"&&($e=K(xe[0],xe[1],xe[2]),_t.push([$e[0],$e[1],$e[2]]));se=_t}return se}var xi=!1,io=!0;if(typeof z=="string")xi=!0;else if(Array.isArray(z)){var Na=z.concat();Qt=[];for(var ao,qr=Na.length;qr--;)(typeof(ao=Na.shift())!="string"||Array.isArray(ao)&&typeof ao[0]!="string")&&(io=!1);xi=io}if(xi===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Ui=Xe/ar.internal.scaleFactor,oo=Ui*(Di-1);switch(et.baseline){case"bottom":ze-=oo;break;case"top":ze+=Ui-oo;break;case"hanging":ze+=Ui-2*oo;break;case"middle":ze+=Ui/2-oo}if((ir=et.maxWidth||0)>0&&(typeof z=="string"?z=ar.splitTextToSize(z,ir):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(B,K){return B.concat(ar.splitTextToSize(K,ir))},[]))),$t={text:z,x:ye,y:ze,options:et,mutex:{pdfEscape:gr,activeFontKey:Jt,fonts:fn,activeFontSize:Xe}},gn.publish("preProcessText",$t),z=$t.text,Mn=(et=$t.options).angle,vr instanceof mn==0&&Mn&&typeof Mn=="number"){Mn*=Math.PI/180,et.rotationDirection===0&&(Mn=-Mn),$===R&&(Mn=-Mn);var jo=Math.cos(Mn),zo=Math.sin(Mn);vr=new mn(jo,zo,-zo,jo,0,0)}else Mn&&Mn instanceof mn&&(vr=Mn);$!==R||vr||(vr=Un),(Tn=et.charSpace||si)!==void 0&&(Ir+=Y(te(Tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(li=et.horizontalScale)!==void 0&&(Ir+=Y(100*li)+` Tz
`),et.lang;var jr=-1,ra=et.renderingMode!==void 0?et.renderingMode:et.stroke,Ho=ar.internal.getCurrentPageInfo().pageContext;switch(ra){case 0:case!1:case"fill":jr=0;break;case 1:case!0:case"stroke":jr=1;break;case 2:case"fillThenStroke":jr=2;break;case 3:case"invisible":jr=3;break;case 4:case"fillAndAddForClipping":jr=4;break;case 5:case"strokeAndAddPathForClipping":jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jr=6;break;case 7:case"addToPathForClipping":jr=7}var ia=Ho.usedRenderingMode!==void 0?Ho.usedRenderingMode:-1;jr!==-1?Ir+=jr+` Tr
`:ia!==-1&&(Ir+=`0 Tr
`),jr!==-1&&(Ho.usedRenderingMode=jr),Cn=et.align||"left";var da,Ma=Xe*Di,ss=ar.internal.pageSize.getWidth(),xo=fn[Jt];Tn=et.charSpace||si,ir=et.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},et.flags);var Ha=[],so=function(B){return ar.getStringUnitWidth(B,{font:xo,charSpace:Tn,fontSize:Xe,doKerning:!1})*Xe/Er};if(Object.prototype.toString.call(z)==="[object Array]"){var fa;Qt=bo(z),Cn!=="left"&&(da=Qt.map(so));var gi,Oi=0;if(Cn==="right"){ye-=da[0],z=[],qr=Qt.length;for(var qa=0;qa<qr;qa++)qa===0?(gi=za(ye),fa=Ea(ze)):(gi=te(Oi-da[qa]),fa=-Ma),z.push([Qt[qa],gi,fa]),Oi=da[qa]}else if(Cn==="center"){ye-=da[0]/2,z=[],qr=Qt.length;for(var Ua=0;Ua<qr;Ua++)Ua===0?(gi=za(ye),fa=Ea(ze)):(gi=te((Oi-da[Ua])/2),fa=-Ma),z.push([Qt[Ua],gi,fa]),Oi=da[Ua]}else if(Cn==="left"){z=[],qr=Qt.length;for(var Ga=0;Ga<qr;Ga++)z.push(Qt[Ga])}else if(Cn==="justify"&&xo.encoding==="Identity-H"){z=[],qr=Qt.length,ir=ir!==0?ir:ss;for(var Yi=0,ui=0;ui<qr;ui++)if(fa=ui===0?Ea(ze):-Ma,gi=ui===0?za(ye):Yi,ui<qr-1){var Va=te((ir-da[ui])/(Qt[ui].split(" ").length-1)),Ji=Qt[ui].split(" ");z.push([Ji[0]+" ",gi,fa]),Yi=0;for(var Ei=1;Ei<Ji.length;Ei++){var So=(so(Ji[Ei-1]+" "+Ji[Ei])-so(Ji[Ei]))*Er+Va;Ei==Ji.length-1?z.push([Ji[Ei],So,0]):z.push([Ji[Ei]+" ",So,0]),Yi-=So}}else z.push([Qt[ui],gi,fa]);z.push(["",Yi,0])}else{if(Cn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],qr=Qt.length,ir=ir!==0?ir:ss,ui=0;ui<qr;ui++){fa=ui===0?Ea(ze):-Ma,gi=ui===0?za(ye):0;var Yo=Qt[ui].split(" ").length-1,pa=Yo>0?(ir-da[ui])/Yo:0;ui<qr-1?Ha.push(Y(te(pa))):Ha.push(0),z.push([Qt[ui],gi,fa])}}}(typeof et.R2L=="boolean"?et.R2L:mt)===!0&&(z=bi(z,function(B,K,se){return[B.split("").reverse().join(""),K,se]})),$t={text:z,x:ye,y:ze,options:et,mutex:{pdfEscape:gr,activeFontKey:Jt,fonts:fn,activeFontSize:Xe}},gn.publish("postProcessText",$t),z=$t.text,Xr=$t.mutex.isHex||!1;var Eo=fn[Jt].encoding;Eo!=="WinAnsiEncoding"&&Eo!=="StandardEncoding"||(z=bi(z,function(B,K,se){return[ha(B),K,se]})),Qt=bo(z),z=[];for(var Pa,fi,pi,f=Array.isArray(Qt[0])?1:0,a="",o=function(B,K,se){var xe="";return se instanceof mn?(se=typeof et.angle=="number"?br(se,new mn(1,0,0,1,B,K)):br(new mn(1,0,0,1,B,K),se),$===R&&(se=br(new mn(1,0,0,-1,0,0),se)),xe=se.join(" ")+` Tm
`):xe=Y(B)+" "+Y(K)+` Td
`,xe},d=0;d<Qt.length;d++){switch(a="",f){case 1:pi=(Xr?"<":"(")+Qt[d][0]+(Xr?">":")"),Pa=parseFloat(Qt[d][1]),fi=parseFloat(Qt[d][2]);break;case 0:pi=(Xr?"<":"(")+Qt[d]+(Xr?">":")"),Pa=za(ye),fi=Ea(ze)}Ha!==void 0&&Ha[d]!==void 0&&(a=Ha[d]+` Tw
`),d===0?z.push(a+o(Pa,fi,vr)+pi):f===0?z.push(a+pi):f===1&&z.push(a+o(Pa,fi,vr)+pi)}z=f===0?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var C=`BT
/`;return C+=Jt+" "+Xe+` Tf
`,C+=Y(Xe*Di)+` TL
`,C+=Kr+`
`,C+=Ir,C+=z,fe(C+="ET"),k[Jt]=!0,ar};var Fa=x.__private__.clip=x.clip=function(z){return fe(z==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Fa("evenodd")},x.__private__.discardPath=x.discardPath=function(){return fe("n"),this};var Or=x.__private__.isValidStyle=function(z){var ye=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(ye=!0),ye};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(z){return Or(z)&&(v=z),this};var Wi=x.__private__.getStyle=x.getStyle=function(z){var ye=v;switch(z){case"D":case"S":ye="S";break;case"F":ye="f";break;case"FD":case"DF":ye="B";break;case"f":case"f*":case"B":case"B*":ye=z}return ye},Ki=x.close=function(){return fe("h"),this};x.stroke=function(){return fe("S"),this},x.fill=function(z){return Xi("f",z),this},x.fillEvenOdd=function(z){return Xi("f*",z),this},x.fillStroke=function(z){return Xi("B",z),this},x.fillStrokeEvenOdd=function(z){return Xi("B*",z),this};var Xi=function(z,ye){Lr(ye)==="object"?Qn(ye,z):fe(z)},wa=function(z){z===null||$===R&&z===void 0||(z=Wi(z),fe(z))};function ja(z,ye,ze,et,pt){var $t=new su(ye||this.boundingBox,ze||this.xStep,et||this.yStep,this.gState,pt||this.matrix);$t.stream=this.stream;var Qt=z+"$$"+this.cloneIndex+++"$$";return ur(Qt,$t),$t}var Qn=function(z,ye){var ze=ln[z.key],et=jt[ze];if(et instanceof Cl)fe("q"),fe(er(ye)),et.gState&&x.setGState(et.gState),fe(z.matrix.toString()+" cm"),fe("/"+ze+" sh"),fe("Q");else if(et instanceof su){var pt=new mn(1,0,0,-1,0,ro());z.matrix&&(pt=pt.multiply(z.matrix||Un),ze=ja.call(et,z.key,z.boundingBox,z.xStep,z.yStep,pt).id),fe("q"),fe("/Pattern cs"),fe("/"+ze+" scn"),et.gState&&x.setGState(et.gState),fe(ye),fe("Q")}},er=function(z){switch(z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wn=x.moveTo=function(z,ye){return fe(Y(te(z))+" "+Y(V(ye))+" m"),this},oi=x.lineTo=function(z,ye){return fe(Y(te(z))+" "+Y(V(ye))+" l"),this},Rr=x.curveTo=function(z,ye,ze,et,pt,$t){return fe([Y(te(z)),Y(V(ye)),Y(te(ze)),Y(V(et)),Y(te(pt)),Y(V($t)),"c"].join(" ")),this};x.__private__.line=x.line=function(z,ye,ze,et,pt){if(isNaN(z)||isNaN(ye)||isNaN(ze)||isNaN(et)||!Or(pt))throw new Error("Invalid arguments passed to jsPDF.line");return $===F?this.lines([[ze-z,et-ye]],z,ye,[1,1],pt||"S"):this.lines([[ze-z,et-ye]],z,ye,[1,1]).stroke()},x.__private__.lines=x.lines=function(z,ye,ze,et,pt,$t){var Qt,Mn,Cn,Tn,ir,Sr,li,vr,ar,di,Xr,Ir;if(typeof z=="number"&&(Ir=ze,ze=ye,ye=z,z=Ir),et=et||[1,1],$t=$t||!1,isNaN(ye)||isNaN(ze)||!Array.isArray(z)||!Array.isArray(et)||!Or(pt)||typeof $t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wn(ye,ze),Qt=et[0],Mn=et[1],Tn=z.length,di=ye,Xr=ze,Cn=0;Cn<Tn;Cn++)(ir=z[Cn]).length===2?(di=ir[0]*Qt+di,Xr=ir[1]*Mn+Xr,oi(di,Xr)):(Sr=ir[0]*Qt+di,li=ir[1]*Mn+Xr,vr=ir[2]*Qt+di,ar=ir[3]*Mn+Xr,di=ir[4]*Qt+di,Xr=ir[5]*Mn+Xr,Rr(Sr,li,vr,ar,di,Xr));return $t&&Ki(),wa(pt),this},x.path=function(z){for(var ye=0;ye<z.length;ye++){var ze=z[ye],et=ze.c;switch(ze.op){case"m":Wn(et[0],et[1]);break;case"l":oi(et[0],et[1]);break;case"c":Rr.apply(this,et);break;case"h":Ki()}}return this},x.__private__.rect=x.rect=function(z,ye,ze,et,pt){if(isNaN(z)||isNaN(ye)||isNaN(ze)||isNaN(et)||!Or(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return $===F&&(et=-et),fe([Y(te(z)),Y(V(ye)),Y(te(ze)),Y(te(et)),"re"].join(" ")),wa(pt),this},x.__private__.triangle=x.triangle=function(z,ye,ze,et,pt,$t,Qt){if(isNaN(z)||isNaN(ye)||isNaN(ze)||isNaN(et)||isNaN(pt)||isNaN($t)||!Or(Qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-z,et-ye],[pt-ze,$t-et],[z-pt,ye-$t]],z,ye,[1,1],Qt,!0),this},x.__private__.roundedRect=x.roundedRect=function(z,ye,ze,et,pt,$t,Qt){if(isNaN(z)||isNaN(ye)||isNaN(ze)||isNaN(et)||isNaN(pt)||isNaN($t)||!Or(Qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mn=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*ze),$t=Math.min($t,.5*et),this.lines([[ze-2*pt,0],[pt*Mn,0,pt,$t-$t*Mn,pt,$t],[0,et-2*$t],[0,$t*Mn,-pt*Mn,$t,-pt,$t],[2*pt-ze,0],[-pt*Mn,0,-pt,-$t*Mn,-pt,-$t],[0,2*$t-et],[0,-$t*Mn,pt*Mn,-$t,pt,-$t]],z+pt,ye,[1,1],Qt,!0),this},x.__private__.ellipse=x.ellipse=function(z,ye,ze,et,pt){if(isNaN(z)||isNaN(ye)||isNaN(ze)||isNaN(et)||!Or(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $t=4/3*(Math.SQRT2-1)*ze,Qt=4/3*(Math.SQRT2-1)*et;return Wn(z+ze,ye),Rr(z+ze,ye-Qt,z+$t,ye-et,z,ye-et),Rr(z-$t,ye-et,z-ze,ye-Qt,z-ze,ye),Rr(z-ze,ye+Qt,z-$t,ye+et,z,ye+et),Rr(z+$t,ye+et,z+ze,ye+Qt,z+ze,ye),wa(pt),this},x.__private__.circle=x.circle=function(z,ye,ze,et){if(isNaN(z)||isNaN(ye)||isNaN(ze)||!Or(et))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,ye,ze,ze,et)},x.setFont=function(z,ye,ze){return ze&&(ye=ee(ye,ze)),Jt=Dr(z,ye,{disableWarning:!1}),this};var Zi=x.__private__.getFont=x.getFont=function(){return fn[Dr.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var z,ye,ze={};for(z in Tt)if(Tt.hasOwnProperty(z))for(ye in ze[z]=[],Tt[z])Tt[z].hasOwnProperty(ye)&&ze[z].push(ye);return ze},x.addFont=function(z,ye,ze,et,pt){var $t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$t.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&$t.indexOf(arguments[3])==-1&&(ze=ee(ze,et)),pr.call(this,z,ye,ze,pt=pt||"Identity-H")};var Wr,ei=e.lineWidth||.200025,Ca=x.__private__.getLineWidth=x.getLineWidth=function(){return ei},sn=x.__private__.setLineWidth=x.setLineWidth=function(z){return ei=z,fe(Y(te(z))+" w"),this};x.__private__.setLineDash=qn.API.setLineDash=qn.API.setLineDashPattern=function(z,ye){if(z=z||[],ye=ye||0,isNaN(ye)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(ze){return Y(te(ze))}).join(" "),ye=Y(te(ye)),fe("["+z+"] "+ye+" d"),this};var Sa=x.__private__.getLineHeight=x.getLineHeight=function(){return Xe*Wr};x.__private__.getLineHeight=x.getLineHeight=function(){return Xe*Wr};var Fr=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(Wr=z),this},Ro=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Wr};Fr(e.lineHeight);var za=x.__private__.getHorizontalCoordinate=function(z){return te(z)},Ea=x.__private__.getVerticalCoordinate=function(z){return $===R?z:Gt[ce].mediaBox.topRightY-Gt[ce].mediaBox.bottomLeftY-te(z)},cr=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(z){return Y(za(z))},Ii=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(z){return Y(Ea(z))},Qa=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return wn(Qa)},x.__private__.setStrokeColor=x.setDrawColor=function(z,ye,ze,et){return Qa=nr({ch1:z,ch2:ye,ch3:ze,ch4:et,pdfColorType:"draw",precision:2}),fe(Qa),this};var eo=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return wn(eo)},x.__private__.setFillColor=x.setFillColor=function(z,ye,ze,et){return eo=nr({ch1:z,ch2:ye,ch3:ze,ch4:et,pdfColorType:"fill",precision:2}),fe(eo),this};var Kr=e.textColor||"0 g",to=x.__private__.getTextColor=x.getTextColor=function(){return wn(Kr)};x.__private__.setTextColor=x.setTextColor=function(z,ye,ze,et){return Kr=nr({ch1:z,ch2:ye,ch3:ze,ch4:et,pdfColorType:"text",precision:3}),this};var si=e.charSpace,os=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(si||0)};x.__private__.setCharSpace=x.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return si=z,this};var Bo=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(z){var ye=x.CapJoinStyles[z];if(ye===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bo=ye,fe(ye+" J"),this};var Do=0;x.__private__.setLineJoin=x.setLineJoin=function(z){var ye=x.CapJoinStyles[z];if(ye===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Do=ye,fe(ye+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(Y(te(z))+" M"),this},x.GState=Lh,x.setGState=function(z){(z=typeof z=="string"?an[hn[z]]:$o(null,z)).equals(Bn)||(fe("/"+z.id+" gs"),Bn=z)};var $o=function(z,ye){if(!z||!hn[z]){var ze=!1;for(var et in an)if(an.hasOwnProperty(et)&&an[et].equals(ye)){ze=!0;break}if(ze)ye=an[et];else{var pt="GS"+(Object.keys(an).length+1).toString(10);an[pt]=ye,ye.id=pt}return z&&(hn[z]=ye.id),gn.publish("addGState",ye),ye}};x.addGState=function(z,ye){return $o(z,ye),this},x.saveGraphicsState=function(){return fe("q"),zt.push({key:Jt,size:Xe,color:Kr}),this},x.restoreGraphicsState=function(){fe("Q");var z=zt.pop();return Jt=z.key,Xe=z.size,Kr=z.color,Bn=null,this},x.setCurrentTransformationMatrix=function(z){return fe(z.toString()+" cm"),this},x.comment=function(z){return fe("#"+z),this};var ka=function(z,ye){var ze=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function($t){isNaN($t)||(ze=parseFloat($t))}});var et=ye||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return et},set:function($t){isNaN($t)||(et=parseFloat($t))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function($t){pt=$t.toString()}}),this},Fo=function(z,ye,ze,et){ka.call(this,z,ye),this.type="rect";var pt=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function(Qt){isNaN(Qt)||(pt=parseFloat(Qt))}});var $t=et||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $t},set:function(Qt){isNaN(Qt)||($t=parseFloat(Qt))}}),this},Yn=function(){this.page=Rt,this.currentPage=ce,this.pages=Fe.slice(0),this.pagesContext=Gt.slice(0),this.x=ht,this.y=Mt,this.matrix=tn,this.width=hi(ce),this.height=bs(ce),this.outputDestination=it,this.id="",this.objectNumber=-1};Yn.prototype.restore=function(){Rt=this.page,ce=this.currentPage,Gt=this.pagesContext,Fe=this.pages,ht=this.x,Mt=this.y,tn=this.matrix,ua(ce,this.width),Bi(ce,this.height),it=this.outputDestination};var _o=function(z,ye,ze,et,pt){dr.push(new Yn),Rt=ce=0,Fe=[],ht=z,Mt=ye,tn=pt,_i([ze,et])};for(var Kn in x.beginFormObject=function(z,ye,ze,et,pt){return _o(z,ye,ze,et,pt),this},x.endFormObject=function(z){return(function(ye){if(Kt[ye])dr.pop().restore();else{var ze=new Yn,et="Xo"+(Object.keys(Dn).length+1).toString(10);ze.id=et,Kt[ye]=et,Dn[et]=ze,gn.publish("addFormObject",ze),dr.pop().restore()}})(z),this},x.doFormObject=function(z,ye){var ze=Dn[Kt[z]];return fe("q"),fe(ye.toString()+" cm"),fe("/"+ze.id+" Do"),fe("Q"),this},x.getFormObject=function(z){var ye=Dn[Kt[z]];return{x:ye.x,y:ye.y,width:ye.width,height:ye.height,matrix:ye.matrix}},x.save=function(z,ye){return z=z||"generated.pdf",(ye=ye||{}).returnPromise=ye.returnPromise||!1,ye.returnPromise===!1?(bl(jn(qi()),z),typeof bl.unload=="function"&&lr.setTimeout&&setTimeout(bl.unload,911),this):new Promise(function(ze,et){try{var pt=bl(jn(qi()),z);typeof bl.unload=="function"&&lr.setTimeout&&setTimeout(bl.unload,911),ze(pt)}catch($t){et($t.message)}})},qn.API)qn.API.hasOwnProperty(Kn)&&(Kn==="events"&&qn.API.events.length?(function(z,ye){var ze,et,pt;for(pt=ye.length-1;pt!==-1;pt--)ze=ye[pt][0],et=ye[pt][1],z.subscribe.apply(z,[ze].concat(typeof et=="function"?[et]:et))})(gn,qn.API.events):x[Kn]=qn.API[Kn]);function hi(z){return Gt[z].mediaBox.topRightX-Gt[z].mediaBox.bottomLeftX}function ua(z,ye){Gt[z].mediaBox.topRightX=ye+Gt[z].mediaBox.bottomLeftX}function bs(z){return Gt[z].mediaBox.topRightY-Gt[z].mediaBox.bottomLeftY}function Bi(z,ye){Gt[z].mediaBox.topRightY=ye+Gt[z].mediaBox.bottomLeftY}var no=x.getPageWidth=function(z){return hi(z=z||ce)/Ft},La=x.setPageWidth=function(z,ye){ua(z,ye*Ft)},ro=x.getPageHeight=function(z){return bs(z=z||ce)/Ft},ca=x.setPageHeight=function(z,ye){Bi(z,ye*Ft)};return x.internal={pdfEscape:gr,getStyle:Wi,getFont:Zi,getFontSize:nt,getCharSpace:os,getTextColor:to,getLineHeight:Sa,getLineHeightFactor:Ro,getLineWidth:Ca,write:tt,getHorizontalCoordinate:za,getVerticalCoordinate:Ea,getCoordinateString:cr,getVerticalCoordinateString:Ii,collections:{},newObject:zn,newAdditionalObject:Ri,newObjectDeferred:cn,newObjectDeferredBegin:Pr,getFilters:sr,putStream:fr,events:gn,scaleFactor:Ft,pageSize:{getWidth:function(){return no(ce)},setWidth:function(z){La(ce,z)},getHeight:function(){return ro(ce)},setHeight:function(z){ca(ce,z)}},encryptionOptions:y,encryption:Qr,getEncryptor:function(z){return y!==null?Qr.encryptor(z,0):function(ye){return ye}},output:Cr,getNumberOfPages:Gr,get pages(){return Fe},out:fe,f2:D,f3:U,getPageInfo:Hr,getPageInfoByObjId:vo,getCurrentPageInfo:yo,getPDFVersion:I,Point:ka,Rectangle:Fo,Matrix:mn,hasHotfix:ai},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return no(ce)},set:function(z){La(ce,z)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return ro(ce)},set:function(z){ca(ce,z)},enumerable:!0,configurable:!0}),(function(z){for(var ye=0,ze=At.length;ye<ze;ye++){var et=pr.call(this,z[ye][0],z[ye][1],z[ye][2],At[ye][3],!0);w===!1&&(k[et]=!0);var pt=z[ye][0].split("-");rr({id:et,fontName:pt[0],fontStyle:pt[1]||""})}gn.publish("addFonts",{fonts:fn,dictionary:Tt})}).call(x,At),Jt="F1",Sn(i,n),gn.publish("initialized"),x}iu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},iu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},iu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},iu.prototype.processOwnerPassword=function(e,t){return Uf(qf(t).substr(0,5),e)},iu.prototype.encryptor=function(e,t){var n=qf(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Uf(n,r)}},Lh.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Lr(e)!==Lr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},qn.API={events:[]},qn.version="3.0.4";var Vi=qn.API,Wp=1,Hl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},Js=function(e){return e.toFixed(5)};Vi.__acroform__={};var To=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Q0=function(e){return e*Wp},Cs=function(e){var t=new Ib,n=Rn.internal.getHeight(e)||0,r=Rn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(r)),Number(yr(n))],t},UO=Vi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},GO=Vi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},VO=Vi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Qi=Vi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VO(e,t-1)},ea=Vi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return UO(e,t-1)},ta=Vi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GO(e,t-1)},WO=Vi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],l=e[1],h=e[2],c=e[3],g={};return g.lowerLeft_X=n(i)||0,g.lowerLeft_Y=r(l+c)||0,g.upperRight_X=n(i+h)||0,g.upperRight_Y=r(l)||0,[Number(yr(g.lowerLeft_X)),Number(yr(g.lowerLeft_Y)),Number(yr(g.upperRight_X)),Number(yr(g.upperRight_Y))]},KO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Gf(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+yr(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=Cs(e);return l.scope=e.scope,l.stream=t.join(`
`),l}},Gf=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var l=n,h=Rn.internal.getHeight(e)||0;h=h<0?-h:h;var c=Rn.internal.getWidth(e)||0;c=c<0?-c:c;var g=function(D,U,te){if(D+1<i.length){var V=U+" "+i[D+1][0];return Uc(V,e,te).width<=c-4}return!1};l++;e:for(;l>0;){t="",l--;var v,y,w=Uc("3",e,l).height,k=e.multiline?h-l:(h-w)/2,x=k+=2,N=0,I=0,O=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+Uc(t,e,l=12).width+", FieldWidth:"+c+`
`;break}for(var T="",F=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var $=!1;if(i[R].length!==1&&O!==i[R].length-1){if((w+2)*(F+2)+2>h)continue e;T+=i[R][O],$=!0,I=R,R--}else{T=(T+=i[R][O]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var G=parseInt(R),Q=g(G,T,l),ee=R>=i.length-1;if(Q&&!ee){T+=" ",O=0;continue}if(Q||ee){if(ee)I=G;else if(e.multiline&&(w+2)*(F+2)+2>h)continue e}else{if(!e.multiline||(w+2)*(F+2)+2>h)continue e;I=G}}for(var Y="",q=N;q<=I;q++){var oe=i[q];if(e.multiline){if(q===I){Y+=oe[O]+" ",O=(O+1)%oe.length;continue}if(q===N){Y+=oe[oe.length-1]+" ";continue}}Y+=oe[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,y=Uc(Y,e,l).width,e.textAlign){case"right":v=c-y-2;break;case"center":v=(c-y)/2;break;default:v=2}t+=yr(v)+" "+yr(x)+` Td
`,t+="("+Hl(Y)+`) Tj
`,t+=-yr(v)+` 0 Td
`,x=-(l+2),y=0,N=$?I:I+1,F++,T=""}break}return r.text=t,r.fontSize=l,r},Uc=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},XO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZO=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},YO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ys.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(XO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Wp=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ob,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var l=r[i];l.objId=void 0,l.hasAnnotation&&ZO(l,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var l=!r;for(var h in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(h)){var c=r[h],g=[],v=c.Rect;if(c.Rect&&(c.Rect=WO(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Rn.createDefaultAppearanceStream(c),Lr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(g=c.getKeyValueListForStream()),c.Rect=v,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=KO(c);g.push({key:"AP",value:"<</N "+y+">>"}),i.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var w="";for(var k in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(k)){var x=c.appearanceStreamContent[k];if(w+="/"+k+" ",w+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var h in x)if(x.hasOwnProperty(h)){var N=x[h];typeof N=="function"&&(N=N.call(i,c)),w+="/"+h+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=x)=="function"&&(N=N.call(i,c)),w+="/"+h+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);w+=">>"}g.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:g,objectId:c.objId}),i.internal.out("endobj")}l&&(function(I,O){for(var T in I)if(I.hasOwnProperty(T)){var F=T,R=I[T];O.internal.newObjectDeferredBegin(R.objId,!0),Lr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete I[F]}})(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Pb=Vi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(h){return h};if(Array.isArray(e)){for(var i="[",l=0;l<e.length;l++)switch(l!==0&&(i+=" "),Lr(e[l])){case"boolean":case"number":case"object":i+=e[l].toString();break;case"string":e[l].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Hl(r(e[l].toString()))+")"):i+=e[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nf=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Hl(r(e))+")"},Ss=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ss.prototype.toString=function(){return this.objId+" 0 R"},Ss.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ss.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Pb(i,this.objId,this.scope)}):i instanceof Ss?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Ib=function(){Ss.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};To(Ib,Ss);var Ob=function(){Ss.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hl(n(e))+")"}},set:function(n){e=n}})};To(Ob,Ss);var ys=function e(){Ss.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');t=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(t,3)},set:function(T){T?this.F=ea(t,3):this.F=ta(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');n=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Nh)return;l="FieldObject"+e.FieldNum++}var T=function(F){return F};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Hl(T(l))+")"},set:function(T){l=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(T){l=T}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(T){g=T}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/Wp:v},set:function(T){v=T}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(T){y=T}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Nh||this instanceof Ll))return nf(w,this.objId,this.scope)},set:function(T){T=T.toString(),w=T}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof Ta==0?nf(k,this.objId,this.scope):k},set:function(T){T=T.toString(),k=this instanceof Ta==0?T.substr(0,1)==="("?nu(T.substr(1,T.length-2)):nu(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?nu(k.substr(1,k.length-1)):k},set:function(T){T=T.toString(),k=this instanceof Ta==1?"/"+T:T}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ta==0?nf(x,this.objId,this.scope):x},set:function(T){T=T.toString(),x=this instanceof Ta==0?T.substr(0,1)==="("?nu(T.substr(1,T.length-2)):nu(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?nu(x.substr(1,x.length-1)):x},set:function(T){T=T.toString(),x=this instanceof Ta==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(T){T=!!T,I=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(T){N=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(T){T?this.Ff=ea(this.Ff,1):this.Ff=ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(T){T?this.Ff=ea(this.Ff,2):this.Ff=ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(T){T?this.Ff=ea(this.Ff,3):this.Ff=ta(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');O=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(O){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:O=2;break;case"center":case 1:O=1;break;default:O=0}}})};To(ys,Ss);var cu=function(){ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pb(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(l,h,c){c||(c=1);for(var g,v=[];g=h.exec(l);)v.push(g[c]);return v})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(n){n?this.Ff=ea(this.Ff,18):this.Ff=ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ea(this.Ff,19):this.Ff=ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(n){n?(this.Ff=ea(this.Ff,20),t.sort()):this.Ff=ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(n){n?this.Ff=ea(this.Ff,22):this.Ff=ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(n){n?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(n){n?this.Ff=ea(this.Ff,27):this.Ff=ta(this.Ff,27)}}),this.hasAppearanceStream=!1};To(cu,ys);var hu=function(){cu.call(this),this.fontName="helvetica",this.combo=!1};To(hu,cu);var du=function(){hu.call(this),this.combo=!0};To(du,hu);var nh=function(){du.call(this),this.edit=!0};To(nh,du);var Ta=function(){ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(n){n?this.Ff=ea(this.Ff,15):this.Ff=ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(n){n?this.Ff=ea(this.Ff,16):this.Ff=ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(n){n?this.Ff=ea(this.Ff,17):this.Ff=ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(n){n?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Hl(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Lr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};To(Ta,ys);var rh=function(){Ta.call(this),this.pushButton=!0};To(rh,Ta);var fu=function(){Ta.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};To(fu,Ta);var Nh=function(){var e,t;ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,h=[];for(l in h.push("<<"),r)h.push("/"+l+" ("+Hl(i(r[l]))+")");return h.push(">>"),h.join(`
`)},set:function(i){Lr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};To(Nh,ys),fu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},fu.prototype.createOption=function(e){var t=new Nh;return t.Parent=this,t.optionName=e,this.Kids.push(t),JO.call(this.scope,t),t};var ih=function(){Ta.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rn.CheckBox.createAppearanceStream()};To(ih,Ta);var Ll=function(){ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(t){t?this.Ff=ea(this.Ff,13):this.Ff=ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(t){t?this.Ff=ea(this.Ff,21):this.Ff=ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(t){t?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(t){t?this.Ff=ea(this.Ff,24):this.Ff=ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(t){t?this.Ff=ea(this.Ff,25):this.Ff=ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(t){t?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};To(Ll,ys);var ah=function(){Ll.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(e){e?this.Ff=ea(this.Ff,14):this.Ff=ta(this.Ff,14)}}),this.password=!0};To(ah,Ll);var Rn={CheckBox:{createAppearanceStream:function(){return{N:{On:Rn.CheckBox.YesNormal},D:{On:Rn.CheckBox.YesPushDown,Off:Rn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),l=Gf(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+yr(l.fontSize)+" Tf "+i),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Cs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],l=Rn.internal.getHeight(e),h=Rn.internal.getWidth(e),c=Gf(e,e.caption);return i.push("1 g"),i.push("0 0 "+yr(h)+" "+yr(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yr(h-1)+" "+yr(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+yr(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rn.RadioButton.Circle.YesNormal,t.D[e]=Rn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Rn.internal.Bezier_C,l=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),l=Number((i*Rn.internal.Bezier_C).toFixed(5)),h=Number((r*Rn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+h+" "+h+" "+r+" 0 "+r+" c"),n.push("-"+h+" "+r+" -"+r+" "+h+" -"+r+" 0 c"),n.push("-"+r+" -"+h+" -"+h+" -"+r+" 0 -"+r+" c"),n.push(h+" -"+r+" "+r+" -"+h+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),l=Number((i*Rn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Js(Rn.internal.getWidth(e)/2)+" "+Js(Rn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rn.RadioButton.Cross.YesNormal,t.D[e]=Rn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Cs(e);t.scope=e.scope;var n=[],r=Rn.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+yr(Rn.internal.getWidth(e)-2)+" "+yr(Rn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=Rn.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+yr(Rn.internal.getWidth(e)-2)+" "+yr(Rn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Cs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Rn.internal.getWidth(e))+" "+yr(Rn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Rn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rn.internal.getWidth(e),n=Rn.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Rn.internal.getWidth=function(e){var t=0;return Lr(e)==="object"&&(t=Q0(e.Rect[2])),t},Rn.internal.getHeight=function(e){var t=0;return Lr(e)==="object"&&(t=Q0(e.Rect[3])),t};var JO=Vi.addField=function(e){if(YO(this,e),!(e instanceof ys))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Vi.AcroFormChoiceField=cu,Vi.AcroFormListBox=hu,Vi.AcroFormComboBox=du,Vi.AcroFormEditBox=nh,Vi.AcroFormButton=Ta,Vi.AcroFormPushButton=rh,Vi.AcroFormRadioButton=fu,Vi.AcroFormCheckBox=ih,Vi.AcroFormTextField=Ll,Vi.AcroFormPasswordField=ah,Vi.AcroFormAppearance=Rn,Vi.AcroForm={ChoiceField:cu,ListBox:hu,ComboBox:du,EditBox:nh,Button:Ta,PushButton:rh,RadioButton:fu,CheckBox:ih,TextField:Ll,PasswordField:ah,Appearance:Rn},qn.AcroForm={ChoiceField:cu,ListBox:hu,ComboBox:du,EditBox:nh,Button:Ta,PushButton:rh,RadioButton:fu,CheckBox:ih,TextField:Ll,PasswordField:ah,Appearance:Rn};qn.AcroForm;function Ab(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(D,U){var te,V,J,ie,le,ue=n;if((U=U||n)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(Q(D))for(le in r)for(J=r[le],te=0;te<J.length;te+=1){for(ie=!0,V=0;V<J[te].length;V+=1)if(J[te][V]!==void 0&&J[te][V]!==D[V]){ie=!1;break}if(ie===!0){ue=le;break}}else for(le in r)for(J=r[le],te=0;te<J.length;te+=1){for(ie=!0,V=0;V<J[te].length;V+=1)if(J[te][V]!==void 0&&J[te][V]!==D.charCodeAt(V)){ie=!1;break}if(ie===!0){ue=le;break}}return ue===n&&U!==n&&(ue=U),ue},l=function D(U){for(var te=this.internal.write,V=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:U.width}),ie.push({key:"Height",value:U.height}),U.colorSpace===T.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===T.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var le="",ue=0,be=U.transparency.length;ue<be;ue++)le+=U.transparency[ue]+" "+U.transparency[ue]+" ";ie.push({key:"Mask",value:"["+le+"]"})}U.sMask!==void 0&&ie.push({key:"SMask",value:U.objectId+1+" 0 R"});var Le=U.filter!==void 0?["/"+U.filter]:void 0;if(V({data:U.data,additionalKeyValues:ie,alreadyAppliedFilters:Le,objectId:U.objectId}),te("endobj"),"sMask"in U&&U.sMask!==void 0){var Re,ne=(Re=U.sMaskBitsPerComponent)!==null&&Re!==void 0?Re:U.bitsPerComponent,ce={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:ne,data:U.sMask};"filter"in U&&(ce.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(ne," /Columns ").concat(U.width),ce.filter=U.filter),D.call(this,ce)}if(U.colorSpace===T.INDEXED){var me=this.internal.newObject();V({data:Y(new Uint8Array(U.palette)),objectId:me}),te("endobj")}},h=function(){var D=this.internal.collections[t+"images"];for(var U in D)l.call(this,D[U])},c=function(){var D,U=this.internal.collections[t+"images"],te=this.internal.write;for(var V in U)te("/I"+(D=U[V]).index,D.objectId,"0","R")},g=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},v=function(){var D=this.internal.collections[t+"images"];return g.call(this),D},y=function(){return Object.keys(this.internal.collections[t+"images"]).length},w=function(D){return typeof e["process"+D.toUpperCase()]=="function"},k=function(D){return Lr(D)==="object"&&D.nodeType===1},x=function(D,U){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var te=""+D.getAttribute("src");if(te.indexOf("data:image/")===0)return th(unescape(te).split("base64,").pop());var V=e.loadFile(te,!0);if(V!==void 0)return V}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var J;switch(U){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;default:J="image/jpeg"}return th(D.toDataURL(J,1).split("base64,").pop())}},N=function(D){var U=this.internal.collections[t+"images"];if(U){for(var te in U)if(D===U[te].alias)return U[te]}},I=function(D,U,te){return D||U||(D=-96,U=-96),D<0&&(D=-1*te.width*72/D/this.internal.scaleFactor),U<0&&(U=-1*te.height*72/U/this.internal.scaleFactor),D===0&&(D=U*te.width/te.height),U===0&&(U=D*te.height/te.width),[D,U]},O=function(D,U,te,V,J,ie){var le=I.call(this,te,V,J),ue=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Le=v.call(this);if(te=le[0],V=le[1],Le[J.index]=J,ie){ie*=Math.PI/180;var Re=Math.cos(ie),ne=Math.sin(ie),ce=function(we){return we.toFixed(4)},me=[ce(Re),ce(ne),ce(-1*ne),ce(Re),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ue(D),be(U+V),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([ue(te),"0","0",ue(V),"0","0","cm"].join(" "))):this.internal.write([ue(te),"0","0",ue(V),ue(D),be(U+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},T=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=e.__addimage__.sHashCode=function(D){var U,te,V=0;if(typeof D=="string")for(te=D.length,U=0;U<te;U++)V=(V<<5)-V+D.charCodeAt(U),V|=0;else if(Q(D))for(te=D.byteLength/2,U=0;U<te;U++)V=(V<<5)-V+D[U],V|=0;return V},$=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var U=!0;return D.length===0&&(U=!1),D.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(U=!1),U},G=e.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var U=D.indexOf(",");return U<0?null:D.substring(0,U).trim().endsWith("base64")?D.substring(U+1):null};e.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var Q=e.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},ee=e.__addimage__.binaryStringToUint8Array=function(D){for(var U=D.length,te=new Uint8Array(U),V=0;V<U;V++)te[V]=D.charCodeAt(V);return te},Y=e.__addimage__.arrayBufferToBinaryString=function(D){for(var U="",te=Q(D)?D:new Uint8Array(D),V=0;V<te.length;V+=8192)U+=String.fromCharCode.apply(null,te.subarray(V,V+8192));return U};e.addImage=function(){var D,U,te,V,J,ie,le,ue,be;if(typeof arguments[1]=="number"?(U=n,te=arguments[1],V=arguments[2],J=arguments[3],ie=arguments[4],le=arguments[5],ue=arguments[6],be=arguments[7]):(U=arguments[1],te=arguments[2],V=arguments[3],J=arguments[4],ie=arguments[5],le=arguments[6],ue=arguments[7],be=arguments[8]),Lr(D=arguments[0])==="object"&&!k(D)&&"imageData"in D){var Le=D;D=Le.imageData,U=Le.format||U||n,te=Le.x||te||0,V=Le.y||V||0,J=Le.w||Le.width||J,ie=Le.h||Le.height||ie,le=Le.alias||le,ue=Le.compression||ue,be=Le.rotation||Le.angle||be}var Re=this.internal.getFilters();if(ue===void 0&&Re.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(te)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var ne=q.call(this,D,U,le,ue);return O.call(this,te,V,J,ie,ne,be),this};var q=function(D,U,te,V){var J,ie,le;if(typeof D=="string"&&i(D)===n){D=unescape(D);var ue=oe(D,!1);(ue!==""||(ue=e.loadFile(D,!0))!==void 0)&&(D=ue)}if(k(D)&&(D=x(D,U)),U=i(D,U),!w(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((le=te)==null||le.length===0)&&(te=(function(be){return typeof be=="string"||Q(be)?R(be):Q(be.data)?R(be.data):null})(D)),(J=N.call(this,te))||(D instanceof Uint8Array||U==="RGBA"||(ie=D,D=ee(D)),J=this["process"+U.toUpperCase()](D,y.call(this),te,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in e.image_compression?be:F.NONE})(V),ie)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},oe=e.__addimage__.convertBase64ToBinaryString=function(D,U){U=typeof U!="boolean"||U;var te,V="";if(typeof D=="string"){var J;te=(J=G(D))!==null&&J!==void 0?J:D;try{V=th(te)}catch(ie){if(U)throw $(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(D){var U,te,V="";if(k(D)&&(D=x(D)),typeof D=="string"&&i(D)===n&&((V=oe(D,!1))===""&&(V=e.loadFile(D)||""),D=V),te=i(D),!w(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(D instanceof Uint8Array||(D=ee(D)),!(U=this["process"+te.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=te,U}})(qn.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};qn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,l,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(n.objId),v=n.pageContext.annotations,y=!1,w=0;w<v.length&&!y;w++)switch((r=v[w]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var k=0;k<v.length;k++){r=v[k];var x=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(I.objId),F=r.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+x(T(r.contents))+")",l+=" /Popup "+O.objId+" 0 R",l+=" /P "+g.objId+" 0 R",l+=" /T ("+x(T(F))+") >>",I.content=l;var R=I.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+h(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(l+=" /Open true"),l+=" >>",O.content=l,this.internal.write(I.objId,"0 R",O.objId,"0 R");break;case"freetext":i="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var $=r.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(N(r.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(r.options.name){var G=this.annotations._nameMap[r.options.name];r.options.pageNumber=G.page,r.options.top=G.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",l="",r.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,l+=" /FitV "+r.options.left+"]";break;default:var Q=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),l+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,l,h){var c=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:g(n),y:v(r),w:g(n+i),h:v(r+l)},options:h,type:"link"})},e.textWithLink=function(n,r,i,l){var h,c,g=this.getTextWidth(n),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){c=l.maxWidth;var y=this.splitTextToSize(n,c).length;h=Math.ceil(v*y)}else c=g,h=v;return this.text(n,r,i,l),i+=.2*v,l.align==="center"&&(r-=g/2),l.align==="right"&&(r-=g),this.link(r,i-v,c,h,l),g},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(qn.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},h=e.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},c=e.__arabicParser__.isArabicEndLetter=function(I){return h(I)&&l(I)&&t[I.charCodeAt(0)].length<=2},g=e.__arabicParser__.isArabicAlfLetter=function(I){return h(I)&&i.indexOf(I.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return h(I)&&l(I)&&t[I.charCodeAt(0)].length>=1};var v=e.__arabicParser__.arabicLetterHasFinalForm=function(I){return h(I)&&l(I)&&t[I.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(I){return h(I)&&l(I)&&t[I.charCodeAt(0)].length>=3};var y=e.__arabicParser__.arabicLetterHasMedialForm=function(I){return h(I)&&l(I)&&t[I.charCodeAt(0)].length==4},w=e.__arabicParser__.resolveLigatures=function(I){var O=0,T=n,F="",R=0;for(O=0;O<I.length;O+=1)T[I.charCodeAt(O)]!==void 0?(R++,typeof(T=T[I.charCodeAt(O)])=="number"&&(F+=String.fromCharCode(T),T=n,R=0),O===I.length-1&&(T=n,F+=I.charAt(O-(R-1)),O-=R-1,R=0)):(T=n,F+=I.charAt(O-R),O-=R,R=0);return F};e.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var k=e.__arabicParser__.getCorrectForm=function(I,O,T){return h(I)?l(I)===!1?-1:!v(I)||!h(O)&&!h(T)||!h(T)&&c(O)||c(I)&&!h(O)||c(I)&&g(O)||c(I)&&c(O)?0:y(I)&&h(O)&&!c(O)&&h(T)&&v(T)?3:c(I)||!h(T)?1:2:-1},x=function(I){var O=0,T=0,F=0,R="",$="",G="",Q=(I=I||"").split("\\s+"),ee=[];for(O=0;O<Q.length;O+=1){for(ee.push(""),T=0;T<Q[O].length;T+=1)R=Q[O][T],$=Q[O][T-1],G=Q[O][T+1],h(R)?(F=k(R,$,G),ee[O]+=F!==-1?String.fromCharCode(t[R.charCodeAt(0)][F]):R):ee[O]+=R;ee[O]=w(ee[O])}return ee.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var I,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(O)){var F=0;for(T=[],F=0;F<O.length;F+=1)Array.isArray(O[F])?T.push([x(O[F][0]),O[F][1],O[F][2]]):T.push([x(O[F])]);I=T}else I=x(O);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};e.events.push(["preProcessText",N])})(qn.API),qn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(c){l=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(qn.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(I){y=I}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(I){w=I}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(I){k=I}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(I){x=I}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(I){N=I}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(g){return r.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},e.getTextDimensions=function(g,v){r.call(this);var y=(v=v||{}).fontSize||this.getFontSize(),w=v.font||this.getFont(),k=v.scaleFactor||this.internal.scaleFactor,x=0,N=0,I=0,O=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var T=v.maxWidth;T>0?typeof g=="string"?g=this.splitTextToSize(g,T):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(R,$){return R.concat(O.splitTextToSize($,T))},[])):g=Array.isArray(g)?g:[g];for(var F=0;F<g.length;F++)x<(I=this.getStringUnitWidth(g[F],{font:w})*y)&&(x=I);return x!==0&&(N=g.length),{w:x/=k,h:Math.max((N*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/k,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var g=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=e.cell=function(){var g;g=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var v=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,k=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===g.lineNumber?(g.x=(v.x||0)+(v.width||0),g.y=v.y||0):v.y+v.height+g.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=w.top,x&&k&&(this.printHeaderRow(g.lineNumber,!0),g.y+=k[0].height)):g.y=v.y+v.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,n===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-y,g.y+y,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+y,{align:"center",baseline:"top",maxWidth:g.width-y-y}):this.text(g.text,g.x+y,g.y+y,{align:"left",baseline:"top",maxWidth:g.width-y-y})),this.internal.__cell__.lastCell=g,this};e.table=function(g,v,y,w,k){if(r.call(this),!y)throw new Error("No data for PDF table.");var x,N,I,O,T=[],F=[],R=[],$={},G={},Q=[],ee=[],Y=(k=k||{}).autoSize||!1,q=k.printHeaders!==!1,oe=k.css&&k.css["font-size"]!==void 0?16*k.css["font-size"]:k.fontSize||12,D=k.margins||Object.assign({width:this.getPageWidth()},t),U=typeof k.padding=="number"?k.padding:3,te=k.headerBackgroundColor||"#c8c8c8",V=k.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=V,this.setFontSize(oe),w==null)F=T=Object.keys(y[0]),R=T.map(function(){return"left"});else if(Array.isArray(w)&&Lr(w[0])==="object")for(T=w.map(function(Le){return Le.name}),F=w.map(function(Le){return Le.prompt||Le.name||""}),R=w.map(function(Le){return Le.align||"left"}),x=0;x<w.length;x+=1)G[w[x].name]=.7499990551181103*w[x].width;else Array.isArray(w)&&typeof w[0]=="string"&&(F=T=w,R=T.map(function(){return"left"}));if(Y||Array.isArray(w)&&typeof w[0]=="string")for(x=0;x<T.length;x+=1){for($[O=T[x]]=y.map(function(Le){return Le[O]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(F[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=$[O],this.setFont(void 0,"normal"),I=0;I<N.length;I+=1)Q.push(this.getTextDimensions(N[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[O]=Math.max.apply(null,Q)+U+U,Q=[]}if(q){var J={};for(x=0;x<T.length;x+=1)J[T[x]]={},J[T[x]].text=F[x],J[T[x]].align=R[x];var ie=c.call(this,J,G);ee=T.map(function(Le){return new l(g,v,G[Le],ie,J[Le].text,void 0,J[Le].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var le=w.reduce(function(Le,Re){return Le[Re.name]=Re.align,Le},{});for(x=0;x<y.length;x+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:x,data:y[x]},this);var ue=c.call(this,y[x],G);for(I=0;I<T.length;I+=1){var be=y[x][T[I]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:x,col:I,data:be},this),h.call(this,new l(g,v,G[T[I]],ue,be,x+2,le[T[I]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=v,this};var c=function(g,v){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(g).map(function(x){var N=g[x];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,v[x]-y-y)},this).map(function(x){return this.getLineHeightFactor()*x.length*w/k+y+y},this).reduce(function(x,N){return Math.max(x,N)},0)};e.setTableHeaderRow=function(g){r.call(this),this.internal.__cell__.tableHeaderRow=g},e.printHeaderRow=function(g,v){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){y=this.internal.__cell__.tableHeaderRow[x].clone(),v&&(y.y=this.internal.__cell__.margins.top||0,k.push(y)),y.lineNumber=g;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,y),this.setTextColor(N)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),n=!1}})(qn.API);var Tb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Vf=Ab(Rb),Bb=[100,200,300,400,500,600,700,800,900],QO=Ab(Bb);function rf(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(l){return Tb[l=l||"normal"]?l:"normal"})(e.style),r=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(e.weight),i=(function(l){return typeof Vf[l=l||"normal"]=="number"?l:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function ev(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var e6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function rv(e){return e.trimLeft()}function t6(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function n6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Gc,iv,av,ru,Vc,ov,sv,lv,af=["times"];function uv(e,t,n,r,i){var l=4,h=hv;switch(i){case qn.API.image_compression.FAST:l=1,h=cv;break;case qn.API.image_compression.MEDIUM:l=6,h=dv;break;case qn.API.image_compression.SLOW:l=9,h=fv}e=(function(g,v,y,w){for(var k,x=g.length/v,N=new Uint8Array(g.length+x),I=[r6,cv,hv,dv,fv],O=0;O<x;O+=1){var T=O*v,F=g.subarray(T,T+v);if(w)N.set(w(F,y,k),T+O);else{for(var R=I.length,$=[],G=0;G<R;G+=1)$[G]=I[G](F,y,k);var Q=a6($.concat());N.set($[Q],T+O)}k=F}return N})(e,t,Math.ceil(n*r/8),h);var c=Ff(e,{level:l});return qn.API.__addimage__.arrayBufferToBinaryString(c)}function r6(e){var t=Array.apply([],e);return t.unshift(0),t}function cv(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var l=e[i-t]||0;r[i+1]=e[i]-l+256&255}return r}function hv(e,t,n){var r=e.length,i=[];i[0]=2;for(var l=0;l<r;l+=1){var h=n&&n[l]||0;i[l+1]=e[l]-h+256&255}return i}function dv(e,t,n){var r=e.length,i=[];i[0]=3;for(var l=0;l<r;l+=1){var h=e[l-t]||0,c=n&&n[l]||0;i[l+1]=e[l]+256-(h+c>>>1)&255}return i}function fv(e,t,n){var r=e.length,i=[];i[0]=4;for(var l=0;l<r;l+=1){var h=i6(e[l-t]||0,n&&n[l]||0,n&&n[l-t]||0);i[l+1]=e[l]-h+256&255}return i}function i6(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),l=Math.abs(e+t-n-n);return r<=i&&r<=l?e:i<=l?t:n}function a6(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function of(e,t,n){var r=t*n,i=Math.floor(r/8),l=16-(r-8*i+n),h=(1<<n)-1;return Db(e,i)>>l&h}function pv(e,t,n,r){var i=n*r,l=Math.floor(i/8),h=16-(i-8*l+r),c=(1<<r)-1,g=(t&c)<<h;(function(v,y,w){if(y+1<v.byteLength)v.setUint16(y,w,!1);else{var k=w>>8&255;v.setUint8(y,k)}})(e,l,Db(e,l)&~(c<<h)&65535|g)}function Db(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function o6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],l=i>>7,h=1<<1+(7&i);e[t++],e[t++];var c=null,g=null;l&&(c=t,g=h,t+=3*h);var v=!0,y=[],w=0,k=null,x=0,N=null;for(this.width=n,this.height=r;v&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=e[t++];w=e[t++]|e[t++]<<8,k=e[t++],1&I||(k=null),x=I>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var O=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,$=e[t++],G=$>>6&1,Q=1<<1+(7&$),ee=c,Y=g,q=!1;$>>7&&(q=!0,ee=t,Y=Q,t+=3*Q);var oe=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}y.push({x:O,y:T,width:F,height:R,has_local_palette:q,palette_offset:ee,palette_size:Y,data_offset:oe,data_length:t-oe,transparent_index:k,interlaced:!!G,delay:w,disposal:x});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return N},this.frameInfo=function(U){if(U<0||U>=y.length)throw new Error("Frame index out of range.");return y[U]},this.decodeAndBlitFrameBGRA=function(U,te){var V=this.frameInfo(U),J=V.width*V.height,ie=new Uint8Array(J);gv(e,V.data_offset,ie,J);var le=V.palette_offset,ue=V.transparent_index;ue===null&&(ue=256);var be=V.width,Le=n-be,Re=be,ne=4*(V.y*n+V.x),ce=4*((V.y+V.height)*n+V.x),me=ne,we=4*Le;V.interlaced===!0&&(we+=4*n*7);for(var ke=8,Be=0,he=ie.length;Be<he;++Be){var qe=ie[Be];if(Re===0&&(Re=be,(me+=we)>=ce&&(we=4*Le+4*n*(ke-1),me=ne+(be+Le)*(ke<<1),ke>>=1)),qe===ue)me+=4;else{var We=e[le+3*qe],Fe=e[le+3*qe+1],de=e[le+3*qe+2];te[me++]=de,te[me++]=Fe,te[me++]=We,te[me++]=255}--Re}},this.decodeAndBlitFrameRGBA=function(U,te){var V=this.frameInfo(U),J=V.width*V.height,ie=new Uint8Array(J);gv(e,V.data_offset,ie,J);var le=V.palette_offset,ue=V.transparent_index;ue===null&&(ue=256);var be=V.width,Le=n-be,Re=be,ne=4*(V.y*n+V.x),ce=4*((V.y+V.height)*n+V.x),me=ne,we=4*Le;V.interlaced===!0&&(we+=4*n*7);for(var ke=8,Be=0,he=ie.length;Be<he;++Be){var qe=ie[Be];if(Re===0&&(Re=be,(me+=we)>=ce&&(we=4*Le+4*n*(ke-1),me=ne+(be+Le)*(ke<<1),ke>>=1)),qe===ue)me+=4;else{var We=e[le+3*qe],Fe=e[le+3*qe+1],de=e[le+3*qe+2];te[me++]=We,te[me++]=Fe,te[me++]=de,te[me++]=255}--Re}}}function gv(e,t,n,r){for(var i=e[t++],l=1<<i,h=l+1,c=h+1,g=i+1,v=(1<<g)-1,y=0,w=0,k=0,x=e[t++],N=new Int32Array(4096),I=null;;){for(;y<16&&x!==0;)w|=e[t++]<<y,y+=8,x===1?x=e[t++]:--x;if(y<g)break;var O=w&v;if(w>>=g,y-=g,O!==l){if(O===h)break;for(var T=O<c?O:I,F=0,R=T;R>l;)R=N[R]>>8,++F;var $=R;if(k+F+(T!==O?1:0)>r)return void vi.log("Warning, gif stream longer than expected.");n[k++]=$;var G=k+=F;for(T!==O&&(n[k++]=$),R=T;F--;)R=N[R],n[--G]=255&R,R>>=8;I!==null&&c<4096&&(N[c++]=I<<8|$,c>=v+1&&g<12&&(++g,v=v<<1|1)),I=O}else c=h+1,v=(1<<(g=i+1))-1,I=null}return k!==r&&vi.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function sf(e){var t,n,r,i,l,h=Math.floor,c=new Array(64),g=new Array(64),v=new Array(64),y=new Array(64),w=new Array(65535),k=new Array(65535),x=new Array(64),N=new Array(64),I=[],O=0,T=7,F=new Array(64),R=new Array(64),$=new Array(64),G=new Array(256),Q=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(ne,ce){for(var me=0,we=0,ke=new Array,Be=1;Be<=16;Be++){for(var he=1;he<=ne[Be];he++)ke[ce[we]]=[],ke[ce[we]][0]=me,ke[ce[we]][1]=Be,we++,me++;me*=2}return ke}function le(ne){for(var ce=ne[0],me=ne[1]-1;me>=0;)ce&1<<me&&(O|=1<<T),me--,--T<0&&(O==255?(ue(255),ue(0)):ue(O),T=7,O=0)}function ue(ne){I.push(ne)}function be(ne){ue(ne>>8&255),ue(255&ne)}function Le(ne,ce,me,we,ke){for(var Be,he=ke[0],qe=ke[240],We=(function(Xe,Xt){var nt,mt,wt,Et,Zt,nn,dn,Dt,Jt,Ft,ht=0;for(Jt=0;Jt<8;++Jt){nt=Xe[ht],mt=Xe[ht+1],wt=Xe[ht+2],Et=Xe[ht+3],Zt=Xe[ht+4],nn=Xe[ht+5],dn=Xe[ht+6];var Mt=nt+(Dt=Xe[ht+7]),tn=nt-Dt,fn=mt+dn,Tt=mt-dn,zt=wt+nn,jt=wt-nn,ln=Et+Zt,an=Et-Zt,hn=Mt+ln,Bn=Mt-ln,Rt=fn+zt,Gt=fn-zt;Xe[ht]=hn+Rt,Xe[ht+4]=hn-Rt;var gn=.707106781*(Gt+Bn);Xe[ht+2]=Bn+gn,Xe[ht+6]=Bn-gn;var An=.382683433*((hn=an+jt)-(Gt=Tt+tn)),Dn=.5411961*hn+An,Kt=1.306562965*Gt+An,dr=.707106781*(Rt=jt+Tt),mn=tn+dr,br=tn-dr;Xe[ht+5]=br+Dn,Xe[ht+3]=br-Dn,Xe[ht+1]=mn+Kt,Xe[ht+7]=mn-Kt,ht+=8}for(ht=0,Jt=0;Jt<8;++Jt){nt=Xe[ht],mt=Xe[ht+8],wt=Xe[ht+16],Et=Xe[ht+24],Zt=Xe[ht+32],nn=Xe[ht+40],dn=Xe[ht+48];var Un=nt+(Dt=Xe[ht+56]),ur=nt-Dt,Tr=mt+dn,zn=mt-dn,cn=wt+nn,Pr=wt-nn,Ri=Et+Zt,Nn=Et-Zt,Gn=Un+Ri,wn=Un-Ri,nr=Tr+cn,sr=Tr-cn;Xe[ht]=Gn+nr,Xe[ht+32]=Gn-nr;var fr=.707106781*(sr+wn);Xe[ht+16]=wn+fr,Xe[ht+48]=wn-fr;var wr=.382683433*((Gn=Nn+Pr)-(sr=zn+ur)),Nr=.5411961*Gn+wr,Si=1.306562965*sr+wr,yi=.707106781*(nr=Pr+zn),mr=ur+yi,Hi=ur-yi;Xe[ht+40]=Hi+Nr,Xe[ht+24]=Hi-Nr,Xe[ht+8]=mr+Si,Xe[ht+56]=mr-Si,ht++}for(Jt=0;Jt<64;++Jt)Ft=Xe[Jt]*Xt[Jt],x[Jt]=Ft>0?Ft+.5|0:Ft-.5|0;return x})(ne,ce),Fe=0;Fe<64;++Fe)N[ee[Fe]]=We[Fe];var de=N[0]-me;me=N[0],de==0?le(we[0]):(le(we[k[Be=32767+de]]),le(w[Be]));for(var it=63;it>0&&N[it]==0;)it--;if(it==0)return le(he),me;for(var ft,fe=1;fe<=it;){for(var tt=fe;N[fe]==0&&fe<=it;)++fe;var kt=fe-tt;if(kt>=16){ft=kt>>4;for(var At=1;At<=ft;++At)le(qe);kt&=15}Be=32767+N[fe],le(ke[(kt<<4)+k[Be]]),le(w[Be]),fe++}return it!=63&&le(he),me}function Re(ne){ne=Math.min(Math.max(ne,1),100),l!=ne&&((function(ce){for(var me=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],we=0;we<64;we++){var ke=h((me[we]*ce+50)/100);ke=Math.min(Math.max(ke,1),255),c[ee[we]]=ke}for(var Be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var qe=h((Be[he]*ce+50)/100);qe=Math.min(Math.max(qe,1),255),g[ee[he]]=qe}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,de=0;de<8;de++)for(var it=0;it<8;it++)v[Fe]=1/(c[ee[Fe]]*We[de]*We[it]*8),y[Fe]=1/(g[ee[Fe]]*We[de]*We[it]*8),Fe++})(ne<50?Math.floor(5e3/ne):Math.floor(200-2*ne)),l=ne)}this.encode=function(ne,ce){ce&&Re(ce),I=new Array,O=0,T=7,be(65496),be(65504),be(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),be(1),be(1),ue(0),ue(0),(function(){be(65499),be(132),ue(0);for(var mt=0;mt<64;mt++)ue(c[mt]);ue(1);for(var wt=0;wt<64;wt++)ue(g[wt])})(),(function(mt,wt){be(65472),be(17),ue(8),be(wt),be(mt),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(ne.width,ne.height),(function(){be(65476),be(418),ue(0);for(var mt=0;mt<16;mt++)ue(Y[mt+1]);for(var wt=0;wt<=11;wt++)ue(q[wt]);ue(16);for(var Et=0;Et<16;Et++)ue(oe[Et+1]);for(var Zt=0;Zt<=161;Zt++)ue(D[Zt]);ue(1);for(var nn=0;nn<16;nn++)ue(U[nn+1]);for(var dn=0;dn<=11;dn++)ue(te[dn]);ue(17);for(var Dt=0;Dt<16;Dt++)ue(V[Dt+1]);for(var Jt=0;Jt<=161;Jt++)ue(J[Jt])})(),be(65498),be(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var me=0,we=0,ke=0;O=0,T=7,this.encode.displayName="_encode_";for(var Be,he,qe,We,Fe,de,it,ft,fe,tt=ne.data,kt=ne.width,At=ne.height,Xe=4*kt,Xt=0;Xt<At;){for(Be=0;Be<Xe;){for(Fe=Xe*Xt+Be,it=-1,ft=0,fe=0;fe<64;fe++)de=Fe+(ft=fe>>3)*Xe+(it=4*(7&fe)),Xt+ft>=At&&(de-=Xe*(Xt+1+ft-At)),Be+it>=Xe&&(de-=Be+it-Xe+4),he=tt[de++],qe=tt[de++],We=tt[de++],F[fe]=(Q[he]+Q[qe+256|0]+Q[We+512|0]>>16)-128,R[fe]=(Q[he+768|0]+Q[qe+1024|0]+Q[We+1280|0]>>16)-128,$[fe]=(Q[he+1280|0]+Q[qe+1536|0]+Q[We+1792|0]>>16)-128;me=Le(F,v,me,t,r),we=Le(R,y,we,n,i),ke=Le($,y,ke,n,i),Be+=32}Xt+=8}if(T>=0){var nt=[];nt[1]=T+1,nt[0]=(1<<T+1)-1,le(nt)}return be(65497),new Uint8Array(I)},e=e||50,(function(){for(var ne=String.fromCharCode,ce=0;ce<256;ce++)G[ce]=ne(ce)})(),t=ie(Y,q),n=ie(U,te),r=ie(oe,D),i=ie(V,J),(function(){for(var ne=1,ce=2,me=1;me<=15;me++){for(var we=ne;we<ce;we++)k[32767+we]=me,w[32767+we]=[],w[32767+we][1]=me,w[32767+we][0]=we;for(var ke=-(ce-1);ke<=-ne;ke++)k[32767+ke]=me,w[32767+ke]=[],w[32767+ke][1]=me,w[32767+ke][0]=ce-1+ke;ne<<=1,ce<<=1}})(),(function(){for(var ne=0;ne<256;ne++)Q[ne]=19595*ne,Q[ne+256|0]=38470*ne,Q[ne+512|0]=7471*ne+32768,Q[ne+768|0]=-11059*ne,Q[ne+1024|0]=-21709*ne,Q[ne+1280|0]=32768*ne+8421375,Q[ne+1536|0]=-27439*ne,Q[ne+1792|0]=-5329*ne})(),Re(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mv(e){function t(q){if(!q)throw Error("assert :P")}function n(q,oe,D){for(var U=0;4>U;U++)if(q[oe+U]!=D.charCodeAt(U))return!0;return!1}function r(q,oe,D,U,te){for(var V=0;V<te;V++)q[oe+V]=D[U+V]}function i(q,oe,D,U){for(var te=0;te<U;te++)q[oe+te]=D}function l(q){return new Int32Array(q)}function h(q,oe){for(var D=[],U=0;U<q;U++)D.push(new oe);return D}function c(q,oe){var D=[];return(function U(te,V,J){for(var ie=J[V],le=0;le<ie&&(te.push(J.length>V+1?[]:new oe),!(J.length<V+1));le++)U(te[le],V+1,J)})(D,0,q),D}var g=function(){var q=this;function oe(E,A){for(var W=1<<A-1>>>0;E&W;)W>>>=1;return W?(E&W-1)+W:E}function D(E,A,W,re,_e){t(!(re%W));do E[A+(re-=W)]=_e;while(0<re)}function U(E,A,W,re,_e){if(t(2328>=_e),512>=_e)var Ee=l(512);else if((Ee=l(_e))==null)return 0;return(function(Ne,Oe,De,Ue,ot,Nt){var Ge,ct,dt=Oe,Bt=1<<De,Lt=l(16),Ht=l(16);for(t(ot!=0),t(Ue!=null),t(Ne!=null),t(0<De),ct=0;ct<ot;++ct){if(15<Ue[ct])return 0;++Lt[Ue[ct]]}if(Lt[0]==ot)return 0;for(Ht[1]=0,Ge=1;15>Ge;++Ge){if(Lt[Ge]>1<<Ge)return 0;Ht[Ge+1]=Ht[Ge]+Lt[Ge]}for(ct=0;ct<ot;++ct)Ge=Ue[ct],0<Ue[ct]&&(Nt[Ht[Ge]++]=ct);if(Ht[15]==1)return(Ue=new te).g=0,Ue.value=Nt[0],D(Ne,dt,1,Bt,Ue),Bt;var Vt,on=-1,rn=Bt-1,Hn=0,u=1,p=1,_=1<<De;for(ct=0,Ge=1,ot=2;Ge<=De;++Ge,ot<<=1){if(u+=p<<=1,0>(p-=Lt[Ge]))return 0;for(;0<Lt[Ge];--Lt[Ge])(Ue=new te).g=Ge,Ue.value=Nt[ct++],D(Ne,dt+Hn,ot,_,Ue),Hn=oe(Hn,Ge)}for(Ge=De+1,ot=2;15>=Ge;++Ge,ot<<=1){if(u+=p<<=1,0>(p-=Lt[Ge]))return 0;for(;0<Lt[Ge];--Lt[Ge]){if(Ue=new te,(Hn&rn)!=on){for(dt+=_,Vt=1<<(on=Ge)-De;15>on&&!(0>=(Vt-=Lt[on]));)++on,Vt<<=1;Bt+=_=1<<(Vt=on-De),Ne[Oe+(on=Hn&rn)].g=Vt+De,Ne[Oe+on].value=dt-Oe-on}Ue.g=Ge-De,Ue.value=Nt[ct++],D(Ne,dt+(Hn>>De),ot,_,Ue),Hn=oe(Hn,Ge)}}return u!=2*Ht[15]-1?0:Bt})(E,A,W,re,_e,Ee)}function te(){this.value=this.g=0}function V(){this.value=this.g=0}function J(){this.G=h(5,te),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(so,V)}function ie(E,A,W,re){t(E!=null),t(A!=null),t(2147483648>re),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=A,E.pa=W,E.Jd=A,E.Yc=W+re,E.Zc=4<=re?W+re-4+1:W,he(E)}function le(E,A){for(var W=0;0<A--;)W|=We(E,128)<<A;return W}function ue(E,A){var W=le(E,A);return qe(E)?-W:W}function be(E,A,W,re){var _e,Ee=0;for(t(E!=null),t(A!=null),t(4294967288>re),E.Sb=re,E.Ra=0,E.u=0,E.h=0,4<re&&(re=4),_e=0;_e<re;++_e)Ee+=A[W+_e]<<8*_e;E.Ra=Ee,E.bb=re,E.oa=A,E.pa=W}function Le(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<Oi-8>>>0,++E.bb,E.u-=8;we(E)&&(E.h=1,E.u=0)}function Re(E,A){if(t(0<=A),!E.h&&A<=gi){var W=me(E)&fa[A];return E.u+=A,Le(E),W}return E.h=1,E.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ce(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(E){return E.Ra>>>(E.u&Oi-1)>>>0}function we(E){return t(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>Oi}function ke(E,A){E.u=A,E.h=we(E)}function Be(E){E.u>=qa&&(t(E.u>=qa),Le(E))}function he(E){t(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(t(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function qe(E){return le(E,1)}function We(E,A){var W=E.Ca;0>E.b&&he(E);var re=E.b,_e=W*A>>>8,Ee=(E.I>>>re>_e)+0;for(Ee?(W-=_e,E.I-=_e+1<<re>>>0):W=_e+1,re=W,_e=0;256<=re;)_e+=8,re>>=8;return re=7^_e+Ua[re],E.b-=re,E.Ca=(W<<re)-1,Ee}function Fe(E,A,W){E[A+0]=W>>24&255,E[A+1]=W>>16&255,E[A+2]=W>>8&255,E[A+3]=255&W}function de(E,A){return E[A+0]|E[A+1]<<8}function it(E,A){return de(E,A)|E[A+2]<<16}function ft(E,A){return de(E,A)|de(E,A+2)<<16}function fe(E,A){var W=1<<A;return t(E!=null),t(0<A),E.X=l(W),E.X==null?0:(E.Mb=32-A,E.Xa=A,1)}function tt(E,A){t(E!=null),t(A!=null),t(E.Xa==A.Xa),r(A.X,0,E.X,0,1<<A.Xa)}function kt(){this.X=[],this.Xa=this.Mb=0}function At(E,A,W,re){t(W!=null),t(re!=null);var _e=W[0],Ee=re[0];return _e==0&&(_e=(E*Ee+A/2)/A),Ee==0&&(Ee=(A*_e+E/2)/E),0>=_e||0>=Ee?0:(W[0]=_e,re[0]=Ee,1)}function Xe(E,A){return E+(1<<A)-1>>>A}function Xt(E,A){return((4278255360&E)+(4278255360&A)>>>0&4278255360)+((16711935&E)+(16711935&A)>>>0&16711935)>>>0}function nt(E,A){q[A]=function(W,re,_e,Ee,Ne,Oe,De){var Ue;for(Ue=0;Ue<Ne;++Ue){var ot=q[E](Oe[De+Ue-1],_e,Ee+Ue);Oe[De+Ue]=Xt(W[re+Ue],ot)}}}function mt(){this.ud=this.hd=this.jd=0}function wt(E,A){return((4278124286&(E^A))>>>1)+(E&A)>>>0}function Et(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Zt(E,A){return Et(E+(E-A+.5>>1))}function nn(E,A,W){return Math.abs(A-W)-Math.abs(E-W)}function dn(E,A,W,re,_e,Ee,Ne){for(re=Ee[Ne-1],W=0;W<_e;++W)Ee[Ne+W]=re=Xt(E[A+W],re)}function Dt(E,A,W,re,_e){var Ee;for(Ee=0;Ee<W;++Ee){var Ne=E[A+Ee],Oe=Ne>>8&255,De=16711935&(De=(De=16711935&Ne)+((Oe<<16)+Oe));re[_e+Ee]=(4278255360&Ne)+De>>>0}}function Jt(E,A){A.jd=255&E,A.hd=E>>8&255,A.ud=E>>16&255}function Ft(E,A,W,re,_e,Ee){var Ne;for(Ne=0;Ne<re;++Ne){var Oe=A[W+Ne],De=Oe>>>8,Ue=Oe,ot=255&(ot=(ot=Oe>>>16)+((E.jd<<24>>24)*(De<<24>>24)>>>5));Ue=255&(Ue=(Ue+=(E.hd<<24>>24)*(De<<24>>24)>>>5)+((E.ud<<24>>24)*(ot<<24>>24)>>>5)),_e[Ee+Ne]=(4278255360&Oe)+(ot<<16)+Ue}}function ht(E,A,W,re,_e){q[A]=function(Ee,Ne,Oe,De,Ue,ot,Nt,Ge,ct){for(De=Nt;De<Ge;++De)for(Nt=0;Nt<ct;++Nt)Ue[ot++]=_e(Oe[re(Ee[Ne++])])},q[E]=function(Ee,Ne,Oe,De,Ue,ot,Nt){var Ge=8>>Ee.b,ct=Ee.Ea,dt=Ee.K[0],Bt=Ee.w;if(8>Ge)for(Ee=(1<<Ee.b)-1,Bt=(1<<Ge)-1;Ne<Oe;++Ne){var Lt,Ht=0;for(Lt=0;Lt<ct;++Lt)Lt&Ee||(Ht=re(De[Ue++])),ot[Nt++]=_e(dt[Ht&Bt]),Ht>>=Ge}else q["VP8LMapColor"+W](De,Ue,dt,Bt,ot,Nt,Ne,Oe,ct)}}function Mt(E,A,W,re,_e){for(W=A+W;A<W;){var Ee=E[A++];re[_e++]=Ee>>16&255,re[_e++]=Ee>>8&255,re[_e++]=255&Ee}}function tn(E,A,W,re,_e){for(W=A+W;A<W;){var Ee=E[A++];re[_e++]=Ee>>16&255,re[_e++]=Ee>>8&255,re[_e++]=255&Ee,re[_e++]=Ee>>24&255}}function fn(E,A,W,re,_e){for(W=A+W;A<W;){var Ee=(Ne=E[A++])>>16&240|Ne>>12&15,Ne=240&Ne|Ne>>28&15;re[_e++]=Ee,re[_e++]=Ne}}function Tt(E,A,W,re,_e){for(W=A+W;A<W;){var Ee=(Ne=E[A++])>>16&248|Ne>>13&7,Ne=Ne>>5&224|Ne>>3&31;re[_e++]=Ee,re[_e++]=Ne}}function zt(E,A,W,re,_e){for(W=A+W;A<W;){var Ee=E[A++];re[_e++]=255&Ee,re[_e++]=Ee>>8&255,re[_e++]=Ee>>16&255}}function jt(E,A,W,re,_e,Ee){if(Ee==0)for(W=A+W;A<W;)Fe(re,((Ee=E[A++])[0]>>24|Ee[1]>>8&65280|Ee[2]<<8&16711680|Ee[3]<<24)>>>0),_e+=32;else r(re,_e,E,A,W)}function ln(E,A){q[A][0]=q[E+"0"],q[A][1]=q[E+"1"],q[A][2]=q[E+"2"],q[A][3]=q[E+"3"],q[A][4]=q[E+"4"],q[A][5]=q[E+"5"],q[A][6]=q[E+"6"],q[A][7]=q[E+"7"],q[A][8]=q[E+"8"],q[A][9]=q[E+"9"],q[A][10]=q[E+"10"],q[A][11]=q[E+"11"],q[A][12]=q[E+"12"],q[A][13]=q[E+"13"],q[A][14]=q[E+"0"],q[A][15]=q[E+"0"]}function an(E){return E==ga||E==ma||E==ko||E==s}function hn(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hn,this.f.kb=new Bn,this.sd=null}function Gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function An(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function Dn(E,A){var W=E.T,re=A.ba.f.RGBA,_e=re.eb,Ee=re.fb+E.ka*re.A,Ne=aa[A.ba.S],Oe=E.y,De=E.O,Ue=E.f,ot=E.N,Nt=E.ea,Ge=E.W,ct=A.cc,dt=A.dc,Bt=A.Mc,Lt=A.Nc,Ht=E.ka,Vt=E.ka+E.T,on=E.U,rn=on+1>>1;for(Ht==0?Ne(Oe,De,null,null,Ue,ot,Nt,Ge,Ue,ot,Nt,Ge,_e,Ee,null,null,on):(Ne(A.ec,A.fc,Oe,De,ct,dt,Bt,Lt,Ue,ot,Nt,Ge,_e,Ee-re.A,_e,Ee,on),++W);Ht+2<Vt;Ht+=2)ct=Ue,dt=ot,Bt=Nt,Lt=Ge,ot+=E.Rc,Ge+=E.Rc,Ee+=2*re.A,Ne(Oe,(De+=2*E.fa)-E.fa,Oe,De,ct,dt,Bt,Lt,Ue,ot,Nt,Ge,_e,Ee-re.A,_e,Ee,on);return De+=E.fa,E.j+Vt<E.o?(r(A.ec,A.fc,Oe,De,on),r(A.cc,A.dc,Ue,ot,rn),r(A.Mc,A.Nc,Nt,Ge,rn),W--):1&Vt||Ne(Oe,De,null,null,Ue,ot,Nt,Ge,Ue,ot,Nt,Ge,_e,Ee+re.A,null,null,on),W}function Kt(E,A,W){var re=E.F,_e=[E.J];if(re!=null){var Ee=E.U,Ne=A.ba.S,Oe=Ne==lo||Ne==ko;A=A.ba.f.RGBA;var De=[0],Ue=E.ka;De[0]=E.T,E.Kb&&(Ue==0?--De[0]:(--Ue,_e[0]-=E.width),E.j+E.ka+E.T==E.o&&(De[0]=E.o-E.j-Ue));var ot=A.eb;Ue=A.fb+Ue*A.A,E=Wa(re,_e[0],E.width,Ee,De,ot,Ue+(Oe?0:3),A.A),t(W==De),E&&an(Ne)&&ti(ot,Ue,Oe,Ee,De,A.A)}return 0}function dr(E){var A=E.ma,W=A.ba.S,re=11>W,_e=W==tr||W==us||W==lo||W==Li||W==12||an(W);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!ss(A.Oa,E,_e?11:12))return 0;if(_e&&an(W)&&bo(),E.da)alert("todo:use_scaling");else{if(re){if(A.Ib=An,E.Kb){if(W=E.U+1>>1,A.memory=l(E.U+2*W),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+E.U,A.Mc=A.cc,A.Nc=A.dc+W,A.Ib=Dn,bo()}}else alert("todo:EmitYUV");_e&&(A.Jb=Kt,re&&Er())}if(re&&!Ws){for(E=0;256>E;++E)Vl[E]=89858*(E-128)+pl>>Gl,Wl[E]=-22014*(E-128)+pl,ld[E]=-45773*(E-128),sd[E]=113618*(E-128)+pl>>Gl;for(E=gl;E<Ru;++E)A=76283*(E-16)+pl>>Gl,Kl[E-gl]=Fn(A,255),_c[E-gl]=Fn(A+8>>4,15);Ws=1}return 1}function mn(E){var A=E.ma,W=E.U,re=E.T;return t(!(1&E.ka)),0>=W||0>=re?0:(W=A.Ib(E,A),A.Jb!=null&&A.Jb(E,A,W),A.Dc+=W,1)}function br(E){E.ma.memory=null}function Un(E,A,W,re){return Re(E,8)!=47?0:(A[0]=Re(E,14)+1,W[0]=Re(E,14)+1,re[0]=Re(E,1),Re(E,3)!=0?0:!E.h)}function ur(E,A){if(4>E)return E+1;var W=E-2>>1;return(2+(1&E)<<W)+Re(A,W)+1}function Tr(E,A){return 120<A?A-120:1<=(W=((W=Ye[A-1])>>4)*E+(8-(15&W)))?W:1;var W}function zn(E,A,W){var re=me(W),_e=E[A+=255&re].g-8;return 0<_e&&(ke(W,W.u+8),re=me(W),A+=E[A].value,A+=re&(1<<_e)-1),ke(W,W.u+E[A].g),E[A].value}function cn(E,A,W){return W.g+=E.g,W.value+=E.value<<A>>>0,t(8>=W.g),E.g}function Pr(E,A,W){var re=E.xc;return t((A=re==0?0:E.vc[E.md*(W>>re)+(A>>re)])<E.Wb),E.Ya[A]}function Ri(E,A,W,re){var _e=E.ab,Ee=E.c*A,Ne=E.C;A=Ne+A;var Oe=W,De=re;for(re=E.Ta,W=E.Ua;0<_e--;){var Ue=E.gc[_e],ot=Ne,Nt=A,Ge=Oe,ct=De,dt=(De=re,Oe=W,Ue.Ea);switch(t(ot<Nt),t(Nt<=Ue.nc),Ue.hc){case 2:ui(Ge,ct,(Nt-ot)*dt,De,Oe);break;case 0:var Bt=ot,Lt=Nt,Ht=De,Vt=Oe,on=(_=Ue).Ea;Bt==0&&(Ga(Ge,ct,null,null,1,Ht,Vt),dn(Ge,ct+1,0,0,on-1,Ht,Vt+1),ct+=on,Vt+=on,++Bt);for(var rn=1<<_.b,Hn=rn-1,u=Xe(on,_.b),p=_.K,_=_.w+(Bt>>_.b)*u;Bt<Lt;){var S=p,P=_,j=1;for(Yi(Ge,ct,Ht,Vt-on,1,Ht,Vt);j<on;){var X=(j&~Hn)+rn;X>on&&(X=on),(0,Yo[S[P++]>>8&15])(Ge,ct+ +j,Ht,Vt+j-on,X-j,Ht,Vt+j),j=X}ct+=on,Vt+=on,++Bt&Hn||(_+=u)}Nt!=Ue.nc&&r(De,Oe-dt,De,Oe+(Nt-ot-1)*dt,dt);break;case 1:for(dt=Ge,Lt=ct,on=(Ge=Ue.Ea)-(Vt=Ge&~(Ht=(ct=1<<Ue.b)-1)),Bt=Xe(Ge,Ue.b),rn=Ue.K,Ue=Ue.w+(ot>>Ue.b)*Bt;ot<Nt;){for(Hn=rn,u=Ue,p=new mt,_=Lt+Vt,S=Lt+Ge;Lt<_;)Jt(Hn[u++],p),pa(p,dt,Lt,ct,De,Oe),Lt+=ct,Oe+=ct;Lt<S&&(Jt(Hn[u++],p),pa(p,dt,Lt,on,De,Oe),Lt+=on,Oe+=on),++ot&Ht||(Ue+=Bt)}break;case 3:if(Ge==De&&ct==Oe&&0<Ue.b){for(Lt=De,Ge=dt=Oe+(Nt-ot)*dt-(Vt=(Nt-ot)*Xe(Ue.Ea,Ue.b)),ct=De,Ht=Oe,Bt=[],Vt=(on=Vt)-1;0<=Vt;--Vt)Bt[Vt]=ct[Ht+Vt];for(Vt=on-1;0<=Vt;--Vt)Lt[Ge+Vt]=Bt[Vt];Va(Ue,ot,Nt,De,dt,De,Oe)}else Va(Ue,ot,Nt,Ge,ct,De,Oe)}Oe=re,De=W}De!=W&&r(re,W,Oe,De,Ee)}function Nn(E,A){var W=E.V,re=E.Ba+E.c*E.C,_e=A-E.C;if(t(A<=E.l.o),t(16>=_e),0<_e){var Ee=E.l,Ne=E.Ta,Oe=E.Ua,De=Ee.width;if(Ri(E,_e,W,re),_e=Oe=[Oe],t((W=E.C)<(re=A)),t(Ee.v<Ee.va),re>Ee.o&&(re=Ee.o),W<Ee.j){var Ue=Ee.j-W;W=Ee.j,_e[0]+=Ue*De}if(W>=re?W=0:(_e[0]+=4*Ee.v,Ee.ka=W-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=re-W,W=1),W){if(Oe=Oe[0],11>(W=E.ca).S){var ot=W.f.RGBA,Nt=(re=W.S,_e=Ee.U,Ee=Ee.T,Ue=ot.eb,ot.A),Ge=Ee;for(ot=ot.fb+E.Ma*ot.A;0<Ge--;){var ct=Ne,dt=Oe,Bt=_e,Lt=Ue,Ht=ot;switch(re){case Oa:Eo(ct,dt,Bt,Lt,Ht);break;case tr:Pa(ct,dt,Bt,Lt,Ht);break;case ga:Pa(ct,dt,Bt,Lt,Ht),ti(Lt,Ht,0,Bt,1,0);break;case As:f(ct,dt,Bt,Lt,Ht);break;case us:jt(ct,dt,Bt,Lt,Ht,1);break;case ma:jt(ct,dt,Bt,Lt,Ht,1),ti(Lt,Ht,0,Bt,1,0);break;case lo:jt(ct,dt,Bt,Lt,Ht,0);break;case ko:jt(ct,dt,Bt,Lt,Ht,0),ti(Lt,Ht,1,Bt,1,0);break;case Li:fi(ct,dt,Bt,Lt,Ht);break;case s:fi(ct,dt,Bt,Lt,Ht),ki(Lt,Ht,Bt,1,0);break;case hl:pi(ct,dt,Bt,Lt,Ht);break;default:t(0)}Oe+=De,ot+=Nt}E.Ma+=Ee}else alert("todo:EmitRescaledRowsYUVA");t(E.Ma<=W.height)}}E.C=A,t(E.C<=E.i)}function Gn(E){var A;if(0<E.ua)return 0;for(A=0;A<E.Wb;++A){var W=E.Ya[A].G,re=E.Ya[A].H;if(0<W[1][re[1]+0].g||0<W[2][re[2]+0].g||0<W[3][re[3]+0].g)return 0}return 1}function wn(E,A,W,re,_e,Ee){if(E.Z!=0){var Ne=E.qd,Oe=E.rd;for(t(ni[E.Z]!=null);A<W;++A)ni[E.Z](Ne,Oe,re,_e,re,_e,Ee),Ne=re,Oe=_e,_e+=Ee;E.qd=Ne,E.rd=Oe}}function nr(E,A){var W=E.l.ma,re=W.Z==0||W.Z==1?E.l.j:E.C;if(re=E.C<re?re:E.C,t(A<=E.l.o),A>re){var _e=E.l.width,Ee=W.ca,Ne=W.tb+_e*re,Oe=E.V,De=E.Ba+E.c*re,Ue=E.gc;t(E.ab==1),t(Ue[0].hc==3),Ei(Ue[0],re,A,Oe,De,Ee,Ne),wn(W,re,A,Ee,Ne,_e)}E.C=E.Ma=A}function sr(E,A,W,re,_e,Ee,Ne){var Oe=E.$/re,De=E.$%re,Ue=E.m,ot=E.s,Nt=W+E.$,Ge=Nt;_e=W+re*_e;var ct=W+re*Ee,dt=280+ot.ua,Bt=E.Pb?Oe:16777216,Lt=0<ot.ua?ot.Wa:null,Ht=ot.wc,Vt=Nt<ct?Pr(ot,De,Oe):null;t(E.C<Ee),t(ct<=_e);var on=!1;e:for(;;){for(;on||Nt<ct;){var rn=0;if(Oe>=Bt){var Hn=Nt-W;t((Bt=E).Pb),Bt.wd=Bt.m,Bt.xd=Hn,0<Bt.s.ua&&tt(Bt.s.Wa,Bt.s.vb),Bt=Oe+It}if(De&Ht||(Vt=Pr(ot,De,Oe)),t(Vt!=null),Vt.Qb&&(A[Nt]=Vt.qb,on=!0),!on)if(Be(Ue),Vt.jc){rn=Ue,Hn=A;var u=Nt,p=Vt.pd[me(rn)&so-1];t(Vt.jc),256>p.g?(ke(rn,rn.u+p.g),Hn[u]=p.value,rn=0):(ke(rn,rn.u+p.g-256),t(256<=p.value),rn=p.value),rn==0&&(on=!0)}else rn=zn(Vt.G[0],Vt.H[0],Ue);if(Ue.h)break;if(on||256>rn){if(!on)if(Vt.nd)A[Nt]=(Vt.qb|rn<<8)>>>0;else{if(Be(Ue),on=zn(Vt.G[1],Vt.H[1],Ue),Be(Ue),Hn=zn(Vt.G[2],Vt.H[2],Ue),u=zn(Vt.G[3],Vt.H[3],Ue),Ue.h)break;A[Nt]=(u<<24|on<<16|rn<<8|Hn)>>>0}if(on=!1,++Nt,++De>=re&&(De=0,++Oe,Ne!=null&&Oe<=Ee&&!(Oe%16)&&Ne(E,Oe),Lt!=null))for(;Ge<Nt;)rn=A[Ge++],Lt.X[(506832829*rn&4294967295)>>>Lt.Mb]=rn}else if(280>rn){if(rn=ur(rn-256,Ue),Hn=zn(Vt.G[4],Vt.H[4],Ue),Be(Ue),Hn=Tr(re,Hn=ur(Hn,Ue)),Ue.h)break;if(Nt-W<Hn||_e-Nt<rn)break e;for(u=0;u<rn;++u)A[Nt+u]=A[Nt+u-Hn];for(Nt+=rn,De+=rn;De>=re;)De-=re,++Oe,Ne!=null&&Oe<=Ee&&!(Oe%16)&&Ne(E,Oe);if(t(Nt<=_e),De&Ht&&(Vt=Pr(ot,De,Oe)),Lt!=null)for(;Ge<Nt;)rn=A[Ge++],Lt.X[(506832829*rn&4294967295)>>>Lt.Mb]=rn}else{if(!(rn<dt))break e;for(on=rn-280,t(Lt!=null);Ge<Nt;)rn=A[Ge++],Lt.X[(506832829*rn&4294967295)>>>Lt.Mb]=rn;rn=Nt,t(!(on>>>(Hn=Lt).Xa)),A[rn]=Hn.X[on],on=!0}on||t(Ue.h==we(Ue))}if(E.Pb&&Ue.h&&Nt<_e)t(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&tt(E.s.vb,E.s.Wa);else{if(Ue.h)break e;Ne?.(E,Oe>Ee?Ee:Oe),E.a=0,E.$=Nt-W}return 1}return E.a=3,0}function fr(E){t(E!=null),E.vc=null,E.yc=null,E.Ya=null;var A=E.Wa;A!=null&&(A.X=null),E.vb=null,t(E!=null)}function wr(){var E=new Tn;return E==null?null:(E.a=0,E.xb=fl,ln("Predictor","VP8LPredictors"),ln("Predictor","VP8LPredictors_C"),ln("PredictorAdd","VP8LPredictorsAdd"),ln("PredictorAdd","VP8LPredictorsAdd_C"),ui=Dt,pa=Ft,Eo=Mt,Pa=tn,fi=fn,pi=Tt,f=zt,q.VP8LMapColor32b=Ji,q.VP8LMapColor8b=So,E)}function Nr(E,A,W,re,_e){var Ee=1,Ne=[E],Oe=[A],De=re.m,Ue=re.s,ot=null,Nt=0;e:for(;;){if(W)for(;Ee&&Re(De,1);){var Ge=Ne,ct=Oe,dt=re,Bt=1,Lt=dt.m,Ht=dt.gc[dt.ab],Vt=Re(Lt,2);if(dt.Oc&1<<Vt)Ee=0;else{switch(dt.Oc|=1<<Vt,Ht.hc=Vt,Ht.Ea=Ge[0],Ht.nc=ct[0],Ht.K=[null],++dt.ab,t(4>=dt.ab),Vt){case 0:case 1:Ht.b=Re(Lt,3)+2,Bt=Nr(Xe(Ht.Ea,Ht.b),Xe(Ht.nc,Ht.b),0,dt,Ht.K),Ht.K=Ht.K[0];break;case 3:var on,rn=Re(Lt,8)+1,Hn=16<rn?0:4<rn?1:2<rn?2:3;if(Ge[0]=Xe(Ht.Ea,Hn),Ht.b=Hn,on=Bt=Nr(rn,1,0,dt,Ht.K)){var u,p=rn,_=Ht,S=1<<(8>>_.b),P=l(S);if(P==null)on=0;else{var j=_.K[0],X=_.w;for(P[0]=_.K[0][0],u=1;u<1*p;++u)P[u]=Xt(j[X+u],P[u-1]);for(;u<4*S;++u)P[u]=0;_.K[0]=null,_.K[0]=P,on=1}}Bt=on;break;case 2:break;default:t(0)}Ee=Bt}}if(Ne=Ne[0],Oe=Oe[0],Ee&&Re(De,1)&&!(Ee=1<=(Nt=Re(De,4))&&11>=Nt)){re.a=3;break e}var Z;if(Z=Ee)t:{var ge,ve,Ve,je=re,vt=Ne,St=Oe,qt=Nt,un=W,vn=je.m,Xn=je.s,He=[null],Ke=1,rt=0,yt=xt[qt];n:for(;;){if(un&&Re(vn,1)){var lt=Re(vn,3)+2,Ct=Xe(vt,lt),pe=Xe(St,lt),Se=Ct*pe;if(!Nr(Ct,pe,0,je,He))break n;for(He=He[0],Xn.xc=lt,ge=0;ge<Se;++ge){var Me=He[ge]>>8&65535;He[ge]=Me,Me>=Ke&&(Ke=Me+1)}}if(vn.h)break n;for(ve=0;5>ve;++ve){var Pe=H[ve];!ve&&0<qt&&(Pe+=1<<qt),rt<Pe&&(rt=Pe)}var Ae=h(Ke*yt,te),Te=Ke,Je=h(Te,J);if(Je==null)var Ze=null;else t(65536>=Te),Ze=Je;var at=l(rt);if(Ze==null||at==null||Ae==null){je.a=1;break n}var gt=Ae;for(ge=Ve=0;ge<Ke;++ge){var ut=Ze[ge],Ut=ut.G,yn=ut.H,Ln=0,In=1,or=0;for(ve=0;5>ve;++ve){Pe=H[ve],Ut[ve]=gt,yn[ve]=Ve,!ve&&0<qt&&(Pe+=1<<qt);i:{var Zr,Br=Pe,Yr=je,Gi=at,Zl=gt,Bu=Ve,ml=0,ya=Yr.m,vl=Re(ya,1);if(i(Gi,0,0,Br),vl){var Mo=Re(ya,1)+1,Za=Re(ya,1),Ni=Re(ya,Za==0?1:8);Gi[Ni]=1,Mo==2&&(Gi[Ni=Re(ya,8)]=1);var Sc=1}else{var Xp=l(19),Zp=Re(ya,4)+4;if(19<Zp){Yr.a=3;var Ec=0;break i}for(Zr=0;Zr<Zp;++Zr)Xp[Ce[Zr]]=Re(ya,3);var ud=void 0,Du=void 0,Yp=Yr,hx=Xp,kc=Br,Jp=Gi,cd=0,Ks=Yp.m,Qp=8,eg=h(128,te);r:for(;U(eg,0,7,hx,19);){if(Re(Ks,1)){var dx=2+2*Re(Ks,3);if((ud=2+Re(Ks,dx))>kc)break r}else ud=kc;for(Du=0;Du<kc&&ud--;){Be(Ks);var tg=eg[0+(127&me(Ks))];ke(Ks,Ks.u+tg.g);var Yl=tg.value;if(16>Yl)Jp[Du++]=Yl,Yl!=0&&(Qp=Yl);else{var fx=Yl==16,ng=Yl-16,px=M[ng],rg=Re(Ks,m[ng])+px;if(Du+rg>kc)break r;for(var gx=fx?Qp:0;0<rg--;)Jp[Du++]=gx}}cd=1;break r}cd||(Yp.a=3),Sc=cd}(Sc=Sc&&!ya.h)&&(ml=U(Zl,Bu,8,Gi,Br)),Sc&&ml!=0?Ec=ml:(Yr.a=3,Ec=0)}if(Ec==0)break n;if(In&&ae[ve]==1&&(In=gt[Ve].g==0),Ln+=gt[Ve].g,Ve+=Ec,3>=ve){var $u,hd=at[0];for($u=1;$u<Pe;++$u)at[$u]>hd&&(hd=at[$u]);or+=hd}}if(ut.nd=In,ut.Qb=0,In&&(ut.qb=(Ut[3][yn[3]+0].value<<24|Ut[1][yn[1]+0].value<<16|Ut[2][yn[2]+0].value)>>>0,Ln==0&&256>Ut[0][yn[0]+0].value&&(ut.Qb=1,ut.qb+=Ut[0][yn[0]+0].value<<8)),ut.jc=!ut.Qb&&6>or,ut.jc){var Lc,Ts=ut;for(Lc=0;Lc<so;++Lc){var Xs=Lc,Zs=Ts.pd[Xs],Nc=Ts.G[0][Ts.H[0]+Xs];256<=Nc.value?(Zs.g=Nc.g+256,Zs.value=Nc.value):(Zs.g=0,Zs.value=0,Xs>>=cn(Nc,8,Zs),Xs>>=cn(Ts.G[1][Ts.H[1]+Xs],16,Zs),Xs>>=cn(Ts.G[2][Ts.H[2]+Xs],0,Zs),cn(Ts.G[3][Ts.H[3]+Xs],24,Zs))}}}Xn.vc=He,Xn.Wb=Ke,Xn.Ya=Ze,Xn.yc=Ae,Z=1;break t}Z=0}if(!(Ee=Z)){re.a=3;break e}if(0<Nt){if(Ue.ua=1<<Nt,!fe(Ue.Wa,Nt)){re.a=1,Ee=0;break e}}else Ue.ua=0;var dd=re,ig=Ne,mx=Oe,fd=dd.s,pd=fd.xc;if(dd.c=ig,dd.i=mx,fd.md=Xe(ig,pd),fd.wc=pd==0?-1:(1<<pd)-1,W){re.xb=Au;break e}if((ot=l(Ne*Oe))==null){re.a=1,Ee=0;break e}Ee=(Ee=sr(re,ot,0,Ne,Oe,Oe,null))&&!De.h;break e}return Ee?(_e!=null?_e[0]=ot:(t(ot==null),t(W)),re.$=0,W||fr(Ue)):fr(Ue),Ee}function Si(E,A){var W=E.c*E.i,re=W+A+16*A;return t(E.c<=A),E.V=l(re),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+W+A,1)}function yi(E,A){var W=E.C,re=A-W,_e=E.V,Ee=E.Ba+E.c*W;for(t(A<=E.l.o);0<re;){var Ne=16<re?16:re,Oe=E.l.ma,De=E.l.width,Ue=De*Ne,ot=Oe.ca,Nt=Oe.tb+De*W,Ge=E.Ta,ct=E.Ua;Ri(E,Ne,_e,Ee),Jo(Ge,ct,ot,Nt,Ue),wn(Oe,W,W+Ne,ot,Nt,De),re-=Ne,_e+=Ne*E.c,W+=Ne}t(W==A),E.C=E.Ma=A}function mr(){this.ub=this.yd=this.td=this.Rb=0}function Hi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jn(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function xn(){this.Yb=(function(){var E=[];return(function A(W,re,_e){for(var Ee=_e[re],Ne=0;Ne<Ee&&(W.push(_e.length>re+1?[]:0),!(_e.length<re+1));Ne++)A(W[Ne],re+1,_e)})(E,0,[3,11]),E})()}function rr(){this.jb=l(3),this.Wc=c([4,8],xn),this.Xc=c([4,17],xn)}function pr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function gr(){this.ld=this.La=this.dd=this.tc=0}function _i(){this.Na=this.la=0}function Sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kn(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zn(){this.uc=this.M=this.Nb=0,this.wa=Array(new gr),this.Y=0,this.ya=Array(new kn),this.aa=0,this.l=new xr}function Gr(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Dr(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new mr,this.Kc=new Hi,this.ed=new pr,this.Qa=new Jn,this.Ic=this.$c=this.Aa=0,this.D=new Zn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,ne),this.ia=0,this.pb=h(4,Sn),this.Pa=new rr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gr),this.Hd=0,this.rb=Array(new _i),this.sb=0,this.wa=Array(new gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kn),this.L=this.aa=0,this.gd=c([4,2],gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fn(E,A){return 0>E?0:E>A?A:E}function xr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xa(){var E=new Dr;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,Vn||(Vn=jn)),E}function Vr(E,A,W){return E.a==0&&(E.a=A,E.sc=W,E.cb=0),0}function la(E,A,W){return 3<=W&&E[A+0]==157&&E[A+1]==1&&E[A+2]==42}function qi(E,A){if(E==null)return 0;if(E.a=0,E.sc="OK",A==null)return Vr(E,2,"null VP8Io passed to VP8GetHeaders()");var W=A.data,re=A.w,_e=A.ha;if(4>_e)return Vr(E,7,"Truncated header.");var Ee=W[re+0]|W[re+1]<<8|W[re+2]<<16,Ne=E.Od;if(Ne.Rb=!(1&Ee),Ne.td=Ee>>1&7,Ne.yd=Ee>>4&1,Ne.ub=Ee>>5,3<Ne.td)return Vr(E,3,"Incorrect keyframe parameters.");if(!Ne.yd)return Vr(E,4,"Frame not displayable.");re+=3,_e-=3;var Oe=E.Kc;if(Ne.Rb){if(7>_e)return Vr(E,7,"cannot parse picture header");if(!la(W,re,_e))return Vr(E,3,"Bad code word");Oe.c=16383&(W[re+4]<<8|W[re+3]),Oe.Td=W[re+4]>>6,Oe.i=16383&(W[re+6]<<8|W[re+5]),Oe.Ud=W[re+6]>>6,re+=7,_e-=7,E.za=Oe.c+15>>4,E.Ub=Oe.i+15>>4,A.width=Oe.c,A.height=Oe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((Ee=E.Pa).jb,0,255,Ee.jb.length),t((Ee=E.Qa)!=null),Ee.Cb=0,Ee.Bb=0,Ee.Fb=1,i(Ee.Zb,0,0,Ee.Zb.length),i(Ee.Lb,0,0,Ee.Lb)}if(Ne.ub>_e)return Vr(E,7,"bad partition length");ie(Ee=E.m,W,re,Ne.ub),re+=Ne.ub,_e-=Ne.ub,Ne.Rb&&(Oe.Ld=qe(Ee),Oe.Kd=qe(Ee)),Oe=E.Qa;var De,Ue=E.Pa;if(t(Ee!=null),t(Oe!=null),Oe.Cb=qe(Ee),Oe.Cb){if(Oe.Bb=qe(Ee),qe(Ee)){for(Oe.Fb=qe(Ee),De=0;4>De;++De)Oe.Zb[De]=qe(Ee)?ue(Ee,7):0;for(De=0;4>De;++De)Oe.Lb[De]=qe(Ee)?ue(Ee,6):0}if(Oe.Bb)for(De=0;3>De;++De)Ue.jb[De]=qe(Ee)?le(Ee,8):255}else Oe.Bb=0;if(Ee.Ka)return Vr(E,3,"cannot parse segment header");if((Oe=E.ed).zd=qe(Ee),Oe.Tb=le(Ee,6),Oe.wb=le(Ee,3),Oe.Pc=qe(Ee),Oe.Pc&&qe(Ee)){for(Ue=0;4>Ue;++Ue)qe(Ee)&&(Oe.vd[Ue]=ue(Ee,6));for(Ue=0;4>Ue;++Ue)qe(Ee)&&(Oe.od[Ue]=ue(Ee,6))}if(E.L=Oe.Tb==0?0:Oe.zd?1:2,Ee.Ka)return Vr(E,3,"cannot parse filter header");var ot=_e;if(_e=De=re,re=De+ot,Oe=ot,E.Xb=(1<<le(E.m,2))-1,ot<3*(Ue=E.Xb))W=7;else{for(De+=3*Ue,Oe-=3*Ue,ot=0;ot<Ue;++ot){var Nt=W[_e+0]|W[_e+1]<<8|W[_e+2]<<16;Nt>Oe&&(Nt=Oe),ie(E.Jc[+ot],W,De,Nt),De+=Nt,Oe-=Nt,_e+=3}ie(E.Jc[+Ue],W,De,Oe),W=De<re?0:5}if(W!=0)return Vr(E,W,"cannot parse partitions");for(W=le(De=E.m,7),_e=qe(De)?ue(De,4):0,re=qe(De)?ue(De,4):0,Oe=qe(De)?ue(De,4):0,Ue=qe(De)?ue(De,4):0,De=qe(De)?ue(De,4):0,ot=E.Qa,Nt=0;4>Nt;++Nt){if(ot.Cb){var Ge=ot.Zb[Nt];ot.Fb||(Ge+=W)}else{if(0<Nt){E.pb[Nt]=E.pb[0];continue}Ge=W}var ct=E.pb[Nt];ct.Sc[0]=en[Fn(Ge+_e,127)],ct.Sc[1]=_n[Fn(Ge+0,127)],ct.Eb[0]=2*en[Fn(Ge+re,127)],ct.Eb[1]=101581*_n[Fn(Ge+Oe,127)]>>16,8>ct.Eb[1]&&(ct.Eb[1]=8),ct.Qc[0]=en[Fn(Ge+Ue,117)],ct.Qc[1]=_n[Fn(Ge+De,127)],ct.lc=Ge+De}if(!Ne.Rb)return Vr(E,4,"Not a key frame.");for(qe(Ee),Ne=E.Pa,W=0;4>W;++W){for(_e=0;8>_e;++_e)for(re=0;3>re;++re)for(Oe=0;11>Oe;++Oe)Ue=We(Ee,Lo[W][_e][re][Oe])?le(Ee,8):Aa[W][_e][re][Oe],Ne.Wc[W][_e].Yb[re][Oe]=Ue;for(_e=0;17>_e;++_e)Ne.Xc[W][_e]=Ne.Wc[W][dl[_e]]}return E.kc=qe(Ee),E.kc&&(E.Bd=le(Ee,8)),E.cb=1}function jn(E,A,W,re,_e,Ee,Ne){var Oe=A[_e].Yb[W];for(W=0;16>_e;++_e){if(!We(E,Oe[W+0]))return _e;for(;!We(E,Oe[W+1]);)if(Oe=A[++_e].Yb[0],W=0,_e==16)return 16;var De=A[_e+1].Yb;if(We(E,Oe[W+2])){var Ue=E,ot=0;if(We(Ue,(Ge=Oe)[(Nt=W)+3]))if(We(Ue,Ge[Nt+6])){for(Oe=0,Nt=2*(ot=We(Ue,Ge[Nt+8]))+(Ge=We(Ue,Ge[Nt+9+ot])),ot=0,Ge=kr[Nt];Ge[Oe];++Oe)ot+=ot+We(Ue,Ge[Oe]);ot+=3+(8<<Nt)}else We(Ue,Ge[Nt+7])?(ot=7+2*We(Ue,165),ot+=We(Ue,145)):ot=5+We(Ue,159);else ot=We(Ue,Ge[Nt+4])?3+We(Ue,Ge[Nt+5]):2;Oe=De[2]}else ot=1,Oe=De[1];De=Ne+va[_e],0>(Ue=E).b&&he(Ue);var Nt,Ge=Ue.b,ct=(Nt=Ue.Ca>>1)-(Ue.I>>Ge)>>31;--Ue.b,Ue.Ca+=ct,Ue.Ca|=1,Ue.I-=(Nt+1&ct)<<Ge,Ee[De]=((ot^ct)-ct)*re[(0<_e)+0]}return 16}function Cr(E){var A=E.rb[E.sb-1];A.la=0,A.Na=0,i(E.zc,0,0,E.zc.length),E.ja=0}function ai(E,A,W,re,_e){_e=E[A+W+32*re]+(_e>>3),E[A+W+32*re]=-256&_e?0>_e?0:255:_e}function Qr(E,A,W,re,_e,Ee){ai(E,A,0,W,re+_e),ai(E,A,1,W,re+Ee),ai(E,A,2,W,re-Ee),ai(E,A,3,W,re-_e)}function Hr(E){return(20091*E>>16)+E}function vo(E,A,W,re){var _e,Ee=0,Ne=l(16);for(_e=0;4>_e;++_e){var Oe=E[A+0]+E[A+8],De=E[A+0]-E[A+8],Ue=(35468*E[A+4]>>16)-Hr(E[A+12]),ot=Hr(E[A+4])+(35468*E[A+12]>>16);Ne[Ee+0]=Oe+ot,Ne[Ee+1]=De+Ue,Ne[Ee+2]=De-Ue,Ne[Ee+3]=Oe-ot,Ee+=4,A++}for(_e=Ee=0;4>_e;++_e)Oe=(E=Ne[Ee+0]+4)+Ne[Ee+8],De=E-Ne[Ee+8],Ue=(35468*Ne[Ee+4]>>16)-Hr(Ne[Ee+12]),ai(W,re,0,0,Oe+(ot=Hr(Ne[Ee+4])+(35468*Ne[Ee+12]>>16))),ai(W,re,1,0,De+Ue),ai(W,re,2,0,De-Ue),ai(W,re,3,0,Oe-ot),Ee++,re+=32}function yo(E,A,W,re){var _e=E[A+0]+4,Ee=35468*E[A+4]>>16,Ne=Hr(E[A+4]),Oe=35468*E[A+1]>>16;Qr(W,re,0,_e+Ne,E=Hr(E[A+1]),Oe),Qr(W,re,1,_e+Ee,E,Oe),Qr(W,re,2,_e-Ee,E,Oe),Qr(W,re,3,_e-Ne,E,Oe)}function Fa(E,A,W,re,_e){vo(E,A,W,re),_e&&vo(E,A+16,W,re+4)}function Or(E,A,W,re){o(E,A+0,W,re,1),o(E,A+32,W,re+128,1)}function Wi(E,A,W,re){var _e;for(E=E[A+0]+4,_e=0;4>_e;++_e)for(A=0;4>A;++A)ai(W,re,A,_e,E)}function Ki(E,A,W,re){E[A+0]&&B(E,A+0,W,re),E[A+16]&&B(E,A+16,W,re+4),E[A+32]&&B(E,A+32,W,re+128),E[A+48]&&B(E,A+48,W,re+128+4)}function Xi(E,A,W,re){var _e,Ee=l(16);for(_e=0;4>_e;++_e){var Ne=E[A+0+_e]+E[A+12+_e],Oe=E[A+4+_e]+E[A+8+_e],De=E[A+4+_e]-E[A+8+_e],Ue=E[A+0+_e]-E[A+12+_e];Ee[0+_e]=Ne+Oe,Ee[8+_e]=Ne-Oe,Ee[4+_e]=Ue+De,Ee[12+_e]=Ue-De}for(_e=0;4>_e;++_e)Ne=(E=Ee[0+4*_e]+3)+Ee[3+4*_e],Oe=Ee[1+4*_e]+Ee[2+4*_e],De=Ee[1+4*_e]-Ee[2+4*_e],Ue=E-Ee[3+4*_e],W[re+0]=Ne+Oe>>3,W[re+16]=Ue+De>>3,W[re+32]=Ne-Oe>>3,W[re+48]=Ue-De>>3,re+=64}function wa(E,A,W){var re,_e=A-32,Ee=zr,Ne=255-E[_e-1];for(re=0;re<W;++re){var Oe,De=Ee,Ue=Ne+E[A-1];for(Oe=0;Oe<W;++Oe)E[A+Oe]=De[Ue+E[_e+Oe]];A+=32}}function ja(E,A){wa(E,A,4)}function Qn(E,A){wa(E,A,8)}function er(E,A){wa(E,A,16)}function Wn(E,A){var W;for(W=0;16>W;++W)r(E,A+32*W,E,A-32,16)}function oi(E,A){var W;for(W=16;0<W;--W)i(E,A,E[A-1],16),A+=32}function Rr(E,A,W){var re;for(re=0;16>re;++re)i(A,W+32*re,E,16)}function Zi(E,A){var W,re=16;for(W=0;16>W;++W)re+=E[A-1+32*W]+E[A+W-32];Rr(re>>5,E,A)}function Wr(E,A){var W,re=8;for(W=0;16>W;++W)re+=E[A-1+32*W];Rr(re>>4,E,A)}function ei(E,A){var W,re=8;for(W=0;16>W;++W)re+=E[A+W-32];Rr(re>>4,E,A)}function Ca(E,A){Rr(128,E,A)}function sn(E,A,W){return E+2*A+W+2>>2}function Sa(E,A){var W,re=A-32;for(re=new Uint8Array([sn(E[re-1],E[re+0],E[re+1]),sn(E[re+0],E[re+1],E[re+2]),sn(E[re+1],E[re+2],E[re+3]),sn(E[re+2],E[re+3],E[re+4])]),W=0;4>W;++W)r(E,A+32*W,re,0,re.length)}function Fr(E,A){var W=E[A-1],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1+96];Fe(E,A+0,16843009*sn(E[A-1-32],W,re)),Fe(E,A+32,16843009*sn(W,re,_e)),Fe(E,A+64,16843009*sn(re,_e,Ee)),Fe(E,A+96,16843009*sn(_e,Ee,Ee))}function Ro(E,A){var W,re=4;for(W=0;4>W;++W)re+=E[A+W-32]+E[A-1+32*W];for(re>>=3,W=0;4>W;++W)i(E,A+32*W,re,4)}function za(E,A){var W=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1-32],Ne=E[A+0-32],Oe=E[A+1-32],De=E[A+2-32],Ue=E[A+3-32];E[A+0+96]=sn(re,_e,E[A-1+96]),E[A+1+96]=E[A+0+64]=sn(W,re,_e),E[A+2+96]=E[A+1+64]=E[A+0+32]=sn(Ee,W,re),E[A+3+96]=E[A+2+64]=E[A+1+32]=E[A+0+0]=sn(Ne,Ee,W),E[A+3+64]=E[A+2+32]=E[A+1+0]=sn(Oe,Ne,Ee),E[A+3+32]=E[A+2+0]=sn(De,Oe,Ne),E[A+3+0]=sn(Ue,De,Oe)}function Ea(E,A){var W=E[A+1-32],re=E[A+2-32],_e=E[A+3-32],Ee=E[A+4-32],Ne=E[A+5-32],Oe=E[A+6-32],De=E[A+7-32];E[A+0+0]=sn(E[A+0-32],W,re),E[A+1+0]=E[A+0+32]=sn(W,re,_e),E[A+2+0]=E[A+1+32]=E[A+0+64]=sn(re,_e,Ee),E[A+3+0]=E[A+2+32]=E[A+1+64]=E[A+0+96]=sn(_e,Ee,Ne),E[A+3+32]=E[A+2+64]=E[A+1+96]=sn(Ee,Ne,Oe),E[A+3+64]=E[A+2+96]=sn(Ne,Oe,De),E[A+3+96]=sn(Oe,De,De)}function cr(E,A){var W=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1-32],Ne=E[A+0-32],Oe=E[A+1-32],De=E[A+2-32],Ue=E[A+3-32];E[A+0+0]=E[A+1+64]=Ee+Ne+1>>1,E[A+1+0]=E[A+2+64]=Ne+Oe+1>>1,E[A+2+0]=E[A+3+64]=Oe+De+1>>1,E[A+3+0]=De+Ue+1>>1,E[A+0+96]=sn(_e,re,W),E[A+0+64]=sn(re,W,Ee),E[A+0+32]=E[A+1+96]=sn(W,Ee,Ne),E[A+1+32]=E[A+2+96]=sn(Ee,Ne,Oe),E[A+2+32]=E[A+3+96]=sn(Ne,Oe,De),E[A+3+32]=sn(Oe,De,Ue)}function Ii(E,A){var W=E[A+0-32],re=E[A+1-32],_e=E[A+2-32],Ee=E[A+3-32],Ne=E[A+4-32],Oe=E[A+5-32],De=E[A+6-32],Ue=E[A+7-32];E[A+0+0]=W+re+1>>1,E[A+1+0]=E[A+0+64]=re+_e+1>>1,E[A+2+0]=E[A+1+64]=_e+Ee+1>>1,E[A+3+0]=E[A+2+64]=Ee+Ne+1>>1,E[A+0+32]=sn(W,re,_e),E[A+1+32]=E[A+0+96]=sn(re,_e,Ee),E[A+2+32]=E[A+1+96]=sn(_e,Ee,Ne),E[A+3+32]=E[A+2+96]=sn(Ee,Ne,Oe),E[A+3+64]=sn(Ne,Oe,De),E[A+3+96]=sn(Oe,De,Ue)}function Qa(E,A){var W=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1+96];E[A+0+0]=W+re+1>>1,E[A+2+0]=E[A+0+32]=re+_e+1>>1,E[A+2+32]=E[A+0+64]=_e+Ee+1>>1,E[A+1+0]=sn(W,re,_e),E[A+3+0]=E[A+1+32]=sn(re,_e,Ee),E[A+3+32]=E[A+1+64]=sn(_e,Ee,Ee),E[A+3+64]=E[A+2+64]=E[A+0+96]=E[A+1+96]=E[A+2+96]=E[A+3+96]=Ee}function eo(E,A){var W=E[A-1+0],re=E[A-1+32],_e=E[A-1+64],Ee=E[A-1+96],Ne=E[A-1-32],Oe=E[A+0-32],De=E[A+1-32],Ue=E[A+2-32];E[A+0+0]=E[A+2+32]=W+Ne+1>>1,E[A+0+32]=E[A+2+64]=re+W+1>>1,E[A+0+64]=E[A+2+96]=_e+re+1>>1,E[A+0+96]=Ee+_e+1>>1,E[A+3+0]=sn(Oe,De,Ue),E[A+2+0]=sn(Ne,Oe,De),E[A+1+0]=E[A+3+32]=sn(W,Ne,Oe),E[A+1+32]=E[A+3+64]=sn(re,W,Ne),E[A+1+64]=E[A+3+96]=sn(_e,re,W),E[A+1+96]=sn(Ee,_e,re)}function Kr(E,A){var W;for(W=0;8>W;++W)r(E,A+32*W,E,A-32,8)}function to(E,A){var W;for(W=0;8>W;++W)i(E,A,E[A-1],8),A+=32}function si(E,A,W){var re;for(re=0;8>re;++re)i(A,W+32*re,E,8)}function os(E,A){var W,re=8;for(W=0;8>W;++W)re+=E[A+W-32]+E[A-1+32*W];si(re>>4,E,A)}function Bo(E,A){var W,re=4;for(W=0;8>W;++W)re+=E[A+W-32];si(re>>3,E,A)}function Do(E,A){var W,re=4;for(W=0;8>W;++W)re+=E[A-1+32*W];si(re>>3,E,A)}function $o(E,A){si(128,E,A)}function ka(E,A,W){var re=E[A-W],_e=E[A+0],Ee=3*(_e-re)+wo[1020+E[A-2*W]-E[A+W]],Ne=mi[112+(Ee+4>>3)];E[A-W]=zr[255+re+mi[112+(Ee+3>>3)]],E[A+0]=zr[255+_e-Ne]}function Fo(E,A,W,re){var _e=E[A+0],Ee=E[A+W];return Ia[255+E[A-2*W]-E[A-W]]>re||Ia[255+Ee-_e]>re}function Yn(E,A,W,re){return 4*Ia[255+E[A-W]-E[A+0]]+Ia[255+E[A-2*W]-E[A+W]]<=re}function _o(E,A,W,re,_e){var Ee=E[A-3*W],Ne=E[A-2*W],Oe=E[A-W],De=E[A+0],Ue=E[A+W],ot=E[A+2*W],Nt=E[A+3*W];return 4*Ia[255+Oe-De]+Ia[255+Ne-Ue]>re?0:Ia[255+E[A-4*W]-Ee]<=_e&&Ia[255+Ee-Ne]<=_e&&Ia[255+Ne-Oe]<=_e&&Ia[255+Nt-ot]<=_e&&Ia[255+ot-Ue]<=_e&&Ia[255+Ue-De]<=_e}function Kn(E,A,W,re){var _e=2*re+1;for(re=0;16>re;++re)Yn(E,A+re,W,_e)&&ka(E,A+re,W)}function hi(E,A,W,re){var _e=2*re+1;for(re=0;16>re;++re)Yn(E,A+re*W,1,_e)&&ka(E,A+re*W,1)}function ua(E,A,W,re){var _e;for(_e=3;0<_e;--_e)Kn(E,A+=4*W,W,re)}function bs(E,A,W,re){var _e;for(_e=3;0<_e;--_e)hi(E,A+=4,W,re)}function Bi(E,A,W,re,_e,Ee,Ne,Oe){for(Ee=2*Ee+1;0<_e--;){if(_o(E,A,W,Ee,Ne))if(Fo(E,A,W,Oe))ka(E,A,W);else{var De=E,Ue=A,ot=W,Nt=De[Ue-2*ot],Ge=De[Ue-ot],ct=De[Ue+0],dt=De[Ue+ot],Bt=De[Ue+2*ot],Lt=27*(Vt=wo[1020+3*(ct-Ge)+wo[1020+Nt-dt]])+63>>7,Ht=18*Vt+63>>7,Vt=9*Vt+63>>7;De[Ue-3*ot]=zr[255+De[Ue-3*ot]+Vt],De[Ue-2*ot]=zr[255+Nt+Ht],De[Ue-ot]=zr[255+Ge+Lt],De[Ue+0]=zr[255+ct-Lt],De[Ue+ot]=zr[255+dt-Ht],De[Ue+2*ot]=zr[255+Bt-Vt]}A+=re}}function no(E,A,W,re,_e,Ee,Ne,Oe){for(Ee=2*Ee+1;0<_e--;){if(_o(E,A,W,Ee,Ne))if(Fo(E,A,W,Oe))ka(E,A,W);else{var De=E,Ue=A,ot=W,Nt=De[Ue-ot],Ge=De[Ue+0],ct=De[Ue+ot],dt=mi[112+(4+(Bt=3*(Ge-Nt))>>3)],Bt=mi[112+(Bt+3>>3)],Lt=dt+1>>1;De[Ue-2*ot]=zr[255+De[Ue-2*ot]+Lt],De[Ue-ot]=zr[255+Nt+Bt],De[Ue+0]=zr[255+Ge-dt],De[Ue+ot]=zr[255+ct-Lt]}A+=re}}function La(E,A,W,re,_e,Ee){Bi(E,A,W,1,16,re,_e,Ee)}function ro(E,A,W,re,_e,Ee){Bi(E,A,1,W,16,re,_e,Ee)}function ca(E,A,W,re,_e,Ee){var Ne;for(Ne=3;0<Ne;--Ne)no(E,A+=4*W,W,1,16,re,_e,Ee)}function z(E,A,W,re,_e,Ee){var Ne;for(Ne=3;0<Ne;--Ne)no(E,A+=4,1,W,16,re,_e,Ee)}function ye(E,A,W,re,_e,Ee,Ne,Oe){Bi(E,A,_e,1,8,Ee,Ne,Oe),Bi(W,re,_e,1,8,Ee,Ne,Oe)}function ze(E,A,W,re,_e,Ee,Ne,Oe){Bi(E,A,1,_e,8,Ee,Ne,Oe),Bi(W,re,1,_e,8,Ee,Ne,Oe)}function et(E,A,W,re,_e,Ee,Ne,Oe){no(E,A+4*_e,_e,1,8,Ee,Ne,Oe),no(W,re+4*_e,_e,1,8,Ee,Ne,Oe)}function pt(E,A,W,re,_e,Ee,Ne,Oe){no(E,A+4,1,_e,8,Ee,Ne,Oe),no(W,re+4,1,_e,8,Ee,Ne,Oe)}function $t(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Cn(){this.ua=0,this.Wa=new kt,this.vb=new kt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new te}function Tn(){this.xb=this.a=0,this.l=new xr,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ce,this.Pb=0,this.wd=new ce,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Cn,this.ab=0,this.gc=h(4,Mn),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(E,A,W,re,_e,Ee,Ne){for(E=E==null?0:E[A+0],A=0;A<Ne;++A)_e[Ee+A]=E+W[re+A]&255,E=_e[Ee+A]}function li(E,A,W,re,_e,Ee,Ne){var Oe;if(E==null)Sr(null,null,W,re,_e,Ee,Ne);else for(Oe=0;Oe<Ne;++Oe)_e[Ee+Oe]=E[A+Oe]+W[re+Oe]&255}function vr(E,A,W,re,_e,Ee,Ne){if(E==null)Sr(null,null,W,re,_e,Ee,Ne);else{var Oe,De=E[A+0],Ue=De,ot=De;for(Oe=0;Oe<Ne;++Oe)Ue=ot+(De=E[A+Oe])-Ue,ot=W[re+Oe]+(-256&Ue?0>Ue?0:255:Ue)&255,Ue=De,_e[Ee+Oe]=ot}}function ar(E,A,W,re){var _e=A.width,Ee=A.o;if(t(E!=null&&A!=null),0>W||0>=re||W+re>Ee)return null;if(!E.Cc){if(E.ga==null){var Ne;if(E.ga=new ir,(Ne=E.ga==null)||(Ne=A.width*A.o,t(E.Gb.length==0),E.Gb=l(Ne),E.Uc=0,E.Gb==null?Ne=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,Ne=1),Ne=!Ne),!Ne){Ne=E.ga;var Oe=E.Fa,De=E.P,Ue=E.qc,ot=E.mb,Nt=E.nb,Ge=De+1,ct=Ue-1,dt=Ne.l;if(t(Oe!=null&&ot!=null&&A!=null),ni[0]=null,ni[1]=Sr,ni[2]=li,ni[3]=vr,Ne.ca=ot,Ne.tb=Nt,Ne.c=A.width,Ne.i=A.height,t(0<Ne.c&&0<Ne.i),1>=Ue)A=0;else if(Ne.$a=3&Oe[De+0],Ne.Z=Oe[De+0]>>2&3,Ne.Lc=Oe[De+0]>>4&3,De=Oe[De+0]>>6&3,0>Ne.$a||1<Ne.$a||4<=Ne.Z||1<Ne.Lc||De)A=0;else if(dt.put=mn,dt.ac=dr,dt.bc=br,dt.ma=Ne,dt.width=A.width,dt.height=A.height,dt.Da=A.Da,dt.v=A.v,dt.va=A.va,dt.j=A.j,dt.o=A.o,Ne.$a)e:{t(Ne.$a==1),A=wr();t:for(;;){if(A==null){A=0;break e}if(t(Ne!=null),Ne.mc=A,A.c=Ne.c,A.i=Ne.i,A.l=Ne.l,A.l.ma=Ne,A.l.width=Ne.c,A.l.height=Ne.i,A.a=0,be(A.m,Oe,Ge,ct),!Nr(Ne.c,Ne.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&Gn(A.s)?(Ne.ic=1,Oe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=l(Oe),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(Ne.ic=0,A=Si(A,Ne.c)),!A))break t;A=1;break e}Ne.mc=null,A=0}else A=ct>=Ne.c*Ne.i;Ne=!A}if(Ne)return null;E.ga.Lc!=1?E.Ga=0:re=Ee-W}t(E.ga!=null),t(W+re<=Ee);e:{if(A=(Oe=E.ga).c,Ee=Oe.l.o,Oe.$a==0){if(Ge=E.rc,ct=E.Vc,dt=E.Fa,De=E.P+1+W*A,Ue=E.mb,ot=E.nb+W*A,t(De<=E.P+E.qc),Oe.Z!=0)for(t(ni[Oe.Z]!=null),Ne=0;Ne<re;++Ne)ni[Oe.Z](Ge,ct,dt,De,Ue,ot,A),Ge=Ue,ct=ot,ot+=A,De+=A;else for(Ne=0;Ne<re;++Ne)r(Ue,ot,dt,De,A),Ge=Ue,ct=ot,ot+=A,De+=A;E.rc=Ge,E.Vc=ct}else{if(t(Oe.mc!=null),A=W+re,t((Ne=Oe.mc)!=null),t(A<=Ne.i),Ne.C>=A)A=1;else if(Oe.ic||Er(),Oe.ic){Oe=Ne.V,Ge=Ne.Ba,ct=Ne.c;var Bt=Ne.i,Lt=(dt=1,De=Ne.$/ct,Ue=Ne.$%ct,ot=Ne.m,Nt=Ne.s,Ne.$),Ht=ct*Bt,Vt=ct*A,on=Nt.wc,rn=Lt<Vt?Pr(Nt,Ue,De):null;t(Lt<=Ht),t(A<=Bt),t(Gn(Nt));t:for(;;){for(;!ot.h&&Lt<Vt;){if(Ue&on||(rn=Pr(Nt,Ue,De)),t(rn!=null),Be(ot),256>(Bt=zn(rn.G[0],rn.H[0],ot)))Oe[Ge+Lt]=Bt,++Lt,++Ue>=ct&&(Ue=0,++De<=A&&!(De%16)&&nr(Ne,De));else{if(!(280>Bt)){dt=0;break t}Bt=ur(Bt-256,ot);var Hn,u=zn(rn.G[4],rn.H[4],ot);if(Be(ot),!(Lt>=(u=Tr(ct,u=ur(u,ot)))&&Ht-Lt>=Bt)){dt=0;break t}for(Hn=0;Hn<Bt;++Hn)Oe[Ge+Lt+Hn]=Oe[Ge+Lt+Hn-u];for(Lt+=Bt,Ue+=Bt;Ue>=ct;)Ue-=ct,++De<=A&&!(De%16)&&nr(Ne,De);Lt<Vt&&Ue&on&&(rn=Pr(Nt,Ue,De))}t(ot.h==we(ot))}nr(Ne,De>A?A:De);break t}!dt||ot.h&&Lt<Ht?(dt=0,Ne.a=ot.h?5:3):Ne.$=Lt,A=dt}else A=sr(Ne,Ne.V,Ne.Ba,Ne.c,Ne.i,A,yi);if(!A){re=0;break e}}W+re>=Ee&&(E.Cc=1),re=1}if(!re)return null;if(E.Cc&&((re=E.ga)!=null&&(re.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+W*_e}function di(E,A,W,re,_e,Ee){for(;0<_e--;){var Ne,Oe=E,De=A+(W?1:0),Ue=E,ot=A+(W?0:3);for(Ne=0;Ne<re;++Ne){var Nt=Ue[ot+4*Ne];Nt!=255&&(Nt*=32897,Oe[De+4*Ne+0]=Oe[De+4*Ne+0]*Nt>>23,Oe[De+4*Ne+1]=Oe[De+4*Ne+1]*Nt>>23,Oe[De+4*Ne+2]=Oe[De+4*Ne+2]*Nt>>23)}A+=Ee}}function Xr(E,A,W,re,_e){for(;0<re--;){var Ee;for(Ee=0;Ee<W;++Ee){var Ne=E[A+2*Ee+0],Oe=15&(Ue=E[A+2*Ee+1]),De=4369*Oe,Ue=(240&Ue|Ue>>4)*De>>16;E[A+2*Ee+0]=(240&Ne|Ne>>4)*De>>16&240|(15&Ne|Ne<<4)*De>>16>>4&15,E[A+2*Ee+1]=240&Ue|Oe}A+=_e}}function Ir(E,A,W,re,_e,Ee,Ne,Oe){var De,Ue,ot=255;for(Ue=0;Ue<_e;++Ue){for(De=0;De<re;++De){var Nt=E[A+De];Ee[Ne+4*De]=Nt,ot&=Nt}A+=W,Ne+=Oe}return ot!=255}function Di(E,A,W,re,_e){var Ee;for(Ee=0;Ee<_e;++Ee)W[re+Ee]=E[A+Ee]>>8}function Er(){ti=di,ki=Xr,Wa=Ir,Jo=Di}function ha(E,A,W){q[E]=function(re,_e,Ee,Ne,Oe,De,Ue,ot,Nt,Ge,ct,dt,Bt,Lt,Ht,Vt,on){var rn,Hn=on-1>>1,u=Oe[De+0]|Ue[ot+0]<<16,p=Nt[Ge+0]|ct[dt+0]<<16;t(re!=null);var _=3*u+p+131074>>2;for(A(re[_e+0],255&_,_>>16,Bt,Lt),Ee!=null&&(_=3*p+u+131074>>2,A(Ee[Ne+0],255&_,_>>16,Ht,Vt)),rn=1;rn<=Hn;++rn){var S=Oe[De+rn]|Ue[ot+rn]<<16,P=Nt[Ge+rn]|ct[dt+rn]<<16,j=u+S+p+P+524296,X=j+2*(S+p)>>3;_=X+u>>1,u=(j=j+2*(u+P)>>3)+S>>1,A(re[_e+2*rn-1],255&_,_>>16,Bt,Lt+(2*rn-1)*W),A(re[_e+2*rn-0],255&u,u>>16,Bt,Lt+(2*rn-0)*W),Ee!=null&&(_=j+p>>1,u=X+P>>1,A(Ee[Ne+2*rn-1],255&_,_>>16,Ht,Vt+(2*rn-1)*W),A(Ee[Ne+2*rn+0],255&u,u>>16,Ht,Vt+(2*rn+0)*W)),u=S,p=P}1&on||(_=3*u+p+131074>>2,A(re[_e+on-1],255&_,_>>16,Bt,Lt+(on-1)*W),Ee!=null&&(_=3*p+u+131074>>2,A(Ee[Ne+on-1],255&_,_>>16,Ht,Vt+(on-1)*W)))}}function bo(){aa[Oa]=Tu,aa[tr]=ql,aa[As]=No,aa[us]=cs,aa[lo]=Vs,aa[Li]=Ul,aa[hl]=yc,aa[ga]=ql,aa[ma]=cs,aa[ko]=Vs,aa[s]=Ul}function bi(E){return E&-16384?0>E?0:255:E>>od}function xi(E,A){return bi((19077*E>>8)+(26149*A>>8)-14234)}function io(E,A,W){return bi((19077*E>>8)-(6419*A>>8)-(13320*W>>8)+8708)}function Na(E,A){return bi((19077*E>>8)+(33050*A>>8)-17685)}function ao(E,A,W,re,_e){re[_e+0]=xi(E,W),re[_e+1]=io(E,A,W),re[_e+2]=Na(E,A)}function qr(E,A,W,re,_e){re[_e+0]=Na(E,A),re[_e+1]=io(E,A,W),re[_e+2]=xi(E,W)}function Ui(E,A,W,re,_e){var Ee=io(E,A,W);A=Ee<<3&224|Na(E,A)>>3,re[_e+0]=248&xi(E,W)|Ee>>5,re[_e+1]=A}function oo(E,A,W,re,_e){var Ee=240&Na(E,A)|15;re[_e+0]=240&xi(E,W)|io(E,A,W)>>4,re[_e+1]=Ee}function jo(E,A,W,re,_e){re[_e+0]=255,ao(E,A,W,re,_e+1)}function zo(E,A,W,re,_e){qr(E,A,W,re,_e),re[_e+3]=255}function jr(E,A,W,re,_e){ao(E,A,W,re,_e),re[_e+3]=255}function ra(E,A,W){q[E]=function(re,_e,Ee,Ne,Oe,De,Ue,ot,Nt){for(var Ge=ot+(-2&Nt)*W;ot!=Ge;)A(re[_e+0],Ee[Ne+0],Oe[De+0],Ue,ot),A(re[_e+1],Ee[Ne+0],Oe[De+0],Ue,ot+W),_e+=2,++Ne,++De,ot+=2*W;1&Nt&&A(re[_e+0],Ee[Ne+0],Oe[De+0],Ue,ot)}}function Ho(E,A,W){return W==0?E==0?A==0?6:5:A==0?4:0:W}function ia(E,A,W,re,_e){switch(E>>>30){case 3:o(A,W,re,_e,0);break;case 2:d(A,W,re,_e);break;case 1:B(A,W,re,_e)}}function da(E,A){var W,re,_e=A.M,Ee=A.Nb,Ne=E.oc,Oe=E.pc+40,De=E.oc,Ue=E.pc+584,ot=E.oc,Nt=E.pc+600;for(W=0;16>W;++W)Ne[Oe+32*W-1]=129;for(W=0;8>W;++W)De[Ue+32*W-1]=129,ot[Nt+32*W-1]=129;for(0<_e?Ne[Oe-1-32]=De[Ue-1-32]=ot[Nt-1-32]=129:(i(Ne,Oe-32-1,127,21),i(De,Ue-32-1,127,9),i(ot,Nt-32-1,127,9)),re=0;re<E.za;++re){var Ge=A.ya[A.aa+re];if(0<re){for(W=-1;16>W;++W)r(Ne,Oe+32*W-4,Ne,Oe+32*W+12,4);for(W=-1;8>W;++W)r(De,Ue+32*W-4,De,Ue+32*W+4,4),r(ot,Nt+32*W-4,ot,Nt+32*W+4,4)}var ct=E.Gd,dt=E.Hd+re,Bt=Ge.ad,Lt=Ge.Hc;if(0<_e&&(r(Ne,Oe-32,ct[dt].y,0,16),r(De,Ue-32,ct[dt].f,0,8),r(ot,Nt-32,ct[dt].ea,0,8)),Ge.Za){var Ht=Ne,Vt=Oe-32+16;for(0<_e&&(re>=E.za-1?i(Ht,Vt,ct[dt].y[15],4):r(Ht,Vt,ct[dt+1].y,0,4)),W=0;4>W;W++)Ht[Vt+128+W]=Ht[Vt+256+W]=Ht[Vt+384+W]=Ht[Vt+0+W];for(W=0;16>W;++W,Lt<<=2)Ht=Ne,Vt=Oe+bc[W],uo[Ge.Ob[W]](Ht,Vt),ia(Lt,Bt,16*+W,Ht,Vt)}else if(Ht=Ho(re,_e,Ge.Ob[0]),Co[Ht](Ne,Oe),Lt!=0)for(W=0;16>W;++W,Lt<<=2)ia(Lt,Bt,16*+W,Ne,Oe+bc[W]);for(W=Ge.Gc,Ht=Ho(re,_e,Ge.Dd),Xa[Ht](De,Ue),Xa[Ht](ot,Nt),Lt=Bt,Ht=De,Vt=Ue,255&(Ge=0|W)&&(170&Ge?C(Lt,256,Ht,Vt):K(Lt,256,Ht,Vt)),Ge=ot,Lt=Nt,255&(W>>=8)&&(170&W?C(Bt,320,Ge,Lt):K(Bt,320,Ge,Lt)),_e<E.Ub-1&&(r(ct[dt].y,0,Ne,Oe+480,16),r(ct[dt].f,0,De,Ue+224,8),r(ct[dt].ea,0,ot,Nt+224,8)),W=8*Ee*E.B,ct=E.sa,dt=E.ta+16*re+16*Ee*E.R,Bt=E.qa,Ge=E.ra+8*re+W,Lt=E.Ha,Ht=E.Ia+8*re+W,W=0;16>W;++W)r(ct,dt+W*E.R,Ne,Oe+32*W,16);for(W=0;8>W;++W)r(Bt,Ge+W*E.B,De,Ue+32*W,8),r(Lt,Ht+W*E.B,ot,Nt+32*W,8)}}function Ma(E,A,W,re,_e,Ee,Ne,Oe,De){var Ue=[0],ot=[0],Nt=0,Ge=De!=null?De.kd:0,ct=De??new Qt;if(E==null||12>W)return 7;ct.data=E,ct.w=A,ct.ha=W,A=[A],W=[W],ct.gb=[ct.gb];e:{var dt=A,Bt=W,Lt=ct.gb;if(t(E!=null),t(Bt!=null),t(Lt!=null),Lt[0]=0,12<=Bt[0]&&!n(E,dt[0],"RIFF")){if(n(E,dt[0]+8,"WEBP")){Lt=3;break e}var Ht=ft(E,dt[0]+4);if(12>Ht||4294967286<Ht){Lt=3;break e}if(Ge&&Ht>Bt[0]-8){Lt=7;break e}Lt[0]=Ht,dt[0]+=12,Bt[0]-=12}Lt=0}if(Lt!=0)return Lt;for(Ht=0<ct.gb[0],W=W[0];;){e:{var Vt=E;Bt=A,Lt=W;var on=Ue,rn=ot,Hn=dt=[0];if((_=Nt=[Nt])[0]=0,8>Lt[0])Lt=7;else{if(!n(Vt,Bt[0],"VP8X")){if(ft(Vt,Bt[0]+4)!=10){Lt=3;break e}if(18>Lt[0]){Lt=7;break e}var u=ft(Vt,Bt[0]+8),p=1+it(Vt,Bt[0]+12);if(2147483648<=p*(Vt=1+it(Vt,Bt[0]+15))){Lt=3;break e}Hn!=null&&(Hn[0]=u),on!=null&&(on[0]=p),rn!=null&&(rn[0]=Vt),Bt[0]+=18,Lt[0]-=18,_[0]=1}Lt=0}}if(Nt=Nt[0],dt=dt[0],Lt!=0)return Lt;if(Bt=!!(2&dt),!Ht&&Nt)return 3;if(Ee!=null&&(Ee[0]=!!(16&dt)),Ne!=null&&(Ne[0]=Bt),Oe!=null&&(Oe[0]=0),Ne=Ue[0],dt=ot[0],Nt&&Bt&&De==null){Lt=0;break}if(4>W){Lt=7;break}if(Ht&&Nt||!Ht&&!Nt&&!n(E,A[0],"ALPH")){W=[W],ct.na=[ct.na],ct.P=[ct.P],ct.Sa=[ct.Sa];e:{u=E,Lt=A,Ht=W;var _=ct.gb;on=ct.na,rn=ct.P,Hn=ct.Sa,p=22,t(u!=null),t(Ht!=null),Vt=Lt[0];var S=Ht[0];for(t(on!=null),t(Hn!=null),on[0]=null,rn[0]=null,Hn[0]=0;;){if(Lt[0]=Vt,Ht[0]=S,8>S){Lt=7;break e}var P=ft(u,Vt+4);if(4294967286<P){Lt=3;break e}var j=8+P+1&-2;if(p+=j,0<_&&p>_){Lt=3;break e}if(!n(u,Vt,"VP8 ")||!n(u,Vt,"VP8L")){Lt=0;break e}if(S[0]<j){Lt=7;break e}n(u,Vt,"ALPH")||(on[0]=u,rn[0]=Vt+8,Hn[0]=P),Vt+=j,S-=j}}if(W=W[0],ct.na=ct.na[0],ct.P=ct.P[0],ct.Sa=ct.Sa[0],Lt!=0)break}W=[W],ct.Ja=[ct.Ja],ct.xa=[ct.xa];e:if(_=E,Lt=A,Ht=W,on=ct.gb[0],rn=ct.Ja,Hn=ct.xa,u=Lt[0],Vt=!n(_,u,"VP8 "),p=!n(_,u,"VP8L"),t(_!=null),t(Ht!=null),t(rn!=null),t(Hn!=null),8>Ht[0])Lt=7;else{if(Vt||p){if(_=ft(_,u+4),12<=on&&_>on-12){Lt=3;break e}if(Ge&&_>Ht[0]-8){Lt=7;break e}rn[0]=_,Lt[0]+=8,Ht[0]-=8,Hn[0]=p}else Hn[0]=5<=Ht[0]&&_[u+0]==47&&!(_[u+4]>>5),rn[0]=Ht[0];Lt=0}if(W=W[0],ct.Ja=ct.Ja[0],ct.xa=ct.xa[0],A=A[0],Lt!=0)break;if(4294967286<ct.Ja)return 3;if(Oe==null||Bt||(Oe[0]=ct.xa?2:1),Ne=[Ne],dt=[dt],ct.xa){if(5>W){Lt=7;break}Oe=Ne,Ge=dt,Bt=Ee,E==null||5>W?E=0:5<=W&&E[A+0]==47&&!(E[A+4]>>5)?(Ht=[0],_=[0],on=[0],be(rn=new ce,E,A,W),Un(rn,Ht,_,on)?(Oe!=null&&(Oe[0]=Ht[0]),Ge!=null&&(Ge[0]=_[0]),Bt!=null&&(Bt[0]=on[0]),E=1):E=0):E=0}else{if(10>W){Lt=7;break}Oe=dt,E==null||10>W||!la(E,A+3,W-3)?E=0:(Ge=E[A+0]|E[A+1]<<8|E[A+2]<<16,Bt=16383&(E[A+7]<<8|E[A+6]),E=16383&(E[A+9]<<8|E[A+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=ct.Ja||!Bt||!E?E=0:(Ne&&(Ne[0]=Bt),Oe&&(Oe[0]=E),E=1))}if(!E||(Ne=Ne[0],dt=dt[0],Nt&&(Ue[0]!=Ne||ot[0]!=dt)))return 3;De!=null&&(De[0]=ct,De.offset=A-De.w,t(4294967286>A-De.w),t(De.offset==De.ha-W));break}return Lt==0||Lt==7&&Nt&&De==null?(Ee!=null&&(Ee[0]|=ct.na!=null&&0<ct.na.length),re!=null&&(re[0]=Ne),_e!=null&&(_e[0]=dt),0):Lt}function ss(E,A,W){var re=A.width,_e=A.height,Ee=0,Ne=0,Oe=re,De=_e;if(A.Da=E!=null&&0<E.Da,A.Da&&(Oe=E.cd,De=E.bd,Ee=E.v,Ne=E.j,11>W||(Ee&=-2,Ne&=-2),0>Ee||0>Ne||0>=Oe||0>=De||Ee+Oe>re||Ne+De>_e))return 0;if(A.v=Ee,A.j=Ne,A.va=Ee+Oe,A.o=Ne+De,A.U=Oe,A.T=De,A.da=E!=null&&0<E.da,A.da){if(!At(Oe,De,W=[E.ib],Ee=[E.hb]))return 0;A.ib=W[0],A.hb=Ee[0]}return A.ob=E!=null&&E.ob,A.Kb=E==null||!E.Sd,A.da&&(A.ob=A.ib<3*re/4&&A.hb<3*_e/4,A.Kb=0),1}function xo(E){if(E==null)return 2;if(11>E.S){var A=E.f.RGBA;A.fb+=(E.height-1)*A.A,A.A=-A.A}else A=E.f.kb,E=E.height,A.O+=(E-1)*A.fa,A.fa=-A.fa,A.N+=(E-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(E-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(E-1)*A.lb,A.lb=-A.lb);return 0}function Ha(E,A,W,re){if(re==null||0>=E||0>=A)return 2;if(W!=null){if(W.Da){var _e=W.cd,Ee=W.bd,Ne=-2&W.v,Oe=-2&W.j;if(0>Ne||0>Oe||0>=_e||0>=Ee||Ne+_e>E||Oe+Ee>A)return 2;E=_e,A=Ee}if(W.da){if(!At(E,A,_e=[W.ib],Ee=[W.hb]))return 2;E=_e[0],A=Ee[0]}}re.width=E,re.height=A;e:{var De=re.width,Ue=re.height;if(E=re.S,0>=De||0>=Ue||!(E>=Oa&&13>E))E=2;else{if(0>=re.Rd&&re.sd==null){Ne=Ee=_e=A=0;var ot=(Oe=De*Cc[E])*Ue;if(11>E||(Ee=(Ue+1)/2*(A=(De+1)/2),E==12&&(Ne=(_e=De)*Ue)),(Ue=l(ot+2*Ee+Ne))==null){E=1;break e}re.sd=Ue,11>E?((De=re.f.RGBA).eb=Ue,De.fb=0,De.A=Oe,De.size=ot):((De=re.f.kb).y=Ue,De.O=0,De.fa=Oe,De.Fd=ot,De.f=Ue,De.N=0+ot,De.Ab=A,De.Cd=Ee,De.ea=Ue,De.W=0+ot+Ee,De.Db=A,De.Ed=Ee,E==12&&(De.F=Ue,De.J=0+ot+2*Ee),De.Tc=Ne,De.lb=_e)}if(A=1,_e=re.S,Ee=re.width,Ne=re.height,_e>=Oa&&13>_e)if(11>_e)E=re.f.RGBA,A&=(Oe=Math.abs(E.A))*(Ne-1)+Ee<=E.size,A&=Oe>=Ee*Cc[_e],A&=E.eb!=null;else{E=re.f.kb,Oe=(Ee+1)/2,ot=(Ne+1)/2,De=Math.abs(E.fa),Ue=Math.abs(E.Ab);var Nt=Math.abs(E.Db),Ge=Math.abs(E.lb),ct=Ge*(Ne-1)+Ee;A&=De*(Ne-1)+Ee<=E.Fd,A&=Ue*(ot-1)+Oe<=E.Cd,A=(A&=Nt*(ot-1)+Oe<=E.Ed)&De>=Ee&Ue>=Oe&Nt>=Oe,A&=E.y!=null,A&=E.f!=null,A&=E.ea!=null,_e==12&&(A&=Ge>=Ee,A&=ct<=E.Tc,A&=E.F!=null)}else A=0;E=A?0:2}}return E!=0||W!=null&&W.fd&&(E=xo(re)),E}var so=64,fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gi=24,Oi=32,qa=8,Ua=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(E){return E},q.Predictor2=function(E,A,W){return A[W+0]},q.Predictor3=function(E,A,W){return A[W+1]},q.Predictor4=function(E,A,W){return A[W-1]},q.Predictor5=function(E,A,W){return wt(wt(E,A[W+1]),A[W+0])},q.Predictor6=function(E,A,W){return wt(E,A[W-1])},q.Predictor7=function(E,A,W){return wt(E,A[W+0])},q.Predictor8=function(E,A,W){return wt(A[W-1],A[W+0])},q.Predictor9=function(E,A,W){return wt(A[W+0],A[W+1])},q.Predictor10=function(E,A,W){return wt(wt(E,A[W-1]),wt(A[W+0],A[W+1]))},q.Predictor11=function(E,A,W){var re=A[W+0];return 0>=nn(re>>24&255,E>>24&255,(A=A[W-1])>>24&255)+nn(re>>16&255,E>>16&255,A>>16&255)+nn(re>>8&255,E>>8&255,A>>8&255)+nn(255&re,255&E,255&A)?re:E},q.Predictor12=function(E,A,W){var re=A[W+0];return(Et((E>>24&255)+(re>>24&255)-((A=A[W-1])>>24&255))<<24|Et((E>>16&255)+(re>>16&255)-(A>>16&255))<<16|Et((E>>8&255)+(re>>8&255)-(A>>8&255))<<8|Et((255&E)+(255&re)-(255&A)))>>>0},q.Predictor13=function(E,A,W){var re=A[W-1];return(Zt((E=wt(E,A[W+0]))>>24&255,re>>24&255)<<24|Zt(E>>16&255,re>>16&255)<<16|Zt(E>>8&255,re>>8&255)<<8|Zt(255&E,255&re))>>>0};var Ga=q.PredictorAdd0;q.PredictorAdd1=dn,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Yi=q.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var ui,Va=q.ColorIndexInverseTransform,Ji=q.MapARGB,Ei=q.VP8LColorIndexInverseTransformAlpha,So=q.MapAlpha,Yo=q.VP8LPredictorsAdd=[];Yo.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var pa,Eo,Pa,fi,pi,f,a,o,d,C,B,K,se,xe,$e,st,_t,Yt,pn,Pn,$n,Mr,hr,Ur,ti,ki,Wa,Jo,Ka=l(511),ls=l(2041),Qo=l(225),qo=l(767),Os=0,wo=ls,mi=Qo,zr=qo,Ia=Ka,Oa=0,tr=1,As=2,us=3,lo=4,Li=5,hl=6,ga=7,ma=8,ko=9,s=10,m=[2,3,7],M=[3,3,11],H=[280,256,256,256,40],ae=[0,1,1,1,0],Ce=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ye=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],It=8,en=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_n=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vn=null,kr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],va=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$i=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Aa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dl=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Co=[],uo=[],Xa=[],Au=1,fl=2,ni=[],aa=[];ha("UpsampleRgbLinePair",ao,3),ha("UpsampleBgrLinePair",qr,3),ha("UpsampleRgbaLinePair",jr,4),ha("UpsampleBgraLinePair",zo,4),ha("UpsampleArgbLinePair",jo,4),ha("UpsampleRgba4444LinePair",oo,2),ha("UpsampleRgb565LinePair",Ui,2);var Tu=q.UpsampleRgbLinePair,No=q.UpsampleBgrLinePair,ql=q.UpsampleRgbaLinePair,cs=q.UpsampleBgraLinePair,Vs=q.UpsampleArgbLinePair,Ul=q.UpsampleRgba4444LinePair,yc=q.UpsampleRgb565LinePair,Gl=16,pl=1<<Gl-1,gl=-227,Ru=482,od=6,Ws=0,Vl=l(256),sd=l(256),ld=l(256),Wl=l(256),Kl=l(Ru-gl),_c=l(Ru-gl);ra("YuvToRgbRow",ao,3),ra("YuvToBgrRow",qr,3),ra("YuvToRgbaRow",jr,4),ra("YuvToBgraRow",zo,4),ra("YuvToArgbRow",jo,4),ra("YuvToRgba4444Row",oo,2),ra("YuvToRgb565Row",Ui,2);var bc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],xc=[8,7,6,4,4,2,2,2,1,1,1,1],wc=1;this.WebPDecodeRGBA=function(E,A,W,re,_e){var Ee=tr,Ne=new $t,Oe=new Rt;Ne.ba=Oe,Oe.S=Ee,Oe.width=[Oe.width],Oe.height=[Oe.height];var De=Oe.width,Ue=Oe.height,ot=new Gt;if(ot==null||E==null)var Nt=2;else t(ot!=null),Nt=Ma(E,A,W,ot.width,ot.height,ot.Pd,ot.Qd,ot.format,null);if(Nt!=0?De=0:(De!=null&&(De[0]=ot.width[0]),Ue!=null&&(Ue[0]=ot.height[0]),De=1),De){Oe.width=Oe.width[0],Oe.height=Oe.height[0],re!=null&&(re[0]=Oe.width),_e!=null&&(_e[0]=Oe.height);e:{if(re=new xr,(_e=new Qt).data=E,_e.w=A,_e.ha=W,_e.kd=1,A=[0],t(_e!=null),((E=Ma(_e.data,_e.w,_e.ha,null,null,null,A,null,_e))==0||E==7)&&A[0]&&(E=4),(A=E)==0){if(t(Ne!=null),re.data=_e.data,re.w=_e.w+_e.offset,re.ha=_e.ha-_e.offset,re.put=mn,re.ac=dr,re.bc=br,re.ma=Ne,_e.xa){if((E=wr())==null){Ne=1;break e}if((function(Ge,ct){var dt=[0],Bt=[0],Lt=[0];t:for(;;){if(Ge==null)return 0;if(ct==null)return Ge.a=2,0;if(Ge.l=ct,Ge.a=0,be(Ge.m,ct.data,ct.w,ct.ha),!Un(Ge.m,dt,Bt,Lt)){Ge.a=3;break t}if(Ge.xb=fl,ct.width=dt[0],ct.height=Bt[0],!Nr(dt[0],Bt[0],1,Ge,null))break t;return 1}return t(Ge.a!=0),0})(E,re)){if(re=(A=Ha(re.width,re.height,Ne.Oa,Ne.ba))==0){t:{re=E;n:for(;;){if(re==null){re=0;break t}if(t(re.s.yc!=null),t(re.s.Ya!=null),t(0<re.s.Wb),t((W=re.l)!=null),t((_e=W.ma)!=null),re.xb!=0){if(re.ca=_e.ba,re.tb=_e.tb,t(re.ca!=null),!ss(_e.Oa,W,us)){re.a=2;break n}if(!Si(re,W.width)||W.da)break n;if((W.da||an(re.ca.S))&&Er(),11>re.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),re.ca.f.kb.F!=null&&Er()),re.Pb&&0<re.s.ua&&re.s.vb.X==null&&!fe(re.s.vb,re.s.Wa.Xa)){re.a=1;break n}re.xb=0}if(!sr(re,re.V,re.Ba,re.c,re.i,W.o,Nn))break n;_e.Dc=re.Ma,re=1;break t}t(re.a!=0),re=0}re=!re}re&&(A=E.a)}else A=E.a}else{if((E=new xa)==null){Ne=1;break e}if(E.Fa=_e.na,E.P=_e.P,E.qc=_e.Sa,qi(E,re)){if((A=Ha(re.width,re.height,Ne.Oa,Ne.ba))==0){if(E.Aa=0,W=Ne.Oa,t((_e=E)!=null),W!=null){if(0<(De=0>(De=W.Md)?0:100<De?255:255*De/100)){for(Ue=ot=0;4>Ue;++Ue)12>(Nt=_e.pb[Ue]).lc&&(Nt.ia=De*xc[0>Nt.lc?0:Nt.lc]>>3),ot|=Nt.ia;ot&&(alert("todo:VP8InitRandom"),_e.ia=1)}_e.Ga=W.Id,100<_e.Ga?_e.Ga=100:0>_e.Ga&&(_e.Ga=0)}(function(Ge,ct){if(Ge==null)return 0;if(ct==null)return Vr(Ge,2,"NULL VP8Io parameter in VP8Decode().");if(!Ge.cb&&!qi(Ge,ct))return 0;if(t(Ge.cb),ct.ac==null||ct.ac(ct)){ct.ob&&(Ge.L=0);var dt=Xl[Ge.L];if(Ge.L==2?(Ge.yb=0,Ge.zb=0):(Ge.yb=ct.v-dt>>4,Ge.zb=ct.j-dt>>4,0>Ge.yb&&(Ge.yb=0),0>Ge.zb&&(Ge.zb=0)),Ge.Va=ct.o+15+dt>>4,Ge.Hb=ct.va+15+dt>>4,Ge.Hb>Ge.za&&(Ge.Hb=Ge.za),Ge.Va>Ge.Ub&&(Ge.Va=Ge.Ub),0<Ge.L){var Bt=Ge.ed;for(dt=0;4>dt;++dt){var Lt;if(Ge.Qa.Cb){var Ht=Ge.Qa.Lb[dt];Ge.Qa.Fb||(Ht+=Bt.Tb)}else Ht=Bt.Tb;for(Lt=0;1>=Lt;++Lt){var Vt=Ge.gd[dt][Lt],on=Ht;if(Bt.Pc&&(on+=Bt.vd[0],Lt&&(on+=Bt.od[0])),0<(on=0>on?0:63<on?63:on)){var rn=on;0<Bt.wb&&(rn=4<Bt.wb?rn>>2:rn>>1)>9-Bt.wb&&(rn=9-Bt.wb),1>rn&&(rn=1),Vt.dd=rn,Vt.tc=2*on+rn,Vt.ld=40<=on?2:15<=on?1:0}else Vt.tc=0;Vt.La=Lt}}}dt=0}else Vr(Ge,6,"Frame setup failed"),dt=Ge.a;if(dt=dt==0){if(dt){Ge.$c=0,0<Ge.Aa||(Ge.Ic=wc);t:{dt=Ge.Ic,Bt=4*(rn=Ge.za);var Hn=32*rn,u=rn+1,p=0<Ge.L?rn*(0<Ge.Aa?2:1):0,_=(Ge.Aa==2?2:1)*rn;if((Vt=Bt+832+(Lt=3*(16*dt+Xl[Ge.L])/2*Hn)+(Ht=Ge.Fa!=null&&0<Ge.Fa.length?Ge.Kc.c*Ge.Kc.i:0))!=Vt)dt=0;else{if(Vt>Ge.Vb){if(Ge.Vb=0,Ge.Ec=l(Vt),Ge.Fc=0,Ge.Ec==null){dt=Vr(Ge,1,"no memory during frame initialization.");break t}Ge.Vb=Vt}Vt=Ge.Ec,on=Ge.Fc,Ge.Ac=Vt,Ge.Bc=on,on+=Bt,Ge.Gd=h(Hn,Gr),Ge.Hd=0,Ge.rb=h(u+1,_i),Ge.sb=1,Ge.wa=p?h(p,gr):null,Ge.Y=0,Ge.D.Nb=0,Ge.D.wa=Ge.wa,Ge.D.Y=Ge.Y,0<Ge.Aa&&(Ge.D.Y+=rn),t(!0),Ge.oc=Vt,Ge.pc=on,on+=832,Ge.ya=h(_,kn),Ge.aa=0,Ge.D.ya=Ge.ya,Ge.D.aa=Ge.aa,Ge.Aa==2&&(Ge.D.aa+=rn),Ge.R=16*rn,Ge.B=8*rn,rn=(Hn=Xl[Ge.L])*Ge.R,Hn=Hn/2*Ge.B,Ge.sa=Vt,Ge.ta=on+rn,Ge.qa=Ge.sa,Ge.ra=Ge.ta+16*dt*Ge.R+Hn,Ge.Ha=Ge.qa,Ge.Ia=Ge.ra+8*dt*Ge.B+Hn,Ge.$c=0,on+=Lt,Ge.mb=Ht?Vt:null,Ge.nb=Ht?on:null,t(on+Ht<=Ge.Fc+Ge.Vb),Cr(Ge),i(Ge.Ac,Ge.Bc,0,Bt),dt=1}}if(dt){if(ct.ka=0,ct.y=Ge.sa,ct.O=Ge.ta,ct.f=Ge.qa,ct.N=Ge.ra,ct.ea=Ge.Ha,ct.Vd=Ge.Ia,ct.fa=Ge.R,ct.Rc=Ge.B,ct.F=null,ct.J=0,!Os){for(dt=-255;255>=dt;++dt)Ka[255+dt]=0>dt?-dt:dt;for(dt=-1020;1020>=dt;++dt)ls[1020+dt]=-128>dt?-128:127<dt?127:dt;for(dt=-112;112>=dt;++dt)Qo[112+dt]=-16>dt?-16:15<dt?15:dt;for(dt=-255;510>=dt;++dt)qo[255+dt]=0>dt?0:255<dt?255:dt;Os=1}a=Xi,o=Fa,C=Or,B=Wi,K=Ki,d=yo,se=La,xe=ro,$e=ye,st=ze,_t=ca,Yt=z,pn=et,Pn=pt,$n=Kn,Mr=hi,hr=ua,Ur=bs,uo[0]=Ro,uo[1]=ja,uo[2]=Sa,uo[3]=Fr,uo[4]=za,uo[5]=cr,uo[6]=Ea,uo[7]=Ii,uo[8]=eo,uo[9]=Qa,Co[0]=Zi,Co[1]=er,Co[2]=Wn,Co[3]=oi,Co[4]=Wr,Co[5]=ei,Co[6]=Ca,Xa[0]=os,Xa[1]=Qn,Xa[2]=Kr,Xa[3]=to,Xa[4]=Do,Xa[5]=Bo,Xa[6]=$o,dt=1}else dt=0}dt&&(dt=(function(S,P){for(S.M=0;S.M<S.Va;++S.M){var j,X=S.Jc[S.M&S.Xb],Z=S.m,ge=S;for(j=0;j<ge.za;++j){var ve=Z,Ve=ge,je=Ve.Ac,vt=Ve.Bc+4*j,St=Ve.zc,qt=Ve.ya[Ve.aa+j];if(Ve.Qa.Bb?qt.$b=We(ve,Ve.Pa.jb[0])?2+We(ve,Ve.Pa.jb[2]):We(ve,Ve.Pa.jb[1]):qt.$b=0,Ve.kc&&(qt.Ad=We(ve,Ve.Bd)),qt.Za=!We(ve,145)+0,qt.Za){var un=qt.Ob,vn=0;for(Ve=0;4>Ve;++Ve){var Xn,He=St[0+Ve];for(Xn=0;4>Xn;++Xn){He=wi[je[vt+Xn]][He];for(var Ke=$i[We(ve,He[0])];0<Ke;)Ke=$i[2*Ke+We(ve,He[Ke])];He=-Ke,je[vt+Xn]=He}r(un,vn,je,vt,4),vn+=4,St[0+Ve]=He}}else He=We(ve,156)?We(ve,128)?1:3:We(ve,163)?2:0,qt.Ob[0]=He,i(je,vt,He,4),i(St,0,He,4);qt.Dd=We(ve,142)?We(ve,114)?We(ve,183)?1:3:2:0}if(ge.m.Ka)return Vr(S,7,"Premature end-of-partition0 encountered.");for(;S.ja<S.za;++S.ja){if(ge=X,ve=(Z=S).rb[Z.sb-1],je=Z.rb[Z.sb+Z.ja],j=Z.ya[Z.aa+Z.ja],vt=Z.kc?j.Ad:0)ve.la=je.la=0,j.Za||(ve.Na=je.Na=0),j.Hc=0,j.Gc=0,j.ia=0;else{var rt,yt;if(ve=je,je=ge,vt=Z.Pa.Xc,St=Z.ya[Z.aa+Z.ja],qt=Z.pb[St.$b],Ve=St.ad,un=0,vn=Z.rb[Z.sb-1],He=Xn=0,i(Ve,un,0,384),St.Za)var lt=0,Ct=vt[3];else{Ke=l(16);var pe=ve.Na+vn.Na;if(pe=Vn(je,vt[1],pe,qt.Eb,0,Ke,0),ve.Na=vn.Na=(0<pe)+0,1<pe)a(Ke,0,Ve,un);else{var Se=Ke[0]+3>>3;for(Ke=0;256>Ke;Ke+=16)Ve[un+Ke]=Se}lt=1,Ct=vt[0]}var Me=15&ve.la,Pe=15&vn.la;for(Ke=0;4>Ke;++Ke){var Ae=1&Pe;for(Se=yt=0;4>Se;++Se)Me=Me>>1|(Ae=(pe=Vn(je,Ct,pe=Ae+(1&Me),qt.Sc,lt,Ve,un))>lt)<<7,yt=yt<<2|(3<pe?3:1<pe?2:Ve[un+0]!=0),un+=16;Me>>=4,Pe=Pe>>1|Ae<<7,Xn=(Xn<<8|yt)>>>0}for(Ct=Me,lt=Pe>>4,rt=0;4>rt;rt+=2){for(yt=0,Me=ve.la>>4+rt,Pe=vn.la>>4+rt,Ke=0;2>Ke;++Ke){for(Ae=1&Pe,Se=0;2>Se;++Se)pe=Ae+(1&Me),Me=Me>>1|(Ae=0<(pe=Vn(je,vt[2],pe,qt.Qc,0,Ve,un)))<<3,yt=yt<<2|(3<pe?3:1<pe?2:Ve[un+0]!=0),un+=16;Me>>=2,Pe=Pe>>1|Ae<<5}He|=yt<<4*rt,Ct|=Me<<4<<rt,lt|=(240&Pe)<<rt}ve.la=Ct,vn.la=lt,St.Hc=Xn,St.Gc=He,St.ia=43690&He?0:qt.ia,vt=!(Xn|He)}if(0<Z.L&&(Z.wa[Z.Y+Z.ja]=Z.gd[j.$b][j.Za],Z.wa[Z.Y+Z.ja].La|=!vt),ge.Ka)return Vr(S,7,"Premature end-of-file encountered.")}if(Cr(S),Z=P,ge=1,j=(X=S).D,ve=0<X.L&&X.M>=X.zb&&X.M<=X.Va,X.Aa==0)t:{if(j.M=X.M,j.uc=ve,da(X,j),ge=1,j=(yt=X.D).Nb,ve=(He=Xl[X.L])*X.R,je=He/2*X.B,Ke=16*j*X.R,Se=8*j*X.B,vt=X.sa,St=X.ta-ve+Ke,qt=X.qa,Ve=X.ra-je+Se,un=X.Ha,vn=X.Ia-je+Se,Pe=(Me=yt.M)==0,Xn=Me>=X.Va-1,X.Aa==2&&da(X,yt),yt.uc)for(Ae=(pe=X).D.M,t(pe.D.uc),yt=pe.yb;yt<pe.Hb;++yt){lt=yt,Ct=Ae;var Te=(Je=(or=pe).D).Nb;rt=or.R;var Je=Je.wa[Je.Y+lt],Ze=or.sa,at=or.ta+16*Te*rt+16*lt,gt=Je.dd,ut=Je.tc;if(ut!=0)if(t(3<=ut),or.L==1)0<lt&&Mr(Ze,at,rt,ut+4),Je.La&&Ur(Ze,at,rt,ut),0<Ct&&$n(Ze,at,rt,ut+4),Je.La&&hr(Ze,at,rt,ut);else{var Ut=or.B,yn=or.qa,Ln=or.ra+8*Te*Ut+8*lt,In=or.Ha,or=or.Ia+8*Te*Ut+8*lt;Te=Je.ld,0<lt&&(xe(Ze,at,rt,ut+4,gt,Te),st(yn,Ln,In,or,Ut,ut+4,gt,Te)),Je.La&&(Yt(Ze,at,rt,ut,gt,Te),Pn(yn,Ln,In,or,Ut,ut,gt,Te)),0<Ct&&(se(Ze,at,rt,ut+4,gt,Te),$e(yn,Ln,In,or,Ut,ut+4,gt,Te)),Je.La&&(_t(Ze,at,rt,ut,gt,Te),pn(yn,Ln,In,or,Ut,ut,gt,Te))}}if(X.ia&&alert("todo:DitherRow"),Z.put!=null){if(yt=16*Me,Me=16*(Me+1),Pe?(Z.y=X.sa,Z.O=X.ta+Ke,Z.f=X.qa,Z.N=X.ra+Se,Z.ea=X.Ha,Z.W=X.Ia+Se):(yt-=He,Z.y=vt,Z.O=St,Z.f=qt,Z.N=Ve,Z.ea=un,Z.W=vn),Xn||(Me-=He),Me>Z.o&&(Me=Z.o),Z.F=null,Z.J=null,X.Fa!=null&&0<X.Fa.length&&yt<Me&&(Z.J=ar(X,Z,yt,Me-yt),Z.F=X.mb,Z.F==null&&Z.F.length==0)){ge=Vr(X,3,"Could not decode alpha data.");break t}yt<Z.j&&(He=Z.j-yt,yt=Z.j,t(!(1&He)),Z.O+=X.R*He,Z.N+=X.B*(He>>1),Z.W+=X.B*(He>>1),Z.F!=null&&(Z.J+=Z.width*He)),yt<Me&&(Z.O+=Z.v,Z.N+=Z.v>>1,Z.W+=Z.v>>1,Z.F!=null&&(Z.J+=Z.v),Z.ka=yt-Z.j,Z.U=Z.va-Z.v,Z.T=Me-yt,ge=Z.put(Z))}j+1!=X.Ic||Xn||(r(X.sa,X.ta-ve,vt,St+16*X.R,ve),r(X.qa,X.ra-je,qt,Ve+8*X.B,je),r(X.Ha,X.Ia-je,un,vn+8*X.B,je))}if(!ge)return Vr(S,6,"Output aborted.")}return 1})(Ge,ct)),ct.bc!=null&&ct.bc(ct),dt&=1}return dt?(Ge.cb=0,dt):0})(E,re)||(A=E.a)}}else A=E.a}A==0&&Ne.Oa!=null&&Ne.Oa.fd&&(A=xo(Ne.ba))}Ne=A}Ee=Ne!=0?null:11>Ee?Oe.f.RGBA.eb:Oe.f.kb.y}else Ee=null;return Ee};var Cc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(q,oe){for(var D="",U=0;U<4;U++)D+=String.fromCharCode(q[oe++]);return D}function y(q,oe){return q[oe+0]|q[oe+1]<<8}function w(q,oe){return(q[oe+0]|q[oe+1]<<8|q[oe+2]<<16)>>>0}function k(q,oe){return(q[oe+0]|q[oe+1]<<8|q[oe+2]<<16|q[oe+3]<<24)>>>0}new g;var x=[0],N=[0],I=[],O=new g,T=e,F=(function(q,oe){var D={},U=0,te=!1,V=0,J=0;if(D.frames=[],!(function(ne,ce){for(var me=0;me<4;me++)if(ne[ce+me]!="RIFF".charCodeAt(me))return!0;return!1})(q,oe)){for(k(q,oe+=4),oe+=8;oe<q.length;){var ie=v(q,oe),le=k(q,oe+=4);oe+=4;var ue=le+(1&le);switch(ie){case"VP8 ":case"VP8L":D.frames[U]===void 0&&(D.frames[U]={}),(Re=D.frames[U]).src_off=te?J:oe-8,Re.src_size=V+le+8,U++,te&&(te=!1,V=0,J=0);break;case"VP8X":(Re=D.header={}).feature_flags=q[oe];var be=oe+4;Re.canvas_width=1+w(q,be),be+=3,Re.canvas_height=1+w(q,be),be+=3;break;case"ALPH":te=!0,V=ue+8,J=oe-8;break;case"ANIM":(Re=D.header).bgcolor=k(q,oe),be=oe+4,Re.loop_count=y(q,be),be+=2;break;case"ANMF":var Le,Re;(Re=D.frames[U]={}).offset_x=2*w(q,oe),oe+=3,Re.offset_y=2*w(q,oe),oe+=3,Re.width=1+w(q,oe),oe+=3,Re.height=1+w(q,oe),oe+=3,Re.duration=w(q,oe),oe+=3,Le=q[oe++],Re.dispose=1&Le,Re.blend=Le>>1&1}ie!="ANMF"&&(oe+=ue)}return D}})(T,0);F.response=T,F.rgbaoutput=!0,F.dataurl=!1;var R=F.header?F.header:null,$=F.frames?F.frames:null;if(R){R.loop_counter=R.loop_count,x=[R.canvas_height],N=[R.canvas_width];for(var G=0;G<$.length&&$[G].blend!=0;G++);}var Q=$[0],ee=O.WebPDecodeRGBA(T,Q.src_off,Q.src_size,N,x);Q.rgba=ee,Q.imgwidth=N[0],Q.imgheight=x[0];for(var Y=0;Y<N[0]*x[0]*4;Y++)I[Y]=ee[Y];return this.width=N,this.height=x,this.data=I,this}(function(e){var t,n,r,i,l,h,c,g,v,y=function(ne){return ne=ne||{},this.isStrokeTransparent=ne.isStrokeTransparent||!1,this.strokeOpacity=ne.strokeOpacity||1,this.strokeStyle=ne.strokeStyle||"#000000",this.fillStyle=ne.fillStyle||"#000000",this.isFillTransparent=ne.isFillTransparent||!1,this.fillOpacity=ne.fillOpacity||1,this.font=ne.font||"10px sans-serif",this.textBaseline=ne.textBaseline||"alphabetic",this.textAlign=ne.textAlign||"left",this.lineWidth=ne.lineWidth||1,this.lineJoin=ne.lineJoin||"miter",this.lineCap=ne.lineCap||"butt",this.path=ne.path||[],this.transform=ne.transform!==void 0?ne.transform.clone():new g,this.globalCompositeOperation=ne.globalCompositeOperation||"normal",this.globalAlpha=ne.globalAlpha||1,this.clip_path=ne.clip_path||[],this.currentPoint=ne.currentPoint||new h,this.miterLimit=ne.miterLimit||10,this.lastPoint=ne.lastPoint||new h,this.lineDashOffset=ne.lineDashOffset||0,this.lineDash=ne.lineDash||[],this.margin=ne.margin||[0,0,0,0],this.prevPageLastElemOffset=ne.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ne.ignoreClearRect!="boolean"||ne.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,g=this.internal.Matrix,v=new y}]);var w=function(ne){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ce=ne;Object.defineProperty(this,"pdf",{get:function(){return ce}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(fe){me=!!fe}});var we=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return we},set:function(fe){we=!!fe}});var ke=0;Object.defineProperty(this,"posX",{get:function(){return ke},set:function(fe){isNaN(fe)||(ke=fe)}});var Be=0;Object.defineProperty(this,"posY",{get:function(){return Be},set:function(fe){isNaN(fe)||(Be=fe)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(fe){var tt;typeof fe=="number"?tt=[fe,fe,fe,fe]:((tt=new Array(4))[0]=fe[0],tt[1]=fe.length>=2?fe[1]:tt[0],tt[2]=fe.length>=3?fe[2]:tt[0],tt[3]=fe.length>=4?fe[3]:tt[1]),v.margin=tt}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(fe){he=fe}});var qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return qe},set:function(fe){qe=fe}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(fe){We=fe}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(fe){fe instanceof y&&(v=fe)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(fe){v.path=fe}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(fe){Fe=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var tt;tt=k(fe),this.ctx.fillStyle=tt.style,this.ctx.isFillTransparent=tt.a===0,this.ctx.fillOpacity=tt.a,this.pdf.setFillColor(tt.r,tt.g,tt.b,{a:tt.a}),this.pdf.setTextColor(tt.r,tt.g,tt.b,{a:tt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var tt=k(fe);this.ctx.strokeStyle=tt.style,this.ctx.isStrokeTransparent=tt.a===0,this.ctx.strokeOpacity=tt.a,tt.a===0?this.pdf.setDrawColor(255,255,255):(tt.a,this.pdf.setDrawColor(tt.r,tt.g,tt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var de=null,it=null,ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(fe){de=null,it=null,ft=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var tt;if(this.ctx.font=fe,(tt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(fe))!==null){var kt=tt[1];tt[2];var At=tt[3],Xe=tt[4];tt[5];var Xt=tt[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(nt==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var mt=(function(ht){var Mt,tn,fn=[],Tt=ht.trim();if(Tt==="")return af;if(Tt in tv)return[tv[Tt]];for(;Tt!=="";){switch(tn=null,Mt=(Tt=rv(Tt)).charAt(0)){case'"':case"'":tn=t6(Tt.substring(1),Mt);break;default:tn=n6(Tt)}if(tn===null||(fn.push(tn[0]),(Tt=rv(tn[1]))!==""&&Tt.charAt(0)!==","))return af;Tt=Tt.replace(/^,/,"")}return fn})(Xt);if(this.fontFaces){var wt=(function(ht,Mt){var tn=ht.getFontList(),fn=JSON.stringify(tn);if(de===null||it!==fn){var Tt=(function(zt){var jt=[];return Object.keys(zt).forEach(function(ln){zt[ln].forEach(function(an){var hn=null;switch(an){case"bold":hn={family:ln,weight:"bold"};break;case"italic":hn={family:ln,style:"italic"};break;case"bolditalic":hn={family:ln,weight:"bold",style:"italic"};break;case"":case"normal":hn={family:ln}}hn!==null&&(hn.ref={name:ln,style:an},jt.push(hn))})}),jt})(tn);de=(function(zt){for(var jt={},ln=0;ln<zt.length;++ln){var an=rf(zt[ln]),hn=an.family,Bn=an.stretch,Rt=an.style,Gt=an.weight;jt[hn]=jt[hn]||{},jt[hn][Bn]=jt[hn][Bn]||{},jt[hn][Bn][Rt]=jt[hn][Bn][Rt]||{},jt[hn][Bn][Rt][Gt]=an}return jt})(Tt.concat(Mt)),it=fn}return de})(this.pdf,this.fontFaces),Et=mt.map(function(ht){return{family:ht,stretch:"normal",weight:At,style:kt}}),Zt=(function(ht,Mt,tn){for(var fn=(tn=tn||{}).defaultFontFamily||"times",Tt=Object.assign({},e6,tn.genericFontFamilies||{}),zt=null,jt=null,ln=0;ln<Mt.length;++ln)if(Tt[(zt=rf(Mt[ln])).family]&&(zt.family=Tt[zt.family]),ht.hasOwnProperty(zt.family)){jt=ht[zt.family];break}if(!(jt=jt||ht[fn]))throw new Error("Could not find a font-family for the rule '"+nv(zt)+"' and default family '"+fn+"'.");if(jt=(function(an,hn){if(hn[an])return hn[an];var Bn=Vf[an],Rt=Bn<=Vf.normal?-1:1,Gt=ev(hn,Rb,Bn,Rt);if(!Gt)throw new Error("Could not find a matching font-stretch value for "+an);return Gt})(zt.stretch,jt),jt=(function(an,hn){if(hn[an])return hn[an];for(var Bn=Tb[an],Rt=0;Rt<Bn.length;++Rt)if(hn[Bn[Rt]])return hn[Bn[Rt]];throw new Error("Could not find a matching font-style for "+an)})(zt.style,jt),!(jt=(function(an,hn){if(hn[an])return hn[an];if(an===400&&hn[500])return hn[500];if(an===500&&hn[400])return hn[400];var Bn=QO[an],Rt=ev(hn,Bb,Bn,an<400?-1:1);if(!Rt)throw new Error("Could not find a matching font-weight for value "+an);return Rt})(zt.weight,jt)))throw new Error("Failed to resolve a font for the rule '"+nv(zt)+"'.");return jt})(wt,Et);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var nn="";(At==="bold"||parseInt(At,10)>=700||kt==="bold")&&(nn="bold"),kt==="italic"&&(nn+="italic"),nn.length===0&&(nn="normal");for(var dn="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<mt.length;Jt++){if(this.pdf.internal.getFont(mt[Jt],nn,{noFallback:!0,disableWarning:!0})!==void 0){dn=mt[Jt];break}if(nn==="bolditalic"&&this.pdf.internal.getFont(mt[Jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dn=mt[Jt],nn="bold";else if(this.pdf.internal.getFont(mt[Jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dn=mt[Jt],nn="normal";break}}if(dn===""){for(var Ft=0;Ft<mt.length;Ft++)if(Dt[mt[Ft]]){dn=Dt[mt[Ft]];break}}dn=dn===""?"Times":dn,this.pdf.setFont(dn,nn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,Re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,Re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};w.prototype.setLineDash=function(ne){this.lineDash=ne},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){$.call(this,"fill",!1)},w.prototype.stroke=function(){$.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var me=this.ctx.transform.applyToPoint(new h(ne,ce));this.path.push({type:"mt",x:me.x,y:me.y}),this.ctx.lastPoint=new h(ne,ce)},w.prototype.closePath=function(){var ne=new h(0,0),ce=0;for(ce=this.path.length-1;ce!==-1;ce--)if(this.path[ce].type==="begin"&&Lr(this.path[ce+1])==="object"&&typeof this.path[ce+1].x=="number"){ne=new h(this.path[ce+1].x,this.path[ce+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(ne.x,ne.y)},w.prototype.lineTo=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var me=this.ctx.transform.applyToPoint(new h(ne,ce));this.path.push({type:"lt",x:me.x,y:me.y}),this.ctx.lastPoint=new h(me.x,me.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},w.prototype.quadraticCurveTo=function(ne,ce,me,we){if(isNaN(me)||isNaN(we)||isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ke=this.ctx.transform.applyToPoint(new h(me,we)),Be=this.ctx.transform.applyToPoint(new h(ne,ce));this.path.push({type:"qct",x1:Be.x,y1:Be.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new h(ke.x,ke.y)},w.prototype.bezierCurveTo=function(ne,ce,me,we,ke,Be){if(isNaN(ke)||isNaN(Be)||isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new h(ke,Be)),qe=this.ctx.transform.applyToPoint(new h(ne,ce)),We=this.ctx.transform.applyToPoint(new h(me,we));this.path.push({type:"bct",x1:qe.x,y1:qe.y,x2:We.x,y2:We.y,x:he.x,y:he.y}),this.ctx.lastPoint=new h(he.x,he.y)},w.prototype.arc=function(ne,ce,me,we,ke,Be){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we)||isNaN(ke))throw vi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Be=!!Be,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new h(ne,ce));ne=he.x,ce=he.y;var qe=this.ctx.transform.applyToPoint(new h(0,me)),We=this.ctx.transform.applyToPoint(new h(0,0));me=Math.sqrt(Math.pow(qe.x-We.x,2)+Math.pow(qe.y-We.y,2))}Math.abs(ke-we)>=2*Math.PI&&(we=0,ke=2*Math.PI),this.path.push({type:"arc",x:ne,y:ce,radius:me,startAngle:we,endAngle:ke,counterclockwise:Be})},w.prototype.arcTo=function(ne,ce,me,we,ke){throw new Error("arcTo not implemented.")},w.prototype.rect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ne,ce),this.lineTo(ne+me,ce),this.lineTo(ne+me,ce+we),this.lineTo(ne,ce+we),this.lineTo(ne,ce),this.lineTo(ne+me,ce),this.lineTo(ne,ce)},w.prototype.fillRect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ke={};this.lineCap!=="butt"&&(ke.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ke.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ne,ce,me,we),this.fill(),ke.hasOwnProperty("lineCap")&&(this.lineCap=ke.lineCap),ke.hasOwnProperty("lineJoin")&&(this.lineJoin=ke.lineJoin)}},w.prototype.strokeRect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(ne,ce,me,we),this.stroke())},w.prototype.clearRect=function(ne,ce,me,we){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we))throw vi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ne,ce,me,we))},w.prototype.save=function(ne){ne=typeof ne!="boolean"||ne;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("q");if(this.pdf.setPage(ce),ne){this.ctx.fontSize=this.pdf.internal.getFontSize();var we=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=we}},w.prototype.restore=function(ne){ne=typeof ne!="boolean"||ne;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("Q");this.pdf.setPage(ce),ne&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(ne){var ce,me,we,ke;if(ne.isCanvasGradient===!0&&(ne=ne.getColor()),!ne)return{r:0,g:0,b:0,a:0,style:ne};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ne))ce=0,me=0,we=0,ke=0;else{var Be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ne);if(Be!==null)ce=parseInt(Be[1]),me=parseInt(Be[2]),we=parseInt(Be[3]),ke=1;else if((Be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ne))!==null)ce=parseInt(Be[1]),me=parseInt(Be[2]),we=parseInt(Be[3]),ke=parseFloat(Be[4]);else{if(ke=1,typeof ne=="string"&&ne.charAt(0)!=="#"){var he=new Lb(ne);ne=he.ok?he.toHex():"#000000"}ne.length===4?(ce=ne.substring(1,2),ce+=ce,me=ne.substring(2,3),me+=me,we=ne.substring(3,4),we+=we):(ce=ne.substring(1,3),me=ne.substring(3,5),we=ne.substring(5,7)),ce=parseInt(ce,16),me=parseInt(me,16),we=parseInt(we,16)}}return{r:ce,g:me,b:we,a:ke,style:ne}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(ne,ce,me,we){if(isNaN(ce)||isNaN(me)||typeof ne!="string")throw vi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(we=isNaN(we)?void 0:we,!x.call(this)){var ke=ue(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;U.call(this,{text:ne,x:ce,y:me,scale:Be,angle:ke,align:this.textAlign,maxWidth:we})}},w.prototype.strokeText=function(ne,ce,me,we){if(isNaN(ce)||isNaN(me)||typeof ne!="string")throw vi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){we=isNaN(we)?void 0:we;var ke=ue(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;U.call(this,{text:ne,x:ce,y:me,scale:Be,renderingMode:"stroke",angle:ke,align:this.textAlign,maxWidth:we})}},w.prototype.measureText=function(ne){if(typeof ne!="string")throw vi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ce=this.pdf,me=this.pdf.internal.scaleFactor,we=ce.internal.getFontSize(),ke=ce.getStringUnitWidth(ne)*we/ce.internal.scaleFactor;return new function(Be){var he=(Be=Be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:ke*=Math.round(96*me/72*1e4)/1e4})},w.prototype.scale=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var me=new g(ne,0,0,ce,0,0);this.ctx.transform=this.ctx.transform.multiply(me)},w.prototype.rotate=function(ne){if(isNaN(ne))throw vi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ce=new g(Math.cos(ne),Math.sin(ne),-Math.sin(ne),Math.cos(ne),0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},w.prototype.translate=function(ne,ce){if(isNaN(ne)||isNaN(ce))throw vi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var me=new g(1,0,0,1,ne,ce);this.ctx.transform=this.ctx.transform.multiply(me)},w.prototype.transform=function(ne,ce,me,we,ke,Be){if(isNaN(ne)||isNaN(ce)||isNaN(me)||isNaN(we)||isNaN(ke)||isNaN(Be))throw vi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new g(ne,ce,me,we,ke,Be);this.ctx.transform=this.ctx.transform.multiply(he)},w.prototype.setTransform=function(ne,ce,me,we,ke,Be){ne=isNaN(ne)?1:ne,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,we=isNaN(we)?1:we,ke=isNaN(ke)?0:ke,Be=isNaN(Be)?0:Be,this.ctx.transform=new g(ne,ce,me,we,ke,Be)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(ne,ce,me,we,ke,Be,he,qe,We){var Fe=this.pdf.getImageProperties(ne),de=1,it=1,ft=1,fe=1;we!==void 0&&qe!==void 0&&(ft=qe/we,fe=We/ke,de=Fe.width/we*qe/we,it=Fe.height/ke*We/ke),Be===void 0&&(Be=ce,he=me,ce=0,me=0),we!==void 0&&qe===void 0&&(qe=we,We=ke),we===void 0&&qe===void 0&&(qe=Fe.width,We=Fe.height);var tt=this.ctx.transform.decompose(),kt=ue(tt.rotate.shx),At=new g,Xe=(At=(At=(At=At.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new c(Be-ce*ft,he-me*fe,we*de,ke*it));if(this.autoPaging){for(var Xt,nt=O.call(this,Xe),mt=[],wt=0;wt<nt.length;wt+=1)mt.indexOf(nt[wt])===-1&&mt.push(nt[wt]);R(mt);for(var Et=mt[0],Zt=mt[mt.length-1],nn=Et;nn<Zt+1;nn++){this.pdf.setPage(nn);var dn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=nn===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=nn===1?0:Jt+(nn-2)*Ft;if(this.ctx.clip_path.length!==0){var Mt=this.path;Xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Xt,this.posX+this.margin[3],-ht+Dt+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=Mt}var tn=JSON.parse(JSON.stringify(Xe));tn=F([tn],this.posX+this.margin[3],-ht+Dt+this.ctx.prevPageLastElemOffset)[0];var fn=(nn>Et||nn<Zt)&&I.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dn,Ft,null).clip().discardPath()),this.pdf.addImage(ne,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,kt),fn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(ne,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,kt)};var O=function(ne,ce,me){var we=[];ce=ce||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ke=this.posY+this.ctx.prevPageLastElemOffset;switch(ne.type){default:case"mt":case"lt":we.push(Math.floor((ne.y+ke)/me)+1);break;case"arc":we.push(Math.floor((ne.y+ke-ne.radius)/me)+1),we.push(Math.floor((ne.y+ke+ne.radius)/me)+1);break;case"qct":var Be=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x,ne.y);we.push(Math.floor((Be.y+ke)/me)+1),we.push(Math.floor((Be.y+Be.h+ke)/me)+1);break;case"bct":var he=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y);we.push(Math.floor((he.y+ke)/me)+1),we.push(Math.floor((he.y+he.h+ke)/me)+1);break;case"rect":we.push(Math.floor((ne.y+ke)/me)+1),we.push(Math.floor((ne.y+ne.h+ke)/me)+1)}for(var qe=0;qe<we.length;qe+=1)for(;this.pdf.internal.getNumberOfPages()<we[qe];)T.call(this);return we},T=function(){var ne=this.fillStyle,ce=this.strokeStyle,me=this.font,we=this.lineCap,ke=this.lineWidth,Be=this.lineJoin;this.pdf.addPage(),this.fillStyle=ne,this.strokeStyle=ce,this.font=me,this.lineCap=we,this.lineWidth=ke,this.lineJoin=Be},F=function(ne,ce,me){for(var we=0;we<ne.length;we++)switch(ne[we].type){case"bct":ne[we].x2+=ce,ne[we].y2+=me;case"qct":ne[we].x1+=ce,ne[we].y1+=me;default:ne[we].x+=ce,ne[we].y+=me}return ne},R=function(ne){return ne.sort(function(ce,me){return ce-me})},$=function(ne,ce){var me=this.fillStyle,we=this.strokeStyle,ke=this.lineCap,Be=this.lineWidth,he=Math.abs(Be*this.ctx.transform.scaleX),qe=this.lineJoin;if(this.autoPaging){for(var We,Fe,de=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),ft=[],fe=0;fe<it.length;fe++)if(it[fe].x!==void 0)for(var tt=O.call(this,it[fe]),kt=0;kt<tt.length;kt+=1)ft.indexOf(tt[kt])===-1&&ft.push(tt[kt]);for(var At=0;At<ft.length;At++)for(;this.pdf.internal.getNumberOfPages()<ft[At];)T.call(this);R(ft);for(var Xe=ft[0],Xt=ft[ft.length-1],nt=Xe;nt<Xt+1;nt++){this.pdf.setPage(nt),this.fillStyle=me,this.strokeStyle=we,this.lineCap=ke,this.lineWidth=he,this.lineJoin=qe;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=nt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nn=nt===1?0:Et+(nt-2)*Zt;if(this.ctx.clip_path.length!==0){var dn=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(We,this.posX+this.margin[3],-nn+wt+this.ctx.prevPageLastElemOffset),G.call(this,ne,!0),this.path=dn}if(Fe=JSON.parse(JSON.stringify(de)),this.path=F(Fe,this.posX+this.margin[3],-nn+wt+this.ctx.prevPageLastElemOffset),ce===!1||nt===0){var Dt=(nt>Xe||nt<Xt)&&I.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Zt,null).clip().discardPath()),G.call(this,ne,ce),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}this.path=de}else this.lineWidth=he,G.call(this,ne,ce),this.lineWidth=Be},G=function(ne,ce){if((ne!=="stroke"||ce||!N.call(this))&&(ne==="stroke"||ce||!x.call(this))){for(var me,we,ke=[],Be=this.path,he=0;he<Be.length;he++){var qe=Be[he];switch(qe.type){case"begin":ke.push({begin:!0});break;case"close":ke.push({close:!0});break;case"mt":ke.push({start:qe,deltas:[],abs:[]});break;case"lt":var We=ke.length;if(Be[he-1]&&!isNaN(Be[he-1].x)&&(me=[qe.x-Be[he-1].x,qe.y-Be[he-1].y],We>0)){for(;We>=0;We--)if(ke[We-1].close!==!0&&ke[We-1].begin!==!0){ke[We-1].deltas.push(me),ke[We-1].abs.push(qe);break}}break;case"bct":me=[qe.x1-Be[he-1].x,qe.y1-Be[he-1].y,qe.x2-Be[he-1].x,qe.y2-Be[he-1].y,qe.x-Be[he-1].x,qe.y-Be[he-1].y],ke[ke.length-1].deltas.push(me);break;case"qct":var Fe=Be[he-1].x+2/3*(qe.x1-Be[he-1].x),de=Be[he-1].y+2/3*(qe.y1-Be[he-1].y),it=qe.x+2/3*(qe.x1-qe.x),ft=qe.y+2/3*(qe.y1-qe.y),fe=qe.x,tt=qe.y;me=[Fe-Be[he-1].x,de-Be[he-1].y,it-Be[he-1].x,ft-Be[he-1].y,fe-Be[he-1].x,tt-Be[he-1].y],ke[ke.length-1].deltas.push(me);break;case"arc":ke.push({deltas:[],abs:[],arc:!0}),Array.isArray(ke[ke.length-1].abs)&&ke[ke.length-1].abs.push(qe)}}we=ce?null:ne==="stroke"?"stroke":"fill";for(var kt=!1,At=0;At<ke.length;At++)if(ke[At].arc)for(var Xe=ke[At].abs,Xt=0;Xt<Xe.length;Xt++){var nt=Xe[Xt];nt.type==="arc"?Y.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,ce,!kt):te.call(this,nt.x,nt.y),kt=!0}else if(ke[At].close===!0)this.pdf.internal.out("h"),kt=!1;else if(ke[At].begin!==!0){var mt=ke[At].start.x,wt=ke[At].start.y;V.call(this,ke[At].deltas,mt,wt),kt=!0}we&&q.call(this,we),ce&&oe.call(this)}},Q=function(ne){var ce=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=ce*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ne-me;case"top":return ne+ce-me;case"hanging":return ne+ce-2*me;case"middle":return ne+ce/2-me;default:return ne}},ee=function(ne){return ne+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var ne=function(){};return ne.colorStops=[],ne.addColorStop=function(ce,me){this.colorStops.push([ce,me])},ne.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ne.isCanvasGradient=!0,ne},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(ne,ce,me,we,ke,Be,he,qe,We){for(var Fe=ie.call(this,me,we,ke,Be),de=0;de<Fe.length;de++){var it=Fe[de];de===0&&(We?D.call(this,it.x1+ne,it.y1+ce):te.call(this,it.x1+ne,it.y1+ce)),J.call(this,ne,ce,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}qe?oe.call(this):q.call(this,he)},q=function(ne){switch(ne){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(ne,ce){this.pdf.internal.out(n(ne)+" "+r(ce)+" m")},U=function(ne){var ce;switch(ne.align){case"right":case"end":ce="right";break;case"center":ce="center";break;default:ce="left"}var me,we,ke,Be=this.pdf.getTextDimensions(ne.text),he=Q.call(this,ne.y),qe=ee.call(this,he)-Be.h,We=this.ctx.transform.applyToPoint(new h(ne.x,he));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),de=new g;de=(de=(de=de.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var it=this.ctx.transform.applyToRectangle(new c(ne.x,he,Be.w,Be.h)),ft=de.applyToRectangle(new c(ne.x,qe,Be.w,Be.h)),fe=O.call(this,ft),tt=[],kt=0;kt<fe.length;kt+=1)tt.indexOf(fe[kt])===-1&&tt.push(fe[kt]);R(tt);for(var At=tt[0],Xe=tt[tt.length-1],Xt=At;Xt<Xe+1;Xt++){this.pdf.setPage(Xt);var nt=Xt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],Et=wt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],nn=Zt-this.margin[3],dn=Xt===1?0:mt+(Xt-2)*Et;if(this.ctx.clip_path.length!==0){var Dt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(me,this.posX+this.margin[3],-1*dn+nt),G.call(this,"fill",!0),this.path=Dt}var Jt=F([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-dn+nt+this.ctx.prevPageLastElemOffset)[0];ne.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*ne.scale),ke=this.lineWidth,this.lineWidth=ke*ne.scale);var Ft=this.autoPaging!=="text";if(Ft||Jt.y+Jt.h<=wt){if(Ft||Jt.y>=nt&&Jt.x<=Zt){var ht=Ft?ne.text:this.pdf.splitTextToSize(ne.text,ne.maxWidth||Zt-Jt.x)[0],Mt=F([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-dn+nt+this.ctx.prevPageLastElemOffset)[0],tn=Ft&&(Xt>At||Xt<Xe)&&I.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nn,Et,null).clip().discardPath()),this.pdf.text(ht,Mt.x,Mt.y,{angle:ne.angle,align:ce,renderingMode:ne.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else Jt.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-Jt.y);ne.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=ke)}}else ne.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*ne.scale),ke=this.lineWidth,this.lineWidth=ke*ne.scale),this.pdf.text(ne.text,We.x+this.posX,We.y+this.posY,{angle:ne.angle,align:ce,renderingMode:ne.renderingMode,maxWidth:ne.maxWidth}),ne.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=ke)},te=function(ne,ce,me,we){me=me||0,we=we||0,this.pdf.internal.out(n(ne+me)+" "+r(ce+we)+" l")},V=function(ne,ce,me){return this.pdf.lines(ne,ce,me,null,null)},J=function(ne,ce,me,we,ke,Be,he,qe){this.pdf.internal.out([t(i(me+ne)),t(l(we+ce)),t(i(ke+ne)),t(l(Be+ce)),t(i(he+ne)),t(l(qe+ce)),"c"].join(" "))},ie=function(ne,ce,me,we){for(var ke=2*Math.PI,Be=Math.PI/2;ce>me;)ce-=ke;var he=Math.abs(me-ce);he<ke&&we&&(he=ke-he);for(var qe=[],We=we?-1:1,Fe=ce;he>1e-5;){var de=Fe+We*Math.min(he,Be);qe.push(le.call(this,ne,Fe,de)),he-=Math.abs(de-Fe),Fe=de}return qe},le=function(ne,ce,me){var we=(me-ce)/2,ke=ne*Math.cos(we),Be=ne*Math.sin(we),he=ke,qe=-Be,We=he*he+qe*qe,Fe=We+he*ke+qe*Be,de=4/3*(Math.sqrt(2*We*Fe)-Fe)/(he*Be-qe*ke),it=he-de*qe,ft=qe+de*he,fe=it,tt=-ft,kt=we+ce,At=Math.cos(kt),Xe=Math.sin(kt);return{x1:ne*Math.cos(ce),y1:ne*Math.sin(ce),x2:it*At-ft*Xe,y2:it*Xe+ft*At,x3:fe*At-tt*Xe,y3:fe*Xe+tt*At,x4:ne*Math.cos(me),y4:ne*Math.sin(me)}},ue=function(ne){return 180*ne/Math.PI},be=function(ne,ce,me,we,ke,Be){var he=ne+.5*(me-ne),qe=ce+.5*(we-ce),We=ke+.5*(me-ke),Fe=Be+.5*(we-Be),de=Math.min(ne,ke,he,We),it=Math.max(ne,ke,he,We),ft=Math.min(ce,Be,qe,Fe),fe=Math.max(ce,Be,qe,Fe);return new c(de,ft,it-de,fe-ft)},Le=function(ne,ce,me,we,ke,Be,he,qe){var We,Fe,de,it,ft,fe,tt,kt,At,Xe,Xt,nt,mt,wt,Et=me-ne,Zt=we-ce,nn=ke-me,dn=Be-we,Dt=he-ke,Jt=qe-Be;for(Fe=0;Fe<41;Fe++)At=(tt=(de=ne+(We=Fe/40)*Et)+We*((ft=me+We*nn)-de))+We*(ft+We*(ke+We*Dt-ft)-tt),Xe=(kt=(it=ce+We*Zt)+We*((fe=we+We*dn)-it))+We*(fe+We*(Be+We*Jt-fe)-kt),Fe==0?(Xt=At,nt=Xe,mt=At,wt=Xe):(Xt=Math.min(Xt,At),nt=Math.min(nt,Xe),mt=Math.max(mt,At),wt=Math.max(wt,Xe));return new c(Math.round(Xt),Math.round(nt),Math.round(mt-Xt),Math.round(wt-nt))},Re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ne,ce,me=(ne=this.ctx.lineDash,ce=this.ctx.lineDashOffset,JSON.stringify({lineDash:ne,lineDashOffset:ce}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(qn.API),(function(e){var t=function(h){var c,g,v,y,w,k,x,N,I,O;for(g=[],v=0,y=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;y>v;v+=4)(w=(h.charCodeAt(v)<<24)+(h.charCodeAt(v+1)<<16)+(h.charCodeAt(v+2)<<8)+h.charCodeAt(v+3))!==0?(k=(w=((w=((w=((w=(w-(O=w%85))/85)-(I=w%85))/85)-(N=w%85))/85)-(x=w%85))/85)%85,g.push(k+33,x+33,N+33,I+33,O+33)):g.push(122);return(function(T,F){for(var R=F;R>0;R--)T.pop()})(g,c.length),String.fromCharCode.apply(String,g)+"~>"},n=function(h){var c,g,v,y,w,k=String,x="length",N=255,I="charCodeAt",O="slice",T="replace";for(h[O](-2),h=h[O](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),v=[],y=0,w=(h+=c="uuuuu"[O](h[x]%5||5))[x];w>y;y+=5)g=52200625*(h[I](y)-33)+614125*(h[I](y+1)-33)+7225*(h[I](y+2)-33)+85*(h[I](y+3)-33)+(h[I](y+4)-33),v.push(N&g>>24,N&g>>16,N&g>>8,N&g);return(function(F,R){for(var $=R;$>0;$--)F.pop()})(v,c[x]),k.fromCharCode.apply(k,v)},r=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var g="",v=0;v<h.length;v+=2)g+=String.fromCharCode("0x"+(h[v]+h[v+1]));return g},l=function(h){for(var c=new Uint8Array(h.length),g=h.length;g--;)c[g]=h.charCodeAt(g);return(c=Ff(c)).reduce(function(v,y){return v+String.fromCharCode(y)},"")};e.processDataByFilters=function(h,c){var g=0,v=h||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),g=0;g<c.length;g+=1)switch(c[g]){case"ASCII85Decode":case"/ASCII85Decode":v=n(v),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=t(v),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=i(v),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=r(v),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=l(v),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[g]+'" is not implemented')}return{data:v,reverseChain:y.reverse().join(" ")}}})(qn.API),(function(e){e.loadFile=function(t,n,r){return(function(i,l,h){l=l!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(g,v,y){var w=new XMLHttpRequest,k=0,x=function(N){var I=N.length,O=[],T=String.fromCharCode;for(k=0;k<I;k+=1)O.push(T(255&N.charCodeAt(k)));return O.join("")};if(w.open("GET",g,!v),w.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(w.onload=function(){w.status===200?y(x(this.responseText)):y(void 0)}),w.send(null),v&&w.status===200)return x(w.responseText)})(i,l,h)}catch{}return c})(t,n,r)},e.loadImageFile=e.loadFile})(qn.API),(function(e){function t(){return(lr.html2canvas?Promise.resolve(lr.html2canvas):md(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(lr.DOMPurify?Promise.resolve(lr.DOMPurify):md(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var g=Lr(c);return g==="undefined"?"undefined":g==="string"||c instanceof String?"string":g==="number"||c instanceof Number?"number":g==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":g==="object"?"object":"unknown"},i=function(c,g){var v=document.createElement(c);for(var y in g.className&&(v.className=g.className),g.innerHTML&&g.dompurify&&(v.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)v.style[y]=g.style[y];return v},l=function c(g,v){for(var y=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),w=g.firstChild;w;w=w.nextSibling)v!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(c(w,v));return g.nodeType===1&&(g.nodeName==="CANVAS"?(y.width=g.width,y.height=g.height,y.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(y.value=g.value),y.addEventListener("load",function(){y.scrollTop=g.scrollTop,y.scrollLeft=g.scrollLeft},!0)),y},h=function c(g){var v=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),v);return(y=y.setProgress(1,c,1,[c])).set(g)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,g){return c.__proto__=g||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,g){return this.then(function(){switch(g=g||(function(v){switch(r(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),g){case"string":return this.then(n).then(function(v){return this.set({src:i("div",{innerHTML:c,dompurify:v})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(g){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,g(this.prop.container,v)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(g){var v=this.opt.jsPDF,y=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,k=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete k.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=y,y)for(var x=0;x<y.length;++x){var N=y[x],I=N.src.find(function(O){return O.format==="truetype"});I&&v.addFont(I.url,N.ref.name,N.ref.style)}return k.windowHeight=k.windowHeight||0,k.windowHeight=k.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):k.windowHeight,v.context2d.save(!0),g(this.prop.container,k)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,g,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(c,g):this.outputPdf(c,g)},h.prototype.outputPdf=function(c,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,g)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(r(c)!=="object")return this;var g=Object.keys(c||{}).map(function(v){if(v in h.template.prop)return function(){this.prop[v]=c[v]};switch(v){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[v]=c[v]}}},this);return this.then(function(){return this.thenList(g)})},h.prototype.get=function(c,g){return this.then(function(){var v=c in h.template.prop?this.prop[c]:this.opt[c];return g?g(v):v})},h.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function g(v,y){return Math.floor(v*y/72*96)}return this.then(function(){(c=c||qn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:g(c.inner.width,c.k),height:g(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,g,v,y){return c!=null&&(this.progress.val=c),g!=null&&(this.progress.state=g),v!=null&&(this.progress.n=v),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,g,v,y){return this.setProgress(c?this.progress.val+c:null,g||null,v?this.progress.n+v:null,y?this.progress.stack.concat(y):null)},h.prototype.then=function(c,g){var v=this;return this.thenCore(c,g,function(y,w){return v.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(k){return v.updateProgress(null,y),k}).then(y,w).then(function(k){return v.updateProgress(1),k})})},h.prototype.thenCore=function(c,g,v){v=v||Promise.prototype.then;var y=this;c&&(c=c.bind(y)),g&&(g=g.bind(y));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:h.convert(Object.assign({},y),Promise.prototype),k=v.call(w,c,g);return h.convert(k,y.__proto__)},h.prototype.thenExternal=function(c,g){return Promise.prototype.then.call(this,c,g)},h.prototype.thenList=function(c){var g=this;return c.forEach(function(v){g=g.thenCore(v)}),g},h.prototype.catch=function(c){c&&(c=c.bind(this));var g=Promise.prototype.catch.call(this,c);return h.convert(g,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,qn.getPageSize=function(c,g,v){if(Lr(c)==="object"){var y=c;c=y.orientation,g=y.unit||g,v=y.format||v}g=g||"mm",v=v||"a4",c=(""+(c||"P")).toLowerCase();var w,k=(""+v).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+g}var N,I=0,O=0;if(x.hasOwnProperty(k))I=x[k][1]/w,O=x[k][0]/w;else try{I=v[1],O=v[0]}catch{throw new Error("Invalid format: "+v)}if(c==="p"||c==="portrait")c="p",O>I&&(N=O,O=I,I=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",I>O&&(N=O,O=I,I=N)}return{width:O,height:I,unit:g,k:w,orientation:c}},e.html=function(c,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(rf):null;var v=new h(g);return g.worker?v:v.from(c).doCallback()}})(qn.API),qn.API.addJS=function(e){return av=e,this.internal.events.subscribe("postPutResources",function(){Gc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+av+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Gc!==void 0&&iv!==void 0&&this.internal.out("/Names <</JavaScript "+Gc+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),l=0;l<i.length;l++){var h=i[l],c=r.exec(h);if(c!=null){var g=c[1];n.internal.newObjectDeferredBegin(g,!1)}n.internal.write(h)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,y=[];for(l=0;l<v;l++){var w=n.internal.newObject();y.push(w);var k=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var x=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<y.length;l++)n.internal.write("(page_"+(l+1)+")"+y[l]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+x+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,l){var h={title:i,options:l,children:[]};return r==null&&(r=this.root),r.children.push(h),h},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<r.children.length;l++){var h=r.children[l];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(r)),l>0&&this.line("/Prev "+this.makeRef(r.children[l-1])),l<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[l+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var g=n.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var v=0;v<r.children.length;v++)this.renderItems(r.children[v])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var l=0;l<i.children.length;l++)r.count++,this.count_r(r,i.children[l]);return r.count}}])})(qn.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,l,h,c){var g,v=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=h||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,g=(function(w){for(var k,x=256*w.charCodeAt(4)+w.charCodeAt(5),N=w.length,I={width:0,height:0,numcomponents:1},O=4;O<N;O+=2){if(O+=x,t.indexOf(w.charCodeAt(O+1))!==-1){k=256*w.charCodeAt(O+5)+w.charCodeAt(O+6),I={width:256*w.charCodeAt(O+7)+w.charCodeAt(O+8),height:k,numcomponents:w.charCodeAt(O+9)};break}x=256*w.charCodeAt(O+2)+w.charCodeAt(O+3)}return I})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),g.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:n,width:g.width,height:g.height,colorSpace:c,bitsPerComponent:8,filter:v,index:r,alias:i}}return y}})(qn.API),qn.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,l=FO(e,{checkCrc:!0}),h=l.width,c=l.height,g=l.channels,v=l.palette,y=l.depth;i=v&&g===1?(function(Y){for(var q=Y.width,oe=Y.height,D=Y.data,U=Y.palette,te=Y.depth,V=!1,J=[],ie=[],le=void 0,ue=!1,be=0,Le=0;Le<U.length;Le++){var Re=On(U[Le],4),ne=Re[0],ce=Re[1],me=Re[2],we=Re[3];J.push(ne,ce,me),we!=null&&(we===0?(be++,ie.length<1&&ie.push(Le)):we<255&&(ue=!0))}if(ue||be>1){V=!0,ie=void 0;var ke=q*oe;le=new Uint8Array(ke);for(var Be=new DataView(D.buffer),he=0;he<ke;he++){var qe=of(Be,he,te),We=On(U[qe],4)[3];le[he]=We}}else be===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:D,alphaBytes:le,needSMask:V,palette:J,mask:ie}})(l):g===2||g===4?(function(Y){for(var q=Y.data,oe=Y.width,D=Y.height,U=Y.channels,te=Y.depth,V=U===2?"DeviceGray":"DeviceRGB",J=U-1,ie=oe*D,le=J,ue=ie*le,be=1*ie,Le=Math.ceil(ue*te/8),Re=Math.ceil(be*te/8),ne=new Uint8Array(Le),ce=new Uint8Array(Re),me=new DataView(q.buffer),we=new DataView(ne.buffer),ke=new DataView(ce.buffer),Be=!1,he=0;he<ie;he++){for(var qe=he*U,We=0;We<le;We++)pv(we,of(me,qe+We,te),he*le+We,te);var Fe=of(me,qe+le,te);Fe<(1<<te)-1&&(Be=!0),pv(ke,Fe,1*he,te)}return{colorSpace:V,colorsPerPixel:J,sMaskBitsPerComponent:Be?te:void 0,colorBytes:ne,alphaBytes:ce,needSMask:Be}})(l):(function(Y){var q=Y.data,oe=Y.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:oe,colorsPerPixel:oe==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(D){for(var U=D.length,te=new Uint8Array(2*U),V=new DataView(te.buffer,te.byteOffset,te.byteLength),J=0;J<U;J++)V.setUint16(2*J,D[J],!1);return te})(q):q,needSMask:!1}})(l);var w,k,x,N=i,I=N.colorSpace,O=N.colorsPerPixel,T=N.sMaskBitsPerComponent,F=N.colorBytes,R=N.alphaBytes,$=N.needSMask,G=N.palette,Q=N.mask,ee=null;return r!==qn.API.image_compression.NONE&&typeof Ff=="function"?(ee=(function(Y){var q;switch(Y){case qn.API.image_compression.FAST:q=11;break;case qn.API.image_compression.MEDIUM:q=13;break;case qn.API.image_compression.SLOW:q=14;break;default:q=12}return q})(r),w=this.decode.FLATE_DECODE,k="/Predictor ".concat(ee," /Colors ").concat(O," /BitsPerComponent ").concat(y," /Columns ").concat(h),e=uv(F,Math.ceil(h*O*y/8),O,y,r),$&&(x=uv(R,Math.ceil(h*T/8),1,T,r))):(w=void 0,k=void 0,e=F,$&&(x=R)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:n,data:e,index:t,filter:w,decodeParameters:k,transparency:Q,palette:G,sMask:x,predictor:ee,width:h,height:c,bitsPerComponent:y,sMaskBitsPerComponent:T,colorSpace:I}}},(function(e){e.processGIF89A=function(t,n,r,i){var l=new o6(t),h=l.width,c=l.height,g=[];l.decodeAndBlitFrameRGBA(0,g);var v={data:g,width:h,height:c},y=new sf(100).encode(v,100);return e.processJPEG.call(this,y,n,r,i)},e.processGIF87A=e.processGIF89A})(qn.API),hs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){vi.log("bit decode error:"+n)}},hs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var l=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var g=this.palette[l>>7-c&1];this.data[h+4*c]=g.blue,this.data[h+4*c+1]=g.green,this.data[h+4*c+2]=g.red,this.data[h+4*c+3]=255}n!==0&&(this.pos+=4-n)}},hs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var l=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+2*i*4,c=l>>4,g=15&l,v=this.palette[c];if(this.data[h]=v.blue,this.data[h+1]=v.green,this.data[h+2]=v.red,this.data[h+3]=255,2*i+1>=this.width)break;v=this.palette[g],this.data[h+4]=v.blue,this.data[h+4+1]=v.green,this.data[h+4+2]=v.red,this.data[h+4+3]=255}t!==0&&(this.pos+=4-t)}},hs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*r;if(i<this.palette.length){var h=this.palette[i];this.data[l]=h.red,this.data[l+1]=h.green,this.data[l+2]=h.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}e!==0&&(this.pos+=4-e)}},hs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(l&t)/t*255|0,c=(l>>5&t)/t*255|0,g=(l>>10&t)/t*255|0,v=l>>15?255:0,y=r*this.width*4+4*i;this.data[y]=g,this.data[y+1]=c,this.data[y+2]=h,this.data[y+3]=v}this.pos+=e}},hs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,l=0;l<this.width;l++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&t)/t*255|0,g=(h>>5&n)/n*255|0,v=(h>>11)/t*255|0,y=i*this.width*4+4*l;this.data[y]=v,this.data[y+1]=g,this.data[y+2]=c,this.data[y+3]=255}this.pos+=e}},hs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*n;this.data[h]=l,this.data[h+1]=i,this.data[h+2]=r,this.data[h+3]=255}this.pos+=this.width%4}},hs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=l,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=h}},hs.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var l=new hs(t,!1),h=l.width,c=l.height,g={data:l.getData(),width:h,height:c},v=new sf(100).encode(g,100);return e.processJPEG.call(this,v,n,r,i)}})(qn.API),mv.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var l=new mv(t),h=l.width,c=l.height,g={data:l.getData(),width:h,height:c},v=new sf(100).encode(g,100);return e.processJPEG.call(this,v,n,r,i)}})(qn.API),qn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,l=new Uint8Array(i/4*3),h=new Uint8Array(i/4),c=0,g=0,v=0;v<i;v+=4){var y=r[v],w=r[v+1],k=r[v+2],x=r[v+3];l[c++]=y,l[c++]=w,l[c++]=k,h[g++]=x}var N=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ru=qn.API,Vc=ru.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),h=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,g=c.fof?c.fof:1,v=t.kerning?t.kerning:i.metadata.Unicode.kerning,y=v.fof?v.fof:1,w=t.doKerning!==!1,k=0,x=e.length,N=0,I=c[0]||g,O=[];for(n=0;n<x;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?O.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+h*(1e3/l)||0)/1e3):(k=w&&Lr(v[r])==="object"&&!isNaN(parseInt(v[r][N],10))?v[r][N]/y:0,O.push((c[r]||I)/g+k)),N=r;return O},ov=ru.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ru.processArabic&&(e=ru.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Vc.apply(this,arguments).reduce(function(l,h){return l+h},0)},sv=function(e,t,n,r){for(var i=[],l=0,h=e.length,c=0;l!==h&&c+t[l]<n;)c+=t[l],l++;i.push(e.slice(0,l));var g=l;for(c=0;l!==h;)c+t[l]>r&&(i.push(e.slice(g,l)),c=0,g=l),c+=t[l],l++;return g!==l&&i.push(e.slice(g,l)),i},lv=function(e,t,n){n||(n={});var r,i,l,h,c,g,v,y=[],w=[y],k=n.textIndent||0,x=0,N=0,I=e.split(" "),O=Vc.apply(this,[" ",n])[0];if(g=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var T=Array(g).join(" "),F=[];I.map(function($){($=$.split(/\s*\n/)).length>1?F=F.concat($.map(function(G,Q){return(Q&&G.length?`
`:"")+G})):F.push($[0])}),I=F,g=ov.apply(this,[T,n])}for(l=0,h=I.length;l<h;l++){var R=0;if(r=I[l],g&&r[0]==`
`&&(r=r.substr(1),R=1),k+x+(N=(i=Vc.apply(this,[r,n])).reduce(function($,G){return $+G},0))>t||R){if(N>t){for(c=sv.apply(this,[r,i,t-(k+x),t]),y.push(c.shift()),y=[c.pop()];c.length;)w.push([c.shift()]);N=i.slice(r.length-(y[0]?y[0].length:0)).reduce(function($,G){return $+G},0)}else y=[r];w.push(y),k=N+g,x=O}else y.push(r),k+=x+N,x=O}return v=g?function($,G){return(G?T:"")+$.join(" ")}:function($){return $.join(" ")},w.map(v)},ru.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle),k="Unicode";return w.metadata[k]?{widths:w.metadata[k].widths||{0:1},kerning:w.metadata[k].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var h=1*this.internal.scaleFactor*t/i;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=n.lineIndent;var c,g,v=[];for(c=0,g=r.length;c<g;c++)v=v.concat(lv.apply(this,[r[c],h,l]));return v},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},l=0;l<16;l++)r[n[l]]=t[l],i[t[l]]=n[l];var h=function(k){return"0x"+parseInt(k,10).toString(16)},c=e.__fontmetrics__.compress=function(k){var x,N,I,O,T=["{"];for(var F in k){if(x=k[F],isNaN(parseInt(F,10))?N="'"+F+"'":(F=parseInt(F,10),N=(N=h(F).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof x=="number")x<0?(I=h(x).slice(3),O="-"):(I=h(x).slice(2),O=""),I=O+I.slice(0,-1)+i[I.slice(-1)];else{if(Lr(x)!=="object")throw new Error("Don't know what to do with value type "+Lr(x)+".");I=c(x)}T.push(N+I)}return T.push("}"),T.join("")},g=e.__fontmetrics__.uncompress=function(k){if(typeof k!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,N,I,O,T={},F=1,R=T,$=[],G="",Q="",ee=k.length-1,Y=1;Y<ee;Y+=1)(O=k[Y])=="'"?x?(I=x.join(""),x=void 0):x=[]:x?x.push(O):O=="{"?($.push([R,I]),R={},I=void 0):O=="}"?((N=$.pop())[0][N[1]]=R,I=void 0,R=N[0]):O=="-"?F=-1:I===void 0?r.hasOwnProperty(O)?(G+=r[O],I=parseInt(G,16)*F,F=1,G=""):G+=O:r.hasOwnProperty(O)?(Q+=r[O],R[I]=parseInt(Q,16)*F,F=1,I=void 0,Q=""):Q+=O;return T},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},w={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(k){var x=k.font,N=w.Unicode[x.postScriptName];N&&(x.metadata.Unicode={},x.metadata.Unicode.widths=N.widths,x.metadata.Unicode.kerning=N.kerning);var I=y.Unicode[x.postScriptName];I&&(x.metadata.Unicode.encoding=I,x.encoding=I.codePages[0])}])})(qn.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),l=0;l<r;l++)i[l]=n.charCodeAt(l);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,l=n.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(th(c)),h.metadata=e.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(i,r)}}])})(qn),qn.API.addSvgAsImage=function(e,t,n,r,i,l,h,c){if(isNaN(t)||isNaN(n))throw vi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw vi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=r,g.height=i;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(lr.canvg?Promise.resolve(lr.canvg):md(()=>import("./index.es-BkRw9YiN.js"),__vite__mapDeps([0,1,2,3]))).catch(function(k){return Promise.reject(new Error("Could not load canvg: "+k))}).then(function(k){return k.default?k.default:k}).then(function(k){return k.fromString(v,e,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(y)}).then(function(){w.addImage(g.toDataURL("image/jpeg",1),t,n,r,i,h,c)})},qn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},qn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,l,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),g=[],v=0,y=0,w=0;function k(N,I){var O,T=!1;for(O=0;O<N.length;O+=1)N[O]===I&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=c.length;for(w=0;w<x;w+=1)n[c[w]].value=n[c[w]].defaultValue,n[c[w]].explicitSet=!1}if(Lr(e)==="object"){for(i in e)if(l=e[i],k(c,i)&&l!==void 0){if(n[i].type==="boolean"&&typeof l=="boolean")n[i].value=l;else if(n[i].type==="name"&&k(n[i].valueSet,l))n[i].value=l;else if(n[i].type==="integer"&&Number.isInteger(l))n[i].value=l;else if(n[i].type==="array"){for(v=0;v<l.length;v+=1)if(r=!0,l[v].length===1&&typeof l[v][0]=="number")g.push(String(l[v]-1));else if(l[v].length>1){for(y=0;y<l[v].length;y+=1)typeof l[v][y]!="number"&&(r=!1);r===!0&&g.push([l[v][0]-1,l[v][1]-1].join(" "))}n[i].value="["+g.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,I=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?I.push("/"+N+" /"+n[N].value):I.push("/"+N+" "+n[N].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(r)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),v=l.length+h.length+c.length+i.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(i+l+h+c+g),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(qn.API),(function(e){var t=e.API,n=t.pdfEscape16=function(l,h){for(var c,g=h.metadata.Unicode.widths,v=["","0","00","000","0000"],y=[""],w=0,k=l.length;w<k;++w){if(c=h.metadata.characterToGlyph(l.charCodeAt(w)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=l.charCodeAt(w),g.indexOf(c)==-1&&(g.push(c),g.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(v[4-c.length],c)}return y.join("")},r=function(l){var h,c,g,v,y,w,k;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],w=0,k=(c=Object.keys(l).sort(function(x,N){return x-N})).length;w<k;w++)h=c[w],g.length>=100&&(y+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),l[h]!==void 0&&l[h]!==null&&typeof l[h].toString=="function"&&(v=("0000"+l[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),g.push("<"+h+"><"+v+">"));return g.length&&(y+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(h){var c=h.font,g=h.out,v=h.newObject,y=h.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,k=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),x="",N=0;N<k.length;N++)x+=String.fromCharCode(k[N]);var I=v();y({data:x,addLength1:!0,objectId:I}),g("endobj");var O=v();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:O}),g("endobj");var T=v();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+au(c.fontName)),g("/FontFile2 "+I+" 0 R"),g("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),g("/Flags "+c.metadata.flags),g("/StemV "+c.metadata.stemV),g("/ItalicAngle "+c.metadata.italicAngle),g("/Ascent "+c.metadata.ascender),g("/Descent "+c.metadata.decender),g("/CapHeight "+c.metadata.capHeight),g(">>"),g("endobj");var F=v();g("<<"),g("/Type /Font"),g("/BaseFont /"+au(c.fontName)),g("/FontDescriptor "+T+" 0 R"),g("/W "+e.API.PDFObject.convert(w)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+c.encoding+")"),g(">>"),g(">>"),g("endobj"),c.objectNumber=v(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+O+" 0 R"),g("/BaseFont /"+au(c.fontName)),g("/Encoding /"+c.encoding),g("/DescendantFonts ["+F+" 0 R]"),g(">>"),g("endobj"),c.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(h){var c=h.font,g=h.out,v=h.newObject,y=h.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,k="",x=0;x<w.length;x++)k+=String.fromCharCode(w[x]);var N=v();y({data:k,addLength1:!0,objectId:N}),g("endobj");var I=v();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:I}),g("endobj");var O=v();g("<<"),g("/Descent "+c.metadata.decender),g("/CapHeight "+c.metadata.capHeight),g("/StemV "+c.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+N+" 0 R"),g("/Flags 96"),g("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),g("/FontName /"+au(c.fontName)),g("/ItalicAngle "+c.metadata.italicAngle),g("/Ascent "+c.metadata.ascender),g(">>"),g("endobj"),c.objectNumber=v();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+au(c.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),g("endobj"),c.isAlreadyPutted=!0}})(l)}]);var i=function(l){var h,c=l.text||"",g=l.x,v=l.y,y=l.options||{},w=l.mutex||{},k=w.pdfEscape,x=w.activeFontKey,N=w.fonts,I=x,O="",T=0,F="",R=N[I].encoding;if(N[I].encoding!=="Identity-H")return{text:c,x:g,y:v,options:y,mutex:w};for(F=c,I=x,Array.isArray(c)&&(F=c[0]),T=0;T<F.length;T+=1)N[I].metadata.hasOwnProperty("cmap")&&(h=N[I].metadata.cmap.unicode.codeMap[F[T].charCodeAt(0)]),h||F[T].charCodeAt(0)<256&&N[I].metadata.hasOwnProperty("Unicode")?O+=F[T]:O+="";var $="";return parseInt(I.slice(1))<14||R==="WinAnsiEncoding"?$=k(O,I).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&($=n(O,N[I])),w.isHex=!0,{text:$,x:g,y:v,options:y,mutex:w}};t.events.push(["postProcessText",function(l){var h=l.text||"",c=[],g={text:h,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(h)){var v=0;for(v=0;v<h.length;v+=1)Array.isArray(h[v])&&h[v].length===3?c.push([i(Object.assign({},g,{text:h[v][0]})).text,h[v][1],h[v][2]]):c.push(i(Object.assign({},g,{text:h[v]})).text);l.text=c}else l.text=i(Object.assign({},g,{text:h})).text}])})(qn),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(qn.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,l,h,c,g,v,y,w=t,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,R=0;this.__bidiEngine__={};var $=function(D){var U=D.charCodeAt(),te=U>>8,V=I[te];return V!==void 0?w[256*V+(255&U)]:te===252||te===253?"AL":T.test(te)?"L":te===8?"R":"N"},G=function(D){for(var U,te=0;te<D.length;te++){if((U=$(D.charAt(te)))==="L")return!1;if(U==="R")return!0}return!1},Q=function(D,U,te,V){var J,ie,le,ue,be=U[V];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(be="AN");break;case"AL":F=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":V<1||V+1>=U.length||(J=te[V-1])!=="EN"&&J!=="AN"||(ie=U[V+1])!=="EN"&&ie!=="AN"?be="N":F&&(ie="AN"),be=ie===J?ie:"N";break;case"ES":be=(J=V>0?te[V-1]:"B")==="EN"&&V+1<U.length&&U[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&te[V-1]==="EN"){be="EN";break}if(F){be="N";break}for(le=V+1,ue=U.length;le<ue&&U[le]==="ET";)le++;be=le<ue&&U[le]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ue=U.length,le=V+1;le<ue&&U[le]==="NSM";)le++;if(le<ue){var Le=D[V],Re=Le>=1425&&Le<=2303||Le===64286;if(J=U[le],Re&&(J==="R"||J==="AL")){be="R";break}}}be=V<1||(J=U[V-1])==="B"?"N":te[V-1];break;case"B":F=!1,i=!0,be=R;break;case"S":l=!0,be="N"}return be},ee=function(D,U,te){var V=D.split("");return te&&Y(V,te,{hiLevel:R}),V.reverse(),U&&U.reverse(),V.join("")},Y=function(D,U,te){var V,J,ie,le,ue,be=-1,Le=D.length,Re=0,ne=[],ce=R?x:k,me=[];for(F=!1,i=!1,l=!1,J=0;J<Le;J++)me[J]=$(D[J]);for(ie=0;ie<Le;ie++){if(ue=Re,ne[ie]=Q(D,me,ne,ie),V=240&(Re=ce[ue][N[ne[ie]]]),Re&=15,U[ie]=le=ce[Re][5],V>0)if(V===16){for(J=be;J<ie;J++)U[J]=1;be=-1}else be=-1;if(ce[Re][6])be===-1&&(be=ie);else if(be>-1){for(J=be;J<ie;J++)U[J]=le;be=-1}me[ie]==="B"&&(U[ie]=0),te.hiLevel|=le}l&&(function(we,ke,Be){for(var he=0;he<Be;he++)if(we[he]==="S"){ke[he]=R;for(var qe=he-1;qe>=0&&we[qe]==="WS";qe--)ke[qe]=R}})(me,U,Le)},q=function(D,U,te,V,J){if(!(J.hiLevel<D)){if(D===1&&R===1&&!i)return U.reverse(),void(te&&te.reverse());for(var ie,le,ue,be,Le=U.length,Re=0;Re<Le;){if(V[Re]>=D){for(ue=Re+1;ue<Le&&V[ue]>=D;)ue++;for(be=Re,le=ue-1;be<le;be++,le--)ie=U[be],U[be]=U[le],U[le]=ie,te&&(ie=te[be],te[be]=te[le],te[le]=ie);Re=ue}Re++}}},oe=function(D,U,te){var V=D.split(""),J={hiLevel:R};return te||(te=[]),Y(V,te,J),(function(ie,le,ue){if(ue.hiLevel!==0&&y)for(var be,Le=0;Le<ie.length;Le++)le[Le]===1&&(be=O.indexOf(ie[Le]))>=0&&(ie[Le]=O[be+1])})(V,te,J),q(2,V,U,te,J),q(1,V,U,te,J),V.join("")};return this.__bidiEngine__.doBidiReorder=function(D,U,te){if((function(J,ie){if(ie)for(var le=0;le<J.length;le++)ie[le]=le;c===void 0&&(c=G(J)),v===void 0&&(v=G(J))})(D,U),h||!g||v)if(h&&g&&c^v)R=c?1:0,D=ee(D,U,te);else if(!h&&g&&v)R=c?1:0,D=oe(D,U,te),D=ee(D,U);else if(!h||c||g||v){if(h&&!g&&c^v)D=ee(D,U),c?(R=0,D=oe(D,U,te)):(R=1,D=oe(D,U,te),D=ee(D,U));else if(h&&c&&!g&&v)R=1,D=oe(D,U,te),D=ee(D,U);else if(!h&&!g&&c^v){var V=y;c?(R=1,D=oe(D,U,te),R=0,y=!1,D=oe(D,U,te),y=V):(R=0,D=oe(D,U,te),D=ee(D,U),R=1,y=!1,D=oe(D,U,te),y=V,D=ee(D,U))}}else R=0,D=oe(D,U,te);else R=c?1:0,D=oe(D,U,te);return D},this.__bidiEngine__.setOptions=function(D){D&&(h=D.isInputVisual,g=D.isOutputVisual,c=D.isInputRtl,v=D.isOutputRtl,y=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var l=r.options||{};r.mutex,l.lang;var h=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(h=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?h.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):h.push([n.doBidiReorder(i[c])]);r.text=h}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(qn),qn.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ll(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new x6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new s6(this.contents),this.head=new u6(this),this.name=new p6(this),this.cmap=new $b(this),this.toUnicode={},this.hhea=new c6(this),this.maxp=new g6(this),this.hmtx=new m6(this),this.post=new d6(this),this.os2=new h6(this),this.loca=new b6(this),this.glyf=new v6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,g,v;for(v=[],h=0,c=(g=this.bbox).length;h<c;h++)t=g[h],v.push(Math.round(t*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,l,h,c;for(h=0,l=0,c=(t=""+t).length;0<=c?l<c:l>c;l=0<=c?++l:--l)i=t.charCodeAt(l),h+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return h*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var _s,ll=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,l,h,c,g;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),l=this.readByte(),h=this.readByte(),c=this.readByte(),g=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^l)+65536*(255^h)+256*(255^c)+(255^g)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*l+65536*h+256*c+g},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,l;for(l=[],r=0,i=t.length;r<i;r++)n=t[r],l.push(this.writeByte(n));return l},e})(),s6=(function(){var e;function t(n){var r,i,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,l,h,c,g,v,y,w,k,x,N,I;for(I in x=Object.keys(n).length,g=Math.log(2),w=16*Math.floor(Math.log(x)/g),h=Math.floor(w/g),y=16*x-w,(i=new ll).writeInt(this.scalarType),i.writeShort(x),i.writeShort(w),i.writeShort(h),i.writeShort(y),l=16*x,v=i.pos+l,c=null,N=[],n)for(k=n[I],i.writeString(I),i.writeInt(e(k)),i.writeInt(v),i.writeInt(k.length),N=N.concat(k),I==="head"&&(c=v),v+=k.length;v%4;)N.push(0),v++;return i.write(N),r=2981146554-e(i.data),i.pos=c+8,i.writeUInt32(r),i.data},e=function(n){var r,i,l,h;for(n=Fb.call(n);n.length%4;)n.push(0);for(l=new ll(n),i=0,r=0,h=n.length;r<h;r=r+=4)i+=l.readUInt32();return 4294967295&i},t})(),l6={}.hasOwnProperty,Is=function(e,t){for(var n in t)l6.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};_s=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var u6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new ll).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),vv=(function(){function e(t,n){var r,i,l,h,c,g,v,y,w,k,x,N,I,O,T,F,R;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=t.readByte();break;case 4:for(x=t.readUInt16(),k=x/2,t.pos+=6,l=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),t.pos+=2,I=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),v=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),y=(function(){var $,G;for(G=[],g=$=0;0<=k?$<k:$>k;g=0<=k?++$:--$)G.push(t.readUInt16());return G})(),i=(this.length-t.pos+this.offset)/2,c=(function(){var $,G;for(G=[],g=$=0;0<=i?$<i:$>i;g=0<=i?++$:--$)G.push(t.readUInt16());return G})(),g=T=0,R=l.length;T<R;g=++T)for(O=l[g],r=F=N=I[g];N<=O?F<=O:F>=O;r=N<=O?++F:--F)y[g]===0?h=r+v[g]:(h=c[y[g]/2+(r-N)-(k-g)]||0)!==0&&(h+=v[g]),this.codeMap[r]=65535&h}t.pos=w}return e.encode=function(t,n){var r,i,l,h,c,g,v,y,w,k,x,N,I,O,T,F,R,$,G,Q,ee,Y,q,oe,D,U,te,V,J,ie,le,ue,be,Le,Re,ne,ce,me,we,ke,Be,he,qe,We,Fe,de;switch(V=new ll,h=Object.keys(t).sort(function(it,ft){return it-ft}),n){case"macroman":for(I=0,O=(function(){var it=[];for(N=0;N<256;++N)it.push(0);return it})(),F={0:0},l={},J=0,be=h.length;J<be;J++)F[qe=t[i=h[J]]]==null&&(F[qe]=++I),l[i]={old:t[i],new:F[t[i]]},O[i]=F[t[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(O),{charMap:l,subtable:V.data,maxGlyphID:I+1};case"unicode":for(U=[],w=[],R=0,F={},r={},T=v=null,ie=0,Le=h.length;ie<Le;ie++)F[G=t[i=h[ie]]]==null&&(F[G]=++R),r[i]={old:G,new:F[G]},c=F[G]-i,T!=null&&c===v||(T&&w.push(T),U.push(i),v=c),T=i;for(T&&w.push(T),w.push(65535),U.push(65535),oe=2*(q=U.length),Y=2*Math.pow(Math.log(q)/Math.LN2,2),k=Math.log(Y/2)/Math.LN2,ee=2*q-Y,g=[],Q=[],x=[],N=le=0,Re=U.length;le<Re;N=++le){if(D=U[N],y=w[N],D===65535){g.push(0),Q.push(0);break}if(D-(te=r[D].new)>=32768)for(g.push(0),Q.push(2*(x.length+q-N)),i=ue=D;D<=y?ue<=y:ue>=y;i=D<=y?++ue:--ue)x.push(r[i].new);else g.push(te-D),Q.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*q+2*x.length),V.writeUInt16(0),V.writeUInt16(oe),V.writeUInt16(Y),V.writeUInt16(k),V.writeUInt16(ee),Be=0,ne=w.length;Be<ne;Be++)i=w[Be],V.writeUInt16(i);for(V.writeUInt16(0),he=0,ce=U.length;he<ce;he++)i=U[he],V.writeUInt16(i);for(We=0,me=g.length;We<me;We++)c=g[We],V.writeUInt16(c);for(Fe=0,we=Q.length;Fe<we;Fe++)$=Q[Fe],V.writeUInt16($);for(de=0,ke=x.length;de<ke;de++)I=x[de],V.writeUInt16(I);return{charMap:r,subtable:V.data,maxGlyphID:R+1}}},e})(),$b=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new vv(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=vv.encode(t,n),(i=new ll).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e})(),c6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),h6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),d6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(r=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var h,c,g;for(g=[],l=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;l=0<=c?++h:--h)g.push(t.readUInt32());return g}).call(this)}},e})(),f6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},p6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,l,h,c,g,v,y,w,k;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),r=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(g={},l=y=0,w=r.length;y<w;l=++y)i=r[l],t.pos=i.offset,v=t.readString(i.length),h=new f6(v,i),g[k=i.nameID]==null&&(g[k]=[]),g[i.nameID].push(h);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},e})(),g6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),m6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,l,h,c,g;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var v,y;for(y=[],n=v=0;0<=i?v<i:v>i;n=0<=i?++v:--v)y.push(t.readInt16());return y})(),this.widths=(function(){var v,y,w,k;for(k=[],v=0,y=(w=this.metrics).length;v<y;v++)l=w[v],k.push(l.advance);return k}).call(this),r=this.widths[this.widths.length-1],g=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)g.push(this.widths.push(r));return g},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),Fb=[].slice,v6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,l,h,c,g,v,y,w;return t in this.cache?this.cache[t]:(l=this.file.loca,n=this.file.contents,r=l.indexOf(t),(i=l.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,h=(c=new ll(n.read(i))).readShort(),v=c.readShort(),w=c.readShort(),g=c.readShort(),y=c.readShort(),this.cache[t]=h===-1?new _6(c,v,w,g,y):new y6(c,h,v,w,g,y),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,l,h,c,g;for(h=[],l=[],c=0,g=n.length;c<g;c++)i=t[n[c]],l.push(h.length),i&&(h=h.concat(i.encode(r)));return l.push(h.length),{table:h,offsets:l}},e})(),y6=(function(){function e(t,n,r,i,l,h){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=l,this.yMax=h,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),_6=(function(){function e(t,n,r,i,l){var h,c;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new ll(Fb.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),b6=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Is(e,_s),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,l;for(l=[],r=0,i=this.length;r<i;r+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],r=0,i=this.length;r<i;r+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,l=0,h=0;h<r.length;++h)if(r[h]=i,l<n.length&&n[l]==h){++l,r[h]=i;var c=this.offsets[h],g=this.offsets[h+1]-c;g>0&&(i+=g)}for(var v=new Array(4*r.length),y=0;y<r.length;++y)v[4*y+3]=255&r[y],v[4*y+2]=(65280&r[y])>>8,v[4*y+1]=(16711680&r[y])>>16,v[4*y]=(4278190080&r[y])>>24;return v},e})(),x6=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,l;for(n in i=this.font.cmap.tables[0].codeMap,t={},l=this.subset)r=l[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,l,h,c,g;for(i={},h=0,c=t.length;h<c;h++)i[l=t[h]]=this.font.glyf.glyphFor(l);for(l in n=[],i)(r=i[l])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(l in g=this.glyphsFor(n))r=g[l],i[l]=r;return i},e.prototype.encode=function(t,n){var r,i,l,h,c,g,v,y,w,k,x,N,I,O,T;for(i in r=$b.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(t),x={0:0},T=r.charMap)x[(g=T[i]).old]=g.new;for(N in k=r.maxGlyphID,h)N in x||(x[N]=k++);return y=(function(F){var R,$;for(R in $={},F)$[F[R]]=R;return $})(x),w=Object.keys(y).sort(function(F,R){return F-R}),I=(function(){var F,R,$;for($=[],F=0,R=w.length;F<R;F++)c=w[F],$.push(y[c]);return $})(),l=this.font.glyf.encode(h,I,x),v=this.font.loca.encode(l.offsets,I),O={cmap:this.font.cmap.raw(),glyf:l.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},e})();qn.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,l,h;if(Array.isArray(n))return"["+(function(){var c,g,v;for(v=[],c=0,g=n.length;c<g;c++)r=n[c],v.push(t.convert(r));return v})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in l=["<<"],n)h=n[i],l.push("/"+i+" "+t.convert(h));return l.push(">>"),l.join(`
`)}return""+n},t})();const Kp=b.memo(({geoJsonLayers:e})=>{const t=Ko(),n=as();return b.useEffect(()=>{if(!n||!e)return;const r=setTimeout(()=>{try{n.invalidateSize();const i=Object.entries(e||{}).filter(([,c])=>!!c?.geoJsonData);if(i.length===0)return;let l=null;const h=[];for(const[,c]of i)try{const g=ci.geoJSON(c?.geoJsonData);h.push(g);const v=g.getBounds();v&&v.isValid&&v.isValid()&&(l?l.extend(v):l=v)}catch{}if(l&&l.isValid&&l.isValid())try{const c=l.getCenter();t(qv({center:[c.lat,c.lng]})),n.fitBounds(l,{padding:[10,10],maxZoom:16,animate:!1})}catch(c){console.log(c,"error in fitbounds"),n.fitBounds(l,{padding:[10,10],maxZoom:16})}h.forEach(c=>{try{c.clearLayers()}catch{}})}catch{}},100);return()=>{clearTimeout(r)}},[n,e]),null});Kp.displayName="FitBounds";const w6=({orientation:e,format:t,scaleValue:n})=>{const r=as();return b.useEffect(()=>{const i=setTimeout(()=>{r.invalidateSize(),r.eachLayer(l=>{l.redraw&&l.redraw()})},100);return()=>clearTimeout(i)},[r,e,t,n]),null},C6=({scaleValue:e,mapCenter:t})=>{const n=as();return b.useEffect(()=>{if(!(!e||!t))try{let r;if(e.includes(":")){const g=e.split(":");r=parseFloat(g[1]||g[0])}else r=parseFloat(e);if(isNaN(r)||r<=0)return;const h=Math.log2(5e8/r),c=Math.max(0,Math.min(20,Math.round(h*10)/10));t&&t.length===2&&n.setView(t,c)}catch(r){console.error("Error setting map scale:",r)}},[n,e,t]),null},jb=b.forwardRef(({geoJsonLayers:e,bufferLayers:t,viewport:n,showLegend:r,orientation:i,format:l,scaleValue:h},c)=>{const g=b.useMemo(()=>Object.entries(e||{}).filter(([,I])=>I?.geoJsonData).map(([I,O])=>({layerId:I,orderNo:Number(O.orderNo||0),data:O})).sort((I,O)=>O.orderNo-I.orderNo||O.layerId.localeCompare(I.layerId)),[e]),v=b.useMemo(()=>t?Object.keys(t||{}).filter(I=>t[I]&&t[I].geoJsonData).map(I=>({layerId:I,data:t[I]})):[],[t]),y=b.useMemo(()=>{const I=zs.OVERLAY_BASE;return g.map((O,T)=>({name:`pane-layer-${O.layerId}`,zIndex:I+T}))},[g]),w=b.useMemo(()=>{const I=zs.OVERLAY_BASE,O=Math.max(201,I-1e3),T=typeof zs.BUFFER_BASE=="number"?zs.BUFFER_BASE:O;return v.map((F,R)=>({name:`pane-buffer-${F.layerId}`,zIndex:T+R}))},[v]),k=b.useMemo(()=>v.map(({layerId:I,data:O})=>Ie.jsx(Fp,{layerId:I,geoJsonData:O.geoJsonData,metaData:O.metaData,pane:`pane-buffer-${I}`},I)),[v]),x=b.useMemo(()=>g.map(({layerId:I,data:O})=>Ie.jsx($p,{layerId:I,geoJsonData:O.geoJsonData,metaData:O.metaData,pane:`pane-layer-${I}`},I)),[g]),N=b.useMemo(()=>({center:n?.center||[28.7041,77.1025],zoom:n?.zoom||8,style:{width:"100%",height:"100%"},zoomControl:!1,doubleClickZoom:!1,dragging:!0,keyboard:!1,scrollWheelZoom:!1,touchZoom:!1,whenReady:()=>{}}),[n]);return Ie.jsxs(I1,{...N,ref:c,children:[Ie.jsx(D1,{}),Ie.jsx(w6,{orientation:i,format:l,scaleValue:h}),Ie.jsx(C6,{scaleValue:h,mapCenter:n?.center||[28.7041,77.1025]}),Ie.jsx(O1,{position:"bottomleft",imperial:!0,metric:!0,maxWidth:200,updateWhenIdle:!0}),Ie.jsx(Kp,{geoJsonLayers:e}),Ie.jsx(Qu,{panes:w}),k,Ie.jsx(Qu,{panes:y}),x,r&&Ie.jsx(B1,{visible:!0})]})});jb.displayName="PrintPreviewMap";const S6=b.memo(jb),{Option:$s}=ks,lf={format:"a4",orientation:"landscape",title:"",footerText:`Generated on ${new Date().toLocaleDateString()} | GIS Dashboard`,showLegend:!1,mapScale:"250000"},E6=()=>{const e=Ko(),t=$r(D=>D.ui.isPrintModalOpen),n=$r(D=>D.map.viewport),r=$r(D=>D.map.geoJsonLayers),i=$r(D=>D.map.bufferLayers),[l,h]=b.useState(!1),[c]=Ya.useForm(),g=b.useRef(null),v=b.useRef(null),[y,w]=b.useState(void 0),[k,x]=b.useState(lf),N=qM(k.mapScale,y?0:300),I=b.useMemo(()=>({a0:{width:841,height:1189},a1:{width:594,height:841},a2:{width:420,height:594},a3:{width:297,height:420},a4:{width:210,height:297},letter:{width:215.9,height:279.4}}),[]),O=b.useMemo(()=>{let D=I[k.format]||I.a4;k.orientation==="portrait"?D.width>D.height&&([D.width,D.height]=[D.height,D.width]):D.width<D.height&&([D.width,D.height]=[D.height,D.width]);const U=2.5;let te=D.width*U,V=D.height*U;const le=Math.min(1,1200/te,900/V);return{widthPx:Math.round(te*le),heightPx:Math.round(V*le),mmWidth:D.width,mmHeight:D.height,aspectRatio:D.width/D.height}},[k.format,k.orientation,I]),T=(D,U)=>{if(!U||U.trim()==="")return Promise.resolve();const te=U.replace(/,/g,""),V=/^(?:1:)?(\d+)$/;if(!V.test(te))return Promise.reject(new Error('Please enter a valid scale (e.g., "1:5000" or "5000")'));const J=te.match(V),ie=parseInt(J[1],10);return isNaN(ie)||ie<100||ie>1e7?Promise.reject(new Error("Scale must be between 1:100 and 1:10,000,000")):Promise.resolve()},F=D=>{if(!D)return"";if(D.includes(":"))return D;const U=parseInt(D.replace(/,/g,""),10);return isNaN(U)?D:`1:${U.toLocaleString()}`},R=D=>{if(!D||D.trim()==="")return null;const U=D.replace(/,/g,""),te=/^(?:1:)?(\d+)$/,V=U.match(te);return V?V[1]:null},$=[{label:"1:500",value:"500"},{label:"1:1,000",value:"1000"},{label:"1:2,500",value:"2500"},{label:"1:5,000",value:"5000"},{label:"1:10,000",value:"10000"},{label:"1:25,000",value:"25000"},{label:"1:50,000",value:"50000"},{label:"1:100,000",value:"100000"},{label:"1:250,000",value:"250000"}],G=async()=>{try{const D=v.current?.querySelector(".leaflet-container");if(!D)throw new Error("Map preview not found");await new Promise(V=>setTimeout(V,1500));let U=2;switch(k.format){case"a0":case"a1":U=1.5;break;case"a2":U=2;break;case"a3":case"a4":case"letter":U=2;break;default:U=2}return await DP(D,{quality:1,pixelRatio:U,backgroundColor:"#ffffff",style:{transform:"none",margin:0,padding:0},filter:V=>{const J=V.classList?.contains("leaflet-control"),ie=V.classList?.contains("leaflet-control-attribution");return!(J&&!ie)},canvasWidth:D.offsetWidth*U,canvasHeight:D.offsetHeight*U})}catch(D){throw console.error("Failed to capture map image:",D),D}},Q=async(D,U)=>{const{mmWidth:te,mmHeight:V}=O,J=U.orientation,ie=new qn({orientation:J,unit:"mm",format:[te,V]}),le=ie.internal.pageSize.getWidth(),ue=ie.internal.pageSize.getHeight(),be=10,Le=U.title?15:5,Re=U.footerText?15:0,ne=be+Le,ce=ue-be-Re-ne,me=le-2*be;if(U.title&&(ie.setFontSize(16),ie.setFont("helvetica","bold"),ie.text(U.title,le/2,be+8,{align:"center"})),U.mapScale){ie.setFontSize(10),ie.setFont("helvetica","bold");const ke=F(U.mapScale);ie.text(`Scale: ${ke}`,le-be,be,{align:"right"})}const we=new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(ie.setFontSize(8),ie.setFont("helvetica","normal"),ie.text(we,be,be,{align:"left"}),D)try{ie.addImage(D,"PNG",be,ne,me,ce)}catch(ke){console.error("Failed to add image to PDF:",ke),ie.setFillColor(240,240,240),ie.rect(be,ne,me,ce,"F"),ie.setTextColor(100,100,100),ie.setFontSize(12),ie.text("Map Image",le/2,ue/2,{align:"center"})}return U.footerText&&(ie.setFontSize(9),ie.setTextColor(100,100,100),ie.setFont("helvetica","normal"),ie.text(U.footerText,le/2,ue-be-5,{align:"center"}),ie.setTextColor(0,0,0)),ie},ee=async D=>{try{h(!0),fs.info("Capturing map... This may take a moment.");const U=v.current?.querySelectorAll(".preview-ui"),te=[];U&&U.forEach(V=>{te.push(V.style.display),V.style.display="none"});try{const V=await G(),J=await Q(V,D),ie=D.title?`${D.title.replace(/\s+/g,"_")}_${new Date().getTime()}.pdf`:`map_export_${new Date().getTime()}.pdf`;J.save(ie),fs.success("Map exported successfully!"),e(ff()),Y()}finally{U&&U.forEach((V,J)=>{V.style.display=te[J]||""})}}catch(U){console.error("Export error:",U),fs.error("Failed to export map. Please try again.")}finally{h(!1)}},Y=()=>{c.resetFields(),x(lf),w(void 0)},q=()=>{Y(),e(ff())},oe=(D,U)=>{x(U)};return Ie.jsx(is,{title:"Export Map to PDF",open:t,onCancel:q,footer:null,width:"95vw",style:{maxWidth:"1600px"},bodyStyle:{padding:"24px",maxHeight:"85vh",overflow:"hidden"},centered:!0,destroyOnClose:!0,children:Ie.jsx("div",{className:"print-modal-wrapper",children:Ie.jsxs(ku,{gutter:24,style:{height:"100%",margin:0},children:[Ie.jsxs(gs,{xs:24,sm:24,md:8,style:{height:"600px",overflowY:"auto",paddingRight:"12px"},className:"print-settings-panel",children:[Ie.jsx("h3",{className:"print-panel-title",children:"Print Settings"}),Ie.jsxs(Ya,{form:c,layout:"vertical",onFinish:ee,onValuesChange:oe,initialValues:lf,children:[Ie.jsx(Ya.Item,{name:"title",label:"Map Title",tooltip:"Optional title to display on the PDF",children:Ie.jsx(Wu,{placeholder:"Enter map title (optional)",maxLength:60,allowClear:!0,size:"large"})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{name:"mapScale",label:"Map Scale",tooltip:"Enter map scale (e.g., '1:5000' or '5000'). The map will adjust to this scale in the preview.",rules:[{validator:T}],children:Ie.jsx(Wu,{placeholder:"e.g., 1:5000 or 5000",size:"large",addonBefore:"1:",onChange:()=>{y&&w(void 0)},suffix:Ie.jsx(ks,{size:"small",placeholder:"Presets",style:{width:120},value:y,onChange:D=>{c.setFieldsValue({mapScale:D}),x({...k,mapScale:D}),w(D)},onMouseDown:D=>D.stopPropagation(),onClick:D=>D.stopPropagation(),getPopupContainer:D=>D?.parentNode||document.body,dropdownMatchSelectWidth:!1,children:$.map(D=>Ie.jsx($s,{value:D.value,children:D.label},D.value))})})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{name:"format",label:"Paper Size",rules:[{required:!0,message:"Please select paper size"}],children:Ie.jsxs(ks,{size:"large",children:[Ie.jsx($s,{value:"a0",children:"A0 (841  1189 mm)"}),Ie.jsx($s,{value:"a1",children:"A1 (594  841 mm)"}),Ie.jsx($s,{value:"a2",children:"A2 (420  594 mm)"}),Ie.jsx($s,{value:"a3",children:"A3 (297  420 mm)"}),Ie.jsx($s,{value:"a4",children:"A4 (210  297 mm)"}),Ie.jsx($s,{value:"letter",children:"Letter (8.5  11 in)"})]})}),Ie.jsx(Ya.Item,{name:"orientation",label:"Orientation",rules:[{required:!0,message:"Please select orientation"}],children:Ie.jsxs(ks,{size:"large",children:[Ie.jsx($s,{value:"landscape",children:"Landscape"}),Ie.jsx($s,{value:"portrait",children:"Portrait"})]})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{name:"footerText",label:"Footer Text",tooltip:"Customize footer text to display on the PDF",children:Ie.jsx(Wu.TextArea,{rows:2,placeholder:"Enter footer text",maxLength:200,showCount:!0})}),Ie.jsx(Ya.Item,{name:"showLegend",label:"Include Legend",valuePropName:"checked",children:Ie.jsx(H_,{})}),Ie.jsx(nl,{style:{margin:"16px 0"}}),Ie.jsx(Ya.Item,{children:Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsx(ii,{type:"primary",htmlType:"submit",loading:l,block:!0,size:"large",disabled:l,children:l?"Exporting...":"Export PDF"}),Ie.jsx(ii,{onClick:q,block:!0,size:"large",disabled:l,children:"Cancel"})]})})]})]}),Ie.jsxs(gs,{xs:24,sm:24,md:16,style:{height:"600px",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5",borderRadius:"8px",padding:"16px"},children:[Ie.jsx("h3",{className:"print-panel-title",children:"Preview"}),Ie.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"flex-start",overflow:"auto",backgroundColor:"#e8e8e8",borderRadius:"4px",padding:"20px"},children:Ie.jsx($l,{spinning:l,tip:"Rendering preview...",children:Ie.jsxs("div",{ref:v,style:{width:`${O.widthPx}px`,height:`${O.heightPx}px`,backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",borderRadius:"2px",overflow:"hidden",position:"relative"},children:[Ie.jsx("div",{className:"preview-ui",style:{height:"40px",boxSizing:"border-box",padding:"10px",textAlign:"center",borderBottom:"1px solid #eee",fontSize:"14px",fontWeight:"bold",backgroundColor:"#fafafa"},children:k.title}),Ie.jsx("div",{style:{width:"95%",height:"calc(100% - 80px)",margin:"0 auto",position:"relative"},children:Ie.jsx(S6,{ref:g,geoJsonLayers:r,bufferLayers:i,viewport:n,showLegend:k.showLegend,orientation:k.orientation,format:k.format,scaleValue:R(N)})}),Ie.jsx("div",{className:"preview-ui",style:{height:"40px",boxSizing:"border-box",padding:"8px",textAlign:"center",borderTop:"1px solid #eee",fontSize:"10px",color:"#888",backgroundColor:"#fafafa"},children:k.footerText})]})})}),Ie.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"#666",textAlign:"center"},children:[k.orientation==="landscape"?" Landscape":" Portrait"," ","| ",k.format.toUpperCase()," |",N?` Scale: ${F(N)} | `:" ","Preview (not to scale)"]})]})]})})})},Qu=({panes:e=[]})=>{const t=as();return b.useEffect(()=>{e.forEach(({name:n,zIndex:r})=>{t.getPane(n)||t.createPane(n);const i=t.getPane(n);i&&(i.style.zIndex=String(r))})},[t,e]),null};function k6(){const e=Ko(),t=$r(r=>r.ui.isAttributeTableOpen),n=b.useCallback(()=>{e(pf())},[e]);return Ie.jsx(jp,{title:"Attribute Table",placement:"bottom",onClose:n,open:t,height:"40vh",mask:!1,minimized:!0,children:t&&Ie.jsx($1,{csvDownloader:!0,clearDataOnTabChange:!0,clearDataOnClose:!0,defaultSelectAll:!1})})}function L6(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties={},r.geometry=e,r}function N6(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function M6(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function P6(e,t,n={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!yv(e[0])||!yv(e[1]))throw new Error("coordinates must contain numbers");return M6({type:"Point",coordinates:e},t,n)}function yv(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function zb(e,t,n){if(e!==null)for(var r,i,l,h,c,g,v,y=0,w=0,k,x=e.type,N=x==="FeatureCollection",I=x==="Feature",O=N?e.features.length:1,T=0;T<O;T++){v=N?e.features[T].geometry:I?e.geometry:e,k=v?v.type==="GeometryCollection":!1,c=k?v.geometries.length:1;for(var F=0;F<c;F++){var R=0,$=0;if(h=k?v.geometries[F]:v,h!==null){g=h.coordinates;var G=h.type;switch(y=0,G){case null:break;case"Point":if(t(g,w,T,R,$)===!1)return!1;w++,R++;break;case"LineString":case"MultiPoint":for(r=0;r<g.length;r++){if(t(g[r],w,T,R,$)===!1)return!1;w++,G==="MultiPoint"&&R++}G==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(r=0;r<g.length;r++){for(i=0;i<g[r].length-y;i++){if(t(g[r][i],w,T,R,$)===!1)return!1;w++}G==="MultiLineString"&&R++,G==="Polygon"&&$++}G==="Polygon"&&R++;break;case"MultiPolygon":for(r=0;r<g.length;r++){for($=0,i=0;i<g[r].length;i++){for(l=0;l<g[r][i].length-y;l++){if(t(g[r][i][l],w,T,R,$)===!1)return!1;w++}$++}R++}break;case"GeometryCollection":for(r=0;r<h.geometries.length;r++)if(zb(h.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function I6(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return zb(e,r=>{n[0]>r[0]&&(n[0]=r[0]),n[1]>r[1]&&(n[1]=r[1]),n[2]<r[0]&&(n[2]=r[0]),n[3]<r[1]&&(n[3]=r[1])}),n}function O6(e,t={}){const n=I6(e),r=(n[0]+n[2])/2,i=(n[1]+n[3])/2;return P6([r,i],t.properties,t)}var oh={exports:{}},A6=oh.exports,_v;function T6(){return _v||(_v=1,(function(e,t){(function(n,r){e.exports=r()})(A6,(function(){function n(f,a){(a==null||a>f.length)&&(a=f.length);for(var o=0,d=Array(a);o<a;o++)d[o]=f[o];return d}function r(f,a,o){return a=y(a),(function(d,C){if(C&&(typeof C=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B})(d)})(f,k()?Reflect.construct(a,o||[],y(f).constructor):a.apply(f,o))}function i(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function l(f,a,o){if(k())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,a);var C=new(f.bind.apply(f,d));return o&&x(C,o.prototype),C}function h(f,a){for(var o=0;o<a.length;o++){var d=a[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,O(d.key),d)}}function c(f,a,o){return a&&h(f.prototype,a),o&&h(f,o),Object.defineProperty(f,"prototype",{writable:!1}),f}function g(f,a){var o=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!o){if(Array.isArray(f)||(o=T(f))||a){o&&(f=o);var d=0,C=function(){};return{s:C,n:function(){return d>=f.length?{done:!0}:{done:!1,value:f[d++]}},e:function(xe){throw xe},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,K=!0,se=!1;return{s:function(){o=o.call(f)},n:function(){var xe=o.next();return K=xe.done,xe},e:function(xe){se=!0,B=xe},f:function(){try{K||o.return==null||o.return()}finally{if(se)throw B}}}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(f,a,o){var d=(function(B,K){for(;!{}.hasOwnProperty.call(B,K)&&(B=y(B))!==null;);return B})(f,a);if(d){var C=Object.getOwnPropertyDescriptor(d,a);return C.get?C.get.call(arguments.length<3?f:o):C.value}},v.apply(null,arguments)}function y(f){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},y(f)}function w(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),a&&x(f,a)}function k(){try{var f=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(k=function(){return!!f})()}function x(f,a){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,d){return o.__proto__=d,o},x(f,a)}function N(f,a,o,d){var C=v(y(1&d?f.prototype:f),a,o);return 2&d&&typeof C=="function"?function(B){return C.apply(o,B)}:C}function I(f){return(function(a){if(Array.isArray(a))return n(a)})(f)||(function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)})(f)||T(f)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function O(f){var a=(function(o,d){if(typeof o!="object"||!o)return o;var C=o[Symbol.toPrimitive];if(C!==void 0){var B=C.call(o,d);if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)})(f,"string");return typeof a=="symbol"?a:a+""}function T(f,a){if(f){if(typeof f=="string")return n(f,a);var o={}.toString.call(f).slice(8,-1);return o==="Object"&&f.constructor&&(o=f.constructor.name),o==="Map"||o==="Set"?Array.from(f):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(f,a):void 0}}function F(f){var a=typeof Map=="function"?new Map:void 0;return F=function(o){if(o===null||!(function(C){try{return Function.toString.call(C).indexOf("[native code]")!==-1}catch{return typeof C=="function"}})(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(o))return a.get(o);a.set(o,d)}function d(){return l(o,arguments,y(this).constructor)}return d.prototype=Object.create(o.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),x(d,o)},F(f)}var R=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(a){this._quadrantSegments=a,this._quadrantSegments===0&&(this._joinStyle=f.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=f.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),a<=0&&(this._quadrantSegments=1),this._joinStyle!==f.JOIN_ROUND&&(this._quadrantSegments=f.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(a){this._joinStyle=a}},{key:"setSimplifyFactor",value:function(a){this._simplifyFactor=a<0?0:a}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(a){this._endCapStyle=a}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(a){this._mitreLimit=a}},{key:"setSingleSided",value:function(a){this._isSingleSided=a}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=f.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=f.CAP_ROUND,this._joinStyle=f.JOIN_ROUND,this._mitreLimit=f.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=f.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.setQuadrantSegments(a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.setQuadrantSegments(o),this.setEndCapStyle(d)}else if(arguments.length===4){var C=arguments[0],B=arguments[1],K=arguments[2],se=arguments[3];this.setQuadrantSegments(C),this.setEndCapStyle(B),this.setJoinStyle(K),this.setMitreLimit(se)}}}},{key:"bufferDistanceError",value:function(a){var o=Math.PI/2/a;return 1-Math.cos(o/2)}}])})();R.CAP_ROUND=1,R.CAP_FLAT=2,R.CAP_SQUARE=3,R.JOIN_ROUND=1,R.JOIN_MITRE=2,R.JOIN_BEVEL=3,R.DEFAULT_QUADRANT_SEGMENTS=8,R.DEFAULT_MITRE_LIMIT=5,R.DEFAULT_SIMPLIFY_FACTOR=.01;var $=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({Exception:a})[0],d}return w(a,f),c(a,[{key:"toString",value:function(){return this.message}}])})(F(Error)),G=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({IllegalArgumentException:a})[0],d}return w(a,f),c(a)})($),Q=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f){}}])})();function ee(){}function Y(){}function q(){}var oe,D,U,te,V,J,ie,le,ue=(function(){return c((function f(){i(this,f)}),null,[{key:"equalsWithTolerance",value:function(f,a,o){return Math.abs(f-a)<=o}}])})(),be=(function(){return c((function f(a,o){i(this,f),this.low=o||0,this.high=a||0}),null,[{key:"toBinaryString",value:function(f){var a,o="";for(a=2147483648;a>0;a>>>=1)o+=(f.high&a)===a?"1":"0";for(a=2147483648;a>0;a>>>=1)o+=(f.low&a)===a?"1":"0";return o}}])})();function Le(){}function Re(){}Le.NaN=NaN,Le.isNaN=function(f){return Number.isNaN(f)},Le.isInfinite=function(f){return!Number.isFinite(f)},Le.MAX_VALUE=Number.MAX_VALUE,Le.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Le.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(J=2146435072,ie=new Float64Array(1),le=new Int32Array(ie.buffer),Le.doubleToLongBits=function(f){ie[0]=f;var a=0|le[0],o=0|le[1];return(o&J)===J&&1048575&o&&a!==0&&(a=0,o=2146959360),new be(o,a)},Le.longBitsToDouble=function(f){return le[0]=f.low,le[1]=f.high,ie[0]}):(oe=1023,D=Math.log2,U=Math.floor,te=Math.pow,V=(function(){for(var f=53;f>0;f--){var a=te(2,f)-1;if(U(D(a))+1===f)return a}return 0})(),Le.doubleToLongBits=function(f){var a,o,d,C,B,K,se,xe,$e;if(f<0||1/f===Number.NEGATIVE_INFINITY?(K=1<<31,f=-f):K=0,f===0)return new be(xe=K,$e=0);if(f===1/0)return new be(xe=2146435072|K,$e=0);if(f!=f)return new be(xe=2146959360,$e=0);if(C=0,$e=0,(a=U(f))>1)if(a<=V)(C=U(D(a)))<=20?($e=0,xe=a<<20-C&1048575):($e=a%(o=te(2,d=C-20))<<32-d,xe=a/o&1048575);else for(d=a,$e=0;(d=U(o=d/2))!==0;)C++,$e>>>=1,$e|=(1&xe)<<31,xe>>>=1,o!==d&&(xe|=524288);if(se=C+oe,B=a===0,a=f-a,C<52&&a!==0)for(d=0;;){if((o=2*a)>=1?(a=o-1,B?(se--,B=!1):(d<<=1,d|=1,C++)):(a=o,B?--se==0&&(C++,B=!1):(d<<=1,C++)),C===20)xe|=d,d=0;else if(C===52){$e|=d;break}if(o===1){C<20?xe|=d<<20-C:C<52&&($e|=d<<52-C);break}}return xe|=se<<20,new be(xe|=K,$e)},Le.longBitsToDouble=function(f){var a,o,d,C,B=f.high,K=f.low,se=B&1<<31?-1:1;for(d=((2146435072&B)>>20)-oe,C=0,o=1<<19,a=1;a<=20;a++)B&o&&(C+=te(2,-a)),o>>>=1;for(o=1<<31,a=21;a<=52;a++)K&o&&(C+=te(2,-a)),o>>>=1;if(d===-1023){if(C===0)return 0*se;d=-1022}else{if(d===1024)return C===0?se/0:NaN;C+=1}return se*C*te(2,d)});var ne=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({RuntimeException:a})[0],d}return w(a,f),c(a)})($),ce=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,null,[{key:"constructor_",value:function(){if(arguments.length===0)ne.constructor_.call(this);else if(arguments.length===1){var o=arguments[0];ne.constructor_.call(this,o)}}}])})(ne),me=(function(){function f(){i(this,f)}return c(f,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)f.shouldNeverReachHere(null);else if(arguments.length===1){var a=arguments[0];throw new ce("Should never reach here"+(a!==null?": "+a:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var a=arguments[0];f.isTrue(a,null)}else if(arguments.length===2){var o=arguments[1];if(!arguments[0])throw o===null?new ce:new ce(o)}}},{key:"equals",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];f.equals(a,o,null)}else if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2];if(!C.equals(d))throw new ce("Expected "+d+" but encountered "+C+(B!==null?": "+B:""))}}}])})(),we=new ArrayBuffer(8),ke=new Float64Array(we),Be=new Int32Array(we),he=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getM",value:function(){return Le.NaN}},{key:"setOrdinate",value:function(a,o){switch(a){case f.X:this.x=o;break;case f.Y:this.y=o;break;case f.Z:this.setZ(o);break;default:throw new G("Invalid ordinate index: "+a)}}},{key:"equals2D",value:function(){if(arguments.length===1){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(arguments.length===2){var o=arguments[0],d=arguments[1];return!!ue.equalsWithTolerance(this.x,o.x,d)&&!!ue.equalsWithTolerance(this.y,o.y,d)}}},{key:"setM",value:function(a){throw new G("Invalid ordinate index: "+f.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(a){switch(a){case f.X:return this.x;case f.Y:return this.y;case f.Z:return this.getZ()}throw new G("Invalid ordinate index: "+a)}},{key:"equals3D",value:function(a){return this.x===a.x&&this.y===a.y&&(this.getZ()===a.getZ()||Le.isNaN(this.getZ())&&Le.isNaN(a.getZ()))}},{key:"equals",value:function(a){return a instanceof f&&this.equals2D(a)}},{key:"equalInZ",value:function(a,o){return ue.equalsWithTolerance(this.getZ(),a.getZ(),o)}},{key:"setX",value:function(a){this.x=a}},{key:"compareTo",value:function(a){var o=a;return this.x<o.x?-1:this.x>o.x?1:this.y<o.y?-1:this.y>o.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(a){this.z=a}},{key:"clone",value:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return me.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw a}}},{key:"copy",value:function(){return new f(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(a){var o=this.x-a.x,d=this.y-a.y,C=this.getZ()-a.getZ();return Math.sqrt(o*o+d*d+C*C)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(a){this.y=a}},{key:"distance",value:function(a){var o=this.x-a.x,d=this.y-a.y;return Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var a=17;return a=37*(a=37*a+f.hashCode(this.x))+f.hashCode(this.y)}},{key:"setCoordinate",value:function(a){this.x=a.x,this.y=a.y,this.z=a.getZ()}},{key:"interfaces_",get:function(){return[ee,Y,q]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)f.constructor_.call(this,0,0);else if(arguments.length===1){var a=arguments[0];f.constructor_.call(this,a.x,a.y,a.getZ())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];f.constructor_.call(this,o,d,f.NULL_ORDINATE)}else if(arguments.length===3){var C=arguments[0],B=arguments[1],K=arguments[2];this.x=C,this.y=B,this.z=K}}},{key:"hashCode",value:function(a){return ke[0]=a,Be[0]^Be[1]}}])})(),qe=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"compare",value:function(a,o){var d=f.compare(a.x,o.x);if(d!==0)return d;var C=f.compare(a.y,o.y);return C!==0?C:this._dimensionsToTest<=2?0:f.compare(a.getZ(),o.getZ())}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)f.constructor_.call(this,2);else if(arguments.length===1){var a=arguments[0];if(a!==2&&a!==3)throw new G("only 2 or 3 dimensions may be specified");this._dimensionsToTest=a}}},{key:"compare",value:function(a,o){return a<o?-1:a>o?1:Le.isNaN(a)?Le.isNaN(o)?0:-1:Le.isNaN(o)?1:0}}])})();he.DimensionalComparator=qe,he.NULL_ORDINATE=Le.NaN,he.X=0,he.Y=1,he.Z=2,he.M=3;var We=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(a){if(!(a instanceof f))return!1;var o=a;return this.isNull()?o.isNull():this._maxx===o.getMaxX()&&this._maxy===o.getMaxY()&&this._minx===o.getMinX()&&this._miny===o.getMinY()}},{key:"intersection",value:function(a){if(this.isNull()||a.isNull()||!this.intersects(a))return new f;var o=this._minx>a._minx?this._minx:a._minx,d=this._miny>a._miny?this._miny:a._miny;return new f(o,this._maxx<a._maxx?this._maxx:a._maxx,d,this._maxy<a._maxy?this._maxy:a._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof f){var o=arguments[0];return!this.isNull()&&!o.isNull()&&o.getMinX()>=this._minx&&o.getMaxX()<=this._maxx&&o.getMinY()>=this._miny&&o.getMaxY()<=this._maxy}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];return!this.isNull()&&d>=this._minx&&d<=this._maxx&&C>=this._miny&&C<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny)}if(arguments[0]instanceof he){var o=arguments[0];return this.intersects(o.x,o.y)}}else if(arguments.length===2){if(arguments[0]instanceof he&&arguments[1]instanceof he){var d=arguments[0],C=arguments[1];return!this.isNull()&&!((d.x<C.x?d.x:C.x)>this._maxx)&&!((d.x>C.x?d.x:C.x)<this._minx)&&!((d.y<C.y?d.y:C.y)>this._maxy)&&!((d.y>C.y?d.y:C.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var B=arguments[0],K=arguments[1];return!this.isNull()&&!(B>this._maxx||B<this._minx||K>this._maxy||K<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var a=this.getWidth(),o=this.getHeight();return Math.sqrt(a*a+o*o)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof f){var o=arguments[0];if(o.isNull())return null;this.isNull()?(this._minx=o.getMinX(),this._maxx=o.getMaxX(),this._miny=o.getMinY(),this._maxy=o.getMaxY()):(o._minx<this._minx&&(this._minx=o._minx),o._maxx>this._maxx&&(this._maxx=o._maxx),o._miny<this._miny&&(this._miny=o._miny),o._maxy>this._maxy&&(this._maxy=o._maxy))}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.isNull()?(this._minx=d,this._maxx=d,this._miny=C,this._maxy=C):(d<this._minx&&(this._minx=d),d>this._maxx&&(this._maxx=d),C<this._miny&&(this._miny=C),C>this._maxy&&(this._maxy=C))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var a=this.getWidth(),o=this.getHeight();return a<o?a:o}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(a){var o=a;return this.isNull()?o.isNull()?0:-1:o.isNull()?1:this._minx<o._minx?-1:this._minx>o._minx?1:this._miny<o._miny?-1:this._miny>o._miny?1:this._maxx<o._maxx?-1:this._maxx>o._maxx?1:this._maxy<o._maxy?-1:this._maxy>o._maxy?1:0}},{key:"translate",value:function(a,o){if(this.isNull())return null;this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+o,this.getMaxY()+o)}},{key:"copy",value:function(){return new f(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(a){return!(!this.isNull()&&!a.isNull())||a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var a=this.getWidth(),o=this.getHeight();return a>o?a:o}},{key:"expandBy",value:function(){if(arguments.length===1){var a=arguments[0];this.expandBy(a,a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];if(this.isNull())return null;this._minx-=o,this._maxx+=o,this._miny-=d,this._maxy+=d,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.covers(a)}if(arguments[0]instanceof he){var o=arguments[0];return this.covers(o)}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];return this.covers(d,C)}}},{key:"centre",value:function(){return this.isNull()?null:new he((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof f){var o=arguments[0];this._minx=o._minx,this._maxx=o._maxx,this._miny=o._miny,this._maxy=o._maxy}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.init(d.x,C.x,d.y,C.y)}else if(arguments.length===4){var B=arguments[0],K=arguments[1],se=arguments[2],xe=arguments[3];B<K?(this._minx=B,this._maxx=K):(this._minx=K,this._maxx=B),se<xe?(this._miny=se,this._maxy=xe):(this._miny=xe,this._maxy=se)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(a){if(this.intersects(a))return 0;var o=0;this._maxx<a._minx?o=a._minx-this._maxx:this._minx>a._maxx&&(o=this._minx-a._maxx);var d=0;return this._maxy<a._miny?d=a._miny-this._maxy:this._miny>a._maxy&&(d=this._miny-a._maxy),o===0?d:d===0?o:Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var a=17;return a=37*(a=37*(a=37*(a=37*a+he.hashCode(this._minx))+he.hashCode(this._maxx))+he.hashCode(this._miny))+he.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[ee,q]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof f){var o=arguments[0];this.init(o)}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.init(d.x,C.x,d.y,C.y)}else if(arguments.length===4){var B=arguments[0],K=arguments[1],se=arguments[2],xe=arguments[3];this.init(B,K,se,xe)}}},{key:"intersects",value:function(){if(arguments.length===3){var a=arguments[0],o=arguments[1],d=arguments[2];return d.x>=(a.x<o.x?a.x:o.x)&&d.x<=(a.x>o.x?a.x:o.x)&&d.y>=(a.y<o.y?a.y:o.y)&&d.y<=(a.y>o.y?a.y:o.y)}if(arguments.length===4){var C=arguments[0],B=arguments[1],K=arguments[2],se=arguments[3],xe=Math.min(K.x,se.x),$e=Math.max(K.x,se.x),st=Math.min(C.x,B.x),_t=Math.max(C.x,B.x);return!(st>$e)&&!(_t<xe)&&(xe=Math.min(K.y,se.y),$e=Math.max(K.y,se.y),st=Math.min(C.y,B.y),_t=Math.max(C.y,B.y),!(st>$e)&&!(_t<xe))}}}])})(),Fe=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===f.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(a){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(a){return this===a||this.equalsExact(a,0)}},{key:"geometryChanged",value:function(){this.apply(f.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(a){return a!==null&&this.norm().equalsExact(a.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var a;if(arguments.length===1){var o=arguments[0];return a=o,this.getTypeCode()!==a.getTypeCode()?this.getTypeCode()-a.getTypeCode():this.isEmpty()&&a.isEmpty()?0:this.isEmpty()?-1:a.isEmpty()?1:this.compareToSameClass(o)}if(arguments.length===2){var d=arguments[0],C=arguments[1];return a=d,this.getTypeCode()!==a.getTypeCode()?this.getTypeCode()-a.getTypeCode():this.isEmpty()&&a.isEmpty()?0:this.isEmpty()?-1:a.isEmpty()?1:this.compareToSameClass(d,C)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(a){if(a.getTypeCode()===f.TYPECODE_GEOMETRYCOLLECTION)throw new G("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(a,o,d){return d===0?a.equals(o):a.distance(o)<=d}},{key:"norm",value:function(){var a=this.copy();return a.normalize(),a}},{key:"reverse",value:function(){var a=this.reverseInternal();return this.envelope!=null&&(a.envelope=this.envelope.copy()),a.setSRID(this.getSRID()),a}},{key:"copy",value:function(){var a=this.copyInternal();return a.envelope=this._envelope==null?null:this._envelope.copy(),a._SRID=this._SRID,a._userData=this._userData,a}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new We(this._envelope)}},{key:"setSRID",value:function(a){this._SRID=a}},{key:"setUserData",value:function(a){this._userData=a}},{key:"compare",value:function(a,o){for(var d=a.iterator(),C=o.iterator();d.hasNext()&&C.hasNext();){var B=d.next(),K=C.next(),se=B.compareTo(K);if(se!==0)return se}return d.hasNext()?1:C.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(a){return this.getClass()===a.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===f.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===f.TYPECODE_MULTIPOINT||this.getTypeCode()===f.TYPECODE_MULTILINESTRING||this.getTypeCode()===f.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Y,ee,q]}},{key:"getClass",value:function(){return f}}],[{key:"hasNonEmptyElements",value:function(a){for(var o=0;o<a.length;o++)if(!a[o].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(a){for(var o=0;o<a.length;o++)if(a[o]===null)return!0;return!1}}])})();Fe.constructor_=function(f){f&&(this._envelope=null,this._userData=null,this._factory=f,this._SRID=f.getSRID())},Fe.TYPECODE_POINT=0,Fe.TYPECODE_MULTIPOINT=1,Fe.TYPECODE_LINESTRING=2,Fe.TYPECODE_LINEARRING=3,Fe.TYPECODE_MULTILINESTRING=4,Fe.TYPECODE_POLYGON=5,Fe.TYPECODE_MULTIPOLYGON=6,Fe.TYPECODE_GEOMETRYCOLLECTION=7,Fe.TYPENAME_POINT="Point",Fe.TYPENAME_MULTIPOINT="MultiPoint",Fe.TYPENAME_LINESTRING="LineString",Fe.TYPENAME_LINEARRING="LinearRing",Fe.TYPENAME_MULTILINESTRING="MultiLineString",Fe.TYPENAME_POLYGON="Polygon",Fe.TYPENAME_MULTIPOLYGON="MultiPolygon",Fe.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Fe.geometryChangedFilter={get interfaces_(){return[Q]},filter:function(f){f.geometryChangedAction()}};var de=(function(){function f(){i(this,f)}return c(f,null,[{key:"toLocationSymbol",value:function(a){switch(a){case f.EXTERIOR:return"e";case f.BOUNDARY:return"b";case f.INTERIOR:return"i";case f.NONE:return"-"}throw new G("Unknown location value: "+a)}}])})();de.INTERIOR=0,de.BOUNDARY=1,de.EXTERIOR=2,de.NONE=-1;var it=(function(){return c((function f(){i(this,f)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),ft=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({NoSuchElementException:a})[0],d}return w(a,f),c(a)})($),fe=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({UnsupportedOperationException:a})[0],d}return w(a,f),c(a)})($),tt=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a,[{key:"contains",value:function(){}}])})(it),kt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a)).map=new Map,o instanceof it&&d.addAll(o),d}return w(a,f),c(a,[{key:"contains",value:function(o){var d=o.hashCode?o.hashCode():o;return!!this.map.has(d)}},{key:"add",value:function(o){var d=o.hashCode?o.hashCode():o;return!this.map.has(d)&&!!this.map.set(d,o)}},{key:"addAll",value:function(o){var d,C=g(o);try{for(C.s();!(d=C.n()).done;){var B=d.value;this.add(B)}}catch(K){C.e(K)}finally{C.f()}return!0}},{key:"remove",value:function(){throw new fe}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new At(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(tt),At=(function(){return c((function f(a){i(this,f),this.iterator=a.values();var o=this.iterator.next(),d=o.done,C=o.value;this.done=d,this.value=C}),[{key:"next",value:function(){if(this.done)throw new ft;var f=this.value,a=this.iterator.next(),o=a.done,d=a.value;return this.done=o,this.value=d,f}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new fe}}])})(),Xe=(function(){function f(){i(this,f)}return c(f,null,[{key:"opposite",value:function(a){return a===f.LEFT?f.RIGHT:a===f.RIGHT?f.LEFT:a}}])})();Xe.ON=0,Xe.LEFT=1,Xe.RIGHT=2;var Xt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({EmptyStackException:a})[0],d}return w(a,f),c(a)})($),nt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a,[o])).name=Object.keys({IndexOutOfBoundsException:a})[0],d}return w(a,f),c(a)})($),mt=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(it),wt=(function(f){function a(){var o;return i(this,a),(o=r(this,a)).array=[],o}return w(a,f),c(a,[{key:"add",value:function(o){return this.array.push(o),!0}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new nt;return this.array[o]}},{key:"push",value:function(o){return this.array.push(o),o}},{key:"pop",value:function(){if(this.array.length===0)throw new Xt;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Xt;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(o){return this.array.indexOf(o)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(mt);function Et(f,a){return f.interfaces_&&f.interfaces_.indexOf(a)>-1}var Zt=(function(){return c((function f(a){i(this,f),this.str=a}),[{key:"append",value:function(f){this.str+=f}},{key:"setCharAt",value:function(f,a){this.str=this.str.substr(0,f)+a+this.str.substr(f+1)}},{key:"toString",value:function(){return this.str}}])})(),nn=(function(){function f(a){i(this,f),this.value=a}return c(f,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(a){return this.value<a?-1:this.value>a?1:0}}],[{key:"compare",value:function(a,o){return a<o?-1:a>o?1:0}},{key:"isNan",value:function(a){return Number.isNaN(a)}},{key:"valueOf",value:function(a){return new f(a)}}])})(),dn=(function(){return c((function f(){i(this,f)}),null,[{key:"isWhitespace",value:function(f){return f<=32&&f>=0||f===127}},{key:"toUpperCase",value:function(f){return f.toUpperCase()}}])})(),Dt=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"le",value:function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<=a._lo}},{key:"extractSignificantDigits",value:function(a,o){var d=this.abs(),C=f.magnitude(d._hi),B=f.TEN.pow(C);(d=d.divide(B)).gt(f.TEN)?(d=d.divide(f.TEN),C+=1):d.lt(f.ONE)&&(d=d.multiply(f.TEN),C-=1);for(var K=C+1,se=new Zt,xe=f.MAX_PRINT_DIGITS-1,$e=0;$e<=xe;$e++){a&&$e===K&&se.append(".");var st=Math.trunc(d._hi);if(st<0)break;var _t=!1,Yt=0;st>9?(_t=!0,Yt="9"):Yt="0"+st,se.append(Yt),d=d.subtract(f.valueOf(st)).multiply(f.TEN),_t&&d.selfAdd(f.TEN);var pn=!0,Pn=f.magnitude(d._hi);if(Pn<0&&Math.abs(Pn)>=xe-$e&&(pn=!1),!pn)break}return o[0]=C,se.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return this.add(a.negate())}if(typeof arguments[0]=="number"){var o=arguments[0];return this.add(-o)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof f){var a=arguments[0];return this._hi===a._hi&&this._lo===a._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a._hi,-a._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.isNaN()?this:this.selfAdd(-o,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(a){return this.le(a)?this:a}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.selfDivide(a._hi,a._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfDivide(o,0)}}else if(arguments.length===2){var d,C,B,K,se=arguments[0],xe=arguments[1],$e=null,st=null,_t=null,Yt=null;return B=this._hi/se,Yt=($e=(_t=f.SPLIT*B)-($e=_t-B))*(st=(Yt=f.SPLIT*se)-(st=Yt-se))-(K=B*se)+$e*(C=se-st)+(d=B-$e)*st+d*C,Yt=B+(_t=(this._hi-K-Yt+this._lo-B*xe)/se),this._hi=Yt,this._lo=B-Yt+_t,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof f){var a,o,d,C,B=arguments[0],K=null,se=null,xe=null,$e=null;return a=(d=this._hi/B._hi)-(K=(xe=f.SPLIT*d)-(K=xe-d)),$e=K*(se=($e=f.SPLIT*B._hi)-(se=$e-B._hi))-(C=d*B._hi)+K*(o=B._hi-se)+a*se+a*o,new f($e=d+(xe=(this._hi-C-$e+this._lo-d*B._lo)/B._hi),d-$e+xe)}if(typeof arguments[0]=="number"){var st=arguments[0];return Le.isNaN(st)?f.createNaN():f.copy(this).selfDivide(st,0)}}},{key:"ge",value:function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>=a._lo}},{key:"pow",value:function(a){if(a===0)return f.valueOf(1);var o=new f(this),d=f.valueOf(1),C=Math.abs(a);if(C>1)for(;C>0;)C%2==1&&d.selfMultiply(o),(C/=2)>0&&(o=o.sqr());else d=o;return a<0?d.reciprocal():d}},{key:"ceil",value:function(){if(this.isNaN())return f.NaN;var a=Math.ceil(this._hi),o=0;return a===this._hi&&(o=Math.ceil(this._lo)),new f(a,o)}},{key:"compareTo",value:function(a){var o=a;return this._hi<o._hi?-1:this._hi>o._hi?1:this._lo<o._lo?-1:this._lo>o._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return this.init(a),this}if(typeof arguments[0]=="number"){var o=arguments[0];return this.init(o),this}}},{key:"max",value:function(a){return this.ge(a)?this:a}},{key:"sqrt",value:function(){if(this.isZero())return f.valueOf(0);if(this.isNegative())return f.NaN;var a=1/Math.sqrt(this._hi),o=this._hi*a,d=f.valueOf(o),C=this.subtract(d.sqr())._hi*(.5*a);return d.add(C)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.selfAdd(a._hi,a._lo)}if(typeof arguments[0]=="number"){var o,d,C,B,K,se=arguments[0],xe=null;return xe=(C=this._hi+se)-(B=C-this._hi),d=(K=(xe=se-B+(this._hi-xe))+this._lo)+(C-(o=C+K)),this._hi=o+d,this._lo=d+(o-this._hi),this}}else if(arguments.length===2){var $e,st,_t,Yt,pn=arguments[0],Pn=arguments[1],$n=null,Mr=null,hr=null;_t=this._hi+pn,st=this._lo+Pn,Mr=_t-(hr=_t-this._hi),$n=st-(Yt=st-this._lo);var Ur=($e=_t+(hr=(Mr=pn-hr+(this._hi-Mr))+st))+(hr=($n=Pn-Yt+(this._lo-$n))+(hr+(_t-$e))),ti=hr+($e-Ur);return this._hi=Ur,this._lo=ti,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof f){var a=arguments[0];return this.selfMultiply(a._hi,a._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfMultiply(o,0)}}else if(arguments.length===2){var d,C,B=arguments[0],K=arguments[1],se=null,xe=null,$e=null,st=null;se=($e=f.SPLIT*this._hi)-this._hi,st=f.SPLIT*B,se=$e-se,d=this._hi-se,xe=st-B;var _t=($e=this._hi*B)+(st=se*(xe=st-xe)-$e+se*(C=B-xe)+d*xe+d*C+(this._hi*K+this._lo*B)),Yt=st+(se=$e-_t);return this._hi=_t,this._lo=Yt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return f.NaN;var a=Math.floor(this._hi),o=0;return a===this._hi&&(o=Math.floor(this._lo)),new f(a,o)}},{key:"negate",value:function(){return this.isNaN()?this:new f(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return null;throw a}}},{key:"multiply",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return a.isNaN()?f.createNaN():f.copy(this).selfMultiply(a)}if(typeof arguments[0]=="number"){var o=arguments[0];return Le.isNaN(o)?f.createNaN():f.copy(this).selfMultiply(o,0)}}},{key:"isNaN",value:function(){return Le.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var a=f.magnitude(this._hi);return a>=-3&&a<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var a=this.getSpecialNumberString();if(a!==null)return a;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!0,o),C=o[0]+1,B=d;if(d.charAt(0)===".")B="0"+d;else if(C<0)B="0."+f.stringOfChar("0",-C)+d;else if(d.indexOf(".")===-1){var K=C-d.length;B=d+f.stringOfChar("0",K)+".0"}return this.isNegative()?"-"+B:B}},{key:"reciprocal",value:function(){var a,o,d,C,B=null,K=null,se=null,xe=null;a=(d=1/this._hi)-(B=(se=f.SPLIT*d)-(B=se-d)),K=(xe=f.SPLIT*this._hi)-this._hi;var $e=d+(se=(1-(C=d*this._hi)-(xe=B*(K=xe-K)-C+B*(o=this._hi-K)+a*K+a*o)-d*this._lo)/this._hi);return new f($e,d-$e+se)}},{key:"toSciNotation",value:function(){if(this.isZero())return f.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(a!==null)return a;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!1,o),C=f.SCI_NOT_EXPONENT_CHAR+o[0];if(d.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+d);var B="";d.length>1&&(B=d.substring(1));var K=d.charAt(0)+"."+B;return this.isNegative()?"-"+K+C:K+C}},{key:"abs",value:function(){return this.isNaN()?f.NaN:this.isNegative()?this.negate():new f(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<a._lo}},{key:"add",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return f.copy(this).selfAdd(a)}if(typeof arguments[0]=="number"){var o=arguments[0];return f.copy(this).selfAdd(o)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var a=arguments[0];this._hi=a,this._lo=0}else if(arguments[0]instanceof f){var o=arguments[0];this._hi=o._hi,this._lo=o._lo}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this._hi=d,this._lo=C}}},{key:"gt",value:function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>a._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?f.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[q,ee,Y]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var a=arguments[0];this.init(a)}else if(arguments[0]instanceof f){var o=arguments[0];this.init(o)}else if(typeof arguments[0]=="string"){var d=arguments[0];f.constructor_.call(this,f.parse(d))}}else if(arguments.length===2){var C=arguments[0],B=arguments[1];this.init(C,B)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1],d=arguments[2],C=arguments[3];return f.determinant(f.valueOf(a),f.valueOf(o),f.valueOf(d),f.valueOf(C))}if(arguments[3]instanceof f&&arguments[2]instanceof f&&arguments[0]instanceof f&&arguments[1]instanceof f){var B=arguments[1],K=arguments[2],se=arguments[3];return arguments[0].multiply(se).selfSubtract(B.multiply(K))}}},{key:"sqr",value:function(a){return f.valueOf(a).selfMultiply(a)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var a=arguments[0];return f.parse(a)}if(typeof arguments[0]=="number")return new f(arguments[0])}},{key:"sqrt",value:function(a){return f.valueOf(a).sqrt()}},{key:"parse",value:function(a){for(var o=0,d=a.length;dn.isWhitespace(a.charAt(o));)o++;var C=!1;if(o<d){var B=a.charAt(o);B!=="-"&&B!=="+"||(o++,B==="-"&&(C=!0))}for(var K=new f,se=0,xe=0,$e=0,st=!1;!(o>=d);){var _t=a.charAt(o);if(o++,dn.isDigit(_t)){var Yt=_t-"0";K.selfMultiply(f.TEN),K.selfAdd(Yt),se++}else{if(_t!=="."){if(_t==="e"||_t==="E"){var pn=a.substring(o);try{$e=nn.parseInt(pn)}catch(Ur){throw Ur instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+pn+" in string "+a):Ur}break}throw new NumberFormatException("Unexpected character '"+_t+"' at position "+o+" in string "+a)}xe=se,st=!0}}var Pn=K;st||(xe=se);var $n=se-xe-$e;if($n===0)Pn=K;else if($n>0){var Mr=f.TEN.pow($n);Pn=K.divide(Mr)}else if($n<0){var hr=f.TEN.pow(-$n);Pn=K.multiply(hr)}return C?Pn.negate():Pn}},{key:"createNaN",value:function(){return new f(Le.NaN,Le.NaN)}},{key:"copy",value:function(a){return new f(a)}},{key:"magnitude",value:function(a){var o=Math.abs(a),d=Math.log(o)/Math.log(10),C=Math.trunc(Math.floor(d));return 10*Math.pow(10,C)<=o&&(C+=1),C}},{key:"stringOfChar",value:function(a,o){for(var d=new Zt,C=0;C<o;C++)d.append(a);return d.toString()}}])})();Dt.PI=new Dt(3.141592653589793,12246467991473532e-32),Dt.TWO_PI=new Dt(6.283185307179586,24492935982947064e-32),Dt.PI_2=new Dt(1.5707963267948966,6123233995736766e-32),Dt.E=new Dt(2.718281828459045,14456468917292502e-32),Dt.NaN=new Dt(Le.NaN,Le.NaN),Dt.EPS=123259516440783e-46,Dt.SPLIT=134217729,Dt.MAX_PRINT_DIGITS=32,Dt.TEN=Dt.valueOf(10),Dt.ONE=Dt.valueOf(1),Dt.SCI_NOT_EXPONENT_CHAR="E",Dt.SCI_NOT_ZERO="0.0E0";var Jt=(function(){function f(){i(this,f)}return c(f,null,[{key:"orientationIndex",value:function(a,o,d){var C=f.orientationIndexFilter(a,o,d);if(C<=1)return C;var B=Dt.valueOf(o.x).selfAdd(-a.x),K=Dt.valueOf(o.y).selfAdd(-a.y),se=Dt.valueOf(d.x).selfAdd(-o.x),xe=Dt.valueOf(d.y).selfAdd(-o.y);return B.selfMultiply(xe).selfSubtract(K.selfMultiply(se)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Dt&&arguments[2]instanceof Dt&&arguments[0]instanceof Dt&&arguments[1]instanceof Dt){var a=arguments[1],o=arguments[2],d=arguments[3];return arguments[0].multiply(d).selfSubtract(a.multiply(o)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var C=arguments[0],B=arguments[1],K=arguments[2],se=arguments[3],xe=Dt.valueOf(C),$e=Dt.valueOf(B),st=Dt.valueOf(K),_t=Dt.valueOf(se);return xe.multiply(_t).selfSubtract($e.multiply(st)).signum()}}},{key:"intersection",value:function(a,o,d,C){var B=new Dt(a.y).selfSubtract(o.y),K=new Dt(o.x).selfSubtract(a.x),se=new Dt(a.x).selfMultiply(o.y).selfSubtract(new Dt(o.x).selfMultiply(a.y)),xe=new Dt(d.y).selfSubtract(C.y),$e=new Dt(C.x).selfSubtract(d.x),st=new Dt(d.x).selfMultiply(C.y).selfSubtract(new Dt(C.x).selfMultiply(d.y)),_t=K.multiply(st).selfSubtract($e.multiply(se)),Yt=xe.multiply(se).selfSubtract(B.multiply(st)),pn=B.multiply($e).selfSubtract(xe.multiply(K)),Pn=_t.selfDivide(pn).doubleValue(),$n=Yt.selfDivide(pn).doubleValue();return Le.isNaN(Pn)||Le.isInfinite(Pn)||Le.isNaN($n)||Le.isInfinite($n)?null:new he(Pn,$n)}},{key:"orientationIndexFilter",value:function(a,o,d){var C=null,B=(a.x-d.x)*(o.y-d.y),K=(a.y-d.y)*(o.x-d.x),se=B-K;if(B>0){if(K<=0)return f.signum(se);C=B+K}else{if(!(B<0)||K>=0)return f.signum(se);C=-B-K}var xe=f.DP_SAFE_EPSILON*C;return se>=xe||-se>=xe?f.signum(se):2}},{key:"signum",value:function(a){return a>0?1:a<0?-1:0}}])})();Jt.DP_SAFE_EPSILON=1e-15;var Ft=(function(){return c((function f(){i(this,f)}),[{key:"getM",value:function(f){if(this.hasM()){var a=this.getDimension()-this.getMeasures();return this.getOrdinate(f,a)}return Le.NaN}},{key:"setOrdinate",value:function(f,a,o){}},{key:"getZ",value:function(f){return this.hasZ()?this.getOrdinate(f,2):Le.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(f,a){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(f){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(f){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(f){}},{key:"copy",value:function(){}},{key:"getY",value:function(f){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[Y]}}])})();Ft.X=0,Ft.Y=1,Ft.Z=2,Ft.M=3;var ht=(function(){function f(){i(this,f)}return c(f,null,[{key:"index",value:function(a,o,d){return Jt.orientationIndex(a,o,d)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var a=arguments[0],o=a.length-1;if(o<3)throw new G("Ring has fewer than 4 points, so orientation cannot be determined");for(var d=a[0],C=0,B=1;B<=o;B++){var K=a[B];K.y>d.y&&(d=K,C=B)}var se=C;do(se-=1)<0&&(se=o);while(a[se].equals2D(d)&&se!==C);var xe=C;do xe=(xe+1)%o;while(a[xe].equals2D(d)&&xe!==C);var $e=a[se],st=a[xe];if($e.equals2D(d)||st.equals2D(d)||$e.equals2D(st))return!1;var _t=f.index($e,d,st);return _t===0?$e.x>st.x:_t>0}if(Et(arguments[0],Ft)){var Yt=arguments[0],pn=Yt.size()-1;if(pn<3)throw new G("Ring has fewer than 4 points, so orientation cannot be determined");for(var Pn=Yt.getCoordinate(0),$n=0,Mr=1;Mr<=pn;Mr++){var hr=Yt.getCoordinate(Mr);hr.y>Pn.y&&(Pn=hr,$n=Mr)}var Ur=null,ti=$n;do(ti-=1)<0&&(ti=pn),Ur=Yt.getCoordinate(ti);while(Ur.equals2D(Pn)&&ti!==$n);var ki=null,Wa=$n;do Wa=(Wa+1)%pn,ki=Yt.getCoordinate(Wa);while(ki.equals2D(Pn)&&Wa!==$n);if(Ur.equals2D(Pn)||ki.equals2D(Pn)||Ur.equals2D(ki))return!1;var Jo=f.index(Ur,Pn,ki);return Jo===0?Ur.x>ki.x:Jo>0}}}])})();ht.CLOCKWISE=-1,ht.RIGHT=ht.CLOCKWISE,ht.COUNTERCLOCKWISE=1,ht.LEFT=ht.COUNTERCLOCKWISE,ht.COLLINEAR=0,ht.STRAIGHT=ht.COLLINEAR;var Mt=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(f,a){var o=this.getRightmostSideOfSegment(f,a);return o<0&&(o=this.getRightmostSideOfSegment(f,a-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(f)),o}},{key:"findRightmostEdgeAtVertex",value:function(){var f=this._minDe.getEdge().getCoordinates();me.isTrue(this._minIndex>0&&this._minIndex<f.length,"rightmost point expected to be interior vertex of edge");var a=f[this._minIndex-1],o=f[this._minIndex+1],d=ht.index(this._minCoord,o,a),C=!1;(a.y<this._minCoord.y&&o.y<this._minCoord.y&&d===ht.COUNTERCLOCKWISE||a.y>this._minCoord.y&&o.y>this._minCoord.y&&d===ht.CLOCKWISE)&&(C=!0),C&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(f,a){var o=f.getEdge().getCoordinates();if(a<0||a+1>=o.length||o[a].y===o[a+1].y)return-1;var d=Xe.LEFT;return o[a].y<o[a+1].y&&(d=Xe.RIGHT),d}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(f){for(var a=f.getEdge().getCoordinates(),o=0;o<a.length-1;o++)(this._minCoord===null||a[o].x>this._minCoord.x)&&(this._minDe=f,this._minIndex=o,this._minCoord=a[o])}},{key:"findRightmostEdgeAtNode",value:function(){var f=this._minDe.getNode().getEdges();this._minDe=f.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(f){for(var a=f.iterator();a.hasNext();){var o=a.next();o.isForward()&&this.checkForRightmostCoordinate(o)}me.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Xe.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),tn=(function(f){function a(o,d){var C;return i(this,a),(C=r(this,a,[d?o+" [ "+d+" ]":o])).pt=d?new he(d):void 0,C.name=Object.keys({TopologyException:a})[0],C}return w(a,f),c(a,[{key:"getCoordinate",value:function(){return this.pt}}])})(ne),fn=(function(){return c((function f(){i(this,f),this.array=[]}),[{key:"addLast",value:function(f){this.array.push(f)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),Tt=(function(f){function a(o){var d;return i(this,a),(d=r(this,a)).array=[],o instanceof it&&d.addAll(o),d}return w(a,f),c(a,[{key:"interfaces_",get:function(){return[mt,it]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(o){return arguments.length===1?this.array.push(o):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(o){var d,C=g(o);try{for(C.s();!(d=C.n()).done;){var B=d.value;this.array.push(B)}}catch(K){C.e(K)}finally{C.f()}}},{key:"set",value:function(o,d){var C=this.array[o];return this.array[o]=d,C}},{key:"iterator",value:function(){return new zt(this)}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new nt;return this.array[o]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(o){o?this.array.sort((function(d,C){return o.compare(d,C)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(o){for(var d=0,C=this.array.length;d<C;d++)if(this.array[d]===o)return!!this.array.splice(d,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(mt),zt=(function(){return c((function f(a){i(this,f),this.arrayList=a,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new ft;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(f){return this.arrayList.set(this.position-1,f)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),jt=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var f=this._dirEdgeList.iterator();f.hasNext();)f.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(f){for(var a=null,o=f.getEdges().iterator();o.hasNext();){var d=o.next();if(d.isVisited()||d.getSym().isVisited()){a=d;break}}if(a===null)throw new tn("unable to find edge to compute depths at "+f.getCoordinate());f.getEdges().computeDepths(a);for(var C=f.getEdges().iterator();C.hasNext();){var B=C.next();B.setVisited(!0),this.copySymDepths(B)}}},{key:"computeDepth",value:function(f){this.clearVisitedEdges();var a=this._finder.getEdge();a.getNode(),a.getLabel(),a.setEdgeDepths(Xe.RIGHT,f),this.copySymDepths(a),this.computeDepths(a)}},{key:"create",value:function(f){this.addReachable(f),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var f=this._dirEdgeList.iterator();f.hasNext();){var a=f.next();a.getDepth(Xe.RIGHT)>=1&&a.getDepth(Xe.LEFT)<=0&&!a.isInteriorAreaEdge()&&a.setInResult(!0)}}},{key:"computeDepths",value:function(f){var a=new kt,o=new fn,d=f.getNode();for(o.addLast(d),a.add(d),f.setVisited(!0);!o.isEmpty();){var C=o.removeFirst();a.add(C),this.computeNodeDepth(C);for(var B=C.getEdges().iterator();B.hasNext();){var K=B.next().getSym();if(!K.isVisited()){var se=K.getNode();a.contains(se)||(o.addLast(se),a.add(se))}}}}},{key:"compareTo",value:function(f){var a=f;return this._rightMostCoord.x<a._rightMostCoord.x?-1:this._rightMostCoord.x>a._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var f=new We,a=this._dirEdgeList.iterator();a.hasNext();)for(var o=a.next().getEdge().getCoordinates(),d=0;d<o.length-1;d++)f.expandToInclude(o[d]);this._env=f}return this._env}},{key:"addReachable",value:function(f){var a=new wt;for(a.add(f);!a.empty();){var o=a.pop();this.add(o,a)}}},{key:"copySymDepths",value:function(f){var a=f.getSym();a.setDepth(Xe.LEFT,f.getDepth(Xe.RIGHT)),a.setDepth(Xe.RIGHT,f.getDepth(Xe.LEFT))}},{key:"add",value:function(f,a){f.setVisited(!0),this._nodes.add(f);for(var o=f.getEdges().iterator();o.hasNext();){var d=o.next();this._dirEdgeList.add(d);var C=d.getSym().getNode();C.isVisited()||a.push(C)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Tt,this._nodes=new Tt,this._rightMostCoord=null,this._env=null,this._finder=new Mt}}])})(),ln=(function(){return c((function f(){i(this,f)}),null,[{key:"intersection",value:function(f,a,o,d){var C=f.x<a.x?f.x:a.x,B=f.y<a.y?f.y:a.y,K=f.x>a.x?f.x:a.x,se=f.y>a.y?f.y:a.y,xe=o.x<d.x?o.x:d.x,$e=o.y<d.y?o.y:d.y,st=o.x>d.x?o.x:d.x,_t=o.y>d.y?o.y:d.y,Yt=((C>xe?C:xe)+(K<st?K:st))/2,pn=((B>$e?B:$e)+(se<_t?se:_t))/2,Pn=f.x-Yt,$n=f.y-pn,Mr=a.x-Yt,hr=a.y-pn,Ur=o.x-Yt,ti=o.y-pn,ki=d.x-Yt,Wa=d.y-pn,Jo=$n-hr,Ka=Mr-Pn,ls=Pn*hr-Mr*$n,Qo=ti-Wa,qo=ki-Ur,Os=Ur*Wa-ki*ti,wo=Jo*qo-Qo*Ka,mi=(Ka*Os-qo*ls)/wo,zr=(Qo*ls-Jo*Os)/wo;return Le.isNaN(mi)||Le.isInfinite(mi)||Le.isNaN(zr)||Le.isInfinite(zr)?null:new he(mi+Yt,zr+pn)}}])})(),an=(function(){return c((function f(){i(this,f)}),null,[{key:"arraycopy",value:function(f,a,o,d,C){for(var B=0,K=a;K<a+C;K++)o[d+B]=f[K],B++}},{key:"getProperty",value:function(f){return{"line.separator":`
`}[f]}}])})(),hn=(function(){function f(){i(this,f)}return c(f,null,[{key:"log10",value:function(a){var o=Math.log(a);return Le.isInfinite(o)||Le.isNaN(o)?o:o/f.LOG_10}},{key:"min",value:function(a,o,d,C){var B=a;return o<B&&(B=o),d<B&&(B=d),C<B&&(B=C),B}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1],d=arguments[2];return a<o?o:a>d?d:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var C=arguments[0],B=arguments[1],K=arguments[2];return C<B?B:C>K?K:C}}},{key:"wrap",value:function(a,o){return a<0?o- -a%o:a%o}},{key:"max",value:function(){if(arguments.length===3){var a=arguments[1],o=arguments[2],d=arguments[0];return a>d&&(d=a),o>d&&(d=o),d}if(arguments.length===4){var C=arguments[1],B=arguments[2],K=arguments[3],se=arguments[0];return C>se&&(se=C),B>se&&(se=B),K>se&&(se=K),se}}},{key:"average",value:function(a,o){return(a+o)/2}}])})();hn.LOG_10=Math.log(10);var Bn=(function(){function f(){i(this,f)}return c(f,null,[{key:"segmentToSegment",value:function(a,o,d,C){if(a.equals(o))return f.pointToSegment(a,d,C);if(d.equals(C))return f.pointToSegment(C,a,o);var B=!1;if(We.intersects(a,o,d,C)){var K=(o.x-a.x)*(C.y-d.y)-(o.y-a.y)*(C.x-d.x);if(K===0)B=!0;else{var se=(a.y-d.y)*(C.x-d.x)-(a.x-d.x)*(C.y-d.y),xe=((a.y-d.y)*(o.x-a.x)-(a.x-d.x)*(o.y-a.y))/K,$e=se/K;($e<0||$e>1||xe<0||xe>1)&&(B=!0)}}else B=!0;return B?hn.min(f.pointToSegment(a,d,C),f.pointToSegment(o,d,C),f.pointToSegment(d,a,o),f.pointToSegment(C,a,o)):0}},{key:"pointToSegment",value:function(a,o,d){if(o.x===d.x&&o.y===d.y)return a.distance(o);var C=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),B=((a.x-o.x)*(d.x-o.x)+(a.y-o.y)*(d.y-o.y))/C;if(B<=0)return a.distance(o);if(B>=1)return a.distance(d);var K=((o.y-a.y)*(d.x-o.x)-(o.x-a.x)*(d.y-o.y))/C;return Math.abs(K)*Math.sqrt(C)}},{key:"pointToLinePerpendicular",value:function(a,o,d){var C=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),B=((o.y-a.y)*(d.x-o.x)-(o.x-a.x)*(d.y-o.y))/C;return Math.abs(B)*Math.sqrt(C)}},{key:"pointToSegmentString",value:function(a,o){if(o.length===0)throw new G("Line array must contain at least one vertex");for(var d=a.distance(o[0]),C=0;C<o.length-1;C++){var B=f.pointToSegment(a,o[C],o[C+1]);B<d&&(d=B)}return d}}])})(),Rt=(function(){return c((function f(){i(this,f)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Et(arguments[0],Ft);else if(arguments.length!==2){if(arguments.length===3){var f=arguments[0],a=arguments[1];return this.create(f,a)}}}}])})(),Gt=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f){}}])})(),gn=(function(){return c((function f(){i(this,f)}),null,[{key:"ofLine",value:function(f){var a=f.size();if(a<=1)return 0;var o=0,d=new he;f.getCoordinate(0,d);for(var C=d.x,B=d.y,K=1;K<a;K++){f.getCoordinate(K,d);var se=d.x,xe=d.y,$e=se-C,st=xe-B;o+=Math.sqrt($e*$e+st*st),C=se,B=xe}return o}}])})(),An=c((function f(){i(this,f)})),Dn=(function(){function f(){i(this,f)}return c(f,null,[{key:"copyCoord",value:function(a,o,d,C){for(var B=Math.min(a.getDimension(),d.getDimension()),K=0;K<B;K++)d.setOrdinate(C,K,a.getOrdinate(o,K))}},{key:"isRing",value:function(a){var o=a.size();return o===0||!(o<=3)&&a.getOrdinate(0,Ft.X)===a.getOrdinate(o-1,Ft.X)&&a.getOrdinate(0,Ft.Y)===a.getOrdinate(o-1,Ft.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Et(arguments[0],Ft)&&Number.isInteger(arguments[1])){var a=arguments[0],o=arguments[1];f.scroll(a,o,f.isRing(a))}else if(Et(arguments[0],Ft)&&arguments[1]instanceof he){var d=arguments[0],C=arguments[1],B=f.indexOf(C,d);if(B<=0)return null;f.scroll(d,B)}}else if(arguments.length===3){var K=arguments[0],se=arguments[1],xe=arguments[2];if(se<=0)return null;for(var $e=K.copy(),st=xe?K.size()-1:K.size(),_t=0;_t<st;_t++)for(var Yt=0;Yt<K.getDimension();Yt++)K.setOrdinate(_t,Yt,$e.getOrdinate((se+_t)%st,Yt));if(xe)for(var pn=0;pn<K.getDimension();pn++)K.setOrdinate(st,pn,K.getOrdinate(0,pn))}}},{key:"isEqual",value:function(a,o){var d=a.size();if(d!==o.size())return!1;for(var C=Math.min(a.getDimension(),o.getDimension()),B=0;B<d;B++)for(var K=0;K<C;K++){var se=a.getOrdinate(B,K),xe=o.getOrdinate(B,K);if(a.getOrdinate(B,K)!==o.getOrdinate(B,K)&&(!Le.isNaN(se)||!Le.isNaN(xe)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var a=arguments[0];return f.minCoordinateIndex(a,0,a.size()-1)}if(arguments.length===3){for(var o=arguments[0],d=arguments[2],C=-1,B=null,K=arguments[1];K<=d;K++){var se=o.getCoordinate(K);(B===null||B.compareTo(se)>0)&&(B=se,C=K)}return C}}},{key:"extend",value:function(a,o,d){var C=a.create(d,o.getDimension()),B=o.size();if(f.copy(o,0,C,0,B),B>0)for(var K=B;K<d;K++)f.copy(o,B-1,C,K,1);return C}},{key:"reverse",value:function(a){for(var o=a.size()-1,d=Math.trunc(o/2),C=0;C<=d;C++)f.swap(a,C,o-C)}},{key:"swap",value:function(a,o,d){if(o===d)return null;for(var C=0;C<a.getDimension();C++){var B=a.getOrdinate(o,C);a.setOrdinate(o,C,a.getOrdinate(d,C)),a.setOrdinate(d,C,B)}}},{key:"copy",value:function(a,o,d,C,B){for(var K=0;K<B;K++)f.copyCoord(a,o+K,d,C+K)}},{key:"ensureValidRing",value:function(a,o){var d=o.size();return d===0?o:d<=3?f.createClosedRing(a,o,4):o.getOrdinate(0,Ft.X)===o.getOrdinate(d-1,Ft.X)&&o.getOrdinate(0,Ft.Y)===o.getOrdinate(d-1,Ft.Y)?o:f.createClosedRing(a,o,d+1)}},{key:"indexOf",value:function(a,o){for(var d=0;d<o.size();d++)if(a.x===o.getOrdinate(d,Ft.X)&&a.y===o.getOrdinate(d,Ft.Y))return d;return-1}},{key:"createClosedRing",value:function(a,o,d){var C=a.create(d,o.getDimension()),B=o.size();f.copy(o,0,C,0,B);for(var K=B;K<d;K++)f.copy(o,0,C,K,1);return C}},{key:"minCoordinate",value:function(a){for(var o=null,d=0;d<a.size();d++){var C=a.getCoordinate(d);(o===null||o.compareTo(C)>0)&&(o=C)}return o}}])})(),Kt=(function(){function f(){i(this,f)}return c(f,null,[{key:"toDimensionSymbol",value:function(a){switch(a){case f.FALSE:return f.SYM_FALSE;case f.TRUE:return f.SYM_TRUE;case f.DONTCARE:return f.SYM_DONTCARE;case f.P:return f.SYM_P;case f.L:return f.SYM_L;case f.A:return f.SYM_A}throw new G("Unknown dimension value: "+a)}},{key:"toDimensionValue",value:function(a){switch(dn.toUpperCase(a)){case f.SYM_FALSE:return f.FALSE;case f.SYM_TRUE:return f.TRUE;case f.SYM_DONTCARE:return f.DONTCARE;case f.SYM_P:return f.P;case f.SYM_L:return f.L;case f.SYM_A:return f.A}throw new G("Unknown dimension symbol: "+a)}}])})();Kt.P=0,Kt.L=1,Kt.A=2,Kt.FALSE=-1,Kt.TRUE=-2,Kt.DONTCARE=-3,Kt.SYM_FALSE="F",Kt.SYM_TRUE="T",Kt.SYM_DONTCARE="*",Kt.SYM_P="0",Kt.SYM_L="1",Kt.SYM_A="2";var dr=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f){}}])})(),mn=(function(){return c((function f(){i(this,f)}),[{key:"filter",value:function(f,a){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),br=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new We:this._points.expandEnvelope(new We)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var C=o;if(this._points.size()!==C._points.size())return!1;for(var B=0;B<this._points.size();B++)if(!this.equal(this._points.getCoordinate(B),C._points.getCoordinate(B),d))return!1;return!0}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<Math.trunc(this._points.size()/2);o++){var d=this._points.size()-1-o;if(!this._points.getCoordinate(o).equals(this._points.getCoordinate(d))){if(this._points.getCoordinate(o).compareTo(this._points.getCoordinate(d))>0){var C=this._points.copy();Dn.reverse(C),this._points=C}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Kt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Dn.reverse(o),this.getFactory().createLineString(o)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return gn.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var o=arguments[0],d=0,C=0;d<this._points.size()&&C<o._points.size();){var B=this._points.getCoordinate(d).compareTo(o._points.getCoordinate(C));if(B!==0)return B;d++,C++}return d<this._points.size()?1:C<o._points.size()?-1:0}if(arguments.length===2){var K=arguments[0];return arguments[1].compare(this._points,K._points)}}},{key:"apply",value:function(){if(Et(arguments[0],Gt))for(var o=arguments[0],d=0;d<this._points.size();d++)o.filter(this._points.getCoordinate(d));else if(Et(arguments[0],mn)){var C=arguments[0];if(this._points.size()===0)return null;for(var B=0;B<this._points.size()&&(C.filter(this._points,B),!C.isDone());B++);C.isGeometryChanged()&&this.geometryChanged()}else Et(arguments[0],dr)?arguments[0].filter(this):Et(arguments[0],Q)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new fe}},{key:"isEquivalentClass",value:function(o){return o instanceof a}},{key:"getCoordinateN",value:function(o){return this._points.getCoordinate(o)}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(o){if(o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),o.size()===1)throw new G("Invalid number of points in LineString (found "+o.size()+" - must be 0 or >= 2)");this._points=o}},{key:"isCoordinate",value:function(o){for(var d=0;d<this._points.size();d++)if(this._points.getCoordinate(d).equals(o))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(o){return this.getFactory().createPoint(this._points.getCoordinate(o))}},{key:"interfaces_",get:function(){return[An]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];Fe.constructor_.call(this,d),this.init(o)}}}}])})(Fe),Un=c((function f(){i(this,f)})),ur=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new We;var o=new We;return o.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),o}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new a(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&(!(!this.isEmpty()||!o.isEmpty())||this.isEmpty()===o.isEmpty()&&this.equal(o.getCoordinate(),this.getCoordinate(),d))}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Kt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0];return this.getCoordinate().compareTo(o.getCoordinate())}if(arguments.length===2){var d=arguments[0];return arguments[1].compare(this._coordinates,d._coordinates)}}},{key:"apply",value:function(){if(Et(arguments[0],Gt)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this.getCoordinate())}else if(Et(arguments[0],mn)){var d=arguments[0];if(this.isEmpty())return null;d.filter(this._coordinates,0),d.isGeometryChanged()&&this.geometryChanged()}else Et(arguments[0],dr)?arguments[0].filter(this):Et(arguments[0],Q)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(o){o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),me.isTrue(o.size()<=1),this._coordinates=o}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){this._coordinates=null;var o=arguments[0],d=arguments[1];Fe.constructor_.call(this,d),this.init(o)}}])})(Fe),Tr=(function(){function f(){i(this,f)}return c(f,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var a=arguments[0];return Math.abs(f.ofRingSigned(a))}if(Et(arguments[0],Ft)){var o=arguments[0];return Math.abs(f.ofRingSigned(o))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var a=arguments[0];if(a.length<3)return 0;for(var o=0,d=a[0].x,C=1;C<a.length-1;C++){var B=a[C].x-d,K=a[C+1].y;o+=B*(a[C-1].y-K)}return o/2}if(Et(arguments[0],Ft)){var se=arguments[0],xe=se.size();if(xe<3)return 0;var $e=new he,st=new he,_t=new he;se.getCoordinate(0,st),se.getCoordinate(1,_t);var Yt=st.x;_t.x-=Yt;for(var pn=0,Pn=1;Pn<xe-1;Pn++)$e.y=st.y,st.x=_t.x,st.y=_t.y,se.getCoordinate(Pn+1,_t),_t.x-=Yt,pn+=st.x*($e.y-_t.y);return pn/2}}}])})(),zn=(function(){return c((function f(){i(this,f)}),null,[{key:"sort",value:function(){var f=arguments,a=arguments[0];if(arguments.length===1)a.sort((function(Yt,pn){return Yt.compareTo(pn)}));else if(arguments.length===2)a.sort((function(Yt,pn){return f[1].compare(Yt,pn)}));else if(arguments.length===3){var o=a.slice(arguments[1],arguments[2]);o.sort();var d=a.slice(0,arguments[1]).concat(o,a.slice(arguments[2],a.length));a.splice(0,a.length);var C,B=g(d);try{for(B.s();!(C=B.n()).done;){var K=C.value;a.push(K)}}catch(Yt){B.e(Yt)}finally{B.f()}}else if(arguments.length===4){var se=a.slice(arguments[1],arguments[2]);se.sort((function(Yt,pn){return f[3].compare(Yt,pn)}));var xe=a.slice(0,arguments[1]).concat(se,a.slice(arguments[2],a.length));a.splice(0,a.length);var $e,st=g(xe);try{for(st.s();!($e=st.n()).done;){var _t=$e.value;a.push(_t)}}catch(Yt){st.e(Yt)}finally{st.f()}}}},{key:"asList",value:function(f){var a,o=new Tt,d=g(f);try{for(d.s();!(a=d.n()).done;){var C=a.value;o.add(C)}}catch(B){d.e(B)}finally{d.f()}return o}},{key:"copyOf",value:function(f,a){return f.slice(0,a)}}])})(),cn=c((function f(){i(this,f)})),Pr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var o=new Array(this.getNumPoints()).fill(null),d=-1,C=this._shell.getCoordinates(),B=0;B<C.length;B++)o[++d]=C[B];for(var K=0;K<this._holes.length;K++)for(var se=this._holes[K].getCoordinates(),xe=0;xe<se.length;xe++)o[++d]=se[xe];return o}},{key:"getArea",value:function(){var o=0;o+=Tr.ofRing(this._shell.getCoordinateSequence());for(var d=0;d<this._holes.length;d++)o-=Tr.ofRing(this._holes[d].getCoordinateSequence());return o}},{key:"copyInternal",value:function(){for(var o=this._shell.copy(),d=new Array(this._holes.length).fill(null),C=0;C<this._holes.length;C++)d[C]=this._holes[C].copy();return new a(o,d,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var o=this._shell.getCoordinateSequence(),d=this.getEnvelopeInternal(),C=0;C<5;C++){var B=o.getX(C);if(B!==d.getMinX()&&B!==d.getMaxX())return!1;var K=o.getY(C);if(K!==d.getMinY()&&K!==d.getMaxY())return!1}for(var se=o.getX(0),xe=o.getY(0),$e=1;$e<=4;$e++){var st=o.getX($e),_t=o.getY($e);if(st!==se==(_t!==xe))return!1;se=st,xe=_t}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var C=o,B=this._shell,K=C._shell;if(!B.equalsExact(K,d)||this._holes.length!==C._holes.length)return!1;for(var se=0;se<this._holes.length;se++)if(!this._holes[se].equalsExact(C._holes[se],d))return!1;return!0}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var o=0;o<this._holes.length;o++)this._holes[o]=this.normalized(this._holes[o],!1);zn.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],C=arguments[1];if(d.isEmpty())return null;var B=d.getCoordinateSequence(),K=Dn.minCoordinateIndex(B,0,B.size()-2);Dn.scroll(B,K,!0),ht.isCCW(B)===C&&Dn.reverse(B)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var o=this.getExteriorRing().reverse(),d=new Array(this.getNumInteriorRing()).fill(null),C=0;C<d.length;C++)d[C]=this.getInteriorRingN(C).reverse();return this.getFactory().createPolygon(o,d)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var o=0;o+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)o+=this._holes[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=this._shell.getNumPoints(),d=0;d<this._holes.length;d++)o+=this._holes[d].getNumPoints();return o}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(o,d){var C=o.copy();return this.normalize(C,d),C}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=this._shell,C=o._shell;return d.compareToSameClass(C)}if(arguments.length===2){var B=arguments[1],K=arguments[0],se=this._shell,xe=K._shell,$e=se.compareToSameClass(xe,B);if($e!==0)return $e;for(var st=this.getNumInteriorRing(),_t=K.getNumInteriorRing(),Yt=0;Yt<st&&Yt<_t;){var pn=this.getInteriorRingN(Yt),Pn=K.getInteriorRingN(Yt),$n=pn.compareToSameClass(Pn,B);if($n!==0)return $n;Yt++}return Yt<st?1:Yt<_t?-1:0}}},{key:"apply",value:function(){if(Et(arguments[0],Gt)){var o=arguments[0];this._shell.apply(o);for(var d=0;d<this._holes.length;d++)this._holes[d].apply(o)}else if(Et(arguments[0],mn)){var C=arguments[0];if(this._shell.apply(C),!C.isDone())for(var B=0;B<this._holes.length&&(this._holes[B].apply(C),!C.isDone());B++);C.isGeometryChanged()&&this.geometryChanged()}else if(Et(arguments[0],dr))arguments[0].filter(this);else if(Et(arguments[0],Q)){var K=arguments[0];K.filter(this),this._shell.apply(K);for(var se=0;se<this._holes.length;se++)this._holes[se].apply(K)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var o=new Array(this._holes.length+1).fill(null);o[0]=this._shell;for(var d=0;d<this._holes.length;d++)o[d+1]=this._holes[d];return o.length<=1?this.getFactory().createLinearRing(o[0].getCoordinateSequence()):this.getFactory().createMultiLineString(o)}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(o){return this._holes[o]}},{key:"interfaces_",get:function(){return[cn]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var o=arguments[0],d=arguments[1],C=arguments[2];if(Fe.constructor_.call(this,C),o===null&&(o=this.getFactory().createLinearRing()),d===null&&(d=[]),Fe.hasNullElements(d))throw new G("holes must not contain null elements");if(o.isEmpty()&&Fe.hasNonEmptyElements(d))throw new G("shell is empty but holes are not");this._shell=o,this._holes=d}}])})(Fe),Ri=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a)})(tt),Nn=(function(f){function a(o){var d;return i(this,a),(d=r(this,a)).array=[],o instanceof it&&d.addAll(o),d}return w(a,f),c(a,[{key:"contains",value:function(o){var d,C=g(this.array);try{for(C.s();!(d=C.n()).done;)if(d.value.compareTo(o)===0)return!0}catch(B){C.e(B)}finally{C.f()}return!1}},{key:"add",value:function(o){if(this.contains(o))return!1;for(var d=0,C=this.array.length;d<C;d++)if(this.array[d].compareTo(o)===1)return!!this.array.splice(d,0,o);return this.array.push(o),!0}},{key:"addAll",value:function(o){var d,C=g(o);try{for(C.s();!(d=C.n()).done;){var B=d.value;this.add(B)}}catch(K){C.e(K)}finally{C.f()}return!0}},{key:"remove",value:function(){throw new fe}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Gn(this.array)}}])})(Ri),Gn=(function(){return c((function f(a){i(this,f),this.array=a,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new ft;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new fe}}])})(),wn=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeEnvelopeInternal",value:function(){for(var o=new We,d=0;d<this._geometries.length;d++)o.expandToInclude(this._geometries[d].getEnvelopeInternal());return o}},{key:"getGeometryN",value:function(o){return this._geometries[o]}},{key:"getCoordinates",value:function(){for(var o=new Array(this.getNumPoints()).fill(null),d=-1,C=0;C<this._geometries.length;C++)for(var B=this._geometries[C].getCoordinates(),K=0;K<B.length;K++)o[++d]=B[K];return o}},{key:"getArea",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getArea();return o}},{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var C=o;if(this._geometries.length!==C._geometries.length)return!1;for(var B=0;B<this._geometries.length;B++)if(!this._geometries[B].equalsExact(C._geometries[B],d))return!1;return!0}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<this._geometries.length;o++)this._geometries[o].normalize();zn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var o=Kt.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getBoundaryDimension());return o}},{key:"reverseInternal",value:function(){for(var o=this._geometries.length,d=new Tt(o),C=0;C<o;C++)d.add(this._geometries[C].reverse());return this.getFactory().buildGeometry(d)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var o=Kt.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getDimension());return o}},{key:"getLength",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getNumPoints();return o}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=new Nn(zn.asList(this._geometries)),C=new Nn(zn.asList(o._geometries));return this.compare(d,C)}if(arguments.length===2){for(var B=arguments[1],K=arguments[0],se=this.getNumGeometries(),xe=K.getNumGeometries(),$e=0;$e<se&&$e<xe;){var st=this.getGeometryN($e),_t=K.getGeometryN($e),Yt=st.compareToSameClass(_t,B);if(Yt!==0)return Yt;$e++}return $e<se?1:$e<xe?-1:0}}},{key:"apply",value:function(){if(Et(arguments[0],Gt))for(var o=arguments[0],d=0;d<this._geometries.length;d++)this._geometries[d].apply(o);else if(Et(arguments[0],mn)){var C=arguments[0];if(this._geometries.length===0)return null;for(var B=0;B<this._geometries.length&&(this._geometries[B].apply(C),!C.isDone());B++);C.isGeometryChanged()&&this.geometryChanged()}else if(Et(arguments[0],dr)){var K=arguments[0];K.filter(this);for(var se=0;se<this._geometries.length;se++)this._geometries[se].apply(K)}else if(Et(arguments[0],Q)){var xe=arguments[0];xe.filter(this);for(var $e=0;$e<this._geometries.length;$e++)this._geometries[$e].apply(xe)}}},{key:"getBoundary",value:function(){return Fe.checkNotGeometryCollection(this),me.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];if(Fe.constructor_.call(this,d),o===null&&(o=[]),Fe.hasNullElements(o))throw new G("geometries must not contain null elements");this._geometries=o}}}}])})(Fe),nr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&N(a,"equalsExact",this,1).call(this,o,d)}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var o=arguments[0];return this._geometries[o].getCoordinate()}return N(a,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Kt.FALSE}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];wn.constructor_.call(this,o,d)}}])})(wn),sr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Kt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||N(a,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Dn.reverse(o),this.getFactory().createLinearRing(o)}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!N(a,"isClosed",this,1).call(this))throw new G("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<a.MINIMUM_VALID_SIZE)throw new G("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];br.constructor_.call(this,o,d),this.validateConstruction()}}])})(br);sr.MINIMUM_VALID_SIZE=4;var fr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"setOrdinate",value:function(o,d){switch(o){case a.X:this.x=d;break;case a.Y:this.y=d;break;default:throw new G("Invalid ordinate index: "+o)}}},{key:"getZ",value:function(){return he.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case a.X:return this.x;case a.Y:return this.y}throw new G("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new G("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)he.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof a){var o=arguments[0];he.constructor_.call(this,o.x,o.y)}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d.x,d.y)}}else if(arguments.length===2){var C=arguments[0],B=arguments[1];he.constructor_.call(this,C,B,he.NULL_ORDINATE)}}}])})(he);fr.X=0,fr.Y=1,fr.Z=-1,fr.M=-1;var wr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case a.X:this.x=d;break;case a.Y:this.y=d;break;case a.M:this._m=d;break;default:throw new G("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getZ",value:function(){return he.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case a.X:return this.x;case a.Y:return this.y;case a.M:return this._m}throw new G("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new G("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)he.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof a){var o=arguments[0];he.constructor_.call(this,o.x,o.y),this._m=o._m}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d.x,d.y),this._m=this.getM()}}else if(arguments.length===3){var C=arguments[0],B=arguments[1],K=arguments[2];he.constructor_.call(this,C,B,he.NULL_ORDINATE),this._m=K}}}])})(he);wr.X=0,wr.Y=1,wr.Z=-1,wr.M=2;var Nr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case he.X:this.x=d;break;case he.Y:this.y=d;break;case he.Z:this.z=d;break;case he.M:this._m=d;break;default:throw new G("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getOrdinate",value:function(o){switch(o){case he.X:return this.x;case he.Y:return this.y;case he.Z:return this.getZ();case he.M:return this.getM()}throw new G("Invalid ordinate index: "+o)}},{key:"copy",value:function(){return new a(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)he.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof a){var o=arguments[0];he.constructor_.call(this,o),this._m=o._m}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d),this._m=this.getM()}}else if(arguments.length===4){var C=arguments[0],B=arguments[1],K=arguments[2],se=arguments[3];he.constructor_.call(this,C,B,K),this._m=se}}}])})(he),Si=(function(){function f(){i(this,f)}return c(f,null,[{key:"measures",value:function(a){return a instanceof fr?0:a instanceof wr||a instanceof Nr?1:0}},{key:"dimension",value:function(a){return a instanceof fr?2:a instanceof wr?3:a instanceof Nr?4:3}},{key:"create",value:function(){if(arguments.length===1){var a=arguments[0];return f.create(a,0)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return o===2?new fr:o===3&&d===0?new he:o===3&&d===1?new wr:o===4&&d===1?new Nr:new he}}}])})(),yi=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getCoordinate",value:function(o){return this.get(o)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Et(arguments[0],it)){for(var o=arguments[1],d=!1,C=arguments[0].iterator();C.hasNext();)this.add(C.next(),o),d=!0;return d}return N(a,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var o=N(a,"clone",this,1).call(this),d=0;d<this.size();d++)o.add(d,this.get(d).clone());return o}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(a.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(a.coordArrayType);for(var o=this.size(),d=new Array(o).fill(null),C=0;C<o;C++)d[C]=this.get(o-C-1);return d}}},{key:"add",value:function(){if(arguments.length===1){var o=arguments[0];return N(a,"add",this,1).call(this,o)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],C=arguments[1];return this.add(d,C,!0),!0}if(arguments[0]instanceof he&&typeof arguments[1]=="boolean"){var B=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(B))return null;N(a,"add",this,1).call(this,B)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var K=arguments[0],se=arguments[1];return this.add(K,se),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var xe=arguments[0],$e=arguments[1];if(arguments[2])for(var st=0;st<xe.length;st++)this.add(xe[st],$e);else for(var _t=xe.length-1;_t>=0;_t--)this.add(xe[_t],$e);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof he){var Yt=arguments[0],pn=arguments[1];if(!arguments[2]){var Pn=this.size();if(Pn>0&&(Yt>0&&this.get(Yt-1).equals2D(pn)||Yt<Pn&&this.get(Yt).equals2D(pn)))return null}N(a,"add",this,1).call(this,Yt,pn)}}else if(arguments.length===4){var $n=arguments[0],Mr=arguments[1],hr=arguments[2],Ur=arguments[3],ti=1;hr>Ur&&(ti=-1);for(var ki=hr;ki!==Ur;ki+=ti)this.add($n[ki],Mr);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var o=this.get(0).copy();this.add(o,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var o=arguments[0];this.ensureCapacity(o.length),this.add(o,!0)}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.ensureCapacity(d.length),this.add(d,C)}}}}])})(Tt);yi.coordArrayType=new Array(0).fill(null);var mr=(function(){function f(){i(this,f)}return c(f,null,[{key:"isRing",value:function(a){return!(a.length<4)&&!!a[0].equals2D(a[a.length-1])}},{key:"ptNotInList",value:function(a,o){for(var d=0;d<a.length;d++){var C=a[d];if(f.indexOf(C,o)<0)return C}return null}},{key:"scroll",value:function(a,o){var d=f.indexOf(o,a);if(d<0)return null;var C=new Array(a.length).fill(null);an.arraycopy(a,d,C,0,a.length-d),an.arraycopy(a,0,C,a.length-d,d),an.arraycopy(C,0,a,0,a.length)}},{key:"equals",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];if(a===o)return!0;if(a===null||o===null||a.length!==o.length)return!1;for(var d=0;d<a.length;d++)if(!a[d].equals(o[d]))return!1;return!0}if(arguments.length===3){var C=arguments[0],B=arguments[1],K=arguments[2];if(C===B)return!0;if(C===null||B===null||C.length!==B.length)return!1;for(var se=0;se<C.length;se++)if(K.compare(C[se],B[se])!==0)return!1;return!0}}},{key:"intersection",value:function(a,o){for(var d=new yi,C=0;C<a.length;C++)o.intersects(a[C])&&d.add(a[C],!0);return d.toCoordinateArray()}},{key:"measures",value:function(a){if(a===null||a.length===0)return 0;var o,d=0,C=g(a);try{for(C.s();!(o=C.n()).done;){var B=o.value;d=Math.max(d,Si.measures(B))}}catch(K){C.e(K)}finally{C.f()}return d}},{key:"hasRepeatedPoints",value:function(a){for(var o=1;o<a.length;o++)if(a[o-1].equals(a[o]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(a){return f.hasRepeatedPoints(a)?new yi(a,!1).toCoordinateArray():a}},{key:"reverse",value:function(a){for(var o=a.length-1,d=Math.trunc(o/2),C=0;C<=d;C++){var B=a[C];a[C]=a[o-C],a[o-C]=B}}},{key:"removeNull",value:function(a){for(var o=0,d=0;d<a.length;d++)a[d]!==null&&o++;var C=new Array(o).fill(null);if(o===0)return C;for(var B=0,K=0;K<a.length;K++)a[K]!==null&&(C[B++]=a[K]);return C}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var a=arguments[0],o=new Array(a.length).fill(null),d=0;d<a.length;d++)o[d]=a[d].copy();return o}if(arguments.length===5)for(var C=arguments[0],B=arguments[1],K=arguments[2],se=arguments[3],xe=arguments[4],$e=0;$e<xe;$e++)K[se+$e]=C[B+$e].copy()}},{key:"isEqualReversed",value:function(a,o){for(var d=0;d<a.length;d++){var C=a[d],B=o[a.length-d-1];if(C.compareTo(B)!==0)return!1}return!0}},{key:"envelope",value:function(a){for(var o=new We,d=0;d<a.length;d++)o.expandToInclude(a[d]);return o}},{key:"toCoordinateArray",value:function(a){return a.toArray(f.coordArrayType)}},{key:"dimension",value:function(a){if(a===null||a.length===0)return 3;var o,d=0,C=g(a);try{for(C.s();!(o=C.n()).done;){var B=o.value;d=Math.max(d,Si.dimension(B))}}catch(K){C.e(K)}finally{C.f()}return d}},{key:"atLeastNCoordinatesOrNothing",value:function(a,o){return o.length>=a?o:[]}},{key:"indexOf",value:function(a,o){for(var d=0;d<o.length;d++)if(a.equals(o[d]))return d;return-1}},{key:"increasingDirection",value:function(a){for(var o=0;o<Math.trunc(a.length/2);o++){var d=a.length-1-o,C=a[o].compareTo(a[d]);if(C!==0)return C}return 1}},{key:"compare",value:function(a,o){for(var d=0;d<a.length&&d<o.length;){var C=a[d].compareTo(o[d]);if(C!==0)return C;d++}return d<o.length?-1:d<a.length?1:0}},{key:"minCoordinate",value:function(a){for(var o=null,d=0;d<a.length;d++)(o===null||o.compareTo(a[d])>0)&&(o=a[d]);return o}},{key:"extract",value:function(a,o,d){o=hn.clamp(o,0,a.length);var C=(d=hn.clamp(d,-1,a.length))-o+1;d<0&&(C=0),o>=a.length&&(C=0),d<o&&(C=0);var B=new Array(C).fill(null);if(C===0)return B;for(var K=0,se=o;se<=d;se++)B[K++]=a[se];return B}}])})(),Hi=(function(){return c((function f(){i(this,f)}),[{key:"compare",value:function(f,a){var o=f,d=a;return mr.compare(o,d)}},{key:"interfaces_",get:function(){return[Re]}}])})(),Jn=(function(){return c((function f(){i(this,f)}),[{key:"compare",value:function(f,a){var o=f,d=a;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;var C=mr.compare(o,d);return mr.isEqualReversed(o,d)?0:C}},{key:"OLDcompare",value:function(f,a){var o=f,d=a;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;for(var C=mr.increasingDirection(o),B=mr.increasingDirection(d),K=C>0?0:o.length-1,se=B>0?0:o.length-1,xe=0;xe<o.length;xe++){var $e=o[K].compareTo(d[se]);if($e!==0)return $e;K+=C,se+=B}return 0}},{key:"interfaces_",get:function(){return[Re]}}])})();mr.ForwardComparator=Hi,mr.BidirectionalComparator=Jn,mr.coordArrayType=new Array(0).fill(null);var xn=(function(){return c((function f(a){i(this,f),this.str=a}),[{key:"append",value:function(f){this.str+=f}},{key:"setCharAt",value:function(f,a){this.str=this.str.substr(0,f)+a+this.str.substr(f+1)}},{key:"toString",value:function(){return this.str}}])})(),rr=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getM",value:function(a){return this.hasM()?this._coordinates[a].getM():Le.NaN}},{key:"setOrdinate",value:function(a,o,d){switch(o){case Ft.X:this._coordinates[a].x=d;break;case Ft.Y:this._coordinates[a].y=d;break;default:this._coordinates[a].setOrdinate(o,d)}}},{key:"getZ",value:function(a){return this.hasZ()?this._coordinates[a].getZ():Le.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(a,o){switch(o){case Ft.X:return this._coordinates[a].x;case Ft.Y:return this._coordinates[a].y;default:return this._coordinates[a].getOrdinate(o)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var a=arguments[0];return this._coordinates[a]}if(arguments.length===2){var o=arguments[0];arguments[1].setCoordinate(this._coordinates[o])}}},{key:"getCoordinateCopy",value:function(a){var o=this.createCoordinate();return o.setCoordinate(this._coordinates[a]),o}},{key:"createCoordinate",value:function(){return Si.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(a){return this._coordinates[a].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(a){for(var o=0;o<this._coordinates.length;o++)a.expandToInclude(this._coordinates[o]);return a}},{key:"copy",value:function(){for(var a=new Array(this.size()).fill(null),o=0;o<this._coordinates.length;o++){var d=this.createCoordinate();d.setCoordinate(this._coordinates[o]),a[o]=d}return new f(a,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var a=new xn(17*this._coordinates.length);a.append("("),a.append(this._coordinates[0]);for(var o=1;o<this._coordinates.length;o++)a.append(", "),a.append(this._coordinates[o]);return a.append(")"),a.toString()}return"()"}},{key:"getY",value:function(a){return this._coordinates[a].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ft,q]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];f.constructor_.call(this,a,mr.dimension(a),mr.measures(a))}else if(Number.isInteger(arguments[0])){var o=arguments[0];this._coordinates=new Array(o).fill(null);for(var d=0;d<o;d++)this._coordinates[d]=new he}else if(Et(arguments[0],Ft)){var C=arguments[0];if(C===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=C.getDimension(),this._measures=C.getMeasures(),this._coordinates=new Array(C.size()).fill(null);for(var B=0;B<this._coordinates.length;B++)this._coordinates[B]=C.getCoordinateCopy(B)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var K=arguments[0],se=arguments[1];f.constructor_.call(this,K,se,mr.measures(K))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var xe=arguments[0],$e=arguments[1];this._coordinates=new Array(xe).fill(null),this._dimension=$e;for(var st=0;st<xe;st++)this._coordinates[st]=Si.create($e)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var _t=arguments[0],Yt=arguments[1],pn=arguments[2];this._dimension=Yt,this._measures=pn,this._coordinates=_t===null?new Array(0).fill(null):_t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Pn=arguments[0],$n=arguments[1],Mr=arguments[2];this._coordinates=new Array(Pn).fill(null),this._dimension=$n,this._measures=Mr;for(var hr=0;hr<Pn;hr++)this._coordinates[hr]=this.createCoordinate()}}}}])})(),pr=(function(){function f(){i(this,f)}return c(f,[{key:"readResolve",value:function(){return f.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new rr(arguments[0]);if(Et(arguments[0],Ft))return new rr(arguments[0])}else{if(arguments.length===2){var a=arguments[1];return a>3&&(a=3),a<2&&(a=2),new rr(arguments[0],a)}if(arguments.length===3){var o=arguments[2],d=arguments[1]-o;return o>1&&(o=1),d>3&&(d=3),d<2&&(d=2),new rr(arguments[0],d+o,o)}}}},{key:"interfaces_",get:function(){return[Rt,q]}}],[{key:"instance",value:function(){return f.instanceObject}}])})();pr.instanceObject=new pr;var gr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&N(a,"equalsExact",this,1).call(this,o,d)}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var o=new Tt,d=0;d<this._geometries.length;d++)for(var C=this._geometries[d].getBoundary(),B=0;B<C.getNumGeometries();B++)o.add(C.getGeometryN(B));var K=new Array(o.size()).fill(null);return this.getFactory().createMultiLineString(o.toArray(K))}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[cn]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];wn.constructor_.call(this,o,d)}}])})(wn),_i=(function(){return c((function f(){i(this,f)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Sn=(function(f){function a(){var o;return i(this,a),(o=r(this,a)).map=new Map,o}return w(a,f),c(a,[{key:"get",value:function(o){return this.map.get(o)||null}},{key:"put",value:function(o,d){return this.map.set(o,d),d}},{key:"values",value:function(){for(var o=new Tt,d=this.map.values(),C=d.next();!C.done;)o.add(C.value),C=d.next();return o}},{key:"entrySet",value:function(){var o=new kt;return this.map.entries().forEach((function(d){return o.add(d)})),o}},{key:"size",value:function(){return this.map.size()}}])})(_i),kn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"equals",value:function(a){if(!(a instanceof f))return!1;var o=a;return this._modelType===o._modelType&&this._scale===o._scale}},{key:"compareTo",value:function(a){var o=a,d=this.getMaximumSignificantDigits(),C=o.getMaximumSignificantDigits();return nn.compare(d,C)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===f.FLOATING||this._modelType===f.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var a="UNKNOWN";return this._modelType===f.FLOATING?a="Floating":this._modelType===f.FLOATING_SINGLE?a="Floating-Single":this._modelType===f.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var a=arguments[0];return Le.isNaN(a)||this._modelType===f.FLOATING_SINGLE?a:this._modelType===f.FIXED?Math.round(a*this._scale)/this._scale:a}if(arguments[0]instanceof he){var o=arguments[0];if(this._modelType===f.FLOATING)return null;o.x=this.makePrecise(o.x),o.y=this.makePrecise(o.y)}}},{key:"getMaximumSignificantDigits",value:function(){var a=16;return this._modelType===f.FLOATING?a=16:this._modelType===f.FLOATING_SINGLE?a=6:this._modelType===f.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a}},{key:"setScale",value:function(a){this._scale=Math.abs(a)}},{key:"interfaces_",get:function(){return[q,ee]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=f.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Zn){var a=arguments[0];this._modelType=a,a===f.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var o=arguments[0];this._modelType=f.FIXED,this.setScale(o)}else if(arguments[0]instanceof f){var d=arguments[0];this._modelType=d._modelType,this._scale=d._scale}}}},{key:"mostPrecise",value:function(a,o){return a.compareTo(o)>=0?a:o}}])})(),Zn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"readResolve",value:function(){return f.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[q]}}],[{key:"constructor_",value:function(){this._name=null;var a=arguments[0];this._name=a,f.nameToTypeMap.put(a,this)}}])})();Zn.nameToTypeMap=new Sn,kn.Type=Zn,kn.FIXED=new Zn("FIXED"),kn.FLOATING=new Zn("FLOATING"),kn.FLOATING_SINGLE=new Zn("FLOATING SINGLE"),kn.maximumPreciseValue=9007199254740992;var Gr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new a(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Fe){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&N(a,"equalsExact",this,1).call(this,o,d)}return N(a,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Kt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Fe.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new fe}},{key:"getGeometryType",value:function(){return Fe.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[An]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];wn.constructor_.call(this,o,d)}}])})(wn),Dr=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"createEmpty",value:function(a){switch(a){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new G("Invalid dimension: "+a)}}},{key:"toGeometry",value:function(a){return a.isNull()?this.createPoint():a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new he(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new he(a.getMinX(),a.getMinY()),new he(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new he(a.getMinX(),a.getMinY()),new he(a.getMinX(),a.getMaxY()),new he(a.getMaxX(),a.getMaxY()),new he(a.getMaxX(),a.getMinY()),new he(a.getMinX(),a.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLineString(a!==null?this.getCoordinateSequenceFactory().create(a):null)}if(Et(arguments[0],Ft))return new br(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Gr(null,this):arguments.length===1?new Gr(arguments[0],this):void 0}},{key:"buildGeometry",value:function(a){for(var o=null,d=!1,C=!1,B=a.iterator();B.hasNext();){var K=B.next(),se=K.getTypeCode();o===null&&(o=se),se!==o&&(d=!0),K instanceof wn&&(C=!0)}if(o===null)return this.createGeometryCollection();if(d||C)return this.createGeometryCollection(f.toGeometryArray(a));var xe=a.iterator().next();if(a.size()>1){if(xe instanceof Pr)return this.createMultiPolygon(f.toPolygonArray(a));if(xe instanceof br)return this.createMultiLineString(f.toLineStringArray(a));if(xe instanceof ur)return this.createMultiPoint(f.toPointArray(a));me.shouldNeverReachHere("Unhandled geometry type: "+xe.getGeometryType())}return xe}},{key:"createMultiPointFromCoords",value:function(a){return this.createMultiPoint(a!==null?this.getCoordinateSequenceFactory().create(a):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof he){var a=arguments[0];return this.createPoint(a!==null?this.getCoordinateSequenceFactory().create([a]):null)}if(Et(arguments[0],Ft))return new ur(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Et(arguments[0],Ft)){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof Array){var o=arguments[0];return this.createPolygon(this.createLinearRing(o))}if(arguments[0]instanceof sr){var d=arguments[0];return this.createPolygon(d,null)}}else if(arguments.length===2)return new Pr(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new wn(null,this):arguments.length===1?new wn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(a!==null?this.getCoordinateSequenceFactory().create(a):null)}if(Et(arguments[0],Ft))return new sr(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new gr(null,this):arguments.length===1?new gr(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new nr(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new nr(arguments[0],this);if(Et(arguments[0],Ft)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(a.size()).fill(null),d=0;d<a.size();d++){var C=this.getCoordinateSequenceFactory().create(1,a.getDimension(),a.getMeasures());Dn.copy(a,d,C,0,1),o[d]=this.createPoint(C)}return this.createMultiPoint(o)}}}},{key:"interfaces_",get:function(){return[q]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)f.constructor_.call(this,new kn,0);else if(arguments.length===1){if(Et(arguments[0],Rt)){var a=arguments[0];f.constructor_.call(this,new kn,0,a)}else if(arguments[0]instanceof kn){var o=arguments[0];f.constructor_.call(this,o,0,f.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];f.constructor_.call(this,d,C,f.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var B=arguments[0],K=arguments[1],se=arguments[2];this._precisionModel=B,this._coordinateSequenceFactory=se,this._SRID=K}}},{key:"toMultiPolygonArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toGeometryArray",value:function(a){if(a===null)return null;var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return pr.instance()}},{key:"toMultiLineStringArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toLineStringArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toMultiPointArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toLinearRingArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toPointArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"toPolygonArray",value:function(a){var o=new Array(a.size()).fill(null);return a.toArray(o)}},{key:"createPointFromInternalCoord",value:function(a,o){return o.getPrecisionModel().makePrecise(a),o.getFactory().createPoint(a)}}])})(),Fn="XY",xr="XYZ",xa="XYM",Vr="XYZM",la={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},qi="EMPTY",jn=1,Cr=2,ai=3,Qr=4,Hr=5,vo=6;for(var yo in la)la[yo].toUpperCase();var Fa=(function(){return c((function f(a){i(this,f),this.wkt=a,this.index_=-1}),[{key:"isAlpha_",value:function(f){return f>="a"&&f<="z"||f>="A"&&f<="Z"}},{key:"isNumeric_",value:function(f,a){return f>="0"&&f<="9"||f=="."&&!(a!==void 0&&a)}},{key:"isWhiteSpace_",value:function(f){return f==" "||f=="	"||f=="\r"||f==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var f,a=this.nextChar_(),o=this.index_,d=a;if(a=="(")f=Cr;else if(a==",")f=Hr;else if(a==")")f=ai;else if(this.isNumeric_(a)||a=="-")f=Qr,d=this.readNumber_();else if(this.isAlpha_(a))f=jn,d=this.readText_();else{if(this.isWhiteSpace_(a))return this.nextToken();if(a!=="")throw new Error("Unexpected character: "+a);f=vo}return{position:o,value:d,type:f}}},{key:"readNumber_",value:function(){var f,a=this.index_,o=!1,d=!1;do f=="."?o=!0:f!="e"&&f!="E"||(d=!0),f=this.nextChar_();while(this.isNumeric_(f,o)||!d&&(f=="e"||f=="E")||d&&(f=="-"||f=="+"));return parseFloat(this.wkt.substring(a,this.index_--))}},{key:"readText_",value:function(){var f,a=this.index_;do f=this.nextChar_();while(this.isAlpha_(f));return this.wkt.substring(a,this.index_--).toUpperCase()}}])})(),Or=(function(){return c((function f(a,o){i(this,f),this.lexer_=a,this.token_,this.layout_=Fn,this.factory=o}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(f){return this.token_.type==f}},{key:"match",value:function(f){var a=this.isTokenType(f);return a&&this.consume_(),a}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var f=Fn,a=this.token_;if(this.isTokenType(jn)){var o=a.value;o==="Z"?f=xr:o==="M"?f=xa:o==="ZM"&&(f=Vr),f!==Fn&&this.consume_()}return f}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Cr)){var f=[];do f.push(this.parseGeometry_());while(this.match(Hr));if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Cr)){var f=this.parsePoint_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Cr)){var f=this.parsePointList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Cr)){var f=this.parseLineStringTextList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var f;if(this.match(Cr)){if(f=this.token_.type==Cr?this.parsePointTextList_():this.parsePointList_(),this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Cr)){var f=this.parseLineStringTextList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Cr)){var f=this.parsePolygonTextList_();if(this.match(ai))return f}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var f=[],a=this.layout_.length,o=0;o<a;++o){var d=this.token_;if(!this.match(Qr))break;f.push(d.value)}if(f.length==a)return f;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var f=[this.parsePoint_()];this.match(Hr);)f.push(this.parsePoint_());return f}},{key:"parsePointTextList_",value:function(){for(var f=[this.parsePointText_()];this.match(Hr);)f.push(this.parsePointText_());return f}},{key:"parseLineStringTextList_",value:function(){for(var f=[this.parseLineStringText_()];this.match(Hr);)f.push(this.parseLineStringText_());return f}},{key:"parsePolygonTextList_",value:function(){for(var f=[this.parsePolygonText_()];this.match(Hr);)f.push(this.parsePolygonText_());return f}},{key:"isEmptyGeometry_",value:function(){var f=this.isTokenType(jn)&&this.token_.value==qi;return f&&this.consume_(),f}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var f=this.factory,a=function($n){return l(he,I($n))},o=function($n){var Mr=$n.map((function(hr){return f.createLinearRing(hr.map(a))}));return Mr.length>1?f.createPolygon(Mr[0],Mr.slice(1)):f.createPolygon(Mr[0])},d=this.token_;if(this.match(jn)){var C=d.value;if(this.layout_=this.parseGeometryLayout_(),C=="GEOMETRYCOLLECTION"){var B=this.parseGeometryCollectionText_();return f.createGeometryCollection(B)}switch(C){case"POINT":var K=this.parsePointText_();return K?f.createPoint(l(he,I(K))):f.createPoint();case"LINESTRING":var se=this.parseLineStringText_().map(a);return f.createLineString(se);case"LINEARRING":var xe=this.parseLineStringText_().map(a);return f.createLinearRing(xe);case"POLYGON":var $e=this.parsePolygonText_();return $e&&$e.length!==0?o($e):f.createPolygon();case"MULTIPOINT":var st=this.parseMultiPointText_();if(!st||st.length===0)return f.createMultiPoint();var _t=st.map(a).map((function($n){return f.createPoint($n)}));return f.createMultiPoint(_t);case"MULTILINESTRING":var Yt=this.parseMultiLineStringText_().map((function($n){return f.createLineString($n.map(a))}));return f.createMultiLineString(Yt);case"MULTIPOLYGON":var pn=this.parseMultiPolygonText_();if(!pn||pn.length===0)return f.createMultiPolygon();var Pn=pn.map(o);return f.createMultiPolygon(Pn);default:throw new Error("Invalid geometry type: "+C)}}throw new Error(this.formatErrorMessage_())}}])})();function Wi(f){if(f.isEmpty())return"";var a=f.getCoordinate(),o=[a.x,a.y];return a.z===void 0||Number.isNaN(a.z)||o.push(a.z),a.m===void 0||Number.isNaN(a.m)||o.push(a.m),o.join(" ")}function Ki(f){for(var a=f.getCoordinates().map((function(B){var K=[B.x,B.y];return B.z===void 0||Number.isNaN(B.z)||K.push(B.z),B.m===void 0||Number.isNaN(B.m)||K.push(B.m),K})),o=[],d=0,C=a.length;d<C;++d)o.push(a[d].join(" "));return o.join(", ")}function Xi(f){var a=[];a.push("("+Ki(f.getExteriorRing())+")");for(var o=0,d=f.getNumInteriorRing();o<d;++o)a.push("("+Ki(f.getInteriorRingN(o))+")");return a.join(", ")}var wa={Point:Wi,LineString:Ki,LinearRing:Ki,Polygon:Xi,MultiPoint:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push("("+Wi(f.getGeometryN(o))+")");return a.join(", ")},MultiLineString:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push("("+Ki(f.getGeometryN(o))+")");return a.join(", ")},MultiPolygon:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push("("+Xi(f.getGeometryN(o))+")");return a.join(", ")},GeometryCollection:function(f){for(var a=[],o=0,d=f.getNumGeometries();o<d;++o)a.push(ja(f.getGeometryN(o)));return a.join(", ")}};function ja(f){var a=f.getGeometryType(),o=wa[a];a=a.toUpperCase();var d=(function(C){var B="";if(C.isEmpty())return B;var K=C.getCoordinate();return K.z===void 0||Number.isNaN(K.z)||(B+="Z"),K.m===void 0||Number.isNaN(K.m)||(B+="M"),B})(f);return d.length>0&&(a+=" "+d),f.isEmpty()?a+" "+qi:a+" ("+o(f)+")"}var Qn=(function(){return c((function f(a){i(this,f),this.geometryFactory=a||new Dr,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(f){var a=new Fa(f);return new Or(a,this.geometryFactory).parse()}},{key:"write",value:function(f){return ja(f)}}])})(),er=(function(){return c((function f(a){i(this,f),this.parser=new Qn(a)}),[{key:"write",value:function(f){return this.parser.write(f)}}],[{key:"toLineString",value:function(f,a){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+f.x+" "+f.y+", "+a.x+" "+a.y+" )"}}])})(),Wn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getIndexAlongSegment",value:function(a,o){return this.computeIntLineIndex(),this._intLineIndex[a][o]}},{key:"getTopologySummary",value:function(){var a=new xn;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()}},{key:"computeIntersection",value:function(a,o,d,C){this._inputLines[0][0]=a,this._inputLines[0][1]=o,this._inputLines[1][0]=d,this._inputLines[1][1]=C,this._result=this.computeIntersect(a,o,d,C)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var a=arguments[0];this.getEdgeDistance(a,0)>this.getEdgeDistance(a,1)?(this._intLineIndex[a][0]=0,this._intLineIndex[a][1]=1):(this._intLineIndex[a][0]=1,this._intLineIndex[a][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(a){this._precisionModel=a}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var a=arguments[0],o=0;o<this._result;o++)if(!this._intPt[o].equals2D(this._inputLines[a][0])&&!this._intPt[o].equals2D(this._inputLines[a][1]))return!0;return!1}}},{key:"getIntersection",value:function(a){return this._intPt[a]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==f.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(a,o){return f.computeEdgeDistance(this._intPt[o],this._inputLines[a][0],this._inputLines[a][1])}},{key:"isCollinear",value:function(){return this._result===f.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return er.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+er.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(a,o){return this._inputLines[a][o]}},{key:"isIntersection",value:function(a){for(var o=0;o<this._result;o++)if(this._intPt[o].equals2D(a))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(a,o){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[a][o]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new he,this._intPt[1]=new he,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(a,o,d){var C=Math.abs(d.x-o.x),B=Math.abs(d.y-o.y),K=-1;if(a.equals(o))K=0;else if(a.equals(d))K=C>B?C:B;else{var se=Math.abs(a.x-o.x),xe=Math.abs(a.y-o.y);(K=C>B?se:xe)!==0||a.equals(o)||(K=Math.max(se,xe))}return me.isTrue(!(K===0&&!a.equals(o)),"Bad distance calculation"),K}},{key:"nonRobustComputeEdgeDistance",value:function(a,o,d){var C=a.x-o.x,B=a.y-o.y,K=Math.sqrt(C*C+B*B);return me.isTrue(!(K===0&&!a.equals(o)),"Invalid distance calculation"),K}}])})();Wn.DONT_INTERSECT=0,Wn.DO_INTERSECT=1,Wn.COLLINEAR=2,Wn.NO_INTERSECTION=0,Wn.POINT_INTERSECTION=1,Wn.COLLINEAR_INTERSECTION=2;var oi=(function(f){function a(){return i(this,a),r(this,a)}return w(a,f),c(a,[{key:"isInSegmentEnvelopes",value:function(o){var d=new We(this._inputLines[0][0],this._inputLines[0][1]),C=new We(this._inputLines[1][0],this._inputLines[1][1]);return d.contains(o)&&C.contains(o)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return N(a,"computeIntersection",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1],C=arguments[2];if(this._isProper=!1,We.intersects(d,C,o)&&ht.index(d,C,o)===0&&ht.index(C,d,o)===0)return this._isProper=!0,(o.equals(d)||o.equals(C))&&(this._isProper=!1),this._result=Wn.POINT_INTERSECTION,null;this._result=Wn.NO_INTERSECTION}},{key:"intersection",value:function(o,d,C,B){var K=this.intersectionSafe(o,d,C,B);return this.isInSegmentEnvelopes(K)||(K=new he(a.nearestEndpoint(o,d,C,B))),this._precisionModel!==null&&this._precisionModel.makePrecise(K),K}},{key:"checkDD",value:function(o,d,C,B,K){var se=Jt.intersection(o,d,C,B),xe=this.isInSegmentEnvelopes(se);an.out.println("DD in env = "+xe+"  --------------------- "+se),K.distance(se)>1e-4&&an.out.println("Distance = "+K.distance(se))}},{key:"intersectionSafe",value:function(o,d,C,B){var K=ln.intersection(o,d,C,B);return K===null&&(K=a.nearestEndpoint(o,d,C,B)),K}},{key:"computeCollinearIntersection",value:function(o,d,C,B){var K=We.intersects(o,d,C),se=We.intersects(o,d,B),xe=We.intersects(C,B,o),$e=We.intersects(C,B,d);return K&&se?(this._intPt[0]=C,this._intPt[1]=B,Wn.COLLINEAR_INTERSECTION):xe&&$e?(this._intPt[0]=o,this._intPt[1]=d,Wn.COLLINEAR_INTERSECTION):K&&xe?(this._intPt[0]=C,this._intPt[1]=o,!C.equals(o)||se||$e?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):K&&$e?(this._intPt[0]=C,this._intPt[1]=d,!C.equals(d)||se||xe?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):se&&xe?(this._intPt[0]=B,this._intPt[1]=o,!B.equals(o)||K||$e?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):se&&$e?(this._intPt[0]=B,this._intPt[1]=d,!B.equals(d)||K||xe?Wn.COLLINEAR_INTERSECTION:Wn.POINT_INTERSECTION):Wn.NO_INTERSECTION}},{key:"computeIntersect",value:function(o,d,C,B){if(this._isProper=!1,!We.intersects(o,d,C,B))return Wn.NO_INTERSECTION;var K=ht.index(o,d,C),se=ht.index(o,d,B);if(K>0&&se>0||K<0&&se<0)return Wn.NO_INTERSECTION;var xe=ht.index(C,B,o),$e=ht.index(C,B,d);return xe>0&&$e>0||xe<0&&$e<0?Wn.NO_INTERSECTION:K===0&&se===0&&xe===0&&$e===0?this.computeCollinearIntersection(o,d,C,B):(K===0||se===0||xe===0||$e===0?(this._isProper=!1,o.equals2D(C)||o.equals2D(B)?this._intPt[0]=o:d.equals2D(C)||d.equals2D(B)?this._intPt[0]=d:K===0?this._intPt[0]=new he(C):se===0?this._intPt[0]=new he(B):xe===0?this._intPt[0]=new he(o):$e===0&&(this._intPt[0]=new he(d))):(this._isProper=!0,this._intPt[0]=this.intersection(o,d,C,B)),Wn.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(o,d,C,B){var K=o,se=Bn.pointToSegment(o,C,B),xe=Bn.pointToSegment(d,C,B);return xe<se&&(se=xe,K=d),(xe=Bn.pointToSegment(C,o,d))<se&&(se=xe,K=C),(xe=Bn.pointToSegment(B,o,d))<se&&(se=xe,K=B),K}}])})(Wn),Rr=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"countSegment",value:function(a,o){if(a.x<this._p.x&&o.x<this._p.x)return null;if(this._p.x===o.x&&this._p.y===o.y)return this._isPointOnSegment=!0,null;if(a.y===this._p.y&&o.y===this._p.y){var d=a.x,C=o.x;return d>C&&(d=o.x,C=a.x),this._p.x>=d&&this._p.x<=C&&(this._isPointOnSegment=!0),null}if(a.y>this._p.y&&o.y<=this._p.y||o.y>this._p.y&&a.y<=this._p.y){var B=ht.index(a,o,this._p);if(B===ht.COLLINEAR)return this._isPointOnSegment=!0,null;o.y<a.y&&(B=-B),B===ht.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==de.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?de.BOUNDARY:this._crossingCount%2==1?de.INTERIOR:de.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var a=arguments[0];this._p=a}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof he&&Et(arguments[1],Ft)){for(var a=arguments[1],o=new f(arguments[0]),d=new he,C=new he,B=1;B<a.size();B++)if(a.getCoordinate(B,d),a.getCoordinate(B-1,C),o.countSegment(d,C),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof he&&arguments[1]instanceof Array){for(var K=arguments[1],se=new f(arguments[0]),xe=1;xe<K.length;xe++){var $e=K[xe],st=K[xe-1];if(se.countSegment($e,st),se.isOnSegment())return se.getLocation()}return se.getLocation()}}}])})(),Zi=(function(){function f(){i(this,f)}return c(f,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof he&&Et(arguments[1],Ft)){for(var a=arguments[0],o=arguments[1],d=new oi,C=new he,B=new he,K=o.size(),se=1;se<K;se++)if(o.getCoordinate(se-1,C),o.getCoordinate(se,B),d.computeIntersection(a,C,B),d.hasIntersection())return!0;return!1}if(arguments[0]instanceof he&&arguments[1]instanceof Array){for(var xe=arguments[0],$e=arguments[1],st=new oi,_t=1;_t<$e.length;_t++){var Yt=$e[_t-1],pn=$e[_t];if(st.computeIntersection(xe,Yt,pn),st.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(a,o){return Rr.locatePointInRing(a,o)}},{key:"isInRing",value:function(a,o){return f.locateInRing(a,o)!==de.EXTERIOR}}])})(),Wr=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"setAllLocations",value:function(a){for(var o=0;o<this.location.length;o++)this.location[o]=a}},{key:"isNull",value:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==de.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(a){for(var o=0;o<this.location.length;o++)this.location[o]===de.NONE&&(this.location[o]=a)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(a){if(a.location.length>this.location.length){var o=new Array(3).fill(null);o[Xe.ON]=this.location[Xe.ON],o[Xe.LEFT]=de.NONE,o[Xe.RIGHT]=de.NONE,this.location=o}for(var d=0;d<this.location.length;d++)this.location[d]===de.NONE&&d<a.location.length&&(this.location[d]=a.location[d])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var a=this.location[Xe.LEFT];this.location[Xe.LEFT]=this.location[Xe.RIGHT],this.location[Xe.RIGHT]=a}},{key:"toString",value:function(){var a=new Zt;return this.location.length>1&&a.append(de.toLocationSymbol(this.location[Xe.LEFT])),a.append(de.toLocationSymbol(this.location[Xe.ON])),this.location.length>1&&a.append(de.toLocationSymbol(this.location[Xe.RIGHT])),a.toString()}},{key:"setLocations",value:function(a,o,d){this.location[Xe.ON]=a,this.location[Xe.LEFT]=o,this.location[Xe.RIGHT]=d}},{key:"get",value:function(a){return a<this.location.length?this.location[a]:de.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===de.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var a=arguments[0];this.setLocation(Xe.ON,a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.location[o]=d}}},{key:"init",value:function(a){this.location=new Array(a).fill(null),this.setAllLocations(de.NONE)}},{key:"isEqualOnSide",value:function(a,o){return this.location[o]===a.location[o]}},{key:"allPositionsEqual",value:function(a){for(var o=0;o<this.location.length;o++)if(this.location[o]!==a)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var a=arguments[0];this.init(a.length)}else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[Xe.ON]=o}else if(arguments[0]instanceof f){var d=arguments[0];if(this.init(d.location.length),d!==null)for(var C=0;C<this.location.length;C++)this.location[C]=d.location[C]}}else if(arguments.length===3){var B=arguments[0],K=arguments[1],se=arguments[2];this.init(3),this.location[Xe.ON]=B,this.location[Xe.LEFT]=K,this.location[Xe.RIGHT]=se}}}])})(),ei=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getGeometryCount",value:function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a}},{key:"setAllLocations",value:function(a,o){this.elt[a].setAllLocations(o)}},{key:"isNull",value:function(a){return this.elt[a].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.elt[o].setAllLocationsIfNull(d)}}},{key:"isLine",value:function(a){return this.elt[a].isLine()}},{key:"merge",value:function(a){for(var o=0;o<2;o++)this.elt[o]===null&&a.elt[o]!==null?this.elt[o]=new Wr(a.elt[o]):this.elt[o].merge(a.elt[o])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var a=arguments[0];return this.elt[a].get(Xe.ON)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.elt[o].get(d)}}},{key:"toString",value:function(){var a=new Zt;return this.elt[0]!==null&&(a.append("A:"),a.append(this.elt[0].toString())),this.elt[1]!==null&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var a=arguments[0];return this.elt[a].isArea()}}},{key:"isAnyNull",value:function(a){return this.elt[a].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];this.elt[a].setLocation(Xe.ON,o)}else if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2];this.elt[d].setLocation(C,B)}}},{key:"isEqualOnSide",value:function(a,o){return this.elt[0].isEqualOnSide(a.elt[0],o)&&this.elt[1].isEqualOnSide(a.elt[1],o)}},{key:"allPositionsEqual",value:function(a,o){return this.elt[a].allPositionsEqual(o)}},{key:"toLine",value:function(a){this.elt[a].isArea()&&(this.elt[a]=new Wr(this.elt[a].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new Wr(a),this.elt[1]=new Wr(a)}else if(arguments[0]instanceof f){var o=arguments[0];this.elt[0]=new Wr(o.elt[0]),this.elt[1]=new Wr(o.elt[1])}}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.elt[0]=new Wr(de.NONE),this.elt[1]=new Wr(de.NONE),this.elt[d].setLocation(C)}else if(arguments.length===3){var B=arguments[0],K=arguments[1],se=arguments[2];this.elt[0]=new Wr(B,K,se),this.elt[1]=new Wr(B,K,se)}else if(arguments.length===4){var xe=arguments[0],$e=arguments[1],st=arguments[2],_t=arguments[3];this.elt[0]=new Wr(de.NONE,de.NONE,de.NONE),this.elt[1]=new Wr(de.NONE,de.NONE,de.NONE),this.elt[xe].setLocations($e,st,_t)}}},{key:"toLineLabel",value:function(a){for(var o=new f(de.NONE),d=0;d<2;d++)o.setLocation(d,a.getLocation(d));return o}}])})(),Ca=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var f=new Array(this._pts.size()).fill(null),a=0;a<this._pts.size();a++)f[a]=this._pts.get(a);this._ring=this._geometryFactory.createLinearRing(f),this._isHole=ht.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(f){this._startDe=f;var a=f,o=!0;do{if(a===null)throw new tn("Found null DirectedEdge");if(a.getEdgeRing()===this)throw new tn("Directed Edge visited twice during ring-building at "+a.getCoordinate());this._edges.add(a);var d=a.getLabel();me.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(a.getEdge(),a.isForward(),o),o=!1,this.setEdgeRing(a,this),a=this.getNext(a)}while(a!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(f){return this._pts.get(f)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var f=this._startDe;do{var a=f.getNode().getEdges().getOutgoingDegree(this);a>this._maxNodeDegree&&(this._maxNodeDegree=a),f=this.getNext(f)}while(f!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(f,a,o){var d=f.getCoordinates();if(a){var C=1;o&&(C=0);for(var B=C;B<d.length;B++)this._pts.add(d[B])}else{var K=d.length-2;o&&(K=d.length-1);for(var se=K;se>=0;se--)this._pts.add(d[se])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var f=this._startDe;do f.getEdge().setInResult(!0),f=f.getNext();while(f!==this._startDe)}},{key:"containsPoint",value:function(f){var a=this.getLinearRing();if(!a.getEnvelopeInternal().contains(f)||!Zi.isInRing(f,a.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(f))return!1;return!0}},{key:"addHole",value:function(f){this._holes.add(f)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var f=arguments[0];this.mergeLabel(f,0),this.mergeLabel(f,1)}else if(arguments.length===2){var a=arguments[1],o=arguments[0].getLocation(a,Xe.RIGHT);if(o===de.NONE)return null;if(this._label.getLocation(a)===de.NONE)return this._label.setLocation(a,o),null}}},{key:"setShell",value:function(f){this._shell=f,f!==null&&f.addHole(this)}},{key:"toPolygon",value:function(f){for(var a=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)a[o]=this._holes.get(o).getLinearRing();return f.createPolygon(this.getLinearRing(),a)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Tt,this._pts=new Tt,this._label=new ei(de.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Tt,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var f=arguments[0],a=arguments[1];this._geometryFactory=a,this.computePoints(f),this.computeRing()}}}}])})(),sn=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"setEdgeRing",value:function(o,d){o.setMinEdgeRing(d)}},{key:"getNext",value:function(o){return o.getNextMin()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];Ca.constructor_.call(this,o,d)}}])})(Ca),Sa=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"buildMinimalRings",value:function(){var o=new Tt,d=this._startDe;do{if(d.getMinEdgeRing()===null){var C=new sn(d,this._geometryFactory);o.add(C)}d=d.getNext()}while(d!==this._startDe);return o}},{key:"setEdgeRing",value:function(o,d){o.setEdgeRing(d)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var o=this._startDe;do o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext();while(o!==this._startDe)}},{key:"getNext",value:function(o){return o.getNext()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];Ca.constructor_.call(this,o,d)}}])})(Ca),Fr=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(f){this._isVisited=f}},{key:"setInResult",value:function(f){this._isInResult=f}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(f){this._label=f}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(f){this._isCovered=f,this._isCoveredSet=!0}},{key:"updateIM",value:function(f){me.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(f)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var f=arguments[0];this._label=f}}}}])})(),Ro=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"isIncidentEdgeInResult",value:function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(o){o.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(o){}},{key:"computeMergedLocation",value:function(o,d){var C=de.NONE;if(C=this._label.getLocation(d),!o.isNull(d)){var B=o.getLocation(d);C!==de.BOUNDARY&&(C=B)}return C}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return N(a,"setLabel",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];this._label===null?this._label=new ei(o,d):this._label.setLocation(o,d)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof a){var o=arguments[0];this.mergeLabel(o._label)}else if(arguments[0]instanceof ei)for(var d=arguments[0],C=0;C<2;C++){var B=this.computeMergedLocation(d,C);this._label.getLocation(C)===de.NONE&&this._label.setLocation(C,B)}}},{key:"add",value:function(o){this._edges.insert(o),o.setNode(this)}},{key:"setLabelBoundary",value:function(o){if(this._label===null)return null;var d=de.NONE;this._label!==null&&(d=this._label.getLocation(o));var C=null;switch(d){case de.BOUNDARY:C=de.INTERIOR;break;case de.INTERIOR:default:C=de.BOUNDARY}this._label.setLocation(o,C)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var o=arguments[0],d=arguments[1];this._coord=o,this._edges=d,this._label=new ei(0,de.NONE)}}])})(Fr),za=(function(f){function a(){return i(this,a),r(this,a,arguments)}return w(a,f),c(a)})(_i);function Ea(f){return f==null?0:f.color}function cr(f){return f==null?null:f.parent}function Ii(f,a){f!==null&&(f.color=a)}function Qa(f){return f==null?null:f.left}function eo(f){return f==null?null:f.right}var Kr=(function(f){function a(){var o;return i(this,a),(o=r(this,a)).root_=null,o.size_=0,o}return w(a,f),c(a,[{key:"get",value:function(o){for(var d=this.root_;d!==null;){var C=o.compareTo(d.key);if(C<0)d=d.left;else{if(!(C>0))return d.value;d=d.right}}return null}},{key:"put",value:function(o,d){if(this.root_===null)return this.root_={key:o,value:d,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var C,B,K=this.root_;do if(C=K,(B=o.compareTo(K.key))<0)K=K.left;else{if(!(B>0)){var se=K.value;return K.value=d,se}K=K.right}while(K!==null);var xe={key:o,left:null,right:null,value:d,parent:C,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return B<0?C.left=xe:C.right=xe,this.fixAfterInsertion(xe),this.size_++,null}},{key:"fixAfterInsertion",value:function(o){var d;for(o.color=1;o!=null&&o!==this.root_&&o.parent.color===1;)cr(o)===Qa(cr(cr(o)))?Ea(d=eo(cr(cr(o))))===1?(Ii(cr(o),0),Ii(d,0),Ii(cr(cr(o)),1),o=cr(cr(o))):(o===eo(cr(o))&&(o=cr(o),this.rotateLeft(o)),Ii(cr(o),0),Ii(cr(cr(o)),1),this.rotateRight(cr(cr(o)))):Ea(d=Qa(cr(cr(o))))===1?(Ii(cr(o),0),Ii(d,0),Ii(cr(cr(o)),1),o=cr(cr(o))):(o===Qa(cr(o))&&(o=cr(o),this.rotateRight(o)),Ii(cr(o),0),Ii(cr(cr(o)),1),this.rotateLeft(cr(cr(o))));this.root_.color=0}},{key:"values",value:function(){var o=new Tt,d=this.getFirstEntry();if(d!==null)for(o.add(d.value);(d=a.successor(d))!==null;)o.add(d.value);return o}},{key:"entrySet",value:function(){var o=new kt,d=this.getFirstEntry();if(d!==null)for(o.add(d);(d=a.successor(d))!==null;)o.add(d);return o}},{key:"rotateLeft",value:function(o){if(o!=null){var d=o.right;o.right=d.left,d.left!=null&&(d.left.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.left===o?o.parent.left=d:o.parent.right=d,d.left=o,o.parent=d}}},{key:"rotateRight",value:function(o){if(o!=null){var d=o.left;o.left=d.right,d.right!=null&&(d.right.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.right===o?o.parent.right=d:o.parent.left=d,d.right=o,o.parent=d}}},{key:"getFirstEntry",value:function(){var o=this.root_;if(o!=null)for(;o.left!=null;)o=o.left;return o}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(o){for(var d=this.root_;d!==null;){var C=o.compareTo(d.key);if(C<0)d=d.left;else{if(!(C>0))return!0;d=d.right}}return!1}}],[{key:"successor",value:function(o){var d;if(o===null)return null;if(o.right!==null){for(d=o.right;d.left!==null;)d=d.left;return d}d=o.parent;for(var C=o;d!==null&&C===d.right;)C=d,d=d.parent;return d}}])})(za),to=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"find",value:function(f){return this.nodeMap.get(f)}},{key:"addNode",value:function(){if(arguments[0]instanceof he){var f=arguments[0],a=this.nodeMap.get(f);return a===null&&(a=this.nodeFact.createNode(f),this.nodeMap.put(f,a)),a}if(arguments[0]instanceof Ro){var o=arguments[0],d=this.nodeMap.get(o.getCoordinate());return d===null?(this.nodeMap.put(o.getCoordinate(),o),o):(d.mergeLabel(o),d)}}},{key:"print",value:function(f){for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(f){for(var a=new Tt,o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().getLocation(f)===de.BOUNDARY&&a.add(d)}return a}},{key:"add",value:function(f){var a=f.getCoordinate();this.addNode(a).add(f)}}],[{key:"constructor_",value:function(){this.nodeMap=new Kr,this.nodeFact=null;var f=arguments[0];this.nodeFact=f}}])})(),si=(function(){function f(){i(this,f)}return c(f,null,[{key:"isNorthern",value:function(a){return a===f.NE||a===f.NW}},{key:"isOpposite",value:function(a,o){return a!==o&&(a-o+4)%4===2}},{key:"commonHalfPlane",value:function(a,o){if(a===o)return a;if((a-o+4)%4===2)return-1;var d=a<o?a:o;return d===0&&(a>o?a:o)===3?3:d}},{key:"isInHalfPlane",value:function(a,o){return o===f.SE?a===f.SE||a===f.SW:a===o||a===o+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1];if(a===0&&o===0)throw new G("Cannot compute the quadrant for point ( "+a+", "+o+" )");return a>=0?o>=0?f.NE:f.SE:o>=0?f.NW:f.SW}if(arguments[0]instanceof he&&arguments[1]instanceof he){var d=arguments[0],C=arguments[1];if(C.x===d.x&&C.y===d.y)throw new G("Cannot compute the quadrant for two identical points "+d);return C.x>=d.x?C.y>=d.y?f.NE:f.SE:C.y>=d.y?f.NW:f.SW}}}])})();si.NE=0,si.NW=1,si.SW=2,si.SE=3;var os=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"compareDirection",value:function(a){return this._dx===a._dx&&this._dy===a._dy?0:this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:ht.index(a._p0,a._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(a){this._node=a}},{key:"print",value:function(a){var o=Math.atan2(this._dy,this._dx),d=this.getClass().getName(),C=d.lastIndexOf("."),B=d.substring(C+1);a.print("  "+B+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+o+"   "+this._label)}},{key:"compareTo",value:function(a){var o=a;return this.compareDirection(o)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var a=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),d=o.lastIndexOf(".");return"  "+o.substring(d+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label}},{key:"computeLabel",value:function(a){}},{key:"init",value:function(a,o){this._p0=a,this._p1=o,this._dx=o.x-a.x,this._dy=o.y-a.y,this._quadrant=si.quadrant(this._dx,this._dy),me.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var a=arguments[0];this._edge=a}else if(arguments.length===3){var o=arguments[0],d=arguments[1],C=arguments[2];f.constructor_.call(this,o,d,C,null)}else if(arguments.length===4){var B=arguments[0],K=arguments[1],se=arguments[2],xe=arguments[3];f.constructor_.call(this,B),this.init(K,se),this._label=xe}}}])})(),Bo=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(o){return this._depth[o]}},{key:"setVisited",value:function(o){this._isVisited=o}},{key:"computeDirectedLabel",value:function(){this._label=new ei(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(o,d){if(this._depth[o]!==-999&&this._depth[o]!==d)throw new tn("assigned depths do not match",this.getCoordinate());this._depth[o]=d}},{key:"isInteriorAreaEdge",value:function(){for(var o=!0,d=0;d<2;d++)this._label.isArea(d)&&this._label.getLocation(d,Xe.LEFT)===de.INTERIOR&&this._label.getLocation(d,Xe.RIGHT)===de.INTERIOR||(o=!1);return o}},{key:"setNextMin",value:function(o){this._nextMin=o}},{key:"print",value:function(o){N(a,"print",this,1).call(this,o),o.print(" "+this._depth[Xe.LEFT]+"/"+this._depth[Xe.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")}},{key:"setMinEdgeRing",value:function(o){this._minEdgeRing=o}},{key:"isLineEdge",value:function(){var o=this._label.isLine(0)||this._label.isLine(1),d=!this._label.isArea(0)||this._label.allPositionsEqual(0,de.EXTERIOR),C=!this._label.isArea(1)||this._label.allPositionsEqual(1,de.EXTERIOR);return o&&d&&C}},{key:"setEdgeRing",value:function(o){this._edgeRing=o}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o}},{key:"setInResult",value:function(o){this._isInResult=o}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)}},{key:"setSym",value:function(o){this._sym=o}},{key:"setVisitedEdge",value:function(o){this.setVisited(o),this._sym.setVisited(o)}},{key:"setEdgeDepths",value:function(o,d){var C=this.getEdge().getDepthDelta();this._isForward||(C=-C);var B=1;o===Xe.LEFT&&(B=-1);var K=Xe.opposite(o),se=d+C*B;this.setDepth(o,d),this.setDepth(K,se)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(o){this._next=o}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var o=arguments[0],d=arguments[1];if(os.constructor_.call(this,o),this._isForward=d,d)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var C=o.getNumPoints()-1;this.init(o.getCoordinate(C),o.getCoordinate(C-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(o,d){return o===de.EXTERIOR&&d===de.INTERIOR?1:o===de.INTERIOR&&d===de.EXTERIOR?-1:0}}])})(os),Do=(function(){return c((function f(){i(this,f)}),[{key:"createNode",value:function(f){return new Ro(f,null)}}])})(),$o=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(f){f.println("Edges:");for(var a=0;a<this._edges.size();a++){f.println("edge "+a+":");var o=this._edges.get(a);o.print(f),o.eiList.print(f)}}},{key:"find",value:function(f){return this._nodes.find(f)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ro){var f=arguments[0];return this._nodes.addNode(f)}if(arguments[0]instanceof he){var a=arguments[0];return this._nodes.addNode(a)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(f){an.out.println(f)}},{key:"isBoundaryNode",value:function(f,a){var o=this._nodes.find(a);if(o===null)return!1;var d=o.getLabel();return d!==null&&d.getLocation(f)===de.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(f,a,o,d){return!!f.equals(o)&&ht.index(f,a,d)===ht.COLLINEAR&&si.quadrant(f,a)===si.quadrant(o,d)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(f){an.out.print(f)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(f,a){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),C=d.getCoordinates();if(this.matchInSameDirection(f,a,C[0],C[1])||this.matchInSameDirection(f,a,C[C.length-1],C[C.length-2]))return d}return null}},{key:"insertEdge",value:function(f){this._edges.add(f)}},{key:"findEdgeEnd",value:function(f){for(var a=this.getEdgeEnds().iterator();a.hasNext();){var o=a.next();if(o.getEdge()===f)return o}return null}},{key:"addEdges",value:function(f){for(var a=f.iterator();a.hasNext();){var o=a.next();this._edges.add(o);var d=new Bo(o,!0),C=new Bo(o,!1);d.setSym(C),C.setSym(d),this.add(d),this.add(C)}}},{key:"add",value:function(f){this._nodes.add(f),this._edgeEndList.add(f)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(f,a){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),C=d.getCoordinates();if(f.equals(C[0])&&a.equals(C[1]))return d}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Tt,this._nodes=null,this._edgeEndList=new Tt,arguments.length===0)this._nodes=new to(new Do);else if(arguments.length===1){var f=arguments[0];this._nodes=new to(f)}}},{key:"linkResultDirectedEdges",value:function(f){for(var a=f.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()}}])})(),ka=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"sortShellsAndHoles",value:function(a,o,d){for(var C=a.iterator();C.hasNext();){var B=C.next();B.isHole()?d.add(B):o.add(B)}}},{key:"computePolygons",value:function(a){for(var o=new Tt,d=a.iterator();d.hasNext();){var C=d.next().toPolygon(this._geometryFactory);o.add(C)}return o}},{key:"placeFreeHoles",value:function(a,o){for(var d=o.iterator();d.hasNext();){var C=d.next();if(C.getShell()===null){var B=f.findEdgeRingContaining(C,a);if(B===null)throw new tn("unable to assign hole to a shell",C.getCoordinate(0));C.setShell(B)}}}},{key:"buildMinimalEdgeRings",value:function(a,o,d){for(var C=new Tt,B=a.iterator();B.hasNext();){var K=B.next();if(K.getMaxNodeDegree()>2){K.linkDirectedEdgesForMinimalEdgeRings();var se=K.buildMinimalRings(),xe=this.findShell(se);xe!==null?(this.placePolygonHoles(xe,se),o.add(xe)):d.addAll(se)}else C.add(K)}return C}},{key:"buildMaximalEdgeRings",value:function(a){for(var o=new Tt,d=a.iterator();d.hasNext();){var C=d.next();if(C.isInResult()&&C.getLabel().isArea()&&C.getEdgeRing()===null){var B=new Sa(C,this._geometryFactory);o.add(B),B.setInResult()}}return o}},{key:"placePolygonHoles",value:function(a,o){for(var d=o.iterator();d.hasNext();){var C=d.next();C.isHole()&&C.setShell(a)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(a){for(var o=0,d=null,C=a.iterator();C.hasNext();){var B=C.next();B.isHole()||(d=B,o++)}return me.isTrue(o<=1,"found two shells in MinimalEdgeRing list"),d}},{key:"add",value:function(){if(arguments.length===1){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];$o.linkResultDirectedEdges(d);var C=this.buildMaximalEdgeRings(o),B=new Tt,K=this.buildMinimalEdgeRings(C,this._shellList,B);this.sortShellsAndHoles(K,this._shellList,B),this.placeFreeHoles(this._shellList,B)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Tt;var a=arguments[0];this._geometryFactory=a}},{key:"findEdgeRingContaining",value:function(a,o){for(var d=a.getLinearRing(),C=d.getEnvelopeInternal(),B=d.getCoordinateN(0),K=null,se=null,xe=o.iterator();xe.hasNext();){var $e=xe.next(),st=$e.getLinearRing(),_t=st.getEnvelopeInternal();if(!_t.equals(C)&&_t.contains(C)){B=mr.ptNotInList(d.getCoordinates(),st.getCoordinates());var Yt=!1;Zi.isInRing(B,st.getCoordinates())&&(Yt=!0),Yt&&(K===null||se.contains(_t))&&(se=(K=$e).getLinearRing().getEnvelopeInternal())}}return K}}])})(),Fo=(function(){return c((function f(){i(this,f)}),[{key:"getBounds",value:function(){}}])})(),Yn=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Fo,q]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var f=arguments[0],a=arguments[1];this._bounds=f,this._item=a}}])})(),_o=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var f=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),f}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(f){for(var a=null,o=this._items.get(f);2*f<=this._size&&((a=2*f)!==this._size&&this._items.get(a+1).compareTo(this._items.get(a))<0&&a++,this._items.get(a).compareTo(o)<0);f=a)this._items.set(f,this._items.get(a));this._items.set(f,o)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(f){this._items.add(null),this._size+=1;var a=this._size;for(this._items.set(0,f);f.compareTo(this._items.get(Math.trunc(a/2)))<0;a/=2)this._items.set(a,this._items.get(Math.trunc(a/2)));this._items.set(a,f)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Tt,this._items.add(null)}}])})(),Kn=(function(){return c((function f(){i(this,f)}),[{key:"insert",value:function(f,a){}},{key:"remove",value:function(f,a){}},{key:"query",value:function(){}}])})(),hi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(f){me.isTrue(this._bounds===null),this._childBoundables.add(f)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Fo,q]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Tt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var f=arguments[0];this._level=f}}}}])})(),ua={reverseOrder:function(){return{compare:function(f,a){return a.compareTo(f)}}},min:function(f){return ua.sort(f),f.get(0)},sort:function(f,a){var o=f.toArray();a?zn.sort(o,a):zn.sort(o);for(var d=f.iterator(),C=0,B=o.length;C<B;C++)d.next(),d.set(o[C])},singletonList:function(f){var a=new Tt;return a.add(f),a}},bs=(function(){function f(){i(this,f)}return c(f,null,[{key:"maxDistance",value:function(a,o,d,C,B,K,se,xe){var $e=f.distance(a,o,B,K);return $e=Math.max($e,f.distance(a,o,se,xe)),$e=Math.max($e,f.distance(d,C,B,K)),$e=Math.max($e,f.distance(d,C,se,xe))}},{key:"distance",value:function(a,o,d,C){var B=d-a,K=C-o;return Math.sqrt(B*B+K*K)}},{key:"maximumDistance",value:function(a,o){var d=Math.min(a.getMinX(),o.getMinX()),C=Math.min(a.getMinY(),o.getMinY()),B=Math.max(a.getMaxX(),o.getMaxX()),K=Math.max(a.getMaxY(),o.getMaxY());return f.distance(d,C,B,K)}},{key:"minMaxDistance",value:function(a,o){var d=a.getMinX(),C=a.getMinY(),B=a.getMaxX(),K=a.getMaxY(),se=o.getMinX(),xe=o.getMinY(),$e=o.getMaxX(),st=o.getMaxY(),_t=f.maxDistance(d,C,d,K,se,xe,se,st);return _t=Math.min(_t,f.maxDistance(d,C,d,K,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(d,C,d,K,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(d,C,d,K,$e,st,$e,xe)),_t=Math.min(_t,f.maxDistance(d,C,B,C,se,xe,se,st)),_t=Math.min(_t,f.maxDistance(d,C,B,C,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(d,C,B,C,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(d,C,B,C,$e,st,$e,xe)),_t=Math.min(_t,f.maxDistance(B,K,d,K,se,xe,se,st)),_t=Math.min(_t,f.maxDistance(B,K,d,K,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(B,K,d,K,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(B,K,d,K,$e,st,$e,xe)),_t=Math.min(_t,f.maxDistance(B,K,B,C,se,xe,se,st)),_t=Math.min(_t,f.maxDistance(B,K,B,C,se,xe,$e,xe)),_t=Math.min(_t,f.maxDistance(B,K,B,C,$e,st,se,st)),_t=Math.min(_t,f.maxDistance(B,K,B,C,$e,st,$e,xe))}}])})(),Bi=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"maximumDistance",value:function(){return bs.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(a,o){var d=f.isComposite(this._boundable1),C=f.isComposite(this._boundable2);if(d&&C)return f.area(this._boundable1)>f.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,a,o),null):(this.expand(this._boundable2,this._boundable1,!0,a,o),null);if(d)return this.expand(this._boundable1,this._boundable2,!1,a,o),null;if(C)return this.expand(this._boundable2,this._boundable1,!0,a,o),null;throw new G("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(f.isComposite(this._boundable1)||f.isComposite(this._boundable2))}},{key:"compareTo",value:function(a){var o=a;return this._distance<o._distance?-1:this._distance>o._distance?1:0}},{key:"expand",value:function(a,o,d,C,B){for(var K=a.getChildBoundables().iterator();K.hasNext();){var se=K.next(),xe=null;(xe=d?new f(o,se,this._itemDistance):new f(se,o,this._itemDistance)).getDistance()<B&&C.add(xe)}}},{key:"getBoundable",value:function(a){return a===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var a=arguments[0],o=arguments[1],d=arguments[2];this._boundable1=a,this._boundable2=o,this._itemDistance=d,this._distance=this.distance()}},{key:"area",value:function(a){return a.getBounds().getArea()}},{key:"isComposite",value:function(a){return a instanceof hi}}])})(),no=(function(){return c((function f(){i(this,f)}),[{key:"visitItem",value:function(f){}}])})(),La=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"queryInternal",value:function(){if(Et(arguments[2],no)&&arguments[0]instanceof Object&&arguments[1]instanceof hi)for(var a=arguments[0],o=arguments[2],d=arguments[1].getChildBoundables(),C=0;C<d.size();C++){var B=d.get(C);this.getIntersectsOp().intersects(B.getBounds(),a)&&(B instanceof hi?this.queryInternal(a,B,o):B instanceof Yn?o.visitItem(B.getItem()):me.shouldNeverReachHere())}else if(Et(arguments[2],mt)&&arguments[0]instanceof Object&&arguments[1]instanceof hi)for(var K=arguments[0],se=arguments[2],xe=arguments[1].getChildBoundables(),$e=0;$e<xe.size();$e++){var st=xe.get($e);this.getIntersectsOp().intersects(st.getBounds(),K)&&(st instanceof hi?this.queryInternal(K,st,se):st instanceof Yn?se.add(st.getItem()):me.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(a){return a.get(a.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var a=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();d instanceof hi?a+=this.size(d):d instanceof Yn&&(a+=1)}return a}}},{key:"removeItem",value:function(a,o){for(var d=null,C=a.getChildBoundables().iterator();C.hasNext();){var B=C.next();B instanceof Yn&&B.getItem()===o&&(d=B)}return d!==null&&(a.getChildBoundables().remove(d),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var a=this.itemsTree(this._root);return a===null?new Tt:a}if(arguments.length===1){for(var o=arguments[0],d=new Tt,C=o.getChildBoundables().iterator();C.hasNext();){var B=C.next();if(B instanceof hi){var K=this.itemsTree(B);K!==null&&d.add(K)}else B instanceof Yn?d.add(B.getItem()):me.shouldNeverReachHere()}return d.size()<=0?null:d}}},{key:"insert",value:function(a,o){me.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Yn(a,o))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var a=arguments[0],o=new Tt;return this.boundablesAtLevel(a,this._root,o),o}if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2];if(me.isTrue(d>-2),C.getLevel()===d)return B.add(C),null;for(var K=C.getChildBoundables().iterator();K.hasNext();){var se=K.next();se instanceof hi?this.boundablesAtLevel(d,se,B):(me.isTrue(se instanceof Yn),d===-1&&B.add(se))}return null}}},{key:"query",value:function(){if(arguments.length===1){var a=arguments[0];this.build();var o=new Tt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.queryInternal(a,this._root,o),o}if(arguments.length===2){var d=arguments[0],C=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),d)&&this.queryInternal(d,this._root,C)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.remove(a,this._root,o)}if(arguments.length===3){var d=arguments[0],C=arguments[1],B=arguments[2],K=this.removeItem(C,B);if(K)return!0;for(var se=null,xe=C.getChildBoundables().iterator();xe.hasNext();){var $e=xe.next();if(this.getIntersectsOp().intersects($e.getBounds(),d)&&$e instanceof hi&&(K=this.remove(d,$e,B))){se=$e;break}}return se!==null&&se.getChildBoundables().isEmpty()&&C.getChildBoundables().remove(se),K}}},{key:"createHigherLevels",value:function(a,o){me.isTrue(!a.isEmpty());var d=this.createParentBoundables(a,o+1);return d.size()===1?d.get(0):this.createHigherLevels(d,o+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var a=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();if(d instanceof hi){var C=this.depth(d);C>a&&(a=C)}}return a+1}}},{key:"createParentBoundables",value:function(a,o){me.isTrue(!a.isEmpty());var d=new Tt;d.add(this.createNode(o));var C=new Tt(a);ua.sort(C,this.getComparator());for(var B=C.iterator();B.hasNext();){var K=B.next();this.lastNode(d).getChildBoundables().size()===this.getNodeCapacity()&&d.add(this.createNode(o)),this.lastNode(d).addChildBoundable(K)}return d}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[q]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Tt,this._nodeCapacity=null,arguments.length===0)f.constructor_.call(this,f.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var a=arguments[0];me.isTrue(a>1,"Node capacity must be greater than 1"),this._nodeCapacity=a}}},{key:"compareDoubles",value:function(a,o){return a>o?1:a<o?-1:0}}])})();La.IntersectsOp=function(){},La.DEFAULT_NODE_CAPACITY=10;var ro=(function(){return c((function f(){i(this,f)}),[{key:"distance",value:function(f,a){}}])})(),ca=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"createParentBoundablesFromVerticalSlices",value:function(o,d){me.isTrue(o.length>0);for(var C=new Tt,B=0;B<o.length;B++)C.addAll(this.createParentBoundablesFromVerticalSlice(o[B],d));return C}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.nearestNeighbourK(o,Le.POSITIVE_INFINITY,d)}if(arguments.length===3){var C=arguments[0],B=arguments[2],K=arguments[1],se=new _o;se.add(C);for(var xe=new _o;!se.isEmpty()&&K>=0;){var $e=se.poll(),st=$e.getDistance();if(st>=K)break;$e.isLeaves()?xe.size()<B?xe.add($e):(xe.peek().getDistance()>st&&(xe.poll(),xe.add($e)),K=xe.peek().getDistance()):$e.expandToQueue(se,K)}return a.getItems(xe)}}},{key:"createNode",value:function(o){return new z(o)}},{key:"size",value:function(){return arguments.length===0?N(a,"size",this,1).call(this):N(a,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof We))return N(a,"insert",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];if(o.isNull())return null;N(a,"insert",this,1).call(this,o,d)}},{key:"getIntersectsOp",value:function(){return a.intersectsOp}},{key:"verticalSlices",value:function(o,d){for(var C=Math.trunc(Math.ceil(o.size()/d)),B=new Array(d).fill(null),K=o.iterator(),se=0;se<d;se++){B[se]=new Tt;for(var xe=0;K.hasNext()&&xe<C;){var $e=K.next();B[se].add($e),xe++}}return B}},{key:"query",value:function(){if(arguments.length===1){var o=arguments[0];return N(a,"query",this,1).call(this,o)}if(arguments.length===2){var d=arguments[0],C=arguments[1];N(a,"query",this,1).call(this,d,C)}}},{key:"getComparator",value:function(){return a.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(o,d){return N(a,"createParentBoundables",this,1).call(this,o,d)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof We){var o=arguments[0],d=arguments[1];return N(a,"remove",this,1).call(this,o,d)}return N(a,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?N(a,"depth",this,1).call(this):N(a,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(o,d){me.isTrue(!o.isEmpty());var C=Math.trunc(Math.ceil(o.size()/this.getNodeCapacity())),B=new Tt(o);ua.sort(B,a.xComparator);var K=this.verticalSlices(B,Math.trunc(Math.ceil(Math.sqrt(C))));return this.createParentBoundablesFromVerticalSlices(K,d)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Et(arguments[0],ro)){var o=arguments[0];if(this.isEmpty())return null;var d=new Bi(this.getRoot(),this.getRoot(),o);return this.nearestNeighbour(d)}if(arguments[0]instanceof Bi){var C=arguments[0],B=Le.POSITIVE_INFINITY,K=null,se=new _o;for(se.add(C);!se.isEmpty()&&B>0;){var xe=se.poll(),$e=xe.getDistance();if($e>=B)break;xe.isLeaves()?(B=$e,K=xe):xe.expandToQueue(se,B)}return K===null?null:[K.getBoundable(0).getItem(),K.getBoundable(1).getItem()]}}else{if(arguments.length===2){var st=arguments[0],_t=arguments[1];if(this.isEmpty()||st.isEmpty())return null;var Yt=new Bi(this.getRoot(),st.getRoot(),_t);return this.nearestNeighbour(Yt)}if(arguments.length===3){var pn=arguments[2],Pn=new Yn(arguments[0],arguments[1]),$n=new Bi(this.getRoot(),Pn,pn);return this.nearestNeighbour($n)[0]}if(arguments.length===4){var Mr=arguments[2],hr=arguments[3],Ur=new Yn(arguments[0],arguments[1]),ti=new Bi(this.getRoot(),Ur,Mr);return this.nearestNeighbourK(ti,hr)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1],C=Le.POSITIVE_INFINITY,B=new _o;for(B.add(o);!B.isEmpty();){var K=B.poll(),se=K.getDistance();if(se>d)return!1;if(K.maximumDistance()<=d)return!0;if(K.isLeaves()){if((C=se)<=d)return!0}else K.expandToQueue(B,C)}return!1}if(arguments.length===3){var xe=arguments[0],$e=arguments[1],st=arguments[2],_t=new Bi(this.getRoot(),xe.getRoot(),$e);return this.isWithinDistance(_t,st)}}},{key:"interfaces_",get:function(){return[Kn,q]}}],[{key:"constructor_",value:function(){if(arguments.length===0)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var o=arguments[0];La.constructor_.call(this,o)}}},{key:"centreX",value:function(o){return a.avg(o.getMinX(),o.getMaxX())}},{key:"avg",value:function(o,d){return(o+d)/2}},{key:"getItems",value:function(o){for(var d=new Array(o.size()).fill(null),C=0;!o.isEmpty();){var B=o.poll();d[C]=B.getBoundable(0).getItem(),C++}return d}},{key:"centreY",value:function(o){return a.avg(o.getMinY(),o.getMaxY())}}])})(La),z=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"computeBounds",value:function(){for(var o=null,d=this.getChildBoundables().iterator();d.hasNext();){var C=d.next();o===null?o=new We(C.getBounds()):o.expandToInclude(C.getBounds())}return o}}],[{key:"constructor_",value:function(){var o=arguments[0];hi.constructor_.call(this,o)}}])})(hi);ca.STRtreeNode=z,ca.xComparator=new((function(){return c((function f(){i(this,f)}),[{key:"interfaces_",get:function(){return[Re]}},{key:"compare",value:function(f,a){return La.compareDoubles(ca.centreX(f.getBounds()),ca.centreX(a.getBounds()))}}])})()),ca.yComparator=new((function(){return c((function f(){i(this,f)}),[{key:"interfaces_",get:function(){return[Re]}},{key:"compare",value:function(f,a){return La.compareDoubles(ca.centreY(f.getBounds()),ca.centreY(a.getBounds()))}}])})()),ca.intersectsOp=new((function(){return c((function f(){i(this,f)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(f,a){return f.intersects(a)}}])})()),ca.DEFAULT_NODE_CAPACITY=10;var ye=(function(){function f(){i(this,f)}return c(f,null,[{key:"relativeSign",value:function(a,o){return a<o?-1:a>o?1:0}},{key:"compare",value:function(a,o,d){if(o.equals2D(d))return 0;var C=f.relativeSign(o.x,d.x),B=f.relativeSign(o.y,d.y);switch(a){case 0:return f.compareValue(C,B);case 1:return f.compareValue(B,C);case 2:return f.compareValue(B,-C);case 3:return f.compareValue(-C,B);case 4:return f.compareValue(-C,-B);case 5:return f.compareValue(-B,-C);case 6:return f.compareValue(-B,C);case 7:return f.compareValue(C,-B)}return me.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(a,o){return a<0?-1:a>0?1:o<0?-1:o>0?1:0}}])})(),ze=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(f){var a=f;return this.segmentIndex<a.segmentIndex?-1:this.segmentIndex>a.segmentIndex?1:this.coord.equals2D(a.coord)?0:this._isInterior?a._isInterior?ye.compare(this._segmentOctant,this.coord,a.coord):1:-1}},{key:"isEndPoint",value:function(f){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===f}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var f=arguments[0],a=arguments[1],o=arguments[2],d=arguments[3];this._segString=f,this.coord=new he(a),this.segmentIndex=o,this._segmentOctant=d,this._isInterior=!a.equals2D(f.getCoordinate(o))}}])})(),et=(function(){return c((function f(){i(this,f)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),pt=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var f=new yi;this.addEndpoints();for(var a=this.iterator(),o=a.next();a.hasNext();){var d=a.next();this.addEdgeCoordinates(o,d,f),o=d}return f.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var f=new Tt;this.findCollapsesFromInsertedNodes(f),this.findCollapsesFromExistingVertices(f);for(var a=f.iterator();a.hasNext();){var o=a.next().intValue();this.add(this._edge.getCoordinate(o),o)}}},{key:"createSplitEdgePts",value:function(f,a){var o=a.segmentIndex-f.segmentIndex+2;if(o===2)return[new he(f.coord),new he(a.coord)];var d=this._edge.getCoordinate(a.segmentIndex),C=a.isInterior()||!a.coord.equals2D(d);C||o--;var B=new Array(o).fill(null),K=0;B[K++]=new he(f.coord);for(var se=f.segmentIndex+1;se<=a.segmentIndex;se++)B[K++]=this._edge.getCoordinate(se);return C&&(B[K]=new he(a.coord)),B}},{key:"print",value:function(f){f.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"findCollapsesFromExistingVertices",value:function(f){for(var a=0;a<this._edge.size()-2;a++){var o=this._edge.getCoordinate(a);this._edge.getCoordinate(a+1);var d=this._edge.getCoordinate(a+2);o.equals2D(d)&&f.add(nn.valueOf(a+1))}}},{key:"addEdgeCoordinates",value:function(f,a,o){var d=this.createSplitEdgePts(f,a);o.add(d,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(f){this.addEndpoints(),this.addCollapsedNodes();for(var a=this.iterator(),o=a.next();a.hasNext();){var d=a.next(),C=this.createSplitEdge(o,d);f.add(C),o=d}}},{key:"findCollapseIndex",value:function(f,a,o){if(!f.coord.equals2D(a.coord))return!1;var d=a.segmentIndex-f.segmentIndex;return a.isInterior()||d--,d===1&&(o[0]=f.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(f){for(var a=new Array(1).fill(null),o=this.iterator(),d=o.next();o.hasNext();){var C=o.next();this.findCollapseIndex(d,C,a)&&f.add(nn.valueOf(a[0])),d=C}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var f=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(f),f)}},{key:"createSplitEdge",value:function(f,a){var o=this.createSplitEdgePts(f,a);return new Cn(o,this._edge.getData())}},{key:"add",value:function(f,a){var o=new ze(this._edge,f,a,this._edge.getSegmentOctant(a)),d=this._nodeMap.get(o);return d!==null?(me.isTrue(d.coord.equals2D(f),"Found equal nodes with different coordinates"),d):(this._nodeMap.put(o,o),o)}},{key:"checkSplitEdgesCorrectness",value:function(f){var a=this._edge.getCoordinates(),o=f.get(0).getCoordinate(0);if(!o.equals2D(a[0]))throw new ne("bad split edge start point at "+o);var d=f.get(f.size()-1).getCoordinates(),C=d[d.length-1];if(!C.equals2D(a[a.length-1]))throw new ne("bad split edge end point at "+C)}}],[{key:"constructor_",value:function(){this._nodeMap=new Kr,this._edge=null;var f=arguments[0];this._edge=f}}])})(),$t=(function(){function f(){i(this,f)}return c(f,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var a=arguments[0],o=arguments[1];if(a===0&&o===0)throw new G("Cannot compute the octant for point ( "+a+", "+o+" )");var d=Math.abs(a),C=Math.abs(o);return a>=0?o>=0?d>=C?0:1:d>=C?7:6:o>=0?d>=C?3:2:d>=C?4:5}if(arguments[0]instanceof he&&arguments[1]instanceof he){var B=arguments[0],K=arguments[1],se=K.x-B.x,xe=K.y-B.y;if(se===0&&xe===0)throw new G("Cannot compute the octant for two identical points "+B);return f.octant(se,xe)}}}])})(),Qt=(function(){return c((function f(){i(this,f)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(f){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(f){}},{key:"getData",value:function(){}}])})(),Mn=(function(){return c((function f(){i(this,f)}),[{key:"addIntersection",value:function(f,a){}},{key:"interfaces_",get:function(){return[Qt]}}])})(),Cn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(a){return this._pts[a]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(a){return a===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))}},{key:"setData",value:function(a){this._data=a}},{key:"safeOctant",value:function(a,o){return a.equals2D(o)?0:$t.octant(a,o)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var a=arguments[0],o=arguments[1];this.addIntersectionNode(a,o)}else if(arguments.length===4){var d=arguments[1],C=arguments[3],B=new he(arguments[0].getIntersection(C));this.addIntersection(B,d)}}},{key:"toString",value:function(){return er.toLineString(new rr(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(a,o){var d=o,C=d+1;if(C<this._pts.length){var B=this._pts[C];a.equals2D(B)&&(d=C)}return this._nodeList.add(a,d)}},{key:"addIntersections",value:function(a,o,d){for(var C=0;C<a.getIntersectionNum();C++)this.addIntersection(a,o,d,C)}},{key:"interfaces_",get:function(){return[Mn]}}],[{key:"constructor_",value:function(){this._nodeList=new pt(this),this._pts=null,this._data=null;var a=arguments[0],o=arguments[1];this._pts=a,this._data=o}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var a=arguments[0],o=new Tt;return f.getNodedSubstrings(a,o),o}if(arguments.length===2)for(var d=arguments[1],C=arguments[0].iterator();C.hasNext();)C.next().getNodeList().addSplitEdges(d)}}])})(),Tn=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof f){var a=arguments[0],o=ht.index(this.p0,this.p1,a.p0),d=ht.index(this.p0,this.p1,a.p1);return o>=0&&d>=0||o<=0&&d<=0?Math.max(o,d):0}if(arguments[0]instanceof he){var C=arguments[0];return ht.index(this.p0,this.p1,C)}}},{key:"toGeometry",value:function(a){return a.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(a){if(!(a instanceof f))return!1;var o=a;return this.p0.equals(o.p0)&&this.p1.equals(o.p1)}},{key:"intersection",value:function(a){var o=new oi;return o.computeIntersection(this.p0,this.p1,a.p0,a.p1),o.hasIntersection()?o.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof he){var a=arguments[0];if(a.equals(this.p0)||a.equals(this.p1))return new he(a);var o=this.projectionFactor(a),d=new he;return d.x=this.p0.x+o*(this.p1.x-this.p0.x),d.y=this.p0.y+o*(this.p1.y-this.p0.y),d}if(arguments[0]instanceof f){var C=arguments[0],B=this.projectionFactor(C.p0),K=this.projectionFactor(C.p1);if(B>=1&&K>=1||B<=0&&K<=0)return null;var se=this.project(C.p0);B<0&&(se=this.p0),B>1&&(se=this.p1);var xe=this.project(C.p1);return K<0&&(xe=this.p0),K>1&&(xe=this.p1),new f(se,xe)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(a){return a===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(a){return Bn.pointToLinePerpendicular(a,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return f.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var o=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,C=o*o+d*d;return C<=0?Le.NaN:((a.x-this.p0.x)*o+(a.y-this.p0.y)*d)/C}},{key:"closestPoints",value:function(a){var o=this.intersection(a);if(o!==null)return[o,o];var d=new Array(2).fill(null),C=Le.MAX_VALUE,B=null,K=this.closestPoint(a.p0);C=K.distance(a.p0),d[0]=K,d[1]=a.p0;var se=this.closestPoint(a.p1);(B=se.distance(a.p1))<C&&(C=B,d[0]=se,d[1]=a.p1);var xe=a.closestPoint(this.p0);(B=xe.distance(this.p0))<C&&(C=B,d[0]=this.p0,d[1]=xe);var $e=a.closestPoint(this.p1);return(B=$e.distance(this.p1))<C&&(C=B,d[0]=this.p1,d[1]=$e),d}},{key:"closestPoint",value:function(a){var o=this.projectionFactor(a);return o>0&&o<1?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(a){var o=a,d=this.p0.compareTo(o.p0);return d!==0?d:this.p1.compareTo(o.p1)}},{key:"reverse",value:function(){var a=this.p0;this.p0=this.p1,this.p1=a}},{key:"equalsTopo",value:function(a){return this.p0.equals(a.p0)&&this.p1.equals(a.p1)||this.p0.equals(a.p1)&&this.p1.equals(a.p0)}},{key:"lineIntersection",value:function(a){return ln.intersection(this.p0,this.p1,a.p0,a.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(a,o){var d=this.p0.x+a*(this.p1.x-this.p0.x),C=this.p0.y+a*(this.p1.y-this.p0.y),B=this.p1.x-this.p0.x,K=this.p1.y-this.p0.y,se=Math.sqrt(B*B+K*K),xe=0,$e=0;if(o!==0){if(se<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");xe=o*B/se,$e=o*K/se}return new he(d-$e,C+xe)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0.x=o.x,this.p0.y=o.y,this.p1.x=d.x,this.p1.y=d.y}}},{key:"segmentFraction",value:function(a){var o=this.projectionFactor(a);return o<0?o=0:(o>1||Le.isNaN(o))&&(o=1),o}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(a){var o=this.p1.getY()-this.p0.getY(),d=this.p0.getX()-this.p1.getX(),C=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),B=o*o+d*d,K=o*o-d*d,se=a.getX(),xe=a.getY();return new he((-K*se-2*o*d*xe-2*o*C)/B,(K*xe-2*o*d*se-2*d*C)/B)}},{key:"distance",value:function(){if(arguments[0]instanceof f){var a=arguments[0];return Bn.segmentToSegment(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof he){var o=arguments[0];return Bn.pointToSegment(o,this.p0,this.p1)}}},{key:"pointAlong",value:function(a){var o=new he;return o.x=this.p0.x+a*(this.p1.x-this.p0.x),o.y=this.p0.y+a*(this.p1.y-this.p0.y),o}},{key:"hashCode",value:function(){var a=Le.doubleToLongBits(this.p0.x);a^=31*Le.doubleToLongBits(this.p0.y);var o=Math.trunc(a)^Math.trunc(a>>32),d=Le.doubleToLongBits(this.p1.x);return d^=31*Le.doubleToLongBits(this.p1.y),o^(Math.trunc(d)^Math.trunc(d>>32))}},{key:"interfaces_",get:function(){return[ee,q]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)f.constructor_.call(this,new he,new he);else if(arguments.length===1){var a=arguments[0];f.constructor_.call(this,a.p0,a.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0=o,this.p1=d}else if(arguments.length===4){var C=arguments[0],B=arguments[1],K=arguments[2],se=arguments[3];f.constructor_.call(this,new he(C,B),new he(K,se))}}},{key:"midPoint",value:function(a,o){return new he((a.x+o.x)/2,(a.y+o.y)/2)}}])})(),ir=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var f=arguments[1],a=arguments[2],o=arguments[3];arguments[0].getLineSegment(f,this._overlapSeg1),a.getLineSegment(o,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Tn,this._overlapSeg2=new Tn}}])})(),Sr=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(f,a){a.p0=this._pts[f],a.p1=this._pts[f+1]}},{key:"computeSelect",value:function(f,a,o,d){var C=this._pts[a],B=this._pts[o];if(o-a==1)return d.select(this,a),null;if(!f.intersects(C,B))return null;var K=Math.trunc((a+o)/2);a<K&&this.computeSelect(f,a,K,d),K<o&&this.computeSelect(f,K,o,d)}},{key:"getCoordinates",value:function(){for(var f=new Array(this._end-this._start+1).fill(null),a=0,o=this._start;o<=this._end;o++)f[a++]=this._pts[o];return f}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var f=arguments[0],a=arguments[1];this.computeOverlaps(this._start,this._end,f,f._start,f._end,a)}else if(arguments.length===6){var o=arguments[0],d=arguments[1],C=arguments[2],B=arguments[3],K=arguments[4],se=arguments[5];if(d-o==1&&K-B==1)return se.overlap(this,o,C,B),null;if(!this.overlaps(o,d,C,B,K))return null;var xe=Math.trunc((o+d)/2),$e=Math.trunc((B+K)/2);o<xe&&(B<$e&&this.computeOverlaps(o,xe,C,B,$e,se),$e<K&&this.computeOverlaps(o,xe,C,$e,K,se)),xe<d&&(B<$e&&this.computeOverlaps(xe,d,C,B,$e,se),$e<K&&this.computeOverlaps(xe,d,C,$e,K,se))}}},{key:"setId",value:function(f){this._id=f}},{key:"select",value:function(f,a){this.computeSelect(f,this._start,this._end,a)}},{key:"getEnvelope",value:function(){if(this._env===null){var f=this._pts[this._start],a=this._pts[this._end];this._env=new We(f,a)}return this._env}},{key:"overlaps",value:function(f,a,o,d,C){return We.intersects(this._pts[f],this._pts[a],o._pts[d],o._pts[C])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var f=arguments[0],a=arguments[1],o=arguments[2],d=arguments[3];this._pts=f,this._start=a,this._end=o,this._context=d}}])})(),li=(function(){function f(){i(this,f)}return c(f,null,[{key:"findChainEnd",value:function(a,o){for(var d=o;d<a.length-1&&a[d].equals2D(a[d+1]);)d++;if(d>=a.length-1)return a.length-1;for(var C=si.quadrant(a[d],a[d+1]),B=o+1;B<a.length&&!(!a[B-1].equals2D(a[B])&&si.quadrant(a[B-1],a[B])!==C);)B++;return B-1}},{key:"getChains",value:function(){if(arguments.length===1){var a=arguments[0];return f.getChains(a,null)}if(arguments.length===2){var o=arguments[0],d=arguments[1],C=new Tt,B=0;do{var K=f.findChainEnd(o,B),se=new Sr(o,B,K,d);C.add(se),B=K}while(B<o.length-1);return C}}}])})(),vr=(function(){return c((function f(){i(this,f)}),[{key:"computeNodes",value:function(f){}},{key:"getNodedSubstrings",value:function(){}}])})(),ar=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(f){this._segInt=f}},{key:"interfaces_",get:function(){return[vr]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var f=arguments[0];this.setSegmentIntersector(f)}}}}])})(),di=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Cn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(o){for(var d=li.getChains(o.getCoordinates(),o).iterator();d.hasNext();){var C=d.next();C.setId(this._idCounter++),this._index.insert(C.getEnvelope(),C),this._monoChains.add(C)}}},{key:"computeNodes",value:function(o){this._nodedSegStrings=o;for(var d=o.iterator();d.hasNext();)this.add(d.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var o=new Xr(this._segInt),d=this._monoChains.iterator();d.hasNext();)for(var C=d.next(),B=this._index.query(C.getEnvelope()).iterator();B.hasNext();){var K=B.next();if(K.getId()>C.getId()&&(C.computeOverlaps(K,o),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Tt,this._index=new ca,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var o=arguments[0];ar.constructor_.call(this,o)}}}}])})(ar),Xr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"overlap",value:function(){if(arguments.length!==4)return N(a,"overlap",this,1).apply(this,arguments);var o=arguments[1],d=arguments[2],C=arguments[3],B=arguments[0].getContext(),K=d.getContext();this._si.processIntersections(B,o,K,C)}}],[{key:"constructor_",value:function(){this._si=null;var o=arguments[0];this._si=o}}])})(ir);di.SegmentOverlapAction=Xr;var Ir=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isDeletable",value:function(a,o,d,C){var B=this._inputLine[a],K=this._inputLine[o],se=this._inputLine[d];return!!this.isConcave(B,K,se)&&!!this.isShallow(B,K,se,C)&&this.isShallowSampled(B,K,a,d,C)}},{key:"deleteShallowConcavities",value:function(){for(var a=1,o=this.findNextNonDeletedIndex(a),d=this.findNextNonDeletedIndex(o),C=!1;d<this._inputLine.length;){var B=!1;this.isDeletable(a,o,d,this._distanceTol)&&(this._isDeleted[o]=f.DELETE,B=!0,C=!0),a=B?d:o,o=this.findNextNonDeletedIndex(a),d=this.findNextNonDeletedIndex(o)}return C}},{key:"isShallowConcavity",value:function(a,o,d,C){return ht.index(a,o,d)===this._angleOrientation&&Bn.pointToSegment(o,a,d)<C}},{key:"isShallowSampled",value:function(a,o,d,C,B){var K=Math.trunc((C-d)/f.NUM_PTS_TO_CHECK);K<=0&&(K=1);for(var se=d;se<C;se+=K)if(!this.isShallow(a,o,this._inputLine[se],B))return!1;return!0}},{key:"isConcave",value:function(a,o,d){var C=ht.index(a,o,d)===this._angleOrientation;return C}},{key:"simplify",value:function(a){this._distanceTol=Math.abs(a),a<0&&(this._angleOrientation=ht.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var o=!1;do o=this.deleteShallowConcavities();while(o);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(a){for(var o=a+1;o<this._inputLine.length&&this._isDeleted[o]===f.DELETE;)o++;return o}},{key:"isShallow",value:function(a,o,d,C){return Bn.pointToSegment(o,a,d)<C}},{key:"collapseLine",value:function(){for(var a=new yi,o=0;o<this._inputLine.length;o++)this._isDeleted[o]!==f.DELETE&&a.add(this._inputLine[o]);return a.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ht.COUNTERCLOCKWISE;var a=arguments[0];this._inputLine=a}},{key:"simplify",value:function(a,o){return new f(a).simplify(o)}}])})();Ir.INIT=0,Ir.DELETE=1,Ir.KEEP=1,Ir.NUM_PTS_TO_CHECK=10;var Di=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getCoordinates",value:function(){return this._ptList.toArray(f.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(a){this._precisionModel=a}},{key:"addPt",value:function(a){var o=new he(a);if(this._precisionModel.makePrecise(o),this.isRedundant(o))return null;this._ptList.add(o)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(a,o){if(o)for(var d=0;d<a.length;d++)this.addPt(a[d]);else for(var C=a.length-1;C>=0;C--)this.addPt(a[C])}},{key:"isRedundant",value:function(a){if(this._ptList.size()<1)return!1;var o=this._ptList.get(this._ptList.size()-1);return a.distance(o)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Dr().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var a=new he(this._ptList.get(0)),o=this._ptList.get(this._ptList.size()-1);if(a.equals(o))return null;this._ptList.add(a)}},{key:"setMinimumVertexDistance",value:function(a){this._minimimVertexDistance=a}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Tt}}])})();Di.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Er=(function(){function f(){i(this,f)}return c(f,null,[{key:"toDegrees",value:function(a){return 180*a/Math.PI}},{key:"normalize",value:function(a){for(;a>Math.PI;)a-=f.PI_TIMES_2;for(;a<=-Math.PI;)a+=f.PI_TIMES_2;return a}},{key:"angle",value:function(){if(arguments.length===1){var a=arguments[0];return Math.atan2(a.y,a.x)}if(arguments.length===2){var o=arguments[0],d=arguments[1],C=d.x-o.x,B=d.y-o.y;return Math.atan2(B,C)}}},{key:"isAcute",value:function(a,o,d){var C=a.x-o.x,B=a.y-o.y;return C*(d.x-o.x)+B*(d.y-o.y)>0}},{key:"isObtuse",value:function(a,o,d){var C=a.x-o.x,B=a.y-o.y;return C*(d.x-o.x)+B*(d.y-o.y)<0}},{key:"interiorAngle",value:function(a,o,d){var C=f.angle(o,a),B=f.angle(o,d);return Math.abs(B-C)}},{key:"normalizePositive",value:function(a){if(a<0){for(;a<0;)a+=f.PI_TIMES_2;a>=f.PI_TIMES_2&&(a=0)}else{for(;a>=f.PI_TIMES_2;)a-=f.PI_TIMES_2;a<0&&(a=0)}return a}},{key:"angleBetween",value:function(a,o,d){var C=f.angle(o,a),B=f.angle(o,d);return f.diff(C,B)}},{key:"diff",value:function(a,o){var d=null;return(d=a<o?o-a:a-o)>Math.PI&&(d=2*Math.PI-d),d}},{key:"toRadians",value:function(a){return a*Math.PI/180}},{key:"getTurn",value:function(a,o){var d=Math.sin(o-a);return d>0?f.COUNTERCLOCKWISE:d<0?f.CLOCKWISE:f.NONE}},{key:"angleBetweenOriented",value:function(a,o,d){var C=f.angle(o,a),B=f.angle(o,d)-C;return B<=-Math.PI?B+f.PI_TIMES_2:B>Math.PI?B-f.PI_TIMES_2:B}}])})();Er.PI_TIMES_2=2*Math.PI,Er.PI_OVER_2=Math.PI/2,Er.PI_OVER_4=Math.PI/4,Er.COUNTERCLOCKWISE=ht.COUNTERCLOCKWISE,Er.CLOCKWISE=ht.CLOCKWISE,Er.NONE=ht.COLLINEAR;var ha=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"addNextSegment",value:function(a,o){if(this._s0=this._s1,this._s1=this._s2,this._s2=a,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var d=ht.index(this._s0,this._s1,this._s2),C=d===ht.CLOCKWISE&&this._side===Xe.LEFT||d===ht.COUNTERCLOCKWISE&&this._side===Xe.RIGHT;d===0?this.addCollinear(o):C?this.addOutsideTurn(d,o):this.addInsideTurn(d,o)}},{key:"addLineEndCap",value:function(a,o){var d=new Tn(a,o),C=new Tn;this.computeOffsetSegment(d,Xe.LEFT,this._distance,C);var B=new Tn;this.computeOffsetSegment(d,Xe.RIGHT,this._distance,B);var K=o.x-a.x,se=o.y-a.y,xe=Math.atan2(se,K);switch(this._bufParams.getEndCapStyle()){case R.CAP_ROUND:this._segList.addPt(C.p1),this.addDirectedFillet(o,xe+Math.PI/2,xe-Math.PI/2,ht.CLOCKWISE,this._distance),this._segList.addPt(B.p1);break;case R.CAP_FLAT:this._segList.addPt(C.p1),this._segList.addPt(B.p1);break;case R.CAP_SQUARE:var $e=new he;$e.x=Math.abs(this._distance)*Math.cos(xe),$e.y=Math.abs(this._distance)*Math.sin(xe);var st=new he(C.p1.x+$e.x,C.p1.y+$e.y),_t=new he(B.p1.x+$e.x,B.p1.y+$e.y);this._segList.addPt(st),this._segList.addPt(_t)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(a,o,d,C){var B=ln.intersection(o.p0,o.p1,d.p0,d.p1);if(B!==null&&(C<=0?1:B.distance(a)/Math.abs(C))<=this._bufParams.getMitreLimit())return this._segList.addPt(B),null;this.addLimitedMitreJoin(o,d,C,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(a,o){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*f.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===R.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===R.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(o&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,a,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(a){this._segList.addPt(new he(a.x+this._distance,a.y+this._distance)),this._segList.addPt(new he(a.x+this._distance,a.y-this._distance)),this._segList.addPt(new he(a.x-this._distance,a.y-this._distance)),this._segList.addPt(new he(a.x-this._distance,a.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(a,o){this._segList.addPts(a,o)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(a,o,d,C,B){var K=o.x-a.x,se=o.y-a.y,xe=Math.atan2(se,K),$e=d.x-a.x,st=d.y-a.y,_t=Math.atan2(st,$e);C===ht.CLOCKWISE?xe<=_t&&(xe+=2*Math.PI):xe>=_t&&(xe-=2*Math.PI),this._segList.addPt(o),this.addDirectedFillet(a,xe,_t,C,B),this._segList.addPt(d)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(a,o,d){this._s1=a,this._s2=o,this._side=d,this._seg1.setCoordinates(a,o),this.computeOffsetSegment(this._seg1,d,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(a,o,d,C){var B=this._seg0.p1,K=Er.angle(B,this._seg0.p0),se=Er.angleBetweenOriented(this._seg0.p0,B,this._seg1.p1)/2,xe=Er.normalize(K+se),$e=Er.normalize(xe+Math.PI),st=C*d,_t=d-st*Math.abs(Math.sin(se)),Yt=B.x+st*Math.cos($e),pn=B.y+st*Math.sin($e),Pn=new he(Yt,pn),$n=new Tn(B,Pn),Mr=$n.pointAlongOffset(1,_t),hr=$n.pointAlongOffset(1,-_t);this._side===Xe.LEFT?(this._segList.addPt(Mr),this._segList.addPt(hr)):(this._segList.addPt(hr),this._segList.addPt(Mr))}},{key:"addDirectedFillet",value:function(a,o,d,C,B){var K=C===ht.CLOCKWISE?-1:1,se=Math.abs(o-d),xe=Math.trunc(se/this._filletAngleQuantum+.5);if(xe<1)return null;for(var $e=se/xe,st=new he,_t=0;_t<xe;_t++){var Yt=o+K*_t*$e;st.x=a.x+B*Math.cos(Yt),st.y=a.y+B*Math.sin(Yt),this._segList.addPt(st)}}},{key:"computeOffsetSegment",value:function(a,o,d,C){var B=o===Xe.LEFT?1:-1,K=a.p1.x-a.p0.x,se=a.p1.y-a.p0.y,xe=Math.sqrt(K*K+se*se),$e=B*d*K/xe,st=B*d*se/xe;C.p0.x=a.p0.x-st,C.p0.y=a.p0.y+$e,C.p1.x=a.p1.x-st,C.p1.y=a.p1.y+$e}},{key:"addInsideTurn",value:function(a,o){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*f.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var d=new he((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d);var C=new he((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(C)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(a){var o=new he(a.x+this._distance,a.y);this._segList.addPt(o),this.addDirectedFillet(a,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(a,o){this._segList.addPt(a.p1),this._segList.addPt(o.p0)}},{key:"init",value:function(a){this._distance=a,this._maxCurveSegmentError=a*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Di,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(a*f.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(a){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===R.JOIN_BEVEL||this._bufParams.getJoinStyle()===R.JOIN_MITRE?(a&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,ht.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Tn,this._seg1=new Tn,this._offset0=new Tn,this._offset1=new Tn,this._side=0,this._hasNarrowConcaveAngle=!1;var a=arguments[0],o=arguments[1],d=arguments[2];this._precisionModel=a,this._bufParams=o,this._li=new oi,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===R.JOIN_ROUND&&(this._closingSegLengthFactor=f.MAX_CLOSING_SEG_LEN_FACTOR),this.init(d)}}])})();ha.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,ha.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,ha.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,ha.MAX_CLOSING_SEG_LEN_FACTOR=80;var bo=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getOffsetCurve",value:function(a,o){if(this._distance=o,o===0)return null;var d=o<0,C=Math.abs(o),B=this.getSegGen(C);a.length<=1?this.computePointCurve(a[0],B):this.computeOffsetCurve(a,d,B);var K=B.getCoordinates();return d&&mr.reverse(K),K}},{key:"computeSingleSidedBufferCurve",value:function(a,o,d){var C=this.simplifyTolerance(this._distance);if(o){d.addSegments(a,!0);var B=Ir.simplify(a,-C),K=B.length-1;d.initSideSegments(B[K],B[K-1],Xe.LEFT),d.addFirstSegment();for(var se=K-2;se>=0;se--)d.addNextSegment(B[se],!0)}else{d.addSegments(a,!1);var xe=Ir.simplify(a,C),$e=xe.length-1;d.initSideSegments(xe[0],xe[1],Xe.LEFT),d.addFirstSegment();for(var st=2;st<=$e;st++)d.addNextSegment(xe[st],!0)}d.addLastSegment(),d.closeRing()}},{key:"computeRingBufferCurve",value:function(a,o,d){var C=this.simplifyTolerance(this._distance);o===Xe.RIGHT&&(C=-C);var B=Ir.simplify(a,C),K=B.length-1;d.initSideSegments(B[K-1],B[0],o);for(var se=1;se<=K;se++){var xe=se!==1;d.addNextSegment(B[se],xe)}d.closeRing()}},{key:"computeLineBufferCurve",value:function(a,o){var d=this.simplifyTolerance(this._distance),C=Ir.simplify(a,d),B=C.length-1;o.initSideSegments(C[0],C[1],Xe.LEFT);for(var K=2;K<=B;K++)o.addNextSegment(C[K],!0);o.addLastSegment(),o.addLineEndCap(C[B-1],C[B]);var se=Ir.simplify(a,-d),xe=se.length-1;o.initSideSegments(se[xe],se[xe-1],Xe.LEFT);for(var $e=xe-2;$e>=0;$e--)o.addNextSegment(se[$e],!0);o.addLastSegment(),o.addLineEndCap(se[1],se[0]),o.closeRing()}},{key:"computePointCurve",value:function(a,o){switch(this._bufParams.getEndCapStyle()){case R.CAP_ROUND:o.createCircle(a);break;case R.CAP_SQUARE:o.createSquare(a)}}},{key:"getLineCurve",value:function(a,o){if(this._distance=o,this.isLineOffsetEmpty(o))return null;var d=Math.abs(o),C=this.getSegGen(d);if(a.length<=1)this.computePointCurve(a[0],C);else if(this._bufParams.isSingleSided()){var B=o<0;this.computeSingleSidedBufferCurve(a,B,C)}else this.computeLineBufferCurve(a,C);return C.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(a){return a*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(a,o,d){if(this._distance=d,a.length<=2)return this.getLineCurve(a,d);if(d===0)return f.copyCoordinates(a);var C=this.getSegGen(d);return this.computeRingBufferCurve(a,o,C),C.getCoordinates()}},{key:"computeOffsetCurve",value:function(a,o,d){var C=this.simplifyTolerance(this._distance);if(o){var B=Ir.simplify(a,-C),K=B.length-1;d.initSideSegments(B[K],B[K-1],Xe.LEFT),d.addFirstSegment();for(var se=K-2;se>=0;se--)d.addNextSegment(B[se],!0)}else{var xe=Ir.simplify(a,C),$e=xe.length-1;d.initSideSegments(xe[0],xe[1],Xe.LEFT),d.addFirstSegment();for(var st=2;st<=$e;st++)d.addNextSegment(xe[st],!0)}d.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(a){return a===0||a<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(a){return new ha(this._precisionModel,this._bufParams,a)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var a=arguments[0],o=arguments[1];this._precisionModel=a,this._bufParams=o}},{key:"copyCoordinates",value:function(a){for(var o=new Array(a.length).fill(null),d=0;d<o.length;d++)o[d]=new he(a[d]);return o}}])})(),bi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var f=arguments[0],a=new Tt,o=this._subgraphs.iterator();o.hasNext();){var d=o.next(),C=d.getEnvelope();f.y<C.getMinY()||f.y>C.getMaxY()||this.findStabbedSegments(f,d.getDirectedEdges(),a)}return a}if(arguments.length===3){if(Et(arguments[2],mt)&&arguments[0]instanceof he&&arguments[1]instanceof Bo){for(var B=arguments[0],K=arguments[1],se=arguments[2],xe=K.getEdge().getCoordinates(),$e=0;$e<xe.length-1;$e++)if(this._seg.p0=xe[$e],this._seg.p1=xe[$e+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<B.x||this._seg.isHorizontal()||B.y<this._seg.p0.y||B.y>this._seg.p1.y||ht.index(this._seg.p0,this._seg.p1,B)===ht.RIGHT)){var st=K.getDepth(Xe.LEFT);this._seg.p0.equals(xe[$e])||(st=K.getDepth(Xe.RIGHT));var _t=new xi(this._seg,st);se.add(_t)}}else if(Et(arguments[2],mt)&&arguments[0]instanceof he&&Et(arguments[1],mt))for(var Yt=arguments[0],pn=arguments[2],Pn=arguments[1].iterator();Pn.hasNext();){var $n=Pn.next();$n.isForward()&&this.findStabbedSegments(Yt,$n,pn)}}}},{key:"getDepth",value:function(f){var a=this.findStabbedSegments(f);return a.size()===0?0:ua.min(a)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Tn;var f=arguments[0];this._subgraphs=f}}])})(),xi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(f){var a=f;if(this._upwardSeg.minX()>=a._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=a._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(a._upwardSeg);return o!==0||(o=-1*a._upwardSeg.orientationIndex(this._upwardSeg))!==0?o:this._upwardSeg.compareTo(a._upwardSeg)}},{key:"compareX",value:function(f,a){var o=f.p0.compareTo(a.p0);return o!==0?o:f.p1.compareTo(a.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var f=arguments[0],a=arguments[1];this._upwardSeg=new Tn(f),this._leftDepth=a}}])})();bi.DepthSegment=xi;var io=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,null,[{key:"constructor_",value:function(){$.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})($),Na=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getY",value:function(){var a=this.y/this.w;if(Le.isNaN(a)||Le.isInfinite(a))throw new io;return a}},{key:"getX",value:function(){var a=this.x/this.w;if(Le.isNaN(a)||Le.isInfinite(a))throw new io;return a}},{key:"getCoordinate",value:function(){var a=new he;return a.x=this.getX(),a.y=this.getY(),a}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var o=arguments[0],d=arguments[1];this.x=o,this.y=d,this.w=1}else if(arguments[0]instanceof f&&arguments[1]instanceof f){var C=arguments[0],B=arguments[1];this.x=C.y*B.w-B.y*C.w,this.y=B.x*C.w-C.x*B.w,this.w=C.x*B.y-B.x*C.y}else if(arguments[0]instanceof he&&arguments[1]instanceof he){var K=arguments[0],se=arguments[1];this.x=K.y-se.y,this.y=se.x-K.x,this.w=K.x*se.y-se.x*K.y}}else if(arguments.length===3){var xe=arguments[0],$e=arguments[1],st=arguments[2];this.x=xe,this.y=$e,this.w=st}else if(arguments.length===4){var _t=arguments[0],Yt=arguments[1],pn=arguments[2],Pn=arguments[3],$n=_t.y-Yt.y,Mr=Yt.x-_t.x,hr=_t.x*Yt.y-Yt.x*_t.y,Ur=pn.y-Pn.y,ti=Pn.x-pn.x,ki=pn.x*Pn.y-Pn.x*pn.y;this.x=Mr*ki-ti*hr,this.y=Ur*hr-$n*ki,this.w=$n*ti-Ur*Mr}}}])})(),ao=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"area",value:function(){return f.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return f.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(a){if(a===null)throw new G("Supplied point is null.");return f.interpolateZ(a,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return f.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return f.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return f.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return f.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return f.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return f.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var a=arguments[0],o=arguments[1],d=arguments[2];this.p0=a,this.p1=o,this.p2=d}},{key:"area",value:function(a,o,d){return Math.abs(((d.x-a.x)*(o.y-a.y)-(o.x-a.x)*(d.y-a.y))/2)}},{key:"signedArea",value:function(a,o,d){return((d.x-a.x)*(o.y-a.y)-(o.x-a.x)*(d.y-a.y))/2}},{key:"det",value:function(a,o,d,C){return a*C-o*d}},{key:"interpolateZ",value:function(a,o,d,C){var B=o.x,K=o.y,se=d.x-B,xe=C.x-B,$e=d.y-K,st=C.y-K,_t=se*st-xe*$e,Yt=a.x-B,pn=a.y-K,Pn=(st*Yt-xe*pn)/_t,$n=(-$e*Yt+se*pn)/_t;return o.getZ()+Pn*(d.getZ()-o.getZ())+$n*(C.getZ()-o.getZ())}},{key:"longestSideLength",value:function(a,o,d){var C=a.distance(o),B=o.distance(d),K=d.distance(a),se=C;return B>se&&(se=B),K>se&&(se=K),se}},{key:"circumcentreDD",value:function(a,o,d){var C=Dt.valueOf(a.x).subtract(d.x),B=Dt.valueOf(a.y).subtract(d.y),K=Dt.valueOf(o.x).subtract(d.x),se=Dt.valueOf(o.y).subtract(d.y),xe=Dt.determinant(C,B,K,se).multiply(2),$e=C.sqr().add(B.sqr()),st=K.sqr().add(se.sqr()),_t=Dt.determinant(B,$e,se,st),Yt=Dt.determinant(C,$e,K,st),pn=Dt.valueOf(d.x).subtract(_t.divide(xe)).doubleValue(),Pn=Dt.valueOf(d.y).add(Yt.divide(xe)).doubleValue();return new he(pn,Pn)}},{key:"isAcute",value:function(a,o,d){return!!Er.isAcute(a,o,d)&&!!Er.isAcute(o,d,a)&&!!Er.isAcute(d,a,o)}},{key:"circumcentre",value:function(a,o,d){var C=d.x,B=d.y,K=a.x-C,se=a.y-B,xe=o.x-C,$e=o.y-B,st=2*f.det(K,se,xe,$e),_t=f.det(se,K*K+se*se,$e,xe*xe+$e*$e),Yt=f.det(K,K*K+se*se,xe,xe*xe+$e*$e);return new he(C-_t/st,B+Yt/st)}},{key:"perpendicularBisector",value:function(a,o){var d=o.x-a.x,C=o.y-a.y,B=new Na(a.x+d/2,a.y+C/2,1),K=new Na(a.x-C+d/2,a.y+d+C/2,1);return new Na(B,K)}},{key:"angleBisector",value:function(a,o,d){var C=o.distance(a),B=C/(C+o.distance(d)),K=d.x-a.x,se=d.y-a.y;return new he(a.x+B*K,a.y+B*se)}},{key:"area3D",value:function(a,o,d){var C=o.x-a.x,B=o.y-a.y,K=o.getZ()-a.getZ(),se=d.x-a.x,xe=d.y-a.y,$e=d.getZ()-a.getZ(),st=B*$e-K*xe,_t=K*se-C*$e,Yt=C*xe-B*se,pn=st*st+_t*_t+Yt*Yt,Pn=Math.sqrt(pn)/2;return Pn}},{key:"centroid",value:function(a,o,d){var C=(a.x+o.x+d.x)/3,B=(a.y+o.y+d.y)/3;return new he(C,B)}},{key:"inCentre",value:function(a,o,d){var C=o.distance(d),B=a.distance(d),K=a.distance(o),se=C+B+K,xe=(C*a.x+B*o.x+K*d.x)/se,$e=(C*a.y+B*o.y+K*d.y)/se;return new he(xe,$e)}}])})(),qr=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(f,a,o,d,C){if(a===0&&f.length<sr.MINIMUM_VALID_SIZE)return null;var B=d,K=C;f.length>=sr.MINIMUM_VALID_SIZE&&ht.isCCW(f)&&(B=C,K=d,o=Xe.opposite(o));var se=this._curveBuilder.getRingCurve(f,o,a);this.addCurve(se,B,K)}},{key:"addRingBothSides",value:function(f,a){this.addRingSide(f,a,Xe.LEFT,de.EXTERIOR,de.INTERIOR),this.addRingSide(f,a,Xe.RIGHT,de.INTERIOR,de.EXTERIOR)}},{key:"addPoint",value:function(f){if(this._distance<=0)return null;var a=f.getCoordinates(),o=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(o,de.EXTERIOR,de.INTERIOR)}},{key:"addPolygon",value:function(f){var a=this._distance,o=Xe.LEFT;this._distance<0&&(a=-this._distance,o=Xe.RIGHT);var d=f.getExteriorRing(),C=mr.removeRepeatedPoints(d.getCoordinates());if(this._distance<0&&this.isErodedCompletely(d,this._distance)||this._distance<=0&&C.length<3)return null;this.addRingSide(C,a,o,de.EXTERIOR,de.INTERIOR);for(var B=0;B<f.getNumInteriorRing();B++){var K=f.getInteriorRingN(B),se=mr.removeRepeatedPoints(K.getCoordinates());this._distance>0&&this.isErodedCompletely(K,-this._distance)||this.addRingSide(se,a,Xe.opposite(o),de.INTERIOR,de.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(f,a){var o=new ao(f[0],f[1],f[2]),d=o.inCentre();return Bn.pointToSegment(d,o.p0,o.p1)<Math.abs(a)}},{key:"addLineString",value:function(f){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var a=mr.removeRepeatedPoints(f.getCoordinates());if(mr.isRing(a)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(a,this._distance);else{var o=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(o,de.EXTERIOR,de.INTERIOR)}}},{key:"addCurve",value:function(f,a,o){if(f===null||f.length<2)return null;var d=new Cn(f,new ei(0,de.BOUNDARY,a,o));this._curveList.add(d)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(f){if(f.isEmpty())return null;if(f instanceof Pr)this.addPolygon(f);else if(f instanceof br)this.addLineString(f);else if(f instanceof ur)this.addPoint(f);else if(f instanceof nr)this.addCollection(f);else if(f instanceof Gr)this.addCollection(f);else if(f instanceof gr)this.addCollection(f);else{if(!(f instanceof wn))throw new fe(f.getGeometryType());this.addCollection(f)}}},{key:"isErodedCompletely",value:function(f,a){var o=f.getCoordinates();if(o.length<4)return a<0;if(o.length===4)return this.isTriangleErodedCompletely(o,a);var d=f.getEnvelopeInternal(),C=Math.min(d.getHeight(),d.getWidth());return a<0&&2*Math.abs(a)>C}},{key:"addCollection",value:function(f){for(var a=0;a<f.getNumGeometries();a++){var o=f.getGeometryN(a);this.add(o)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Tt;var f=arguments[0],a=arguments[1],o=arguments[2];this._inputGeom=f,this._distance=a,this._curveBuilder=o}}])})(),Ui=(function(){return c((function f(){i(this,f)}),[{key:"locate",value:function(f){}}])})(),oo=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,f.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ft;var a=this._parent.getGeometryN(this._index++);return a instanceof wn?(this._subcollectionIterator=new f(a),this._subcollectionIterator.next()):a}},{key:"remove",value:function(){throw new fe(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var a=arguments[0];this._parent=a,this._atStart=!0,this._index=0,this._max=a.getNumGeometries()}},{key:"isAtomic",value:function(a){return!(a instanceof wn)}}])})(),jo=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"locate",value:function(a){return f.locate(a,this._geom)}},{key:"interfaces_",get:function(){return[Ui]}}],[{key:"constructor_",value:function(){this._geom=null;var a=arguments[0];this._geom=a}},{key:"locatePointInPolygon",value:function(a,o){if(o.isEmpty())return de.EXTERIOR;var d=o.getExteriorRing(),C=f.locatePointInRing(a,d);if(C!==de.INTERIOR)return C;for(var B=0;B<o.getNumInteriorRing();B++){var K=o.getInteriorRingN(B),se=f.locatePointInRing(a,K);if(se===de.BOUNDARY)return de.BOUNDARY;if(se===de.INTERIOR)return de.EXTERIOR}return de.INTERIOR}},{key:"locatePointInRing",value:function(a,o){return o.getEnvelopeInternal().intersects(a)?Zi.locateInRing(a,o.getCoordinates()):de.EXTERIOR}},{key:"containsPointInPolygon",value:function(a,o){return de.EXTERIOR!==f.locatePointInPolygon(a,o)}},{key:"locateInGeometry",value:function(a,o){if(o instanceof Pr)return f.locatePointInPolygon(a,o);if(o instanceof wn)for(var d=new oo(o);d.hasNext();){var C=d.next();if(C!==o){var B=f.locateInGeometry(a,C);if(B!==de.EXTERIOR)return B}}return de.EXTERIOR}},{key:"isContained",value:function(a,o){return de.EXTERIOR!==f.locate(a,o)}},{key:"locate",value:function(a,o){return o.isEmpty()?de.EXTERIOR:o.getEnvelopeInternal().intersects(a)?f.locateInGeometry(a,o):de.EXTERIOR}}])})(),zo=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(f){this.getEdges();var a=this._edgeList.indexOf(f),o=a-1;return a===0&&(o=this._edgeList.size()-1),this._edgeList.get(o)}},{key:"propagateSideLabels",value:function(f){for(var a=de.NONE,o=this.iterator();o.hasNext();){var d=o.next().getLabel();d.isArea(f)&&d.getLocation(f,Xe.LEFT)!==de.NONE&&(a=d.getLocation(f,Xe.LEFT))}if(a===de.NONE)return null;for(var C=a,B=this.iterator();B.hasNext();){var K=B.next(),se=K.getLabel();if(se.getLocation(f,Xe.ON)===de.NONE&&se.setLocation(f,Xe.ON,C),se.isArea(f)){var xe=se.getLocation(f,Xe.LEFT),$e=se.getLocation(f,Xe.RIGHT);if($e!==de.NONE){if($e!==C)throw new tn("side location conflict",K.getCoordinate());xe===de.NONE&&me.shouldNeverReachHere("found single null side (at "+K.getCoordinate()+")"),C=xe}else me.isTrue(se.getLocation(f,Xe.LEFT)===de.NONE,"found single null side"),se.setLocation(f,Xe.RIGHT,C),se.setLocation(f,Xe.LEFT,C)}}}},{key:"getCoordinate",value:function(){var f=this.iterator();return f.hasNext()?f.next().getCoordinate():null}},{key:"print",value:function(f){an.out.println("EdgeEndStar:   "+this.getCoordinate());for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"isAreaLabelsConsistent",value:function(f){return this.computeEdgeEndLabels(f.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(f){var a=this.getEdges();if(a.size()<=0)return!0;var o=a.size()-1,d=a.get(o).getLabel().getLocation(f,Xe.LEFT);me.isTrue(d!==de.NONE,"Found unlabelled area edge");for(var C=d,B=this.iterator();B.hasNext();){var K=B.next().getLabel();me.isTrue(K.isArea(f),"Found non-area edge");var se=K.getLocation(f,Xe.LEFT),xe=K.getLocation(f,Xe.RIGHT);if(se===xe||xe!==C)return!1;C=se}return!0}},{key:"findIndex",value:function(f){this.iterator();for(var a=0;a<this._edgeList.size();a++)if(this._edgeList.get(a)===f)return a;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Tt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(f,a,o){return this._ptInAreaLocation[f]===de.NONE&&(this._ptInAreaLocation[f]=jo.locate(a,o[f].getGeometry())),this._ptInAreaLocation[f]}},{key:"toString",value:function(){var f=new Zt;f.append("EdgeEndStar:   "+this.getCoordinate()),f.append(`
`);for(var a=this.iterator();a.hasNext();){var o=a.next();f.append(o),f.append(`
`)}return f.toString()}},{key:"computeEdgeEndLabels",value:function(f){for(var a=this.iterator();a.hasNext();)a.next().computeLabel(f)}},{key:"computeLabelling",value:function(f){this.computeEdgeEndLabels(f[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var a=[!1,!1],o=this.iterator();o.hasNext();)for(var d=o.next().getLabel(),C=0;C<2;C++)d.isLine(C)&&d.getLocation(C)===de.BOUNDARY&&(a[C]=!0);for(var B=this.iterator();B.hasNext();)for(var K=B.next(),se=K.getLabel(),xe=0;xe<2;xe++)if(se.isAnyNull(xe)){var $e=de.NONE;if(a[xe])$e=de.EXTERIOR;else{var st=K.getCoordinate();$e=this.getLocation(xe,st,f)}se.setAllLocationsIfNull(xe,$e)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(f,a){this._edgeMap.put(f,a),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Kr,this._edgeList=null,this._ptInAreaLocation=[de.NONE,de.NONE]}}])})(),jr=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var o=null,d=null,C=this._SCANNING_FOR_INCOMING,B=0;B<this._resultAreaEdgeList.size();B++){var K=this._resultAreaEdgeList.get(B),se=K.getSym();if(K.getLabel().isArea())switch(o===null&&K.isInResult()&&(o=K),C){case this._SCANNING_FOR_INCOMING:if(!se.isInResult())continue;d=se,C=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!K.isInResult())continue;d.setNext(K),C=this._SCANNING_FOR_INCOMING}}if(C===this._LINKING_TO_OUTGOING){if(o===null)throw new tn("no outgoing dirEdge found",this.getCoordinate());me.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),d.setNext(o)}}},{key:"insert",value:function(o){var d=o;this.insertEdgeEnd(d,d)}},{key:"getRightmostEdge",value:function(){var o=this.getEdges(),d=o.size();if(d<1)return null;var C=o.get(0);if(d===1)return C;var B=o.get(d-1),K=C.getQuadrant(),se=B.getQuadrant();return si.isNorthern(K)&&si.isNorthern(se)?C:si.isNorthern(K)||si.isNorthern(se)?C.getDy()!==0?C:B.getDy()!==0?B:(me.shouldNeverReachHere("found two horizontal edges incident on node"),null):B}},{key:"print",value:function(o){an.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var d=this.iterator();d.hasNext();){var C=d.next();o.print("out "),C.print(o),o.println(),o.print("in "),C.getSym().print(o),o.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Tt;for(var o=this.iterator();o.hasNext();){var d=o.next();(d.isInResult()||d.getSym().isInResult())&&this._resultAreaEdgeList.add(d)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(o){for(var d=this.iterator();d.hasNext();){var C=d.next().getLabel();C.setAllLocationsIfNull(0,o.getLocation(0)),C.setAllLocationsIfNull(1,o.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var o=null,d=null,C=this._edgeList.size()-1;C>=0;C--){var B=this._edgeList.get(C),K=B.getSym();d===null&&(d=K),o!==null&&K.setNext(o),o=B}d.setNext(o)}},{key:"computeDepths",value:function(){if(arguments.length===1){var o=arguments[0],d=this.findIndex(o),C=o.getDepth(Xe.LEFT),B=o.getDepth(Xe.RIGHT),K=this.computeDepths(d+1,this._edgeList.size(),C);if(this.computeDepths(0,d,K)!==B)throw new tn("depth mismatch at "+o.getCoordinate())}else if(arguments.length===3){for(var se=arguments[1],xe=arguments[2],$e=arguments[0];$e<se;$e++){var st=this._edgeList.get($e);st.setEdgeDepths(Xe.RIGHT,xe),xe=st.getDepth(Xe.LEFT)}return xe}}},{key:"mergeSymLabels",value:function(){for(var o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().merge(d.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(o){for(var d=null,C=null,B=this._SCANNING_FOR_INCOMING,K=this._resultAreaEdgeList.size()-1;K>=0;K--){var se=this._resultAreaEdgeList.get(K),xe=se.getSym();switch(d===null&&se.getEdgeRing()===o&&(d=se),B){case this._SCANNING_FOR_INCOMING:if(xe.getEdgeRing()!==o)continue;C=xe,B=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(se.getEdgeRing()!==o)continue;C.setNextMin(se),B=this._SCANNING_FOR_INCOMING}}B===this._LINKING_TO_OUTGOING&&(me.isTrue(d!==null,"found null for first outgoing dirEdge"),me.isTrue(d.getEdgeRing()===o,"unable to link last incoming dirEdge"),C.setNextMin(d))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var o=0,d=this.iterator();d.hasNext();)d.next().isInResult()&&o++;return o}if(arguments.length===1){for(var C=arguments[0],B=0,K=this.iterator();K.hasNext();)K.next().getEdgeRing()===C&&B++;return B}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var o=de.NONE,d=this.iterator();d.hasNext();){var C=d.next(),B=C.getSym();if(!C.isLineEdge()){if(C.isInResult()){o=de.INTERIOR;break}if(B.isInResult()){o=de.EXTERIOR;break}}}if(o===de.NONE)return null;for(var K=o,se=this.iterator();se.hasNext();){var xe=se.next(),$e=xe.getSym();xe.isLineEdge()?xe.getEdge().setCovered(K===de.INTERIOR):(xe.isInResult()&&(K=de.EXTERIOR),$e.isInResult()&&(K=de.INTERIOR))}}},{key:"computeLabelling",value:function(o){N(a,"computeLabelling",this,1).call(this,o),this._label=new ei(de.NONE);for(var d=this.iterator();d.hasNext();)for(var C=d.next().getEdge().getLabel(),B=0;B<2;B++){var K=C.getLocation(B);K!==de.INTERIOR&&K!==de.BOUNDARY||this._label.setLocation(B,de.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(zo),ra=(function(f){function a(){return i(this,a),r(this,a)}return w(a,f),c(a,[{key:"createNode",value:function(o){return new Ro(o,new jr)}}])})(Do),Ho=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"compareTo",value:function(a){var o=a;return f.compareOriented(this._pts,this._orientation,o._pts,o._orientation)}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var a=arguments[0];this._pts=a,this._orientation=f.orientation(a)}},{key:"orientation",value:function(a){return mr.increasingDirection(a)===1}},{key:"compareOriented",value:function(a,o,d,C){for(var B=o?1:-1,K=C?1:-1,se=o?a.length:-1,xe=C?d.length:-1,$e=o?0:a.length-1,st=C?0:d.length-1;;){var _t=a[$e].compareTo(d[st]);if(_t!==0)return _t;var Yt=($e+=B)===se,pn=(st+=K)===xe;if(Yt&&!pn)return-1;if(!Yt&&pn)return 1;if(Yt&&pn)return 0}}}])})(),ia=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"print",value:function(f){f.print("MULTILINESTRING ( ");for(var a=0;a<this._edges.size();a++){var o=this._edges.get(a);a>0&&f.print(","),f.print("(");for(var d=o.getCoordinates(),C=0;C<d.length;C++)C>0&&f.print(","),f.print(d[C].x+" "+d[C].y);f.println(")")}f.print(")  ")}},{key:"addAll",value:function(f){for(var a=f.iterator();a.hasNext();)this.add(a.next())}},{key:"findEdgeIndex",value:function(f){for(var a=0;a<this._edges.size();a++)if(this._edges.get(a).equals(f))return a;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(f){return this._edges.get(f)}},{key:"findEqualEdge",value:function(f){var a=new Ho(f.getCoordinates());return this._ocaMap.get(a)}},{key:"add",value:function(f){this._edges.add(f);var a=new Ho(f.getCoordinates());this._ocaMap.put(a,f)}}],[{key:"constructor_",value:function(){this._edges=new Tt,this._ocaMap=new Kr}}])})(),da=(function(){return c((function f(){i(this,f)}),[{key:"processIntersections",value:function(f,a,o,d){}},{key:"isDone",value:function(){}}])})(),Ma=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isTrivialIntersection",value:function(a,o,d,C){if(a===d&&this._li.getIntersectionNum()===1){if(f.isAdjacentSegments(o,C))return!0;if(a.isClosed()){var B=a.size()-1;if(o===0&&C===B||C===0&&o===B)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(a,o,d,C){if(a===d&&o===C)return null;this.numTests++;var B=a.getCoordinates()[o],K=a.getCoordinates()[o+1],se=d.getCoordinates()[C],xe=d.getCoordinates()[C+1];this._li.computeIntersection(B,K,se,xe),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(a,o,d,C)||(this._hasIntersection=!0,a.addIntersections(this._li,o,0),d.addIntersections(this._li,C,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[da]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var a=arguments[0];this._li=a}},{key:"isAdjacentSegments",value:function(a,o){return Math.abs(a-o)===1}}])})(),ss=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex),f.println(" dist = "+this.dist)}},{key:"compareTo",value:function(f){var a=f;return this.compare(a.segmentIndex,a.dist)}},{key:"isEndPoint",value:function(f){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===f}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(f,a){return this.segmentIndex<f?-1:this.segmentIndex>f?1:this.dist<a?-1:this.dist>a?1:0}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var f=arguments[0],a=arguments[1],o=arguments[2];this.coord=new he(f),this.segmentIndex=a,this.dist=o}}])})(),xo=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"print",value:function(f){f.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(f)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(f){this.addEndpoints();for(var a=this.iterator(),o=a.next();a.hasNext();){var d=a.next(),C=this.createSplitEdge(o,d);f.add(C),o=d}}},{key:"addEndpoints",value:function(){var f=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[f],f,0)}},{key:"createSplitEdge",value:function(f,a){var o=a.segmentIndex-f.segmentIndex+2,d=this.edge.pts[a.segmentIndex],C=a.dist>0||!a.coord.equals2D(d);C||o--;var B=new Array(o).fill(null),K=0;B[K++]=new he(f.coord);for(var se=f.segmentIndex+1;se<=a.segmentIndex;se++)B[K++]=this.edge.pts[se];return C&&(B[K]=a.coord),new qa(B,new ei(this.edge._label))}},{key:"add",value:function(f,a,o){var d=new ss(f,a,o),C=this._nodeMap.get(d);return C!==null?C:(this._nodeMap.put(d,d),d)}},{key:"isIntersection",value:function(f){for(var a=this.iterator();a.hasNext();)if(a.next().coord.equals(f))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Kr,this.edge=null;var f=arguments[0];this.edge=f}}])})(),Ha=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])||f.isTrue(this._matrix[de.INTERIOR][de.BOUNDARY])||f.isTrue(this._matrix[de.BOUNDARY][de.INTERIOR])||f.isTrue(this._matrix[de.BOUNDARY][de.BOUNDARY]))&&this._matrix[de.EXTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.BOUNDARY]===Kt.FALSE}},{key:"isCoveredBy",value:function(){return(f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])||f.isTrue(this._matrix[de.INTERIOR][de.BOUNDARY])||f.isTrue(this._matrix[de.BOUNDARY][de.INTERIOR])||f.isTrue(this._matrix[de.BOUNDARY][de.BOUNDARY]))&&this._matrix[de.INTERIOR][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.EXTERIOR]===Kt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var a=arguments[0],o=0;o<a.length;o++){var d=Math.trunc(o/3),C=o%3;this._matrix[d][C]=Kt.toDimensionValue(a.charAt(o))}else if(arguments.length===3){var B=arguments[0],K=arguments[1],se=arguments[2];this._matrix[B][K]=se}}},{key:"isContains",value:function(){return f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&this._matrix[de.EXTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.BOUNDARY]===Kt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var a=arguments[0],o=0;o<a.length;o++){var d=Math.trunc(o/3),C=o%3;this.setAtLeast(d,C,Kt.toDimensionValue(a.charAt(o)))}else if(arguments.length===3){var B=arguments[0],K=arguments[1],se=arguments[2];this._matrix[B][K]<se&&(this._matrix[B][K]=se)}}},{key:"setAtLeastIfValid",value:function(a,o,d){a>=0&&o>=0&&this.setAtLeast(a,o,d)}},{key:"isWithin",value:function(){return f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&this._matrix[de.INTERIOR][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.EXTERIOR]===Kt.FALSE}},{key:"isTouches",value:function(a,o){return a>o?this.isTouches(o,a):(a===Kt.A&&o===Kt.A||a===Kt.L&&o===Kt.L||a===Kt.L&&o===Kt.A||a===Kt.P&&o===Kt.A||a===Kt.P&&o===Kt.L)&&this._matrix[de.INTERIOR][de.INTERIOR]===Kt.FALSE&&(f.isTrue(this._matrix[de.INTERIOR][de.BOUNDARY])||f.isTrue(this._matrix[de.BOUNDARY][de.INTERIOR])||f.isTrue(this._matrix[de.BOUNDARY][de.BOUNDARY]))}},{key:"isOverlaps",value:function(a,o){return a===Kt.P&&o===Kt.P||a===Kt.A&&o===Kt.A?f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&f.isTrue(this._matrix[de.INTERIOR][de.EXTERIOR])&&f.isTrue(this._matrix[de.EXTERIOR][de.INTERIOR]):a===Kt.L&&o===Kt.L&&this._matrix[de.INTERIOR][de.INTERIOR]===1&&f.isTrue(this._matrix[de.INTERIOR][de.EXTERIOR])&&f.isTrue(this._matrix[de.EXTERIOR][de.INTERIOR])}},{key:"isEquals",value:function(a,o){return a===o&&f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&this._matrix[de.INTERIOR][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.EXTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.EXTERIOR][de.BOUNDARY]===Kt.FALSE}},{key:"toString",value:function(){for(var a=new xn("123456789"),o=0;o<3;o++)for(var d=0;d<3;d++)a.setCharAt(3*o+d,Kt.toDimensionSymbol(this._matrix[o][d]));return a.toString()}},{key:"setAll",value:function(a){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this._matrix[o][d]=a}},{key:"get",value:function(a,o){return this._matrix[a][o]}},{key:"transpose",value:function(){var a=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=a,a=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=a,a=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=a,this}},{key:"matches",value:function(a){if(a.length!==9)throw new G("Should be length 9: "+a);for(var o=0;o<3;o++)for(var d=0;d<3;d++)if(!f.matches(this._matrix[o][d],a.charAt(3*o+d)))return!1;return!0}},{key:"add",value:function(a){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this.setAtLeast(o,d,a.get(o,d))}},{key:"isDisjoint",value:function(){return this._matrix[de.INTERIOR][de.INTERIOR]===Kt.FALSE&&this._matrix[de.INTERIOR][de.BOUNDARY]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.INTERIOR]===Kt.FALSE&&this._matrix[de.BOUNDARY][de.BOUNDARY]===Kt.FALSE}},{key:"isCrosses",value:function(a,o){return a===Kt.P&&o===Kt.L||a===Kt.P&&o===Kt.A||a===Kt.L&&o===Kt.A?f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&f.isTrue(this._matrix[de.INTERIOR][de.EXTERIOR]):a===Kt.L&&o===Kt.P||a===Kt.A&&o===Kt.P||a===Kt.A&&o===Kt.L?f.isTrue(this._matrix[de.INTERIOR][de.INTERIOR])&&f.isTrue(this._matrix[de.EXTERIOR][de.INTERIOR]):a===Kt.L&&o===Kt.L&&this._matrix[de.INTERIOR][de.INTERIOR]===0}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Kt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var a=arguments[0];f.constructor_.call(this),this.set(a)}else if(arguments[0]instanceof f){var o=arguments[0];f.constructor_.call(this),this._matrix[de.INTERIOR][de.INTERIOR]=o._matrix[de.INTERIOR][de.INTERIOR],this._matrix[de.INTERIOR][de.BOUNDARY]=o._matrix[de.INTERIOR][de.BOUNDARY],this._matrix[de.INTERIOR][de.EXTERIOR]=o._matrix[de.INTERIOR][de.EXTERIOR],this._matrix[de.BOUNDARY][de.INTERIOR]=o._matrix[de.BOUNDARY][de.INTERIOR],this._matrix[de.BOUNDARY][de.BOUNDARY]=o._matrix[de.BOUNDARY][de.BOUNDARY],this._matrix[de.BOUNDARY][de.EXTERIOR]=o._matrix[de.BOUNDARY][de.EXTERIOR],this._matrix[de.EXTERIOR][de.INTERIOR]=o._matrix[de.EXTERIOR][de.INTERIOR],this._matrix[de.EXTERIOR][de.BOUNDARY]=o._matrix[de.EXTERIOR][de.BOUNDARY],this._matrix[de.EXTERIOR][de.EXTERIOR]=o._matrix[de.EXTERIOR][de.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var a=arguments[0],o=arguments[1];return o===Kt.SYM_DONTCARE||o===Kt.SYM_TRUE&&(a>=0||a===Kt.TRUE)||o===Kt.SYM_FALSE&&a===Kt.FALSE||o===Kt.SYM_P&&a===Kt.P||o===Kt.SYM_L&&a===Kt.L||o===Kt.SYM_A&&a===Kt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var d=arguments[1];return new f(arguments[0]).matches(d)}}},{key:"isTrue",value:function(a){return a>=0||a===Kt.TRUE}}])})(),so=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(a){return a===null||a.length===0?null:(this.ensureCapacity(this._size+a.length),an.arraycopy(a,0,this._data,this._size,a.length),void(this._size+=a.length))}},{key:"ensureCapacity",value:function(a){if(a<=this._data.length)return null;var o=Math.max(a,2*this._data.length);this._data=zn.copyOf(this._data,o)}},{key:"toArray",value:function(){var a=new Array(this._size).fill(null);return an.arraycopy(this._data,0,a,0,this._size),a}},{key:"add",value:function(a){this.ensureCapacity(this._size+1),this._data[this._size]=a,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)f.constructor_.call(this,10);else if(arguments.length===1){var a=arguments[0];this._data=new Array(a).fill(null)}}}])})(),fa=(function(){function f(){i(this,f)}return c(f,[{key:"getChainStartIndices",value:function(a){var o=0,d=new so(Math.trunc(a.length/2));d.add(o);do{var C=this.findChainEnd(a,o);d.add(C),o=C}while(o<a.length-1);return d.toArray()}},{key:"findChainEnd",value:function(a,o){for(var d=si.quadrant(a[o],a[o+1]),C=o+1;C<a.length&&si.quadrant(a[C-1],a[C])===d;)C++;return C-1}},{key:"OLDgetChainStartIndices",value:function(a){var o=0,d=new Tt;d.add(o);do{var C=this.findChainEnd(a,o);d.add(C),o=C}while(o<a.length-1);return f.toIntArray(d)}}],[{key:"toIntArray",value:function(a){for(var o=new Array(a.size()).fill(null),d=0;d<o.length;d++)o[d]=a.get(d).intValue();return o}}])})(),gi=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(f){var a=this.pts[this.startIndex[f]].x,o=this.pts[this.startIndex[f+1]].x;return a>o?a:o}},{key:"getMinX",value:function(f){var a=this.pts[this.startIndex[f]].x,o=this.pts[this.startIndex[f+1]].x;return a<o?a:o}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var f=arguments[0],a=arguments[1],o=arguments[2],d=arguments[3];this.computeIntersectsForChain(this.startIndex[f],this.startIndex[f+1],a,a.startIndex[o],a.startIndex[o+1],d)}else if(arguments.length===6){var C=arguments[0],B=arguments[1],K=arguments[2],se=arguments[3],xe=arguments[4],$e=arguments[5];if(B-C==1&&xe-se==1)return $e.addIntersections(this.e,C,K.e,se),null;if(!this.overlaps(C,B,K,se,xe))return null;var st=Math.trunc((C+B)/2),_t=Math.trunc((se+xe)/2);C<st&&(se<_t&&this.computeIntersectsForChain(C,st,K,se,_t,$e),_t<xe&&this.computeIntersectsForChain(C,st,K,_t,xe,$e)),st<B&&(se<_t&&this.computeIntersectsForChain(st,B,K,se,_t,$e),_t<xe&&this.computeIntersectsForChain(st,B,K,_t,xe,$e))}}},{key:"overlaps",value:function(f,a,o,d,C){return We.intersects(this.pts[f],this.pts[a],o.pts[d],o.pts[C])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(f,a){for(var o=0;o<this.startIndex.length-1;o++)for(var d=0;d<f.startIndex.length-1;d++)this.computeIntersectsForChain(o,f,d,a)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var f=arguments[0];this.e=f,this.pts=f.getCoordinates();var a=new fa;this.startIndex=a.getChainStartIndices(this.pts)}}])})(),Oi=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"getDepth",value:function(a,o){return this._depth[a][o]}},{key:"setDepth",value:function(a,o,d){this._depth[a][o]=d}},{key:"isNull",value:function(){if(arguments.length===0){for(var a=0;a<2;a++)for(var o=0;o<3;o++)if(this._depth[a][o]!==f.NULL_VALUE)return!1;return!0}if(arguments.length===1){var d=arguments[0];return this._depth[d][1]===f.NULL_VALUE}if(arguments.length===2){var C=arguments[0],B=arguments[1];return this._depth[C][B]===f.NULL_VALUE}}},{key:"normalize",value:function(){for(var a=0;a<2;a++)if(!this.isNull(a)){var o=this._depth[a][1];this._depth[a][2]<o&&(o=this._depth[a][2]),o<0&&(o=0);for(var d=1;d<3;d++){var C=0;this._depth[a][d]>o&&(C=1),this._depth[a][d]=C}}}},{key:"getDelta",value:function(a){return this._depth[a][Xe.RIGHT]-this._depth[a][Xe.LEFT]}},{key:"getLocation",value:function(a,o){return this._depth[a][o]<=0?de.EXTERIOR:de.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var a=arguments[0],o=0;o<2;o++)for(var d=1;d<3;d++){var C=a.getLocation(o,d);C!==de.EXTERIOR&&C!==de.INTERIOR||(this.isNull(o,d)?this._depth[o][d]=f.depthAtLocation(C):this._depth[o][d]+=f.depthAtLocation(C))}else if(arguments.length===3){var B=arguments[0],K=arguments[1];arguments[2]===de.INTERIOR&&this._depth[B][K]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var a=0;a<2;a++)for(var o=0;o<3;o++)this._depth[a][o]=f.NULL_VALUE}},{key:"depthAtLocation",value:function(a){return a===de.EXTERIOR?0:a===de.INTERIOR?1:f.NULL_VALUE}}])})();Oi.NULL_VALUE=-1;var qa=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new a(o,ei.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(o){this._isIsolated=o}},{key:"setName",value:function(o){this._name=o}},{key:"equals",value:function(o){if(!(o instanceof a))return!1;var d=o;if(this.pts.length!==d.pts.length)return!1;for(var C=!0,B=!0,K=this.pts.length,se=0;se<this.pts.length;se++)if(this.pts[se].equals2D(d.pts[se])||(C=!1),this.pts[se].equals2D(d.pts[--K])||(B=!1),!C&&!B)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var o=arguments[0];return this.pts[o]}}},{key:"print",value:function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.print(","),o.print(this.pts[d].x+" "+this.pts[d].y);o.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(o){a.updateIM(this._label,o)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(o){o.print("edge "+this._name+": ");for(var d=this.pts.length-1;d>=0;d--)o.print(this.pts[d]+" ");o.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new gi(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new We;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env}},{key:"addIntersection",value:function(o,d,C,B){var K=new he(o.getIntersection(B)),se=d,xe=o.getEdgeDistance(C,B),$e=se+1;if($e<this.pts.length){var st=this.pts[$e];K.equals2D(st)&&(se=$e,xe=0)}this.eiList.add(K,se,xe)}},{key:"toString",value:function(){var o=new xn;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.append(","),o.append(this.pts[d].x+" "+this.pts[d].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()}},{key:"isPointwiseEqual",value:function(o){if(this.pts.length!==o.pts.length)return!1;for(var d=0;d<this.pts.length;d++)if(!this.pts[d].equals2D(o.pts[d]))return!1;return!0}},{key:"setDepthDelta",value:function(o){this._depthDelta=o}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(o,d,C){for(var B=0;B<o.getIntersectionNum();B++)this.addIntersection(o,d,C,B)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new xo(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Oi,this._depthDelta=0,arguments.length===1){var o=arguments[0];a.constructor_.call(this,o,null)}else if(arguments.length===2){var d=arguments[0],C=arguments[1];this.pts=d,this._label=C}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Ha&&arguments[0]instanceof ei))return N(a,"updateIM",this).apply(this,arguments);var o=arguments[0],d=arguments[1];d.setAtLeastIfValid(o.getLocation(0,Xe.ON),o.getLocation(1,Xe.ON),1),o.isArea()&&(d.setAtLeastIfValid(o.getLocation(0,Xe.LEFT),o.getLocation(1,Xe.LEFT),2),d.setAtLeastIfValid(o.getLocation(0,Xe.RIGHT),o.getLocation(1,Xe.RIGHT),2))}}])})(Fr),Ua=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"setWorkingPrecisionModel",value:function(a){this._workingPrecisionModel=a}},{key:"insertUniqueEdge",value:function(a){var o=this._edgeList.findEqualEdge(a);if(o!==null){var d=o.getLabel(),C=a.getLabel();o.isPointwiseEqual(a)||(C=new ei(a.getLabel())).flip(),d.merge(C);var B=f.depthDelta(C),K=o.getDepthDelta()+B;o.setDepthDelta(K)}else this._edgeList.add(a),a.setDepthDelta(f.depthDelta(a.getLabel()))}},{key:"buildSubgraphs",value:function(a,o){for(var d=new Tt,C=a.iterator();C.hasNext();){var B=C.next(),K=B.getRightmostCoordinate(),se=new bi(d).getDepth(K);B.computeDepth(se),B.findResultEdges(),d.add(B),o.add(B.getDirectedEdges(),B.getNodes())}}},{key:"createSubgraphs",value:function(a){for(var o=new Tt,d=a.getNodes().iterator();d.hasNext();){var C=d.next();if(!C.isVisited()){var B=new jt;B.create(C),o.add(B)}}return ua.sort(o,ua.reverseOrder()),o}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(a){if(this._workingNoder!==null)return this._workingNoder;var o=new di,d=new oi;return d.setPrecisionModel(a),o.setSegmentIntersector(new Ma(d)),o}},{key:"buffer",value:function(a,o){var d=this._workingPrecisionModel;d===null&&(d=a.getPrecisionModel()),this._geomFact=a.getFactory();var C=new bo(d,this._bufParams),B=new qr(a,o,C).getCurves();if(B.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(B,d),this._graph=new $o(new ra),this._graph.addEdges(this._edgeList.getEdges());var K=this.createSubgraphs(this._graph),se=new ka(this._geomFact);this.buildSubgraphs(K,se);var xe=se.getPolygons();return xe.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(xe)}},{key:"computeNodedEdges",value:function(a,o){var d=this.getNoder(o);d.computeNodes(a);for(var C=d.getNodedSubstrings().iterator();C.hasNext();){var B=C.next(),K=B.getCoordinates();if(K.length!==2||!K[0].equals2D(K[1])){var se=B.getData(),xe=new qa(B.getCoordinates(),new ei(se));this.insertUniqueEdge(xe)}}}},{key:"setNoder",value:function(a){this._workingNoder=a}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ia;var a=arguments[0];this._bufParams=a}},{key:"depthDelta",value:function(a){var o=a.getLocation(0,Xe.LEFT),d=a.getLocation(0,Xe.RIGHT);return o===de.INTERIOR&&d===de.EXTERIOR?1:o===de.EXTERIOR&&d===de.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(a){for(var o=new Dr,d=new Tt;a.hasNext();){var C=a.next(),B=o.createLineString(C.getCoordinates());d.add(B)}return o.buildGeometry(d)}}])})(),Ga=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"rescale",value:function(){if(Et(arguments[0],it))for(var a=arguments[0].iterator();a.hasNext();){var o=a.next();this.rescale(o.getCoordinates())}else if(arguments[0]instanceof Array){for(var d=arguments[0],C=0;C<d.length;C++)d[C].x=d[C].x/this._scaleFactor+this._offsetX,d[C].y=d[C].y/this._scaleFactor+this._offsetY;d.length===2&&d[0].equals2D(d[1])&&an.out.println(d)}}},{key:"scale",value:function(){if(Et(arguments[0],it)){for(var a=arguments[0],o=new Tt(a.size()),d=a.iterator();d.hasNext();){var C=d.next();o.add(new Cn(this.scale(C.getCoordinates()),C.getData()))}return o}if(arguments[0]instanceof Array){for(var B=arguments[0],K=new Array(B.length).fill(null),se=0;se<B.length;se++)K[se]=new he(Math.round((B[se].x-this._offsetX)*this._scaleFactor),Math.round((B[se].y-this._offsetY)*this._scaleFactor),B[se].getZ());return mr.removeRepeatedPoints(K)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var a=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(a),a}},{key:"computeNodes",value:function(a){var o=a;this._isScaled&&(o=this.scale(a)),this._noder.computeNodes(o)}},{key:"interfaces_",get:function(){return[vr]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var a=arguments[0],o=arguments[1];f.constructor_.call(this,a,o,0,0)}else if(arguments.length===4){var d=arguments[0],C=arguments[1];this._noder=d,this._scaleFactor=C,this._isScaled=!this.isIntegerPrecision()}}}])})(),Yi=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var a=this._segStrings.iterator();a.hasNext();){var o=a.next().getCoordinates();this.checkEndPtVertexIntersections(o[0],this._segStrings),this.checkEndPtVertexIntersections(o[o.length-1],this._segStrings)}else if(arguments.length===2){for(var d=arguments[0],C=arguments[1].iterator();C.hasNext();)for(var B=C.next().getCoordinates(),K=1;K<B.length-1;K++)if(B[K].equals(d))throw new ne("found endpt/interior pt intersection at index "+K+" :pt "+d)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var a=this._segStrings.iterator();a.hasNext();)for(var o=a.next(),d=this._segStrings.iterator();d.hasNext();){var C=d.next();this.checkInteriorIntersections(o,C)}else if(arguments.length===2)for(var B=arguments[0],K=arguments[1],se=B.getCoordinates(),xe=K.getCoordinates(),$e=0;$e<se.length-1;$e++)for(var st=0;st<xe.length-1;st++)this.checkInteriorIntersections(B,$e,K,st);else if(arguments.length===4){var _t=arguments[0],Yt=arguments[1],pn=arguments[2],Pn=arguments[3];if(_t===pn&&Yt===Pn)return null;var $n=_t.getCoordinates()[Yt],Mr=_t.getCoordinates()[Yt+1],hr=pn.getCoordinates()[Pn],Ur=pn.getCoordinates()[Pn+1];if(this._li.computeIntersection($n,Mr,hr,Ur),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,$n,Mr)||this.hasInteriorIntersection(this._li,hr,Ur)))throw new ne("found non-noded intersection at "+$n+"-"+Mr+" and "+hr+"-"+Ur)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var a=this._segStrings.iterator();a.hasNext();){var o=a.next();this.checkCollapses(o)}else if(arguments.length===1)for(var d=arguments[0].getCoordinates(),C=0;C<d.length-2;C++)this.checkCollapse(d[C],d[C+1],d[C+2])}},{key:"hasInteriorIntersection",value:function(a,o,d){for(var C=0;C<a.getIntersectionNum();C++){var B=a.getIntersection(C);if(!B.equals(o)&&!B.equals(d))return!0}return!1}},{key:"checkCollapse",value:function(a,o,d){if(a.equals(d))throw new ne("found non-noded collapse at "+f.fact.createLineString([a,o,d]))}}],[{key:"constructor_",value:function(){this._li=new oi,this._segStrings=null;var a=arguments[0];this._segStrings=a}}])})();Yi.fact=new Dr;var ui=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"intersectsScaled",value:function(a,o){var d=Math.min(a.x,o.x),C=Math.max(a.x,o.x),B=Math.min(a.y,o.y),K=Math.max(a.y,o.y),se=this._maxx<d||this._minx>C||this._maxy<B||this._miny>K;if(se)return!1;var xe=this.intersectsToleranceSquare(a,o);return me.isTrue(!(se&&xe),"Found bad envelope test"),xe}},{key:"initCorners",value:function(a){var o=.5;this._minx=a.x-o,this._maxx=a.x+o,this._miny=a.y-o,this._maxy=a.y+o,this._corner[0]=new he(this._maxx,this._maxy),this._corner[1]=new he(this._minx,this._maxy),this._corner[2]=new he(this._minx,this._miny),this._corner[3]=new he(this._maxx,this._miny)}},{key:"intersects",value:function(a,o){return this._scaleFactor===1?this.intersectsScaled(a,o):(this.copyScaled(a,this._p0Scaled),this.copyScaled(o,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(a){return Math.round(a*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(a,o){o.x=this.scale(a.x),o.y=this.scale(a.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var a=f.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new We(this._originalPt.x-a,this._originalPt.x+a,this._originalPt.y-a,this._originalPt.y+a)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(a,o){return this._li.computeIntersection(a,o,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,o,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,o,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,o,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(a,o){var d=!1,C=!1;return this._li.computeIntersection(a,o,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(a,o,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(d=!0),this._li.computeIntersection(a,o,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(C=!0),this._li.computeIntersection(a,o,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!d||!C)||!!a.equals(this._pt)||!!o.equals(this._pt))))}},{key:"addSnappedNode",value:function(a,o){var d=a.getCoordinate(o),C=a.getCoordinate(o+1);return!!this.intersects(d,C)&&(a.addIntersection(this.getCoordinate(),o),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var a=arguments[0],o=arguments[1],d=arguments[2];if(this._originalPt=a,this._pt=a,this._scaleFactor=o,this._li=d,o<=0)throw new G("Scale factor must be non-zero");o!==1&&(this._pt=new he(this.scale(a.x),this.scale(a.y)),this._p0Scaled=new he,this._p1Scaled=new he),this.initCorners(this._pt)}}])})();ui.SAFE_ENV_EXPANSION_FACTOR=.75;var Va=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var f=arguments[1];arguments[0].getLineSegment(f,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Tn}}])})(),Ji=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var f=arguments[0];return this.snap(f,null,-1)}if(arguments.length===3){var a=arguments[0],o=arguments[1],d=arguments[2],C=a.getSafeEnvelope(),B=new Ei(a,o,d);return this._index.query(C,new((function(){return c((function K(){i(this,K)}),[{key:"interfaces_",get:function(){return[no]}},{key:"visitItem",value:function(K){K.select(C,B)}}])})())),B.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var f=arguments[0];this._index=f}}])})(),Ei=(function(f){function a(){var o;return i(this,a),o=r(this,a),a.constructor_.apply(o,arguments),o}return w(a,f),c(a,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Sr))return N(a,"select",this,1).apply(this,arguments);var o=arguments[1],d=arguments[0].getContext();if(this._parentEdge===d&&(o===this._hotPixelVertexIndex||o+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(d,o)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var o=arguments[0],d=arguments[1],C=arguments[2];this._hotPixel=o,this._parentEdge=d,this._hotPixelVertexIndex=C}}])})(Va);Ji.HotPixelSnapAction=Ei;var So=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(f,a,o,d){if(f===o&&a===d)return null;var C=f.getCoordinates()[a],B=f.getCoordinates()[a+1],K=o.getCoordinates()[d],se=o.getCoordinates()[d+1];if(this._li.computeIntersection(C,B,K,se),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var xe=0;xe<this._li.getIntersectionNum();xe++)this._interiorIntersections.add(this._li.getIntersection(xe));f.addIntersections(this._li,a,0),o.addIntersections(this._li,d,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[da]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var f=arguments[0];this._li=f,this._interiorIntersections=new Tt}}])})(),Yo=(function(){return c((function f(){i(this,f),f.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(f){var a=Cn.getNodedSubstrings(f),o=new Yi(a);try{o.checkValid()}catch(d){if(!(d instanceof $))throw d;d.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Cn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(f,a){var o=this.findInteriorIntersections(f,a);this.computeIntersectionSnaps(o),this.computeVertexSnaps(f)}},{key:"findInteriorIntersections",value:function(f,a){var o=new So(a);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(f),o.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Et(arguments[0],it))for(var f=arguments[0].iterator();f.hasNext();){var a=f.next();this.computeVertexSnaps(a)}else if(arguments[0]instanceof Cn)for(var o=arguments[0],d=o.getCoordinates(),C=0;C<d.length;C++){var B=new ui(d[C],this._scaleFactor,this._li);this._pointSnapper.snap(B,o,C)&&o.addIntersection(d[C],C)}}},{key:"computeNodes",value:function(f){this._nodedSegStrings=f,this._noder=new di,this._pointSnapper=new Ji(this._noder.getIndex()),this.snapRound(f,this._li)}},{key:"computeIntersectionSnaps",value:function(f){for(var a=f.iterator();a.hasNext();){var o=a.next(),d=new ui(o,this._scaleFactor,this._li);this._pointSnapper.snap(d)}}},{key:"interfaces_",get:function(){return[vr]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var f=arguments[0];this._pm=f,this._li=new oi,this._li.setPrecisionModel(f),this._scaleFactor=f.getScale()}}])})(),pa=(function(){function f(){i(this,f),f.constructor_.apply(this,arguments)}return c(f,[{key:"bufferFixedPrecision",value:function(a){var o=new Ga(new Yo(new kn(1)),a.getScale()),d=new Ua(this._bufParams);d.setWorkingPrecisionModel(a),d.setNoder(o),this._resultGeometry=d.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var a=f.MAX_PRECISION_DIGITS;a>=0;a--){try{this.bufferReducedPrecision(a)}catch(B){if(!(B instanceof tn))throw B;this._saveException=B}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var o=arguments[0],d=f.precisionScaleFactor(this._argGeom,this._distance,o),C=new kn(d);this.bufferFixedPrecision(C)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var a=this._argGeom.getFactory().getPrecisionModel();a.getType()===kn.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(a){this._bufParams.setQuadrantSegments(a)}},{key:"bufferOriginalPrecision",value:function(){try{var a=new Ua(this._bufParams);this._resultGeometry=a.buffer(this._argGeom,this._distance)}catch(o){if(!(o instanceof ne))throw o;this._saveException=o}}},{key:"getResultGeometry",value:function(a){return this._distance=a,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(a){this._bufParams.setEndCapStyle(a)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new R,this._resultGeometry=null,this._saveException=null,arguments.length===1){var a=arguments[0];this._argGeom=a}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this._argGeom=o,this._bufParams=d}}},{key:"bufferOp",value:function(){if(arguments.length===2){var a=arguments[1];return new f(arguments[0]).getResultGeometry(a)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Fe&&typeof arguments[1]=="number"){var o=arguments[1],d=arguments[2],C=new f(arguments[0]);return C.setQuadrantSegments(d),C.getResultGeometry(o)}if(arguments[2]instanceof R&&arguments[0]instanceof Fe&&typeof arguments[1]=="number"){var B=arguments[1];return new f(arguments[0],arguments[2]).getResultGeometry(B)}}else if(arguments.length===4){var K=arguments[1],se=arguments[2],xe=arguments[3],$e=new f(arguments[0]);return $e.setQuadrantSegments(se),$e.setEndCapStyle(xe),$e.getResultGeometry(K)}}},{key:"precisionScaleFactor",value:function(a,o,d){var C=a.getEnvelopeInternal(),B=hn.max(Math.abs(C.getMaxX()),Math.abs(C.getMaxY()),Math.abs(C.getMinX()),Math.abs(C.getMinY()))+2*(o>0?o:0),K=d-Math.trunc(Math.log(B)/Math.log(10)+1);return Math.pow(10,K)}}])})();pa.CAP_ROUND=R.CAP_ROUND,pa.CAP_BUTT=R.CAP_FLAT,pa.CAP_FLAT=R.CAP_FLAT,pa.CAP_SQUARE=R.CAP_SQUARE,pa.MAX_PRECISION_DIGITS=12;var Eo=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Pa=(function(){return c((function f(a){i(this,f),this.geometryFactory=a||new Dr}),[{key:"read",value:function(f){var a,o=(a=typeof f=="string"?JSON.parse(f):f).type;if(!fi[o])throw new Error("Unknown GeoJSON type: "+a.type);return Eo.indexOf(o)!==-1?fi[o].call(this,a.coordinates):o==="GeometryCollection"?fi[o].call(this,a.geometries):fi[o].call(this,a)}},{key:"write",value:function(f){var a=f.getGeometryType();if(!pi[a])throw new Error("Geometry is not supported");return pi[a].call(this,f)}}])})(),fi={Feature:function(f){var a={};for(var o in f)a[o]=f[o];if(f.geometry){var d=f.geometry.type;if(!fi[d])throw new Error("Unknown GeoJSON type: "+f.type);a.geometry=this.read(f.geometry)}return f.bbox&&(a.bbox=fi.bbox.call(this,f.bbox)),a},FeatureCollection:function(f){var a={};if(f.features){a.features=[];for(var o=0;o<f.features.length;++o)a.features.push(this.read(f.features[o]))}return f.bbox&&(a.bbox=this.parse.bbox.call(this,f.bbox)),a},coordinates:function(f){for(var a=[],o=0;o<f.length;++o){var d=f[o];a.push(l(he,I(d)))}return a},bbox:function(f){return this.geometryFactory.createLinearRing([new he(f[0],f[1]),new he(f[2],f[1]),new he(f[2],f[3]),new he(f[0],f[3]),new he(f[0],f[1])])},Point:function(f){var a=l(he,I(f));return this.geometryFactory.createPoint(a)},MultiPoint:function(f){for(var a=[],o=0;o<f.length;++o)a.push(fi.Point.call(this,f[o]));return this.geometryFactory.createMultiPoint(a)},LineString:function(f){var a=fi.coordinates.call(this,f);return this.geometryFactory.createLineString(a)},MultiLineString:function(f){for(var a=[],o=0;o<f.length;++o)a.push(fi.LineString.call(this,f[o]));return this.geometryFactory.createMultiLineString(a)},Polygon:function(f){for(var a=fi.coordinates.call(this,f[0]),o=this.geometryFactory.createLinearRing(a),d=[],C=1;C<f.length;++C){var B=f[C],K=fi.coordinates.call(this,B),se=this.geometryFactory.createLinearRing(K);d.push(se)}return this.geometryFactory.createPolygon(o,d)},MultiPolygon:function(f){for(var a=[],o=0;o<f.length;++o){var d=f[o];a.push(fi.Polygon.call(this,d))}return this.geometryFactory.createMultiPolygon(a)},GeometryCollection:function(f){for(var a=[],o=0;o<f.length;++o){var d=f[o];a.push(this.read(d))}return this.geometryFactory.createGeometryCollection(a)}},pi={coordinate:function(f){var a=[f.x,f.y];return f.z&&a.push(f.z),f.m&&a.push(f.m),a},Point:function(f){return{type:"Point",coordinates:pi.coordinate.call(this,f.getCoordinate())}},MultiPoint:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=pi.Point.call(this,d);a.push(C.coordinates)}return{type:"MultiPoint",coordinates:a}},LineString:function(f){for(var a=[],o=f.getCoordinates(),d=0;d<o.length;++d){var C=o[d];a.push(pi.coordinate.call(this,C))}return{type:"LineString",coordinates:a}},MultiLineString:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=pi.LineString.call(this,d);a.push(C.coordinates)}return{type:"MultiLineString",coordinates:a}},Polygon:function(f){var a=[],o=pi.LineString.call(this,f._shell);a.push(o.coordinates);for(var d=0;d<f._holes.length;++d){var C=f._holes[d],B=pi.LineString.call(this,C);a.push(B.coordinates)}return{type:"Polygon",coordinates:a}},MultiPolygon:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=pi.Polygon.call(this,d);a.push(C.coordinates)}return{type:"MultiPolygon",coordinates:a}},GeometryCollection:function(f){for(var a=[],o=0;o<f._geometries.length;++o){var d=f._geometries[o],C=d.getGeometryType();a.push(pi[C].call(this,d))}return{type:"GeometryCollection",geometries:a}}};return{BufferOp:pa,GeoJSONReader:(function(){return c((function f(a){i(this,f),this.parser=new Pa(a||new Dr)}),[{key:"read",value:function(f){return this.parser.read(f)}}])})(),GeoJSONWriter:(function(){return c((function f(){i(this,f),this.parser=new Pa(this.geometryFactory)}),[{key:"write",value:function(f){return this.parser.write(f)}}])})()}}))})(oh)),oh.exports}var R6=T6();const B6=ep(R6);var Po=63710088e-1,Hb={centimeters:Po*100,centimetres:Po*100,degrees:360/(2*Math.PI),feet:Po*3.28084,inches:Po*39.37,kilometers:Po/1e3,kilometres:Po/1e3,meters:Po,metres:Po,miles:Po/1609.344,millimeters:Po*1e3,millimetres:Po*1e3,nauticalmiles:Po/1852,radians:1,yards:Po*1.0936};function D6(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Wf(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function $6(e,t="kilometers"){const n=Hb[t];if(!n)throw new Error(t+" units is invalid");return e*n}function F6(e,t="kilometers"){const n=Hb[t];if(!n)throw new Error(t+" units is invalid");return e/n}function bv(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function qb(e,t){var n,r,i,l,h,c,g,v,y,w,k=0,x=e.type==="FeatureCollection",N=e.type==="Feature",I=x?e.features.length:1;for(n=0;n<I;n++){for(c=x?e.features[n].geometry:N?e.geometry:e,v=x?e.features[n].properties:N?e.properties:{},y=x?e.features[n].bbox:N?e.bbox:void 0,w=x?e.features[n].id:N?e.id:void 0,g=c?c.type==="GeometryCollection":!1,h=g?c.geometries.length:1,i=0;i<h;i++){if(l=g?c.geometries[i]:c,l===null){if(t(null,k,v,y,w)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,k,v,y,w)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<l.geometries.length;r++)if(t(l.geometries[r],k,v,y,w)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function cl(){return new Mh}function Mh(){this.reset()}Mh.prototype={constructor:Mh,reset:function(){this.s=this.t=0},add:function(e){xv(Wc,e,this.t),xv(this,Wc.s,this.s),this.s?this.t+=Wc.t:this.s=Wc.t},valueOf:function(){return this.s}};var Wc=new Mh;function xv(e,t,n){var r=e.s=t+n,i=r-t,l=r-i;e.t=t-l+(n-i)}var Ci=1e-6,ri=Math.PI,Es=ri/2,wv=ri/4,Ms=ri*2,Qs=180/ri,ts=ri/180,Ra=Math.abs,j6=Math.atan,xu=Math.atan2,Fi=Math.cos,ji=Math.sin,Ou=Math.sqrt;function Ub(e){return e>1?0:e<-1?ri:Math.acos(e)}function Al(e){return e>1?Es:e<-1?-Es:Math.asin(e)}function Uu(){}function Ph(e,t){e&&Sv.hasOwnProperty(e.type)&&Sv[e.type](e,t)}var Cv={Feature:function(e,t){Ph(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Ph(n[r].geometry,t)}},Sv={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Kf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Kf(n[r],t,0)},Polygon:function(e,t){Ev(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ev(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Ph(n[r],t)}};function Kf(e,t,n){var r=-1,i=e.length-n,l;for(t.lineStart();++r<i;)l=e[r],t.point(l[0],l[1],l[2]);t.lineEnd()}function Ev(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Kf(e[n],t,1);t.polygonEnd()}function z6(e,t){e&&Cv.hasOwnProperty(e.type)?Cv[e.type](e,t):Ph(e,t)}cl();cl();function Xf(e){return[xu(e[1],e[0]),Al(e[2])]}function wu(e){var t=e[0],n=e[1],r=Fi(n);return[r*Fi(t),r*ji(t),ji(n)]}function Kc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ih(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function uf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Xc(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Zf(e){var t=Ou(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}cl();function Gb(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Yf(e,t){return[e>ri?e-Ms:e<-ri?e+Ms:e,t]}Yf.invert=Yf;function H6(e,t,n){return(e%=Ms)?t||n?Gb(Lv(e),Nv(t,n)):Lv(e):t||n?Nv(t,n):Yf}function kv(e){return function(t,n){return t+=e,[t>ri?t-Ms:t<-ri?t+Ms:t,n]}}function Lv(e){var t=kv(e);return t.invert=kv(-e),t}function Nv(e,t){var n=Fi(e),r=ji(e),i=Fi(t),l=ji(t);function h(c,g){var v=Fi(g),y=Fi(c)*v,w=ji(c)*v,k=ji(g),x=k*n+y*r;return[xu(w*i-x*l,y*n-k*r),Al(x*i+w*l)]}return h.invert=function(c,g){var v=Fi(g),y=Fi(c)*v,w=ji(c)*v,k=ji(g),x=k*i-w*l;return[xu(w*i+k*l,y*n+x*r),Al(x*n-y*r)]},h}function q6(e,t,n,r,i,l){if(n){var h=Fi(t),c=ji(t),g=r*n;i==null?(i=t+r*Ms,l=t-g/2):(i=Mv(h,i),l=Mv(h,l),(r>0?i<l:i>l)&&(i+=r*Ms));for(var v,y=i;r>0?y>l:y<l;y-=g)v=Xf([h,-c*Fi(y),-c*ji(y)]),e.point(v[0],v[1])}}function Mv(e,t){t=wu(t),t[0]-=e,Zf(t);var n=Ub(-t[1]);return((-t[2]<0?-n:n)+Ms-Ci)%Ms}function Vb(){var e=[],t;return{point:function(n,r){t.push([n,r])},lineStart:function(){e.push(t=[])},lineEnd:Uu,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function U6(e,t,n,r,i,l){var h=e[0],c=e[1],g=t[0],v=t[1],y=0,w=1,k=g-h,x=v-c,N;if(N=n-h,!(!k&&N>0)){if(N/=k,k<0){if(N<y)return;N<w&&(w=N)}else if(k>0){if(N>w)return;N>y&&(y=N)}if(N=i-h,!(!k&&N<0)){if(N/=k,k<0){if(N>w)return;N>y&&(y=N)}else if(k>0){if(N<y)return;N<w&&(w=N)}if(N=r-c,!(!x&&N>0)){if(N/=x,x<0){if(N<y)return;N<w&&(w=N)}else if(x>0){if(N>w)return;N>y&&(y=N)}if(N=l-c,!(!x&&N<0)){if(N/=x,x<0){if(N>w)return;N>y&&(y=N)}else if(x>0){if(N<y)return;N<w&&(w=N)}return y>0&&(e[0]=h+y*k,e[1]=c+y*x),w<1&&(t[0]=h+w*k,t[1]=c+w*x),!0}}}}}function sh(e,t){return Ra(e[0]-t[0])<Ci&&Ra(e[1]-t[1])<Ci}function Zc(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Wb(e,t,n,r,i){var l=[],h=[],c,g;if(e.forEach(function(N){if(!((I=N.length-1)<=0)){var I,O=N[0],T=N[I],F;if(sh(O,T)){for(i.lineStart(),c=0;c<I;++c)i.point((O=N[c])[0],O[1]);i.lineEnd();return}l.push(F=new Zc(O,N,null,!0)),h.push(F.o=new Zc(O,null,F,!1)),l.push(F=new Zc(T,N,null,!1)),h.push(F.o=new Zc(T,null,F,!0))}}),!!l.length){for(h.sort(t),Pv(l),Pv(h),c=0,g=h.length;c<g;++c)h[c].e=n=!n;for(var v=l[0],y,w;;){for(var k=v,x=!0;k.v;)if((k=k.n)===v)return;y=k.z,i.lineStart();do{if(k.v=k.o.v=!0,k.e){if(x)for(c=0,g=y.length;c<g;++c)i.point((w=y[c])[0],w[1]);else r(k.x,k.n.x,1,i);k=k.n}else{if(x)for(y=k.p.z,c=y.length-1;c>=0;--c)i.point((w=y[c])[0],w[1]);else r(k.x,k.p.x,-1,i);k=k.p}k=k.o,y=k.z,x=!x}while(!k.v);i.lineEnd()}}}function Pv(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Kb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function G6(e){return e.length===1&&(e=V6(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var l=r+i>>>1;e(t[l],n)<0?r=l+1:i=l}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var l=r+i>>>1;e(t[l],n)>0?i=l:r=l+1}return r}}}function V6(e){return function(t,n){return Kb(e(t),n)}}G6(Kb);function Xb(e){for(var t=e.length,n,r=-1,i=0,l,h;++r<t;)i+=e[r].length;for(l=new Array(i);--t>=0;)for(h=e[t],n=h.length;--n>=0;)l[--i]=h[n];return l}var Gu=1e9,Yc=-Gu;function W6(e,t,n,r){function i(v,y){return e<=v&&v<=n&&t<=y&&y<=r}function l(v,y,w,k){var x=0,N=0;if(v==null||(x=h(v,w))!==(N=h(y,w))||g(v,y)<0^w>0)do k.point(x===0||x===3?e:n,x>1?r:t);while((x=(x+w+4)%4)!==N);else k.point(y[0],y[1])}function h(v,y){return Ra(v[0]-e)<Ci?y>0?0:3:Ra(v[0]-n)<Ci?y>0?2:1:Ra(v[1]-t)<Ci?y>0?1:0:y>0?3:2}function c(v,y){return g(v.x,y.x)}function g(v,y){var w=h(v,1),k=h(y,1);return w!==k?w-k:w===0?y[1]-v[1]:w===1?v[0]-y[0]:w===2?v[1]-y[1]:y[0]-v[0]}return function(v){var y=v,w=Vb(),k,x,N,I,O,T,F,R,$,G,Q,ee={point:Y,lineStart:U,lineEnd:te,polygonStart:oe,polygonEnd:D};function Y(J,ie){i(J,ie)&&y.point(J,ie)}function q(){for(var J=0,ie=0,le=x.length;ie<le;++ie)for(var ue=x[ie],be=1,Le=ue.length,Re=ue[0],ne,ce,me=Re[0],we=Re[1];be<Le;++be)ne=me,ce=we,Re=ue[be],me=Re[0],we=Re[1],ce<=r?we>r&&(me-ne)*(r-ce)>(we-ce)*(e-ne)&&++J:we<=r&&(me-ne)*(r-ce)<(we-ce)*(e-ne)&&--J;return J}function oe(){y=w,k=[],x=[],Q=!0}function D(){var J=q(),ie=Q&&J,le=(k=Xb(k)).length;(ie||le)&&(v.polygonStart(),ie&&(v.lineStart(),l(null,null,1,v),v.lineEnd()),le&&Wb(k,c,J,l,v),v.polygonEnd()),y=v,k=x=N=null}function U(){ee.point=V,x&&x.push(N=[]),G=!0,$=!1,F=R=NaN}function te(){k&&(V(I,O),T&&$&&w.rejoin(),k.push(w.result())),ee.point=Y,$&&y.lineEnd()}function V(J,ie){var le=i(J,ie);if(x&&N.push([J,ie]),G)I=J,O=ie,T=le,G=!1,le&&(y.lineStart(),y.point(J,ie));else if(le&&$)y.point(J,ie);else{var ue=[F=Math.max(Yc,Math.min(Gu,F)),R=Math.max(Yc,Math.min(Gu,R))],be=[J=Math.max(Yc,Math.min(Gu,J)),ie=Math.max(Yc,Math.min(Gu,ie))];U6(ue,be,e,t,n,r)?($||(y.lineStart(),y.point(ue[0],ue[1])),y.point(be[0],be[1]),le||y.lineEnd(),Q=!1):le&&(y.lineStart(),y.point(J,ie),Q=!1)}F=J,R=ie,$=le}return ee}}var cf=cl();function K6(e,t){var n=t[0],r=t[1],i=[ji(n),-Fi(n),0],l=0,h=0;cf.reset();for(var c=0,g=e.length;c<g;++c)if(y=(v=e[c]).length)for(var v,y,w=v[y-1],k=w[0],x=w[1]/2+wv,N=ji(x),I=Fi(x),O=0;O<y;++O,k=F,N=$,I=G,w=T){var T=v[O],F=T[0],R=T[1]/2+wv,$=ji(R),G=Fi(R),Q=F-k,ee=Q>=0?1:-1,Y=ee*Q,q=Y>ri,oe=N*$;if(cf.add(xu(oe*ee*ji(Y),I*G+oe*Fi(Y))),l+=q?Q+ee*Ms:Q,q^k>=n^F>=n){var D=Ih(wu(w),wu(T));Zf(D);var U=Ih(i,D);Zf(U);var te=(q^Q>=0?-1:1)*Al(U[2]);(r>te||r===te&&(D[0]||D[1]))&&(h+=q^Q>=0?1:-1)}}return(l<-Ci||l<Ci&&cf<-Ci)^h&1}cl();function Iv(e){return e}cl();cl();var Cu=1/0,Oh=Cu,lc=-Cu,Ah=lc,Ov={point:X6,lineStart:Uu,lineEnd:Uu,polygonStart:Uu,polygonEnd:Uu,result:function(){var e=[[Cu,Oh],[lc,Ah]];return lc=Ah=-(Oh=Cu=1/0),e}};function X6(e,t){e<Cu&&(Cu=e),e>lc&&(lc=e),t<Oh&&(Oh=t),t>Ah&&(Ah=t)}cl();function Zb(e,t,n,r){return function(i,l){var h=t(l),c=i.invert(r[0],r[1]),g=Vb(),v=t(g),y=!1,w,k,x,N={point:I,lineStart:T,lineEnd:F,polygonStart:function(){N.point=R,N.lineStart=$,N.lineEnd=G,k=[],w=[]},polygonEnd:function(){N.point=I,N.lineStart=T,N.lineEnd=F,k=Xb(k);var Q=K6(w,c);k.length?(y||(l.polygonStart(),y=!0),Wb(k,Y6,Q,n,l)):Q&&(y||(l.polygonStart(),y=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),y&&(l.polygonEnd(),y=!1),k=w=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function I(Q,ee){var Y=i(Q,ee);e(Q=Y[0],ee=Y[1])&&l.point(Q,ee)}function O(Q,ee){var Y=i(Q,ee);h.point(Y[0],Y[1])}function T(){N.point=O,h.lineStart()}function F(){N.point=I,h.lineEnd()}function R(Q,ee){x.push([Q,ee]);var Y=i(Q,ee);v.point(Y[0],Y[1])}function $(){v.lineStart(),x=[]}function G(){R(x[0][0],x[0][1]),v.lineEnd();var Q=v.clean(),ee=g.result(),Y,q=ee.length,oe,D,U;if(x.pop(),w.push(x),x=null,!!q){if(Q&1){if(D=ee[0],(oe=D.length-1)>0){for(y||(l.polygonStart(),y=!0),l.lineStart(),Y=0;Y<oe;++Y)l.point((U=D[Y])[0],U[1]);l.lineEnd()}return}q>1&&Q&2&&ee.push(ee.pop().concat(ee.shift())),k.push(ee.filter(Z6))}}return N}}function Z6(e){return e.length>1}function Y6(e,t){return((e=e.x)[0]<0?e[1]-Es-Ci:Es-e[1])-((t=t.x)[0]<0?t[1]-Es-Ci:Es-t[1])}const Av=Zb(function(){return!0},J6,eA,[-ri,-Es]);function J6(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(l,h){var c=l>0?ri:-ri,g=Ra(l-t);Ra(g-ri)<Ci?(e.point(t,n=(n+h)/2>0?Es:-Es),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),e.point(l,n),i=0):r!==c&&g>=ri&&(Ra(t-r)<Ci&&(t-=r*Ci),Ra(l-c)<Ci&&(l-=c*Ci),n=Q6(t,n,l,h),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),i=0),e.point(t=l,n=h),r=c},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Q6(e,t,n,r){var i,l,h=ji(e-n);return Ra(h)>Ci?j6((ji(t)*(l=Fi(r))*ji(n)-ji(r)*(i=Fi(t))*ji(e))/(i*l*h)):(t+r)/2}function eA(e,t,n,r){var i;if(e==null)i=n*Es,r.point(-ri,i),r.point(0,i),r.point(ri,i),r.point(ri,0),r.point(ri,-i),r.point(0,-i),r.point(-ri,-i),r.point(-ri,0),r.point(-ri,i);else if(Ra(e[0]-t[0])>Ci){var l=e[0]<t[0]?ri:-ri;i=n*l/2,r.point(-l,i),r.point(0,i),r.point(l,i)}else r.point(t[0],t[1])}function tA(e,t){var n=Fi(e),r=n>0,i=Ra(n)>Ci;function l(y,w,k,x){q6(x,e,t,k,y,w)}function h(y,w){return Fi(y)*Fi(w)>n}function c(y){var w,k,x,N,I;return{lineStart:function(){N=x=!1,I=1},point:function(O,T){var F=[O,T],R,$=h(O,T),G=r?$?0:v(O,T):$?v(O+(O<0?ri:-ri),T):0;if(!w&&(N=x=$)&&y.lineStart(),$!==x&&(R=g(w,F),(!R||sh(w,R)||sh(F,R))&&(F[0]+=Ci,F[1]+=Ci,$=h(F[0],F[1]))),$!==x)I=0,$?(y.lineStart(),R=g(F,w),y.point(R[0],R[1])):(R=g(w,F),y.point(R[0],R[1]),y.lineEnd()),w=R;else if(i&&w&&r^$){var Q;!(G&k)&&(Q=g(F,w,!0))&&(I=0,r?(y.lineStart(),y.point(Q[0][0],Q[0][1]),y.point(Q[1][0],Q[1][1]),y.lineEnd()):(y.point(Q[1][0],Q[1][1]),y.lineEnd(),y.lineStart(),y.point(Q[0][0],Q[0][1])))}$&&(!w||!sh(w,F))&&y.point(F[0],F[1]),w=F,x=$,k=G},lineEnd:function(){x&&y.lineEnd(),w=null},clean:function(){return I|(N&&x)<<1}}}function g(y,w,k){var x=wu(y),N=wu(w),I=[1,0,0],O=Ih(x,N),T=Kc(O,O),F=O[0],R=T-F*F;if(!R)return!k&&y;var $=n*T/R,G=-n*F/R,Q=Ih(I,O),ee=Xc(I,$),Y=Xc(O,G);uf(ee,Y);var q=Q,oe=Kc(ee,q),D=Kc(q,q),U=oe*oe-D*(Kc(ee,ee)-1);if(!(U<0)){var te=Ou(U),V=Xc(q,(-oe-te)/D);if(uf(V,ee),V=Xf(V),!k)return V;var J=y[0],ie=w[0],le=y[1],ue=w[1],be;ie<J&&(be=J,J=ie,ie=be);var Le=ie-J,Re=Ra(Le-ri)<Ci,ne=Re||Le<Ci;if(!Re&&ue<le&&(be=le,le=ue,ue=be),ne?Re?le+ue>0^V[1]<(Ra(V[0]-J)<Ci?le:ue):le<=V[1]&&V[1]<=ue:Le>ri^(J<=V[0]&&V[0]<=ie)){var ce=Xc(q,(-oe+te)/D);return uf(ce,ee),[V,Xf(ce)]}}}function v(y,w){var k=r?e:ri-e,x=0;return y<-k?x|=1:y>k&&(x|=2),w<-k?x|=4:w>k&&(x|=8),x}return Zb(h,c,l,r?[0,-e]:[-ri,e-ri])}function Yb(e){return function(t){var n=new Jf;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Jf(){}Jf.prototype={constructor:Jf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jb(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],l=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),l!=null&&e.clipExtent(null),z6(n,e.stream(Ov));var h=Ov.result(),c=Math.min(r/(h[1][0]-h[0][0]),i/(h[1][1]-h[0][1])),g=+t[0][0]+(r-c*(h[1][0]+h[0][0]))/2,v=+t[0][1]+(i-c*(h[1][1]+h[0][1]))/2;return l!=null&&e.clipExtent(l),e.scale(c*150).translate([g,v])}function nA(e,t,n){return Jb(e,[[0,0],t],n)}var Tv=16,rA=Fi(30*ts);function Rv(e,t){return+t?aA(e,t):iA(e)}function iA(e){return Yb({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function aA(e,t){function n(r,i,l,h,c,g,v,y,w,k,x,N,I,O){var T=v-r,F=y-i,R=T*T+F*F;if(R>4*t&&I--){var $=h+k,G=c+x,Q=g+N,ee=Ou($*$+G*G+Q*Q),Y=Al(Q/=ee),q=Ra(Ra(Q)-1)<Ci||Ra(l-w)<Ci?(l+w)/2:xu(G,$),oe=e(q,Y),D=oe[0],U=oe[1],te=D-r,V=U-i,J=F*te-T*V;(J*J/R>t||Ra((T*te+F*V)/R-.5)>.3||h*k+c*x+g*N<rA)&&(n(r,i,l,h,c,g,D,U,q,$/=ee,G/=ee,Q,I,O),O.point(D,U),n(D,U,q,$,G,Q,v,y,w,k,x,N,I,O))}}return function(r){var i,l,h,c,g,v,y,w,k,x,N,I,O={point:T,lineStart:F,lineEnd:$,polygonStart:function(){r.polygonStart(),O.lineStart=G},polygonEnd:function(){r.polygonEnd(),O.lineStart=F}};function T(Y,q){Y=e(Y,q),r.point(Y[0],Y[1])}function F(){w=NaN,O.point=R,r.lineStart()}function R(Y,q){var oe=wu([Y,q]),D=e(Y,q);n(w,k,y,x,N,I,w=D[0],k=D[1],y=Y,x=oe[0],N=oe[1],I=oe[2],Tv,r),r.point(w,k)}function $(){O.point=T,r.lineEnd()}function G(){F(),O.point=Q,O.lineEnd=ee}function Q(Y,q){R(i=Y,q),l=w,h=k,c=x,g=N,v=I,O.point=R}function ee(){n(w,k,y,x,N,I,l,h,i,c,g,v,Tv,r),O.lineEnd=$,$()}return O}}var oA=Yb({point:function(e,t){this.stream.point(e*ts,t*ts)}});function sA(e){return lA(function(){return e})()}function lA(e){var t,n=150,r=480,i=250,l,h,c=0,g=0,v=0,y=0,w=0,k,x,N=null,I=Av,O=null,T,F,R,$=Iv,G=.5,Q=Rv(D,G),ee,Y;function q(V){return V=x(V[0]*ts,V[1]*ts),[V[0]*n+l,h-V[1]*n]}function oe(V){return V=x.invert((V[0]-l)/n,(h-V[1])/n),V&&[V[0]*Qs,V[1]*Qs]}function D(V,J){return V=t(V,J),[V[0]*n+l,h-V[1]*n]}q.stream=function(V){return ee&&Y===V?ee:ee=oA(I(k,Q($(Y=V))))},q.clipAngle=function(V){return arguments.length?(I=+V?tA(N=V*ts,6*ts):(N=null,Av),te()):N*Qs},q.clipExtent=function(V){return arguments.length?($=V==null?(O=T=F=R=null,Iv):W6(O=+V[0][0],T=+V[0][1],F=+V[1][0],R=+V[1][1]),te()):O==null?null:[[O,T],[F,R]]},q.scale=function(V){return arguments.length?(n=+V,U()):n},q.translate=function(V){return arguments.length?(r=+V[0],i=+V[1],U()):[r,i]},q.center=function(V){return arguments.length?(c=V[0]%360*ts,g=V[1]%360*ts,U()):[c*Qs,g*Qs]},q.rotate=function(V){return arguments.length?(v=V[0]%360*ts,y=V[1]%360*ts,w=V.length>2?V[2]%360*ts:0,U()):[v*Qs,y*Qs,w*Qs]},q.precision=function(V){return arguments.length?(Q=Rv(D,G=V*V),te()):Ou(G)},q.fitExtent=function(V,J){return Jb(q,V,J)},q.fitSize=function(V,J){return nA(q,V,J)};function U(){x=Gb(k=H6(v,y,w),t);var V=t(c,g);return l=r-V[0]*n,h=i+V[1]*n,te()}function te(){return ee=Y=null,q}return function(){return t=e.apply(this,arguments),q.invert=t.invert&&oe,U()}}function Qb(e){return function(t,n){var r=Fi(t),i=Fi(n),l=e(r*i);return[l*i*ji(t),l*ji(n)]}}function ex(e){return function(t,n){var r=Ou(t*t+n*n),i=e(r),l=ji(i),h=Fi(i);return[xu(t*l,r*h),Al(r&&n*l/r)]}}var uA=Qb(function(e){return Ou(2/(1+e))});uA.invert=ex(function(e){return 2*Al(e/2)});var tx=Qb(function(e){return(e=Ub(e))&&e/ji(e)});tx.invert=ex(function(e){return e});function cA(){return sA(tx).scale(79.4188).clipAngle(180-.001)}function Bv(e,t){return[e,t]}Bv.invert=Bv;var{BufferOp:hA,GeoJSONReader:dA,GeoJSONWriter:fA}=B6;function pA(e,t,n){n=n||{};var r=n.units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var l=[];switch(e.type){case"GeometryCollection":return qb(e,function(h){var c=lh(h,t,r,i);c&&l.push(c)}),Wf(l);case"FeatureCollection":return bv(e,function(h){var c=lh(h,t,r,i);c&&bv(c,function(g){g&&l.push(g)})}),Wf(l)}return lh(e,t,r,i)}function lh(e,t,n,r){var i=e.properties||{},l=e.type==="Feature"?e.geometry:e;if(l.type==="GeometryCollection"){var h=[];return qb(e,function(I){var O=lh(I,t,n,r);O&&h.push(O)}),Wf(h)}var c=gA(l),g={type:l.type,coordinates:rx(l.coordinates,c)},v=new dA,y=v.read(g),w=$6(F6(t,n),"meters"),k=hA.bufferOp(y,w,r),x=new fA;if(k=x.write(k),!nx(k.coordinates)){var N={type:k.type,coordinates:ix(k.coordinates,c)};return D6(N,i)}}function nx(e){return Array.isArray(e[0])?nx(e[0]):isNaN(e[0])}function rx(e,t){return typeof e[0]!="object"?t(e):e.map(function(n){return rx(n,t)})}function ix(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(n){return ix(n,t)})}function gA(e){var t=O6(e).geometry.coordinates,n=[-t[0],-t[1]];return cA().rotate(n).scale(Po)}const{Text:Hu}=Fl,mA=[{value:"meters",label:"Meters"},{value:"kilometers",label:"Kilometers"},{value:"miles",label:"Miles"},{value:"feet",label:"Feet"}];function vA({clearDataOnClose:e=!0,open:t=!1}){const n=Ko(),r=$r(O=>O.map.multiSelectedFeatures),i=$r(O=>O.map.bufferOrder)||[],[l,h]=b.useState(100),[c,g]=b.useState("meters"),[v,y]=b.useState([]),w=b.useMemo(()=>{const O=Array.isArray(r)?r:[];return O&&O.length>0?O.map(T=>({...T})):[]},[r]),k=w.length>0,x=b.useCallback(()=>{if(!k){fs.info("No selected features to buffer.");return}if(!l||Number(l)<=0){fs.error("Distance must be a positive number.");return}try{const O=[];if(w.forEach(R=>{const $=R.feature;if(!$||!$.geometry)return;const G=$.type==="Feature"?$:L6($),Q=pA(G,Number(l),{units:c});Q&&Q.geometry&&O.push(Q)}),O.length===0){fs.error("Buffer creation failed for selected features.");return}const T=N6(O),F=`buffer-${l}${c}-${Date.now()}`;n(ag({layerId:F,geoJsonData:T,metaData:{layer:{layer_nm:`Buffer ${Date.now()}`},style:{geom_typ:"polygon",stroke_color:"#ff0000",fill_color:"#ff0000",fill_opacity:.25,stroke_width:2}},isActive:!0})),y(R=>[...R,F]),fs.success("Buffer created")}catch(O){console.error("Buffer error:",O),fs.error("Error creating buffer")}},[n,k,l,c,w]),N=b.useCallback(()=>{y([]),n(zv()),fs.success("Cleared buffers")},[n]),I=b.useCallback(O=>{O&&(n(ag({layerId:O,isActive:!1})),y(T=>T.filter(F=>F!==O)),fs.success("Buffer removed"))},[n]);return b.useEffect(()=>{i.length===0&&y([])},[i]),b.useEffect(()=>()=>{e&&N()},[e,N]),Ie.jsx(Ie.Fragment,{children:Ie.jsxs(_a,{direction:"vertical",style:{width:"100%"},children:[Ie.jsxs("div",{children:[Ie.jsx(Hu,{strong:!0,children:"Selected features:"}),Ie.jsx("div",{style:{marginTop:6},children:Ie.jsxs(Hu,{type:"secondary",children:[w.length," feature(s) selected"]})})]}),Ie.jsxs("div",{children:[Ie.jsx(Hu,{strong:!0,children:"Distance"}),Ie.jsxs("div",{style:{marginTop:6,display:"flex",gap:8},children:[Ie.jsx(m_,{min:0,value:l,onChange:O=>h(O),style:{width:140}}),Ie.jsx(ks,{options:mA,value:c,onChange:O=>g(O),style:{width:160}})]})]}),Ie.jsxs("div",{style:{display:"flex",gap:8},children:[Ie.jsx(ii,{type:"primary",onClick:x,disabled:!k,children:"Create Buffer"}),Ie.jsx(ii,{onClick:N,danger:!0,children:"Clear All"})]}),Ie.jsxs("div",{children:[Ie.jsx(Hu,{strong:!0,children:"Created buffers"}),Ie.jsx(ic,{size:"small",bordered:!0,style:{marginTop:8,maxHeight:240,overflow:"auto"},dataSource:[...v].reverse(),locale:{emptyText:"No buffers created"},renderItem:O=>Ie.jsx(ic.Item,{actions:[Ie.jsx(ii,{size:"small",onClick:()=>I(O),children:"Remove"})],children:Ie.jsx(Hu,{code:!0,children:O})})})]})]})})}const yA=b.memo(vA);function _A(){const e=Ko(),t=$r(n=>n.ui.isBufferOpen);return Ie.jsx(jp,{title:"Buffer Tool",placement:"bottom",onClose:()=>e(gf()),open:t,height:"45vh",getContainer:!1,mask:!1,afterOpenChange:n=>{},minimized:!0,children:Ie.jsxs(ku,{gutter:12,style:{height:"100%"},children:[Ie.jsx(gs,{xs:24,sm:10,md:8,lg:7,style:{minWidth:260,height:"100%"},children:Ie.jsx(fh,{size:"small",style:{height:"100%"},styles:{body:{height:"100%",padding:12,overflow:"auto"}},children:t&&Ie.jsx(yA,{open:t,clearDataOnClose:!0})})}),Ie.jsx(gs,{xs:24,sm:14,md:16,lg:17,style:{minWidth:320,height:"100%"},children:Ie.jsx(fh,{size:"small",style:{height:"100%"},styles:{body:{height:"100%",padding:12,overflow:"auto"}},children:t&&Ie.jsx($1,{csvDownloader:!1,clearDataOnTabChange:!0,clearDataOnClose:!0,defaultSelectAll:!0})})})]})})}const{Text:hf}=Fl,ax=b.memo(({option:e,disabled:t})=>Ie.jsx(Ns,{value:e.value,disabled:t,style:{width:"100%"},children:Ie.jsxs(_a,{style:{width:"100%",justifyContent:"space-between"},children:[Ie.jsxs(_a,{children:[Ie.jsx(R1,{iconInfo:e?.styleInfo}),Ie.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.label})]}),Ie.jsx(_a,{size:"small",children:t&&Ie.jsx($l,{size:"small"})})]})}));ax.displayName="LayerCheckbox";const ox=b.memo(({layers:e=[]})=>{const t=Ko(),{portalId:n}=$r(T=>T.portal),r=$r(T=>T.ui.loadingMessage),[i,l]=b.useState({checkedLayers:[],loadingLayers:new Set,pendingRequests:new Map}),[h]=RN(),c=$r(T=>T.map.geoJsonLayers||{}),[g,v]=b.useState(""),y=b.useMemo(()=>{const T=e.filter($=>$?.layer_order_no==="0");return[...e.filter($=>$?.layer_order_no!=="0").sort(($,G)=>{const Q=Number($.layer_order_no),ee=Number(G.layer_order_no);return Q-ee}),...T]?.map(($,G)=>({label:$.layer_mst.layer_nm,value:$.layer_mst.layer_id,styleInfo:{geom_typ:$.geomStyle_mst.geom_typ,fill_color:$.geomStyle_mst.fill_color,stroke_color:$.geomStyle_mst.stroke_color,marker_fa_icon_name:$.geomStyle_mst.marker_fa_icon_name,marker_color:$.geomStyle_mst.marker_color,marker_size:$.geomStyle_mst.marker_size,marker_img_url:$.geomStyle_mst.marker_img_url},orderNo:G.toString()}))||[]},[e]),w=b.useMemo(()=>{const T=(g||"").trim().toLowerCase();return T?y.filter(F=>(F.label||"").toLowerCase().includes(T)):y},[y,g]);b.useEffect(()=>{if(!y?.length)return;const T=y.map(F=>F.value).filter(F=>!!c[F]);l(F=>({...F,checkedLayers:T}))},[y,c]);const k=b.useCallback((T,F,R,$,G)=>{t(bx({layerId:T,geoJsonData:F,metaData:R,isActive:$,orderNo:G}))},[t]),x=b.useCallback(async T=>{l(F=>({...F,loadingLayers:new Set([...F.loadingLayers,T])}));try{const F=await h({layerId:T,portalId:n}).unwrap();l(R=>{if(!R.checkedLayers.includes(T))return R;const $=F?.metaData||{},G=y.find(ee=>ee.value===T)?.orderNo||"0";k(T,F.geojson,$,!0,G);const Q=new Set(R.loadingLayers);return Q.delete(T),{...R,loadingLayers:Q}})}catch(F){F?.name!=="AbortError"&&console.error(`Error fetching layer ${T}:`,F),l(R=>{const $=new Set(R.loadingLayers);return $.delete(T),{...R,loadingLayers:$}})}},[h,k,n,y]),N=b.useCallback(async T=>{const F=new Set(i.checkedLayers),R=new Set(T),$=T.filter(Q=>!F.has(Q)&&!c[Q]),G=[...F].filter(Q=>!R.has(Q));l(Q=>({...Q,checkedLayers:T})),$.forEach(x),G.forEach(Q=>{k(Q,null,{},!1,"0")})},[i.checkedLayers,x,k,c]);b.useEffect(()=>{(async()=>{if(!y?.length)return;const F=y.filter(R=>e.find(G=>G.layer_mst.layer_id===R.value)?.default_view_flg==="Y");if(F.length){t(og("Loading default layers..."));try{const R=F.map(G=>h({layerId:G.value,portalId:n}).unwrap());(await Promise.all(R)).forEach((G,Q)=>{const ee=F[Q].value,Y=G?.metaData||{},q=F[Q].orderNo||"0";k(ee,G.geojson,Y,!0,q)}),l(G=>({...G,checkedLayers:[...G.checkedLayers,...F.map(Q=>Q.value)]}))}catch(R){console.error("Error loading default layers:",R)}finally{t(og(null))}}})()},[y,e,t,h,k,n]),b.useCallback(()=>{const T=w.map(R=>R.value),F=new Set(i.checkedLayers||[]);T.forEach(R=>F.add(R)),N(Array.from(F))},[w,i.checkedLayers,N]);const I=b.useCallback(()=>{const T=new Set(w.map(R=>R.value)),F=(i.checkedLayers||[]).filter(R=>!T.has(R));N(F)},[w,i.checkedLayers,N]),O=(i.checkedLayers||[]).length;return Ie.jsxs(fh,{size:"small",bordered:!1,styles:{body:{padding:12}},style:{width:"100%"},title:Ie.jsxs(ku,{align:"middle",justify:"space-between",style:{gap:8},children:[Ie.jsxs(gs,{children:[Ie.jsx(hf,{strong:!0,style:{fontSize:16},children:"Layers"}),Ie.jsxs("div",{style:{fontSize:12,color:"var(--muted, rgba(0,0,0,0.45))"},children:[Ie.jsxs(hf,{type:"secondary",style:{marginRight:8},children:[O," active"]}),Ie.jsxs(hf,{type:"secondary",children:[y.length," available"]})]})]}),Ie.jsx(gs,{children:Ie.jsx(_a,{children:Ie.jsx(sa,{title:"Deselect visible",children:Ie.jsx(ii,{type:"text",size:"small",icon:Ie.jsx(EN,{}),onClick:I})})})})]}),children:[r&&Ie.jsx(is,{title:"Loading",open:!!r,footer:null,closable:!1,children:Ie.jsxs(_a,{children:[Ie.jsx($l,{}),Ie.jsx("span",{children:r})]})}),Ie.jsx(Wu,{prefix:Ie.jsx(Gh,{}),placeholder:"Search layers...",allowClear:!0,size:"middle",onChange:T=>v(T.target.value),value:g,style:{marginBottom:8}}),Ie.jsx(nl,{style:{margin:"8px 0"}}),Ie.jsx(Ns.Group,{onChange:N,value:i.checkedLayers,style:{width:"100%"},children:w.length===0?Ie.jsx(dh,{image:dh.PRESENTED_IMAGE_SIMPLE,description:"No layers"}):Ie.jsx(ic,{size:"small",dataSource:w,split:!1,renderItem:T=>{const F=i.loadingLayers.has(T.value);return Ie.jsx(ic.Item,{style:{padding:"6px 0"},children:Ie.jsx(ax,{option:T,disabled:F})},T.value)},style:{overflow:"auto"}})})]})});ox.displayName="LayerPanel";const sx=b.memo(({})=>{const e=Ko(),{portalId:t}=$r(h=>h.portal),[n,{data:r,isLoading:i,error:l}]=TN();return b.useEffect(()=>{t&&n(t)},[t,n]),b.useEffect(()=>{const h=r?.portalDetails?.max_zoom;typeof h=="number"&&e(qv({zoom:h}))},[r,e]),i?Ie.jsx("div",{children:"Loading layers..."}):l?Ie.jsxs("div",{children:["Error loading layers: ",l.message]}):Ie.jsxs("div",{className:"sider-inner",children:[Ie.jsx(w1,{portalDetails:r?.portalDetails}),Ie.jsx(ox,{layers:r?.layers})]})});sx.displayName="Sidebar";var df={exports:{}},Dv;function bA(){return Dv||(Dv=1,(function(e,t){(function(n,r){e.exports=n(L1()),typeof r<"u"&&r.L&&(r.L.Control.MiniMap=n(L),r.L.control.minimap=function(i,l){return new r.L.Control.MiniMap(i,l)})})(function(n){var r=n.Control.extend({includes:n.Evented?n.Evented.prototype:n.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(i,l){n.Util.setOptions(this,l),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=i},onAdd:function(i){this._mainMap=i,this._container=n.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",n.DomEvent.disableClickPropagation(this._container),n.DomEvent.on(this._container,"mousewheel",n.DomEvent.stopPropagation);var l={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:i.options.crs};return l=n.Util.extend(this.options.mapOptions,l),this._miniMap=new n.Map(this._container,l),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(n.Util.bind(function(){this._aimingRect=n.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=n.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(i){n.Control.prototype.addTo.call(this,i);var l=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(l,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(i){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(i){this._miniMap.removeLayer(this._layer),this._layer=i,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(i,l,h,c,g,v){var y=n.DomUtil.create("a",h,c);y.innerHTML=i,y.href="#",y.title=l;var w=n.DomEvent.stopPropagation;return n.DomEvent.on(y,"click",w).on(y,"mousedown",w).on(y,"dblclick",w).on(y,"click",n.DomEvent.preventDefault).on(y,"click",g,v),y},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(i){i!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(i){if(this._miniMapMoving)this._miniMapMoving=!1;else{var l=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(l,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(i){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(i){if(!this.options.centerFixed){var l=this._aimingRect.getBounds(),h=this._miniMap.latLngToContainerPoint(l.getSouthWest()),c=this._miniMap.latLngToContainerPoint(l.getNorthEast());this._lastAimingRectPosition={sw:h,ne:c}}},_onMiniMapMoving:function(i){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new n.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(i){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var i=this.options.zoomLevelFixed;return this._isDefined(i)&&this._isInteger(i)},_decideZoom:function(i){if(this._isZoomLevelFixed())return i?this.options.zoomLevelFixed:this._mainMap.getZoom();if(i)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var l=this._miniMap.getZoom()-this._mainMap.getZoom(),h=this._miniMap.getZoom()-this.options.zoomLevelOffset,c;return l>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(c=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):c=this._mainMap.getZoom():c=h,this._lastMiniMapZoom=this._miniMap.getZoom(),c},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(i){return typeof i=="number"},_isDefined:function(i){return typeof i<"u"},_onToggle:function(){n.Util.requestAnimFrame(function(){n.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),n.Browser.any3d||n.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){n.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var i={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",i),this.fire("toggle",i)}});return n.Map.mergeOptions({miniMapControl:!1}),n.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=new r().addTo(this))}),r},window)})(df)),df.exports}bA();function xA(){const e=as();return b.useEffect(()=>{const t=new ci.TileLayer("https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.jpg",{minZoom:0,maxZoom:13,attribution:'&copy; CNES, Distribution Airbus DS,  Airbus DS,  PlanetObserver (Contains Copernicus Data) | &copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n=new ci.Control.MiniMap(t,{toggleDisplay:!0,minimized:!1,position:"bottomleft",width:150,height:150,zoomLevelOffset:-5,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0}});return n.addTo(e),()=>{e.removeControl(n)}},[e]),null}const{BaseLayer:BA}=Dp;function wA(){const e=as();return b.useEffect(()=>{if(!e.pm){console.error("Geoman not available on map instance");return}return e.pm.addControls({position:"topleft",drawMarker:!0,drawCircle:!0,drawPolyline:!0,drawRectangle:!0,drawPolygon:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0}),()=>{e.pm.removeControls()}},[e]),null}const lx=()=>{const e=$r(y=>y.map.selectedFeature.feature),t=$r(y=>y.map.selectedFeature.metaData),n=$r(y=>y.map.multiSelectedFeatures||[]),r=b.useCallback((y,w)=>ci.circleMarker(w,JN),[]),i=b.useCallback((y,w)=>ci.circleMarker(w,eM),[]),l=b.useCallback((y,w)=>{if(y.properties){const k="Tooltip",x=y.geometry?.type?.toLowerCase();let N=null;if(x==="point"&&y.geometry?.coordinates){const[I,O]=y.geometry.coordinates;N=ci.latLng(O,I)}A1(w,y.properties,k,N,x)}},[t]),h=e&&e.length>0,c=n&&n.length>0,g=b.useMemo(()=>`selected-single-${t?.selectedKeys}`,[t]),v=b.useMemo(()=>`selected-multi-${n.length}`,[n.length]);return Ie.jsxs(Ie.Fragment,{children:[h&&Ie.jsx(xh,{data:{type:"FeatureCollection",features:e},style:YN,pointToLayer:r,onEachFeature:l,interactive:!1,pane:"pane-selected-features"},g),c&&Ie.jsx(xh,{data:{type:"FeatureCollection",features:n.map(y=>y.feature)},style:QN,pointToLayer:i,onEachFeature:l,interactive:!1,pane:"pane-selected-features"},v)]})};lx.displayName="SelectedFeaturesLayer";const CA=b.memo(lx),ux=b.memo(()=>{const e=$r(k=>k.map.geoJsonLayers),t=$r(k=>k.map.viewport),n=$r(k=>k.ui.isLegendVisible),r=$r(k=>k.map.bufferLayers),i=$r(k=>k.map.bufferOrder),l=b.useMemo(()=>Object.entries(e||{}).filter(([,k])=>k?.geoJsonData).map(([k,x])=>({layerId:k,orderNo:Number(x.orderNo||0),data:x})).sort((k,x)=>x.orderNo-k.orderNo||x.layerId.localeCompare(k.layerId)),[e]),h=b.useMemo(()=>(Array.isArray(i)?i:Object.keys(r||{})).filter(x=>r&&r[x]&&r[x].geoJsonData).map(x=>({layerId:x,data:r[x]})),[r,i]),c=b.useMemo(()=>{const k=zs.OVERLAY_BASE;return l.map((x,N)=>({name:`pane-layer-${x.layerId}`,zIndex:k+N}))},[l]),g=b.useMemo(()=>{const k=zs.OVERLAY_BASE,x=Math.max(201,k-1e3),N=typeof zs.BUFFER_BASE=="number"?zs.BUFFER_BASE:x;return h.map((I,O)=>({name:`pane-buffer-${I.layerId}`,zIndex:N+O}))},[h]),v=b.useMemo(()=>h.map(({layerId:k,data:x},N)=>{const I=`pane-buffer-${k}`;return Ie.jsx(Fp,{layerId:k,geoJsonData:x.geoJsonData,metaData:x.metaData,pane:I},k)}),[h]),y=b.useMemo(()=>l.map(({layerId:k,data:x},N)=>{const I=`pane-layer-${k}`;return Ie.jsx($p,{layerId:k,geoJsonData:x.geoJsonData,metaData:x.metaData,pane:I},k)}),[l]),w=b.useMemo(()=>({center:t?.center||[28.7041,77.1025],zoom:t?.zoom||8,style:{width:"100%",height:"100%"},zoomControl:!1}),[t]);return Ie.jsx("div",{className:"map-panel",children:Ie.jsxs(I1,{...w,children:[Ie.jsx(ZN,{position:"topleft"}),Ie.jsx(O1,{position:"bottomright",imperial:!0,metric:!0,maxWidth:200,updateWhenIdle:!0}),Ie.jsx(cM,{}),Ie.jsx(Kp,{geoJsonLayers:e}),Ie.jsx(Qu,{panes:g}),v,Ie.jsx(Qu,{panes:c}),y,Ie.jsx(Qu,{panes:[{name:"pane-selected-features",zIndex:zs.SELECTED_FEATURES}]}),Ie.jsx(CA,{}),Ie.jsx(wA,{}),Ie.jsx(xA,{}),Ie.jsx(B1,{visible:n}),Ie.jsx(k6,{}),Ie.jsx(UM,{}),Ie.jsx(E6,{}),Ie.jsx(_A,{})]})})});ux.displayName="MapPanel";var $v={},Fv;function SA(){return Fv||(Fv=1,(()=>{var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,h=(u,p)=>()=>(p||u((p={exports:{}}).exports,p),p.exports),c=(u,p,_,S)=>{if(p&&typeof p=="object"||typeof p=="function")for(let P of r(p))!l.call(u,P)&&P!==_&&t(u,P,{get:()=>p[P],enumerable:!(S=n(p,P))||S.enumerable});return u},g=(u,p,_)=>(_=u!=null?e(i(u)):{},c(p||!u||!u.__esModule?t(_,"default",{value:u,enumerable:!0}):_,u)),v=h((u,p)=>{function _(){this.__data__=[],this.size=0}p.exports=_}),y=h((u,p)=>{function _(S,P){return S===P||S!==S&&P!==P}p.exports=_}),w=h((u,p)=>{var _=y();function S(P,j){for(var X=P.length;X--;)if(_(P[X][0],j))return X;return-1}p.exports=S}),k=h((u,p)=>{var _=w(),S=Array.prototype,P=S.splice;function j(X){var Z=this.__data__,ge=_(Z,X);if(ge<0)return!1;var ve=Z.length-1;return ge==ve?Z.pop():P.call(Z,ge,1),--this.size,!0}p.exports=j}),x=h((u,p)=>{var _=w();function S(P){var j=this.__data__,X=_(j,P);return X<0?void 0:j[X][1]}p.exports=S}),N=h((u,p)=>{var _=w();function S(P){return _(this.__data__,P)>-1}p.exports=S}),I=h((u,p)=>{var _=w();function S(P,j){var X=this.__data__,Z=_(X,P);return Z<0?(++this.size,X.push([P,j])):X[Z][1]=j,this}p.exports=S}),O=h((u,p)=>{var _=v(),S=k(),P=x(),j=N(),X=I();function Z(ge){var ve=-1,Ve=ge==null?0:ge.length;for(this.clear();++ve<Ve;){var je=ge[ve];this.set(je[0],je[1])}}Z.prototype.clear=_,Z.prototype.delete=S,Z.prototype.get=P,Z.prototype.has=j,Z.prototype.set=X,p.exports=Z}),T=h((u,p)=>{var _=O();function S(){this.__data__=new _,this.size=0}p.exports=S}),F=h((u,p)=>{function _(S){var P=this.__data__,j=P.delete(S);return this.size=P.size,j}p.exports=_}),R=h((u,p)=>{function _(S){return this.__data__.get(S)}p.exports=_}),$=h((u,p)=>{function _(S){return this.__data__.has(S)}p.exports=_}),G=h((u,p)=>{var _=typeof Pc=="object"&&Pc&&Pc.Object===Object&&Pc;p.exports=_}),Q=h((u,p)=>{var _=G(),S=typeof self=="object"&&self&&self.Object===Object&&self,P=_||S||Function("return this")();p.exports=P}),ee=h((u,p)=>{var _=Q(),S=_.Symbol;p.exports=S}),Y=h((u,p)=>{var _=ee(),S=Object.prototype,P=S.hasOwnProperty,j=S.toString,X=_?_.toStringTag:void 0;function Z(ge){var ve=P.call(ge,X),Ve=ge[X];try{ge[X]=void 0;var je=!0}catch{}var vt=j.call(ge);return je&&(ve?ge[X]=Ve:delete ge[X]),vt}p.exports=Z}),q=h((u,p)=>{var _=Object.prototype,S=_.toString;function P(j){return S.call(j)}p.exports=P}),oe=h((u,p)=>{var _=ee(),S=Y(),P=q(),j="[object Null]",X="[object Undefined]",Z=_?_.toStringTag:void 0;function ge(ve){return ve==null?ve===void 0?X:j:Z&&Z in Object(ve)?S(ve):P(ve)}p.exports=ge}),D=h((u,p)=>{function _(S){var P=typeof S;return S!=null&&(P=="object"||P=="function")}p.exports=_}),U=h((u,p)=>{var _=oe(),S=D(),P="[object AsyncFunction]",j="[object Function]",X="[object GeneratorFunction]",Z="[object Proxy]";function ge(ve){if(!S(ve))return!1;var Ve=_(ve);return Ve==j||Ve==X||Ve==P||Ve==Z}p.exports=ge}),te=h((u,p)=>{var _=Q(),S=_["__core-js_shared__"];p.exports=S}),V=h((u,p)=>{var _=te(),S=(function(){var j=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""})();function P(j){return!!S&&S in j}p.exports=P}),J=h((u,p)=>{var _=Function.prototype,S=_.toString;function P(j){if(j!=null){try{return S.call(j)}catch{}try{return j+""}catch{}}return""}p.exports=P}),ie=h((u,p)=>{var _=U(),S=V(),P=D(),j=J(),X=/[\\^$.*+?()[\]{}|]/g,Z=/^\[object .+?Constructor\]$/,ge=Function.prototype,ve=Object.prototype,Ve=ge.toString,je=ve.hasOwnProperty,vt=RegExp("^"+Ve.call(je).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function St(qt){if(!P(qt)||S(qt))return!1;var un=_(qt)?vt:Z;return un.test(j(qt))}p.exports=St}),le=h((u,p)=>{function _(S,P){return S?.[P]}p.exports=_}),ue=h((u,p)=>{var _=ie(),S=le();function P(j,X){var Z=S(j,X);return _(Z)?Z:void 0}p.exports=P}),be=h((u,p)=>{var _=ue(),S=Q(),P=_(S,"Map");p.exports=P}),Le=h((u,p)=>{var _=ue(),S=_(Object,"create");p.exports=S}),Re=h((u,p)=>{var _=Le();function S(){this.__data__=_?_(null):{},this.size=0}p.exports=S}),ne=h((u,p)=>{function _(S){var P=this.has(S)&&delete this.__data__[S];return this.size-=P?1:0,P}p.exports=_}),ce=h((u,p)=>{var _=Le(),S="__lodash_hash_undefined__",P=Object.prototype,j=P.hasOwnProperty;function X(Z){var ge=this.__data__;if(_){var ve=ge[Z];return ve===S?void 0:ve}return j.call(ge,Z)?ge[Z]:void 0}p.exports=X}),me=h((u,p)=>{var _=Le(),S=Object.prototype,P=S.hasOwnProperty;function j(X){var Z=this.__data__;return _?Z[X]!==void 0:P.call(Z,X)}p.exports=j}),we=h((u,p)=>{var _=Le(),S="__lodash_hash_undefined__";function P(j,X){var Z=this.__data__;return this.size+=this.has(j)?0:1,Z[j]=_&&X===void 0?S:X,this}p.exports=P}),ke=h((u,p)=>{var _=Re(),S=ne(),P=ce(),j=me(),X=we();function Z(ge){var ve=-1,Ve=ge==null?0:ge.length;for(this.clear();++ve<Ve;){var je=ge[ve];this.set(je[0],je[1])}}Z.prototype.clear=_,Z.prototype.delete=S,Z.prototype.get=P,Z.prototype.has=j,Z.prototype.set=X,p.exports=Z}),Be=h((u,p)=>{var _=ke(),S=O(),P=be();function j(){this.size=0,this.__data__={hash:new _,map:new(P||S),string:new _}}p.exports=j}),he=h((u,p)=>{function _(S){var P=typeof S;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?S!=="__proto__":S===null}p.exports=_}),qe=h((u,p)=>{var _=he();function S(P,j){var X=P.__data__;return _(j)?X[typeof j=="string"?"string":"hash"]:X.map}p.exports=S}),We=h((u,p)=>{var _=qe();function S(P){var j=_(this,P).delete(P);return this.size-=j?1:0,j}p.exports=S}),Fe=h((u,p)=>{var _=qe();function S(P){return _(this,P).get(P)}p.exports=S}),de=h((u,p)=>{var _=qe();function S(P){return _(this,P).has(P)}p.exports=S}),it=h((u,p)=>{var _=qe();function S(P,j){var X=_(this,P),Z=X.size;return X.set(P,j),this.size+=X.size==Z?0:1,this}p.exports=S}),ft=h((u,p)=>{var _=Be(),S=We(),P=Fe(),j=de(),X=it();function Z(ge){var ve=-1,Ve=ge==null?0:ge.length;for(this.clear();++ve<Ve;){var je=ge[ve];this.set(je[0],je[1])}}Z.prototype.clear=_,Z.prototype.delete=S,Z.prototype.get=P,Z.prototype.has=j,Z.prototype.set=X,p.exports=Z}),fe=h((u,p)=>{var _=O(),S=be(),P=ft(),j=200;function X(Z,ge){var ve=this.__data__;if(ve instanceof _){var Ve=ve.__data__;if(!S||Ve.length<j-1)return Ve.push([Z,ge]),this.size=++ve.size,this;ve=this.__data__=new P(Ve)}return ve.set(Z,ge),this.size=ve.size,this}p.exports=X}),tt=h((u,p)=>{var _=O(),S=T(),P=F(),j=R(),X=$(),Z=fe();function ge(ve){var Ve=this.__data__=new _(ve);this.size=Ve.size}ge.prototype.clear=S,ge.prototype.delete=P,ge.prototype.get=j,ge.prototype.has=X,ge.prototype.set=Z,p.exports=ge}),kt=h((u,p)=>{var _=ue(),S=(function(){try{var P=_(Object,"defineProperty");return P({},"",{}),P}catch{}})();p.exports=S}),At=h((u,p)=>{var _=kt();function S(P,j,X){j=="__proto__"&&_?_(P,j,{configurable:!0,enumerable:!0,value:X,writable:!0}):P[j]=X}p.exports=S}),Xe=h((u,p)=>{var _=At(),S=y();function P(j,X,Z){(Z!==void 0&&!S(j[X],Z)||Z===void 0&&!(X in j))&&_(j,X,Z)}p.exports=P}),Xt=h((u,p)=>{function _(S){return function(P,j,X){for(var Z=-1,ge=Object(P),ve=X(P),Ve=ve.length;Ve--;){var je=ve[S?Ve:++Z];if(j(ge[je],je,ge)===!1)break}return P}}p.exports=_}),nt=h((u,p)=>{var _=Xt(),S=_();p.exports=S}),mt=h((u,p)=>{var _=Q(),S=typeof u=="object"&&u&&!u.nodeType&&u,P=S&&typeof p=="object"&&p&&!p.nodeType&&p,j=P&&P.exports===S,X=j?_.Buffer:void 0,Z=X?X.allocUnsafe:void 0;function ge(ve,Ve){if(Ve)return ve.slice();var je=ve.length,vt=Z?Z(je):new ve.constructor(je);return ve.copy(vt),vt}p.exports=ge}),wt=h((u,p)=>{var _=Q(),S=_.Uint8Array;p.exports=S}),Et=h((u,p)=>{var _=wt();function S(P){var j=new P.constructor(P.byteLength);return new _(j).set(new _(P)),j}p.exports=S}),Zt=h((u,p)=>{var _=Et();function S(P,j){var X=j?_(P.buffer):P.buffer;return new P.constructor(X,P.byteOffset,P.length)}p.exports=S}),nn=h((u,p)=>{function _(S,P){var j=-1,X=S.length;for(P||(P=Array(X));++j<X;)P[j]=S[j];return P}p.exports=_}),dn=h((u,p)=>{var _=D(),S=Object.create,P=(function(){function j(){}return function(X){if(!_(X))return{};if(S)return S(X);j.prototype=X;var Z=new j;return j.prototype=void 0,Z}})();p.exports=P}),Dt=h((u,p)=>{function _(S,P){return function(j){return S(P(j))}}p.exports=_}),Jt=h((u,p)=>{var _=Dt(),S=_(Object.getPrototypeOf,Object);p.exports=S}),Ft=h((u,p)=>{var _=Object.prototype;function S(P){var j=P&&P.constructor,X=typeof j=="function"&&j.prototype||_;return P===X}p.exports=S}),ht=h((u,p)=>{var _=dn(),S=Jt(),P=Ft();function j(X){return typeof X.constructor=="function"&&!P(X)?_(S(X)):{}}p.exports=j}),Mt=h((u,p)=>{function _(S){return S!=null&&typeof S=="object"}p.exports=_}),tn=h((u,p)=>{var _=oe(),S=Mt(),P="[object Arguments]";function j(X){return S(X)&&_(X)==P}p.exports=j}),fn=h((u,p)=>{var _=tn(),S=Mt(),P=Object.prototype,j=P.hasOwnProperty,X=P.propertyIsEnumerable,Z=_((function(){return arguments})())?_:function(ge){return S(ge)&&j.call(ge,"callee")&&!X.call(ge,"callee")};p.exports=Z}),Tt=h((u,p)=>{var _=Array.isArray;p.exports=_}),zt=h((u,p)=>{var _=9007199254740991;function S(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=_}p.exports=S}),jt=h((u,p)=>{var _=U(),S=zt();function P(j){return j!=null&&S(j.length)&&!_(j)}p.exports=P}),ln=h((u,p)=>{var _=jt(),S=Mt();function P(j){return S(j)&&_(j)}p.exports=P}),an=h((u,p)=>{function _(){return!1}p.exports=_}),hn=h((u,p)=>{var _=Q(),S=an(),P=typeof u=="object"&&u&&!u.nodeType&&u,j=P&&typeof p=="object"&&p&&!p.nodeType&&p,X=j&&j.exports===P,Z=X?_.Buffer:void 0,ge=Z?Z.isBuffer:void 0,ve=ge||S;p.exports=ve}),Bn=h((u,p)=>{var _=oe(),S=Jt(),P=Mt(),j="[object Object]",X=Function.prototype,Z=Object.prototype,ge=X.toString,ve=Z.hasOwnProperty,Ve=ge.call(Object);function je(vt){if(!P(vt)||_(vt)!=j)return!1;var St=S(vt);if(St===null)return!0;var qt=ve.call(St,"constructor")&&St.constructor;return typeof qt=="function"&&qt instanceof qt&&ge.call(qt)==Ve}p.exports=je}),Rt=h((u,p)=>{var _=oe(),S=zt(),P=Mt(),j="[object Arguments]",X="[object Array]",Z="[object Boolean]",ge="[object Date]",ve="[object Error]",Ve="[object Function]",je="[object Map]",vt="[object Number]",St="[object Object]",qt="[object RegExp]",un="[object Set]",vn="[object String]",Xn="[object WeakMap]",He="[object ArrayBuffer]",Ke="[object DataView]",rt="[object Float32Array]",yt="[object Float64Array]",lt="[object Int8Array]",Ct="[object Int16Array]",pe="[object Int32Array]",Se="[object Uint8Array]",Me="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ae="[object Uint32Array]",Te={};Te[rt]=Te[yt]=Te[lt]=Te[Ct]=Te[pe]=Te[Se]=Te[Me]=Te[Pe]=Te[Ae]=!0,Te[j]=Te[X]=Te[He]=Te[Z]=Te[Ke]=Te[ge]=Te[ve]=Te[Ve]=Te[je]=Te[vt]=Te[St]=Te[qt]=Te[un]=Te[vn]=Te[Xn]=!1;function Je(Ze){return P(Ze)&&S(Ze.length)&&!!Te[_(Ze)]}p.exports=Je}),Gt=h((u,p)=>{function _(S){return function(P){return S(P)}}p.exports=_}),gn=h((u,p)=>{var _=G(),S=typeof u=="object"&&u&&!u.nodeType&&u,P=S&&typeof p=="object"&&p&&!p.nodeType&&p,j=P&&P.exports===S,X=j&&_.process,Z=(function(){try{var ge=P&&P.require&&P.require("util").types;return ge||X&&X.binding&&X.binding("util")}catch{}})();p.exports=Z}),An=h((u,p)=>{var _=Rt(),S=Gt(),P=gn(),j=P&&P.isTypedArray,X=j?S(j):_;p.exports=X}),Dn=h((u,p)=>{function _(S,P){if(!(P==="constructor"&&typeof S[P]=="function")&&P!="__proto__")return S[P]}p.exports=_}),Kt=h((u,p)=>{var _=At(),S=y(),P=Object.prototype,j=P.hasOwnProperty;function X(Z,ge,ve){var Ve=Z[ge];(!(j.call(Z,ge)&&S(Ve,ve))||ve===void 0&&!(ge in Z))&&_(Z,ge,ve)}p.exports=X}),dr=h((u,p)=>{var _=Kt(),S=At();function P(j,X,Z,ge){var ve=!Z;Z||(Z={});for(var Ve=-1,je=X.length;++Ve<je;){var vt=X[Ve],St=ge?ge(Z[vt],j[vt],vt,Z,j):void 0;St===void 0&&(St=j[vt]),ve?S(Z,vt,St):_(Z,vt,St)}return Z}p.exports=P}),mn=h((u,p)=>{function _(S,P){for(var j=-1,X=Array(S);++j<S;)X[j]=P(j);return X}p.exports=_}),br=h((u,p)=>{var _=9007199254740991,S=/^(?:0|[1-9]\d*)$/;function P(j,X){var Z=typeof j;return X=X??_,!!X&&(Z=="number"||Z!="symbol"&&S.test(j))&&j>-1&&j%1==0&&j<X}p.exports=P}),Un=h((u,p)=>{var _=mn(),S=fn(),P=Tt(),j=hn(),X=br(),Z=An(),ge=Object.prototype,ve=ge.hasOwnProperty;function Ve(je,vt){var St=P(je),qt=!St&&S(je),un=!St&&!qt&&j(je),vn=!St&&!qt&&!un&&Z(je),Xn=St||qt||un||vn,He=Xn?_(je.length,String):[],Ke=He.length;for(var rt in je)(vt||ve.call(je,rt))&&!(Xn&&(rt=="length"||un&&(rt=="offset"||rt=="parent")||vn&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||X(rt,Ke)))&&He.push(rt);return He}p.exports=Ve}),ur=h((u,p)=>{function _(S){var P=[];if(S!=null)for(var j in Object(S))P.push(j);return P}p.exports=_}),Tr=h((u,p)=>{var _=D(),S=Ft(),P=ur(),j=Object.prototype,X=j.hasOwnProperty;function Z(ge){if(!_(ge))return P(ge);var ve=S(ge),Ve=[];for(var je in ge)je=="constructor"&&(ve||!X.call(ge,je))||Ve.push(je);return Ve}p.exports=Z}),zn=h((u,p)=>{var _=Un(),S=Tr(),P=jt();function j(X){return P(X)?_(X,!0):S(X)}p.exports=j}),cn=h((u,p)=>{var _=dr(),S=zn();function P(j){return _(j,S(j))}p.exports=P}),Pr=h((u,p)=>{var _=Xe(),S=mt(),P=Zt(),j=nn(),X=ht(),Z=fn(),ge=Tt(),ve=ln(),Ve=hn(),je=U(),vt=D(),St=Bn(),qt=An(),un=Dn(),vn=cn();function Xn(He,Ke,rt,yt,lt,Ct,pe){var Se=un(He,rt),Me=un(Ke,rt),Pe=pe.get(Me);if(Pe){_(He,rt,Pe);return}var Ae=Ct?Ct(Se,Me,rt+"",He,Ke,pe):void 0,Te=Ae===void 0;if(Te){var Je=ge(Me),Ze=!Je&&Ve(Me),at=!Je&&!Ze&&qt(Me);Ae=Me,Je||Ze||at?ge(Se)?Ae=Se:ve(Se)?Ae=j(Se):Ze?(Te=!1,Ae=S(Me,!0)):at?(Te=!1,Ae=P(Me,!0)):Ae=[]:St(Me)||Z(Me)?(Ae=Se,Z(Se)?Ae=vn(Se):(!vt(Se)||je(Se))&&(Ae=X(Me))):Te=!1}Te&&(pe.set(Me,Ae),lt(Ae,Me,yt,Ct,pe),pe.delete(Me)),_(He,rt,Ae)}p.exports=Xn}),Ri=h((u,p)=>{var _=tt(),S=Xe(),P=nt(),j=Pr(),X=D(),Z=zn(),ge=Dn();function ve(Ve,je,vt,St,qt){Ve!==je&&P(je,function(un,vn){if(qt||(qt=new _),X(un))j(Ve,je,vn,vt,ve,St,qt);else{var Xn=St?St(ge(Ve,vn),un,vn+"",Ve,je,qt):void 0;Xn===void 0&&(Xn=un),S(Ve,vn,Xn)}},Z)}p.exports=ve}),Nn=h((u,p)=>{function _(S){return S}p.exports=_}),Gn=h((u,p)=>{function _(S,P,j){switch(j.length){case 0:return S.call(P);case 1:return S.call(P,j[0]);case 2:return S.call(P,j[0],j[1]);case 3:return S.call(P,j[0],j[1],j[2])}return S.apply(P,j)}p.exports=_}),wn=h((u,p)=>{var _=Gn(),S=Math.max;function P(j,X,Z){return X=S(X===void 0?j.length-1:X,0),function(){for(var ge=arguments,ve=-1,Ve=S(ge.length-X,0),je=Array(Ve);++ve<Ve;)je[ve]=ge[X+ve];ve=-1;for(var vt=Array(X+1);++ve<X;)vt[ve]=ge[ve];return vt[X]=Z(je),_(j,this,vt)}}p.exports=P}),nr=h((u,p)=>{function _(S){return function(){return S}}p.exports=_}),sr=h((u,p)=>{var _=nr(),S=kt(),P=Nn(),j=S?function(X,Z){return S(X,"toString",{configurable:!0,enumerable:!1,value:_(Z),writable:!0})}:P;p.exports=j}),fr=h((u,p)=>{var _=800,S=16,P=Date.now;function j(X){var Z=0,ge=0;return function(){var ve=P(),Ve=S-(ve-ge);if(ge=ve,Ve>0){if(++Z>=_)return arguments[0]}else Z=0;return X.apply(void 0,arguments)}}p.exports=j}),wr=h((u,p)=>{var _=sr(),S=fr(),P=S(_);p.exports=P}),Nr=h((u,p)=>{var _=Nn(),S=wn(),P=wr();function j(X,Z){return P(S(X,Z,_),X+"")}p.exports=j}),Si=h((u,p)=>{var _=y(),S=jt(),P=br(),j=D();function X(Z,ge,ve){if(!j(ve))return!1;var Ve=typeof ge;return(Ve=="number"?S(ve)&&P(ge,ve.length):Ve=="string"&&ge in ve)?_(ve[ge],Z):!1}p.exports=X}),yi=h((u,p)=>{var _=Nr(),S=Si();function P(j){return _(function(X,Z){var ge=-1,ve=Z.length,Ve=ve>1?Z[ve-1]:void 0,je=ve>2?Z[2]:void 0;for(Ve=j.length>3&&typeof Ve=="function"?(ve--,Ve):void 0,je&&S(Z[0],Z[1],je)&&(Ve=ve<3?void 0:Ve,ve=1),X=Object(X);++ge<ve;){var vt=Z[ge];vt&&j(X,vt,ge,Ve)}return X})}p.exports=P}),mr=h((u,p)=>{var _=Ri(),S=yi(),P=S(function(j,X,Z){_(j,X,Z)});p.exports=P}),Hi=h((u,p)=>{var _=oe(),S=Mt(),P="[object Symbol]";function j(X){return typeof X=="symbol"||S(X)&&_(X)==P}p.exports=j}),Jn=h((u,p)=>{var _=Tt(),S=Hi(),P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/;function X(Z,ge){if(_(Z))return!1;var ve=typeof Z;return ve=="number"||ve=="symbol"||ve=="boolean"||Z==null||S(Z)?!0:j.test(Z)||!P.test(Z)||ge!=null&&Z in Object(ge)}p.exports=X}),xn=h((u,p)=>{var _=ft(),S="Expected a function";function P(j,X){if(typeof j!="function"||X!=null&&typeof X!="function")throw new TypeError(S);var Z=function(){var ge=arguments,ve=X?X.apply(this,ge):ge[0],Ve=Z.cache;if(Ve.has(ve))return Ve.get(ve);var je=j.apply(this,ge);return Z.cache=Ve.set(ve,je)||Ve,je};return Z.cache=new(P.Cache||_),Z}P.Cache=_,p.exports=P}),rr=h((u,p)=>{var _=xn(),S=500;function P(j){var X=_(j,function(ge){return Z.size===S&&Z.clear(),ge}),Z=X.cache;return X}p.exports=P}),pr=h((u,p)=>{var _=rr(),S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,j=_(function(X){var Z=[];return X.charCodeAt(0)===46&&Z.push(""),X.replace(S,function(ge,ve,Ve,je){Z.push(Ve?je.replace(P,"$1"):ve||ge)}),Z});p.exports=j}),gr=h((u,p)=>{function _(S,P){for(var j=-1,X=S==null?0:S.length,Z=Array(X);++j<X;)Z[j]=P(S[j],j,S);return Z}p.exports=_}),_i=h((u,p)=>{var _=ee(),S=gr(),P=Tt(),j=Hi(),X=_?_.prototype:void 0,Z=X?X.toString:void 0;function ge(ve){if(typeof ve=="string")return ve;if(P(ve))return S(ve,ge)+"";if(j(ve))return Z?Z.call(ve):"";var Ve=ve+"";return Ve=="0"&&1/ve==-1/0?"-0":Ve}p.exports=ge}),Sn=h((u,p)=>{var _=_i();function S(P){return P==null?"":_(P)}p.exports=S}),kn=h((u,p)=>{var _=Tt(),S=Jn(),P=pr(),j=Sn();function X(Z,ge){return _(Z)?Z:S(Z,ge)?[Z]:P(j(Z))}p.exports=X}),Zn=h((u,p)=>{var _=Hi();function S(P){if(typeof P=="string"||_(P))return P;var j=P+"";return j=="0"&&1/P==-1/0?"-0":j}p.exports=S}),Gr=h((u,p)=>{var _=kn(),S=Zn();function P(j,X){X=_(X,j);for(var Z=0,ge=X.length;j!=null&&Z<ge;)j=j[S(X[Z++])];return Z&&Z==ge?j:void 0}p.exports=P}),Dr=h((u,p)=>{var _=Gr();function S(P,j,X){var Z=P==null?void 0:_(P,j);return Z===void 0?X:Z}p.exports=S}),Fn=h((u,p)=>{(function(_,S){typeof u=="object"&&typeof p<"u"?p.exports=S():(_=_||self).RBush=S()})(u,function(){function _(He,Ke,rt,yt,lt){(function Ct(pe,Se,Me,Pe,Ae){for(;Pe>Me;){if(Pe-Me>600){var Te=Pe-Me+1,Je=Se-Me+1,Ze=Math.log(Te),at=.5*Math.exp(2*Ze/3),gt=.5*Math.sqrt(Ze*at*(Te-at)/Te)*(Je-Te/2<0?-1:1),ut=Math.max(Me,Math.floor(Se-Je*at/Te+gt)),Ut=Math.min(Pe,Math.floor(Se+(Te-Je)*at/Te+gt));Ct(pe,Se,ut,Ut,Ae)}var yn=pe[Se],Ln=Me,In=Pe;for(S(pe,Me,Se),Ae(pe[Pe],yn)>0&&S(pe,Me,Pe);Ln<In;){for(S(pe,Ln,In),Ln++,In--;Ae(pe[Ln],yn)<0;)Ln++;for(;Ae(pe[In],yn)>0;)In--}Ae(pe[Me],yn)===0?S(pe,Me,In):S(pe,++In,Pe),In<=Se&&(Me=In+1),Se<=In&&(Pe=In-1)}})(He,Ke,rt||0,yt||He.length-1,lt||P)}function S(He,Ke,rt){var yt=He[Ke];He[Ke]=He[rt],He[rt]=yt}function P(He,Ke){return He<Ke?-1:He>Ke?1:0}var j=function(He){He===void 0&&(He=9),this._maxEntries=Math.max(4,He),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function X(He,Ke,rt){if(!rt)return Ke.indexOf(He);for(var yt=0;yt<Ke.length;yt++)if(rt(He,Ke[yt]))return yt;return-1}function Z(He,Ke){ge(He,0,He.children.length,Ke,He)}function ge(He,Ke,rt,yt,lt){lt||(lt=vn(null)),lt.minX=1/0,lt.minY=1/0,lt.maxX=-1/0,lt.maxY=-1/0;for(var Ct=Ke;Ct<rt;Ct++){var pe=He.children[Ct];ve(lt,He.leaf?yt(pe):pe)}return lt}function ve(He,Ke){return He.minX=Math.min(He.minX,Ke.minX),He.minY=Math.min(He.minY,Ke.minY),He.maxX=Math.max(He.maxX,Ke.maxX),He.maxY=Math.max(He.maxY,Ke.maxY),He}function Ve(He,Ke){return He.minX-Ke.minX}function je(He,Ke){return He.minY-Ke.minY}function vt(He){return(He.maxX-He.minX)*(He.maxY-He.minY)}function St(He){return He.maxX-He.minX+(He.maxY-He.minY)}function qt(He,Ke){return He.minX<=Ke.minX&&He.minY<=Ke.minY&&Ke.maxX<=He.maxX&&Ke.maxY<=He.maxY}function un(He,Ke){return Ke.minX<=He.maxX&&Ke.minY<=He.maxY&&Ke.maxX>=He.minX&&Ke.maxY>=He.minY}function vn(He){return{children:He,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Xn(He,Ke,rt,yt,lt){for(var Ct=[Ke,rt];Ct.length;)if(!((rt=Ct.pop())-(Ke=Ct.pop())<=yt)){var pe=Ke+Math.ceil((rt-Ke)/yt/2)*yt;_(He,pe,Ke,rt,lt),Ct.push(Ke,pe,pe,rt)}}return j.prototype.all=function(){return this._all(this.data,[])},j.prototype.search=function(He){var Ke=this.data,rt=[];if(!un(He,Ke))return rt;for(var yt=this.toBBox,lt=[];Ke;){for(var Ct=0;Ct<Ke.children.length;Ct++){var pe=Ke.children[Ct],Se=Ke.leaf?yt(pe):pe;un(He,Se)&&(Ke.leaf?rt.push(pe):qt(He,Se)?this._all(pe,rt):lt.push(pe))}Ke=lt.pop()}return rt},j.prototype.collides=function(He){var Ke=this.data;if(!un(He,Ke))return!1;for(var rt=[];Ke;){for(var yt=0;yt<Ke.children.length;yt++){var lt=Ke.children[yt],Ct=Ke.leaf?this.toBBox(lt):lt;if(un(He,Ct)){if(Ke.leaf||qt(He,Ct))return!0;rt.push(lt)}}Ke=rt.pop()}return!1},j.prototype.load=function(He){if(!He||!He.length)return this;if(He.length<this._minEntries){for(var Ke=0;Ke<He.length;Ke++)this.insert(He[Ke]);return this}var rt=this._build(He.slice(),0,He.length-1,0);if(this.data.children.length)if(this.data.height===rt.height)this._splitRoot(this.data,rt);else{if(this.data.height<rt.height){var yt=this.data;this.data=rt,rt=yt}this._insert(rt,this.data.height-rt.height-1,!0)}else this.data=rt;return this},j.prototype.insert=function(He){return He&&this._insert(He,this.data.height-1),this},j.prototype.clear=function(){return this.data=vn([]),this},j.prototype.remove=function(He,Ke){if(!He)return this;for(var rt,yt,lt,Ct=this.data,pe=this.toBBox(He),Se=[],Me=[];Ct||Se.length;){if(Ct||(Ct=Se.pop(),yt=Se[Se.length-1],rt=Me.pop(),lt=!0),Ct.leaf){var Pe=X(He,Ct.children,Ke);if(Pe!==-1)return Ct.children.splice(Pe,1),Se.push(Ct),this._condense(Se),this}lt||Ct.leaf||!qt(Ct,pe)?yt?(rt++,Ct=yt.children[rt],lt=!1):Ct=null:(Se.push(Ct),Me.push(rt),rt=0,yt=Ct,Ct=Ct.children[0])}return this},j.prototype.toBBox=function(He){return He},j.prototype.compareMinX=function(He,Ke){return He.minX-Ke.minX},j.prototype.compareMinY=function(He,Ke){return He.minY-Ke.minY},j.prototype.toJSON=function(){return this.data},j.prototype.fromJSON=function(He){return this.data=He,this},j.prototype._all=function(He,Ke){for(var rt=[];He;)He.leaf?Ke.push.apply(Ke,He.children):rt.push.apply(rt,He.children),He=rt.pop();return Ke},j.prototype._build=function(He,Ke,rt,yt){var lt,Ct=rt-Ke+1,pe=this._maxEntries;if(Ct<=pe)return Z(lt=vn(He.slice(Ke,rt+1)),this.toBBox),lt;yt||(yt=Math.ceil(Math.log(Ct)/Math.log(pe)),pe=Math.ceil(Ct/Math.pow(pe,yt-1))),(lt=vn([])).leaf=!1,lt.height=yt;var Se=Math.ceil(Ct/pe),Me=Se*Math.ceil(Math.sqrt(pe));Xn(He,Ke,rt,Me,this.compareMinX);for(var Pe=Ke;Pe<=rt;Pe+=Me){var Ae=Math.min(Pe+Me-1,rt);Xn(He,Pe,Ae,Se,this.compareMinY);for(var Te=Pe;Te<=Ae;Te+=Se){var Je=Math.min(Te+Se-1,Ae);lt.children.push(this._build(He,Te,Je,yt-1))}}return Z(lt,this.toBBox),lt},j.prototype._chooseSubtree=function(He,Ke,rt,yt){for(;yt.push(Ke),!Ke.leaf&&yt.length-1!==rt;){for(var lt=1/0,Ct=1/0,pe=void 0,Se=0;Se<Ke.children.length;Se++){var Me=Ke.children[Se],Pe=vt(Me),Ae=(Te=He,Je=Me,(Math.max(Je.maxX,Te.maxX)-Math.min(Je.minX,Te.minX))*(Math.max(Je.maxY,Te.maxY)-Math.min(Je.minY,Te.minY))-Pe);Ae<Ct?(Ct=Ae,lt=Pe<lt?Pe:lt,pe=Me):Ae===Ct&&Pe<lt&&(lt=Pe,pe=Me)}Ke=pe||Ke.children[0]}var Te,Je;return Ke},j.prototype._insert=function(He,Ke,rt){var yt=rt?He:this.toBBox(He),lt=[],Ct=this._chooseSubtree(yt,this.data,Ke,lt);for(Ct.children.push(He),ve(Ct,yt);Ke>=0&&lt[Ke].children.length>this._maxEntries;)this._split(lt,Ke),Ke--;this._adjustParentBBoxes(yt,lt,Ke)},j.prototype._split=function(He,Ke){var rt=He[Ke],yt=rt.children.length,lt=this._minEntries;this._chooseSplitAxis(rt,lt,yt);var Ct=this._chooseSplitIndex(rt,lt,yt),pe=vn(rt.children.splice(Ct,rt.children.length-Ct));pe.height=rt.height,pe.leaf=rt.leaf,Z(rt,this.toBBox),Z(pe,this.toBBox),Ke?He[Ke-1].children.push(pe):this._splitRoot(rt,pe)},j.prototype._splitRoot=function(He,Ke){this.data=vn([He,Ke]),this.data.height=He.height+1,this.data.leaf=!1,Z(this.data,this.toBBox)},j.prototype._chooseSplitIndex=function(He,Ke,rt){for(var yt,lt,Ct,pe,Se,Me,Pe,Ae=1/0,Te=1/0,Je=Ke;Je<=rt-Ke;Je++){var Ze=ge(He,0,Je,this.toBBox),at=ge(He,Je,rt,this.toBBox),gt=(lt=Ze,Ct=at,pe=void 0,Se=void 0,Me=void 0,Pe=void 0,pe=Math.max(lt.minX,Ct.minX),Se=Math.max(lt.minY,Ct.minY),Me=Math.min(lt.maxX,Ct.maxX),Pe=Math.min(lt.maxY,Ct.maxY),Math.max(0,Me-pe)*Math.max(0,Pe-Se)),ut=vt(Ze)+vt(at);gt<Ae?(Ae=gt,yt=Je,Te=ut<Te?ut:Te):gt===Ae&&ut<Te&&(Te=ut,yt=Je)}return yt||rt-Ke},j.prototype._chooseSplitAxis=function(He,Ke,rt){var yt=He.leaf?this.compareMinX:Ve,lt=He.leaf?this.compareMinY:je;this._allDistMargin(He,Ke,rt,yt)<this._allDistMargin(He,Ke,rt,lt)&&He.children.sort(yt)},j.prototype._allDistMargin=function(He,Ke,rt,yt){He.children.sort(yt);for(var lt=this.toBBox,Ct=ge(He,0,Ke,lt),pe=ge(He,rt-Ke,rt,lt),Se=St(Ct)+St(pe),Me=Ke;Me<rt-Ke;Me++){var Pe=He.children[Me];ve(Ct,He.leaf?lt(Pe):Pe),Se+=St(Ct)}for(var Ae=rt-Ke-1;Ae>=Ke;Ae--){var Te=He.children[Ae];ve(pe,He.leaf?lt(Te):Te),Se+=St(pe)}return Se},j.prototype._adjustParentBBoxes=function(He,Ke,rt){for(var yt=rt;yt>=0;yt--)ve(Ke[yt],He)},j.prototype._condense=function(He){for(var Ke=He.length-1,rt=void 0;Ke>=0;Ke--)He[Ke].children.length===0?Ke>0?(rt=He[Ke-1].children).splice(rt.indexOf(He[Ke]),1):this.clear():Z(He[Ke],this.toBBox)},j})}),xr=h(u=>{Object.defineProperty(u,"__esModule",{value:!0}),u.earthRadius=63710088e-1,u.factors={centimeters:u.earthRadius*100,centimetres:u.earthRadius*100,degrees:u.earthRadius/111325,feet:u.earthRadius*3.28084,inches:u.earthRadius*39.37,kilometers:u.earthRadius/1e3,kilometres:u.earthRadius/1e3,meters:u.earthRadius,metres:u.earthRadius,miles:u.earthRadius/1609.344,millimeters:u.earthRadius*1e3,millimetres:u.earthRadius*1e3,nauticalmiles:u.earthRadius/1852,radians:1,yards:u.earthRadius*1.0936},u.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/u.earthRadius,yards:1.0936133},u.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function p(Pe,Ae,Te){Te===void 0&&(Te={});var Je={type:"Feature"};return(Te.id===0||Te.id)&&(Je.id=Te.id),Te.bbox&&(Je.bbox=Te.bbox),Je.properties=Ae||{},Je.geometry=Pe,Je}u.feature=p;function _(Pe,Ae,Te){switch(Pe){case"Point":return S(Ae).geometry;case"LineString":return Z(Ae).geometry;case"Polygon":return j(Ae).geometry;case"MultiPoint":return je(Ae).geometry;case"MultiLineString":return Ve(Ae).geometry;case"MultiPolygon":return vt(Ae).geometry;default:throw new Error(Pe+" is invalid")}}u.geometry=_;function S(Pe,Ae,Te){if(Te===void 0&&(Te={}),!Pe)throw new Error("coordinates is required");if(!Array.isArray(Pe))throw new Error("coordinates must be an Array");if(Pe.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ct(Pe[0])||!Ct(Pe[1]))throw new Error("coordinates must contain numbers");var Je={type:"Point",coordinates:Pe};return p(Je,Ae,Te)}u.point=S;function P(Pe,Ae,Te){return Te===void 0&&(Te={}),ve(Pe.map(function(Je){return S(Je,Ae)}),Te)}u.points=P;function j(Pe,Ae,Te){Te===void 0&&(Te={});for(var Je=0,Ze=Pe;Je<Ze.length;Je++){var at=Ze[Je];if(at.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var gt=0;gt<at[at.length-1].length;gt++)if(at[at.length-1][gt]!==at[0][gt])throw new Error("First and last Position are not equivalent.")}var ut={type:"Polygon",coordinates:Pe};return p(ut,Ae,Te)}u.polygon=j;function X(Pe,Ae,Te){return Te===void 0&&(Te={}),ve(Pe.map(function(Je){return j(Je,Ae)}),Te)}u.polygons=X;function Z(Pe,Ae,Te){if(Te===void 0&&(Te={}),Pe.length<2)throw new Error("coordinates must be an array of two or more positions");var Je={type:"LineString",coordinates:Pe};return p(Je,Ae,Te)}u.lineString=Z;function ge(Pe,Ae,Te){return Te===void 0&&(Te={}),ve(Pe.map(function(Je){return Z(Je,Ae)}),Te)}u.lineStrings=ge;function ve(Pe,Ae){Ae===void 0&&(Ae={});var Te={type:"FeatureCollection"};return Ae.id&&(Te.id=Ae.id),Ae.bbox&&(Te.bbox=Ae.bbox),Te.features=Pe,Te}u.featureCollection=ve;function Ve(Pe,Ae,Te){Te===void 0&&(Te={});var Je={type:"MultiLineString",coordinates:Pe};return p(Je,Ae,Te)}u.multiLineString=Ve;function je(Pe,Ae,Te){Te===void 0&&(Te={});var Je={type:"MultiPoint",coordinates:Pe};return p(Je,Ae,Te)}u.multiPoint=je;function vt(Pe,Ae,Te){Te===void 0&&(Te={});var Je={type:"MultiPolygon",coordinates:Pe};return p(Je,Ae,Te)}u.multiPolygon=vt;function St(Pe,Ae,Te){Te===void 0&&(Te={});var Je={type:"GeometryCollection",geometries:Pe};return p(Je,Ae,Te)}u.geometryCollection=St;function qt(Pe,Ae){if(Ae===void 0&&(Ae=0),Ae&&!(Ae>=0))throw new Error("precision must be a positive number");var Te=Math.pow(10,Ae||0);return Math.round(Pe*Te)/Te}u.round=qt;function un(Pe,Ae){Ae===void 0&&(Ae="kilometers");var Te=u.factors[Ae];if(!Te)throw new Error(Ae+" units is invalid");return Pe*Te}u.radiansToLength=un;function vn(Pe,Ae){Ae===void 0&&(Ae="kilometers");var Te=u.factors[Ae];if(!Te)throw new Error(Ae+" units is invalid");return Pe/Te}u.lengthToRadians=vn;function Xn(Pe,Ae){return Ke(vn(Pe,Ae))}u.lengthToDegrees=Xn;function He(Pe){var Ae=Pe%360;return Ae<0&&(Ae+=360),Ae}u.bearingToAzimuth=He;function Ke(Pe){var Ae=Pe%(2*Math.PI);return Ae*180/Math.PI}u.radiansToDegrees=Ke;function rt(Pe){var Ae=Pe%360;return Ae*Math.PI/180}u.degreesToRadians=rt;function yt(Pe,Ae,Te){if(Ae===void 0&&(Ae="kilometers"),Te===void 0&&(Te="kilometers"),!(Pe>=0))throw new Error("length must be a positive number");return un(vn(Pe,Ae),Te)}u.convertLength=yt;function lt(Pe,Ae,Te){if(Ae===void 0&&(Ae="meters"),Te===void 0&&(Te="kilometers"),!(Pe>=0))throw new Error("area must be a positive number");var Je=u.areaFactors[Ae];if(!Je)throw new Error("invalid original units");var Ze=u.areaFactors[Te];if(!Ze)throw new Error("invalid final units");return Pe/Je*Ze}u.convertArea=lt;function Ct(Pe){return!isNaN(Pe)&&Pe!==null&&!Array.isArray(Pe)}u.isNumber=Ct;function pe(Pe){return!!Pe&&Pe.constructor===Object}u.isObject=pe;function Se(Pe){if(!Pe)throw new Error("bbox is required");if(!Array.isArray(Pe))throw new Error("bbox must be an Array");if(Pe.length!==4&&Pe.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");Pe.forEach(function(Ae){if(!Ct(Ae))throw new Error("bbox must only contain numbers")})}u.validateBBox=Se;function Me(Pe){if(!Pe)throw new Error("id is required");if(["string","number"].indexOf(typeof Pe)===-1)throw new Error("id must be a number or a string")}u.validateId=Me}),xa=h(u=>{Object.defineProperty(u,"__esModule",{value:!0});var p=xr();function _(Ke,rt,yt){if(Ke!==null)for(var lt,Ct,pe,Se,Me,Pe,Ae,Te=0,Je=0,Ze,at=Ke.type,gt=at==="FeatureCollection",ut=at==="Feature",Ut=gt?Ke.features.length:1,yn=0;yn<Ut;yn++){Ae=gt?Ke.features[yn].geometry:ut?Ke.geometry:Ke,Ze=Ae?Ae.type==="GeometryCollection":!1,Me=Ze?Ae.geometries.length:1;for(var Ln=0;Ln<Me;Ln++){var In=0,or=0;if(Se=Ze?Ae.geometries[Ln]:Ae,Se!==null){Pe=Se.coordinates;var Zr=Se.type;switch(Te=yt&&(Zr==="Polygon"||Zr==="MultiPolygon")?1:0,Zr){case null:break;case"Point":if(rt(Pe,Je,yn,In,or)===!1)return!1;Je++,In++;break;case"LineString":case"MultiPoint":for(lt=0;lt<Pe.length;lt++){if(rt(Pe[lt],Je,yn,In,or)===!1)return!1;Je++,Zr==="MultiPoint"&&In++}Zr==="LineString"&&In++;break;case"Polygon":case"MultiLineString":for(lt=0;lt<Pe.length;lt++){for(Ct=0;Ct<Pe[lt].length-Te;Ct++){if(rt(Pe[lt][Ct],Je,yn,In,or)===!1)return!1;Je++}Zr==="MultiLineString"&&In++,Zr==="Polygon"&&or++}Zr==="Polygon"&&In++;break;case"MultiPolygon":for(lt=0;lt<Pe.length;lt++){for(or=0,Ct=0;Ct<Pe[lt].length;Ct++){for(pe=0;pe<Pe[lt][Ct].length-Te;pe++){if(rt(Pe[lt][Ct][pe],Je,yn,In,or)===!1)return!1;Je++}or++}In++}break;case"GeometryCollection":for(lt=0;lt<Se.geometries.length;lt++)if(_(Se.geometries[lt],rt,yt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function S(Ke,rt,yt,lt){var Ct=yt;return _(Ke,function(pe,Se,Me,Pe,Ae){Se===0&&yt===void 0?Ct=pe:Ct=rt(Ct,pe,Se,Me,Pe,Ae)},lt),Ct}function P(Ke,rt){var yt;switch(Ke.type){case"FeatureCollection":for(yt=0;yt<Ke.features.length&&rt(Ke.features[yt].properties,yt)!==!1;yt++);break;case"Feature":rt(Ke.properties,0);break}}function j(Ke,rt,yt){var lt=yt;return P(Ke,function(Ct,pe){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe)}),lt}function X(Ke,rt){if(Ke.type==="Feature")rt(Ke,0);else if(Ke.type==="FeatureCollection")for(var yt=0;yt<Ke.features.length&&rt(Ke.features[yt],yt)!==!1;yt++);}function Z(Ke,rt,yt){var lt=yt;return X(Ke,function(Ct,pe){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe)}),lt}function ge(Ke){var rt=[];return _(Ke,function(yt){rt.push(yt)}),rt}function ve(Ke,rt){var yt,lt,Ct,pe,Se,Me,Pe,Ae,Te,Je,Ze=0,at=Ke.type==="FeatureCollection",gt=Ke.type==="Feature",ut=at?Ke.features.length:1;for(yt=0;yt<ut;yt++){for(Me=at?Ke.features[yt].geometry:gt?Ke.geometry:Ke,Ae=at?Ke.features[yt].properties:gt?Ke.properties:{},Te=at?Ke.features[yt].bbox:gt?Ke.bbox:void 0,Je=at?Ke.features[yt].id:gt?Ke.id:void 0,Pe=Me?Me.type==="GeometryCollection":!1,Se=Pe?Me.geometries.length:1,Ct=0;Ct<Se;Ct++){if(pe=Pe?Me.geometries[Ct]:Me,pe===null){if(rt(null,Ze,Ae,Te,Je)===!1)return!1;continue}switch(pe.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(rt(pe,Ze,Ae,Te,Je)===!1)return!1;break}case"GeometryCollection":{for(lt=0;lt<pe.geometries.length;lt++)if(rt(pe.geometries[lt],Ze,Ae,Te,Je)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}Ze++}}function Ve(Ke,rt,yt){var lt=yt;return ve(Ke,function(Ct,pe,Se,Me,Pe){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe,Se,Me,Pe)}),lt}function je(Ke,rt){ve(Ke,function(yt,lt,Ct,pe,Se){var Me=yt===null?null:yt.type;switch(Me){case null:case"Point":case"LineString":case"Polygon":return rt(p.feature(yt,Ct,{bbox:pe,id:Se}),lt,0)===!1?!1:void 0}var Pe;switch(Me){case"MultiPoint":Pe="Point";break;case"MultiLineString":Pe="LineString";break;case"MultiPolygon":Pe="Polygon";break}for(var Ae=0;Ae<yt.coordinates.length;Ae++){var Te=yt.coordinates[Ae],Je={type:Pe,coordinates:Te};if(rt(p.feature(Je,Ct),lt,Ae)===!1)return!1}})}function vt(Ke,rt,yt){var lt=yt;return je(Ke,function(Ct,pe,Se){pe===0&&Se===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe,Se)}),lt}function St(Ke,rt){je(Ke,function(yt,lt,Ct){var pe=0;if(yt.geometry){var Se=yt.geometry.type;if(!(Se==="Point"||Se==="MultiPoint")){var Me,Pe=0,Ae=0,Te=0;if(_(yt,function(Je,Ze,at,gt,ut){if(Me===void 0||lt>Pe||gt>Ae||ut>Te){Me=Je,Pe=lt,Ae=gt,Te=ut,pe=0;return}var Ut=p.lineString([Me,Je],yt.properties);if(rt(Ut,lt,Ct,ut,pe)===!1)return!1;pe++,Me=Je})===!1)return!1}}})}function qt(Ke,rt,yt){var lt=yt,Ct=!1;return St(Ke,function(pe,Se,Me,Pe,Ae){Ct===!1&&yt===void 0?lt=pe:lt=rt(lt,pe,Se,Me,Pe,Ae),Ct=!0}),lt}function un(Ke,rt){if(!Ke)throw new Error("geojson is required");je(Ke,function(yt,lt,Ct){if(yt.geometry!==null){var pe=yt.geometry.type,Se=yt.geometry.coordinates;switch(pe){case"LineString":if(rt(yt,lt,Ct,0,0)===!1)return!1;break;case"Polygon":for(var Me=0;Me<Se.length;Me++)if(rt(p.lineString(Se[Me],yt.properties),lt,Ct,Me)===!1)return!1;break}}})}function vn(Ke,rt,yt){var lt=yt;return un(Ke,function(Ct,pe,Se,Me){pe===0&&yt===void 0?lt=Ct:lt=rt(lt,Ct,pe,Se,Me)}),lt}function Xn(Ke,rt){if(rt=rt||{},!p.isObject(rt))throw new Error("options is invalid");var yt=rt.featureIndex||0,lt=rt.multiFeatureIndex||0,Ct=rt.geometryIndex||0,pe=rt.segmentIndex||0,Se=rt.properties,Me;switch(Ke.type){case"FeatureCollection":yt<0&&(yt=Ke.features.length+yt),Se=Se||Ke.features[yt].properties,Me=Ke.features[yt].geometry;break;case"Feature":Se=Se||Ke.properties,Me=Ke.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Me=Ke;break;default:throw new Error("geojson is invalid")}if(Me===null)return null;var Pe=Me.coordinates;switch(Me.type){case"Point":case"MultiPoint":return null;case"LineString":return pe<0&&(pe=Pe.length+pe-1),p.lineString([Pe[pe],Pe[pe+1]],Se,rt);case"Polygon":return Ct<0&&(Ct=Pe.length+Ct),pe<0&&(pe=Pe[Ct].length+pe-1),p.lineString([Pe[Ct][pe],Pe[Ct][pe+1]],Se,rt);case"MultiLineString":return lt<0&&(lt=Pe.length+lt),pe<0&&(pe=Pe[lt].length+pe-1),p.lineString([Pe[lt][pe],Pe[lt][pe+1]],Se,rt);case"MultiPolygon":return lt<0&&(lt=Pe.length+lt),Ct<0&&(Ct=Pe[lt].length+Ct),pe<0&&(pe=Pe[lt][Ct].length-pe-1),p.lineString([Pe[lt][Ct][pe],Pe[lt][Ct][pe+1]],Se,rt)}throw new Error("geojson is invalid")}function He(Ke,rt){if(rt=rt||{},!p.isObject(rt))throw new Error("options is invalid");var yt=rt.featureIndex||0,lt=rt.multiFeatureIndex||0,Ct=rt.geometryIndex||0,pe=rt.coordIndex||0,Se=rt.properties,Me;switch(Ke.type){case"FeatureCollection":yt<0&&(yt=Ke.features.length+yt),Se=Se||Ke.features[yt].properties,Me=Ke.features[yt].geometry;break;case"Feature":Se=Se||Ke.properties,Me=Ke.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Me=Ke;break;default:throw new Error("geojson is invalid")}if(Me===null)return null;var Pe=Me.coordinates;switch(Me.type){case"Point":return p.point(Pe,Se,rt);case"MultiPoint":return lt<0&&(lt=Pe.length+lt),p.point(Pe[lt],Se,rt);case"LineString":return pe<0&&(pe=Pe.length+pe),p.point(Pe[pe],Se,rt);case"Polygon":return Ct<0&&(Ct=Pe.length+Ct),pe<0&&(pe=Pe[Ct].length+pe),p.point(Pe[Ct][pe],Se,rt);case"MultiLineString":return lt<0&&(lt=Pe.length+lt),pe<0&&(pe=Pe[lt].length+pe),p.point(Pe[lt][pe],Se,rt);case"MultiPolygon":return lt<0&&(lt=Pe.length+lt),Ct<0&&(Ct=Pe[lt].length+Ct),pe<0&&(pe=Pe[lt][Ct].length-pe),p.point(Pe[lt][Ct][pe],Se,rt)}throw new Error("geojson is invalid")}u.coordAll=ge,u.coordEach=_,u.coordReduce=S,u.featureEach=X,u.featureReduce=Z,u.findPoint=He,u.findSegment=Xn,u.flattenEach=je,u.flattenReduce=vt,u.geomEach=ve,u.geomReduce=Ve,u.lineEach=un,u.lineReduce=vn,u.propEach=P,u.propReduce=j,u.segmentEach=St,u.segmentReduce=qt}),Vr=h(u=>{Object.defineProperty(u,"__esModule",{value:!0});var p=xa();function _(S){var P=[1/0,1/0,-1/0,-1/0];return p.coordEach(S,function(j){P[0]>j[0]&&(P[0]=j[0]),P[1]>j[1]&&(P[1]=j[1]),P[2]<j[0]&&(P[2]=j[0]),P[3]<j[1]&&(P[3]=j[1])}),P}_.default=_,u.default=_}),la=h((u,p)=>{var _=Fn(),S=xr(),P=xa(),j=Vr().default,X=P.featureEach;P.coordEach,S.polygon;var Z=S.featureCollection;function ge(ve){var Ve=new _(ve);return Ve.insert=function(je){if(je.type!=="Feature")throw new Error("invalid feature");return je.bbox=je.bbox?je.bbox:j(je),_.prototype.insert.call(this,je)},Ve.load=function(je){var vt=[];return Array.isArray(je)?je.forEach(function(St){if(St.type!=="Feature")throw new Error("invalid features");St.bbox=St.bbox?St.bbox:j(St),vt.push(St)}):X(je,function(St){if(St.type!=="Feature")throw new Error("invalid features");St.bbox=St.bbox?St.bbox:j(St),vt.push(St)}),_.prototype.load.call(this,vt)},Ve.remove=function(je,vt){if(je.type!=="Feature")throw new Error("invalid feature");return je.bbox=je.bbox?je.bbox:j(je),_.prototype.remove.call(this,je,vt)},Ve.clear=function(){return _.prototype.clear.call(this)},Ve.search=function(je){var vt=_.prototype.search.call(this,this.toBBox(je));return Z(vt)},Ve.collides=function(je){return _.prototype.collides.call(this,this.toBBox(je))},Ve.all=function(){var je=_.prototype.all.call(this);return Z(je)},Ve.toJSON=function(){return _.prototype.toJSON.call(this)},Ve.fromJSON=function(je){return _.prototype.fromJSON.call(this,je)},Ve.toBBox=function(je){var vt;if(je.bbox)vt=je.bbox;else if(Array.isArray(je)&&je.length===4)vt=je;else if(Array.isArray(je)&&je.length===6)vt=[je[0],je[1],je[3],je[4]];else if(je.type==="Feature")vt=j(je);else if(je.type==="FeatureCollection")vt=j(je);else throw new Error("invalid geojson");return{minX:vt[0],minY:vt[1],maxX:vt[2],maxY:vt[3]}},Ve}p.exports=ge,p.exports.default=ge});Array.prototype.findIndex=Array.prototype.findIndex||function(u){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof u!="function")throw new TypeError("callback must be a function");for(var p=Object(this),_=p.length>>>0,S=arguments[1],P=0;P<_;P++)if(u.call(S,p[P],P,p))return P;return-1},Array.prototype.find=Array.prototype.find||function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("callback must be a function");for(var p=Object(this),_=p.length>>>0,S=arguments[1],P=0;P<_;P++){var j=p[P];if(u.call(S,j,P,p))return j}},typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");u=Object(u);for(var p=1;p<arguments.length;p++){var _=arguments[p];if(_!=null)for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(u[S]=_[S])}return u}),(function(u){u.forEach(function(p){p.hasOwnProperty("remove")||Object.defineProperty(p,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(u,p){if(this==null)throw new TypeError('"this" is null or not defined');var _=Object(this),S=_.length>>>0;if(S===0)return!1;var P=p|0,j=Math.max(P>=0?P:S-Math.abs(P),0);function X(Z,ge){return Z===ge||typeof Z=="number"&&typeof ge=="number"&&isNaN(Z)&&isNaN(ge)}for(;j<S;){if(X(_[j],u))return!0;j++}return!1}});var qi={version:"2.18.3"},jn=g(mr()),Cr={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},ai={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Qr={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Hr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},vo={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},yo={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},Fa={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Or={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Wi={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Ki={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Xi={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},wa={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},ja={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Qn={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},er={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},Wn={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},oi={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},Rr={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Zi={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Wr={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},ei={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Ca={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},sn={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Sa={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Fr={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},Ro={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},za={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Ea=ja,cr={en:Cr,de:ai,it:Qr,id:Hr,ro:vo,ru:yo,es:Fa,nl:Or,fr:Wi,pt:Ea,pt_br:wa,pt_pt:ja,zh:Ki,zh_tw:Xi,pl:Qn,sv:er,el:Wn,hu:oi,da:Rr,no:Zi,fa:Wr,ua:ei,tr:Ca,cz:sn,ja:Sa,fi:Fr,ko:Ro,ky:za},Ii={_globalEditModeEnabled:!1,enableGlobalEditMode(u){let p={...u};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(_=>{this._isRelevantForEdit(_)&&_.pm.enable(p)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(u=>{u.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(u=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(u)},handleLayerAdditionInGlobalEditMode(){let u=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let p in u){let _=u[p];this._isRelevantForEdit(_)&&_.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:u}){this._addedLayersEdit[L.stamp(u)]=u},_isRelevantForEdit(u){return u.pm&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.allowEditing}},Qa=Ii,eo={_globalDragModeEnabled:!1,enableGlobalDragMode(){let u=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},u.forEach(p=>{this._isRelevantForDrag(p)&&p.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let u=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,u.forEach(p=>{p.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let u=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let p in u){let _=u[p];this._isRelevantForDrag(_)&&_.pm.enableLayerDrag()}},_layerAddedDrag({layer:u}){this._addedLayersDrag[L.stamp(u)]=u},_isRelevantForDrag(u){return u.pm&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.draggable}},Kr=eo,to={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(u=>{this._isRelevantForRemoval(u)&&(u.pm.enabled()&&u.pm.disable(),u.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(u=>{u.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(u){let p=u.target;this._isRelevantForRemoval(p)&&!p.pm.dragging()&&(p.removeFrom(this.map.pm._getContainingLayer()),p.remove(),p instanceof L.LayerGroup?(this._fireRemoveLayerGroup(p),this._fireRemoveLayerGroup(this.map,p)):(p.pm._fireRemove(p),p.pm._fireRemove(this.map,p)))},_isRelevantForRemoval(u){return u.pm&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let u=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let p in u){let _=u[p];this._isRelevantForRemoval(_)&&(_.pm.enabled()&&_.pm.disable(),_.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:u}){this._addedLayersRemoval[L.stamp(u)]=u}},si=to,os={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(u=>u instanceof L.Polyline).forEach(u=>{this._isRelevantForRotate(u)&&u.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(u=>u instanceof L.Polyline).forEach(u=>{u.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(u){return u.pm&&u instanceof L.Polyline&&!(u instanceof L.LayerGroup)&&(!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)&&!u._pmTempLayer&&u.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let u=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let p in u){let _=u[p];this._isRelevantForRemoval(_)&&_.pm.enableRotate()}},_layerAddedRotate({layer:u}){this._addedLayersRotate[L.stamp(u)]=u}},Bo=os,Do=g(mr()),$o={_fireDrawStart(u="Draw",p={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},u,p)},_fireDrawEnd(u="Draw",p={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},u,p)},_fireCreate(u,p="Draw",_={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:u,layer:u},p,_)},_fireCenterPlaced(u="Draw",p={}){let _=u==="Draw"?this._layer:void 0,S=u!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:_,layer:S,latlng:this._layer.getLatLng()},u,p)},_fireCut(u,p,_,S="Draw",P={}){this.__fire(u,"pm:cut",{shape:this._shape,layer:p,originalLayer:_},S,P)},_fireEdit(u=this._layer,p="Edit",_={}){this.__fire(u,"pm:edit",{layer:this._layer,shape:this.getShape()},p,_)},_fireEnable(u="Edit",p={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},u,p)},_fireDisable(u="Edit",p={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},u,p)},_fireUpdate(u="Edit",p={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},u,p)},_fireMarkerDragStart(u,p=void 0,_="Edit",S={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:u,shape:this.getShape(),indexPath:p},_,S)},_fireMarkerDrag(u,p=void 0,_="Edit",S={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:u,shape:this.getShape(),indexPath:p},_,S)},_fireMarkerDragEnd(u,p=void 0,_=void 0,S="Edit",P={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:u,shape:this.getShape(),indexPath:p,intersectionReset:_},S,P)},_fireDragStart(u="Edit",p={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},u,p)},_fireDrag(u,p="Edit",_={}){this.__fire(this._layer,"pm:drag",{...u,shape:this.getShape()},p,_)},_fireDragEnd(u="Edit",p={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},u,p)},_fireDragEnable(u="Edit",p={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},u,p)},_fireDragDisable(u="Edit",p={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},u,p)},_fireRemove(u,p=u,_="Edit",S={}){this.__fire(u,"pm:remove",{layer:p,shape:this.getShape()},_,S)},_fireVertexAdded(u,p,_,S="Edit",P={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:u,indexPath:p,latlng:_,shape:this.getShape()},S,P)},_fireVertexRemoved(u,p,_="Edit",S={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:u,indexPath:p,shape:this.getShape()},_,S)},_fireVertexClick(u,p,_="Edit",S={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:u,indexPath:p,shape:this.getShape()},_,S)},_fireIntersect(u,p=this._layer,_="Edit",S={}){this.__fire(p,"pm:intersect",{layer:this._layer,intersection:u,shape:this.getShape()},_,S)},_fireLayerReset(u,p,_="Edit",S={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:u,indexPath:p,shape:this.getShape()},_,S)},_fireChange(u,p="Edit",_={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:u,shape:this.getShape()},p,_)},_fireTextChange(u,p="Edit",_={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:u,shape:this.getShape()},p,_)},_fireTextFocus(u="Edit",p={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},u,p)},_fireTextBlur(u="Edit",p={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},u,p)},_fireSnapDrag(u,p,_="Snapping",S={}){this.__fire(u,"pm:snapdrag",p,_,S)},_fireSnap(u,p,_="Snapping",S={}){this.__fire(u,"pm:snap",p,_,S)},_fireUnsnap(u,p,_="Snapping",S={}){this.__fire(u,"pm:unsnap",p,_,S)},_fireRotationEnable(u,p,_="Rotation",S={}){this.__fire(u,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},_,S)},_fireRotationDisable(u,p="Rotation",_={}){this.__fire(u,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},p,_)},_fireRotationStart(u,p,_="Rotation",S={}){this.__fire(u,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:p},_,S)},_fireRotation(u,p,_,S=this._rotationLayer,P="Rotation",j={}){this.__fire(u,"pm:rotate",{layer:S,helpLayer:this._layer,startAngle:this._startAngle,angle:S.pm.getAngle(),angleDiff:p,oldLatLngs:_,newLatLngs:S.getLatLngs()},P,j)},_fireRotationEnd(u,p,_,S="Rotation",P={}){this.__fire(u,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:p,angle:this._rotationLayer.pm.getAngle(),originLatLngs:_,newLatLngs:this._rotationLayer.getLatLngs()},S,P)},_fireActionClick(u,p,_,S="Toolbar",P={}){this.__fire(this._map,"pm:actionclick",{text:u.text,action:u,btnName:p,button:_},S,P)},_fireButtonClick(u,p,_="Toolbar",S={}){this.__fire(this._map,"pm:buttonclick",{btnName:u,button:p},_,S)},_fireLangChange(u,p,_,S,P="Global",j={}){this.__fire(this.map,"pm:langchange",{oldLang:u,activeLang:p,fallback:_,translations:S},P,j)},_fireGlobalDragModeToggled(u,p="Global",_={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:u,map:this.map},p,_)},_fireGlobalEditModeToggled(u,p="Global",_={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:u,map:this.map},p,_)},_fireGlobalRemovalModeToggled(u,p="Global",_={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:u,map:this.map},p,_)},_fireGlobalCutModeToggled(u="Global",p={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},u,p)},_fireGlobalDrawModeToggled(u="Global",p={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},u,p)},_fireGlobalRotateModeToggled(u="Global",p={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},u,p)},_fireRemoveLayerGroup(u,p=u,_="Edit",S={}){this.__fire(u,"pm:remove",{layer:p,shape:void 0},_,S)},_fireKeyeventEvent(u,p,_,S="Global",P={}){this.__fire(this.map,"pm:keyevent",{event:u,eventType:p,focusOn:_},S,P)},__fire(u,p,_,S,P={}){_=(0,Do.default)(_,P,{source:S}),L.PM.Utils._fireEvent(u,p,_)}},ka=$o,Fo=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(u){this.map=u,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),u.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(u){let p="document";this.map.getContainer().contains(u.target)&&(p="map");let _={event:u,eventType:u.type,focusOn:p};this._lastEvents[u.type]=_,this._lastEvents.current=_,this.map.pm._fireKeyeventEvent(u,u.type,p)},_onBlur(u){u.altKey=!1;let p={event:u,eventType:u.type,focusOn:"document"};this._lastEvents[u.type]=p,this._lastEvents.current=p},getLastKeyEvent(u="current"){return this._lastEvents[u]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),Yn=Fo,_o=g(Dr());function Kn(u){let p=L.PM.activeLang;return(0,_o.default)(cr[p],u)||(0,_o.default)(cr.en,u)||u}function hi(u){for(let p=0;p<u.length;p+=1){let _=u[p];if(Array.isArray(_)){if(hi(_))return!0}else if(_!=null&&_!=="")return!0}return!1}function ua(u){return u.reduce((p,_)=>{if(_.length!==0){let S=Array.isArray(_)?ua(_):_;Array.isArray(S)?S.length!==0&&p.push(S):p.push(S)}return p},[])}function bs(u,p,_){let S={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:P,b:j,f:X}=S,Z=u.lng,ge=u.lat,ve=_,Ve=Math.PI,je=p*Ve/180,vt=Math.sin(je),St=Math.cos(je),qt=(1-X)*Math.tan(ge*Ve/180),un=1/Math.sqrt(1+qt*qt),vn=qt*un,Xn=Math.atan2(qt,St),He=un*vt,Ke=1-He*He,rt=Ke*(P*P-j*j)/(j*j),yt=1+rt/16384*(4096+rt*(-768+rt*(320-175*rt))),lt=rt/1024*(256+rt*(-128+rt*(74-47*rt))),Ct=ve/(j*yt),pe=2*Math.PI,Se,Me,Pe;for(;Math.abs(Ct-pe)>1e-12;){Se=Math.cos(2*Xn+Ct),Me=Math.sin(Ct),Pe=Math.cos(Ct);let Ut=lt*Me*(Se+lt/4*(Pe*(-1+2*Se*Se)-lt/6*Se*(-3+4*Me*Me)*(-3+4*Se*Se)));pe=Ct,Ct=ve/(j*yt)+Ut}let Ae=vn*Me-un*Pe*St,Te=Math.atan2(vn*Pe+un*Me*St,(1-X)*Math.sqrt(He*He+Ae*Ae)),Je=Math.atan2(Me*vt,un*Pe-vn*Me*St),Ze=X/16*Ke*(4+X*(4-3*Ke)),at=Je-(1-Ze)*X*He*(Ct+Ze*Me*(Se+Ze*Pe*(-1+2*Se*Se))),gt=Z+at*180/Ve,ut=Te*180/Ve;return L.latLng(gt,ut)}function Bi(u,p,_,S,P=!0){let j,X,Z,ge=[];for(let ve=0;ve<_;ve+=1){if(P)j=ve*360/_+S,X=bs(u,j,p),Z=L.latLng(X.lng,X.lat);else{let Ve=u.lat+Math.cos(2*ve*Math.PI/_)*p,je=u.lng+Math.sin(2*ve*Math.PI/_)*p;Z=L.latLng(Ve,je)}ge.push(Z)}return ge}function no(u,p,_){p=(p+360)%360;let S=Math.PI/180,P=180/Math.PI,{R:j}=L.CRS.Earth,X=u.lng*S,Z=u.lat*S,ge=p*S,ve=Math.sin(Z),Ve=Math.cos(Z),je=Math.cos(_/j),vt=Math.sin(_/j),St=Math.asin(ve*je+Ve*vt*Math.cos(ge)),qt=X+Math.atan2(Math.sin(ge)*vt*Ve,je-ve*Math.sin(St));qt*=P;let un=qt-360,vn=qt<-180?qt+360:qt;return qt=qt>180?un:vn,L.latLng([St*P,qt])}function La(u,p,_){let S=u.latLngToContainerPoint(p),P=u.latLngToContainerPoint(_),j=Math.atan2(P.y-S.y,P.x-S.x)*180/Math.PI+90;return j+=j<0?360:0,j}function ro(u,p,_,S){let P=La(u,p,_);return no(p,P,S)}function ca(u,p,_="asc"){if(!p||Object.keys(p).length===0)return(ge,ve)=>ge-ve;let S=Object.keys(p),P,j=S.length-1,X={};for(;j>=0;)P=S[j],X[P.toLowerCase()]=p[P],j-=1;function Z(ge){if(ge instanceof L.Marker)return"Marker";if(ge instanceof L.Circle)return"Circle";if(ge instanceof L.CircleMarker)return"CircleMarker";if(ge instanceof L.Rectangle)return"Rectangle";if(ge instanceof L.Polygon)return"Polygon";if(ge instanceof L.Polyline)return"Line"}return(ge,ve)=>{let Ve,je;if(Ve=Z(ge.layer).toLowerCase(),je=Z(ve.layer).toLowerCase(),!Ve||!je)return 0;let vt=Ve in X?X[Ve]:Number.MAX_SAFE_INTEGER,St=je in X?X[je]:Number.MAX_SAFE_INTEGER,qt=0;return vt<St?qt=-1:vt>St&&(qt=1),_==="desc"?qt*-1:qt}}function z(u,p=u.getLatLngs()){return u instanceof L.Polygon?L.polygon(p).getLatLngs():L.polyline(p).getLatLngs()}function ye(u,p){if(p.options.crs?.projection?.MAX_LATITUDE){let _=p.options.crs?.projection?.MAX_LATITUDE;u.lat=Math.max(Math.min(_,u.lat),-_)}return u}function ze(u){return u.options.renderer||u._map&&(u._map._getPaneRenderer(u.options.pane)||u._map.options.renderer||u._map._renderer)||u._renderer}var et=L.Class.extend({includes:[Qa,Kr,si,Bo,ka],initialize(u){this.map=u,this.Draw=new L.PM.Draw(u),this.Toolbar=new L.PM.Toolbar(u),this.Keyboard=Yn(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(u)},setLang(u="en",p,_="en"){if(u=u.trim().toLowerCase(),!/^[a-z]{2}$/.test(u)){let P=u.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(P){let j=[`${P[1]}_${P[2]}`,`${P[1]}`];for(let X of j)if(cr[X]){u=X;break}}}let S=L.PM.activeLang;p&&(cr[u]=(0,jn.default)(cr[_],p)),L.PM.activeLang=u,this.map.pm.Toolbar.reinit(),this._fireLangChange(S,u,_,cr[u])},addControls(u){this.Toolbar.addControls(u)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(u="Polygon",p){u==="Poly"&&(u="Polygon"),this.Draw.enable(u,p)},disableDraw(u="Polygon"){u==="Poly"&&(u="Polygon"),this.Draw.disable(u)},setPathOptions(u,p={}){let _=p.ignoreShapes||[],S=p.merge||!1;this.map.pm.Draw.shapes.forEach(P=>{_.indexOf(P)===-1&&this.map.pm.Draw[P].setPathOptions(u,S)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(u){let p=(0,jn.default)(this.globalOptions,u);p.editable&&(p.resizeableCircleMarker=p.editable,delete p.editable);let _=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!p.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),_=!0);let S=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!p.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),S=!0),this.map.pm.Draw.shapes.forEach(P=>{this.map.pm.Draw[P].setOptions(p)}),_&&this.map.pm.Draw.CircleMarker.enable(),S&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(P=>{P.pm.setOptions(p)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=p,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(u=>{u.pm.enabled()&&u.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(u){return this.Draw.Cut.enable(u)},toggleGlobalCutMode(u){return this.Draw.Cut.toggle(u)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(u=!1){let p=L.PM.Utils.findLayers(this.map);if(!u)return p;let _=L.featureGroup();return _._pmTempLayer=!0,p.forEach(S=>{_.addLayer(S)}),_},getGeomanDrawLayers(u=!1){let p=L.PM.Utils.findLayers(this.map).filter(S=>S._drawnByGeoman===!0);if(!u)return p;let _=L.featureGroup();return _._pmTempLayer=!0,p.forEach(S=>{_.addLayer(S)}),_},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(u){this._touchEventCounter===0&&(L.DomEvent.on(u,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(u,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(u){this._touchEventCounter===1&&(L.DomEvent.off(u,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(u,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(u){ze(this.map)._onMouseMove(this._createMouseEvent("mousemove",u))},_canvasTouchClick(u){let p="";u.type==="touchstart"||u.type==="pointerdown"?p="mousedown":(u.type==="touchend"||u.type==="pointerup"||u.type==="touchcancel"||u.type==="pointercancel")&&(p="mouseup"),p&&ze(this.map)._onClick(this._createMouseEvent(p,u))},_createMouseEvent(u,p){let _,S=p.touches[0]||p.changedTouches[0];try{_=new MouseEvent(u,{bubbles:p.bubbles,cancelable:p.cancelable,view:p.view,detail:S.detail,screenX:S.screenX,screenY:S.screenY,clientX:S.clientX,clientY:S.clientY,ctrlKey:p.ctrlKey,altKey:p.altKey,shiftKey:p.shiftKey,metaKey:p.metaKey,button:p.button,relatedTarget:p.relatedTarget})}catch{_=document.createEvent("MouseEvents"),_.initMouseEvent(u,p.bubbles,p.cancelable,p.view,S.detail,S.screenX,S.screenY,S.clientX,S.clientY,p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,p.relatedTarget)}return _}}),pt=et,$t=L.Control.extend({includes:[ka],options:{position:"topleft",disableByOtherButtons:!0},initialize(u){this._button=L.Util.extend({},this.options,u)},onAdd(u){return this._map=u,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let u=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),u?u.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(u){return typeof u=="boolean"?this._button.toggleStatus=u:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(u){u&&u.preventDefault(),!this._button.disabled&&(this._button.onClick(u,{button:this,event:u}),this._clicked(u),this._button.afterClick(u,{button:this,event:u}))},_makeButton(u){let p=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div",`button-container  ${p}`,this._container);u.title&&_.setAttribute("title",u.title);let S=L.DomUtil.create("a","leaflet-buttons-control-button",_);S.setAttribute("role","button"),S.setAttribute("tabindex","0"),S.href="#";let P=L.DomUtil.create("div",`leaflet-pm-actions-container ${p}`,_),j=u.actions,X={cancel:{text:Kn("actions.cancel"),title:Kn("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Kn("actions.finish"),title:Kn("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Kn("actions.removeLastVertex"),title:Kn("actions.removeLastVertex"),onClick(){this._map.pm.Draw[u.jsClass]._removeLastVertex()}},finish:{text:Kn("actions.finish"),title:Kn("actions.finish"),onClick(ge){this._map.pm.Draw[u.jsClass]._finishShape(ge)}}};u._preparedActions=j.map(ge=>{let ve=typeof ge=="string"?ge:ge.name,Ve;if(X[ve])Ve=X[ve];else if(ge.text)Ve=ge;else return Ve;let je=L.DomUtil.create("a",`leaflet-pm-action ${p} action-${ve}`,P);if(je.setAttribute("role","button"),je.setAttribute("tabindex","0"),je.href="#",Ve.title&&(je.title=Ve.title),je.innerHTML=Ve.text,L.DomEvent.disableClickPropagation(je),L.DomEvent.on(je,"click",L.DomEvent.stop),Ve._node=je,!u.disabled&&Ve.onClick){let vt=St=>{St.preventDefault();let qt="",{buttons:un}=this._map.pm.Toolbar;for(let vn in un)if(un[vn]._button===u){qt=vn;break}this._fireActionClick(Ve,qt,u)};L.DomEvent.addListener(je,"click",vt,this),L.DomEvent.addListener(je,"click",Ve.onClick,this),L.DomEvent.addListener(je,"click",()=>this._updateActiveAction(u))}return Ve}),this._updateActiveAction(u),u.toggleStatus&&L.DomUtil.addClass(_,"active");let Z=L.DomUtil.create("div","control-icon",S);return u.iconUrl&&Z.setAttribute("src",u.iconUrl),u.className&&L.DomUtil.addClass(Z,u.className),L.DomEvent.disableClickPropagation(S),L.DomEvent.on(S,"click",L.DomEvent.stop),u.disabled||(L.DomEvent.addListener(S,"click",this._onBtnClick,this),L.DomEvent.addListener(S,"click",this._triggerClick,this)),u.disabled&&(L.DomUtil.addClass(S,"pm-disabled"),S.setAttribute("aria-disabled","true")),_},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let u="",{buttons:p}=this._map.pm.Toolbar;for(let _ in p)if(p[_]._button===this._button){u=_;break}this._fireButtonClick(u,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let u="pm-disabled",p=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(p,u),p.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(p,u),p.setAttribute("aria-disabled","false"))},_updateActiveAction(u){u._preparedActions?.forEach(p=>{p?._node&&(p.isActive&&p.isActive.call(this)?L.DomUtil.addClass(p._node,"active-action"):L.DomUtil.removeClass(p._node,"active-action"))})}}),Qt=$t;L.Control.PMButton=Qt;var Mn=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(u){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(u)},reinit(){let u=this.isVisible;this.removeControls(),this._defineButtons(),u&&this.addControls()},init(u){this.map=u,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(u){let p=`${u}Container`;return this[p]||(this[p]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${u} leaflet-bar leaflet-control`)),this[p]},getButtons(){return this.buttons},addControls(u=this.options){typeof u.editPolygon<"u"&&(u.editMode=u.editPolygon),typeof u.deleteLayer<"u"&&(u.removalMode=u.deleteLayer),L.Util.setOptions(this,u),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let u=this.getButtons(),p={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let _ in u){let S=u[_];L.Util.setOptions(S,{className:p.geomanIcons[_]})}},removeControls(){let u=this.getButtons();for(let p in u)u[p].remove();this.isVisible=!1},toggleControls(u=this.options){this.isVisible?this.removeControls():this.addControls(u)},_addButton(u,p){return this.buttons[u]=p,this.options[u]=!!this.options[u]||!1,this.buttons[u]},triggerClickOnToggledButtons(u){for(let p in this.buttons){let _=this.buttons[p];_._button.disableByOtherButtons&&_!==u&&_.toggled()&&_._triggerClick()}},toggleButton(u,p,_=!0){u==="editPolygon"&&(u="editMode"),u==="deleteLayer"&&(u="removalMode");let S=u;return _&&this.triggerClickOnToggledButtons(this.buttons[S]),this.buttons[S]?this.buttons[S].toggle(p):!1},_defineButtons(){let u={className:"control-icon leaflet-pm-icon-marker",title:Kn("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:Kn("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:Kn("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},S={title:Kn("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},P={title:Kn("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},j={title:Kn("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},X={title:Kn("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Z={title:Kn("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ge={title:Kn("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},ve={title:Kn("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Ve={title:Kn("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},je={className:"control-icon leaflet-pm-icon-text",title:Kn("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(vt,St)=>{this.map.pm.Draw[St.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(u)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(j)),this._addButton("drawPolygon",new L.Control.PMButton(p)),this._addButton("drawCircle",new L.Control.PMButton(S)),this._addButton("drawCircleMarker",new L.Control.PMButton(P)),this._addButton("drawText",new L.Control.PMButton(je)),this._addButton("editMode",new L.Control.PMButton(X)),this._addButton("dragMode",new L.Control.PMButton(Z)),this._addButton("cutPolygon",new L.Control.PMButton(ge)),this._addButton("removalMode",new L.Control.PMButton(ve)),this._addButton("rotateMode",new L.Control.PMButton(Ve))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let u=this.getButtons(),p=[];this.options.drawControls===!1&&(p=p.concat(Object.keys(u).filter(_=>!u[_]._button.tool))),this.options.editControls===!1&&(p=p.concat(Object.keys(u).filter(_=>u[_]._button.tool==="edit"))),this.options.optionsControls===!1&&(p=p.concat(Object.keys(u).filter(_=>u[_]._button.tool==="options"))),this.options.customControls===!1&&(p=p.concat(Object.keys(u).filter(_=>u[_]._button.tool==="custom")));for(let _ in u)if(this.options[_]&&p.indexOf(_)===-1){let S=u[_]._button.tool;S||(S="draw"),u[_].setPosition(this._getBtnPosition(S)),u[_].addTo(this.map)}},_getBtnPosition(u){return this.options.positions&&this.options.positions[u]?this.options.positions[u]:this.options.position},setBlockPosition(u,p){this.options.positions[u]=p,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(u,p){if(p)typeof p!="object"&&(p={name:p});else throw new TypeError("Button has no name");let _=this._btnNameMapping(u);if(!p.name)throw new TypeError("Button has no name");if(this.buttons[p.name])throw new TypeError("Button with this name already exists");let S=this.map.pm.Draw.createNewDrawInstance(p.name,_);p={...this.buttons[_]._button,...p};let P=this.createCustomControl(p);return{drawInstance:S,control:P}},createCustomControl(u){if(!u.name)throw new TypeError("Button has no name");if(this.buttons[u.name])throw new TypeError("Button with this name already exists");u.onClick||(u.onClick=()=>{}),u.afterClick||(u.afterClick=()=>{}),u.toggle!==!1&&(u.toggle=!0),u.block&&(u.block=u.block.toLowerCase()),(!u.block||u.block==="draw")&&(u.block=""),u.className?u.className.indexOf("control-icon")===-1&&(u.className=`control-icon ${u.className}`):u.className="control-icon";let p={tool:u.block,className:u.className,title:u.title||"",jsClass:u.name,onClick:u.onClick,afterClick:u.afterClick,doToggle:u.toggle,toggleStatus:!1,disableOtherButtons:u.disableOtherButtons??!0,disableByOtherButtons:u.disableByOtherButtons??!0,cssToggle:u.toggle,position:this.options.position,actions:u.actions||[],disabled:!!u.disabled};this.options[u.name]!==!1&&(this.options[u.name]=!0);let _=this._addButton(u.name,new L.Control.PMButton(p));return this.changeControlOrder(),_},controlExists(u){return!!this.getButton(u)},getButton(u){return this.getButtons()[u]},getButtonsInBlock(u){let p={};if(u)for(let _ in this.getButtons()){let S=this.getButtons()[_];(S._button.tool===u||u==="draw"&&!S._button.tool)&&(p[_]=S)}return p},changeControlOrder(u=[]){let p=this._shapeMapping(),_=[];u.forEach(j=>{p[j]?_.push(p[j]):_.push(j)});let S=this.getButtons(),P={};_.forEach(j=>{S[j]&&(P[j]=S[j])}),Object.keys(S).filter(j=>!S[j]._button.tool||S[j]._button.tool==="draw").forEach(j=>{_.indexOf(j)===-1&&(P[j]=S[j])}),Object.keys(S).filter(j=>S[j]._button.tool==="edit").forEach(j=>{_.indexOf(j)===-1&&(P[j]=S[j])}),Object.keys(S).filter(j=>S[j]._button.tool==="options").forEach(j=>{_.indexOf(j)===-1&&(P[j]=S[j])}),Object.keys(S).filter(j=>S[j]._button.tool==="custom").forEach(j=>{_.indexOf(j)===-1&&(P[j]=S[j])}),Object.keys(S).forEach(j=>{_.indexOf(j)===-1&&(P[j]=S[j])}),this.map.pm.Toolbar.buttons=P,this._showHideButtons()},getControlOrder(){let u=this.getButtons(),p=[];for(let _ in u)p.push(_);return p},changeActionsOfControl(u,p){let _=this._btnNameMapping(u);if(!_)throw new TypeError("No name passed");if(!p)throw new TypeError("No actions passed");if(!this.buttons[_])throw new TypeError("Button with this name not exists");this.buttons[_]._button.actions=p,this.changeControlOrder()},setButtonDisabled(u,p){let _=this._btnNameMapping(u);p?this.buttons[_].disable():this.buttons[_].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(u){let p=this._shapeMapping();return p[u]?p[u]:u}}),Cn=Mn,Tn=g(mr()),ir={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(u){u.forEach(p=>{if(Array.isArray(p)){this._assignEvents(p);return}p.off("drag",this._handleSnapping,this),p.on("drag",this._handleSnapping,this),p.off("dragend",this._cleanupSnapping,this),p.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(u){if(u){let p=u.target;p._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(p=>{p.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(u){let p=u.target;if(p._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),u?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let _=this._calcClosestLayer(p.getLatLng(),this._snapList);if(Object.keys(_).length===0)return!1;let S=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment,P;S?P=_.latlng:P=this._checkPrioritiySnapping(_);let j=this.options.snapDistance,X={marker:p,shape:this._shape,snapLatLng:P,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag(X.marker,X),this._fireSnapDrag(this._layer,X),_.distance<j){p._orgLatLng=p.getLatLng(),p.setLatLng(P),p._snapped=!0,p._snapInfo=X;let Z=()=>{this._snapLatLng=P,this._fireSnap(p,X),this._fireSnap(this._layer,X)},ge=this._snapLatLng||{},ve=P||{};(ge.lat!==ve.lat||ge.lng!==ve.lng)&&Z()}else this._snapLatLng&&(this._unsnap(X),p._snapped=!1,p._snapInfo=void 0,this._fireUnsnap(X.marker,X),this._fireUnsnap(this._layer,X));return!0},_createSnapList(){let u=[],p=[],_=this._map;_.off("layerremove",this._handleSnapLayerRemoval,this),_.on("layerremove",this._handleSnapLayerRemoval,this),_.eachLayer(S=>{if((S instanceof L.Polyline||S instanceof L.Marker||S instanceof L.CircleMarker||S instanceof L.ImageOverlay)&&S.options.snapIgnore!==!0){if(S.options.snapIgnore===void 0&&(!L.PM.optIn&&S.options.pmIgnore===!0||L.PM.optIn&&S.options.pmIgnore!==!1))return;(S instanceof L.Circle||S instanceof L.CircleMarker)&&S.pm&&S.pm._hiddenPolyCircle?u.push(S.pm._hiddenPolyCircle):S instanceof L.ImageOverlay&&(S=L.rectangle(S.getBounds())),u.push(S);let P=L.polyline([],{color:"red",pmIgnore:!0});P._pmTempLayer=!0,p.push(P),(S instanceof L.Circle||S instanceof L.CircleMarker)&&p.push(P)}}),u=u.filter(S=>this._layer!==S),u=u.filter(S=>S._latlng||S._latlngs&&hi(S._latlngs)),u=u.filter(S=>!S._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let S=L.polyline([],{color:"red",pmIgnore:!0});S._pmTempLayer=!0,p.push(S)}),this._snapList=u.concat(this._otherSnapLayers)):this._snapList=u,this.debugIndicatorLines=p},_handleSnapLayerRemoval({layer:u}){if(!u._leaflet_id)return;let p=this._snapList.findIndex(_=>_._leaflet_id===u._leaflet_id);p>-1&&this._snapList.splice(p,1)},_calcClosestLayer(u,p){return this._calcClosestLayers(u,p,1)[0]},_calcClosestLayers(u,p,_=1){let S=[],P={};p.forEach((X,Z)=>{if(X._parentCopy&&X._parentCopy===this._layer||X.getLatLngs?.().flat(5).length<2)return;let ge=this._calcLayerDistances(u,X);if(ge.distance=Math.floor(ge.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[Z]){let ve=L.polyline([],{color:"red",pmIgnore:!0});ve._pmTempLayer=!0,this.debugIndicatorLines[Z]=ve}this.debugIndicatorLines[Z].setLatLngs([u,ge.latlng])}_===1&&(P.distance===void 0||ge.distance-5<=P.distance)?(ge.distance+5<P.distance&&(S=[]),P=ge,P.layer=X,S.push(P)):_!==1&&(P={},P=ge,P.layer=X,S.push(P))}),_!==1&&(S=S.sort((X,Z)=>X.distance-Z.distance)),_===-1&&(_=S.length);let j=this._getClosestLayerByPriority(S,_);return L.Util.isArray(j)?j:[j]},_calcLayerDistances(u,p){let _=this._map,S=p instanceof L.Marker||p instanceof L.CircleMarker,P=p instanceof L.Polygon,j=u;if(S){let X=p.getLatLng();return{latlng:{...X},distance:this._getDistance(_,X,j)}}return this._calcLatLngDistances(j,p.getLatLngs(),_,P)},_calcLatLngDistances(u,p,_,S=!1){let P,j,X,Z=ge=>{ge.forEach((ve,Ve)=>{if(Array.isArray(ve)){Z(ve);return}if(this.options.snapSegment){let je=ve,vt;S?vt=Ve+1===ge.length?0:Ve+1:vt=Ve+1===ge.length?void 0:Ve+1;let St=ge[vt];if(St){let qt=this._getDistanceToSegment(_,u,je,St);(j===void 0||qt<j)&&(j=qt,X=[je,St])}}else{let je=this._getDistance(_,u,ve);(j===void 0||je<j)&&(j=je,P=ve)}})};return Z(p),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(_,u,X[0],X[1])},segment:X,distance:j}:{latlng:P,distance:j}},_getClosestLayerByPriority(u,p=1){u=u.sort((X,Z)=>X._leaflet_id-Z._leaflet_id);let _=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],S=this._map.pm.globalOptions.snappingOrder||[],P=0,j={};return S.concat(_).forEach(X=>{j[X]||(P+=1,j[X]=P)}),u.sort(ca("instanceofShape",j)),p===1?u[0]||{}:u.slice(0,p)},_checkPrioritiySnapping(u){let p=this._map,_=u.segment[0],S=u.segment[1],P=u.latlng,j=P;if(this.options.snapVertex){let X=this._getDistance(p,_,P),Z=this._getDistance(p,S,P),ge=X<Z?_:S,ve=X<Z?X:Z;if(this.options.snapMiddle){let je=L.PM.Utils.calcMiddleLatLng(p,_,S),vt=this._getDistance(p,je,P);vt<X&&vt<Z&&(ge=je,ve=vt)}let Ve=this.options.snapDistance;ve<Ve&&(j=ge)}return{...j}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(u,p,_,S){let P=u.getMaxZoom();P===1/0&&(P=u.getZoom());let j=u.project(p,P),X=u.project(_,P),Z=u.project(S,P),ge=L.LineUtil.closestPointOnSegment(j,X,Z);return u.unproject(ge,P)},_getDistanceToSegment(u,p,_,S){let P=u.latLngToContainerPoint(p),j=u.latLngToContainerPoint(_),X=u.latLngToContainerPoint(S);return L.LineUtil.pointToSegmentDistance(P,j,X)},_getDistance(u,p,_){return u.latLngToContainerPoint(p).distanceTo(u.latLngToContainerPoint(_))}},Sr=ir,li=L.Class.extend({includes:[Sr,ka],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(u){L.Util.setOptions(this,u),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(u){let p=new L.Icon.Default;p.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=p,this._map=u,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(_=>{this[_]=new L.PM.Draw[_](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(u,p=!1){p?this.options.pathOptions=(0,Tn.default)(this.options.pathOptions,u):this.options.pathOptions=u},getShapes(){return this.shapes},getShape(){return this._shape},enable(u,p){if(!u)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[u].enable(p)},disable(){this.shapes.forEach(u=>{this[u].disable()})},addControls(){this.shapes.forEach(u=>{this[u].addButton()})},getActiveShape(){let u;return this.shapes.forEach(p=>{this[p]._enabled&&(u=p)}),u},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let u=[];this._map.eachLayer(p=>{(p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.Circle||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&(p._pmTempLayer||u.push(p))}),this._enabled?u.forEach(p=>{L.PM.Utils.disablePopup(p)}):u.forEach(p=>{L.PM.Utils.enablePopup(p)})},createNewDrawInstance(u,p){let _=this._getShapeFromBtnName(p);if(this[u])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[_])throw new TypeError(`There is no class L.PM.Draw.${_}`);return this[u]=new L.PM.Draw[_](this._map),this[u].toolbarButtonName=u,this[u]._shape=u,this.shapes.push(u),this[p]&&this[u].setOptions(this[p].options),this[u].setOptions(this[u].options),this[u]},_getShapeFromBtnName(u){let p={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return p[u]?p[u]:this[u]?this[u]._shape:u},_finishLayer(u){u.pm&&(u.pm.setOptions(this.options),u.pm._shape=this._shape,u.pm._map=this._map),this._addDrawnLayerProp(u)},_addDrawnLayerProp(u){u._drawnByGeoman=!0},_setPane(u,p){p==="layerPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":p==="vertexPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":p==="markerPane"&&(u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),vr=li;vr.Marker=vr.extend({initialize(u){this._map=u,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(u){L.Util.setOptions(this,u),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(p=>{this.isRelevantMarker(p)&&p.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(u=>{this.isRelevantMarker(u)&&u.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},isRelevantMarker(u){return u instanceof L.Marker&&u.pm&&!u._pmTempLayer&&!u.pm._initTextMarker},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let p=u;p.target=this._hintMarker,this._handleSnapping(p)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(u){if(!u.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=new L.Marker(p,this.options.markerStyle);this._setPane(_,"markerPane"),this._finishLayer(_),_.pm||(_.options.draggable=!1),_.addTo(this._map.pm._getContainingLayer()),_.pm&&this.options.markerEditable?_.pm.enable():_.dragging&&_.dragging.disable(),this._fireCreate(_),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var ar=63710088e-1,di={centimeters:ar*100,centimetres:ar*100,degrees:ar/111325,feet:ar*3.28084,inches:ar*39.37,kilometers:ar/1e3,kilometres:ar/1e3,meters:ar,metres:ar,miles:ar/1609.344,millimeters:ar*1e3,millimetres:ar*1e3,nauticalmiles:ar/1852,radians:1,yards:ar*1.0936};function Xr(u,p,_){_===void 0&&(_={});var S={type:"Feature"};return(_.id===0||_.id)&&(S.id=_.id),_.bbox&&(S.bbox=_.bbox),S.properties=p||{},S.geometry=u,S}function Ir(u,p,_){if(_===void 0&&(_={}),!u)throw new Error("coordinates is required");if(!Array.isArray(u))throw new Error("coordinates must be an Array");if(u.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!io(u[0])||!io(u[1]))throw new Error("coordinates must contain numbers");var S={type:"Point",coordinates:u};return Xr(S,p,_)}function Di(u,p,_){if(_===void 0&&(_={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");var S={type:"LineString",coordinates:u};return Xr(S,p,_)}function Er(u,p){p===void 0&&(p={});var _={type:"FeatureCollection"};return p.id&&(_.id=p.id),p.bbox&&(_.bbox=p.bbox),_.features=u,_}function ha(u,p){p===void 0&&(p="kilometers");var _=di[p];if(!_)throw new Error(p+" units is invalid");return u*_}function bo(u,p){p===void 0&&(p="kilometers");var _=di[p];if(!_)throw new Error(p+" units is invalid");return u/_}function bi(u){var p=u%(2*Math.PI);return p*180/Math.PI}function xi(u){var p=u%360;return p*Math.PI/180}function io(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)}function Na(u){var p,_,S={type:"FeatureCollection",features:[]};if(u.type==="Feature"?_=u.geometry:_=u,_.type==="LineString")p=[_.coordinates];else if(_.type==="MultiLineString")p=_.coordinates;else if(_.type==="MultiPolygon")p=[].concat.apply([],_.coordinates);else if(_.type==="Polygon")p=_.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return p.forEach(function(P){p.forEach(function(j){for(var X=0;X<P.length-1;X++)for(var Z=X;Z<j.length-1;Z++)if(!(P===j&&(Math.abs(X-Z)===1||X===0&&Z===P.length-2&&P[X][0]===P[P.length-1][0]&&P[X][1]===P[P.length-1][1]))){var ge=ao(P[X][0],P[X][1],P[X+1][0],P[X+1][1],j[Z][0],j[Z][1],j[Z+1][0],j[Z+1][1]);ge&&S.features.push(Ir([ge[0],ge[1]]))}})}),S}function ao(u,p,_,S,P,j,X,Z){var ge,ve,Ve,je,vt,St={x:null,y:null,onLine1:!1,onLine2:!1};return ge=(Z-j)*(_-u)-(X-P)*(S-p),ge===0?St.x!==null&&St.y!==null?St:!1:(ve=p-j,Ve=u-P,je=(X-P)*ve-(Z-j)*Ve,vt=(_-u)*ve-(S-p)*Ve,ve=je/ge,Ve=vt/ge,St.x=u+ve*(_-u),St.y=p+ve*(S-p),ve>=0&&ve<=1&&(St.onLine1=!0),Ve>=0&&Ve<=1&&(St.onLine2=!0),St.onLine1&&St.onLine2?[St.x,St.y]:!1)}vr.Line=vr.extend({initialize(u){this._map=u,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(u){L.Util.setOptions(this,u),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_syncHintLine(){let u=this._layer.getLatLngs();if(u.length>0){let p=u[u.length-1];this._hintline.setLatLngs([p,this._hintMarker.getLatLng()])}},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let _=u;_.target=this._hintMarker,this._handleSnapping(_)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let p=this._layer._defaultShape().slice();p.push(this._hintMarker.getLatLng()),this._change(p)},hasSelfIntersection(){return Na(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(u,p){let _=L.polyline(this._layer.getLatLngs());u&&(p||(p=this._hintMarker.getLatLng()),_.addLatLng(p));let S=Na(_.toGeoJSON(15));this._doesSelfIntersect=S.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(S,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(u){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,u.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=this._layer.getLatLngs(),S=_[_.length-1];if(p.equals(_[0])||_.length>0&&p.equals(S)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:p,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(p);let P=this._createMarker(p);this._setTooltipText(),this._setHintLineAfterNewVertex(p),this._fireVertexAdded(P,void 0,p,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(u)},_setHintLineAfterNewVertex(u){this._hintline.setLatLngs([u,u])},_removeLastVertex(){let u=this._markers;if(u.length<=1){this.disable();return}let p=this._layer.getLatLngs(),_=u[u.length-1],{indexPath:S}=L.PM.Utils.findDeepMarkerIndex(u,_);u.pop(),this._layerGroup.removeLayer(_);let P=u[u.length-1],j=p.indexOf(P.getLatLng());p=p.slice(0,j+1),this._layer.setLatLngs(p),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(_,S,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let u=this._layer.getLatLngs();if(u.length<=1)return;let p=L.polyline(u,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._fireCreate(p),this.options.snappable&&this._cleanupSnapping();let _=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(_))},_createMarker(u){let p=new L.Marker(u,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._markers.push(p),p.on("click",this._finishShape,this),p},_setTooltipText(){let{length:u}=this._layer.getLatLngs().flat(),p="";u<=1?p=Kn("tooltips.continueLine"):p=Kn("tooltips.finishLine"),this._hintMarker.setTooltipContent(p)},_change(u){this._fireChange(u,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),vr.Polygon=vr.Line.extend({initialize(u){this._map=u,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(u){L.PM.Draw.Line.prototype.enable.call(this,u),this._layer.pm._shape="Polygon"},_createMarker(u){let p=new L.Marker(u,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._markers.push(p),this._layer.getLatLngs().flat().length===1?(p.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(p)-1,this.options.snappable&&this._cleanupSnapping()):p.on("click",()=>1),p},_setTooltipText(){let{length:u}=this._layer.getLatLngs().flat(),p="";u<=2?p=Kn("tooltips.continueLine"):p=Kn("tooltips.finishPoly"),this._hintMarker.setTooltipContent(p)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let u=this._layer.getLatLngs();if(u.length<=2)return;let p=L.polygon(u,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._fireCreate(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let _=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(_))}}),vr.Rectangle=vr.extend({initialize(u){this._map=u,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(u){if(L.Util.setOptions(this,u),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let p=0;p<2;p+=1){let _=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(_,"vertexPane"),_._pmTempLayer=!0,this._layerGroup.addLayer(_),this._styleMarkers.push(_)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_placeStartingMarkers(u){this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(p),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(_=>{L.DomUtil.addClass(_._icon,"visible"),_.setLatLng(p)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Kn("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let u=this._startMarker.getLatLng();u&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([u,u]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let _=u;_.target=this._hintMarker,this._handleSnapping(_)}let p=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(p,"Draw")},_syncRectangleSize(){let u=ye(this._startMarker.getLatLng(),this._map),p=ye(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(u,p,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){let S=[];_.forEach(P=>{!P.equals(u,1e-8)&&!P.equals(p,1e-8)&&S.push(P)}),S.forEach((P,j)=>{try{this._styleMarkers[j].setLatLng(P)}catch{}})}},_findCorners(){let u=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(u[0],u[2],this.options.rectangleAngle||0,this._map)},_finishShape(u){this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||_.equals(p))return;let S=L.rectangle([_,p],this.options.pathOptions);if(this.options.rectangleAngle){let j=L.PM.Utils._getRotatedRectangle(_,p,this.options.rectangleAngle||0,this._map);S.setLatLngs(j),S.pm&&S.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(S,"layerPane"),this._finishLayer(S),S.addTo(this._map.pm._getContainingLayer()),this._fireCreate(S);let P=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(P))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),vr.CircleMarker=vr.extend({initialize(u){this._map=u,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(u){if(L.Util.setOptions(this,u),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let p={};L.extend(p,this.options.templineStyle),p.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),p),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(u=>{this.isRelevantMarker(u)&&u.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(u=>{this.isRelevantMarker(u)&&u.pm.disable()})},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_placeCenterMarker(u){this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let p=this._hintMarker.getLatLng();this._centerMarker.setLatLng(p),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let u=this._centerMarker.getLatLng();u&&(this._layer.setLatLng(u),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Kn("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let u=this._centerMarker.getLatLng(),p=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([u,p])},_syncCircleRadius(){let u=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),_=this._distanceCalculation(u,p);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(_)},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let _=u;_.target=this._hintMarker,this._handleSnapping(_)}this._handleHintMarkerSnapping();let p=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(p,"Draw")},isRelevantMarker(u){return u instanceof L.CircleMarker&&!(u instanceof L.Circle)&&u.pm&&!u._pmTempLayer},_createMarker(u){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!u.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng(),_=new this._BaseCircleClass(p,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(_),this._fireCreate(_),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(u){u.pm&&this.options.markerEditable&&u.pm.enable()},_finishShape(u){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._centerMarker.getLatLng(),_=this._defaultRadius;if(this.options[this._editableOption]){let X=this._hintMarker.getLatLng();_=this._distanceCalculation(p,X),this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?_=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&(_=this.options[this._maxRadiusOption])}let S={...this.options.pathOptions,radius:_},P=new this._BaseCircleClass(p,S);this._setPane(P,"layerPane"),this._finishLayer(P),P.addTo(this._map.pm._getContainingLayer()),P.pm&&P.pm._updateHiddenPolyCircle(),this._fireCreate(P);let j=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(j))},_getNewDestinationOfHintMarker(){let u=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return u;let p=this._centerMarker.getLatLng(),_=this._distanceCalculation(p,u);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?u=ro(this._map,p,u,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&(u=ro(this._map,p,u,this._getMaxDistanceInMeter()))}return u},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let u=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),_=this._distanceCalculation(u,p);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let u={};L.extend(u,this.options.templineStyle),this.options[this._editableOption]&&(u.radius=0),this._layer?.setStyle(u),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(u,p){return this._map.project(u).distanceTo(this._map.project(p))}}),vr.Circle=vr.CircleMarker.extend({initialize(u){this._map=u,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(u,p){return this._map.distance(u,p)}});function qr(u){if(!u)throw new Error("coord is required");if(!Array.isArray(u)){if(u.type==="Feature"&&u.geometry!==null&&u.geometry.type==="Point")return u.geometry.coordinates;if(u.type==="Point")return u.coordinates}if(Array.isArray(u)&&u.length>=2&&!Array.isArray(u[0])&&!Array.isArray(u[1]))return u;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ui(u){if(Array.isArray(u))return u;if(u.type==="Feature"){if(u.geometry!==null)return u.geometry.coordinates}else if(u.coordinates)return u.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function oo(u){return u.type==="Feature"?u.geometry:u}function jo(u,p){return u.type==="FeatureCollection"?"FeatureCollection":u.type==="GeometryCollection"?"GeometryCollection":u.type==="Feature"&&u.geometry!==null?u.geometry.type:u.type}function zo(u,p,_){if(u!==null)for(var S,P,j,X,Z,ge,ve,Ve=0,je=0,vt,St=u.type,qt=St==="FeatureCollection",un=St==="Feature",vn=qt?u.features.length:1,Xn=0;Xn<vn;Xn++){ve=qt?u.features[Xn].geometry:un?u.geometry:u,vt=ve?ve.type==="GeometryCollection":!1,Z=vt?ve.geometries.length:1;for(var He=0;He<Z;He++){var Ke=0,rt=0;if(X=vt?ve.geometries[He]:ve,X!==null){ge=X.coordinates;var yt=X.type;switch(Ve=0,yt){case null:break;case"Point":if(p(ge,je,Xn,Ke,rt)===!1)return!1;je++,Ke++;break;case"LineString":case"MultiPoint":for(S=0;S<ge.length;S++){if(p(ge[S],je,Xn,Ke,rt)===!1)return!1;je++,yt==="MultiPoint"&&Ke++}yt==="LineString"&&Ke++;break;case"Polygon":case"MultiLineString":for(S=0;S<ge.length;S++){for(P=0;P<ge[S].length-Ve;P++){if(p(ge[S][P],je,Xn,Ke,rt)===!1)return!1;je++}yt==="MultiLineString"&&Ke++,yt==="Polygon"&&rt++}yt==="Polygon"&&Ke++;break;case"MultiPolygon":for(S=0;S<ge.length;S++){for(rt=0,P=0;P<ge[S].length;P++){for(j=0;j<ge[S][P].length-Ve;j++){if(p(ge[S][P][j],je,Xn,Ke,rt)===!1)return!1;je++}rt++}Ke++}break;case"GeometryCollection":for(S=0;S<X.geometries.length;S++)if(zo(X.geometries[S],p)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function jr(u,p){if(u.type==="Feature")p(u,0);else if(u.type==="FeatureCollection")for(var _=0;_<u.features.length&&p(u.features[_],_)!==!1;_++);}function ra(u,p,_){var S=_;return jr(u,function(P,j){j===0&&_===void 0?S=P:S=p(S,P,j)}),S}function Ho(u,p){var _,S,P,j,X,Z,ge,ve,Ve,je,vt=0,St=u.type==="FeatureCollection",qt=u.type==="Feature",un=St?u.features.length:1;for(_=0;_<un;_++){for(Z=St?u.features[_].geometry:qt?u.geometry:u,ve=St?u.features[_].properties:qt?u.properties:{},Ve=St?u.features[_].bbox:qt?u.bbox:void 0,je=St?u.features[_].id:qt?u.id:void 0,ge=Z?Z.type==="GeometryCollection":!1,X=ge?Z.geometries.length:1,P=0;P<X;P++){if(j=ge?Z.geometries[P]:Z,j===null){if(p(null,vt,ve,Ve,je)===!1)return!1;continue}switch(j.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(j,vt,ve,Ve,je)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<j.geometries.length;S++)if(p(j.geometries[S],vt,ve,Ve,je)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}vt++}}function ia(u,p){Ho(u,function(_,S,P,j,X){var Z=_===null?null:_.type;switch(Z){case null:case"Point":case"LineString":case"Polygon":return p(Xr(_,P,{bbox:j,id:X}),S,0)===!1?!1:void 0}var ge;switch(Z){case"MultiPoint":ge="Point";break;case"MultiLineString":ge="LineString";break;case"MultiPolygon":ge="Polygon";break}for(var ve=0;ve<_.coordinates.length;ve++){var Ve=_.coordinates[ve],je={type:ge,coordinates:Ve};if(p(Xr(je,P),S,ve)===!1)return!1}})}function da(u){if(!u)throw new Error("geojson is required");var p=[];return ia(u,function(_){Ma(_,p)}),Er(p)}function Ma(u,p){var _=[],S=u.geometry;if(S!==null){switch(S.type){case"Polygon":_=Ui(S);break;case"LineString":_=[Ui(S)]}_.forEach(function(P){var j=ss(P,u.properties);j.forEach(function(X){X.id=p.length,p.push(X)})})}}function ss(u,p){var _=[];return u.reduce(function(S,P){var j=Di([S,P],p);return j.bbox=xo(S,P),_.push(j),P}),_}function xo(u,p){var _=u[0],S=u[1],P=p[0],j=p[1],X=_<P?_:P,Z=S<j?S:j,ge=_>P?_:P,ve=S>j?S:j;return[X,Z,ge,ve]}var Ha=da,so=g(la(),1);function fa(u,p){var _={},S=[];if(u.type==="LineString"&&(u=Xr(u)),p.type==="LineString"&&(p=Xr(p)),u.type==="Feature"&&p.type==="Feature"&&u.geometry!==null&&p.geometry!==null&&u.geometry.type==="LineString"&&p.geometry.type==="LineString"&&u.geometry.coordinates.length===2&&p.geometry.coordinates.length===2){var P=gi(u,p);return P&&S.push(P),Er(S)}var j=(0,so.default)();return j.load(Ha(p)),jr(Ha(u),function(X){jr(j.search(X),function(Z){var ge=gi(X,Z);if(ge){var ve=Ui(ge).join(",");_[ve]||(_[ve]=!0,S.push(ge))}})}),Er(S)}function gi(u,p){var _=Ui(u),S=Ui(p);if(_.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(S.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var P=_[0][0],j=_[0][1],X=_[1][0],Z=_[1][1],ge=S[0][0],ve=S[0][1],Ve=S[1][0],je=S[1][1],vt=(je-ve)*(X-P)-(Ve-ge)*(Z-j),St=(Ve-ge)*(j-ve)-(je-ve)*(P-ge),qt=(X-P)*(j-ve)-(Z-j)*(P-ge);if(vt===0)return null;var un=St/vt,vn=qt/vt;if(un>=0&&un<=1&&vn>=0&&vn<=1){var Xn=P+un*(X-P),He=j+un*(Z-j);return Ir([Xn,He])}return null}var Oi=fa,qa=g(la(),1);function Ua(u,p,_){_===void 0&&(_={});var S=qr(u),P=qr(p),j=xi(P[1]-S[1]),X=xi(P[0]-S[0]),Z=xi(S[1]),ge=xi(P[1]),ve=Math.pow(Math.sin(j/2),2)+Math.pow(Math.sin(X/2),2)*Math.cos(Z)*Math.cos(ge);return ha(2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve)),_.units)}var Ga=Ua;function Yi(u){var p=u[0],_=u[1],S=u[2],P=u[3],j=Ga(u.slice(0,2),[S,_]),X=Ga(u.slice(0,2),[p,P]);if(j>=X){var Z=(_+P)/2;return[p,Z-(S-p)/2,S,Z+(S-p)/2]}else{var ge=(p+S)/2;return[ge-(P-_)/2,_,ge+(P-_)/2,P]}}var ui=Yi;function Va(u){var p=[1/0,1/0,-1/0,-1/0];return zo(u,function(_){p[0]>_[0]&&(p[0]=_[0]),p[1]>_[1]&&(p[1]=_[1]),p[2]<_[0]&&(p[2]=_[0]),p[3]<_[1]&&(p[3]=_[1])}),p}Va.default=Va;var Ji=Va;function Ei(u,p){p===void 0&&(p={});var _=p.precision,S=p.coordinates,P=p.mutate;if(_=_==null||isNaN(_)?6:_,S=S==null||isNaN(S)?3:S,!u)throw new Error("<geojson> is required");if(typeof _!="number")throw new Error("<precision> must be a number");if(typeof S!="number")throw new Error("<coordinates> must be a number");(P===!1||P===void 0)&&(u=JSON.parse(JSON.stringify(u)));var j=Math.pow(10,_);return zo(u,function(X){So(X,j,S)}),u}function So(u,p,_){u.length>_&&u.splice(_,u.length);for(var S=0;S<u.length;S++)u[S]=Math.round(u[S]*p)/p;return u}var Yo=Ei;function pa(u,p,_){if(_===void 0&&(_={}),_.final===!0)return Eo(u,p);var S=qr(u),P=qr(p),j=xi(S[0]),X=xi(P[0]),Z=xi(S[1]),ge=xi(P[1]),ve=Math.sin(X-j)*Math.cos(ge),Ve=Math.cos(Z)*Math.sin(ge)-Math.sin(Z)*Math.cos(ge)*Math.cos(X-j);return bi(Math.atan2(ve,Ve))}function Eo(u,p){var _=pa(p,u);return _=(_+180)%360,_}function Pa(u,p,_,S){S===void 0&&(S={});var P=qr(u),j=xi(P[0]),X=xi(P[1]),Z=xi(_),ge=bo(p,S.units),ve=Math.asin(Math.sin(X)*Math.cos(ge)+Math.cos(X)*Math.sin(ge)*Math.cos(Z)),Ve=j+Math.atan2(Math.sin(Z)*Math.sin(ge)*Math.cos(X),Math.cos(ge)-Math.sin(X)*Math.sin(ve)),je=bi(Ve),vt=bi(ve);return Ir([je,vt],S.properties)}function fi(u,p,_){_===void 0&&(_={});var S=Ir([1/0,1/0],{dist:1/0}),P=0;return ia(u,function(j){for(var X=Ui(j),Z=0;Z<X.length-1;Z++){var ge=Ir(X[Z]);ge.properties.dist=Ga(p,ge,_);var ve=Ir(X[Z+1]);ve.properties.dist=Ga(p,ve,_);var Ve=Ga(ge,ve,_),je=Math.max(ge.properties.dist,ve.properties.dist),vt=pa(ge,ve),St=Pa(p,je,vt+90,_),qt=Pa(p,je,vt-90,_),un=Oi(Di([St.geometry.coordinates,qt.geometry.coordinates]),Di([ge.geometry.coordinates,ve.geometry.coordinates])),vn=null;un.features.length>0&&(vn=un.features[0],vn.properties.dist=Ga(p,vn,_),vn.properties.location=P+Ga(ge,vn,_)),ge.properties.dist<S.properties.dist&&(S=ge,S.properties.index=Z,S.properties.location=P),ve.properties.dist<S.properties.dist&&(S=ve,S.properties.index=Z+1,S.properties.location=P+Ve),vn&&vn.properties.dist<S.properties.dist&&(S=vn,S.properties.index=Z),P+=Ve}}),S}var pi=fi;function f(u,p){if(!u)throw new Error("line is required");if(!p)throw new Error("splitter is required");var _=jo(u),S=jo(p);if(_!=="LineString")throw new Error("line must be LineString");if(S==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(S==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var P=Yo(p,{precision:7});switch(S){case"Point":return o(u,P);case"MultiPoint":return a(u,P);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return a(u,Oi(u,P))}}function a(u,p){var _=[],S=(0,qa.default)();return ia(p,function(P){if(_.forEach(function(Z,ge){Z.id=ge}),!_.length)_=o(u,P).features,_.forEach(function(Z){Z.bbox||(Z.bbox=ui(Ji(Z)))}),S.load(Er(_));else{var j=S.search(P);if(j.features.length){var X=d(P,j);_=_.filter(function(Z){return Z.id!==X.id}),S.remove(X),jr(o(X,P),function(Z){_.push(Z),S.insert(Z)})}}}),Er(_)}function o(u,p){var _=[],S=Ui(u)[0],P=Ui(u)[u.geometry.coordinates.length-1];if(C(S,qr(p))||C(P,qr(p)))return Er([u]);var j=(0,qa.default)(),X=Ha(u);j.load(X);var Z=j.search(p);if(!Z.features.length)return Er([u]);var ge=d(p,Z),ve=[S],Ve=ra(X,function(je,vt,St){var qt=Ui(vt)[1],un=qr(p);return St===ge.id?(je.push(un),_.push(Di(je)),C(un,qt)?[un]:[un,qt]):(je.push(qt),je)},ve);return Ve.length>1&&_.push(Di(Ve)),Er(_)}function d(u,p){if(!p.features.length)throw new Error("lines must contain features");if(p.features.length===1)return p.features[0];var _,S=1/0;return jr(p,function(P){var j=pi(P,u),X=j.properties.dist;X<S&&(_=P,S=X)}),_}function C(u,p){return u[0]===p[0]&&u[1]===p[1]}var B=f;function K(u,p,_){if(_===void 0&&(_={}),!u)throw new Error("point is required");if(!p)throw new Error("polygon is required");var S=qr(u),P=oo(p),j=P.type,X=p.bbox,Z=P.coordinates;if(X&&xe(S,X)===!1)return!1;j==="Polygon"&&(Z=[Z]);for(var ge=!1,ve=0;ve<Z.length&&!ge;ve++)if(se(S,Z[ve][0],_.ignoreBoundary)){for(var Ve=!1,je=1;je<Z[ve].length&&!Ve;)se(S,Z[ve][je],!_.ignoreBoundary)&&(Ve=!0),je++;Ve||(ge=!0)}return ge}function se(u,p,_){var S=!1;p[0][0]===p[p.length-1][0]&&p[0][1]===p[p.length-1][1]&&(p=p.slice(0,p.length-1));for(var P=0,j=p.length-1;P<p.length;j=P++){var X=p[P][0],Z=p[P][1],ge=p[j][0],ve=p[j][1],Ve=u[1]*(X-ge)+Z*(ge-u[0])+ve*(u[0]-X)===0&&(X-u[0])*(ge-u[0])<=0&&(Z-u[1])*(ve-u[1])<=0;if(Ve)return!_;var je=Z>u[1]!=ve>u[1]&&u[0]<(ge-X)*(u[1]-Z)/(ve-Z)+X;je&&(S=!S)}return S}function xe(u,p){return p[0]<=u[0]&&p[1]<=u[1]&&p[2]>=u[0]&&p[3]>=u[1]}function $e(u,p,_){_===void 0&&(_={});for(var S=qr(u),P=Ui(p),j=0;j<P.length-1;j++){var X=!1;if(_.ignoreEndVertices&&(j===0&&(X="start"),j===P.length-2&&(X="end"),j===0&&j+1===P.length-1&&(X="both")),st(P[j],P[j+1],S,X,typeof _.epsilon>"u"?null:_.epsilon))return!0}return!1}function st(u,p,_,S,P){var j=_[0],X=_[1],Z=u[0],ge=u[1],ve=p[0],Ve=p[1],je=_[0]-Z,vt=_[1]-ge,St=ve-Z,qt=Ve-ge,un=je*qt-vt*St;if(P!==null){if(Math.abs(un)>P)return!1}else if(un!==0)return!1;if(S){if(S==="start")return Math.abs(St)>=Math.abs(qt)?St>0?Z<j&&j<=ve:ve<=j&&j<Z:qt>0?ge<X&&X<=Ve:Ve<=X&&X<ge;if(S==="end")return Math.abs(St)>=Math.abs(qt)?St>0?Z<=j&&j<ve:ve<j&&j<=Z:qt>0?ge<=X&&X<Ve:Ve<X&&X<=ge;if(S==="both")return Math.abs(St)>=Math.abs(qt)?St>0?Z<j&&j<ve:ve<j&&j<Z:qt>0?ge<X&&X<Ve:Ve<X&&X<ge}else return Math.abs(St)>=Math.abs(qt)?St>0?Z<=j&&j<=ve:ve<=j&&j<=Z:qt>0?ge<=X&&X<=Ve:Ve<=X&&X<=ge;return!1}var _t=$e;function Yt(u,p){var _=oo(u),S=oo(p),P=_.type,j=S.type,X=_.coordinates,Z=S.coordinates;switch(P){case"Point":switch(j){case"Point":return Wa(X,Z);default:throw new Error("feature2 "+j+" geometry not supported")}case"MultiPoint":switch(j){case"Point":return pn(_,S);case"MultiPoint":return Pn(_,S);default:throw new Error("feature2 "+j+" geometry not supported")}case"LineString":switch(j){case"Point":return _t(S,_,{ignoreEndVertices:!0});case"LineString":return hr(_,S);case"MultiPoint":return $n(_,S);default:throw new Error("feature2 "+j+" geometry not supported")}case"Polygon":switch(j){case"Point":return K(S,_,{ignoreBoundary:!0});case"LineString":return Ur(_,S);case"Polygon":return ti(_,S);case"MultiPoint":return Mr(_,S);default:throw new Error("feature2 "+j+" geometry not supported")}default:throw new Error("feature1 "+P+" geometry not supported")}}function pn(u,p){var _,S=!1;for(_=0;_<u.coordinates.length;_++)if(Wa(u.coordinates[_],p.coordinates)){S=!0;break}return S}function Pn(u,p){for(var _=0,S=p.coordinates;_<S.length;_++){for(var P=S[_],j=!1,X=0,Z=u.coordinates;X<Z.length;X++){var ge=Z[X];if(Wa(P,ge)){j=!0;break}}if(!j)return!1}return!0}function $n(u,p){for(var _=!1,S=0,P=p.coordinates;S<P.length;S++){var j=P[S];if(_t(j,u,{ignoreEndVertices:!0})&&(_=!0),!_t(j,u))return!1}return!!_}function Mr(u,p){for(var _=0,S=p.coordinates;_<S.length;_++){var P=S[_];if(!K(P,u,{ignoreBoundary:!0}))return!1}return!0}function hr(u,p){for(var _=!1,S=0,P=p.coordinates;S<P.length;S++){var j=P[S];if(_t({type:"Point",coordinates:j},u,{ignoreEndVertices:!0})&&(_=!0),!_t({type:"Point",coordinates:j},u,{ignoreEndVertices:!1}))return!1}return _}function Ur(u,p){var _=!1,S=0,P=Ji(u),j=Ji(p);if(!ki(P,j))return!1;for(S;S<p.coordinates.length-1;S++){var X=Jo(p.coordinates[S],p.coordinates[S+1]);if(K({type:"Point",coordinates:X},u,{ignoreBoundary:!0})){_=!0;break}}return _}function ti(u,p){if(u.type==="Feature"&&u.geometry===null||p.type==="Feature"&&p.geometry===null)return!1;var _=Ji(u),S=Ji(p);if(!ki(_,S))return!1;for(var P=oo(p).coordinates,j=0,X=P;j<X.length;j++)for(var Z=X[j],ge=0,ve=Z;ge<ve.length;ge++){var Ve=ve[ge];if(!K(Ve,u))return!1}return!0}function ki(u,p){return!(u[0]>p[0]||u[2]<p[2]||u[1]>p[1]||u[3]<p[3])}function Wa(u,p){return u[0]===p[0]&&u[1]===p[1]}function Jo(u,p){return[(u[0]+p[0])/2,(u[1]+p[1])/2]}var Ka=g(Dr()),ls=u=>()=>u,Qo=u=>{let p=u?(_,S)=>S.minus(_).abs().isLessThanOrEqualTo(u):ls(!1);return(_,S)=>p(_,S)?0:_.comparedTo(S)};function qo(u){let p=u?(_,S,P,j,X)=>_.exponentiatedBy(2).isLessThanOrEqualTo(j.minus(S).exponentiatedBy(2).plus(X.minus(P).exponentiatedBy(2)).times(u)):ls(!1);return(_,S,P)=>{let j=_.x,X=_.y,Z=P.x,ge=P.y,ve=X.minus(ge).times(S.x.minus(Z)).minus(j.minus(Z).times(S.y.minus(ge)));return p(ve,j,X,Z,ge)?0:ve.comparedTo(0)}}var Os=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,wo=Math.ceil,mi=Math.floor,zr="[BigNumber Error] ",Ia=zr+"Number primitive has more than 15 significant digits: ",Oa=1e14,tr=14,As=9007199254740991,us=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],lo=1e7,Li=1e9;function hl(u){var p,_,S,P=He.prototype={constructor:He,toString:null,valueOf:null},j=new He(1),X=20,Z=4,ge=-7,ve=21,Ve=-1e7,je=1e7,vt=!1,St=1,qt=0,un={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},vn="0123456789abcdefghijklmnopqrstuvwxyz",Xn=!0;function He(pe,Se){var Me,Pe,Ae,Te,Je,Ze,at,gt,ut=this;if(!(ut instanceof He))return new He(pe,Se);if(Se==null){if(pe&&pe._isBigNumber===!0){ut.s=pe.s,!pe.c||pe.e>je?ut.c=ut.e=null:pe.e<Ve?ut.c=[ut.e=0]:(ut.e=pe.e,ut.c=pe.c.slice());return}if((Ze=typeof pe=="number")&&pe*0==0){if(ut.s=1/pe<0?(pe=-pe,-1):1,pe===~~pe){for(Te=0,Je=pe;Je>=10;Je/=10,Te++);Te>je?ut.c=ut.e=null:(ut.e=Te,ut.c=[pe]);return}gt=String(pe)}else{if(!Os.test(gt=String(pe)))return S(ut,gt,Ze);ut.s=gt.charCodeAt(0)==45?(gt=gt.slice(1),-1):1}(Te=gt.indexOf("."))>-1&&(gt=gt.replace(".","")),(Je=gt.search(/e/i))>0?(Te<0&&(Te=Je),Te+=+gt.slice(Je+1),gt=gt.substring(0,Je)):Te<0&&(Te=gt.length)}else{if(s(Se,2,vn.length,"Base"),Se==10&&Xn)return ut=new He(pe),lt(ut,X+ut.e+1,Z);if(gt=String(pe),Ze=typeof pe=="number"){if(pe*0!=0)return S(ut,gt,Ze,Se);if(ut.s=1/pe<0?(gt=gt.slice(1),-1):1,He.DEBUG&&gt.replace(/^0\.0*|\./,"").length>15)throw Error(Ia+pe)}else ut.s=gt.charCodeAt(0)===45?(gt=gt.slice(1),-1):1;for(Me=vn.slice(0,Se),Te=Je=0,at=gt.length;Je<at;Je++)if(Me.indexOf(Pe=gt.charAt(Je))<0){if(Pe=="."){if(Je>Te){Te=at;continue}}else if(!Ae&&(gt==gt.toUpperCase()&&(gt=gt.toLowerCase())||gt==gt.toLowerCase()&&(gt=gt.toUpperCase()))){Ae=!0,Je=-1,Te=0;continue}return S(ut,String(pe),Ze,Se)}Ze=!1,gt=_(gt,Se,10,ut.s),(Te=gt.indexOf("."))>-1?gt=gt.replace(".",""):Te=gt.length}for(Je=0;gt.charCodeAt(Je)===48;Je++);for(at=gt.length;gt.charCodeAt(--at)===48;);if(gt=gt.slice(Je,++at)){if(at-=Je,Ze&&He.DEBUG&&at>15&&(pe>As||pe!==mi(pe)))throw Error(Ia+ut.s*pe);if((Te=Te-Je-1)>je)ut.c=ut.e=null;else if(Te<Ve)ut.c=[ut.e=0];else{if(ut.e=Te,ut.c=[],Je=(Te+1)%tr,Te<0&&(Je+=tr),Je<at){for(Je&&ut.c.push(+gt.slice(0,Je)),at-=tr;Je<at;)ut.c.push(+gt.slice(Je,Je+=tr));Je=tr-(gt=gt.slice(Je)).length}else Je-=at;for(;Je--;gt+="0");ut.c.push(+gt)}}else ut.c=[ut.e=0]}He.clone=hl,He.ROUND_UP=0,He.ROUND_DOWN=1,He.ROUND_CEIL=2,He.ROUND_FLOOR=3,He.ROUND_HALF_UP=4,He.ROUND_HALF_DOWN=5,He.ROUND_HALF_EVEN=6,He.ROUND_HALF_CEIL=7,He.ROUND_HALF_FLOOR=8,He.EUCLID=9,He.config=He.set=function(pe){var Se,Me;if(pe!=null)if(typeof pe=="object"){if(pe.hasOwnProperty(Se="DECIMAL_PLACES")&&(Me=pe[Se],s(Me,0,Li,Se),X=Me),pe.hasOwnProperty(Se="ROUNDING_MODE")&&(Me=pe[Se],s(Me,0,8,Se),Z=Me),pe.hasOwnProperty(Se="EXPONENTIAL_AT")&&(Me=pe[Se],Me&&Me.pop?(s(Me[0],-Li,0,Se),s(Me[1],0,Li,Se),ge=Me[0],ve=Me[1]):(s(Me,-Li,Li,Se),ge=-(ve=Me<0?-Me:Me))),pe.hasOwnProperty(Se="RANGE"))if(Me=pe[Se],Me&&Me.pop)s(Me[0],-Li,-1,Se),s(Me[1],1,Li,Se),Ve=Me[0],je=Me[1];else if(s(Me,-Li,Li,Se),Me)Ve=-(je=Me<0?-Me:Me);else throw Error(zr+Se+" cannot be zero: "+Me);if(pe.hasOwnProperty(Se="CRYPTO"))if(Me=pe[Se],Me===!!Me)if(Me)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))vt=Me;else throw vt=!Me,Error(zr+"crypto unavailable");else vt=Me;else throw Error(zr+Se+" not true or false: "+Me);if(pe.hasOwnProperty(Se="MODULO_MODE")&&(Me=pe[Se],s(Me,0,9,Se),St=Me),pe.hasOwnProperty(Se="POW_PRECISION")&&(Me=pe[Se],s(Me,0,Li,Se),qt=Me),pe.hasOwnProperty(Se="FORMAT"))if(Me=pe[Se],typeof Me=="object")un=Me;else throw Error(zr+Se+" not an object: "+Me);if(pe.hasOwnProperty(Se="ALPHABET"))if(Me=pe[Se],typeof Me=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Me))Xn=Me.slice(0,10)=="0123456789",vn=Me;else throw Error(zr+Se+" invalid: "+Me)}else throw Error(zr+"Object expected: "+pe);return{DECIMAL_PLACES:X,ROUNDING_MODE:Z,EXPONENTIAL_AT:[ge,ve],RANGE:[Ve,je],CRYPTO:vt,MODULO_MODE:St,POW_PRECISION:qt,FORMAT:un,ALPHABET:vn}},He.isBigNumber=function(pe){if(!pe||pe._isBigNumber!==!0)return!1;if(!He.DEBUG)return!0;var Se,Me,Pe=pe.c,Ae=pe.e,Te=pe.s;e:if({}.toString.call(Pe)=="[object Array]"){if((Te===1||Te===-1)&&Ae>=-Li&&Ae<=Li&&Ae===mi(Ae)){if(Pe[0]===0){if(Ae===0&&Pe.length===1)return!0;break e}if(Se=(Ae+1)%tr,Se<1&&(Se+=tr),String(Pe[0]).length==Se){for(Se=0;Se<Pe.length;Se++)if(Me=Pe[Se],Me<0||Me>=Oa||Me!==mi(Me))break e;if(Me!==0)return!0}}}else if(Pe===null&&Ae===null&&(Te===null||Te===1||Te===-1))return!0;throw Error(zr+"Invalid BigNumber: "+pe)},He.maximum=He.max=function(){return rt(arguments,-1)},He.minimum=He.min=function(){return rt(arguments,1)},He.random=(function(){var pe=9007199254740992,Se=Math.random()*pe&2097151?function(){return mi(Math.random()*pe)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Me){var Pe,Ae,Te,Je,Ze,at=0,gt=[],ut=new He(j);if(Me==null?Me=X:s(Me,0,Li),Je=wo(Me/tr),vt)if(crypto.getRandomValues){for(Pe=crypto.getRandomValues(new Uint32Array(Je*=2));at<Je;)Ze=Pe[at]*131072+(Pe[at+1]>>>11),Ze>=9e15?(Ae=crypto.getRandomValues(new Uint32Array(2)),Pe[at]=Ae[0],Pe[at+1]=Ae[1]):(gt.push(Ze%1e14),at+=2);at=Je/2}else if(crypto.randomBytes){for(Pe=crypto.randomBytes(Je*=7);at<Je;)Ze=(Pe[at]&31)*281474976710656+Pe[at+1]*1099511627776+Pe[at+2]*4294967296+Pe[at+3]*16777216+(Pe[at+4]<<16)+(Pe[at+5]<<8)+Pe[at+6],Ze>=9e15?crypto.randomBytes(7).copy(Pe,at):(gt.push(Ze%1e14),at+=7);at=Je/7}else throw vt=!1,Error(zr+"crypto unavailable");if(!vt)for(;at<Je;)Ze=Se(),Ze<9e15&&(gt[at++]=Ze%1e14);for(Je=gt[--at],Me%=tr,Je&&Me&&(Ze=us[tr-Me],gt[at]=mi(Je/Ze)*Ze);gt[at]===0;gt.pop(),at--);if(at<0)gt=[Te=0];else{for(Te=-1;gt[0]===0;gt.splice(0,1),Te-=tr);for(at=1,Ze=gt[0];Ze>=10;Ze/=10,at++);at<tr&&(Te-=tr-at)}return ut.e=Te,ut.c=gt,ut}})(),He.sum=function(){for(var pe=1,Se=arguments,Me=new He(Se[0]);pe<Se.length;)Me=Me.plus(Se[pe++]);return Me},_=(function(){var pe="0123456789";function Se(Me,Pe,Ae,Te){for(var Je,Ze=[0],at,gt=0,ut=Me.length;gt<ut;){for(at=Ze.length;at--;Ze[at]*=Pe);for(Ze[0]+=Te.indexOf(Me.charAt(gt++)),Je=0;Je<Ze.length;Je++)Ze[Je]>Ae-1&&(Ze[Je+1]==null&&(Ze[Je+1]=0),Ze[Je+1]+=Ze[Je]/Ae|0,Ze[Je]%=Ae)}return Ze.reverse()}return function(Me,Pe,Ae,Te,Je){var Ze,at,gt,ut,Ut,yn,Ln,In,or=Me.indexOf("."),Zr=X,Br=Z;for(or>=0&&(ut=qt,qt=0,Me=Me.replace(".",""),In=new He(Pe),yn=In.pow(Me.length-or),qt=ut,In.c=Se(H(ma(yn.c),yn.e,"0"),10,Ae,pe),In.e=In.c.length),Ln=Se(Me,Pe,Ae,Je?(Ze=vn,pe):(Ze=pe,vn)),gt=ut=Ln.length;Ln[--ut]==0;Ln.pop());if(!Ln[0])return Ze.charAt(0);if(or<0?--gt:(yn.c=Ln,yn.e=gt,yn.s=Te,yn=p(yn,In,Zr,Br,Ae),Ln=yn.c,Ut=yn.r,gt=yn.e),at=gt+Zr+1,or=Ln[at],ut=Ae/2,Ut=Ut||at<0||Ln[at+1]!=null,Ut=Br<4?(or!=null||Ut)&&(Br==0||Br==(yn.s<0?3:2)):or>ut||or==ut&&(Br==4||Ut||Br==6&&Ln[at-1]&1||Br==(yn.s<0?8:7)),at<1||!Ln[0])Me=Ut?H(Ze.charAt(1),-Zr,Ze.charAt(0)):Ze.charAt(0);else{if(Ln.length=at,Ut)for(--Ae;++Ln[--at]>Ae;)Ln[at]=0,at||(++gt,Ln=[1].concat(Ln));for(ut=Ln.length;!Ln[--ut];);for(or=0,Me="";or<=ut;Me+=Ze.charAt(Ln[or++]));Me=H(Me,gt,Ze.charAt(0))}return Me}})(),p=(function(){function pe(Pe,Ae,Te){var Je,Ze,at,gt,ut=0,Ut=Pe.length,yn=Ae%lo,Ln=Ae/lo|0;for(Pe=Pe.slice();Ut--;)at=Pe[Ut]%lo,gt=Pe[Ut]/lo|0,Je=Ln*at+gt*yn,Ze=yn*at+Je%lo*lo+ut,ut=(Ze/Te|0)+(Je/lo|0)+Ln*gt,Pe[Ut]=Ze%Te;return ut&&(Pe=[ut].concat(Pe)),Pe}function Se(Pe,Ae,Te,Je){var Ze,at;if(Te!=Je)at=Te>Je?1:-1;else for(Ze=at=0;Ze<Te;Ze++)if(Pe[Ze]!=Ae[Ze]){at=Pe[Ze]>Ae[Ze]?1:-1;break}return at}function Me(Pe,Ae,Te,Je){for(var Ze=0;Te--;)Pe[Te]-=Ze,Ze=Pe[Te]<Ae[Te]?1:0,Pe[Te]=Ze*Je+Pe[Te]-Ae[Te];for(;!Pe[0]&&Pe.length>1;Pe.splice(0,1));}return function(Pe,Ae,Te,Je,Ze){var at,gt,ut,Ut,yn,Ln,In,or,Zr,Br,Yr,Gi,Zl,Bu,ml,ya,vl,Mo=Pe.s==Ae.s?1:-1,Za=Pe.c,Ni=Ae.c;if(!Za||!Za[0]||!Ni||!Ni[0])return new He(!Pe.s||!Ae.s||(Za?Ni&&Za[0]==Ni[0]:!Ni)?NaN:Za&&Za[0]==0||!Ni?Mo*0:Mo/0);for(or=new He(Mo),Zr=or.c=[],gt=Pe.e-Ae.e,Mo=Te+gt+1,Ze||(Ze=Oa,gt=ga(Pe.e/tr)-ga(Ae.e/tr),Mo=Mo/tr|0),ut=0;Ni[ut]==(Za[ut]||0);ut++);if(Ni[ut]>(Za[ut]||0)&&gt--,Mo<0)Zr.push(1),Ut=!0;else{for(Bu=Za.length,ya=Ni.length,ut=0,Mo+=2,yn=mi(Ze/(Ni[0]+1)),yn>1&&(Ni=pe(Ni,yn,Ze),Za=pe(Za,yn,Ze),ya=Ni.length,Bu=Za.length),Zl=ya,Br=Za.slice(0,ya),Yr=Br.length;Yr<ya;Br[Yr++]=0);vl=Ni.slice(),vl=[0].concat(vl),ml=Ni[0],Ni[1]>=Ze/2&&ml++;do{if(yn=0,at=Se(Ni,Br,ya,Yr),at<0){if(Gi=Br[0],ya!=Yr&&(Gi=Gi*Ze+(Br[1]||0)),yn=mi(Gi/ml),yn>1)for(yn>=Ze&&(yn=Ze-1),Ln=pe(Ni,yn,Ze),In=Ln.length,Yr=Br.length;Se(Ln,Br,In,Yr)==1;)yn--,Me(Ln,ya<In?vl:Ni,In,Ze),In=Ln.length,at=1;else yn==0&&(at=yn=1),Ln=Ni.slice(),In=Ln.length;if(In<Yr&&(Ln=[0].concat(Ln)),Me(Br,Ln,Yr,Ze),Yr=Br.length,at==-1)for(;Se(Ni,Br,ya,Yr)<1;)yn++,Me(Br,ya<Yr?vl:Ni,Yr,Ze),Yr=Br.length}else at===0&&(yn++,Br=[0]);Zr[ut++]=yn,Br[0]?Br[Yr++]=Za[Zl]||0:(Br=[Za[Zl]],Yr=1)}while((Zl++<Bu||Br[0]!=null)&&Mo--);Ut=Br[0]!=null,Zr[0]||Zr.splice(0,1)}if(Ze==Oa){for(ut=1,Mo=Zr[0];Mo>=10;Mo/=10,ut++);lt(or,Te+(or.e=ut+gt*tr-1)+1,Je,Ut)}else or.e=gt,or.r=+Ut;return or}})();function Ke(pe,Se,Me,Pe){var Ae,Te,Je,Ze,at;if(Me==null?Me=Z:s(Me,0,8),!pe.c)return pe.toString();if(Ae=pe.c[0],Je=pe.e,Se==null)at=ma(pe.c),at=Pe==1||Pe==2&&(Je<=ge||Je>=ve)?M(at,Je):H(at,Je,"0");else if(pe=lt(new He(pe),Se,Me),Te=pe.e,at=ma(pe.c),Ze=at.length,Pe==1||Pe==2&&(Se<=Te||Te<=ge)){for(;Ze<Se;at+="0",Ze++);at=M(at,Te)}else if(Se-=Je,at=H(at,Te,"0"),Te+1>Ze){if(--Se>0)for(at+=".";Se--;at+="0");}else if(Se+=Te-Ze,Se>0)for(Te+1==Ze&&(at+=".");Se--;at+="0");return pe.s<0&&Ae?"-"+at:at}function rt(pe,Se){for(var Me,Pe,Ae=1,Te=new He(pe[0]);Ae<pe.length;Ae++)Pe=new He(pe[Ae]),(!Pe.s||(Me=ko(Te,Pe))===Se||Me===0&&Te.s===Se)&&(Te=Pe);return Te}function yt(pe,Se,Me){for(var Pe=1,Ae=Se.length;!Se[--Ae];Se.pop());for(Ae=Se[0];Ae>=10;Ae/=10,Pe++);return(Me=Pe+Me*tr-1)>je?pe.c=pe.e=null:Me<Ve?pe.c=[pe.e=0]:(pe.e=Me,pe.c=Se),pe}S=(function(){var pe=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Se=/^([^.]+)\.$/,Me=/^\.([^.]+)$/,Pe=/^-?(Infinity|NaN)$/,Ae=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Te,Je,Ze,at){var gt,ut=Ze?Je:Je.replace(Ae,"");if(Pe.test(ut))Te.s=isNaN(ut)?null:ut<0?-1:1;else{if(!Ze&&(ut=ut.replace(pe,function(Ut,yn,Ln){return gt=(Ln=Ln.toLowerCase())=="x"?16:Ln=="b"?2:8,!at||at==gt?yn:Ut}),at&&(gt=at,ut=ut.replace(Se,"$1").replace(Me,"0.$1")),Je!=ut))return new He(ut,gt);if(He.DEBUG)throw Error(zr+"Not a"+(at?" base "+at:"")+" number: "+Je);Te.s=null}Te.c=Te.e=null}})();function lt(pe,Se,Me,Pe){var Ae,Te,Je,Ze,at,gt,ut,Ut=pe.c,yn=us;if(Ut){e:{for(Ae=1,Ze=Ut[0];Ze>=10;Ze/=10,Ae++);if(Te=Se-Ae,Te<0)Te+=tr,Je=Se,at=Ut[gt=0],ut=mi(at/yn[Ae-Je-1]%10);else if(gt=wo((Te+1)/tr),gt>=Ut.length)if(Pe){for(;Ut.length<=gt;Ut.push(0));at=ut=0,Ae=1,Te%=tr,Je=Te-tr+1}else break e;else{for(at=Ze=Ut[gt],Ae=1;Ze>=10;Ze/=10,Ae++);Te%=tr,Je=Te-tr+Ae,ut=Je<0?0:mi(at/yn[Ae-Je-1]%10)}if(Pe=Pe||Se<0||Ut[gt+1]!=null||(Je<0?at:at%yn[Ae-Je-1]),Pe=Me<4?(ut||Pe)&&(Me==0||Me==(pe.s<0?3:2)):ut>5||ut==5&&(Me==4||Pe||Me==6&&(Te>0?Je>0?at/yn[Ae-Je]:0:Ut[gt-1])%10&1||Me==(pe.s<0?8:7)),Se<1||!Ut[0])return Ut.length=0,Pe?(Se-=pe.e+1,Ut[0]=yn[(tr-Se%tr)%tr],pe.e=-Se||0):Ut[0]=pe.e=0,pe;if(Te==0?(Ut.length=gt,Ze=1,gt--):(Ut.length=gt+1,Ze=yn[tr-Te],Ut[gt]=Je>0?mi(at/yn[Ae-Je]%yn[Je])*Ze:0),Pe)for(;;)if(gt==0){for(Te=1,Je=Ut[0];Je>=10;Je/=10,Te++);for(Je=Ut[0]+=Ze,Ze=1;Je>=10;Je/=10,Ze++);Te!=Ze&&(pe.e++,Ut[0]==Oa&&(Ut[0]=1));break}else{if(Ut[gt]+=Ze,Ut[gt]!=Oa)break;Ut[gt--]=0,Ze=1}for(Te=Ut.length;Ut[--Te]===0;Ut.pop());}pe.e>je?pe.c=pe.e=null:pe.e<Ve&&(pe.c=[pe.e=0])}return pe}function Ct(pe){var Se,Me=pe.e;return Me===null?pe.toString():(Se=ma(pe.c),Se=Me<=ge||Me>=ve?M(Se,Me):H(Se,Me,"0"),pe.s<0?"-"+Se:Se)}return P.absoluteValue=P.abs=function(){var pe=new He(this);return pe.s<0&&(pe.s=1),pe},P.comparedTo=function(pe,Se){return ko(this,new He(pe,Se))},P.decimalPlaces=P.dp=function(pe,Se){var Me,Pe,Ae,Te=this;if(pe!=null)return s(pe,0,Li),Se==null?Se=Z:s(Se,0,8),lt(new He(Te),pe+Te.e+1,Se);if(!(Me=Te.c))return null;if(Pe=((Ae=Me.length-1)-ga(this.e/tr))*tr,Ae=Me[Ae])for(;Ae%10==0;Ae/=10,Pe--);return Pe<0&&(Pe=0),Pe},P.dividedBy=P.div=function(pe,Se){return p(this,new He(pe,Se),X,Z)},P.dividedToIntegerBy=P.idiv=function(pe,Se){return p(this,new He(pe,Se),0,1)},P.exponentiatedBy=P.pow=function(pe,Se){var Me,Pe,Ae,Te,Je,Ze,at,gt,ut,Ut=this;if(pe=new He(pe),pe.c&&!pe.isInteger())throw Error(zr+"Exponent not an integer: "+Ct(pe));if(Se!=null&&(Se=new He(Se)),Ze=pe.e>14,!Ut.c||!Ut.c[0]||Ut.c[0]==1&&!Ut.e&&Ut.c.length==1||!pe.c||!pe.c[0])return ut=new He(Math.pow(+Ct(Ut),Ze?pe.s*(2-m(pe)):+Ct(pe))),Se?ut.mod(Se):ut;if(at=pe.s<0,Se){if(Se.c?!Se.c[0]:!Se.s)return new He(NaN);Pe=!at&&Ut.isInteger()&&Se.isInteger(),Pe&&(Ut=Ut.mod(Se))}else{if(pe.e>9&&(Ut.e>0||Ut.e<-1||(Ut.e==0?Ut.c[0]>1||Ze&&Ut.c[1]>=24e7:Ut.c[0]<8e13||Ze&&Ut.c[0]<=9999975e7)))return Te=Ut.s<0&&m(pe)?-0:0,Ut.e>-1&&(Te=1/Te),new He(at?1/Te:Te);qt&&(Te=wo(qt/tr+2))}for(Ze?(Me=new He(.5),at&&(pe.s=1),gt=m(pe)):(Ae=Math.abs(+Ct(pe)),gt=Ae%2),ut=new He(j);;){if(gt){if(ut=ut.times(Ut),!ut.c)break;Te?ut.c.length>Te&&(ut.c.length=Te):Pe&&(ut=ut.mod(Se))}if(Ae){if(Ae=mi(Ae/2),Ae===0)break;gt=Ae%2}else if(pe=pe.times(Me),lt(pe,pe.e+1,1),pe.e>14)gt=m(pe);else{if(Ae=+Ct(pe),Ae===0)break;gt=Ae%2}Ut=Ut.times(Ut),Te?Ut.c&&Ut.c.length>Te&&(Ut.c.length=Te):Pe&&(Ut=Ut.mod(Se))}return Pe?ut:(at&&(ut=j.div(ut)),Se?ut.mod(Se):Te?lt(ut,qt,Z,Je):ut)},P.integerValue=function(pe){var Se=new He(this);return pe==null?pe=Z:s(pe,0,8),lt(Se,Se.e+1,pe)},P.isEqualTo=P.eq=function(pe,Se){return ko(this,new He(pe,Se))===0},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(pe,Se){return ko(this,new He(pe,Se))>0},P.isGreaterThanOrEqualTo=P.gte=function(pe,Se){return(Se=ko(this,new He(pe,Se)))===1||Se===0},P.isInteger=function(){return!!this.c&&ga(this.e/tr)>this.c.length-2},P.isLessThan=P.lt=function(pe,Se){return ko(this,new He(pe,Se))<0},P.isLessThanOrEqualTo=P.lte=function(pe,Se){return(Se=ko(this,new He(pe,Se)))===-1||Se===0},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&this.c[0]==0},P.minus=function(pe,Se){var Me,Pe,Ae,Te,Je=this,Ze=Je.s;if(pe=new He(pe,Se),Se=pe.s,!Ze||!Se)return new He(NaN);if(Ze!=Se)return pe.s=-Se,Je.plus(pe);var at=Je.e/tr,gt=pe.e/tr,ut=Je.c,Ut=pe.c;if(!at||!gt){if(!ut||!Ut)return ut?(pe.s=-Se,pe):new He(Ut?Je:NaN);if(!ut[0]||!Ut[0])return Ut[0]?(pe.s=-Se,pe):new He(ut[0]?Je:Z==3?-0:0)}if(at=ga(at),gt=ga(gt),ut=ut.slice(),Ze=at-gt){for((Te=Ze<0)?(Ze=-Ze,Ae=ut):(gt=at,Ae=Ut),Ae.reverse(),Se=Ze;Se--;Ae.push(0));Ae.reverse()}else for(Pe=(Te=(Ze=ut.length)<(Se=Ut.length))?Ze:Se,Ze=Se=0;Se<Pe;Se++)if(ut[Se]!=Ut[Se]){Te=ut[Se]<Ut[Se];break}if(Te&&(Ae=ut,ut=Ut,Ut=Ae,pe.s=-pe.s),Se=(Pe=Ut.length)-(Me=ut.length),Se>0)for(;Se--;ut[Me++]=0);for(Se=Oa-1;Pe>Ze;){if(ut[--Pe]<Ut[Pe]){for(Me=Pe;Me&&!ut[--Me];ut[Me]=Se);--ut[Me],ut[Pe]+=Oa}ut[Pe]-=Ut[Pe]}for(;ut[0]==0;ut.splice(0,1),--gt);return ut[0]?yt(pe,ut,gt):(pe.s=Z==3?-1:1,pe.c=[pe.e=0],pe)},P.modulo=P.mod=function(pe,Se){var Me,Pe,Ae=this;return pe=new He(pe,Se),!Ae.c||!pe.s||pe.c&&!pe.c[0]?new He(NaN):!pe.c||Ae.c&&!Ae.c[0]?new He(Ae):(St==9?(Pe=pe.s,pe.s=1,Me=p(Ae,pe,0,3),pe.s=Pe,Me.s*=Pe):Me=p(Ae,pe,0,St),pe=Ae.minus(Me.times(pe)),!pe.c[0]&&St==1&&(pe.s=Ae.s),pe)},P.multipliedBy=P.times=function(pe,Se){var Me,Pe,Ae,Te,Je,Ze,at,gt,ut,Ut,yn,Ln,In,or,Zr,Br=this,Yr=Br.c,Gi=(pe=new He(pe,Se)).c;if(!Yr||!Gi||!Yr[0]||!Gi[0])return!Br.s||!pe.s||Yr&&!Yr[0]&&!Gi||Gi&&!Gi[0]&&!Yr?pe.c=pe.e=pe.s=null:(pe.s*=Br.s,!Yr||!Gi?pe.c=pe.e=null:(pe.c=[0],pe.e=0)),pe;for(Pe=ga(Br.e/tr)+ga(pe.e/tr),pe.s*=Br.s,at=Yr.length,Ut=Gi.length,at<Ut&&(In=Yr,Yr=Gi,Gi=In,Ae=at,at=Ut,Ut=Ae),Ae=at+Ut,In=[];Ae--;In.push(0));for(or=Oa,Zr=lo,Ae=Ut;--Ae>=0;){for(Me=0,yn=Gi[Ae]%Zr,Ln=Gi[Ae]/Zr|0,Je=at,Te=Ae+Je;Te>Ae;)gt=Yr[--Je]%Zr,ut=Yr[Je]/Zr|0,Ze=Ln*gt+ut*yn,gt=yn*gt+Ze%Zr*Zr+In[Te]+Me,Me=(gt/or|0)+(Ze/Zr|0)+Ln*ut,In[Te--]=gt%or;In[Te]=Me}return Me?++Pe:In.splice(0,1),yt(pe,In,Pe)},P.negated=function(){var pe=new He(this);return pe.s=-pe.s||null,pe},P.plus=function(pe,Se){var Me,Pe=this,Ae=Pe.s;if(pe=new He(pe,Se),Se=pe.s,!Ae||!Se)return new He(NaN);if(Ae!=Se)return pe.s=-Se,Pe.minus(pe);var Te=Pe.e/tr,Je=pe.e/tr,Ze=Pe.c,at=pe.c;if(!Te||!Je){if(!Ze||!at)return new He(Ae/0);if(!Ze[0]||!at[0])return at[0]?pe:new He(Ze[0]?Pe:Ae*0)}if(Te=ga(Te),Je=ga(Je),Ze=Ze.slice(),Ae=Te-Je){for(Ae>0?(Je=Te,Me=at):(Ae=-Ae,Me=Ze),Me.reverse();Ae--;Me.push(0));Me.reverse()}for(Ae=Ze.length,Se=at.length,Ae-Se<0&&(Me=at,at=Ze,Ze=Me,Se=Ae),Ae=0;Se;)Ae=(Ze[--Se]=Ze[Se]+at[Se]+Ae)/Oa|0,Ze[Se]=Oa===Ze[Se]?0:Ze[Se]%Oa;return Ae&&(Ze=[Ae].concat(Ze),++Je),yt(pe,Ze,Je)},P.precision=P.sd=function(pe,Se){var Me,Pe,Ae,Te=this;if(pe!=null&&pe!==!!pe)return s(pe,1,Li),Se==null?Se=Z:s(Se,0,8),lt(new He(Te),pe,Se);if(!(Me=Te.c))return null;if(Ae=Me.length-1,Pe=Ae*tr+1,Ae=Me[Ae]){for(;Ae%10==0;Ae/=10,Pe--);for(Ae=Me[0];Ae>=10;Ae/=10,Pe++);}return pe&&Te.e+1>Pe&&(Pe=Te.e+1),Pe},P.shiftedBy=function(pe){return s(pe,-As,As),this.times("1e"+pe)},P.squareRoot=P.sqrt=function(){var pe,Se,Me,Pe,Ae,Te=this,Je=Te.c,Ze=Te.s,at=Te.e,gt=X+4,ut=new He("0.5");if(Ze!==1||!Je||!Je[0])return new He(!Ze||Ze<0&&(!Je||Je[0])?NaN:Je?Te:1/0);if(Ze=Math.sqrt(+Ct(Te)),Ze==0||Ze==1/0?(Se=ma(Je),(Se.length+at)%2==0&&(Se+="0"),Ze=Math.sqrt(+Se),at=ga((at+1)/2)-(at<0||at%2),Ze==1/0?Se="5e"+at:(Se=Ze.toExponential(),Se=Se.slice(0,Se.indexOf("e")+1)+at),Me=new He(Se)):Me=new He(Ze+""),Me.c[0]){for(at=Me.e,Ze=at+gt,Ze<3&&(Ze=0);;)if(Ae=Me,Me=ut.times(Ae.plus(p(Te,Ae,gt,1))),ma(Ae.c).slice(0,Ze)===(Se=ma(Me.c)).slice(0,Ze))if(Me.e<at&&--Ze,Se=Se.slice(Ze-3,Ze+1),Se=="9999"||!Pe&&Se=="4999"){if(!Pe&&(lt(Ae,Ae.e+X+2,0),Ae.times(Ae).eq(Te))){Me=Ae;break}gt+=4,Ze+=4,Pe=1}else{(!+Se||!+Se.slice(1)&&Se.charAt(0)=="5")&&(lt(Me,Me.e+X+2,1),pe=!Me.times(Me).eq(Te));break}}return lt(Me,Me.e+X+1,Z,pe)},P.toExponential=function(pe,Se){return pe!=null&&(s(pe,0,Li),pe++),Ke(this,pe,Se,1)},P.toFixed=function(pe,Se){return pe!=null&&(s(pe,0,Li),pe=pe+this.e+1),Ke(this,pe,Se)},P.toFormat=function(pe,Se,Me){var Pe,Ae=this;if(Me==null)pe!=null&&Se&&typeof Se=="object"?(Me=Se,Se=null):pe&&typeof pe=="object"?(Me=pe,pe=Se=null):Me=un;else if(typeof Me!="object")throw Error(zr+"Argument not an object: "+Me);if(Pe=Ae.toFixed(pe,Se),Ae.c){var Te,Je=Pe.split("."),Ze=+Me.groupSize,at=+Me.secondaryGroupSize,gt=Me.groupSeparator||"",ut=Je[0],Ut=Je[1],yn=Ae.s<0,Ln=yn?ut.slice(1):ut,In=Ln.length;if(at&&(Te=Ze,Ze=at,at=Te,In-=Te),Ze>0&&In>0){for(Te=In%Ze||Ze,ut=Ln.substr(0,Te);Te<In;Te+=Ze)ut+=gt+Ln.substr(Te,Ze);at>0&&(ut+=gt+Ln.slice(Te)),yn&&(ut="-"+ut)}Pe=Ut?ut+(Me.decimalSeparator||"")+((at=+Me.fractionGroupSize)?Ut.replace(new RegExp("\\d{"+at+"}\\B","g"),"$&"+(Me.fractionGroupSeparator||"")):Ut):ut}return(Me.prefix||"")+Pe+(Me.suffix||"")},P.toFraction=function(pe){var Se,Me,Pe,Ae,Te,Je,Ze,at,gt,ut,Ut,yn,Ln=this,In=Ln.c;if(pe!=null&&(Ze=new He(pe),!Ze.isInteger()&&(Ze.c||Ze.s!==1)||Ze.lt(j)))throw Error(zr+"Argument "+(Ze.isInteger()?"out of range: ":"not an integer: ")+Ct(Ze));if(!In)return new He(Ln);for(Se=new He(j),gt=Me=new He(j),Pe=at=new He(j),yn=ma(In),Te=Se.e=yn.length-Ln.e-1,Se.c[0]=us[(Je=Te%tr)<0?tr+Je:Je],pe=!pe||Ze.comparedTo(Se)>0?Te>0?Se:gt:Ze,Je=je,je=1/0,Ze=new He(yn),at.c[0]=0;ut=p(Ze,Se,0,1),Ae=Me.plus(ut.times(Pe)),Ae.comparedTo(pe)!=1;)Me=Pe,Pe=Ae,gt=at.plus(ut.times(Ae=gt)),at=Ae,Se=Ze.minus(ut.times(Ae=Se)),Ze=Ae;return Ae=p(pe.minus(Me),Pe,0,1),at=at.plus(Ae.times(gt)),Me=Me.plus(Ae.times(Pe)),at.s=gt.s=Ln.s,Te=Te*2,Ut=p(gt,Pe,Te,Z).minus(Ln).abs().comparedTo(p(at,Me,Te,Z).minus(Ln).abs())<1?[gt,Pe]:[at,Me],je=Je,Ut},P.toNumber=function(){return+Ct(this)},P.toPrecision=function(pe,Se){return pe!=null&&s(pe,1,Li),Ke(this,pe,Se,2)},P.toString=function(pe){var Se,Me=this,Pe=Me.s,Ae=Me.e;return Ae===null?Pe?(Se="Infinity",Pe<0&&(Se="-"+Se)):Se="NaN":(pe==null?Se=Ae<=ge||Ae>=ve?M(ma(Me.c),Ae):H(ma(Me.c),Ae,"0"):pe===10&&Xn?(Me=lt(new He(Me),X+Ae+1,Z),Se=H(ma(Me.c),Me.e,"0")):(s(pe,2,vn.length,"Base"),Se=_(H(ma(Me.c),Ae,"0"),10,pe,Pe,!0)),Pe<0&&Me.c[0]&&(Se="-"+Se)),Se},P.valueOf=P.toJSON=function(){return Ct(this)},P._isBigNumber=!0,P[Symbol.toStringTag]="BigNumber",P[Symbol.for("nodejs.util.inspect.custom")]=P.valueOf,u!=null&&He.set(u),He}function ga(u){var p=u|0;return u>0||u===p?p:p-1}function ma(u){for(var p,_,S=1,P=u.length,j=u[0]+"";S<P;){for(p=u[S++]+"",_=tr-p.length;_--;p="0"+p);j+=p}for(P=j.length;j.charCodeAt(--P)===48;);return j.slice(0,P+1||1)}function ko(u,p){var _,S,P=u.c,j=p.c,X=u.s,Z=p.s,ge=u.e,ve=p.e;if(!X||!Z)return null;if(_=P&&!P[0],S=j&&!j[0],_||S)return _?S?0:-Z:X;if(X!=Z)return X;if(_=X<0,S=ge==ve,!P||!j)return S?0:!P^_?1:-1;if(!S)return ge>ve^_?1:-1;for(Z=(ge=P.length)<(ve=j.length)?ge:ve,X=0;X<Z;X++)if(P[X]!=j[X])return P[X]>j[X]^_?1:-1;return ge==ve?0:ge>ve^_?1:-1}function s(u,p,_,S){if(u<p||u>_||u!==mi(u))throw Error(zr+(S||"Argument")+(typeof u=="number"?u<p||u>_?" out of range: ":" not an integer: ":" not a primitive number: ")+String(u))}function m(u){var p=u.c.length-1;return ga(u.e/tr)==p&&u.c[p]%2!=0}function M(u,p){return(u.length>1?u.charAt(0)+"."+u.slice(1):u)+(p<0?"e":"e+")+p}function H(u,p,_){var S,P;if(p<0){for(P=_+".";++p;P+=_);u=P+u}else if(S=u.length,++p>S){for(P=_,p-=S;--p;P+=_);u+=P}else p<S&&(u=u.slice(0,p)+"."+u.slice(p));return u}var ae=hl(),Ce=ae,Ye=class{key;left=null;right=null;constructor(u){this.key=u}},xt=class extends Ye{constructor(u){super(u)}},It=class{size=0;modificationCount=0;splayCount=0;splay(u){let p=this.root;if(p==null)return this.compare(u,u),-1;let _=null,S=null,P=null,j=null,X=p,Z=this.compare,ge;for(;;)if(ge=Z(X.key,u),ge>0){let ve=X.left;if(ve==null||(ge=Z(ve.key,u),ge>0&&(X.left=ve.right,ve.right=X,X=ve,ve=X.left,ve==null)))break;_==null?S=X:_.left=X,_=X,X=ve}else if(ge<0){let ve=X.right;if(ve==null||(ge=Z(ve.key,u),ge<0&&(X.right=ve.left,ve.left=X,X=ve,ve=X.right,ve==null)))break;P==null?j=X:P.right=X,P=X,X=ve}else break;return P!=null&&(P.right=X.left,X.left=j),_!=null&&(_.left=X.right,X.right=S),this.root!==X&&(this.root=X,this.splayCount++),ge}splayMin(u){let p=u,_=p.left;for(;_!=null;){let S=_;p.left=S.right,S.right=p,p=S,_=p.left}return p}splayMax(u){let p=u,_=p.right;for(;_!=null;){let S=_;p.right=S.left,S.left=p,p=S,_=p.right}return p}_delete(u){if(this.root==null||this.splay(u)!=0)return null;let p=this.root,_=p,S=p.left;if(this.size--,S==null)this.root=p.right;else{let P=p.right;p=this.splayMax(S),p.right=P,this.root=p}return this.modificationCount++,_}addNewRoot(u,p){this.size++,this.modificationCount++;let _=this.root;if(_==null){this.root=u;return}p<0?(u.left=_,u.right=_.right,_.right=null):(u.right=_,u.left=_.left,_.left=null),this.root=u}_first(){let u=this.root;return u==null?null:(this.root=this.splayMin(u),this.root)}_last(){let u=this.root;return u==null?null:(this.root=this.splayMax(u),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(u){return this.validKey(u)&&this.splay(u)==0}defaultCompare(){return(u,p)=>u<p?-1:u>p?1:0}wrap(){return{getRoot:()=>this.root,setRoot:u=>{this.root=u},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:u=>{this.splayCount=u},splay:u=>this.splay(u),has:u=>this.has(u)}}},en=class Vu extends It{root=null;compare;validKey;constructor(p,_){super(),this.compare=p??this.defaultCompare(),this.validKey=_??(S=>S!=null&&S!=null)}delete(p){return this.validKey(p)?this._delete(p)!=null:!1}deleteAll(p){for(let _ of p)this.delete(_)}forEach(p){let _=this[Symbol.iterator](),S;for(;S=_.next(),!S.done;)p(S.value,S.value,this)}add(p){let _=this.splay(p);return _!=0&&this.addNewRoot(new xt(p),_),this}addAndReturn(p){let _=this.splay(p);return _!=0&&this.addNewRoot(new xt(p),_),this.root.key}addAll(p){for(let _ of p)this.add(_)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(p){if(p==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(p)<0)return this.root.key;let _=this.root.left;if(_==null)return null;let S=_.right;for(;S!=null;)_=S,S=_.right;return _.key}firstAfter(p){if(p==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(p)>0)return this.root.key;let _=this.root.right;if(_==null)return null;let S=_.left;for(;S!=null;)_=S,S=_.left;return _.key}retainAll(p){let _=new Vu(this.compare,this.validKey),S=this.modificationCount;for(let P of p){if(S!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(P)&&this.splay(P)==0&&_.add(this.root.key)}_.size!=this.size&&(this.root=_.root,this.size=_.size,this.modificationCount++)}lookup(p){return!this.validKey(p)||this.splay(p)!=0?null:this.root.key}intersection(p){let _=new Vu(this.compare,this.validKey);for(let S of this)p.has(S)&&_.add(S);return _}difference(p){let _=new Vu(this.compare,this.validKey);for(let S of this)p.has(S)||_.add(S);return _}union(p){let _=this.clone();return _.addAll(p),_}clone(){let p=new Vu(this.compare,this.validKey);return p.size=this.size,p.root=this.copyNode(this.root),p}copyNode(p){if(p==null)return null;function _(P,j){let X,Z;do{if(X=P.left,Z=P.right,X!=null){let ge=new xt(X.key);j.left=ge,_(X,ge)}if(Z!=null){let ge=new xt(Z.key);j.right=ge,P=Z,j=ge}}while(Z!=null)}let S=new xt(p.key);return _(p,S),S}toSet(){return this.clone()}entries(){return new kr(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Vn(this.wrap())}[Symbol.toStringTag]="[object Set]"},_n=class{tree;path=new Array;modificationCount=null;splayCount;constructor(u){this.tree=u,this.splayCount=u.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let u=this.path[this.path.length-1];return this.getValue(u)}rebuildPath(u){this.path.splice(0,this.path.length),this.tree.splay(u),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(u){for(;u!=null;)this.path.push(u),u=u.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let _=this.tree.getRoot();for(;_!=null;)this.path.push(_),_=_.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let u=this.path[this.path.length-1],p=u.right;if(p!=null){for(;p!=null;)this.path.push(p),p=p.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===u;)u=this.path.pop();return this.path.length>0}},Vn=class extends _n{getValue(u){return u.key}},kr=class extends _n{getValue(u){return[u.key,u.key]}},va=u=>u,$i=u=>{if(u){let p=new en(Qo(u)),_=new en(Qo(u)),S=(j,X)=>X.addAndReturn(j),P=j=>({x:S(j.x,p),y:S(j.y,_)});return P({x:new Ce(0),y:new Ce(0)}),P}return va},Aa=u=>({set:p=>{wi=Aa(p)},reset:()=>Aa(u),compare:Qo(u),snap:$i(u),orient:qo(u)}),wi=Aa(),Lo=(u,p)=>u.ll.x.isLessThanOrEqualTo(p.x)&&p.x.isLessThanOrEqualTo(u.ur.x)&&u.ll.y.isLessThanOrEqualTo(p.y)&&p.y.isLessThanOrEqualTo(u.ur.y),dl=(u,p)=>{if(p.ur.x.isLessThan(u.ll.x)||u.ur.x.isLessThan(p.ll.x)||p.ur.y.isLessThan(u.ll.y)||u.ur.y.isLessThan(p.ll.y))return null;let _=u.ll.x.isLessThan(p.ll.x)?p.ll.x:u.ll.x,S=u.ur.x.isLessThan(p.ur.x)?u.ur.x:p.ur.x,P=u.ll.y.isLessThan(p.ll.y)?p.ll.y:u.ll.y,j=u.ur.y.isLessThan(p.ur.y)?u.ur.y:p.ur.y;return{ll:{x:_,y:P},ur:{x:S,y:j}}},Co=(u,p)=>u.x.times(p.y).minus(u.y.times(p.x)),uo=(u,p)=>u.x.times(p.x).plus(u.y.times(p.y)),Xa=u=>uo(u,u).sqrt(),Au=(u,p,_)=>{let S={x:p.x.minus(u.x),y:p.y.minus(u.y)},P={x:_.x.minus(u.x),y:_.y.minus(u.y)};return Co(P,S).div(Xa(P)).div(Xa(S))},fl=(u,p,_)=>{let S={x:p.x.minus(u.x),y:p.y.minus(u.y)},P={x:_.x.minus(u.x),y:_.y.minus(u.y)};return uo(P,S).div(Xa(P)).div(Xa(S))},ni=(u,p,_)=>p.y.isZero()?null:{x:u.x.plus(p.x.div(p.y).times(_.minus(u.y))),y:_},aa=(u,p,_)=>p.x.isZero()?null:{x:_,y:u.y.plus(p.y.div(p.x).times(_.minus(u.x)))},Tu=(u,p,_,S)=>{if(p.x.isZero())return aa(_,S,u.x);if(S.x.isZero())return aa(u,p,_.x);if(p.y.isZero())return ni(_,S,u.y);if(S.y.isZero())return ni(u,p,_.y);let P=Co(p,S);if(P.isZero())return null;let j={x:_.x.minus(u.x),y:_.y.minus(u.y)},X=Co(j,p).div(P),Z=Co(j,S).div(P),ge=u.x.plus(Z.times(p.x)),ve=_.x.plus(X.times(S.x)),Ve=u.y.plus(Z.times(p.y)),je=_.y.plus(X.times(S.y)),vt=ge.plus(ve).div(2),St=Ve.plus(je).div(2);return{x:vt,y:St}},No=class cx{point;isLeft;segment;otherSE;consumedBy;static compare(p,_){let S=cx.comparePoints(p.point,_.point);return S!==0?S:(p.point!==_.point&&p.link(_),p.isLeft!==_.isLeft?p.isLeft?1:-1:cs.compare(p.segment,_.segment))}static comparePoints(p,_){return p.x.isLessThan(_.x)?-1:p.x.isGreaterThan(_.x)?1:p.y.isLessThan(_.y)?-1:p.y.isGreaterThan(_.y)?1:0}constructor(p,_){p.events===void 0?p.events=[this]:p.events.push(this),this.point=p,this.isLeft=_}link(p){if(p.point===this.point)throw new Error("Tried to link already linked events");let _=p.point.events;for(let S=0,P=_.length;S<P;S++){let j=_[S];this.point.events.push(j),j.point=this.point}this.checkForConsuming()}checkForConsuming(){let p=this.point.events.length;for(let _=0;_<p;_++){let S=this.point.events[_];if(S.segment.consumedBy===void 0)for(let P=_+1;P<p;P++){let j=this.point.events[P];j.consumedBy===void 0&&S.otherSE.point.events===j.otherSE.point.events&&S.segment.consume(j.segment)}}}getAvailableLinkedEvents(){let p=[];for(let _=0,S=this.point.events.length;_<S;_++){let P=this.point.events[_];P!==this&&!P.segment.ringOut&&P.segment.isInResult()&&p.push(P)}return p}getLeftmostComparator(p){let _=new Map,S=P=>{let j=P.otherSE;_.set(P,{sine:Au(this.point,p.point,j.point),cosine:fl(this.point,p.point,j.point)})};return(P,j)=>{_.has(P)||S(P),_.has(j)||S(j);let{sine:X,cosine:Z}=_.get(P),{sine:ge,cosine:ve}=_.get(j);return X.isGreaterThanOrEqualTo(0)&&ge.isGreaterThanOrEqualTo(0)?Z.isLessThan(ve)?1:Z.isGreaterThan(ve)?-1:0:X.isLessThan(0)&&ge.isLessThan(0)?Z.isLessThan(ve)?-1:Z.isGreaterThan(ve)?1:0:ge.isLessThan(X)?-1:ge.isGreaterThan(X)?1:0}}},ql=0,cs=class uh{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(p,_){let S=p.leftSE.point.x,P=_.leftSE.point.x,j=p.rightSE.point.x,X=_.rightSE.point.x;if(X.isLessThan(S))return 1;if(j.isLessThan(P))return-1;let Z=p.leftSE.point.y,ge=_.leftSE.point.y,ve=p.rightSE.point.y,Ve=_.rightSE.point.y;if(S.isLessThan(P)){if(ge.isLessThan(Z)&&ge.isLessThan(ve))return 1;if(ge.isGreaterThan(Z)&&ge.isGreaterThan(ve))return-1;let je=p.comparePoint(_.leftSE.point);if(je<0)return 1;if(je>0)return-1;let vt=_.comparePoint(p.rightSE.point);return vt!==0?vt:-1}if(S.isGreaterThan(P)){if(Z.isLessThan(ge)&&Z.isLessThan(Ve))return-1;if(Z.isGreaterThan(ge)&&Z.isGreaterThan(Ve))return 1;let je=_.comparePoint(p.leftSE.point);if(je!==0)return je;let vt=p.comparePoint(_.rightSE.point);return vt<0?1:vt>0?-1:1}if(Z.isLessThan(ge))return-1;if(Z.isGreaterThan(ge))return 1;if(j.isLessThan(X)){let je=_.comparePoint(p.rightSE.point);if(je!==0)return je}if(j.isGreaterThan(X)){let je=p.comparePoint(_.rightSE.point);if(je<0)return 1;if(je>0)return-1}if(!j.eq(X)){let je=ve.minus(Z),vt=j.minus(S),St=Ve.minus(ge),qt=X.minus(P);if(je.isGreaterThan(vt)&&St.isLessThan(qt))return 1;if(je.isLessThan(vt)&&St.isGreaterThan(qt))return-1}return j.isGreaterThan(X)?1:j.isLessThan(X)||ve.isLessThan(Ve)?-1:ve.isGreaterThan(Ve)?1:p.id<_.id?-1:p.id>_.id?1:0}constructor(p,_,S,P){this.id=++ql,this.leftSE=p,p.segment=this,p.otherSE=_,this.rightSE=_,_.segment=this,_.otherSE=p,this.rings=S,this.windings=P}static fromRing(p,_,S){let P,j,X,Z=No.comparePoints(p,_);if(Z<0)P=p,j=_,X=1;else if(Z>0)P=_,j=p,X=-1;else throw new Error(`Tried to create degenerate segment at [${p.x}, ${p.y}]`);let ge=new No(P,!0),ve=new No(j,!1);return new uh(ge,ve,[S],[X])}replaceRightSE(p){this.rightSE=p,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let p=this.leftSE.point.y,_=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:p.isLessThan(_)?p:_},ur:{x:this.rightSE.point.x,y:p.isGreaterThan(_)?p:_}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(p){return p.x.eq(this.leftSE.point.x)&&p.y.eq(this.leftSE.point.y)||p.x.eq(this.rightSE.point.x)&&p.y.eq(this.rightSE.point.y)}comparePoint(p){return wi.orient(this.leftSE.point,p,this.rightSE.point)}getIntersection(p){let _=this.bbox(),S=p.bbox(),P=dl(_,S);if(P===null)return null;let j=this.leftSE.point,X=this.rightSE.point,Z=p.leftSE.point,ge=p.rightSE.point,ve=Lo(_,Z)&&this.comparePoint(Z)===0,Ve=Lo(S,j)&&p.comparePoint(j)===0,je=Lo(_,ge)&&this.comparePoint(ge)===0,vt=Lo(S,X)&&p.comparePoint(X)===0;if(Ve&&ve)return vt&&!je?X:!vt&&je?ge:null;if(Ve)return je&&j.x.eq(ge.x)&&j.y.eq(ge.y)?null:j;if(ve)return vt&&X.x.eq(Z.x)&&X.y.eq(Z.y)?null:Z;if(vt&&je)return null;if(vt)return X;if(je)return ge;let St=Tu(j,this.vector(),Z,p.vector());return St===null||!Lo(P,St)?null:wi.snap(St)}split(p){let _=[],S=p.events!==void 0,P=new No(p,!0),j=new No(p,!1),X=this.rightSE;this.replaceRightSE(j),_.push(j),_.push(P);let Z=new uh(P,X,this.rings.slice(),this.windings.slice());return No.comparePoints(Z.leftSE.point,Z.rightSE.point)>0&&Z.swapEvents(),No.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),S&&(P.checkForConsuming(),j.checkForConsuming()),_}swapEvents(){let p=this.rightSE;this.rightSE=this.leftSE,this.leftSE=p,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let _=0,S=this.windings.length;_<S;_++)this.windings[_]*=-1}consume(p){let _=this,S=p;for(;_.consumedBy;)_=_.consumedBy;for(;S.consumedBy;)S=S.consumedBy;let P=uh.compare(_,S);if(P!==0){if(P>0){let j=_;_=S,S=j}if(_.prev===S){let j=_;_=S,S=j}for(let j=0,X=S.rings.length;j<X;j++){let Z=S.rings[j],ge=S.windings[j],ve=_.rings.indexOf(Z);ve===-1?(_.rings.push(Z),_.windings.push(ge)):_.windings[ve]+=ge}S.rings=null,S.windings=null,S.consumedBy=_,S.leftSE.consumedBy=_.leftSE,S.rightSE.consumedBy=_.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let p=this.prev.consumedBy||this.prev;this._beforeState=p.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let p=this.beforeState();this._afterState={rings:p.rings.slice(0),windings:p.windings.slice(0),multiPolys:[]};let _=this._afterState.rings,S=this._afterState.windings,P=this._afterState.multiPolys;for(let Z=0,ge=this.rings.length;Z<ge;Z++){let ve=this.rings[Z],Ve=this.windings[Z],je=_.indexOf(ve);je===-1?(_.push(ve),S.push(Ve)):S[je]+=Ve}let j=[],X=[];for(let Z=0,ge=_.length;Z<ge;Z++){if(S[Z]===0)continue;let ve=_[Z],Ve=ve.poly;if(X.indexOf(Ve)===-1)if(ve.isExterior)j.push(Ve);else{X.indexOf(Ve)===-1&&X.push(Ve);let je=j.indexOf(ve.poly);je!==-1&&j.splice(je,1)}}for(let Z=0,ge=j.length;Z<ge;Z++){let ve=j[Z].multiPoly;P.indexOf(ve)===-1&&P.push(ve)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let p=this.beforeState().multiPolys,_=this.afterState().multiPolys;switch(Vl.type){case"union":{let S=p.length===0,P=_.length===0;this._isInResult=S!==P;break}case"intersection":{let S,P;p.length<_.length?(S=p.length,P=_.length):(S=_.length,P=p.length),this._isInResult=P===Vl.numMultiPolys&&S<P;break}case"xor":{let S=Math.abs(p.length-_.length);this._isInResult=S%2===1;break}case"difference":{let S=P=>P.length===1&&P[0].isSubject;this._isInResult=S(p)!==S(_);break}}return this._isInResult}},Vs=class{poly;isExterior;segments;bbox;constructor(u,p,_){if(!Array.isArray(u)||u.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=p,this.isExterior=_,this.segments=[],typeof u[0][0]!="number"||typeof u[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let S=wi.snap({x:new Ce(u[0][0]),y:new Ce(u[0][1])});this.bbox={ll:{x:S.x,y:S.y},ur:{x:S.x,y:S.y}};let P=S;for(let j=1,X=u.length;j<X;j++){if(typeof u[j][0]!="number"||typeof u[j][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let Z=wi.snap({x:new Ce(u[j][0]),y:new Ce(u[j][1])});Z.x.eq(P.x)&&Z.y.eq(P.y)||(this.segments.push(cs.fromRing(P,Z,this)),Z.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=Z.x),Z.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=Z.y),Z.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=Z.x),Z.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=Z.y),P=Z)}(!S.x.eq(P.x)||!S.y.eq(P.y))&&this.segments.push(cs.fromRing(P,S,this))}getSweepEvents(){let u=[];for(let p=0,_=this.segments.length;p<_;p++){let S=this.segments[p];u.push(S.leftSE),u.push(S.rightSE)}return u}},Ul=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(u,p){if(!Array.isArray(u))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Vs(u[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let _=1,S=u.length;_<S;_++){let P=new Vs(u[_],this,!1);P.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=P.bbox.ll.x),P.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=P.bbox.ll.y),P.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=P.bbox.ur.x),P.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=P.bbox.ur.y),this.interiorRings.push(P)}this.multiPoly=p}getSweepEvents(){let u=this.exteriorRing.getSweepEvents();for(let p=0,_=this.interiorRings.length;p<_;p++){let S=this.interiorRings[p].getSweepEvents();for(let P=0,j=S.length;P<j;P++)u.push(S[P])}return u}},yc=class{isSubject;polys;bbox;constructor(u,p){if(!Array.isArray(u))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof u[0][0][0]=="number"&&(u=[u])}catch{}this.polys=[],this.bbox={ll:{x:new Ce(Number.POSITIVE_INFINITY),y:new Ce(Number.POSITIVE_INFINITY)},ur:{x:new Ce(Number.NEGATIVE_INFINITY),y:new Ce(Number.NEGATIVE_INFINITY)}};for(let _=0,S=u.length;_<S;_++){let P=new Ul(u[_],this);P.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=P.bbox.ll.x),P.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=P.bbox.ll.y),P.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=P.bbox.ur.x),P.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=P.bbox.ur.y),this.polys.push(P)}this.isSubject=p}getSweepEvents(){let u=[];for(let p=0,_=this.polys.length;p<_;p++){let S=this.polys[p].getSweepEvents();for(let P=0,j=S.length;P<j;P++)u.push(S[P])}return u}},Gl=class Qf{events;poly;_isExteriorRing;_enclosingRing;static factory(p){let _=[];for(let S=0,P=p.length;S<P;S++){let j=p[S];if(!j.isInResult()||j.ringOut)continue;let X=null,Z=j.leftSE,ge=j.rightSE,ve=[Z],Ve=Z.point,je=[];for(;X=Z,Z=ge,ve.push(Z),Z.point!==Ve;)for(;;){let vt=Z.getAvailableLinkedEvents();if(vt.length===0){let un=ve[0].point,vn=ve[ve.length-1].point;throw new Error(`Unable to complete output ring starting at [${un.x}, ${un.y}]. Last matching segment found ends at [${vn.x}, ${vn.y}].`)}if(vt.length===1){ge=vt[0].otherSE;break}let St=null;for(let un=0,vn=je.length;un<vn;un++)if(je[un].point===Z.point){St=un;break}if(St!==null){let un=je.splice(St)[0],vn=ve.splice(un.index);vn.unshift(vn[0].otherSE),_.push(new Qf(vn.reverse()));continue}je.push({index:ve.length,point:Z.point});let qt=Z.getLeftmostComparator(X);ge=vt.sort(qt)[0].otherSE;break}_.push(new Qf(ve))}return _}constructor(p){this.events=p;for(let _=0,S=p.length;_<S;_++)p[_].segment.ringOut=this;this.poly=null}getGeom(){let p=this.events[0].point,_=[p];for(let ve=1,Ve=this.events.length-1;ve<Ve;ve++){let je=this.events[ve].point,vt=this.events[ve+1].point;wi.orient(je,p,vt)!==0&&(_.push(je),p=je)}if(_.length===1)return null;let S=_[0],P=_[1];wi.orient(S,p,P)===0&&_.shift(),_.push(_[0]);let j=this.isExteriorRing()?1:-1,X=this.isExteriorRing()?0:_.length-1,Z=this.isExteriorRing()?_.length:-1,ge=[];for(let ve=X;ve!=Z;ve+=j)ge.push([_[ve].x.toNumber(),_[ve].y.toNumber()]);return ge}isExteriorRing(){if(this._isExteriorRing===void 0){let p=this.enclosingRing();this._isExteriorRing=p?!p.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let p=this.events[0];for(let P=1,j=this.events.length;P<j;P++){let X=this.events[P];No.compare(p,X)>0&&(p=X)}let _=p.segment.prevInResult(),S=_?_.prevInResult():null;for(;;){if(!_)return null;if(!S)return _.ringOut;if(S.ringOut!==_.ringOut)return S.ringOut?.enclosingRing()!==_.ringOut?_.ringOut:_.ringOut?.enclosingRing();_=S.prevInResult(),S=_?_.prevInResult():null}}},pl=class{exteriorRing;interiorRings;constructor(u){this.exteriorRing=u,u.poly=this,this.interiorRings=[]}addInterior(u){this.interiorRings.push(u),u.poly=this}getGeom(){let u=this.exteriorRing.getGeom();if(u===null)return null;let p=[u];for(let _=0,S=this.interiorRings.length;_<S;_++){let P=this.interiorRings[_].getGeom();P!==null&&p.push(P)}return p}},gl=class{rings;polys;constructor(u){this.rings=u,this.polys=this._composePolys(u)}getGeom(){let u=[];for(let p=0,_=this.polys.length;p<_;p++){let S=this.polys[p].getGeom();S!==null&&u.push(S)}return u}_composePolys(u){let p=[];for(let _=0,S=u.length;_<S;_++){let P=u[_];if(!P.poly)if(P.isExteriorRing())p.push(new pl(P));else{let j=P.enclosingRing();j?.poly||p.push(new pl(j)),j?.poly?.addInterior(P)}}return p}},Ru=class{queue;tree;segments;constructor(u,p=cs.compare){this.queue=u,this.tree=new en(p),this.segments=[]}process(u){let p=u.segment,_=[];if(u.consumedBy)return u.isLeft?this.queue.delete(u.otherSE):this.tree.delete(p),_;u.isLeft&&this.tree.add(p);let S=p,P=p;do S=this.tree.lastBefore(S);while(S!=null&&S.consumedBy!=null);do P=this.tree.firstAfter(P);while(P!=null&&P.consumedBy!=null);if(u.isLeft){let j=null;if(S){let Z=S.getIntersection(p);if(Z!==null&&(p.isAnEndpoint(Z)||(j=Z),!S.isAnEndpoint(Z))){let ge=this._splitSafely(S,Z);for(let ve=0,Ve=ge.length;ve<Ve;ve++)_.push(ge[ve])}}let X=null;if(P){let Z=P.getIntersection(p);if(Z!==null&&(p.isAnEndpoint(Z)||(X=Z),!P.isAnEndpoint(Z))){let ge=this._splitSafely(P,Z);for(let ve=0,Ve=ge.length;ve<Ve;ve++)_.push(ge[ve])}}if(j!==null||X!==null){let Z=null;j===null?Z=X:X===null?Z=j:Z=No.comparePoints(j,X)<=0?j:X,this.queue.delete(p.rightSE),_.push(p.rightSE);let ge=p.split(Z);for(let ve=0,Ve=ge.length;ve<Ve;ve++)_.push(ge[ve])}_.length>0?(this.tree.delete(p),_.push(u)):(this.segments.push(p),p.prev=S)}else{if(S&&P){let j=S.getIntersection(P);if(j!==null){if(!S.isAnEndpoint(j)){let X=this._splitSafely(S,j);for(let Z=0,ge=X.length;Z<ge;Z++)_.push(X[Z])}if(!P.isAnEndpoint(j)){let X=this._splitSafely(P,j);for(let Z=0,ge=X.length;Z<ge;Z++)_.push(X[Z])}}}this.tree.delete(p)}return _}_splitSafely(u,p){this.tree.delete(u);let _=u.rightSE;this.queue.delete(_);let S=u.split(p);return S.push(_),u.consumedBy===void 0&&this.tree.add(u),S}},od=class{type;numMultiPolys;run(u,p,_){Ws.type=u;let S=[new yc(p,!0)];for(let ge=0,ve=_.length;ge<ve;ge++)S.push(new yc(_[ge],!1));if(Ws.numMultiPolys=S.length,Ws.type==="difference"){let ge=S[0],ve=1;for(;ve<S.length;)dl(S[ve].bbox,ge.bbox)!==null?ve++:S.splice(ve,1)}if(Ws.type==="intersection")for(let ge=0,ve=S.length;ge<ve;ge++){let Ve=S[ge];for(let je=ge+1,vt=S.length;je<vt;je++)if(dl(Ve.bbox,S[je].bbox)===null)return[]}let P=new en(No.compare);for(let ge=0,ve=S.length;ge<ve;ge++){let Ve=S[ge].getSweepEvents();for(let je=0,vt=Ve.length;je<vt;je++)P.add(Ve[je])}let j=new Ru(P),X=null;for(P.size!=0&&(X=P.first(),P.delete(X));X;){let ge=j.process(X);for(let ve=0,Ve=ge.length;ve<Ve;ve++){let je=ge[ve];je.consumedBy===void 0&&P.add(je)}P.size!=0?(X=P.first(),P.delete(X)):X=null}wi.reset();let Z=Gl.factory(j.segments);return new gl(Z).getGeom()}},Ws=new od,Vl=Ws,sd=(u,...p)=>Vl.run("intersection",u,p),ld=(u,...p)=>Vl.run("difference",u,p);wi.set;function Wl(u){let p={type:"Feature"};return p.geometry=u,p}function Kl(u){return u.type==="Feature"?u.geometry:u}function _c(u){return u&&u.geometry&&u.geometry.coordinates?u.geometry.coordinates:u}function bc(u){return Wl({type:"LineString",coordinates:u})}function Xl(u){return Wl({type:"MultiLineString",coordinates:u})}function xc(u){return Wl({type:"Polygon",coordinates:u})}function wc(u){return Wl({type:"MultiPolygon",coordinates:u})}function Cc(u,p){let _=Kl(u),S=Kl(p),P=sd(_.coordinates,S.coordinates);return P.length===0?null:P.length===1?xc(P[0]):wc(P)}function E(u,p){let _=Kl(u),S=Kl(p),P=ld(_.coordinates,S.coordinates);return P.length===0?null:P.length===1?xc(P[0]):wc(P)}function A(u){return Array.isArray(u)?1+A(u[0]):-1}function W(u){u instanceof L.Polyline&&(u=u.toGeoJSON(15));let p=_c(u),_=A(p),S=[];return _>1?p.forEach(P=>{S.push(bc(P))}):S.push(u),S}function re(u){let p=[];return u.eachLayer(_=>{p.push(_c(_.toGeoJSON(15)))}),Xl(p)}vr.Cut=vr.Polygon.extend({initialize(u){this._map=u,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let u=this._layer.getLatLngs();if(u.length<=2)return;let p=L.polygon(u,this.options.pathOptions);p._latlngInfos=this._layer._latlngInfo,this.cut(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:S,originalLayer:P})=>{this._fireCut(P,S,P),this._fireCut(this._map,S,P),P.pm._fireEdit()}),this._editedLayers=[];let _=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(_))},cut(u){let p=this._map._layers,_=u._latlngInfos||[];Object.keys(p).map(S=>p[S]).filter(S=>S.pm).filter(S=>!S._pmTempLayer).filter(S=>!L.PM.optIn&&!S.options.pmIgnore||L.PM.optIn&&S.options.pmIgnore===!1).filter(S=>S instanceof L.Polyline).filter(S=>S!==u).filter(S=>S.pm.options.allowCutting).filter(S=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(S)>-1:!0).filter(S=>!this._layerGroup.hasLayer(S)).filter(S=>{try{let P=!!Oi(u.toGeoJSON(15),S.toGeoJSON(15)).features.length>0;return P||S instanceof L.Polyline&&!(S instanceof L.Polygon)?P:!!Cc(u.toGeoJSON(15),S.toGeoJSON(15))}catch{return S instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(S=>{let P;if(S instanceof L.Polygon){P=L.polygon(S.getLatLngs());let ge=P.getLatLngs();_.forEach(ve=>{if(ve&&ve.snapInfo){let{latlng:Ve}=ve,je=this._calcClosestLayer(Ve,[P]);if(je&&je.segment&&je.distance<this.options.snapDistance){let{segment:vt}=je;if(vt&&vt.length===2){let{indexPath:St,parentPath:qt,newIndex:un}=L.PM.Utils._getIndexFromSegment(ge,vt);(St.length>1?(0,Ka.default)(ge,qt):ge).splice(un,0,Ve)}}}})}else P=S;let j=this._cutLayer(u,P),X=L.geoJSON(j,S.options);X.getLayers().length===1&&([X]=X.getLayers()),this._setPane(X,"layerPane");let Z=X.addTo(this._map.pm._getContainingLayer());if(Z.pm.enable(S.pm.options),Z.pm.disable(),S._pmTempLayer=!0,u._pmTempLayer=!0,S.remove(),S.removeFrom(this._map.pm._getContainingLayer()),u.remove(),u.removeFrom(this._map.pm._getContainingLayer()),Z.getLayers&&Z.getLayers().length===0&&this._map.pm.removeLayer({target:Z}),Z instanceof L.LayerGroup?(Z.eachLayer(ge=>{this._addDrawnLayerProp(ge)}),this._addDrawnLayerProp(Z)):this._addDrawnLayerProp(Z),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let ge=this.options.layersToCut.indexOf(S);ge>-1&&this.options.layersToCut.splice(ge,1)}this._editedLayers.push({layer:Z,originalLayer:S})})},_cutLayer(u,p){let _=L.geoJSON(),S;if(p instanceof L.Polygon)S=E(p.toGeoJSON(15),u.toGeoJSON(15));else{let P=W(p);P.forEach(j=>{let X=B(j,u.toGeoJSON(15)),Z;X&&X.features.length>0?Z=L.geoJSON(X):Z=L.geoJSON(j),Z.getLayers().forEach(ge=>{Yt(u.toGeoJSON(15),ge.toGeoJSON(15))||ge.addTo(_)})}),P.length>1?S=re(_):S=_.toGeoJSON(15)}return S},_change:L.Util.falseFn}),vr.Text=vr.extend({initialize(u){this._map=u,this._shape="Text",this.toolbarButtonName="drawText"},enable(u){L.Util.setOptions(this,u),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Kn("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(u){this.enabled()?this.disable():this.enable(u)},_syncHintMarker(u){if(this._hintMarker.setLatLng(u.latlng),this.options.snappable){let p=u;p.target=this._hintMarker,this._handleSnapping(p)}},_createMarker(u){if(!u.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(u.latlng);let p=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let P=this.options.textOptions.className.split(" ");this.textArea.classList.add(...P)}let _=this._createTextIcon(this.textArea),S=new L.Marker(p,{textMarker:!0,_textMarkerOverPM:!0,icon:_});if(this._setPane(S,"markerPane"),this._finishLayer(S),S.pm||(S.options.draggable=!1),S.addTo(this._map.pm._getContainingLayer()),S.pm){S.pm.textArea=this.textArea,L.setOptions(S.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let P=this.options.textOptions?.focusAfterDraw??!0;S.pm._createTextMarker(P),this.options.textOptions?.text&&S.pm.setText(this.options.textOptions.text)}this._fireCreate(S),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(u){this.enable(),this._hintMarker.setLatLng(u.latlng)},_createTextArea(){let u=document.createElement("textarea");return u.readOnly=!0,u.classList.add("pm-textarea","pm-disabled"),u},_createTextIcon(u){return L.divIcon({className:"pm-text-marker",html:u})}});var _e={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,ze(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let u=this._getDOMElem();u&&(ze(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(u)):L.DomEvent.on(u,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,ze(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let u=this._getDOMElem();u&&(ze(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(u)):L.DomEvent.off(u,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(u){let p=u.touches?u.touches[0]:u,_={originalEvent:p,target:this._layer};return _.containerPoint=this._map.mouseEventToContainerPoint(p),_.latlng=this._map.containerPointToLatLng(_.containerPoint),this._dragMixinOnMouseDown(_),!1},_simulateMouseMoveEvent(u){let p=u.touches?u.touches[0]:u,_={originalEvent:p,target:this._layer};return _.containerPoint=this._map.mouseEventToContainerPoint(p),_.latlng=this._map.containerPointToLatLng(_.containerPoint),this._dragMixinOnMouseMove(_),!1},_simulateMouseUpEvent(u){let p={originalEvent:u.touches?u.touches[0]:u,target:this._layer};return u.type.indexOf("touch")===-1&&(p.containerPoint=this._map.mouseEventToContainerPoint(u),p.latlng=this._map.containerPointToLatLng(p.containerPoint)),this._dragMixinOnMouseUp(p),!1},_dragMixinOnMouseDown(u){if(u.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(u);let p=u._fromLayerSync,_=this._syncLayers("_dragMixinOnMouseDown",u);if(this._layer instanceof L.Marker&&(this.options.snappable&&!p&&!_?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let S="resizeableCircleMarker";this._layer instanceof L.Circle&&(S="resizeableCircle"),this.options.snappable&&!p&&!_?this._layer.pm.options[S]||this._initSnappableMarkersDrag():this._layer.pm.options[S]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=u.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(u){this._overwriteEventIfItComesFromMarker(u);let p=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",u),this._dragging||(this._dragging=!0,L.DomUtil.addClass(p,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=u.latlng),this._onLayerDrag(u),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(u){let p=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",u),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,p&&L.DomUtil.removeClass(p,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(u){let{latlng:p}=u,_={lat:p.lat-this._tempDragCoord.lat,lng:p.lng-this._tempDragCoord.lng},S=P=>P.map(j=>{if(Array.isArray(j))return S(j);let X={lat:j.lat+_.lat,lng:j.lng+_.lng};return(j.alt||j.alt===0)&&(X.alt=j.alt),X});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let P=S([this._layer.getLatLng()]);this._layer.setLatLng(P[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let P=this._layer.getLatLng();this._layer._snapped&&(P=this._layer._orgLatLng);let j=S([P]);this._layer.setLatLng(j[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let P=S([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(P),this._fireChange(this._layer.getBounds(),"Edit")}else{let P=S(this._layer.getLatLngs());this._layer.setLatLngs(P),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=p,u.layer=this._layer,this._fireDrag(u)},addDraggingClass(){let u=this._getDOMElem();u&&L.DomUtil.addClass(u,"leaflet-pm-draggable")},removeDraggingClass(){let u=this._getDOMElem();u&&L.DomUtil.removeClass(u,"leaflet-pm-draggable")},_getDOMElem(){let u=null;return this._layer._path?u=this._layer._path:this._layer._renderer&&this._layer._renderer._container?u=this._layer._renderer._container:this._layer._image?u=this._layer._image:this._layer._icon&&(u=this._layer._icon),u},_overwriteEventIfItComesFromMarker(u){u.target.getLatLng&&(!u.target._radius||u.target._radius<=10)&&(u.containerPoint=this._map.mouseEventToContainerPoint(u.originalEvent),u.latlng=this._map.containerPointToLatLng(u.containerPoint))},_syncLayers(u,p){if(this.enabled())return!1;if(!p._fromLayerSync&&this._layer===p.target&&this.options.syncLayersOnDrag){p._fromLayerSync=!0;let _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(S=>{S instanceof L.LayerGroup&&(_=_.concat(S.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let S in this._parentLayerGroup){let P=this._parentLayerGroup[S];P.pm&&(_=P.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(S=>!!S.pm).filter(S=>!!S.pm.options.draggable),_.forEach(S=>{S!==this._layer&&S.pm[u]&&(S._snapped=!1,S.pm[u](p))})),_.length>0}return!1},_stopDOMImageDrag(u){return u.preventDefault(),!1}},Ee=_e,Ne=g(Dr());function Oe(u,p,_,S){return _.unproject(p.transform(_.project(u,S)),S)}function De(u,p,_){let S=_.getMaxZoom();if(S===1/0&&(S=_.getZoom()),L.Util.isArray(u)){let P=[];return u.forEach(j=>{P.push(De(j,p,_))}),P}return u instanceof L.LatLng?Oe(u,p,_,S):null}function Ue(u,p){p instanceof L.Layer&&(p=p.getLatLng());let _=u.getMaxZoom();return _===1/0&&(_=u.getZoom()),u.project(p,_)}function ot(u,p){let _=u.getMaxZoom();return _===1/0&&(_=u.getZoom()),u.unproject(p,_)}var Nt={_onRotateStart(u){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Ue(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Ue(this._map,u.target.getLatLng()),this._initialRotateLatLng=z(this._layer),this._startAngle=this.getAngle();let p=z(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,p),this._fireRotationStart(this._map,p)},_onRotate(u){let p=Ue(this._map,u.target.getLatLng()),_=this._rotationStartPoint,S=this._rotationOriginPoint,P=Math.atan2(p.y-S.y,p.x-S.x)-Math.atan2(_.y-S.y,_.x-S.x);this._layer.setLatLngs(this._rotateLayer(P,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let j=this;function X(Ve,je=[],vt=-1){if(vt>-1&&je.push(vt),L.Util.isArray(Ve[0]))Ve.forEach((St,qt)=>X(St,je.slice(),qt));else{let St=je.length>0?(0,Ne.default)(j._markers,je):j._markers[0];Ve.forEach((qt,un)=>{St[un].setLatLng(qt)})}}X(this._layer.getLatLngs());let Z=z(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(P,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let ge=P*180/Math.PI;ge=ge<0?ge+360:ge;let ve=ge+this._startAngle;this._setAngle(ve),this._rotationLayer.pm._setAngle(ve),this._fireRotation(this._rotationLayer,ge,Z),this._fireRotation(this._map,ge,Z),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let u=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let p=z(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=z(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,u,p),this._fireRotationEnd(this._map,u,p),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(u,p,_,S,P){let j=Ue(P,_);return this._matrix=S.clone().rotate(u,j).flip(),De(p,this._matrix,P)},_setAngle(u){u=u<0?u+360:u,this._angle=u%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let u=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),p=u.getCenter();return u.removeFrom(this._layer._map),p},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(La(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let u={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),u),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=z(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(u){let p=this.getAngle(),_=this._layer.getLatLngs(),S=u*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(S,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+u),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(S,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let P=this.getAngle()-p;P=P<0?P+360:P,this._startAngle=p,this._fireRotation(this._layer,P,_,this._layer),this._fireRotation(this._map||this._layer._map,P,_,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(u){let p=u-this.getAngle();this.rotateLayer(p)},getAngle(){return this._angle||0},setInitAngle(u){this._setAngle(u)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(u){this._rotationCenter=u,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(u)}},Ge=Nt,ct=L.Class.extend({includes:[Ee,Sr,Ge,ka],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(u){L.Util.setOptions(this,u)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(u,p){p==="layerPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":p==="vertexPane"?u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":p==="markerPane"&&(u.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(u,p){let _=p.target,S={layer:this._layer,marker:_,event:p},P="";return u==="move"?P="moveVertexValidation":u==="add"?P="addVertexValidation":u==="remove"&&(P="removeVertexValidation"),this.options[P]&&typeof this.options[P]=="function"&&!this.options[P](S)?(u==="move"&&(_._cancelDragEventChain=_.getLatLng()),!1):(_._cancelDragEventChain=null,!0)},_vertexValidationDrag(u){return u._cancelDragEventChain?(u._latlng=u._cancelDragEventChain,u.update(),!1):!0},_vertexValidationDragEnd(u){return u._cancelDragEventChain?(u._cancelDragEventChain=null,!1):!0}}),dt=ct;dt.LayerGroup=L.Class.extend({initialize(u){this._layerGroup=u,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(S=>this._initLayer(S));let p=S=>{if(S.layer._pmTempLayer)return;this._layers=this.getLayers();let P=this._layers.filter(j=>!j.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in j.pm._parentLayerGroup));P.forEach(j=>{this._initLayer(j)}),P.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(p,100,this),this),this._layerGroup.on("layerremove",S=>{this._removeLayerFromGroup(S.target)},this);let _=S=>{S.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(_,100,this),this)},enable(u,p=[]){p.length===0&&(this._layers=this.getLayers()),this._options=u,this._layers.forEach(_=>{_ instanceof L.LayerGroup?p.indexOf(_._leaflet_id)===-1&&(p.push(_._leaflet_id),_.pm.enable(u,p)):_.pm.enable(u)})},disable(u=[]){u.length===0&&(this._layers=this.getLayers()),this._layers.forEach(p=>{p instanceof L.LayerGroup?u.indexOf(p._leaflet_id)===-1&&(u.push(p._leaflet_id),p.pm.disable(u)):p.pm.disable()})},enabled(u=[]){return u.length===0&&(this._layers=this.getLayers()),!!this._layers.find(p=>p instanceof L.LayerGroup?u.indexOf(p._leaflet_id)===-1?(u.push(p._leaflet_id),p.pm.enabled(u)):!1:p.pm.enabled())},toggleEdit(u,p=[]){p.length===0&&(this._layers=this.getLayers()),this._options=u,this._layers.forEach(_=>{_ instanceof L.LayerGroup?p.indexOf(_._leaflet_id)===-1&&(p.push(_._leaflet_id),_.pm.toggleEdit(u,p)):_.pm.toggleEdit(u)})},_initLayer(u){let p=L.Util.stamp(this._layerGroup);u.pm._parentLayerGroup||(u.pm._parentLayerGroup={}),u.pm._parentLayerGroup[p]=this._layerGroup},_removeLayerFromGroup(u){if(u.pm&&u.pm._layerGroup){let p=L.Util.stamp(this._layerGroup);delete u.pm._layerGroup[p]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(u=>u.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(u=>!!u._map)?._map||null},getLayers(u=!1,p=!0,_=!0,S=[]){let P=[];return u?this._layerGroup.getLayers().forEach(j=>{P.push(j),j instanceof L.LayerGroup&&S.indexOf(j._leaflet_id)===-1&&(S.push(j._leaflet_id),P=P.concat(j.pm.getLayers(!0,!0,!0,S)))}):P=this._layerGroup.getLayers(),_&&(P=P.filter(j=>!(j instanceof L.LayerGroup))),p&&(P=P.filter(j=>!!j.pm),P=P.filter(j=>!j._pmTempLayer),P=P.filter(j=>!L.PM.optIn&&!j.options.pmIgnore||L.PM.optIn&&j.options.pmIgnore===!1)),P},setOptions(u,p=[]){p.length===0&&(this._layers=this.getLayers()),this.options=u,this._layers.forEach(_=>{_.pm&&(_ instanceof L.LayerGroup?p.indexOf(_._leaflet_id)===-1&&(p.push(_._leaflet_id),_.pm.setOptions(u,p)):_.pm.setOptions(u))})}}),dt.Marker=dt.extend({_shape:"Marker",initialize(u){this._layer=u,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(u={draggable:!0}){if(L.Util.setOptions(this,u),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(u){let p=u.target;p.remove(),this._fireRemove(p),this._fireRemove(this._map,p)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let u=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,u.off("pm:drag",this._handleSnapping,this),u.on("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.on("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this),u.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let u=this._layer;u.off("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this)}});var Bt=g(Dr()),Lt={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let u=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=u.filter((p,_,S)=>S.indexOf(p)===_)},_removeFromCache(u){let p=this.markerCache.indexOf(u);p>-1&&this.markerCache.splice(p,1)},renderLimits(u){this.markerCache.forEach(p=>{u.includes(p)?this._markerGroup.addLayer(p):this._markerGroup.removeLayer(p)})},applyLimitFilters({latlng:u={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let p=[...this._filterClosestMarkers(u)];this.renderLimits(p)},_filterClosestMarkers(u){let p=[...this.markerCache],_=this.options.limitMarkersToCount;return _===-1?p:(p.sort((S,P)=>{let j=S._latlng.distanceTo(u),X=P._latlng.distanceTo(u);return j-X}),p.filter((S,P)=>_>-1?P<_:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(u){this._preventRenderMarkers=!!u}},Ht=Lt;dt.Line=dt.extend({includes:[Ht],_shape:"Line",initialize(u){this._layer=u,this._enabled=!1},enable(u){if(L.Util.setOptions(this,u),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let u=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(u,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(u){return this.enabled()?this.disable():this.enable(u),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let u=this._map,p=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(u),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let _=S=>{if(Array.isArray(S[0]))return S.map(_,this);let P=S.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&S.map((j,X)=>{let Z=this.isPolygon()?(X+1)%S.length:X+1;return this._createMiddleMarker(P[X],P[Z])}),P};this._markers=_(p),this.filterMarkerGroup(),u.addLayer(this._markerGroup)},_createMarker(u){let p=new L.Marker(u,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this.options.rotate?(p.on("dragstart",this._onRotateStart,this),p.on("drag",this._onRotate,this),p.on("dragend",this._onRotateEnd,this)):(p.on("click",this._onVertexClick,this),p.on("dragstart",this._onMarkerDragStart,this),p.on("move",this._onMarkerDrag,this),p.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||p.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(p),p},_createMiddleMarker(u,p){if(!u||!p)return!1;let _=L.PM.Utils.calcMiddleLatLng(this._map,u.getLatLng(),p.getLatLng()),S=this._createMarker(_),P=L.divIcon({className:"marker-icon marker-icon-middle"});return S.setIcon(P),S.leftM=u,S.rightM=p,u._middleMarkerNext=S,p._middleMarkerPrev=S,S.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),S.on("movestart",this._onMiddleMarkerMoveStart,this),S},_onMiddleMarkerClick(u){let p=u.target;if(!this._vertexValidation("add",u))return;let _=L.divIcon({className:"marker-icon"});p.setIcon(_),this._addMarker(p,p.leftM,p.rightM)},_onMiddleMarkerMoveStart(u){let p=u.target;if(p.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",u)){p.on("move",this._onMiddleMarkerMovePrevent,this);return}p._dragging=!0,this._addMarker(p,p.leftM,p.rightM)},_onMiddleMarkerMovePrevent(u){let p=u.target;this._vertexValidationDrag(p)},_onMiddleMarkerMoveEnd(u){let p=u.target;if(p.off("move",this._onMiddleMarkerMovePrevent,this),p.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(p))return;let _=L.divIcon({className:"marker-icon"});p.setIcon(_),setTimeout(()=>{delete p._dragging},100)},_addMarker(u,p,_){u.off("movestart",this._onMiddleMarkerMoveStart,this),u.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let S=u.getLatLng(),P=this._layer._latlngs;delete u.leftM,delete u.rightM;let{indexPath:j,index:X,parentPath:Z}=L.PM.Utils.findDeepMarkerIndex(this._markers,p),ge=j.length>1?(0,Bt.default)(P,Z):P,ve=j.length>1?(0,Bt.default)(this._markers,Z):this._markers;ge.splice(X+1,0,S),ve.splice(X+1,0,u),this._layer.setLatLngs(P),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(p,u),this._createMiddleMarker(u,_)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(u,L.PM.Utils.findDeepMarkerIndex(this._markers,u).indexPath,S),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Na(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(u){let p=this._layer,_,S;if(this.options.allowSelfIntersection?_=!1:(S=Na(this._layer.toGeoJSON(15)),_=S.features.length>0),_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return _;u?this._flashLayer():(p.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(S)}else p.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return _},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(u,p){u.forEach(_=>{Array.isArray(_)?this._updateDisabledMarkerStyle(_,p):_._icon&&(p&&!this._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker(u){let p=u.target;if(!this._vertexValidation("remove",u))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=z(this._layer,this._layer.getLatLngs()));let _=this._layer.getLatLngs(),{indexPath:S,index:P,parentPath:j}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);if(!S)return;let X=S.length>1?(0,Bt.default)(_,j):_,Z=S.length>1?(0,Bt.default)(this._markers,j):this._markers,ge=j[j.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!ge&&(X.length<=2||this.isPolygon()&&X.length<=3)){this._flashLayer();return}X.splice(P,1),this._layer.setLatLngs(_),this.isPolygon()&&X.length<=2&&X.splice(0,X.length);let ve=!1;if(X.length<=1&&(X.splice(0,X.length),j.length>1&&S.length>1&&(_=ua(_)),this._layer.setLatLngs(_),this._initMarkers(),ve=!0),hi(_)||this._layer.remove(),_=ua(_),this._layer.setLatLngs(_),this._markers=ua(this._markers),!ve&&(Z=S.length>1?(0,Bt.default)(this._markers,j):this._markers,p._middleMarkerPrev&&(this._markerGroup.removeLayer(p._middleMarkerPrev),this._removeFromCache(p._middleMarkerPrev)),p._middleMarkerNext&&(this._markerGroup.removeLayer(p._middleMarkerNext),this._removeFromCache(p._middleMarkerNext)),this._markerGroup.removeLayer(p),this._removeFromCache(p),Z)){let Ve,je;if(this.isPolygon()?(Ve=(P+1)%Z.length,je=(P+(Z.length-1))%Z.length):(je=P-1<0?void 0:P-1,Ve=P+1>=Z.length?void 0:P+1),Ve!==je){let vt=Z[je],St=Z[Ve];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(vt,St)}Z.splice(P,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(p,S),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(u){let p=this._layer.getLatLngs(),_=u.getLatLng(),{indexPath:S,index:P,parentPath:j}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);(S.length>1?(0,Bt.default)(p,j):p).splice(P,1,_),this._layer.setLatLngs(p)},_getNeighborMarkers(u){let{indexPath:p,index:_,parentPath:S}=L.PM.Utils.findDeepMarkerIndex(this._markers,u),P=p.length>1?(0,Bt.default)(this._markers,S):this._markers,j=(_+1)%P.length,X=(_+(P.length-1))%P.length,Z=P[X],ge=P[j];return{prevMarker:Z,nextMarker:ge}},_checkMarkerAllowedToDrag(u){let{prevMarker:p,nextMarker:_}=this._getNeighborMarkers(u),S=L.polyline([p.getLatLng(),u.getLatLng()]),P=L.polyline([u.getLatLng(),_.getLatLng()]),j=Oi(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length,X=Oi(this._layer.toGeoJSON(15),P.toGeoJSON(15)).features.length;return u.getLatLng()===this._markers[0][0].getLatLng()?X+=1:u.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(j+=1),!(j<=2&&X<=2)},_onMarkerDragStart(u){let p=u.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",u))return;let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragStart(u,_),this.options.allowSelfIntersection||(this._coordsBeforeEdit=z(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(p):this._markerAllowedToDrag=null},_onMarkerDrag(u){let p=u.target;if(!this._vertexValidationDrag(p))return;let{indexPath:_,index:S,parentPath:P}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);if(!_)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(p);let j=_.length>1?(0,Bt.default)(this._markers,P):this._markers,X=(S+1)%j.length,Z=(S+(j.length-1))%j.length,ge=p.getLatLng(),ve=j[Z].getLatLng(),Ve=j[X].getLatLng();if(p._middleMarkerNext){let je=L.PM.Utils.calcMiddleLatLng(this._map,ge,Ve);p._middleMarkerNext.setLatLng(je)}if(p._middleMarkerPrev){let je=L.PM.Utils.calcMiddleLatLng(this._map,ge,ve);p._middleMarkerPrev.setLatLng(je)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(u,_),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(u){let p=u.target;if(!this._vertexValidationDragEnd(p))return;let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p),S=!this.options.allowSelfIntersection&&this.hasSelfIntersection();S&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(S=!1);let P=!this.options.allowSelfIntersection&&S;if(this._fireMarkerDragEnd(u,_,P),P){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(u,_);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(u){let p=u.target;if(p._dragging)return;let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireVertexClick(u,_)}}),dt.Polygon=dt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(u){let{prevMarker:p,nextMarker:_}=this._getNeighborMarkers(u),S=L.polyline([p.getLatLng(),u.getLatLng()]),P=L.polyline([u.getLatLng(),_.getLatLng()]),j=Oi(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length,X=Oi(this._layer.toGeoJSON(15),P.toGeoJSON(15)).features.length;return!(j<=2&&X<=2)}}),dt.Rectangle=dt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let u=this._map,p=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,u.addLayer(this._markerGroup),this._markers=[],this._markers[0]=p.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((_,S)=>{let P=this._cornerMarkers.find(j=>j._index===S);P&&P.setLatLng(_)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(u,p){let _=new L.Marker(u,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(_,"vertexPane"),_._origLatLng=u,_._index=p,_._pmTempLayer=!0,_.on("click",this._onVertexClick,this),this._markerGroup.addLayer(_),_},_addMarkerEvents(){this._markers[0].forEach(u=>{u.on("dragstart",this._onMarkerDragStart,this),u.on("drag",this._onMarkerDrag,this),u.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||u.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(u){if(!this._vertexValidation("move",u))return;let p=u.target,_=this._cornerMarkers;p._oppositeCornerLatLng=_.find(P=>P._index===(p._index+2)%4).getLatLng(),p._snapped=!1;let{indexPath:S}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragStart(u,S)},_onMarkerDrag(u){let p=u.target;if(!this._vertexValidationDrag(p)||p._index===void 0)return;this._adjustRectangleForMarkerMove(p);let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDrag(u,_),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(u){let p=u.target;if(!this._vertexValidationDragEnd(p))return;this._cornerMarkers.forEach(S=>{delete S._oppositeCornerLatLng});let{indexPath:_}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragEnd(u,_),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(u){L.extend(u._origLatLng,u._latlng);let p=L.PM.Utils._getRotatedRectangle(u.getLatLng(),u._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(p),this._adjustAllMarkers(u),this._layer.redraw()},_adjustAllMarkers(u){let p=this._layer.getLatLngs()[0];if(p&&p.length!==4&&p.length>0)p.forEach((_,S)=>{this._cornerMarkers[S].setLatLng(_)}),this._cornerMarkers.slice(p.length).forEach(_=>{_.setLatLng(p[0])});else if(!p||!p.length)console.error("The layer has no LatLngs");else{let _=p.findIndex(S=>u.getLatLng().equals(S));_>-1?(this._cornerMarkers[(u._index+1)%4].setLatLng(p[(_+1)%4]),this._cornerMarkers[(u._index+2)%4].setLatLng(p[(_+2)%4]),this._cornerMarkers[(u._index+3)%4].setLatLng(p[(_+3)%4])):this._cornerMarkers.forEach(S=>{S.setLatLng(p[S._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(La(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let u=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(u[0],u[2],this.getAngle(),this._map||this)}}),dt.CircleMarker=dt.extend({_shape:"CircleMarker",initialize(u){this._layer=u,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(u={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,u),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let u=this._map;this._helperLayers&&(this._helperLayers.removeFrom(u),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(u);let p=this._layer.getLatLng(),_=this._layer._radius,S=this._getLatLngOnCircle(p,_);this._centerMarker=this._createCenterMarker(p),this._outerMarker=this._createOuterMarker(S),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(u,p){let _=this._map.project(u),S=L.point(_.x+p,_.y);return this._map.unproject(S)},_createHintLine(u,p){let _=u.getLatLng(),S=p.getLatLng();this._hintline=L.polyline([_,S],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(u){let p=this._createMarker(u);return this.options.draggable?(L.DomUtil.addClass(p._icon,"leaflet-pm-draggable"),p.on("move",this._moveCircle,this)):p.dragging.disable(),p},_createOuterMarker(u){let p=this._createMarker(u);return p.on("drag",this._resizeCircle,this),p},_createMarker(u){let p=new L.Marker(u,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._origLatLng=u,p._pmTempLayer=!0,p.on("dragstart",this._onMarkerDragStart,this),p.on("drag",this._onMarkerDrag,this),p.on("dragend",this._onMarkerDragEnd,this),p.on("click",this._onVertexClick,this),this._helperLayers.addLayer(p),p},_moveCircle(u){if(u.target._cancelDragEventChain)return;let p=this._centerMarker.getLatLng();this._layer.setLatLng(p);let _=this._layer._radius,S=this._getLatLngOnCircle(p,_);this._outerMarker._latlng=S,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let u=this._layer.getLatLng(),p=this._layer._radius,_=this._getLatLngOnCircle(u,p);this._outerMarker.setLatLng(_),this._centerMarker.setLatLng(u),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),_=this._distanceCalculation(u,p);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(_),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng();this._hintline.setLatLngs([u,p])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(u){this._vertexValidation("move",u)&&this._fireMarkerDragStart(u)},_onMarkerDrag(u){let p=u.target;p instanceof L.Marker&&!this._vertexValidationDrag(p)||this._fireMarkerDrag(u)},_onMarkerDragEnd(u){this._extedingMarkerDragEnd();let p=u.target;this._vertexValidationDragEnd(p)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(u))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let u=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,u.off("pm:drag",this._handleSnapping,this),u.on("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.on("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this),u.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let u=this._layer;u.off("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let u=this._layer._map||this._map;if(u){let p=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),u,this._layer.getLatLng()),_=L.circle(this._layer.getLatLng(),this._layer.options);_.setRadius(p);let S=u&&u.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(_,200,!S).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(_,200,!S),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),_=this._distanceCalculation(u,p);return this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?p=ro(this._map,u,p,this._getMinDistanceInMeter(u)):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&(p=ro(this._map,u,p,this._getMaxDistanceInMeter(u))),p},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let u=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),_=this._distanceCalculation(u,p);this.options[this._minRadiusOption]&&_<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&_>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(u,p){return this._map.project(u).distanceTo(this._map.project(p))},_getMinDistanceInMeter(u){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,u)},_getMaxDistanceInMeter(u){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,u)},_onVertexClick(u){u.target._dragging||this._fireVertexClick(u,void 0)}}),dt.Circle=dt.CircleMarker.extend({_shape:"Circle",initialize(u){this._layer=u,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(u){L.PM.Edit.CircleMarker.prototype.enable.call(this,u||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let u=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(u,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let u=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!u).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!u),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(u,p){return this._map.distance(u,p)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(u){u.target._dragging||this._fireVertexClick(u,void 0)}}),dt.ImageOverlay=dt.extend({_shape:"ImageOverlay",initialize(u){this._layer=u,this._enabled=!1},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},enabled(){return this._enabled},enable(u={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,u),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let u=this._layer.getBounds(),p=u.getNorthWest(),_=u.getNorthEast(),S=u.getSouthEast(),P=u.getSouthWest();return[p,_,S,P]}}),dt.Text=dt.extend({_shape:"Text",initialize(u){this._layer=u,this._enabled=!1},enable(u){if(L.Util.setOptions(this,u),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let u=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),u.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(u){this.enabled()?this.disable():this.enable(u)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let u=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,u.off("pm:drag",this._handleSnapping,this),u.on("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.on("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this),u.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let u=this._layer;u.off("pm:drag",this._handleSnapping,this),u.off("pm:dragend",this._cleanupSnapping,this),u.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let u=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,p=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${u}px`,this.textArea.style.width=`${p}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(u){u.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(u={}){let p=this._hasFocus;this._hasFocus=u.type==="focus",!p!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(u){u&&(this.textArea.value=u),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let p=this.options.className.split(" ");this.textArea.classList.add(...p)}let u=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(u),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(u=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),u===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(u){u.preventDefault()}});var Vt=function(u,p,_,S,P,j){this._matrix=[u,p,_,S,P,j]};Vt.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Vt.prototype={transform(u){return this._transform(u.clone())},_transform(u){let p=this._matrix,{x:_,y:S}=u;return u.x=p[0]*_+p[1]*S+p[4],u.y=p[2]*_+p[3]*S+p[5],u},untransform(u){let p=this._matrix;return new L.Point((u.x/p[0]-p[4])/p[0],(u.y/p[2]-p[5])/p[2])},clone(){let u=this._matrix;return new L.PM.Matrix(u[0],u[1],u[2],u[3],u[4],u[5])},translate(u){if(u===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let p,_;return typeof u=="number"?(p=u,_=u):(p=u.x,_=u.y),this._add(1,0,0,1,p,_)},scale(u,p){if(u===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let _,S;return p=p||L.point(0,0),typeof u=="number"?(_=u,S=u):(_=u.x,S=u.y),this._add(_,0,0,S,p.x,p.y)._add(1,0,0,1,-p.x,-p.y)},rotate(u,p){let _=Math.cos(u),S=Math.sin(u);return p=p||new L.Point(0,0),this._add(_,S,-S,_,p.x,p.y)._add(1,0,0,1,-p.x,-p.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(u,p,_,S,P,j){let X=[[],[],[]],Z=this._matrix,ge=[[Z[0],Z[2],Z[4]],[Z[1],Z[3],Z[5]],[0,0,1]],ve=[[u,_,P],[p,S,j],[0,0,1]],Ve;u&&u instanceof L.PM.Matrix&&(Z=u._matrix,ve=[[Z[0],Z[2],Z[4]],[Z[1],Z[3],Z[5]],[0,0,1]]);for(let je=0;je<3;je+=1)for(let vt=0;vt<3;vt+=1){Ve=0;for(let St=0;St<3;St+=1)Ve+=ge[je][St]*ve[St][vt];X[je][vt]=Ve}return this._matrix=[X[0][0],X[1][0],X[0][1],X[1][1],X[0][2],X[1][2]],this}};var on=Vt,rn={calcMiddleLatLng(u,p,_){let S=u.project(p),P=u.project(_);return u.unproject(S._add(P)._divideBy(2))},findLayers(u){let p=[];return u.eachLayer(_=>{(_ instanceof L.Polyline||_ instanceof L.Marker||_ instanceof L.Circle||_ instanceof L.CircleMarker||_ instanceof L.ImageOverlay)&&p.push(_)}),p=p.filter(_=>!!_.pm),p=p.filter(_=>!_._pmTempLayer),p=p.filter(_=>!L.PM.optIn&&!_.options.pmIgnore||L.PM.optIn&&_.options.pmIgnore===!1),p},circleToPolygon(u,p=60,_=!0){let S=u.getLatLng(),P=u.getRadius(),j=Bi(S,P,p,0,_),X=[];for(let Z=0;Z<j.length;Z+=1){let ge=[j[Z].lat,j[Z].lng];X.push(ge)}return L.polygon(X,u.options)},disablePopup(u){u.getPopup()&&(u._tempPopupCopy=u.getPopup(),u.unbindPopup())},enablePopup(u){u._tempPopupCopy&&(u.bindPopup(u._tempPopupCopy),delete u._tempPopupCopy)},_fireEvent(u,p,_,S=!1){u.fire(p,_,S);let{groups:P}=this.getAllParentGroups(u);P.forEach(j=>{j.fire(p,_,S)})},getAllParentGroups(u){let p=[],_=[],S=P=>{for(let j in P._eventParents)if(p.indexOf(j)===-1){p.push(j);let X=P._eventParents[j];_.push(X),S(X)}};return!u._pmLastGroupFetch||!u._pmLastGroupFetch.time||new Date().getTime()-u._pmLastGroupFetch.time>1e3?(S(u),u._pmLastGroupFetch={time:new Date().getTime(),groups:_,groupIds:p},{groupIds:p,groups:_}):{groups:u._pmLastGroupFetch.groups,groupIds:u._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Bi,getTranslation:Kn,findDeepCoordIndex(u,p,_=!0){let S,P=X=>(Z,ge)=>{let ve=X.concat(ge);if(_){if(Z.lat&&Z.lat===p.lat&&Z.lng===p.lng)return S=ve,!0}else if(Z.lat&&L.latLng(Z).equals(p))return S=ve,!0;return Array.isArray(Z)&&Z.some(P(ve))};u.some(P([]));let j={};return S&&(j={indexPath:S,index:S[S.length-1],parentPath:S.slice(0,S.length-1)}),j},findDeepMarkerIndex(u,p){let _,S=j=>(X,Z)=>{let ge=j.concat(Z);return X._leaflet_id===p._leaflet_id?(_=ge,!0):Array.isArray(X)&&X.some(S(ge))};u.some(S([]));let P={};return _&&(P={indexPath:_,index:_[_.length-1],parentPath:_.slice(0,_.length-1)}),P},_getIndexFromSegment(u,p){if(p&&p.length===2){let _=this.findDeepCoordIndex(u,p[0]),S=this.findDeepCoordIndex(u,p[1]),P=Math.max(_.index,S.index);return(_.index===0||S.index===0)&&P!==1&&(P+=1),{indexA:_,indexB:S,newIndex:P,indexPath:_.indexPath,parentPath:_.parentPath}}return null},_getRotatedRectangle(u,p,_,S){let P=Ue(S,u),j=Ue(S,p),X=_*Math.PI/180,Z=Math.cos(X),ge=Math.sin(X),ve=(j.x-P.x)*Z+(j.y-P.y)*ge,Ve=(j.y-P.y)*Z-(j.x-P.x)*ge,je=ve*Z+P.x,vt=ve*ge+P.y,St=-Ve*ge+P.x,qt=Ve*Z+P.y,un=ot(S,P),vn=ot(S,{x:je,y:vt}),Xn=ot(S,j),He=ot(S,{x:St,y:qt});return[un,vn,Xn,He]},pxRadiusToMeterRadius(u,p,_){let S=p.project(_),P=L.point(S.x+u,S.y);return p.distance(p.unproject(P),_)}},Hn=rn;L.PM=L.PM||{version:qi.version,Map:pt,Toolbar:Cn,Draw:vr,Edit:dt,Utils:Hn,Matrix:on,activeLang:"en",optIn:!1,initialize(u){this.addInitHooks(u)},setOptIn(u){this.optIn=!!u},addInitHooks(){function u(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(u);function p(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(p);function _(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(_);function S(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(S);function P(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(P);function j(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(j);function X(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(X);function Z(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(Z);function ge(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(ge)},reInitLayer(u){u instanceof L.LayerGroup&&u.eachLayer(p=>{this.reInitLayer(p)}),u.pm||L.PM.optIn&&u.options.pmIgnore!==!1||u.options.pmIgnore||(u instanceof L.Map?u.pm=new L.PM.Map(u):u instanceof L.Marker?u.options.textMarker?(u.pm=new L.PM.Edit.Text(u),u.pm._initTextMarker(),u.pm._createTextMarker(!1)):u.pm=new L.PM.Edit.Marker(u):u instanceof L.Circle?u.pm=new L.PM.Edit.Circle(u):u instanceof L.CircleMarker?u.pm=new L.PM.Edit.CircleMarker(u):u instanceof L.Rectangle?u.pm=new L.PM.Edit.Rectangle(u):u instanceof L.Polygon?u.pm=new L.PM.Edit.Polygon(u):u instanceof L.Polyline?u.pm=new L.PM.Edit.Line(u):u instanceof L.LayerGroup?u.pm=new L.PM.Edit.LayerGroup(u):u instanceof L.ImageOverlay&&(u.pm=new L.PM.Edit.ImageOverlay(u)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(u){let p=this._map.mouseEventToLayerPoint(u),_,S;for(let P=this._drawFirst;P;P=P.next)_=P.layer,_.options.interactive&&_._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(_))&&(S=_);S&&(L.DomEvent.fakeStop(u),this._fireEvent([S],u))}}),L.PM.initialize()})()),$v}SA();const EA=()=>{console.log("Geoman initialized globally")},{Footer:kA}=qs;function LA(){return Ie.jsxs(kA,{style:{textAlign:"center"},children:[Ie.jsxs("p",{children:["Semaphore GIS Portal  2025 ",Ie.jsx("br",{}),"Designed & Developed by"," ",Ie.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"Geo-Spatial Technology and Services Division, Semaphore Computers PVT LTD."})]}),Ie.jsx("span",{children:"3, Gokul Baral Street, 1st Floor, Kolkata 700012"})]})}const{Sider:NA,Content:MA,Header:PA,Footer:DA}=qs,IA=b.memo(()=>{const{token:{colorBgContainer:e,borderRadiusLG:t}}=_1.useToken(),{portal_nm:n}=xx(),r=wx(),i=Ko(),{sidebarCollapsed:l}=$r(g=>g.map);b.useEffect(()=>{n&&i(Cx(n))},[n]),b.useEffect(()=>{document.title="GIS Dashboard"},[]),b.useEffect(()=>{EA()},[]);const h=[{key:"0",icon:Ot.createElement(BM),label:"Attributes",onClick:()=>{i(gf({state:!1})),i(pf({state:!0}))}},{key:"1",icon:Ot.createElement(wM),label:"Measure",onClick:()=>i(Hv())},{key:"2",icon:Ot.createElement(kM),label:"Legends",onClick:()=>i(Sx())},{key:"3",icon:Ot.createElement(SM),label:"Clear",onClick:()=>window.location.reload()},{key:"4",icon:Ot.createElement(NM),label:"Print",onClick:()=>{i(ff())}},{key:"5",icon:Ot.createElement(PM),label:"Buffer",onClick:()=>{i(pf({state:!1})),i(gf({state:!0}))}}],c=g=>{i(sg())};return Ie.jsxs(qs,{className:"gis-layout",style:{minHeight:"100vh"},children:[Ie.jsx(NA,{style:{backgroundColor:"white"},width:400,breakpoint:"lg",collapsed:l,collapsedWidth:0,onCollapse:c,children:Ie.jsx(sx,{})}),Ie.jsxs(qs,{children:[Ie.jsx(PA,{style:{padding:"0 16px",background:e},children:Ie.jsxs(ku,{align:"middle",justify:"space-between",wrap:!1,style:{width:"100%"},children:[Ie.jsx(gs,{children:Ie.jsxs(_a,{align:"center",size:12,children:[Ie.jsx(sa,{title:"Back",children:Ie.jsx(ii,{type:"text",onClick:()=>{r(-1),i(Ex())},icon:Ie.jsx(_u,{})})}),Ie.jsx(sa,{title:l?"Open sidebar":"Collapse sidebar",children:Ie.jsx(ii,{type:"text",onClick:()=>i(sg()),icon:l?Ie.jsx(IN,{}):Ie.jsx(NN,{})})}),Ie.jsx("div",{children:Ie.jsx(Bl,{mode:"horizontal",items:h,selectable:!1,style:{borderBottom:"none",background:"transparent"}})})]})}),Ie.jsx(gs,{children:Ie.jsx(_a,{align:"middle",children:Ie.jsx(Qx,{icon:Ie.jsx(Z2,{})})})})]})}),Ie.jsx(MA,{style:{margin:"24px 16px 0"},children:Ie.jsx("div",{style:{width:"100%",height:"100%",minHeight:360,background:e,borderRadius:t},children:Ie.jsx(ux,{})})}),Ie.jsx(LA,{})]})]})});IA.displayName="GisDashboard";export{IA as default};
