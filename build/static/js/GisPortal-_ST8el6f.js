import{r as a,j as e,a as I,u as V,b as $,d as z}from"./index-BRGAo0kf.js";import{l as q}from"./company-logo-KEAY73Y6.js";import{S as f,g as F,A as M,C as U}from"./index-H5GdlMf7.js";import{t as W,C as H,o as K,p as L,f as Q,R as X,I as Y}from"./UserOutlined-BZbMPuz2.js";const{Option:w}=f;function E(s){return s?.type&&(s.type.isSelectOption||s.type.isSelectOptGroup)}const Z=(s,t)=>{var n,l;const{prefixCls:j,className:u,popupClassName:C,dropdownClassName:S,children:g,dataSource:x,dropdownStyle:m,dropdownRender:r,popupRender:h,onDropdownVisibleChange:N,onOpenChange:o,styles:c,classNames:d}=s,p=W(g),v=((n=c?.popup)===null||n===void 0?void 0:n.root)||m,G=((l=d?.popup)===null||l===void 0?void 0:l.root)||C||S,A=h||r,D=o||N;let y;p.length===1&&a.isValidElement(p[0])&&!E(p[0])&&([y]=p);const B=y?()=>y:void 0;let O;p.length&&E(p[0])?O=g:O=x?x.map(i=>{if(a.isValidElement(i))return i;switch(typeof i){case"string":return a.createElement(w,{key:i,value:i},i);case"object":{const{value:b}=i;return a.createElement(w,{key:b,value:b},i.text)}default:return}}):[];const{getPrefixCls:k}=a.useContext(H),P=k("select",j),[T]=K("SelectLike",v?.zIndex);return a.createElement(f,Object.assign({ref:t,suffixIcon:null},L(s,["dataSource","dropdownClassName","popupClassName"]),{prefixCls:P,classNames:{popup:{root:G},root:d?.root},styles:{popup:{root:Object.assign(Object.assign({},v),{zIndex:T})},root:c?.root},className:Q(`${P}-auto-complete`,u),mode:f.SECRET_COMBOBOX_MODE_DO_NOT_USE,popupRender:A,onOpenChange:D,getInputElement:B}),O)},R=a.forwardRef(Z),{Option:J}=f,ee=F(R,"dropdownAlign",s=>L(s,["visible"])),_=R;_.Option=J;_._InternalPanelDoNotUseOrYouWillBeFired=ee;const se=()=>e.jsxs("header",{className:"header-bar",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("div",{className:"gov-logo",children:e.jsx("img",{src:q,alt:"NIC Logo",className:"header-right-log"})}),e.jsx("div",{className:"header-text",children:e.jsx("h2",{children:"Semaphore GIS Portal"})})]}),e.jsx(M,{icon:e.jsx(X,{})})]}),te=({portal:s})=>{I();const t=V(),n=()=>{t(`/gis-dashboard/${s?.portal_nm}`)};return e.jsxs(U,{onClick:n,className:"state-card",hoverable:!0,variant:!1,children:[e.jsx("img",{src:s?.portal_logo_img_url,alt:s?.portal_nm,className:"state-image"}),e.jsx("p",{className:"state-name",children:s?.portal_nm})]})},oe=({portalList:s=[]})=>e.jsx("div",{className:"state-grid",children:s.map(t=>e.jsx(te,{portal:t},t?.portal_id))}),ae=()=>e.jsxs("footer",{className:"footer-bar",children:[e.jsxs("p",{children:["Semaphore GIS Portal Â© 2025 ",e.jsx("br",{}),"Designed & Developed by"," ",e.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"Geo-Spatial Technology and Services Division, Semaphore Computers PVT LTD."})]}),e.jsx("span",{children:"3, Gokul Baral Street, 1st Floor, Kolkata 700012"})]}),re=$.injectEndpoints({endpoints:s=>({getPortals:s.query({query:()=>"portal/list/",providesTags:["Portal"]}),getPortalById:s.query({query:t=>`portal/${t}/`,providesTags:(t,n,l)=>[{type:"Portal",id:l}]})})}),{useGetPortalsQuery:ne}=re,pe=()=>{const s=I(),{data:t=[],isLoading:n,error:l}=ne(),[j,u]=a.useState([]),[C,S]=a.useState([]);a.useEffect(()=>{document.title="GIS Portal",t.length&&(s(z(t)),u(t))},[t]);const g=m=>{const r=m.toLowerCase(),h=t.filter(o=>o.portal_nm.toLowerCase().includes(r)||o.portal_desc.toLowerCase().includes(r)).map(o=>({value:o.portal_id,label:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:o.portal_nm}),e.jsx("span",{children:o.portal_desc})]})}));S(h);const N=r?t.filter(o=>o.portal_nm.toLowerCase().includes(r)||o.portal_desc.toLowerCase().includes(r)):t;u(N)},x=m=>{const r=t.filter(h=>h.portal_id===m);u(r)};return n?e.jsx("div",{children:"Loading..."}):l?e.jsxs("div",{children:["Error: ",l.message]}):e.jsxs("div",{className:"gis-portal-container",children:[e.jsx(se,{}),e.jsx("div",{className:"search-container",children:e.jsx(_,{popupMatchSelectWidth:400,style:{width:400},options:C,onSelect:x,onSearch:g,children:e.jsx(Y.Search,{size:"large",placeholder:"Search portals by name or description",enterButton:!0})})}),e.jsx(oe,{portalList:j}),e.jsx(ae,{})]})};export{pe as default};
